"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[356],{90356:(M,c,a)=>{a.r(c),a.d(c,{GrupoEspecializadoModule:()=>p});var f=a(76733),y=a(58568),O=a(72133),h=a(55579),l=a(1391),r=a(2314),v=a(73150),T=a(78509),G=a(64368);class d extends G.X{constructor(i){super(),this.nome="",this.ativo=1,this.initialization(i)}}var g=a(51353),t=a(20755),A=a(57224),b=a(83351),F=a(57765),Q=a(45512),R=a(42704),z=a(92392);function N(E,i){1&E&&t._UZ(0,"toolbar")}class m extends T.E{constructor(i){super(i,d,g.n),this.injector=i,this.filterWhere=o=>{let e=[],s=o.value;return s.nome?.length&&e.push(["nome","like","%"+s.nome.trim().replace(" ","%")+"%"]),e},this.title=this.lex.translate("Grupos Especializados"),this.code="MOD_RX_CURR",this.filter=this.fh.FormBuilder({nome:{default:""}}),this.addOption(this.OPTION_INFORMACOES),this.addOption(this.OPTION_EXCLUIR,"MOD_RX_OUT_EXCL")}filterClear(i){i.controls.nome.setValue(""),super.filterClear(i)}static#t=this.\u0275fac=function(o){return new(o||m)(t.Y36(t.zs3))};static#e=this.\u0275cmp=t.Xpm({type:m,selectors:[["grupo-especializado-list"]],viewQuery:function(o,e){if(1&o&&t.Gf(v.M,5),2&o){let s;t.iGM(s=t.CRH())&&(e.grid=s.first)}},features:[t.qOj],decls:9,vars:23,consts:[[3,"dao","add","title","orderBy","groupBy","join","selectable","hasAdd","hasEdit","select"],[4,"ngIf"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["label","Nome do Centro de Treinamento","controlName","nome","placeholder","Nome/Sigla",3,"size","control"],["title","Nome/Sigla do Grupo Especializado","field","nome","orderBy","nome"],["type","options",3,"onEdit","options"],[3,"rows"]],template:function(o,e){1&o&&(t.TgZ(0,"grid",0),t.NdJ("select",function(J){return e.onSelect(J)}),t.YNc(1,N,1,0,"toolbar",1),t.TgZ(2,"filter",2)(3,"div",3),t._UZ(4,"input-text",4),t.qZA()(),t.TgZ(5,"columns"),t._UZ(6,"column",5)(7,"column",6),t.qZA(),t._UZ(8,"pagination",7),t.qZA()),2&o&&(t.Q6J("dao",e.dao)("add",e.add)("title",e.isModal?"":e.title)("orderBy",e.orderBy)("groupBy",e.groupBy)("join",e.join)("selectable",e.selectable)("hasAdd",e.auth.hasPermissionTo("MOD_RX_OUT_INCL"))("hasEdit",e.auth.hasPermissionTo("MOD_RX_OUT_EDT")),t.xp6(1),t.Q6J("ngIf",!e.selectable),t.xp6(1),t.Q6J("deleted",e.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",e.filter)("where",e.filterWhere)("submit",e.filterSubmit.bind(e))("clear",e.filterClear.bind(e))("collapseChange",e.filterCollapseChange.bind(e))("collapsed",!e.selectable&&e.filterCollapsed),t.xp6(2),t.Q6J("size",6)("control",e.filter.controls.nome),t.uIk("maxlength",250),t.xp6(3),t.Q6J("onEdit",e.edit)("options",e.options),t.xp6(1),t.Q6J("rows",e.rowsLimit))},dependencies:[f.O5,v.M,A.a,b.b,F.z,Q.n,R.Q,z.m]})}var C=a(74040),Z=a(1184),B=a(88820);class n extends Z.F{constructor(i){super(i,d,g.n),this.injector=i,this.titulos=[],this.validate=(o,e)=>{let s=null;return["nome"].indexOf(e)>=0&&!o.value?.length&&(s="Obrigat\xf3rio"),s},this.titleEdit=o=>"Editando "+(o?.nome||""),this.form=this.fh.FormBuilder({nome:{default:""},ativo:{default:!0}},this.cdRef,this.validate)}loadData(i,o){let e=Object.assign({},o.value);o.patchValue(this.util.fillForm(e,i))}initializeData(i){i.patchValue(new d)}saveData(i){return new Promise((o,e)=>{const s=this.util.fill(new d,this.entity);o(this.util.fillForm(s,this.form.value))})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(t.zs3))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["grupo-especializado-form"]],viewQuery:function(o,e){if(1&o&&t.Gf(C.Q,5),2&o){let s;t.iGM(s=t.CRH())&&(e.editableForm=s.first)}},features:[t.qOj],decls:4,vars:6,consts:[["initialFocus","nome",3,"form","disabled","title","submit","cancel"],[1,"row"],["label","Nome do Grupo Especializado","controlName","nome","required","",3,"size"],["labelPosition","left","label","Ativo","controlName","ativo",3,"size"]],template:function(o,e){1&o&&(t.TgZ(0,"editable-form",0),t.NdJ("submit",function(){return e.onSaveData()})("cancel",function(){return e.onCancel()}),t.TgZ(1,"div",1),t._UZ(2,"input-text",2)(3,"input-switch",3),t.qZA()()),2&o&&(t.Q6J("form",e.form)("disabled",e.formDisabled)("title",e.isModal?"":e.title),t.xp6(2),t.Q6J("size",10),t.uIk("maxlength",250),t.xp6(1),t.Q6J("size",2))},dependencies:[C.Q,B.a,z.m]})}const D=[{path:"",component:m,canActivate:[l.a],resolve:{config:r.o},runGuardsAndResolvers:"always",data:{title:"Lista",modal:!1}},{path:"new",component:n,canActivate:[l.a],resolve:{config:r.o},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o",modal:!0}},{path:":id/edit",component:n,canActivate:[l.a],resolve:{config:r.o},runGuardsAndResolvers:"always",data:{title:"Edi\xe7\xe3o",modal:!0}},{path:":id/consult",component:n,canActivate:[l.a],resolve:{config:r.o},runGuardsAndResolvers:"always",data:{title:"Consultar",modal:!0}}];class u{static#t=this.\u0275fac=function(o){return new(o||u)};static#e=this.\u0275mod=t.oAB({type:u});static#o=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(D),h.Bz]})}class p{static#t=this.\u0275fac=function(o){return new(o||p)};static#e=this.\u0275mod=t.oAB({type:p});static#o=this.\u0275inj=t.cJS({imports:[f.ez,y.K,O.UX,u]})}}}]);