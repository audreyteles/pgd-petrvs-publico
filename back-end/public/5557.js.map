{"version":3,"file":"5557.js","mappings":"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","sources":["./src/app/models/atividade-tarefa.model.ts","./src/app/modules/gestao/atividade/atividade-list-base.ts","./src/app/modules/gestao/atividade/atividade-list-grid/atividade-list-grid.component.ts","./src/app/modules/gestao/atividade/atividade-list-grid/atividade-list-grid.component.html"],"sourcesContent":["import { Base } from './base.model';\r\nimport { Comentario, HasComentarios } from './comentario';\r\nimport { Atividade } from './atividade.model';\r\nimport { TipoTarefa } from './tipo-tarefa.model';\r\nimport { Usuario } from './usuario.model';\r\nimport { Documento } from './documento.model';\r\n\r\nexport class AtividadeTarefa extends Base implements HasComentarios {\r\n    public atividade?: Atividade;\r\n    public usuario?: Usuario;\r\n    public tipo_tarefa?: TipoTarefa;\r\n    public documento: Documento | null = null ; /* Documento de entrga */ \r\n    public comentarios: Comentario[] = []; /* Comentarios da tarefa */\r\n\r\n    public descricao: string | null = null; /* Descrição da tarefa */\r\n    public data_lancamento: Date = new Date(); /* Data hora do lançamento da tarefa */\r\n    public tempo_estimado: number = 0; /* Tempo estimado para a execução da tarefa (Horas decimais) */\r\n    public data_conclusao: Date | null = null; /* Data de conclusao */\r\n\r\n    public documento_id: string | null = null ; /* Documento de entrga */ \r\n    public atividade_id: string = \"\"; /* Atividade */\r\n    public usuario_id: string = \"\"; /* Usuário */\r\n    public tipo_tarefa_id: string | null = null; /* Tarefa */\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}\r\n","import { Injector, TemplateRef } from '@angular/core';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { Atividade, Checklist } from 'src/app/models/atividade.model';\r\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\r\nimport { CalendarService, Efemerides, FeriadoList } from 'src/app/services/calendar.service';\r\nimport { Afastamento } from 'src/app/models/afastamento.model';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\r\nimport { TipoProcessoDaoService } from 'src/app/dao/tipo-processo-dao.service';\r\nimport { ComentarioService } from 'src/app/services/comentario.service';\r\nimport { BadgeButton } from 'src/app/components/badge/badge.component';\r\nimport { TipoAtividadeDaoService } from 'src/app/dao/tipo-atividade-dao.service';\r\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\r\nimport { AtividadeOptionsMetadata, AtividadeService, ExtraAtividade } from './atividade.service';\r\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\r\n\r\nexport abstract class AtividadeListBase extends PageListBase<Atividade, AtividadeDaoService> {\r\n  public calendarEfemerides?: TemplateRef<any>;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public usuarioDao: UsuarioDaoService;\r\n  public planoTrabalhoDao: PlanoTrabalhoDaoService;\r\n  public tipoAtividadeDao: TipoAtividadeDaoService;\r\n  public tipoProcessoDao: TipoProcessoDaoService;\r\n  public allPages: ListenerAllPagesService;\r\n  public atividadeService: AtividadeService;\r\n  public calendar: CalendarService;\r\n  public comentario: ComentarioService;\r\n  public extra: ExtraAtividade;\r\n  public etiquetas: LookupItem[] = [];\r\n  public checklist?: Checklist[];\r\n  public efemerides?: Efemerides;\r\n  public optionsMetadata: AtividadeOptionsMetadata;\r\n  public addComentarioButton: ToolbarButton = {\r\n    icon: \"bi bi-plus-circle\",\r\n    hint: \"Incluir comentário\"\r\n  }\r\n  public DATAS_FILTRO: LookupItem[] = [\r\n    { key: \"DISTRIBUICAO\", value: \"Distribuição\", icon: \"bi bi-file-earmark-plus\", color: \"badge rounded-pill bg-warning text-dark\" },\r\n    { key: \"PRAZO\", value: \"Prazo\", icon: \"bi bi-calendar-check\", color: \"badge rounded-pill bg-info text-dark\" },\r\n    { key: \"CONCLUSAO\", value: \"Conclusão\", icon: \"bi bi-check-circle\", color: \"badge rounded-pill bg-info text-dark\" }\r\n  ];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Atividade, AtividadeDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\r\n    this.tipoAtividadeDao = injector.get<TipoAtividadeDaoService>(TipoAtividadeDaoService);\r\n    this.tipoProcessoDao = injector.get<TipoProcessoDaoService>(TipoProcessoDaoService);\r\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\r\n    this.atividadeService = injector.get<AtividadeService>(AtividadeService);\r\n    this.calendar = injector.get<CalendarService>(CalendarService);\r\n    this.comentario = injector.get<ComentarioService>(ComentarioService);\r\n    this.join = [\"tipo_atividade\", \"plano_trabalho_entrega.plano_entrega_entrega:id,descricao\", \"demandante\", \"pausas\", \"usuario\", \"unidade\", \"comentarios.usuario:id,nome,apelido\", \"tarefas.tipo_tarefa\", \"tarefas.comentarios.usuario:id,nome,apelido\", \"reacoes.usuario:id,nome,apelido\"];\r\n    /* Inicializações */\r\n    this.extra = { planos_trabalho: {}, afastamentos: {} };\r\n    this.optionsMetadata = {\r\n      refreshId: ((id: string) => (this.grid?.query || this.query!).refreshId(id)).bind(this),\r\n      removeId: ((id: string) => (this.grid?.query || this.query!).removeId(id)).bind(this),\r\n      refresh: this.refresh.bind(this)\r\n    }\r\n  }\r\n\r\n  public onGridLoad(rows?: any[]) {\r\n    /* Ordena os comentários */\r\n    rows?.forEach((atividade: Atividade) => {\r\n      atividade.comentarios = this.comentario.orderComentarios(atividade.comentarios);\r\n    });\r\n    /* Recebe informações extra da query para auxiliar em cálculos e melhorar performace da consulta */\r\n    const extra = (this.grid?.query || this.query!).extra;\r\n    if (extra) {\r\n      //this.extra.avaliadores = Object.assign(this.extra.avaliadores, extra.avaliadores || {});\r\n      this.extra.planos_trabalho = Object.assign(this.extra.planos_trabalho, extra.planos || {});\r\n      for (let [key, value] of Object.entries(extra.afastamentos || {})) {\r\n        this.extra.afastamentos[key] = (value as Array<Afastamento>).reduce((a, v) => {\r\n          if (!a.find(x => x.id == v.id)) a.push(v);\r\n          return a;\r\n        }, this.extra.afastamentos[key] || []);\r\n      }\r\n      Object.entries(extra.feriados || {}).forEach(([key, value]) => {\r\n        if (!this.calendar.feriadosCadastrados[key]) this.calendar.feriadosCadastrados[key] = value as FeriadoList;\r\n      });\r\n\r\n      rows?.forEach(a => {\r\n        a.planoTrabalho = extra.planos_trabalho[a.plano_trabalho_id];\r\n      });\r\n\r\n      this.cdRef.detectChanges();\r\n    }\r\n  }\r\n\r\n  public onAtribuidasParaMimChange(event: Event) {\r\n    if (this.filter!.controls.atribuidas_para_mim.value) {\r\n      this.filter!.controls.usuario_id.setValue(this.auth.usuario!.id);\r\n    } else {\r\n      this.filter!.controls.usuario_id.setValue(undefined);\r\n    }\r\n  }\r\n\r\n  public onSomenteUnidadeAtualChange(event: Event) {\r\n    if (this.filter!.controls.somente_unidade_atual.value) {\r\n      this.filter!.controls.unidade_id.setValue(this.auth.unidade!.id);\r\n    } else {\r\n      this.filter!.controls.unidade_id.setValue(undefined);\r\n    }\r\n  }\r\n\r\n  public onDespendidoClick(row: Atividade) {\r\n    if (row.metadados && !row.metadados.concluido) {\r\n      const cargaHoraria = this.extra?.planos_trabalho[row.plano_trabalho_id!]?.carga_horaria || 0;\r\n      const afastamentos = this.extra?.afastamentos[row.usuario_id!] || [];\r\n      this.efemerides = this.calendar.calculaDataTempoUnidade(row.data_inicio!, this.auth.hora, cargaHoraria, row.unidade!, \"ENTREGA\", row.pausas, afastamentos);\r\n      this.dialog.template({ title: \"Cálculos do tempo despendido\" }, this.calendarEfemerides!, []);\r\n    }\r\n  }\r\n\r\n  public onEtiquetaConfigClick() {\r\n    this.go.navigate({ route: [\"configuracoes\", \"preferencia\", \"usuario\", this.auth.usuario!.id], params: { etiquetas: true } }, {\r\n      modal: true, modalClose: (modalResult) => {\r\n        this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\r\n        this.cdRef.detectChanges();\r\n      }\r\n    });\r\n  }\r\n\r\n  public comentarioClick(element: HTMLSpanElement) {\r\n    const value = element.getAttribute(\"data-expanded\");\r\n    element.setAttribute(\"data-expanded\", value == \"true\" ? \"false\" : \"true\");\r\n  }\r\n\r\n  public addComentarioClick(row: any) {\r\n    this.go.navigate({ route: ['gestao', 'atividade', row.id, 'comentar'] }, { modal: true, modalClose: modalResult => { if (modalResult) (this.grid?.query || this.query!).refreshId(row.id); } });\r\n  }\r\n\r\n}\r\n\r\n","import { Component, ElementRef, Injector, Input, TemplateRef, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { ActivatedRouteSnapshot } from '@angular/router';\r\nimport { GridComponent, GroupBy } from 'src/app/components/grid/grid.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { Atividade } from 'src/app/models/atividade.model';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { FullRoute, RouteMetadata } from 'src/app/services/navigate.service';\r\nimport { AtividadeListBase } from '../atividade-list-base';\r\nimport { BadgeButton } from 'src/app/components/badge/badge.component';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { PlanoEntregaEntrega } from 'src/app/models/plano-entrega-entrega.model';\r\nimport { Comentario } from 'src/app/models/comentario';\r\n\r\n@Component({\r\n  selector: 'atividade-list-grid',\r\n  templateUrl: './atividade-list-grid.component.html',\r\n  styleUrls: ['./atividade-list-grid.component.scss']\r\n})\r\nexport class AtividadeListGridComponent extends AtividadeListBase {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild('calendarEfemerides', { static: false }) public calendarEfemerides?: TemplateRef<any>;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\r\n  @ViewChild('tipoAtividade', { static: false }) public tipoAtividade?: InputSearchComponent;\r\n  @ViewChild('etiqueta', { static: false }) public etiqueta?: InputSelectComponent;\r\n  @ViewChild('planoEntrega', { static: false }) public planoEntrega?: InputSelectComponent;\r\n  @ViewChild('planoEntregaEntrega', { static: false }) public planoEntregaEntrega?: InputSelectComponent;\r\n  @Input() snapshot?: ActivatedRouteSnapshot;\r\n  @Input() fixedFilter?: any[];\r\n  @Input() minhas: boolean = false;\r\n\r\n  public static selectRoute?: FullRoute = { route: [\"gestao\", \"atividade\", \"grid\"] };\r\n  public planosEntregas: LookupItem[] = [];\r\n  public planosEntregasEntregas: LookupItem[] = [];\r\n  public formEdit: FormGroup;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    /* Inicializações */\r\n    this.title = this.lex.translate(\"Atividades\");\r\n    this.code = \"MOD_DMD\";\r\n    this.modalWidth = 1100;\r\n    this.filter = this.fh.FormBuilder({\r\n      agrupar: { default: true },\r\n      agrupar_entrega: { default: true },\r\n      atribuidas_para_mim: { default: false },\r\n      usuario_id: { default: null },\r\n      numero: { default: \"\" },\r\n      somente_unidade_atual: { default: false },\r\n      unidades_subordinadas: { default: false },\r\n      plano_trabalho_id: { default: null },\r\n      unidade_id: { default: null },\r\n      numero_processo: { default: \"\" },\r\n      status: { default: null },\r\n      etiquetas: { default: [] },\r\n      arquivadas: { default: false },\r\n      tipo_atividade_id: { default: null },\r\n      tipo_processo_id: { default: null },\r\n      data_filtro: { default: null },\r\n      data_inicio: { default: null },\r\n      data_fim: { default: null },\r\n      plano_entrega_id: { default: null },\r\n      plano_entrega_entrega_id: { default: null },\r\n    });\r\n    this.formEdit = this.fh.FormBuilder({\r\n      descricao: { default: \"\" },\r\n      tipo_atividade_id: { default: null },\r\n      comentarios: { default: [] },\r\n      progresso: { default: 0 },\r\n      etiquetas: { default: [] },\r\n      etiqueta: { default: null }\r\n    });\r\n    this.groupBy = [{ field: \"unidade.sigla\", label: \"Unidade\" }, { field: \"plano_trabalho_entrega.plano_entrega_entrega.descricao\", label: \"Entrega\" }, { field: \"plano_trabalho_entrega.descricao\", label: \"Descrição dos trabalhos\" }];\r\n    this.addOption(this.OPTION_LOGS, \"MOD_AUDIT_LOG\");\r\n  }\r\n\r\n  public storeFilter = (filter?: FormGroup) => {\r\n    const form = filter?.value;\r\n    return {\r\n      atribuidas_para_mim: form.atribuidas_para_mim,\r\n      usuario_id: form.usuario_id,\r\n      plano_trabalho_id: form.plano_trabalho_id,\r\n      somente_unidade_atual: form.somente_unidade_atual,\r\n      unidades_subordinadas: form.unidades_subordinadas,\r\n      unidade_id: form.somente_unidade_atual ? null : form.unidade_id\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    super.ngAfterViewInit();\r\n    if (this.metadata?.atribuidas_para_mim) {\r\n      this.filter?.controls.atribuidas_para_mim.setValue(true);\r\n      this.filter?.controls.usuario_id.setValue(this.auth.usuario?.id);\r\n    }\r\n    if (this.fixedFilter) {\r\n      const status = this.fixedFilter.find(x => x[0] == \"status\");\r\n      if (status) this.filter?.controls.status.setValue(status[2]);\r\n    }\r\n  }\r\n\r\n  public onAgruparChange(event: Event) {\r\n    const agrupar = this.filter!.controls.agrupar.value;\r\n    const agrupar_entrega = this.filter!.controls.agrupar_entrega.value;\r\n    const groupByOptions: GroupBy[] = [];\r\n    if (agrupar) groupByOptions.push({ field: \"unidade.sigla\", label: \"Unidade\" });\r\n    if (agrupar_entrega) groupByOptions.push({ field: \"plano_trabalho_entrega.plano_entrega_entrega.descricao\", label: \"Entrega\" });\r\n    this.groupBy = groupByOptions;\r\n    this.grid!.reloadFilter();\r\n  }\r\n\r\n  public onStatusClick(status: BadgeButton) {\r\n    this.filter?.controls.status.setValue(status.data?.status);\r\n    this.grid!.showFilter();\r\n    this.grid!.reloadFilter();\r\n  }\r\n\r\n  public onEtiquetaClick(etiqueta: LookupItem) {\r\n    let etiquetas = this.filter!.controls.etiquetas.value;\r\n    etiquetas.push(etiqueta);\r\n    this.filter?.controls.etiquetas.setValue(etiquetas);\r\n    this.grid!.showFilter();\r\n    this.grid!.reloadFilter();\r\n  }\r\n\r\n  public onEntregaClick(atividade: Atividade) {\r\n    this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'hierarquia'] }, { metadata: { atividade: atividade } })\r\n  }\r\n\r\n  public async onColumnProgressoEtiquetasChecklistEdit(row: any) {\r\n    this.formEdit.controls.progresso.setValue(row.progresso);\r\n    //this.formEdit.controls.etiquetas.setValue(row.etiquetas);\r\n    //this.formEdit.controls.etiqueta.setValue(null);\r\n    //this.etiquetas = this.util.merge(row.tipo_atividade?.etiquetas, row.unidade?.etiquetas, (a, b) => a.key == b.key);\r\n    //this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\r\n    this.checklist = this.util.clone(row.checklist);\r\n  }\r\n\r\n  public async onColumnProgressoEtiquetasChecklistSave(row: any) {\r\n    try {\r\n      const saved = await this.dao!.update(row.id, {\r\n        progresso: this.formEdit.controls.progresso.value,\r\n        //etiquetas: this.formEdit.controls.etiquetas.value,\r\n        checklist: this.checklist\r\n      });\r\n      row.progresso = this.formEdit.controls.progresso.value;\r\n      row.checklist = this.checklist;\r\n      //row.etiquetas = this.formEdit.controls.etiquetas.value;\r\n      return !!saved;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = this.fixedFilter || [];\r\n    let form: any = filter.value;\r\n\r\n    /* Verifica se estiver marcado Atual e a Unidade for diferente da Lotacao da barra superior */\r\n    if (form.somente_unidade_atual && form.unidade_id != this.auth.unidade?.id) {\r\n      filter.controls.unidade_id.setValue(this.auth.unidade?.id);\r\n      form.unidade_id = this.auth.unidade?.id;\r\n    }\r\n    /* Verifica se Minhas está selecionado e o usuário está diferente do logado (vazio) */\r\n    if (form.atribuidas_para_mim && form.usuario_id != this.auth.usuario?.id) {\r\n      filter.controls.usuario_id.setValue(this.auth.usuario?.id);\r\n      form.usuario_id = this.auth.usuario?.id;\r\n    }\r\n    /* Filtros */\r\n    if (form.usuario_id?.length) {\r\n      result.push([\"usuario_id\", \"==\", form.usuario_id]);\r\n    }\r\n    if (form.plano_trabalho_id?.length) {\r\n      result.push([\"plano_trabalho_id\", \"==\", form.plano_trabalho_id]);\r\n    }\r\n    if (form.unidade_id?.length) {\r\n      result.push([\"unidade_id\", \"==\", form.unidade_id]);\r\n    }\r\n    if (form.unidades_subordinadas) {\r\n      result.push([\"unidades_subordinadas\", \"==\", true]);\r\n    }\r\n    if (form.etiquetas?.length) {\r\n      result.push([\"etiquetas\", \"in\", form.etiquetas.map((x: LookupItem) => x.value)]);\r\n    }\r\n    if (form.numero_processo?.length) {\r\n      result.push([\"numero_processo\", \"==\", form.numero_processo]);\r\n    }\r\n    if (form.numero?.length) {\r\n      result.push([\"numero\", \"==\", form.numero]);\r\n    }\r\n    if (form.status?.length && !result.find(x => x[0] == \"status\")) {\r\n      result.push([\"status\", \"==\", form.status]);\r\n      if (form.status == \"ARQUIVADO\") this.filter!.controls.arquivadas.setValue(true);\r\n    }\r\n    if (!this.filter!.controls.arquivadas.value) {\r\n      result.push([\"data_arquivamento\", \"==\", null]);\r\n    }\r\n    if (form.tipo_atividade_id?.length) {\r\n      result.push([\"tipo_atividade_id\", \"==\", form.tipo_atividade_id]);\r\n    }\r\n    if (form.tipo_processo_id?.length) {\r\n      result.push([\"tipo_processo_id\", \"==\", form.tipo_processo_id]);\r\n    }\r\n    if (form.plano_entrega_id?.length) {\r\n      result.push([\"plano_entrega_id\", \"==\", form.plano_entrega_id]);\r\n    }\r\n    if (form.plano_entrega_entrega_id?.length) {\r\n      result.push([\"plano_entrega_entrega_id\", \"==\", form.plano_entrega_entrega_id]);\r\n    }\r\n    if (form.data_filtro?.length) {\r\n      const field = form.data_filtro == \"DISTRIBUICAO\" ? \"data_distribuicao\" : form.data_filtro == \"PRAZO\" ? \"data_estipulada_entrega\" : \"data_entrega\";\r\n      if (form.data_inicio) {\r\n        result.push([field, \">=\", form.data_inicio]);\r\n      }\r\n      if (form.data_fim) {\r\n        result.push([field, \"<=\", form.data_fim]);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    this.filter!.controls.atribuidas_para_mim.setValue(false);\r\n    this.filter!.controls.usuario_id.setValue(null);\r\n    this.filter!.controls.somente_unidade_atual.setValue(false);\r\n    this.filter!.controls.unidades_subordinadas.setValue(false);\r\n    this.filter!.controls.unidade_id.setValue(null);\r\n    this.filter!.controls.plano_trabalho_id.setValue(null);\r\n    this.filter!.controls.numero_processo.setValue(\"\");\r\n    this.filter!.controls.atividade_id.setValue(null);\r\n    this.filter!.controls.tipo_processo_id.setValue(null);\r\n    this.filter!.controls.data_filtro.setValue(null);\r\n    this.filter!.controls.data_inicio.setValue(null);\r\n    this.filter!.controls.data_fim.setValue(null);\r\n    this.filter!.controls.plano_entrega_id.setValue(null);\r\n    this.filter!.controls.plano_entrega_entrega_id.setValue(null);\r\n    if (!this.fixedFilter?.length || !this.fixedFilter.find(x => x[0] == \"status\")) this.filter!.controls.status.setValue(null);\r\n    this.filter!.controls.etiquetas.setValue([]);\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public addItemHandleEtiquetas(): LookupItem | undefined {\r\n    let result = undefined;\r\n    if (this.etiqueta && this.etiqueta.selectedItem) {\r\n      const item = this.etiqueta.selectedItem;\r\n      const key = item.key?.length ? item.key : this.util.textHash(item.value);\r\n      if (this.util.validateLookupItem(this.formEdit.controls.etiqueta.value, key)) {\r\n        result = {\r\n          key: key,\r\n          value: item.value,\r\n          color: item.color,\r\n          icon: item.icon\r\n        };\r\n        this.formEdit.controls.etiqueta.setValue(null);\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  public async onColumnEtiquetasEdit(row: any) {\r\n    this.formEdit.controls.etiquetas.setValue(row.etiquetas);\r\n    this.formEdit.controls.etiqueta.setValue(null);\r\n    this.etiquetas = this.util.merge(row.tipo_atividade?.etiquetas, row.unidade?.etiquetas, (a, b) => a.key == b.key);\r\n    this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\r\n    this.etiquetas = this.util.merge(this.etiquetas, await this.carregaEtiquetasUnidadesAscendentes(row.unidade), (a, b) => a.key == b.key);\r\n  }\r\n\r\n  public async carregaEtiquetasUnidadesAscendentes(unidadeAtual: Unidade) {\r\n    let etiquetasUnidades: LookupItem[] = [];\r\n    let path = unidadeAtual.path.split(\"/\");\r\n    let unidades = await this.unidadeDao.query({ where: [\"id\", \"in\", path] }).asPromise();\r\n    unidades.forEach(un => {\r\n      etiquetasUnidades = this.util.merge(etiquetasUnidades, un.etiquetas, (a, b) => a.key == b.key);\r\n    });\r\n    return etiquetasUnidades;\r\n  }\r\n\r\n  public async onColumnEtiquetasSave(row: any) {\r\n    try {\r\n      const saved = await this.dao!.update(row.id, {\r\n        etiquetas: this.formEdit.controls.etiquetas.value\r\n      });\r\n      row.etiquetas = this.formEdit.controls.etiquetas.value;\r\n      return !!saved;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public onEtiquetaConfigClick() {\r\n    this.go.navigate({ route: [\"configuracoes\", \"preferencia\", \"usuario\", this.auth.usuario!.id], params: { etiquetas: true } }, {\r\n      modal: true, modalClose: (modalResult) => {\r\n        this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\r\n        this.cdRef.detectChanges();\r\n      }\r\n    });\r\n  }\r\n\r\n  public async onUnidadeChange(event: Event) {\r\n    let unidade_selecionada = await this.unidadeDao.getById(this.filter?.controls.unidade_id.value, ['planos_entrega']);\r\n    this.planosEntregas = unidade_selecionada?.planos_entrega?.map(x => Object.assign({\r\n      key: x.id,\r\n      value: x.nome\r\n    })) || [];\r\n  }\r\n\r\n  public async onPlanoEntregaChange(event: Event) {\r\n    let plano_entrega_selecionado: any[] = [];\r\n    let unidade_selecionada = await this.unidadeDao.getById(this.filter?.controls.unidade_id.value, ['planos_entrega.entregas']);\r\n    unidade_selecionada?.planos_entrega?.forEach(element => {\r\n      if (element.id == this.filter!.controls.plano_entrega_id.value) plano_entrega_selecionado.push(element.entregas);\r\n    });\r\n    this.planosEntregasEntregas = plano_entrega_selecionado[0]!.map((x: { id: any; descricao: any; }) => Object.assign({\r\n      key: x.id,\r\n      value: x.descricao\r\n    })) || [];\r\n  }\r\n\r\n  public async onColumnAtividadeDescricaoEdit(row: any) {\r\n    this.formEdit.controls.descricao.setValue(row.descricao);\r\n    this.formEdit.controls.tipo_atividade_id.setValue(row.tipo_atividade_id);\r\n    this.formEdit.controls.comentarios.setValue(row.comentarios);\r\n  }\r\n\r\n  public async onColumnAtividadeDescricaoSave(row: any) {\r\n    try {\r\n      this.atividadeService.comentarioAtividade(this.tipoAtividade?.selectedEntity, this.formEdit!.controls.comentarios);\r\n      const saved = await this.dao!.update(row.id, {\r\n        descricao: this.formEdit.controls.descricao.value,\r\n        tipo_atividade_id: this.formEdit.controls.tipo_atividade_id.value,\r\n        comentarios: (this.formEdit.controls.comentarios.value || []).filter((x: Comentario) => [\"ADD\", \"EDIT\", \"DELETE\"].includes(x._status || \"\"))\r\n      });\r\n      row.descricao = this.formEdit.controls.descricao.value;\r\n      row.tipo_atividade_id = this.formEdit.controls.tipo_atividade_id.value;\r\n      row.tipo_atividade = this.tipoAtividade?.selectedEntity || null;\r\n      row.comentarios = this.formEdit.controls.comentarios.value;\r\n      return !!saved;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n}\r\n\r\n","<ng-template #calendarEfemerides>\r\n    <calendar-efemerides [efemerides]=\"efemerides\"></calendar-efemerides>\r\n</ng-template>\r\n<grid [dao]=\"dao\" [add]=\"add\" [form]=\"formEdit\" [hasEdit]=\"false\" [hasDelete]=\"false\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\" [loadList]=\"onGridLoad.bind(this)\" [selectable]=\"selectable\" (select)=\"onSelect($event)\" [groupTemplate]=\"groupAtividades\">\r\n    <ng-template #groupAtividades let-grid='grid' let-separator='separator' let-group='group'>\r\n        <div class=\"d-flex ps-3\"> \r\n            <ng-container *ngFor=\"let item of group\">\r\n                <label class=\"me-3\">{{item.label}}: <b>{{item.value}}</b></label>\r\n            </ng-container>\r\n        </div>\r\n    </ng-template>\r\n    <toolbar *ngIf=\"!fixedFilter && !selectable\">\r\n        <input-switch [size]=\"3\" labelPosition=\"left\" label=\"Agrupar por Entrega\" controlName=\"agrupar_entrega\" [control]=\"filter!.controls.agrupar_entrega\" (change)=\"onAgruparChange($event)\"></input-switch>\r\n        <input-switch [size]=\"3\" labelPosition=\"left\" label=\"Agrupar por Unidade\" controlName=\"agrupar\" [control]=\"filter!.controls.agrupar\" (change)=\"onAgruparChange($event)\"></input-switch>\r\n    </toolbar>\r\n    <filter [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\" [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && !queryParams?.filter && filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-switch [size]=\"1\" label=\"Minhas\" controlName=\"atribuidas_para_mim\" [control]=\"filter!.controls.atribuidas_para_mim\" (change)=\"onAtribuidasParaMimChange($event)\"></input-switch>\r\n            <input-search [size]=\"6\" label=\"Usuário\" #usuario [control]=\"filter!.controls.usuario_id\" controlName=\"usuario_id\"  [disabled]=\"filter!.controls.atribuidas_para_mim.value ? 'true' : undefined\" [dao]=\"usuarioDao\" ></input-search>\r\n            <input-search [size]=\"5\" label=\"Plano de trabalho\" #planoTrabalho [control]=\"filter!.controls.plano_trabalho_id\" controlName=\"plano_trabalho_id\" [dao]=\"planoTrabalhoDao\" ></input-search>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-switch [size]=\"1\" label=\"Atual\" controlName=\"somente_unidade_atual\" [control]=\"filter!.controls.somente_unidade_atual\" (change)=\"onSomenteUnidadeAtualChange($event)\" labelInfo=\"Somente as atividades da unidade selecionada\"></input-switch>\r\n            <input-search [size]=\"3\" label=\"Unidade\" #unidade [control]=\"filter!.controls.unidade_id\" controlName=\"unidade_id\" [disabled]=\"filter!.controls.somente_unidade_atual.value ? 'true' : undefined\" [dao]=\"unidadeDao\" (change)=\"onUnidadeChange($event)\"></input-search>\r\n            <input-switch [size]=\"1\" label=\"Sub.\" controlName=\"unidades_subordinadas\" [control]=\"filter!.controls.unidades_subordinadas\" labelInfo=\"Incluir as unidades subordinadas\"></input-switch>\r\n            <input-select [size]=\"4\" [label]=\"lex.translate('Plano de Entrega')\" #planoEntrega itemTodos=\"- Todos -\" [valueTodos]=\"null\" controlName=\"plano_entrega_id\" [control]=\"filter!.controls.plano_entrega_id\" [items]=\"planosEntregas\" (change)=\"onPlanoEntregaChange($event)\"></input-select>\r\n            <input-select [size]=\"3\" [label]=\"lex.translate('Entrega do Plano de Entrega')\" #planoEntregaEntrega itemTodos=\"- Todos -\" [valueTodos]=\"null\"  controlName=\"plano_entrega_entrega_id\" [control]=\"filter!.controls.plano_entrega_entrega_id\" [items]=\"planosEntregasEntregas\"></input-select>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-text [size]=\"1\" label=\"#ID\" controlName=\"numero\" maskFormat=\"999999\" [control]=\"filter!.controls.numero\" [labelInfo]=\"'Número ' + lex.translate('atividade')\" [attr.maxlength]=250></input-text>\r\n            <input-text [size]=\"3\" [label]=\"'Nº '+ lex.translate('Processo') +' (Sei)'\" maskFormat=\"00000.000000/0000-00\" controlName=\"numero_processo\" [control]=\"filter!.controls.numero_processo\" labelInfo=\"Pesquisa no documento de requisição, conclusão e nos documentos das tarefas\" [attr.maxlength]=250></input-text>\r\n            <input-select [size]=\"3\" label=\"Status\" itemTodos=\"- Todos -\" [valueTodos]=\"null\" [disabled]=\"fixedFilter?.length && fixedFilter![0]![0] == 'status' ? 'true' : undefined\" controlName=\"status\" [control]=\"filter!.controls.status\" [items]=\"lookup.ATIVIDADE_STATUS_COM_ARQUIVADAS\"></input-select>\r\n            <input-multiselect noForm noBox [size]=\"4\" label=\"Etiquetas\" controlName=\"etiquetas\" [control]=\"filter!.controls.etiquetas\"></input-multiselect>\r\n            <input-switch [size]=\"1\" label=\"Arq.\" controlName=\"arquivadas\" [control]=\"filter!.controls.arquivadas\" labelInfo=\"Listar também atividades arquivadas\"></input-switch>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-search [size]=\"3\" [label]=\"lex.translate('Tipo de Atividade')\" [control]=\"filter!.controls.tipo_atividade_id\" controlName=\"tipo_atividade_id\" [dao]=\"tipoAtividadeDao\"></input-search>\r\n            <input-search [size]=\"3\" [label]=\"lex.translate('Tipo de Processo')\" [control]=\"filter!.controls.tipo_processo_id\" controlName=\"tipo_processo_id\" [dao]=\"tipoProcessoDao\" ></input-search>\r\n            <input-select [size]=\"2\" label=\"Data\" itemTodos=\"- Todos -\" [valueTodos]=\"null\" controlName=\"data_filtro\" [control]=\"filter!.controls.data_filtro\" [items]=\"DATAS_FILTRO\"></input-select>\r\n            <input-datetime [size]=\"2\" noIcon [disabled]=\"filter!.controls.data_filtro.value == null ? 'true' : undefined\" label=\"Início\" controlName=\"data_inicio\" [control]=\"filter!.controls.data_inicio\" labelInfo=\"Data início do período\"></input-datetime>\r\n            <input-datetime [size]=\"2\" noIcon [disabled]=\"filter!.controls.data_filtro.value == null ? 'true' : undefined\" label=\"Fim\" controlName=\"data_fim\" [control]=\"filter!.controls.data_fim\" labelInfo=\"Data fim do período\"></input-datetime>\r\n        </div>\r\n    </filter>\r\n    <columns>\r\n        <column *ngIf=\"!selectable\" type=\"expand\" icon=\"bi bi-boxes\" [align]=\"'center'\" [hint]=\"lex.translate('Tarefas da atividade')\" [template]=\"columnTarefas\" [expandTemplate]=\"columnExpandedTarefas\">\r\n            <ng-template let-row=\"row\" #columnTarefas>\r\n                <span *ngIf=\"row.tarefas?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-boxes\"></i> {{row.tarefas?.length}}</span>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnExpandedTarefas>\r\n                <atividade-list-tarefa persist [selectable]=\"selectable\" [editable]=\"!row.metadados.concluido\" [atividade]=\"row\"></atividade-list-tarefa>\r\n            </ng-template>\r\n        </column>\r\n        <column [titleTemplate]=\"titleIdAtividadeDescricao\" [template]=\"columnAtividadeDescricao\" [editTemplate]=\"columnAtividadeDescricao\" [columnEditTemplate]=\"selectable ? undefined : columnAtividadeDescricaoEdit\" [edit]=\"selectable ? undefined : onColumnAtividadeDescricaoEdit.bind(this)\" [save]=\"selectable ? undefined : onColumnAtividadeDescricaoSave.bind(this)\">\r\n            <ng-template let-header=\"header\" #titleIdAtividadeDescricao>\r\n                <order by=\"numero\" [header]=\"header\">#ID</order>/{{lex.translate('Tipo de Atividade')}}/\r\n                <order by=\"plano_trabalho_entrega.descricao\" [header]=\"header\">{{lex.translate('Entrega')}}</order><br>\r\n                Descrição\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnAtividadeDescricao>\r\n                <span class=\"text-nowrap d-block\">\r\n                    <badge icon=\"bi bi-hash\" [label]=\"row.numero\" color=\"light\" [data]=\"row.numero\" [click]=\"atividadeService.onIdClick.bind(this)\"></badge>\r\n                    <badge *ngIf=\"row.tipo_atividade\" [icon]=\"entityService.getIcon('TipoAtividade')\" [label]=\"row.tipo_atividade.nome\" color=\"light\"></badge>\r\n                    <badge *ngIf=\"row.plano_trabalho_entrega\" [icon]=\"entityService.getIcon('Entrega')\" [label]=\"row.plano_trabalho_entrega.descricao\" color=\"info\" (click)=\"onEntregaClick(row)\" role=\"button\"></badge>\r\n                </span>\r\n                <span class=\"micro-text fw-ligh atividade-descricao\">{{row.descricao}}</span>\r\n                <reaction [entity]=\"row\" origem=\"ATIVIDADE\"></reaction>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnAtividadeDescricaoEdit>\r\n                <input-textarea label=\"Descrição\" [size]=\"12\" [rows]=\"2\" controlName=\"descricao\" [control]=\"formEdit!.controls.descricao\" required></input-textarea>\r\n                <input-search [label]=\"lex.translate('Tipo de atividade')\" relativeId=\"columnTipoAtividade\" #tipoAtividade [size]=\"12\" [emptyValue]=\"null\" controlName=\"tipo_atividade_id\" [control]=\"formEdit!.controls.tipo_atividade_id\" [dao]=\"tipoAtividadeDao\" [labelInfo]=\"lex.translate('Tipo de atividade') + ' utilizado para classificar a atividade'\" [required]=\"!auth.hasPermissionTo('MOD_ATV_TIPO_ATV_VAZIO') ? 'true' : undefined\"></input-search>\r\n            </ng-template>\r\n        </column>\r\n        <column [title]=\"'Etiquetas'\" [width]=\"100\" [template]=\"columnEtiquetas\" [editTemplate]=\"columnEtiquetas\" [columnEditTemplate]=\"selectable ? undefined : columnEtiquetasEdit\" [edit]=\"selectable ? undefined : onColumnEtiquetasEdit.bind(this)\" [save]=\"selectable ? undefined : onColumnEtiquetasSave.bind(this)\">\r\n            <ng-template let-row=\"row\" #columnEtiquetas>\r\n                <badge *ngFor=\"let etiqueta of row.etiquetas\" [lookup]=\"etiqueta\" [click]=\"onEtiquetaClick.bind(this)\"></badge>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnEtiquetasEdit>\r\n                <input-multiselect controlName=\"etiquetas\" [size]=\"12\" [control]=\"formEdit.controls.etiquetas\" [addItemHandle]=\"addItemHandleEtiquetas.bind(this)\">\r\n                    <input-select [size]=\"12\" #etiqueta controlName=\"etiqueta\" nullable itemNull=\"- Selecione -\" detailsButton detailsButtonIcon=\"bi bi-tools\" (details)=\"onEtiquetaConfigClick()\" [control]=\"formEdit.controls.etiqueta\" [items]=\"etiquetas\"></input-select>\r\n                </input-multiselect>\r\n            </ng-template>\r\n        </column>\r\n        <column [titleTemplate]=\"titlePlanoTrabalho\" [template]=\"columnPlanoTrabalho\">\r\n            <ng-template let-header=\"header\" #titlePlanoTrabalho>\r\n                Plano de trabalho\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnPlanoTrabalho>\r\n               <span class=\"d-block\" *ngIf=\"row.planoTrabalho\">{{dao!.getDateFormatted(row.planoTrabalho.data_inicio)}} <br>{{ \" até \"+dao!.getDateFormatted(row.planoTrabalho.data_fim)}}</span>\r\n            </ng-template>\r\n        </column>\r\n\r\n        <column [titleTemplate]=\"titleUnResponsavelDemandante\" [template]=\"columnPessoas\">\r\n            <ng-template let-header=\"header\" #titleUnResponsavelDemandante>\r\n                Un./<order by=\"usuario.nome\" [header]=\"header\">{{lex.translate('Responsável')}}</order><br>\r\n                <order by=\"demandante.nome\" [header]=\"header\">Demandante</order>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnPessoas>\r\n                <div class=\"text-nowrap\">\r\n                    <badge icon=\"bi bi-briefcase\" color=\"light\" [label]=\"row.unidade.sigla\"></badge>\r\n                    <badge [icon]=\"'bi ' + (row.usuario?.nome?.length ? 'bi-person-check' : 'bi-person-x')\" color=\"light\" [label]=\"util.apelidoOuNome(row.usuario, true) || '(Não atribuído)'\" [hint]=\"'Responsável: ' + (row.usuario?.nome || 'Não atribuido a nenhum usuário')\"></badge>\r\n                </div>\r\n                <badge icon=\"bi bi-cursor\" color=\"light\" [label]=\"util.apelidoOuNome(row.demandante, true) || 'Desconhecido'\" [hint]=\"'Demandante: ' + (row.demandante?.nome || 'Desconhecido')\"></badge>\r\n            </ng-template>\r\n        </column>\r\n        <column [titleTemplate]=\"titleTempos\" [template]=\"columnTempos\">\r\n            <ng-template let-header=\"header\" #titleTempos>\r\n                Tempos\r\n                <order by=\"data_distribuicao\" [header]=\"header\">Distribuição</order><br>\r\n                <order by=\"data_estipulada_entrega\" [header]=\"header\">Prazo</order>\r\n                <order by=\"data_entrega\" [header]=\"header\">Entrega</order>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnTempos>\r\n                <div class=\"one-per-line\">\r\n                    <badge *ngFor=\"let tempo of atividadeService.temposAtividade(row, extra, onDespendidoClick.bind(this))\" [badge]=\"tempo\"></badge>\r\n                </div>\r\n            </ng-template>\r\n        </column>\r\n        <column [title]=\"'Progresso\\nChecklist'\" [width]=\"200\" [columnEditTemplate]=\"selectable ? undefined : columnProgressoEtiquetasChecklistEdit\" [template]=\"columnProgressoEtiquetasChecklist\" [edit]=\"selectable ? undefined : onColumnProgressoEtiquetasChecklistEdit.bind(this)\" [save]=\"selectable ? undefined : onColumnProgressoEtiquetasChecklistSave.bind(this)\">\r\n            <ng-template let-row=\"row\" #columnProgressoEtiquetasChecklist>\r\n                <progress-bar [value]=\"row.progresso\" color=\"success\"></progress-bar>\r\n                <separator *ngIf=\"row.checklist?.length\" small title=\"Checklist\"></separator>\r\n                <table *ngIf=\"row.checklist?.length\">\r\n                    <tr *ngFor=\"let check of row.checklist\">\r\n                        <td><i *ngIf=\"check.checked\" class=\"bi bi-check-circle\"></i></td>\r\n                        <td class=\"micro-text fw-ligh\">{{check.texto}}</td>\r\n                    </tr>\r\n                </table>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnProgressoEtiquetasChecklistEdit>\r\n                <input-number [size]=\"12\" [decimals]=\"2\" label=\"Progresso\" sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso\" [control]=\"formEdit.controls.progresso\" labelInfo=\"Progresso de execução (% Concluído)\"></input-number>\r\n                <separator *ngIf=\"row.checklist?.length\" small title=\"Checklist\"></separator>\r\n                <table *ngIf=\"row.checklist?.length\">\r\n                    <tr *ngFor=\"let check of checklist; let i = index\">\r\n                        <td><input-switch [size]=\"12\" scale=\"small\" [source]=\"checklist\" [path]=\"i + '.checked'\"></input-switch></td>\r\n                        <td class=\"micro-text fw-ligh\">{{check.texto}}</td>\r\n                    </tr>\r\n                </table>\r\n            </ng-template>\r\n        </column>\r\n        <column [title]=\"'nº Processo/Status\\nComentários'\" [width]=\"250\" [template]=\"columnNumero\">\r\n            <ng-template let-row=\"row\" #columnNumero>\r\n                <documentos-badge [documento]=\"row.documento_requisicao\"></documentos-badge>\r\n                <span class=\"d-block\">\r\n                    <badge *ngFor=\"let status of atividadeService.getStatus(row)\" [data]=\"status\" [color]=\"status.color\" [icon]=\"status.icon\" [label]=\"status.label\" [click]=\"status.data?.filter ? onStatusClick.bind(this) : undefined\"></badge>\r\n                </span>\r\n                <comentarios-widget [entity]=\"row\" [selectable]=\"selectable\" origem=\"ATIVIDADE\" [grid]=\"grid\"></comentarios-widget>\r\n            </ng-template>\r\n        </column>\r\n        <column *ngIf=\"!selectable\" type=\"options\" [metadata]=\"optionsMetadata\" [dynamicOptions]=\"atividadeService.dynamicOptions.bind(this)\" [dynamicButtons]=\"atividadeService.dynamicButtons.bind(this)\" [options]=\"options\"></column>\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>\r\n\r\n"],"names":["Base","AtividadeTarefa","constructor","data","documento","comentarios","descricao","data_lancamento","Date","tempo_estimado","data_conclusao","documento_id","atividade_id","usuario_id","tipo_tarefa_id","initialization","PageListBase","UsuarioDaoService","UnidadeDaoService","Atividade","ListenerAllPagesService","CalendarService","AtividadeDaoService","TipoProcessoDaoService","ComentarioService","TipoAtividadeDaoService","AtividadeService","PlanoTrabalhoDaoService","AtividadeListBase","injector","etiquetas","addComentarioButton","icon","hint","DATAS_FILTRO","key","value","color","unidadeDao","get","usuarioDao","planoTrabalhoDao","tipoAtividadeDao","tipoProcessoDao","allPages","atividadeService","calendar","comentario","join","extra","planos_trabalho","afastamentos","optionsMetadata","refreshId","id","grid","query","bind","removeId","refresh","onGridLoad","rows","forEach","atividade","orderComentarios","Object","assign","planos","entries","reduce","a","v","find","x","push","feriados","feriadosCadastrados","planoTrabalho","plano_trabalho_id","cdRef","detectChanges","onAtribuidasParaMimChange","event","filter","controls","atribuidas_para_mim","setValue","auth","usuario","undefined","onSomenteUnidadeAtualChange","somente_unidade_atual","unidade_id","unidade","onDespendidoClick","row","metadados","concluido","cargaHoraria","carga_horaria","efemerides","calculaDataTempoUnidade","data_inicio","hora","pausas","dialog","template","title","calendarEfemerides","onEtiquetaConfigClick","go","navigate","route","params","modal","modalClose","modalResult","util","merge","config","b","comentarioClick","element","getAttribute","setAttribute","addComentarioClick","GridComponent","i0","ɵɵelement","ɵɵproperty","ctx_r1","ɵɵelementContainerStart","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelementContainerEnd","ɵɵadvance","ɵɵtextInterpolate1","item_r44","label","ɵɵtextInterpolate","ɵɵtemplate","AtividadeListGridComponent_ng_template_3_ng_container_1_Template","group_r42","ɵɵlistener","AtividadeListGridComponent_toolbar_5_Template_input_switch_change_1_listener","$event","ɵɵrestoreView","_r46","ctx_r45","ɵɵnextContext","ɵɵresetView","onAgruparChange","AtividadeListGridComponent_toolbar_5_Template_input_switch_change_2_listener","ctx_r47","ctx_r4","agrupar_entrega","agrupar","row_r52","tarefas","length","AtividadeListGridComponent_column_35_ng_template_1_span_0_Template","ctx_r51","selectable","row_r55","AtividadeListGridComponent_column_35_ng_template_1_Template","ɵɵtemplateRefExtractor","AtividadeListGridComponent_column_35_ng_template_3_Template","ctx_r10","lex","translate","_r48","_r50","header_r56","ctx_r12","ctx_r58","entityService","getIcon","row_r57","tipo_atividade","nome","AtividadeListGridComponent_ng_template_39_badge_3_Template_badge_click_0_listener","_r63","ctx_r61","onEntregaClick","ctx_r59","plano_trabalho_entrega","AtividadeListGridComponent_ng_template_39_badge_2_Template","AtividadeListGridComponent_ng_template_39_badge_3_Template","numero","ctx_r14","onIdClick","ctx_r16","formEdit","tipo_atividade_id","hasPermissionTo","etiqueta_r69","ctx_r68","onEtiquetaClick","AtividadeListGridComponent_ng_template_44_badge_0_Template","row_r67","AtividadeListGridComponent_ng_template_46_Template_input_select_details_1_listener","_r73","ctx_r72","ctx_r20","addItemHandleEtiquetas","etiqueta","ctx_r76","dao","getDateFormatted","row_r75","data_fim","AtividadeListGridComponent_ng_template_51_span_0_Template","header_r78","ctx_r26","row_r79","sigla","ctx_r28","apelidoOuNome","demandante","header_r80","tempo_r83","AtividadeListGridComponent_ng_template_61_badge_1_Template","ctx_r32","temposAtividade","row_r81","AtividadeListGridComponent_ng_template_64_table_2_tr_1_i_2_Template","check_r88","checked","texto","AtividadeListGridComponent_ng_template_64_table_2_tr_1_Template","row_r84","checklist","AtividadeListGridComponent_ng_template_64_separator_1_Template","AtividadeListGridComponent_ng_template_64_table_2_Template","progresso","ctx_r94","i_r96","check_r95","AtividadeListGridComponent_ng_template_66_table_2_tr_1_Template","ctx_r93","AtividadeListGridComponent_ng_template_66_separator_1_Template","AtividadeListGridComponent_ng_template_66_table_2_Template","ctx_r36","row_r91","status_r99","ctx_r98","onStatusClick","AtividadeListGridComponent_ng_template_69_badge_2_Template","row_r97","documento_requisicao","ctx_r38","getStatus","ctx_r39","dynamicOptions","dynamicButtons","options","AtividadeListGridComponent","_","selectRoute","minhas","planosEntregas","planosEntregasEntregas","storeFilter","form","unidades_subordinadas","filterWhere","result","fixedFilter","map","numero_processo","status","arquivadas","tipo_processo_id","plano_entrega_id","plano_entrega_entrega_id","data_filtro","field","code","modalWidth","fh","FormBuilder","default","groupBy","addOption","OPTION_LOGS","ngAfterViewInit","metadata","groupByOptions","reloadFilter","showFilter","onColumnProgressoEtiquetasChecklistEdit","_this","_asyncToGenerator","clone","onColumnProgressoEtiquetasChecklistSave","_this2","saved","update","error","filterClear","selectedItem","item","textHash","validateLookupItem","onColumnEtiquetasEdit","_this3","carregaEtiquetasUnidadesAscendentes","unidadeAtual","_this4","etiquetasUnidades","path","split","unidades","where","asPromise","un","onColumnEtiquetasSave","_this5","onUnidadeChange","_this6","unidade_selecionada","getById","planos_entrega","onPlanoEntregaChange","_this7","plano_entrega_selecionado","entregas","onColumnAtividadeDescricaoEdit","_this8","onColumnAtividadeDescricaoSave","_this9","comentarioAtividade","tipoAtividade","selectedEntity","includes","_status","_2","ɵɵdirectiveInject","Injector","_3","selectors","viewQuery","AtividadeListGridComponent_Query","rf","ctx","AtividadeListGridComponent_ng_template_0_Template","AtividadeListGridComponent_Template_grid_select_2_listener","onSelect","AtividadeListGridComponent_ng_template_3_Template","AtividadeListGridComponent_toolbar_5_Template","AtividadeListGridComponent_Template_input_switch_change_8_listener","AtividadeListGridComponent_Template_input_switch_change_14_listener","AtividadeListGridComponent_Template_input_search_change_15_listener","AtividadeListGridComponent_Template_input_select_change_18_listener","AtividadeListGridComponent_column_35_Template","AtividadeListGridComponent_ng_template_37_Template","AtividadeListGridComponent_ng_template_39_Template","AtividadeListGridComponent_ng_template_41_Template","AtividadeListGridComponent_ng_template_44_Template","AtividadeListGridComponent_ng_template_46_Template","AtividadeListGridComponent_ng_template_49_Template","AtividadeListGridComponent_ng_template_51_Template","AtividadeListGridComponent_ng_template_54_Template","AtividadeListGridComponent_ng_template_56_Template","AtividadeListGridComponent_ng_template_59_Template","AtividadeListGridComponent_ng_template_61_Template","AtividadeListGridComponent_ng_template_64_Template","AtividadeListGridComponent_ng_template_66_Template","AtividadeListGridComponent_ng_template_69_Template","AtividadeListGridComponent_column_71_Template","add","orderBy","_r2","filterSubmit","filterCollapseChange","queryParams","filterCollapsed","ɵɵattribute","lookup","ATIVIDADE_STATUS_COM_ARQUIVADAS","_r11","_r13","_r15","_r17","_r19","_r21","_r23","_r25","_r27","_r29","_r31","_r35","_r33","_r37","rowsLimit"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}