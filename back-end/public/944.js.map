{"version":3,"file":"944.js","mappings":"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","sources":["./src/app/modules/gestao/atividade/atividade-dashboard/atividade-dashboard.component.ts","./src/app/modules/gestao/atividade/atividade-form-concluir/atividade-form-concluir.component.ts","./src/app/modules/gestao/atividade/atividade-form-concluir/atividade-form-concluir.component.html","./src/app/modules/gestao/atividade/atividade-form-iniciar/atividade-form-iniciar.component.ts","./src/app/modules/gestao/atividade/atividade-form-iniciar/atividade-form-iniciar.component.html","./src/app/modules/gestao/atividade/atividade-form-pausar/atividade-form-pausar.component.ts","./src/app/modules/gestao/atividade/atividade-form-pausar/atividade-form-pausar.component.html","./src/app/modules/gestao/atividade/atividade-form-prorrogar/atividade-form-prorrogar.component.ts","./src/app/modules/gestao/atividade/atividade-form-prorrogar/atividade-form-prorrogar.component.html","./src/app/modules/gestao/atividade/atividade-form-tarefa/atividade-form-tarefa.component.ts","./src/app/modules/gestao/atividade/atividade-form-tarefa/atividade-form-tarefa.component.html","./src/app/modules/gestao/atividade/atividade-form/atividade-form.component.ts","./src/app/modules/gestao/atividade/atividade-form/atividade-form.component.html","./src/app/modules/gestao/atividade/atividade-list-kanban/atividade-list-kanban.component.ts","./src/app/modules/gestao/atividade/atividade-list-kanban/atividade-list-kanban.component.html","./src/app/modules/gestao/atividade/atividade-list-tarefa/atividade-list-tarefa.component.ts","./src/app/modules/gestao/atividade/atividade-list-tarefa/atividade-list-tarefa.component.html","./src/app/modules/gestao/atividade/atividade-list/atividade-list.component.ts","./src/app/modules/gestao/atividade/atividade-list/atividade-list.component.html","./src/app/modules/gestao/atividade/atividade-routing.module.ts","./src/app/modules/gestao/atividade/atividade.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, HostBinding, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { InputSwitchComponent } from 'src/app/components/input/input-switch/input-switch.component';\r\nimport { FormHelperService } from 'src/app/services/form-helper.service';\r\nimport { AtividadeListBase } from '../atividade-list-base';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ActivatedRouteSnapshot } from '@angular/router';\r\n\r\n\r\n@Component({\r\n  selector: 'atividade-dashboard',\r\n  templateUrl: './atividade-dashboard.component.html',\r\n  styleUrls: ['./atividade-dashboard.component.scss']\r\n})\r\nexport class AtividadeDashboardComponent extends AtividadeListBase implements OnInit {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild('programa', { static: false }) public programa?: InputSearchComponent;\r\n  @ViewChild('unidadesSubordinadas', { static: false }) public unidadesSubordinadas?: InputSwitchComponent;\r\n  @Input() snapshot?: ActivatedRouteSnapshot;\r\n  @Input() fixedFilter?: any[];\r\n\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    /* Inicializações */\r\n    //this.programaDao = injector.get<ProgramaDaoService>(ProgramaDaoService);\r\n    this.title = this.lex.translate(\"Atividades\");\r\n    this.code = \"MOD_DMD\";\r\n    this.fh = this.injector.get<FormHelperService>(FormHelperService);\r\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\r\n    this.filter = this.fh.FormBuilder({\r\n      programa_id: {default: \"\"},\r\n      unidadesSubordinadas: {default: false}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    /*if(controlName == 'programa_id' && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }*/\r\n    return result;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n  }\r\n\r\n}","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { SelectItem } from 'src/app/components/input/input-base';\r\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\r\nimport { Atividade } from 'src/app/models/atividade.model';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { CalendarService, Efemerides } from 'src/app/services/calendar.service';\r\nimport { InputButtonComponent } from 'src/app/components/input/input-button/input-button.component';\r\nimport { TipoDocumentoDaoService } from 'src/app/dao/tipo-documento-dao.service';\r\nimport { TipoAtividadeDaoService } from 'src/app/dao/tipo-atividade-dao.service';\r\nimport { TipoAtividade } from 'src/app/models/tipo-atividade.model';\r\nimport { Documento } from 'src/app/models/documento.model';\r\n\r\n@Component({\r\n  selector: 'app-atividade-form-concluir',\r\n  templateUrl: './atividade-form-concluir.component.html',\r\n  styleUrls: ['./atividade-form-concluir.component.scss']\r\n})\r\nexport class AtividadeFormConcluirComponent extends PageFormBase<Atividade, AtividadeDaoService> implements OnInit {\r\n  @ViewChild('tipoAtividade', { static: false }) public tipoAtividade?: InputSearchComponent;\r\n  @ViewChild('docEntregue', { static: false }) public docEntregue?: InputButtonComponent;\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n\r\n  public tipoAtividadeDao: TipoAtividadeDaoService;\r\n  public tipoDocumentoDao: TipoDocumentoDaoService;\r\n  public form: FormGroup;\r\n  public efemerides?: Efemerides;\r\n  public modalWidth: number = 800;\r\n  public calendar: CalendarService;\r\n  public entregas: LookupItem[] = [];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Atividade, AtividadeDaoService);\r\n    this.tipoAtividadeDao = injector.get<TipoAtividadeDaoService>(TipoAtividadeDaoService);\r\n    this.tipoDocumentoDao = injector.get<TipoDocumentoDaoService>(TipoDocumentoDaoService);\r\n    this.calendar = injector.get<CalendarService>(CalendarService);\r\n    this.form = this.fh.FormBuilder({\r\n      tipo_atividade_id: {default: null},\r\n      data_distribuicao: {default: null},\r\n      esforco: {default: 0},\r\n      progresso: {default: 0},\r\n      data_estipulada_entrega: {default: null},\r\n      data_inicio: {default: null},\r\n      tempo_despendido: {default: 0},\r\n      data_entrega: {default: null},\r\n      arquivar: {default: true},\r\n      descricao_tecnica: {default: \"\"},\r\n      documento_entrega: {default: new Documento()},\r\n      documento_entrega_id: {default: null},\r\n      plano_trabalho_entrega_id: {default: null}\r\n    }, this.cdRef, this.validate);\r\n    this.join = [\"plano_trabalho.tipo_modalidade\", \"unidade\", \"plano_trabalho.entregas.entrega:id,nome\"];\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n\r\n    if((controlName == \"plano_trabalho_entrega_id\" && !control.value?.length) || \r\n      (controlName == \"data_entrega\" && !this.util.isDataValid(control.value))) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    \r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: Atividade, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    formValue = this.util.fillForm(formValue, entity);\r\n    formValue.data_entrega = this.auth.hora;\r\n    formValue.progresso = 100;\r\n    await this.tipoAtividade!.loadSearch(entity.tipo_atividade || formValue.tipo_atividade_id);\r\n    if(entity.unidade_id != this.auth.unidade!.id) {\r\n      await this.auth.selecionaUnidade(entity.unidade_id);\r\n    }\r\n    this.entregas = entity.plano_trabalho?.entregas?.map(x => Object.assign({}, {\r\n      key: x.id,\r\n      value: x.descricao + (x.entrega ? \" (\" + x.entrega!.nome + \")\" : \"\"),\r\n      data: x\r\n    })) || [];\r\n    formValue.arquivar = true;  \r\n    form.patchValue(formValue);\r\n    this.onDataEntregaChange();\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity = (await this.dao!.getAtividade(this.urlParams!.get(\"id\")!))!;\r\n    await this.loadData(this.entity, form);\r\n  }\r\n\r\n  public onDataEntregaChange(event?: Event) {\r\n    const entrega = this.form.controls.data_entrega.value;\r\n    const inicio = this.entity!.data_inicio!;\r\n    const cargaHoraria = this.entity!.carga_horaria;\r\n    const unidade = this.entity!.unidade!;\r\n    const pausas = this.entity!.pausas || [];\r\n    const afastamentos = this.entity!.usuario?.afastamentos || [];\r\n    this.efemerides = this.util.isDataValid(entrega) ? this.calendar.calculaDataTempoUnidade(inicio, entrega, cargaHoraria, unidade, \"ENTREGA\", pausas, afastamentos) : undefined;\r\n    if(this.efemerides) {\r\n      this.form.controls.tempo_despendido.setValue(this.efemerides.tempoUtil);\r\n      this.cdRef.detectChanges(); \r\n    } \r\n  }\r\n\r\n  public onTipoAtividadeSelect(item: SelectItem) {\r\n    const tipoAtividade: TipoAtividade | undefined = item.entity as TipoAtividade;\r\n    this.form.controls.esforco.setValue(tipoAtividade?.esforco || 0);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<boolean> {\r\n    return new Promise<boolean>((resolve, reject) => {\r\n      let atividade = this.util.fill(new Atividade(), this.entity!);\r\n      atividade = this.util.fillForm(atividade, this.form!.value);\r\n      atividade.id = this.entity!.id;\r\n      atividade.descricao_tecnica = this.form!.controls.descricao_tecnica.value;\r\n      atividade.data_arquivamento = this.form!.controls.arquivar.value ? new Date() : null;\r\n      atividade.progresso = this.form!.controls.progresso.value;\r\n      atividade.produtividade = this.entity?.plano_trabalho?.tipo_modalidade?.atividade_tempo_despendido ? this.calendar.produtividade(atividade.esforco, atividade.tempo_despendido) : null;\r\n      this.dao!.concluir(atividade).then(saved => resolve(saved)).catch(reject);\r\n    });\r\n  }\r\n\r\n}","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <documento-link [documento]=\"form!.controls.documento_entrega.value\"></documento-link>\r\n    <div class=\"row\">\r\n        <input-search [label]=\"lex.translate('Tipo de Atividade')\" #tipoAtividade [emptyValue]=\"null\" [size]=\"5\" controlName=\"tipo_atividade_id\" [dao]=\"tipoAtividadeDao\" (select)=\"onTipoAtividadeSelect($event)\"></input-search>\r\n        <input-select [label]=\"lex.translate('Entrega do plano')\" [size]=\"5\" controlName=\"plano_trabalho_entrega_id\" #entrega [control]=\"form!.controls.plano_trabalho_entrega_id\" [items]=\"entregas\" [labelInfo]=\"lex.translate('Entrega do plano') + ' que a ' + lex.translate('atividade') + ' é referente'\"></input-select>\r\n        <input-switch label=\"Arquivar\" [size]=\"2\" controlName=\"arquivar\" [control]=\"form!.controls.arquivar\" labelInfo=\"Arquivar automaticamente após a conclusão (Somente se o plano dispensar avaliação)\"></input-switch>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-textarea [size]=\"12\" [rows]=\"2\" label=\"Descrição técnica\" controlName=\"descricao_tecnica\" [control]=\"form!.controls.descricao_tecnica\"></input-textarea>\r\n    </div>\r\n    <separator [title]=\"lex.translate('Tarefa da atividade')\" collapse [collapsed]=\"false\">\r\n        <atividade-list-tarefa persist [atividade]=\"entity\"></atividade-list-tarefa>\r\n    </separator>\r\n    <div *ngIf=\"!entity?.plano_trabalho?.tipo_modalidade?.atividade_esforco; else comEsforco\" class=\"row\">\r\n        <input-datetime noIcon [size]=\"4\" [label]=\"lex.translate('Distribuição')\" controlName=\"data_distribuicao\" [control]=\"form!.controls.data_distribuicao\" labelInfo=\"Data de inclusão/distribuição/lançamento\"></input-datetime>\r\n        <input-number [size]=\"4\" [decimals]=\"2\" label=\"Progresso\" disabled sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso\" labelInfo=\"Progresso de execução (% Concluído). Sempre será 100% na conclusão!\"></input-number>\r\n        <input-datetime noIcon  [size]=\"4\" [label]=\"lex.translate('Prazo de entrega')\" controlName=\"data_estipulada_entrega\" [control]=\"form!.controls.data_estipulada_entrega\" labelInfo=\"Data estipulada para entrega da atividade\"></input-datetime>\r\n    </div>\r\n    <ng-template #comEsforco>\r\n        <div class=\"row\">\r\n            <input-datetime noIcon [size]=\"3\" disabled [label]=\"lex.translate('Distribuição')\" controlName=\"data_distribuicao\" [control]=\"form!.controls.data_distribuicao\" labelInfo=\"Data de inclusão/distribuição/lançamento\"></input-datetime>\r\n            <input-timer [size]=\"3\" [label]=\"lex.translate('Esforço')\" icon=\"bi bi-stopwatch\" onlyHours controlName=\"esforco\" [control]=\"form!.controls.esforco\" labelInfo=\"Tempo estimado de execução\"></input-timer>\r\n            <input-number [size]=\"3\" [decimals]=\"2\" label=\"Progresso\" disabled sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso\" labelInfo=\"Progresso de execução (% Concluído). Sempre será 100% na conclusão!\"></input-number>\r\n            <input-datetime noIcon  [size]=\"3\" disabled [label]=\"lex.translate('Prazo de entrega')\" controlName=\"data_estipulada_entrega\" [control]=\"form!.controls.data_estipulada_entrega\" labelInfo=\"Data estipulada para entrega da atividade\"></input-datetime>\r\n        </div>\r\n    </ng-template>\r\n    <separator title=\"Conclusão\">\r\n        <div *ngIf=\"!entity?.plano_trabalho?.tipo_modalidade?.atividade_tempo_despendido; else comTempoDespendido\" class=\"row\">\r\n            <input-datetime noIcon [size]=\"4\" label=\"Inicio\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" disabled labelInfo=\"Data em que o usuário iniciou a atividade\"></input-datetime>\r\n            <input-datetime noIcon [size]=\"4\" label=\"Conclusão\" controlName=\"data_entrega\" [control]=\"form!.controls.data_entrega\" (change)=\"onDataEntregaChange($event)\" labelInfo=\"Data da conclusão da atividade\"></input-datetime>\r\n            <input-datetime [size]=\"4\" label=\"Data de arquivamento\" controlName=\"data_arquivamento\" [control]=\"form!.controls.data_inicio\" disabled labelInfo=\"Data de arquivamento da atividade\"></input-datetime>\r\n        </div>\r\n        <ng-template #comTempoDespendido>\r\n            <div class=\"row\">\r\n                <input-datetime noIcon [size]=\"4\" label=\"Inicio\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" disabled labelInfo=\"Data em que o usuário iniciou a atividade\"></input-datetime>\r\n                <input-datetime noIcon [size]=\"4\" label=\"Conclusão\" controlName=\"data_entrega\" [control]=\"form!.controls.data_entrega\" (change)=\"onDataEntregaChange($event)\" labelInfo=\"Data da conclusão da atividade\"></input-datetime>\r\n                <input-timer [size]=\"4\" label=\"Tempo despendido\" icon=\"bi bi-hourglass-bottom\" controlName=\"tempo_despendido\" [control]=\"form!.controls.tempo_despendido\" disabled labelInfo=\"Calculado no fim da atividade, sendo o tempo líquido (considerando pausas)\"></input-timer>\r\n                <input-datetime [size]=\"4\" label=\"Data de arquivamento\" controlName=\"data_arquivamento\" [control]=\"form!.controls.data_inicio\" disabled labelInfo=\"Data de arquivamento da atividade\"></input-datetime>\r\n            </div>\r\n        </ng-template>\r\n        <documento-link [documento]=\"form!.controls.documento_entrega.value\"></documento-link>\r\n    </separator>\r\n    <separator *ngIf=\"efemerides && entity?.plano_trabalho?.tipo_modalidade?.atividade_tempo_despendido\" title=\"Cálculos das horas\" collapse>\r\n        <calendar-efemerides [efemerides]=\"efemerides\"></calendar-efemerides>\r\n    </separator>\r\n</editable-form>\r\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Atividade } from 'src/app/models/atividade.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { SelectItem } from 'src/app/components/input/input-base';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { CalendarService } from 'src/app/services/calendar.service';\r\nimport { InputTimerComponent } from 'src/app/components/input/input-timer/input-timer.component';\r\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\r\n\r\n@Component({\r\n  selector: 'app-atividade-form-iniciar',\r\n  templateUrl: './atividade-form-iniciar.component.html',\r\n  styleUrls: ['./atividade-form-iniciar.component.scss']\r\n})\r\nexport class AtividadeFormIniciarComponent extends PageFormBase<Atividade, AtividadeDaoService> implements OnInit {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\r\n  @ViewChild('planoTrabalho', { static: false }) public planoTrabalho?: InputSelectComponent;\r\n  @ViewChild('planejado', { static: false }) public planejado?: InputTimerComponent;\r\n  \r\n  public usuarioDao: UsuarioDaoService;\r\n  public calendar: CalendarService;\r\n  public form: FormGroup;\r\n  public modalWidth: number = 600;\r\n  public iniciadas: string[] = []; \r\n  public planosTrabalhos: LookupItem[] = [];\r\n  public planosTrabalhosEntregas: LookupItem[] = [];\r\n  public get labelInfoSuspender(): string {\r\n    const n = this.iniciadas.length > 1 ? this.lex.translate(\"tarefas\"): this.lex.translate(\"tarefa\");\r\n    const s = this.iniciadas.length == 1 ? \"\" : \"s\";\r\n    const q = this.iniciadas.length == 1 ? \"\" : \" \" + this.iniciadas.length.toString();\r\n    return this.iniciadas.length ? `Suspender a${s}${q} ${n} já iniciada${s}?` : \"Não há outras atividades iniciadas pelo usuário!\";\r\n  }\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Atividade, AtividadeDaoService);\r\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.calendar = injector.get<CalendarService>(CalendarService);\r\n    this.form = this.fh.FormBuilder({\r\n      usuario_id: {default: undefined},\r\n      plano_trabalho_id: {default: undefined},\r\n      plano_trabalho_entrega_id: {default: undefined},\r\n      data_distribuicao: {default: new Date()},\r\n      data_estipulada_entrega: {default: new Date()},\r\n      carga_horaria: {default: 0},\r\n      tempo_planejado: {default: 0},\r\n      esforco: {default: 0},\r\n      data_inicio: {default: null},\r\n      suspender: {default: false}\r\n    }, this.cdRef, this.validate);\r\n    this.join = [\"unidade\", \"atividade\", \"usuario.planos_trabalho.tipo_modalidade\", \"usuario.planos_trabalho.entregas.entrega:id,nome\"];\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n\r\n    if([\"usuario_id\", \"plano_trabalho_id\"].includes(controlName) && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    } else if(controlName == \"data_inicio\" && !control.value){\r\n      result = \"Obrigatório\";\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  public loadIniciadas(usuario_id?: string) {\r\n    this.iniciadas = [];\r\n    if(usuario_id?.length) {\r\n      this.dao!.iniciadas(usuario_id).then(idsIniciadas => {\r\n        this.iniciadas = idsIniciadas;\r\n        this.cdRef.detectChanges();\r\n      });\r\n    }\r\n  }\r\n\r\n  public onUsuarioSelect(item: SelectItem) {\r\n    const usuario: Usuario | undefined = item.entity as Usuario;\r\n    const planosTrabalhos = usuario?.planos_trabalho || [];\r\n    this.planosTrabalhos = planosTrabalhos.filter(x => x.unidade_id == this.entity!.unidade_id).map(x => {\r\n      return {\r\n        key: x.id,\r\n        value: (x.tipo_modalidade?.nome || \"\") + \" - \" + this.dao!.getDateFormatted(x.data_inicio)+ \" à \" + this.dao!.getDateFormatted(x.data_fim),\r\n        data: x\r\n      };\r\n    });\r\n    this.cdRef.detectChanges();\r\n    if(!this.form.controls.plano_trabalho_id.value?.length && this.planosTrabalhos.length == 1) {\r\n      this.form.controls.plano_trabalho_id.setValue(this.planosTrabalhos[0].key);\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onPlanoChange(event: Event) {\r\n    (async () => {\r\n      if(this.entity) {\r\n        const planoTrabalho = this.planoTrabalho?.selectedItem?.data as PlanoTrabalho;\r\n        const planoTrabalhoEntregaId = this.form.controls.plano_trabalho_entrega_id.value;\r\n        const cargaHoraria = planoTrabalho?.carga_horaria || this.calendar.expedienteMedio(this.entity!.unidade);\r\n        const tempo_planejado = this.calendar.horasUteis(this.form.controls.data_distribuicao.value, this.form.controls.data_estipulada_entrega.value, cargaHoraria, this.entity!.unidade!, \"DISTRIBUICAO\");\r\n        this.form.controls.carga_horaria.setValue(cargaHoraria);\r\n        this.form.controls.tempo_planejado.setValue(tempo_planejado);\r\n        this.form.controls.esforco.setValue(this.form.controls.esforco.value || this.entity?.tipo_atividade?.esforco || 0);\r\n        /* Carrega entregas */\r\n        this.planosTrabalhosEntregas = planoTrabalho.entregas?.map(x => Object.assign({}, {\r\n          key: x.id,\r\n          value: x.descricao + (x.entrega ? \" (\" + x.entrega!.nome + \")\" : \"\"),\r\n          data: x\r\n        })) || [];\r\n        this.cdRef.detectChanges();\r\n        this.form.controls.plano_trabalho_entrega_id.setValue(!planoTrabalhoEntregaId?.length && this.planosTrabalhos.length > 0 ? this.planosTrabalhos[0].key : planoTrabalhoEntregaId);\r\n      }\r\n    })();\r\n  }\r\n\r\n  public async loadData(entity: Atividade, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    formValue = this.util.fillForm(formValue, entity);\r\n    if(!formValue.usuario_id?.length) {\r\n      formValue.usuario_id = this.auth.usuario?.id;\r\n    }\r\n    formValue.data_inicio = formValue.data_inicio || this.util.setStrTime(new Date(), this.auth.unidadeHora);\r\n    await this.usuario!.loadSearch(entity.usuario || formValue.usuario_id);\r\n    this.loadIniciadas(formValue.usuario_id);\r\n    if(entity.unidade_id != this.auth.unidade!.id) {\r\n      await this.auth.selecionaUnidade(entity.unidade_id);\r\n    }\r\n    form.patchValue(formValue);\r\n    this.onPlanoChange(new Event('change'));\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity = (await this.dao!.getById(this.urlParams!.get(\"id\")!, this.join))!;\r\n    await this.loadData(this.entity, form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<boolean> {\r\n    return new Promise<boolean>((resolve, reject) => {\r\n      let atividade = this.util.fill(new Atividade(), this.entity!);\r\n      atividade = this.util.fillForm(atividade, this.form!.value);\r\n      atividade.id = this.entity!.id;\r\n      atividade.suspender = this.form!.controls.suspender.value;\r\n      this.dao!.iniciar(atividade).then(saved => resolve(saved)).catch(reject);\r\n    });\r\n  }\r\n\r\n}\r\n\r\n\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div class=\"row\">\r\n        <input-datetime [size]=\"6\" [label]=\"lex.translate('Data de distribuição')\" controlName=\"data_distribuicao\" [control]=\"form!.controls.data_distribuicao\" disabled labelInfo=\"Data de cadastro da atividade\"></input-datetime>\r\n        <input-datetime [size]=\"6\" [label]=\"lex.translate('Prazo de entrega')\" controlName=\"data_estipulada_entrega\" [control]=\"form!.controls.data_estipulada_entrega\" disabled labelInfo=\"Data estipulada para entrega da atividade\"></input-datetime>\r\n    </div>\r\n    <separator></separator>\r\n    <div class=\"row\">\r\n        <input-search label=\"Responsável\" #usuario [size]=\"12\" controlName=\"usuario_id\" [dao]=\"usuarioDao\" [join]=\"['planos_trabalho.tipo_modalidade:id,nome', 'planos_trabalho.entregas.entrega:id,nome']\" labelInfo=\"Responsável por executar a atividade\" (select)=\"onUsuarioSelect($event)\"></input-search>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-select [label]=\"lex.translate('Plano de trabalho')\" [size]=\"7\" controlName=\"plano_trabalho_id\" #planoTrabalho [control]=\"form!.controls.plano_trabalho_id\" [items]=\"planosTrabalhos\" (change)=\"onPlanoChange($event)\" [labelInfo]=\"lex.translate('Plano de trabalho')\"></input-select>\r\n        <input-select [label]=\"lex.translate('Entrega do plano')\" [size]=\"5\" controlName=\"plano_trabalho_entrega_id\" #entrega [control]=\"form!.controls.plano_trabalho_entrega_id\" [items]=\"planosTrabalhosEntregas\" [labelInfo]=\"lex.translate('Entrega') + ' do ' + lex.translate('plano de trabalho') + ' que a ' + lex.translate('atividade') + ' é referente'\"></input-select>\r\n    </div>\r\n    <separator></separator>\r\n    <div class=\"row\">\r\n        <input-datetime [size]=\"6\" label=\"Inicio\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" labelInfo=\"Data em que o usuário iniciou a atividade\"></input-datetime>\r\n        <input-switch label=\"Suspender as demais\" [size]=\"6\" controlName=\"suspender\" [control]=\"form!.controls.suspender\" [disabled]=\"!iniciadas.length ? '' : undefined\" [labelInfo]=\"labelInfoSuspender\"></input-switch>\r\n    </div>\r\n</editable-form>\r\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Atividade } from 'src/app/models/atividade.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\n\r\n@Component({\r\n  selector: 'app-atividade-form-pausar',\r\n  templateUrl: './atividade-form-pausar.component.html',\r\n  styleUrls: ['./atividade-form-pausar.component.scss']\r\n})\r\nexport class AtividadeFormPausarComponent extends PageFormBase<Atividade, AtividadeDaoService> implements OnInit {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  \r\n  public form: FormGroup;\r\n  public reiniciar: boolean = false;\r\n  public modalWidth: number = 400;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Atividade, AtividadeDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      data_inicio: {default: undefined},\r\n      data: {default: new Date()}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    let pausado = this.entity?.pausas?.find(x => !x.data_fim);\r\n\r\n    if(controlName == \"data\") {\r\n      if(this.reiniciar && !pausado) {\r\n        result = \"Não á pausa!\"; \r\n      } else if(!this.util.isDataValid(control.value)) {\r\n        result = \"Obrigatório\";\r\n      } else if(pausado && this.entity && (control.value as Date).getTime() < this.entity!.data_inicio!.getTime()) {\r\n        result = \"Menor que início!\";\r\n      } \r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.reiniciar = !!this.queryParams?.reiniciar;\r\n    this.title = this.reiniciar ? \"Reiniciar\" : \"Suspender\";\r\n    super.ngAfterViewInit();\r\n  }\r\n\r\n  public async loadData(entity: Atividade, form: FormGroup) {\r\n    //this.reiniciar = !!this.queryParams?.reiniciar;\r\n    let pausado = this.entity?.pausas?.find(x => !x.data_fim);\r\n    if(this.reiniciar && !pausado) {\r\n      this.error(\"Não há pausa ativa para ser reiniciada.\");\r\n    }\r\n    let formValue = {\r\n      inicio: this.reiniciar ? pausado?.data_inicio : undefined, \r\n      data: this.util.setStrTime(new Date(), this.auth.unidadeHora)\r\n    };\r\n    if(entity.unidade_id != this.auth.unidade!.id) {\r\n      await this.auth.selecionaUnidade(entity.unidade_id);\r\n    }\r\n    form.patchValue(formValue);\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity = (await this.dao!.getAtividade(this.urlParams!.get(\"id\")!))!;\r\n    await this.loadData(this.entity, form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<boolean> {\r\n    return new Promise<boolean>((resolve, reject) => {\r\n      let pausa = {\r\n        atividade_id: this.entity!.id,\r\n        data: this.form.controls.data.value \r\n      };\r\n      if(this.reiniciar) {\r\n        this.dao!.reiniciar(pausa).then(saved => resolve(saved)).catch(reject);\r\n      } else {\r\n        this.dao!.pausar(pausa).then(saved => resolve(saved)).catch(reject);\r\n      }\r\n    });\r\n  }\r\n\r\n}","<top-alert *ngIf=\"!reiniciar\" type=\"warning\" message=\"Dica: Não é necessário suspender a tarefa entre as jornadas de trabalho!\"></top-alert>\r\n<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div *ngIf=\"reiniciar\" class=\"row\">\r\n        <input-datetime [size]=\"12\" label=\"Início da pausa\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" disabled labelInfo=\"Data de início da última pausa\"></input-datetime>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-datetime [size]=\"12\" [label]=\"reiniciar ? 'Data de reinício' : 'Data da pausa'\" controlName=\"data\" [control]=\"form!.controls.data\" [labelInfo]=\"reiniciar ? 'Data e hora do reinício da atividade' : 'Data e hora do início da pausa/suspensão'\"></input-datetime>\r\n    </div>\r\n</editable-form>\r\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Atividade } from 'src/app/models/atividade.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\n\r\n@Component({\r\n  selector: 'app-atividade-form-prorrogar',\r\n  templateUrl: './atividade-form-prorrogar.component.html',\r\n  styleUrls: ['./atividade-form-prorrogar.component.scss']\r\n})\r\nexport class AtividadeFormProrrogarComponent extends PageFormBase<Atividade, AtividadeDaoService> implements OnInit {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  \r\n  public form: FormGroup;\r\n  public modalWidth: number = 400;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Atividade, AtividadeDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      data_distribuicao: {default: new Date()},\r\n      data_estipulada_entrega: {default: new Date()}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n\r\n    if(controlName == \"data_estipulada_entrega\") {\r\n      if(!this.util.isDataValid(control.value)) {\r\n        result = \"Obrigatório\";\r\n      } else if(this.entity?.data_distribuicao && (control.value as Date).getTime() < this.entity!.data_distribuicao!.getTime()) {\r\n        result = \"Menor que distribuição!\";\r\n      } \r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: Atividade, form: FormGroup) {\r\n    let formValue = {\r\n      data_distribuicao: entity.data_distribuicao, \r\n      data_estipulada_entrega: entity.data_estipulada_entrega \r\n    };\r\n    if(entity.unidade_id != this.auth.unidade!.id) {\r\n      await this.auth.selecionaUnidade(entity.unidade_id);\r\n    }\r\n    form.patchValue(formValue);\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity = (await this.dao!.getAtividade(this.urlParams!.get(\"id\")!))!;\r\n    await this.loadData(this.entity, form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<boolean> {\r\n    return new Promise<boolean>((resolve, reject) => {\r\n      let prorrogar = {\r\n        id: this.entity!.id,\r\n        data_estipulada_entrega: this.form.controls.data_estipulada_entrega.value \r\n      };\r\n      this.dao!.prorrogar(prorrogar).then(saved => resolve(saved)).catch(reject);\r\n    });\r\n  }\r\n\r\n}","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div class=\"row\">\r\n        <input-datetime [size]=\"12\" label=\"Data da distribuição\" controlName=\"data_distribuicao\" [control]=\"form!.controls.data_distribuicao\" disabled labelInfo=\"Data de distribuição da atividade\"></input-datetime>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-datetime [size]=\"12\" [label]=\"lex.translate('Prazo de entrega')\" controlName=\"data_estipulada_entrega\" [control]=\"form!.controls.data_estipulada_entrega\" labelInfo=\"Prazo para entrega da atividade\"></input-datetime>\r\n    </div>\r\n</editable-form>\r\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Atividade } from 'src/app/models/atividade.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\r\nimport { TipoDocumentoDaoService } from 'src/app/dao/tipo-documento-dao.service';\r\nimport { TipoTarefaDaoService } from 'src/app/dao/tipo-tarefa-dao.service';\r\nimport { AtividadeTarefaDaoService } from 'src/app/dao/atividade-tarefa-dao.service';\r\nimport { AtividadeTarefa } from 'src/app/models/atividade-tarefa.model';\r\nimport { TipoProcessoDaoService } from 'src/app/dao/tipo-processo-dao.service';\r\nimport { NavigateResult } from 'src/app/services/navigate.service';\r\nimport { SelectItem } from 'src/app/components/input/input-base';\r\nimport { TipoTarefa } from 'src/app/models/tipo-tarefa.model';\r\nimport { SeiKeys } from 'src/app/listeners/procedimento-trabalhar/procedimento-trabalhar.component';\r\nimport { ComentarioService } from 'src/app/services/comentario.service';\r\nimport { ComentariosComponent } from 'src/app/modules/uteis/comentarios/comentarios.component';\r\nimport { DocumentosLinkComponent } from 'src/app/modules/uteis/documentos/documentos-link/documentos-link.component';\r\n\r\n@Component({\r\n  selector: 'app-atividade-form-tarefa',\r\n  templateUrl: './atividade-form-tarefa.component.html',\r\n  styleUrls: ['./atividade-form-tarefa.component.scss']\r\n})\r\nexport class AtividadeFormTarefaComponent extends PageFormBase<AtividadeTarefa, AtividadeTarefaDaoService> implements OnInit {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('documento', { static: false }) public documento?: DocumentosLinkComponent;\r\n  @ViewChild('comentarios', { static: false }) public comentarios?: ComentariosComponent;\r\n  @ViewChild('tipoTarefa', { static: false }) public tipoTarefa?: InputSearchComponent;\r\n\r\n  public tipoTarefaDao: TipoTarefaDaoService;\r\n  public tipoDocumentoDao: TipoDocumentoDaoService;\r\n  public tipoProcessoDao: TipoProcessoDaoService;\r\n  public atividade?: Atividade;\r\n  public sei?: SeiKeys;\r\n  public allPages: ListenerAllPagesService;\r\n  public comentario: ComentarioService;\r\n  public form: FormGroup;\r\n  public modalWidth: number = 800;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, AtividadeTarefa, AtividadeTarefaDaoService);\r\n    this.tipoTarefaDao = injector.get<TipoTarefaDaoService>(TipoTarefaDaoService);\r\n    this.tipoDocumentoDao = injector.get<TipoDocumentoDaoService>(TipoDocumentoDaoService);\r\n    this.tipoProcessoDao = injector.get<TipoProcessoDaoService>(TipoProcessoDaoService);\r\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\r\n    this.comentario = injector.get<ComentarioService>(ComentarioService);\r\n    this.title = this.lex.translate(\"Tarefa da atividade\");\r\n    this.form = this.fh.FormBuilder({\r\n      descricao: {default: \"\"},\r\n      tarefa_id: {default: null},\r\n      tempo_estimado: {default: 0},\r\n      concluido: {default: false},\r\n      id_processo: {default: 0},\r\n      numero_processo: {default: \"\"},\r\n      documento: {default: null},\r\n      comentarios: {default: []}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if([\"descricao\"].includes(controlName) && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public formValidation = (form?: FormGroup) => {\r\n    const values = form!.value;\r\n    if(values.tipo_tarefa_id?.length && !this.tipoTarefa?.searchObj) {\r\n      return \"Aguarde o carregamento \" + this.lex.translate(\"tipo de tarefa\") + \". Caso demore, selecione novamente!\";\r\n    }\r\n    if(values.concluido && (this.tipoTarefa?.searchObj as TipoTarefa)?.documental && this.documento?.isEmpty()) {\r\n      return this.gb.isEmbedded ? \"Obrigatório selecionar um arquivo para a tarefa selecionada!\" : \"Utilize o sistema como extensão para concluir!\";\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n    const segment = (this.url ? this.url[this.url.length-1]?.path : \"\") || \"\";\r\n    this.action = segment == \"comentar\" ? segment : this.action;\r\n  }\r\n\r\n  public async loadData(entity: AtividadeTarefa, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    formValue = this.util.fillForm(formValue, entity);\r\n    await this.tipoTarefa?.loadSearch(entity.tipo_tarefa || formValue.tipo_tarefa_id);\r\n    formValue.comentarios = this.comentario.orderComentarios(formValue.comentarios || []);\r\n    form.patchValue(formValue);\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity = this.metadata.tarefa;\r\n    this.atividade = this.metadata.atividade;\r\n    this.sei = this.metadata.sei;\r\n    await this.loadData(this.entity!, form);\r\n  }\r\n\r\n  public async saveData(form: IIndexable) {\r\n    this.comentarios?.confirm();\r\n    this.util.fillForm(this.entity, this.form!.value);\r\n    this.entity!.tipo_tarefa = this.tipoTarefa?.searchObj;\r\n    return new NavigateResult(this.entity);\r\n  }\r\n\r\n  public onTipoTarefaSelect(item: SelectItem) {\r\n    const tipoTarefa: TipoTarefa | undefined = item.entity as TipoTarefa;\r\n    this.form!.controls.tempo_estimado.setValue(tipoTarefa?.tempo_estimado || 0);\r\n  }\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right [title]=\"!isModal ? title : ''\">\r\n        <tab key=\"TAREFA\" [label]=\"lex.translate('Tarefa da Atividade')\">\r\n            <div class=\"row\">\r\n                <input-textarea label=\"Descrição\" [size]=\"12\" [rows]=\"2\" controlName=\"descricao\" [control]=\"form!.controls.descricao\"></input-textarea>\r\n            </div>\r\n            <div class=\"row\">\r\n                <input-search [label]=\"lex.translate('Tipo de Tarefa')\" #tipoTarefa [size]=\"7\" controlName=\"tipo_tarefa_id\" [dao]=\"tipoTarefaDao\" (select)=\"onTipoTarefaSelect($event)\"></input-search>\r\n                <input-timer onlyHours label=\"Tempo estimado\" [size]=\"3\" controlName=\"tempo_estimado\" [control]=\"form!.controls.tempo_estimado\" labelInfo=\"Tempo estimado de execução\"></input-timer>\r\n                <input-switch label=\"Concluído\" [size]=\"2\" controlName=\"concluido\" [control]=\"form!.controls.concluido\" labelInfo=\"Se foi concluída\"></input-switch>\r\n            </div>\r\n            <documento-link #documento [sei]=\"sei\" [documento]=\"form!.controls.documento.value\"></documento-link>\r\n        </tab>\r\n        <tab key=\"COMENTARIOS\" label=\"Comentarios\">\r\n            <div clss=\"row\">\r\n                <comentarios #comentarios origem=\"ATIVIDADE_TAREFA\" [control]=\"form!.controls.comentarios\"></comentarios>\r\n            </div>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>\r\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Atividade, AtividadeChecklist } from 'src/app/models/atividade.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { SelectItem } from 'src/app/components/input/input-base';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { CalendarService } from 'src/app/services/calendar.service';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { Comentario } from 'src/app/models/comentario';\r\nimport { AtividadeTarefa } from 'src/app/models/atividade-tarefa.model';\r\nimport { ComentarioService } from 'src/app/services/comentario.service';\r\nimport { ComentariosComponent } from 'src/app/modules/uteis/comentarios/comentarios.component';\r\nimport { TipoAtividadeDaoService } from 'src/app/dao/tipo-atividade-dao.service';\r\nimport { Documento } from 'src/app/models/documento.model';\r\nimport { AtividadePausa } from 'src/app/models/atividade-pausa.model';\r\nimport { TipoAtividade } from 'src/app/models/tipo-atividade.model';\r\nimport { SeiKeys } from 'src/app/listeners/procedimento-trabalhar/procedimento-trabalhar.component';\r\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\r\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\r\n\r\nexport type Checklist = {id: string, texto: string, checked: boolean};\r\n\r\n@Component({\r\n  selector: 'app-atividade-form',\r\n  templateUrl: './atividade-form.component.html',\r\n  styleUrls: ['./atividade-form.component.scss']\r\n})\r\nexport class AtividadeFormComponent extends PageFormBase<Atividade, AtividadeDaoService> implements OnInit {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('etiqueta', { static: false }) public etiqueta?: InputSelectComponent;\r\n  @ViewChild('tipoAtividade', { static: false }) public tipoAtividade?: InputSearchComponent;\r\n  @ViewChild('planoTrabalho', { static: false }) public planoTrabalho?: InputSelectComponent;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\r\n  @ViewChild('comentarios', { static: false }) public comentarios?: ComentariosComponent;\r\n\r\n  public sei?: SeiKeys;\r\n  public form: FormGroup;\r\n  public formChecklist: FormGroup;\r\n  public planoTrabalhoDao: PlanoTrabalhoDaoService;\r\n  public tipoAtividadeDao: TipoAtividadeDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public usuarioDao: UsuarioDaoService;\r\n  public calendar: CalendarService;\r\n  public comentario: ComentarioService;\r\n  public etiquetas: LookupItem[] = [];\r\n  public checklist: LookupItem[] = [];\r\n  public planosTrabalhos: LookupItem[] = [];\r\n  public planoTrabalhoJoin: string[] = [\"entregas.entrega:id,nome\", \"tipo_modalidade:id,nome\"];\r\n  public planoTrabalhoSelecionado?: PlanoTrabalho | null = null;\r\n  public usuarioJoin: string[] = ['planos_trabalho.entregas.entrega:id,nome', 'planos_trabalho.tipo_modalidade:id,nome'];\r\n  public entregas: LookupItem[] = [];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Atividade, AtividadeDaoService);\r\n    const horaInicial = this.auth.hora;\r\n    this.tipoAtividadeDao = injector.get<TipoAtividadeDaoService>(TipoAtividadeDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\r\n    this.calendar = injector.get<CalendarService>(CalendarService);\r\n    this.comentario = injector.get<ComentarioService>(ComentarioService);\r\n    this.form = this.fh.FormBuilder({\r\n      numero: {default: 0},\r\n      descricao: {default: \"\"},\r\n      data_distribuicao: {default: horaInicial},\r\n      carga_horaria: {default: 0},\r\n      tempo_planejado: {default: 0},\r\n      data_estipulada_entrega: {default: horaInicial},\r\n      data_inicio: {default: null},\r\n      data_entrega: {default: null},\r\n      esforco: {default: 0},\r\n      tempo_despendido: {default: 0},\r\n      data_arquivamento: {default: null},\r\n      etiquetas: {default: []},\r\n      checklist: {default: []},\r\n      prioridade: {default: 0},\r\n      progresso: {default: 0},\r\n      plano_trabalho_id: {default: null},\r\n      plano_trabalho_entrega_id: {default: null},\r\n      tipo_atividade_id: {default: null},\r\n      demandante_id: {default: \"\"},\r\n      usuario_id: {default: null},\r\n      unidade_id: {default: \"\"},\r\n      documento_requisicao_id: {default: null},\r\n      documento_entrega_id: {default: null},\r\n      comentarios: {default: []},\r\n      pausas: {default: []},\r\n      etiqueta: {default: \"\"},\r\n      tarefas: {default: []},\r\n      documento_requisicao: {default: new Documento()},\r\n      documento_entrega: {default: new Documento()}\r\n    }, this.cdRef, this.validate);\r\n    this.formChecklist = this.fh.FormBuilder({\r\n      id: {default: \"\"},\r\n      texto: {default: \"\"},\r\n      checked: {default: false}\r\n    }, this.cdRef, this.validateChecklist);\r\n    this.join = [\"usuario.planos_entrega.entregas.entrega:id,nome\", \"usuario.planos_entrega.tipo_modalidade:id,nome\", \"pausas\", \"tipo_atividade\", \"unidade\", \"comentarios.usuario\", \"tarefas.tipo_tarefa\", \"tarefas.comentarios.usuario\", \"documento_requisicao\", \"documento_entrega\"];\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n    const segment = (this.url ? this.url[this.url.length-1]?.path : \"\") || \"\";\r\n    this.action = [\"comentar\", \"clonar\"].includes(segment) ? segment : this.action;\r\n  }\r\n\r\n  public get isClonar(): boolean {\r\n    return this.action == \"clonar\";\r\n  }\r\n\r\n  public get titleAtividade(): string {\r\n    return this.form?.controls.numero?.value ? \"#\" + this.form?.controls.numero?.value : \"\";\r\n  }\r\n\r\n  public validateChecklist = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    return result;\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n\r\n    if([\"unidade_id\", \"descricao\"].includes(controlName) && !control?.value?.length) {\r\n      result = \"Obrigatório\";\r\n    } else if(controlName == \"tipo_atividade_id\" && !control?.value?.length && !this.auth.hasPermissionTo(\"MOD_ATV_TIPO_ATV_VAZIO\")) {\r\n      result = \"Obrigatório\";\r\n    } else if([\"data_distribuicao\", \"data_estipulada_entrega\"].includes(controlName)) {\r\n      let prazoEntrega = this.form?.controls.data_estipulada_entrega?.value;\r\n      let dataDistribuicao = this.form?.controls.data_distribuicao?.value;\r\n      if (!this.util.isDataValid(control.value)) {\r\n        result = \"Data inválida\";\r\n      } else if(controlName == \"data_distribuicao\" && control.value && this.util.isDataValid(prazoEntrega) && control.value.getTime() > prazoEntrega.getTime()) {\r\n        result = \"Maior que entrega\";\r\n      } else if(controlName == \"data_estipulada_entrega\" && control.value && this.util.isDataValid(dataDistribuicao) && control.value.getTime() < dataDistribuicao.getTime()) {\r\n        result = \"Menor que distribuição\";\r\n      }\r\n    } else if(controlName == \"plano_trabalho_id\" && !control.value?.length && this.form?.controls?.usuario_id.value?.length) {\r\n      result = \"Obrigatório\";\r\n    } else if(controlName == \"plano_trabalho_entrega_id\") {\r\n      if(this.form?.controls?.plano_trabalho_id.value?.length && !control.value?.length) {\r\n        result = \"Obrigatório\";\r\n      } else if(control.value?.length && !this.entregas.find(x => x.key == control.value)) {\r\n        result = \"Selecione\";\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  public formValidation = (form?: FormGroup) => {\r\n    let result = undefined;\r\n    this.loadEtiquetas();\r\n    this.loadChecklist();\r\n    const etiquetasKeys = this.etiquetas.map(x => x.key);\r\n    const checklistKeys = this.checklist.map(x => x.key);\r\n    const etiqueta = (this.form.controls.etiquetas.value || []).find((x: LookupItem) => !etiquetasKeys.includes(x.key)) as LookupItem;\r\n    const checklst = (this.form.controls.checklist.value || []).find((x: AtividadeChecklist) => !etiquetasKeys.includes(x.id) && x.checked) as AtividadeChecklist;\r\n    if(etiqueta) result = \"Etiqueta \" + etiqueta.value + \"não pode ser utilizada!\";\r\n    if(checklst) result = \"Checklist \" + checklst.texto + \"não pode ser utilizado!\";\r\n    return result;\r\n  }\r\n\r\n  public addItemHandleEtiquetas(): LookupItem | undefined {\r\n    let result = undefined;\r\n    if(this.etiqueta && this.etiqueta.selectedItem) {\r\n      const item = this.etiqueta.selectedItem;\r\n      const key = item.key?.length ? item.key : this.util.textHash(item.value);\r\n      if(this.util.validateLookupItem(this.form.controls.etiquetas.value, key)) {\r\n        result = {\r\n          key: key,\r\n          value: item.value,\r\n          color: item.color,\r\n          icon: item.icon\r\n        };\r\n        this.form.controls.etiqueta.setValue(\"\");\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  public onUnidadeChange(event: Event) {\r\n    this.loadEtiquetas();\r\n  }\r\n\r\n  public onDataDistribuicaoChange(event: Event) {\r\n    this.loadUsuario(this.usuario?.selectedItem?.entity); /* Atualiza a lista de planos de trabalho válidos no período */\r\n    this.form?.controls.data_estipulada_entrega.updateValueAndValidity();\r\n  }\r\n\r\n  public onPrazoEntregaChange(event: Event) {\r\n    this.form?.controls.data_distribuicao.updateValueAndValidity();\r\n  }\r\n\r\n  public onPlanoTrabalhoChange(event: Event) {\r\n    (async () => {\r\n      if(this.entity) {\r\n        const planoTrabalho = (this.usuario?.searchObj as Usuario)?.planos_trabalho?.find(x => x.id == this.form!.controls.plano_trabalho_id.value);\r\n        const planoTrabalhoEntregaId = this.form.controls.plano_trabalho_entrega_id.value;\r\n        if(planoTrabalho) {\r\n          if(this.planoTrabalhoSelecionado?.id != planoTrabalho.id) {\r\n            this.planoTrabalhoSelecionado = await this.planoTrabalhoDao.getById(planoTrabalho.id, this.planoTrabalhoJoin);\r\n          }\r\n          if(this.form!.controls.unidade_id.value != planoTrabalho.unidade_id) {\r\n            const unidade = await this.unidadeDao.getById(planoTrabalho.unidade_id);\r\n            if(unidade) {\r\n              await this.unidade?.loadSearch(unidade);\r\n              await this.auth.selecionaUnidade(unidade.id);\r\n            }\r\n          }\r\n          this.entregas = planoTrabalho.entregas?.map(x => Object.assign({}, {\r\n            key: x.id,\r\n            value: x.descricao + (x.entrega ? \" (\" + x.entrega!.nome + \")\" : \"\"),\r\n            data: x\r\n          })) || [];\r\n          this.cdRef.detectChanges();\r\n          this.form.controls.plano_trabalho_entrega_id.setValue(!planoTrabalhoEntregaId?.length && this.entregas.length > 0 ? this.entregas[0].key : planoTrabalhoEntregaId);\r\n        } else {\r\n          this.entregas = [];\r\n          this.form.controls.plano_trabalho_entrega_id.setValue(null);\r\n        }\r\n      }\r\n    })();\r\n  }\r\n\r\n  public loadEtiquetas() {\r\n    const unidade = (this.unidade?.searchObj as Unidade);\r\n    const tipoAtividade = (this.tipoAtividade?.searchObj as TipoAtividade);\r\n    this.etiquetas = this.util.merge(tipoAtividade?.etiquetas, unidade?.etiquetas, (a, b) => a.key == b.key);\r\n  }\r\n\r\n  public loadChecklist() {\r\n    const tipoAtividade = (this.tipoAtividade?.searchObj as TipoAtividade);\r\n    this.checklist = tipoAtividade?.checklist || [];\r\n    let checks: AtividadeChecklist[] = this.util.merge(this.checklist.map(a => {\r\n      return {\r\n        id: a.key,\r\n        texto: a.value,\r\n        checked: false\r\n      } as AtividadeChecklist;\r\n    }), (this.form.controls.checklist.value || []).filter((b: AtividadeChecklist) => b.checked), (a: AtividadeChecklist, b: AtividadeChecklist) => {\r\n      if(a.id == b.id) {\r\n        a.checked = b.checked;\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n    this.form.controls.checklist.setValue(checks);\r\n  }\r\n\r\n  public loadTipoAtividade(tipoAtividade: TipoAtividade | undefined) {\r\n    if(tipoAtividade) {\r\n      this.loadEtiquetas();\r\n      this.loadChecklist();\r\n    } else {\r\n      this.etiquetas = [];\r\n      this.form.controls.esforco.setValue(0);\r\n      this.form.controls.tempo_planejado.setValue(0);\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public getPlanosTrabalhos(usuario: Usuario, data_distribuicao: Date, plano_trabalho_id: string | null): LookupItem[] {\r\n    return usuario.planos_trabalho?.filter(x => x.id == plano_trabalho_id || (this.util.between(data_distribuicao, {start: x.data_inicio, end: x.data_fim}))).map(x => Object.assign({\r\n      key: x.id, \r\n      value: (x.tipo_modalidade?.nome || \"\") + \" - \" + this.usuarioDao.getDateFormatted(x.data_inicio)+ \" a \" + this.usuarioDao.getDateFormatted(x.data_fim), data: x\r\n    })) || [];\r\n  }\r\n\r\n  public loadUsuario(usuario: Usuario | undefined) {\r\n    if(usuario) {\r\n      const planoTrabalhoId = this.form.controls.plano_trabalho_id.value;\r\n      const dataDistribuicao = this.form.controls.data_distribuicao.value || new Date();\r\n      this.planosTrabalhos = this.getPlanosTrabalhos(usuario, dataDistribuicao, planoTrabalhoId); //usuario?.planos?.map(x => Object.assign({key: x.id, value: (x.tipo_modalidade?.nome || \"\") + \" - \" + this.usuarioDao.getDateFormatted(x.data_inicio)+ \" a \" + this.usuarioDao.getDateFormatted(x.data_fim), data: x})) || [];\r\n      this.cdRef.detectChanges();\r\n      this.form.controls.plano_trabalho_id.setValue(!planoTrabalhoId?.length && this.planosTrabalhos.length > 0 ? this.planosTrabalhos[0].key : planoTrabalhoId);\r\n    } else {\r\n      this.planosTrabalhos = [];\r\n      this.form.controls.plano_trabalho_id.setValue(null);\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onTipoAtividadeSelect(item: SelectItem) {\r\n    const tipoAtividade: TipoAtividade | undefined = item.entity as TipoAtividade;\r\n    this.loadTipoAtividade(tipoAtividade);\r\n    this.comentarioAtividade(tipoAtividade);\r\n  }\r\n\r\n  public comentarioAtividade(tipoAtividade?: TipoAtividade) {\r\n    const comentarios: Comentario[] = this.form.controls.comentarios.value || [];\r\n    const index = comentarios.findIndex(x => x.tipo == \"TIPO_ATIVIDADE\");\r\n    if(index >= 0) {\r\n      if(comentarios[index]._status == \"ADD\") {\r\n        comentarios.splice(index, 1);\r\n      } else {\r\n        comentarios[index]._status == \"DELETE\";\r\n      }\r\n    }\r\n    if(tipoAtividade?.comentario?.length) {\r\n      const comentario = new Comentario();\r\n      comentario.id = this.dao!.generateUuid();\r\n      comentario.path = \"\";\r\n      comentario.texto = tipoAtividade.comentario;\r\n      comentario.data_comentario = this.auth.hora;\r\n      comentario.usuario_id = this.auth.usuario!.id;\r\n      comentario.comentario_id = null;\r\n      comentario.tipo = \"TIPO_ATIVIDADE\";\r\n      comentario.usuario = this.auth.usuario;\r\n      comentario._status = \"ADD\";\r\n      comentarios.push(comentario);\r\n      this.form.controls.comentarios.setValue(this.comentario.orderComentarios(comentarios));\r\n      this.cdRef.detectChanges();\r\n    }\r\n  }\r\n\r\n  public onTipoAtividadeChange(event: Event) {\r\n    if(!this.form?.controls.tipo_atividade_id.value?.length) this.loadTipoAtividade(undefined);\r\n  }\r\n\r\n  public onUsuarioSelect(item: SelectItem) {\r\n    const usuario: Usuario | undefined = item.entity as Usuario;\r\n    this.loadUsuario(usuario);\r\n  }\r\n\r\n  public onUsuarioChange(event: Event) {\r\n    if(!this.form?.controls.usuario_id.value?.length) this.loadUsuario(undefined);\r\n  }\r\n\r\n  public orderPausas(pausas: AtividadePausa[]) {\r\n    return pausas.sort((a: AtividadePausa, b: AtividadePausa) => {\r\n      return a.data_inicio < b.data_inicio ? -1 : 1;\r\n    });\r\n  }\r\n\r\n  public async loadData(entity: Atividade, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    formValue = this.util.fillForm(formValue, entity);\r\n    this.planoTrabalhoSelecionado = entity.plano_trabalho;\r\n    await Promise.all([\r\n      this.unidade?.loadSearch(entity.unidade || formValue.unidade_id, false),\r\n      this.usuario?.loadSearch(entity.usuario || formValue.usuario_id, false),\r\n      this.tipoAtividade?.loadSearch(entity.tipo_atividade || formValue.tipo_atividade_id, false)\r\n    ]);\r\n    form.patchValue(formValue, {emitEvent: false}); /* Carrega valores iniciais no form e previne que o plano_id seja sobrescrito */\r\n    if(entity.usuario) this.loadUsuario(entity.usuario);\r\n    if(entity.tipo_atividade) this.loadTipoAtividade(entity.tipo_atividade);\r\n    if(entity.unidade_id != this.auth.unidade!.id) await this.auth.selecionaUnidade(entity.unidade_id);\r\n    entity.comentarios = this.comentario.orderComentarios(entity.comentarios || []);\r\n    entity.pausas = this.orderPausas(entity.pausas || []);\r\n    form.patchValue(formValue); /* Carrega os valores e dispara os eventos */\r\n    this.loadEtiquetas();\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    if (this.isClonar) {\r\n      const source = (await this.dao!.getAtividade(this.urlParams!.get(\"id\")!))!;\r\n      this.entity = new Atividade();\r\n      Object.assign(this.entity, {\r\n        tipo_atividade: source.tipo_atividade,\r\n        unidade: source.unidade,\r\n        usuario: source.usuario,\r\n        plano_trabalho: source.plano_trabalho,\r\n        descricao: source.descricao,\r\n        data_distribuicao: source.data_distribuicao,\r\n        tempo_planejado: source.tempo_planejado,\r\n        carga_horaria: source.carga_horaria,\r\n        data_estipulada_entrega: source.data_estipulada_entrega,\r\n        esforco: source.esforco,\r\n        tipo_atividade_id: source.tipo_atividade_id,\r\n        demandante_id: this.auth.usuario?.id,\r\n        usuario_id: source.usuario_id,\r\n        unidade_id: source.unidade_id,\r\n        plano_trabalho_id: source.plano_trabalho_id,\r\n        etiquetas: source.etiquetas,\r\n        checklist: source.checklist,\r\n        plano_trabalho_entrega_id: source.plano_trabalho_entrega_id,\r\n        progresso: source.progresso,\r\n        tarefas: (source.tarefas || []).map((tarefa: AtividadeTarefa) => new AtividadeTarefa(Object.assign({}, tarefa, {\r\n          id: this.dao!.generateUuid(),\r\n          comentarios: [],\r\n          _status: \"ADD\"\r\n        }))),\r\n        documento_requisicao: !source.documento_requisicao ? undefined : Object.assign({}, new Documento(Object.assign({}, source.documento_requisicao, {\r\n          id: this.dao!.generateUuid(),\r\n          _status: \"ADD\"\r\n        }))),\r\n        documento_entrega: !source.documento_entrega ? undefined : Object.assign({}, new Documento(Object.assign({}, source.documento_entrega, {\r\n          id: this.dao!.generateUuid(),\r\n          _status: \"ADD\"\r\n        })))\r\n      });\r\n    } else {\r\n      this.sei = this.metadata?.sei;\r\n      this.entity = new Atividade();\r\n      this.entity.data_distribuicao = this.auth.hora;\r\n      this.entity.data_estipulada_entrega = this.entity.data_distribuicao;\r\n      this.entity.demandante_id = this.auth.usuario?.id || \"\";\r\n      this.entity.unidade_id = this.auth.unidade?.id || \"\";\r\n      this.entity.unidade = this.auth.unidade;\r\n      /* Verificar isso (TODO)\r\n      if(this.queryParams?.numero_requisicao?.length) {\r\n        this.entity.numero_requisicao = this.queryParams?.numero_requisicao;\r\n      } else if(this.queryParams?.numero_processo?.length) {\r\n        this.entity.numero_processo = this.queryParams?.numero_processo;\r\n      }*/\r\n    }\r\n    await this.loadData(this.entity, form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<Atividade | boolean> {\r\n    return new Promise<Atividade | boolean>((resolve, reject) => {\r\n      let atividade = this.util.fill(new Atividade(), this.entity!);\r\n      this.comentarios?.confirm();\r\n      atividade = this.util.fillForm(atividade, this.form!.value);\r\n      atividade.comentarios = atividade.comentarios.filter((x: Comentario) => [\"ADD\", \"EDIT\", \"DELETE\"].includes(x._status || \"\") && x.texto?.length);\r\n      atividade.tarefas = atividade.tarefas.filter((tarefa: AtividadeTarefa) => {\r\n        tarefa.comentarios = tarefa.comentarios.filter((x: Comentario) => [\"ADD\", \"EDIT\", \"DELETE\"].includes(x._status || \"\") && x.texto?.length);\r\n        return [\"ADD\", \"EDIT\", \"DELETE\"].includes(tarefa._status || \"\");\r\n      });\r\n      resolve(atividade);\r\n    });\r\n  }\r\n}\r\n\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right [title]=\"titleAtividade\">\r\n        <tab key=\"ATIVIDADE\" label=\"Atividade\">\r\n            <documento-link [sei]=\"sei\" [documento]=\"form!.controls.documento_requisicao.value\"></documento-link>\r\n            <div class=\"row\">\r\n                <input-textarea label=\"Descrição\" [size]=\"12\" [rows]=\"2\" controlName=\"descricao\" [control]=\"form!.controls.descricao\"></input-textarea>\r\n            </div>\r\n            <div class=\"row\">\r\n                <input-search [label]=\"lex.translate('Unidade')\" [size]=\"6\" #unidade controlName=\"unidade_id\" [dao]=\"unidadeDao\"  (change)=\"onUnidadeChange($event)\"></input-search>\r\n                <input-search [label]=\"lex.translate('Tipo de atividade')\" #tipoAtividade [emptyValue]=\"null\" [size]=\"6\" controlName=\"tipo_atividade_id\"  [dao]=\"tipoAtividadeDao\" (select)=\"onTipoAtividadeSelect($event)\" (change)=\"onTipoAtividadeChange($event)\" [labelInfo]=\"lex.translate('Tipo de atividade') + ' utilizado para classificar a atividade'\"></input-search>\r\n            </div>\r\n            <div class=\"row\">\r\n                <input-search label=\"Responsável\" [size]=\"4\" [emptyValue]=\"null\" #usuario controlName=\"usuario_id\" [dao]=\"usuarioDao\" [join]=\"usuarioJoin\" labelInfo=\"Responsável pela execução\" (select)=\"onUsuarioSelect($event)\" (change)=\"onUsuarioChange($event)\"></input-search>\r\n                <input-select [label]=\"lex.translate('Plano de trabalho')\" [size]=\"4\" controlName=\"plano_trabalho_id\" #planoTrabalho [control]=\"form!.controls.plano_trabalho_id\" [items]=\"planosTrabalhos\" (change)=\"onPlanoTrabalhoChange($event)\" [labelInfo]=\"lex.translate('Plano de trabalho')\"></input-select>\r\n                <input-select [label]=\"lex.translate('Entrega') + ' ' + lex.translate('plano de trabalho')\" [size]=\"4\" controlName=\"plano_trabalho_entrega_id\" #entrega [control]=\"form!.controls.plano_trabalho_entrega_id\" [items]=\"entregas\" [labelInfo]=\"lex.translate('Entrega') + lex.translate('plano de trabalho') + ' que a ' + lex.translate('atividade') + ' é referente'\"></input-select>\r\n            </div>\r\n            <div *ngIf=\"!planoTrabalho?.selectedItem?.data?.tipo_modalidade?.atividade_esforco; else comEsforco\" class=\"row\">\r\n                <input-datetime noIcon [size]=\"4\" [label]=\"lex.translate('Data de distribuição')\" controlName=\"data_distribuicao\" [control]=\"form!.controls.data_distribuicao\" (change)=\"onDataDistribuicaoChange($event)\" labelInfo=\"Data de inclusão/distribuição/lançamento\"></input-datetime>\r\n                <input-number [size]=\"4\" [decimals]=\"2\" label=\"Progresso\" disabled sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso\" labelInfo=\"Progresso de execução (% Concluído)\"></input-number>\r\n                <input-datetime noIcon  [size]=\"4\" [label]=\"lex.translate('Prazo de entrega')\" controlName=\"data_estipulada_entrega\" [control]=\"form!.controls.data_estipulada_entrega\" (change)=\"onPrazoEntregaChange($event)\" labelInfo=\"Data estipulada para entrega da atividade\"></input-datetime>\r\n            </div>\r\n            <ng-template #comEsforco>\r\n                <div class=\"row\">\r\n                    <input-datetime noIcon [size]=\"3\" [label]=\"lex.translate('Data de distribuição')\" controlName=\"data_distribuicao\" [control]=\"form!.controls.data_distribuicao\" (change)=\"onDataDistribuicaoChange($event)\" labelInfo=\"Data de inclusão/distribuição/lançamento\"></input-datetime>\r\n                    <input-timer [size]=\"3\" [label]=\"lex.translate('Esforço')\" icon=\"bi bi-stopwatch\" onlyHours controlName=\"esforco\" [control]=\"form!.controls.esforco\" labelInfo=\"Tempo estimado de execução\"></input-timer>\r\n                    <input-number [size]=\"3\" [decimals]=\"2\" label=\"Progresso\" disabled sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso\" labelInfo=\"Progresso de execução (% Concluído)\"></input-number>\r\n                    <input-datetime noIcon  [size]=\"3\" [label]=\"lex.translate('Prazo de entrega')\" controlName=\"data_estipulada_entrega\" [control]=\"form!.controls.data_estipulada_entrega\" (change)=\"onPrazoEntregaChange($event)\" labelInfo=\"Data estipulada para entrega da atividade\"></input-datetime>\r\n                </div>\r\n            </ng-template>\r\n            <separator *ngIf=\"form!.controls.data_entrega.value\" title=\"Conclusão\">\r\n                <div *ngIf=\"!planoTrabalho?.selectedItem?.data?.tipo_modalidade?.atividade_tempo_despendido; else comTempoDespendido\" class=\"row\">\r\n                    <input-datetime noIcon [size]=\"4\" label=\"Inicio\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" disabled labelInfo=\"Data em que o usuário iniciou a atividade\"></input-datetime>\r\n                    <input-datetime noIcon [size]=\"4\" label=\"Conclusão\" controlName=\"data_entrega\" [control]=\"form!.controls.data_entrega\" disabled labelInfo=\"Data da conclusão da atividade\"></input-datetime>\r\n                    <input-datetime [size]=\"4\" label=\"Data de arquivamento\" controlName=\"data_arquivamento\" [control]=\"form!.controls.data_inicio\" disabled labelInfo=\"Data de arquivamento da atividade\"></input-datetime>\r\n                </div>\r\n                <ng-template #comTempoDespendido>\r\n                    <div class=\"row\">\r\n                        <input-datetime noIcon [size]=\"4\" label=\"Inicio\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" disabled labelInfo=\"Data em que o usuário iniciou a atividade\"></input-datetime>\r\n                        <input-datetime noIcon [size]=\"4\" label=\"Conclusão\" controlName=\"data_entrega\" [control]=\"form!.controls.data_entrega\" disabled labelInfo=\"Data da conclusão da atividade\"></input-datetime>\r\n                        <input-timer [size]=\"4\" label=\"Tempo despendido\" icon=\"bi bi-hourglass-bottom\" controlName=\"tempo_despendido\" [control]=\"form!.controls.tempo_despendido\" disabled labelInfo=\"Calculado no fim da atividade, sendo o tempo líquido (considerando pausas)\"></input-timer>\r\n                        <input-datetime [size]=\"4\" label=\"Data de arquivamento\" controlName=\"data_arquivamento\" [control]=\"form!.controls.data_inicio\" disabled labelInfo=\"Data de arquivamento da atividade\"></input-datetime>\r\n                    </div>\r\n                </ng-template>\r\n                <documento-link [documento]=\"form!.controls.documento_entrega.value\"></documento-link>\r\n            </separator>\r\n        </tab>\r\n        <tab key=\"TAREFAS\" [label]=\"lex.translate('Tarefa') + ' ' + lex.translate('atividade')\">\r\n            <atividade-list-tarefa [control]=\"form!.controls.tarefas\" [atividade]=\"entity\" [disabled]=\"formDisabled\"></atividade-list-tarefa>\r\n        </tab>\r\n        <tab key=\"CARACTERIZACAO\" label=\"Caracterização\">\r\n            <div class=\"row\">\r\n                <input-multiselect label=\"Etiquetas\" controlName=\"etiquetas\" [size]=\"8\" [control]=\"form!.controls.etiquetas\" [addItemHandle]=\"addItemHandleEtiquetas.bind(this)\">\r\n                    <input-select [size]=\"12\" #etiqueta controlName=\"etiqueta\" [control]=\"form!.controls.etiqueta\" [items]=\"etiquetas\"></input-select>\r\n                </input-multiselect>\r\n                <div class=\"col-md-4\">\r\n                    <grid [control]=\"form!.controls.checklist\" [form]=\"formChecklist\" [hasAdd]=\"false\" [hasDelete]=\"false\" editable>\r\n                        <columns>\r\n                            <column type=\"switch\" title=\"Check\" field=\"checked\"></column>\r\n                            <column type=\"display\" title=\"Texto\" field=\"texto\" [editable]=\"false\"></column>\r\n                            <column type=\"options\"></column>\r\n                        </columns>\r\n                    </grid>\r\n                </div>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"COMENTARIOS\" label=\"Comentários\">\r\n            <div clss=\"row\">\r\n                <comentarios #comentarios origem=\"ATIVIDADE\" [control]=\"form!.controls.comentarios\"></comentarios>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"COMPLEMENTARES\" label=\"Complementares\">\r\n            <div class=\"row\">\r\n                <input-search label=\"Demandante\" [size]=\"12\" controlName=\"demandante_id\" [dao]=\"usuarioDao\" disabled></input-search>\r\n            </div>\r\n            <div clss=\"row\">\r\n                <div class=\"card col-md-4 mt-4\">\r\n                    <h5 class=\"card-header\">\r\n                        <i class=\"bi bi-pause-circle\"></i>\r\n                        Suspensões/Pausas\r\n                    </h5>\r\n                    <div class=\"card-body\">\r\n                        <grid [control]=\"form!.controls.pausas\" #pausas [hasEdit]=\"false\" [hasDelete]=\"false\" [minHeight]=\"0\" disabled>\r\n                            <columns>\r\n                                <column title=\"Início\" type=\"datetime\" field=\"data_inicio\"></column>\r\n                                <column title=\"Fim\" type=\"datetime\" field=\"data_fim\"></column>\r\n                            </columns>\r\n                        </grid>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>\r\n","import { Component, Injector, Input, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { ActivatedRouteSnapshot } from '@angular/router';\r\nimport { DndDropEvent, DropEffect } from 'ngx-drag-drop';\r\nimport { FilterComponent } from 'src/app/components/grid/filter/filter.component';\r\nimport { CardItem, DockerComponent } from 'src/app/components/kanban/docker/docker.component';\r\nimport { KanbanComponent, KanbanDocker } from 'src/app/components/kanban/kanban.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { QueryOptions } from 'src/app/dao/query-options';\r\nimport { Atividade } from 'src/app/models/atividade.model';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { RouteMetadata } from 'src/app/services/navigate.service';\r\nimport { AtividadeListBase } from '../atividade-list-base';\r\nimport { BadgeButton } from 'src/app/components/badge/badge.component';\r\n\r\nexport type StatusDockerConfig = {\r\n  naoIniciado: boolean, \r\n  pausado: boolean,\r\n  iniciado: boolean,\r\n  concluido: boolean\r\n}\r\n\r\n@Component({\r\n  selector: 'atividade-list-kanban',\r\n  templateUrl: './atividade-list-kanban.component.html',\r\n  styleUrls: ['./atividade-list-kanban.component.scss']\r\n})\r\nexport class AtividadeListKanbanComponent extends AtividadeListBase {\r\n  @ViewChild(\"filterRef\", {static: false}) filterRef?: FilterComponent;\r\n  @ViewChild(\"kanbanEtiquetas\", {static: false}) kanbanEtiquetas?: KanbanComponent;\r\n  @ViewChild(\"dockerNaoIniciado\", {static: false}) dockerNaoIniciado?: DockerComponent;\r\n  @ViewChild(\"dockerPausado\", {static: false}) dockerPausado?: DockerComponent;\r\n  @ViewChild(\"dockerIniciado\", {static: false}) dockerIniciado?: DockerComponent;\r\n  @ViewChild(\"dockerConcluido\", {static: false}) dockerConcluido?: DockerComponent;\r\n  @Input() snapshot?: ActivatedRouteSnapshot;\r\n  @Input() fixedFilter?: any[];\r\n\r\n  public TITLE_OUTRAS = \"Outras\";\r\n  public NAOINICIADO: number = 0;\r\n  public PAUSADO: number = 1;\r\n  public INICIADO: number = 2;\r\n  public CONCLUIDO: number = 3;\r\n  public AVALIADO: number = 4;\r\n  public DOCKERS: string[] = [\"NAOINICIADO\", \"PAUSADO\", \"INICIADO\", \"CONCLUIDO\"];\r\n  public cards: (CardItem[])[] = [[], [], [], []];\r\n  public cardsConfig: StatusDockerConfig = {naoIniciado: false, pausado: false, iniciado: false, concluido: false};\r\n  public labels: KanbanDocker[] = [];\r\n  public cardsVersion: number = 0;\r\n  public dragDrop: any = {};\r\n  public rowsLimit = 500;\r\n  public kanbanQueryOptions: QueryOptions = {};\r\n  public formEdit: FormGroup;\r\n  public etiquetasEdit: LookupItem[] = [];\r\n  public toolbarButtons: ToolbarButton[] = [\r\n    {\r\n      icon: \"bi bi-search\",\r\n      label: \"Filtrar\",\r\n      onClick: () => this.filterRef?.toggle()\r\n    },\r\n    {\r\n      icon: \"bi bi-plus-circle\",\r\n      color: \"btn-outline-success\",\r\n      label: \"Incluir\",\r\n      onClick: async () => await this.add()\r\n    }\r\n  ];\r\n  public outrasButtons: ToolbarButton[] = [\r\n    {\r\n      icon: \"bi bi-plus-circle\",\r\n      color: \"btn-outline-success\",\r\n      hint: \"Incluir nova lista a direita\",\r\n      onClick: this.incluirLista.bind(this)\r\n    }\r\n  ];\r\n  public etiquetasButtons: ToolbarButton[] = [\r\n    {\r\n      icon: \"bi bi-plus-circle\",\r\n      color: \"btn-outline-success\",\r\n      hint: \"Incluir nova lista a direita\",\r\n      onClick: this.incluirLista.bind(this)\r\n    }\r\n  ];\r\n  public menuDockerNaoIniciado: ToolbarButton[] = [\r\n    {\r\n      icon: \"bi bi-plus-circle\",\r\n      color: \"btn-outline-primary\",\r\n      hint: \"Incluir\",\r\n      onClick: async () => await this.add()\r\n    }\r\n  ];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    /* Inicializações */\r\n    this.code = \"MOD_DMD\";\r\n    this.filter = this.fh.FormBuilder({\r\n      atribuidas_para_mim: {default: false},\r\n      usuario_id: {default: \"\"},\r\n      somente_unidade_atual: {default: false},\r\n      unidades_subordinadas: {default: false},\r\n      unidade_id: {default: \"\"},\r\n      numero_processo: {default: \"\"},\r\n      status: {default: \"\"},\r\n      usarEtiquetas: {default: !!this.usuarioConfig?.kanban_usar_etiquetas},\r\n      resumido: {default: !!this.usuarioConfig?.kanban_resumido},\r\n      etiquetas: {default: []}\r\n    });\r\n    this.formEdit = this.fh.FormBuilder({\r\n      etiqueta: {default: null}\r\n    });\r\n    this.cardsConfig = Object.assign(this.cardsConfig, this.usuarioConfig?.kanban_status_dockers);\r\n    this.groupBy = [];\r\n    this.loadEtiquetas();\r\n    this.loadLabel();\r\n  }\r\n\r\n  public defaultUsuarioConfig() {\r\n    return Object.assign(super.defaultUsuarioConfig(), {\r\n      active_tab: \"TABELA\",\r\n      kanban_resumido: false,\r\n      kanban_usar_etiquetas: false,\r\n      kanban_status_dockers: {naoIniciado: false, pausado: false, iniciado: false, concluido: false},\r\n      kanban_etiquetas_dockers: []\r\n    });   \r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    super.ngAfterViewInit();\r\n    this.query!.onLoadingChange = (loading) => {\r\n      this.loading = loading;\r\n      this.cdRef.detectChanges();\r\n    }\r\n    this.loading = this.query!.loading;\r\n    this.query!.subject.asObservable().subscribe(this.onQueryLoad.bind(this));\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public isOutras(x: KanbanDocker): boolean {\r\n    return x.title == this.TITLE_OUTRAS && !x.labels.length;\r\n  } \r\n\r\n  public loadLabel() {\r\n    const dockers: any[] = [...(this.usuarioConfig?.kanban_etiquetas_dockers || [])];\r\n    if(!dockers.find(this.isOutras.bind(this))) dockers.splice(0, 0, {title: this.TITLE_OUTRAS, labels: [], collapse: false});\r\n    this.labels = dockers.reduce((a, v) => {\r\n      if(!a.find((x: any) => (x.title?.length && x.title == v.title) || (x.labels?.length && v.labels?.length && x.labels[0].key == v.labels[0].key))) {\r\n        a.push({\r\n          labels: this.isOutras(v) ? [] : v.labels,\r\n          title: v.title,\r\n          menu: this.isOutras(v) ? this.outrasButtons : this.etiquetasButtons,\r\n          cards: [],\r\n          editing: false,\r\n          collapse: v.collapse\r\n        });\r\n      }\r\n      return a;\r\n    }, []); \r\n    /*this.labels = dockers.map(x => {\r\n      return {\r\n        labels: this.isOutras(x) ? [] : x.labels,\r\n        title: x.title,\r\n        menu: this.isOutras(x) ? this.outrasButtons : this.etiquetasButtons,\r\n        cards: [],\r\n        editing: false,\r\n        collapse: x.collapse\r\n      }        \r\n    });*/\r\n  }\r\n\r\n  public get isEtiquetas(): boolean {\r\n    return !!this.filter?.controls?.usarEtiquetas?.value;\r\n  } \r\n\r\n  public onUsarEtiquetasChange(event: Event) {\r\n    this.saveUsuarioConfig({kanban_usar_etiquetas: this.filter!.controls.usarEtiquetas.value});\r\n    if(this.query) this.onQueryLoad(this.query!.rows);\r\n  }\r\n\r\n  public incluirLista(docker: DockerComponent) {\r\n    this.labels.splice(docker.key + 1, 0, {\r\n      labels: [],\r\n      menu: this.etiquetasButtons,\r\n      cards: [],\r\n      editing: true,\r\n      collapse: false\r\n    });\r\n    \r\n    this.kanbanEtiquetas?.refreshDoubleScrollbar();\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onResumidoChange(event: Event) {\r\n    this.saveUsuarioConfig({kanban_resumido: this.filter!.controls.resumido.value});\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public loadEtiquetas() {\r\n    //this.etiquetas = this.util.merge(row.atividade?.etiquetas, row.unidade?.etiquetas, (a, b) => a.key == b.key); \r\n    this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key); \r\n  }\r\n\r\n  public getLabelStyle(label: KanbanDocker) {\r\n    const bgColor = label.labels.length == 1 ? label.labels[0].color || \"#000000\" : \"#000000\";\r\n    //const txtColor = this.util.contrastColor(bgColor);\r\n    return `border-color: ${bgColor} !important;`;\r\n  }\r\n\r\n  public onDockerCollapse(docker: DockerComponent, collapse: boolean) {\r\n    if(this.isEtiquetas) {\r\n      this.labels[docker.key].collapse = collapse;\r\n      this.saveEtiquetasUsuarioConfig();\r\n    } else {\r\n      this.cardsConfig = {\r\n        naoIniciado: !!this.dockerNaoIniciado?.collapse,\r\n        pausado: !!this.dockerPausado?.collapse,\r\n        iniciado: !!this.dockerIniciado?.collapse,\r\n        concluido: !!this.dockerConcluido?.collapse\r\n      };\r\n      this.saveUsuarioConfig({kanban_status_dockers: this.cardsConfig});\r\n    }\r\n    this.kanbanEtiquetas?.refreshDoubleScrollbar();\r\n  }\r\n\r\n  public async editEtiquetas(docker: DockerComponent) {\r\n    const label = this.labels[docker.key!];\r\n    const allUsed = this.labels.reduce((a: string[], v: KanbanDocker, i: number) => {\r\n      if(v.labels.length && i != docker.key) a.push(v.labels[0].key);\r\n      return a;\r\n    }, []);\r\n    this.etiquetasEdit = this.etiquetas.filter(x => !allUsed.includes(x.key));\r\n    this.formEdit.controls.etiqueta.setValue(label.labels.length ? label.labels[0].key : null);\r\n  }\r\n\r\n  public saveEtiquetasUsuarioConfig() {\r\n    const dockers = this.labels.reduce((a: any[], v: any) => {\r\n      if(!a.find((x: any) => (x.title?.length && x.title == v.title) || (x.labels?.length && v.labels?.length && x.labels[0].key == v.labels[0].key))) {\r\n        a.push({\r\n          title: v.title,\r\n          labels: v.labels,\r\n          collapse: v.collapse\r\n        });\r\n      }\r\n      return a;\r\n    }, []);\r\n    /*const dockers = this.labels.map(x => {\r\n      return {\r\n        title: x.title,\r\n        labels: x.labels,\r\n        collapse: x.collapse\r\n      }\r\n    });*/\r\n    this.saveUsuarioConfig({kanban_etiquetas_dockers: dockers});\r\n  }\r\n\r\n  public async saveEtiquetas(docker: DockerComponent) {\r\n    const key = this.formEdit.controls.etiqueta.value;\r\n    if(key?.length) {\r\n      const label = this.labels[docker.key!];\r\n      const etiqueta = this.etiquetasEdit.find(x => x.key == key);\r\n      if(etiqueta) label.labels = [etiqueta];\r\n      if(this.query) this.onQueryLoad(this.query!.rows);\r\n      this.saveEtiquetasUsuarioConfig();\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public async cancelEtiquetas(docker: DockerComponent) {\r\n    const label = this.labels[docker.key!];\r\n    if(!label.labels?.length) {\r\n      this.labels.splice(docker.key!, 1);\r\n      this.kanbanEtiquetas?.refreshDoubleScrollbar();\r\n    }\r\n  }\r\n\r\n  public async deleteEtiquetas(docker: DockerComponent) {\r\n    this.labels.splice(docker.key!, 1);\r\n    this.kanbanEtiquetas?.refreshDoubleScrollbar();\r\n    if(this.query) this.onQueryLoad(this.query!.rows);\r\n    this.saveEtiquetasUsuarioConfig();\r\n  }\r\n\r\n  public getNomes(context: any) {\r\n    return Object.getOwnPropertyNames(context.filter.controls || {}).join(\",\");\r\n  }\r\n\r\n  public modalRefreshId(atividade: Atividade): RouteMetadata {\r\n    return { \r\n      modal: true, \r\n      modalClose: (modalResult?: string) => {\r\n        const destination = this.dragDrop.destination;\r\n        const source = this.dragDrop.source;\r\n        if(modalResult) {\r\n          if(destination && source) {\r\n            destination.list.splice(destination.index, 0, destination.card);\r\n            source.list.splice(source.index, 1);\r\n          }\r\n          (this.grid?.query || this.query!).refreshId(atividade.id);\r\n        }\r\n        this.dragDrop = {};\r\n      }\r\n    };\r\n  }\r\n\r\n  public mergeEtiqueta(etiqueta: LookupItem) {\r\n    if(!this.etiquetas.find(x => x.key == etiqueta.key)) {\r\n      this.etiquetas.push(etiqueta);\r\n    }\r\n  }\r\n\r\n  public filterSubmit(filter: FormGroup): QueryOptions {\r\n    super.filterSubmit(filter);\r\n    this.cards = [[], [], [], []];\r\n    this.labels.forEach(x => x.cards = []);\r\n    return this.queryOptions;\r\n  }\r\n\r\n  public onQueryLoad(rows?: any[]) {\r\n    super.onGridLoad(rows);\r\n    this.cardsVersion++;\r\n    if(!this.filter?.controls?.usarEtiquetas?.value) {\r\n      rows?.forEach(row => {\r\n        const atividade: Atividade = row as Atividade;\r\n        let status = atividade.metadados?.suspenso ? \"SUSPENSO\" : this.lookup.ATIVIDADE_STATUS.find(x => x.key == atividade.metadados?.status)?.key;\r\n        switch(status || \"INCLUIDO\") {\r\n          case \"SUSPENSO\": this.putCard(this.cards[this.PAUSADO], atividade); break;\r\n          case \"INICIADO\": this.putCard(this.cards[this.INICIADO], atividade); break;\r\n          case \"CONCLUIDO\": this.putCard(this.cards[this.CONCLUIDO], atividade); break;\r\n          default: this.putCard(this.cards[this.NAOINICIADO], atividade);\r\n        }\r\n      });\r\n      for(let cards of this.cards) {\r\n        for(let i = 0; i < cards.length; cards[i].version != this.cardsVersion ? cards.splice(i, 1) : i++);\r\n      }\r\n    } else {\r\n      const outrasIndex = this.labels.findIndex(this.isOutras.bind(this));\r\n      rows?.forEach(row => {\r\n        let atividade: Atividade = row as Atividade;\r\n        let docker: KanbanDocker | undefined = undefined;\r\n        atividade.etiquetas = atividade.etiquetas || [];\r\n        for(let i = 0; i < atividade.etiquetas.length; i++) {\r\n          for(let j = 1; j < this.labels.length && !docker; j++) {\r\n            if(this.labels[j].labels[0].key == atividade.etiquetas[i].key) docker = this.labels[j];\r\n          }\r\n          if(!this.etiquetas.some(x => x.key == atividade.etiquetas[i].key)) this.etiquetas.push(atividade.etiquetas[i]);\r\n        }\r\n        this.putCard(docker?.cards || this.labels[outrasIndex]?.cards || [], atividade);\r\n      });\r\n      for(let cards of this.labels.map(x => x.cards || [])) {\r\n        for(let i = 0; i < cards.length; cards[i].version != this.cardsVersion ? cards.splice(i, 1) : i++);\r\n      }\r\n      /*this.labels[0].labels = [];\r\n      this.etiquetas.forEach(x => {\r\n        if(!this.labels.find(y => y.labels.find(z => z.key == x.key))) this.labels[0].labels.push(x)\r\n      });*/\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public putCard(list: CardItem[], atividade: Atividade) {\r\n    const index = list.findIndex(x => x.id == atividade.id);\r\n    const card = {\r\n      id: atividade.id,\r\n      title: atividade.tipo_atividade?.nome || \"(Atividade não atribuída)\",\r\n      subTitle: atividade.descricao || \"\",\r\n      data: atividade,\r\n      version: this.cardsVersion,\r\n      menu: undefined,\r\n      dynamicMenu: this.dynamicCardMenu.bind(this)\r\n    };\r\n    if(index >= 0) {\r\n      list[index] = Object.assign(list[index], card);\r\n    } else {\r\n      list.push(card);\r\n    }\r\n  }\r\n\r\n  public dynamicCardMenu(card: CardItem): ToolbarButton[] | undefined {\r\n    const menu: ToolbarButton[] | undefined = this.dynamicButtons(card.data);\r\n    menu.push({\r\n      icon: \"bi bi-three-dots\",\r\n      hint: \"Opções\",\r\n      dynamicItems: this.cardDynamicOptions.bind(this)\r\n    });\r\n    if(!card.menu || card.menu.map(x => x.hint).join() != menu.map(x => x.hint).join()) card.menu = menu;\r\n    return card.menu;\r\n  }\r\n\r\n  public cardDynamicOptions(card: CardItem): ToolbarButton[] | undefined {\r\n    const olders = card.menu?.find(x => x.hint == \"Opções\");\r\n    if(olders) {\r\n      const options = this.dynamicOptions.bind(this)(card.data);\r\n      if(!olders.items || olders?.items.map(x => x.label).join() != options.map(x => x.label).join()) olders.items = options;\r\n    }\r\n    return olders?.items;\r\n  }\r\n\r\n  public canDrop(status: string) {\r\n    let self = this;\r\n    return (drag: CardItem) => {\r\n      if(self.isEtiquetas) {\r\n        return true;\r\n      } else {\r\n        const buttons = self.dynamicOptions(drag.data);\r\n        return !!buttons.find(x => x.id == status);\r\n      }\r\n    }\r\n  }\r\n\r\n  public updateEtiquetasAtividade(dragDrop: any) {\r\n    const sourceLabel = this.labels.find(x => x.cards == dragDrop.source.list)?.labels[0];\r\n    const destinationLabel = this.labels.find(x => x.cards == dragDrop.destination.list)?.labels[0];\r\n    const atividade = dragDrop.destination.atividade as Atividade;\r\n    if(sourceLabel && destinationLabel && sourceLabel.key == destinationLabel.key) return;\r\n    if(sourceLabel) atividade.etiquetas.splice(atividade.etiquetas.findIndex(x => x.key == sourceLabel.key), 1);\r\n    if(destinationLabel) atividade.etiquetas.unshift(destinationLabel);\r\n    this.loading = true;\r\n    this.dao!.update(atividade.id, {etiquetas: atividade.etiquetas}).then(atividade => this.modalRefreshId(atividade).modalClose!.bind(this)(atividade.id)).finally(() => this.loading = false);\r\n  }\r\n\r\n  public onDragged(item: any, list: any[], effect: DropEffect) {\r\n    if([\"copy\", \"move\"].includes(effect)) {\r\n      const index = list.indexOf(item);\r\n      this.dragDrop.source = {list, index};\r\n      if(this.isEtiquetas) this.updateEtiquetasAtividade(this.dragDrop);\r\n    }\r\n  }\r\n\r\n  public onDrop(event: DndDropEvent, list?: any[]) {\r\n    if(list && [\"copy\", \"move\"].includes(event.dropEffect)) {\r\n      const atividade = event.data.data;\r\n      const card = event.data;\r\n      let index = typeof event.index === \"undefined\" ? list.length : event.index;\r\n      this.dragDrop = {destination: {list, index, card, atividade}};\r\n      if(!this.isEtiquetas) {\r\n        const buttons = this.dynamicOptions(atividade);\r\n        const docker = this.cards.indexOf(list);\r\n        if(docker >= 0) {\r\n          const action = buttons.find(x => x.id == this.DOCKERS[docker]);\r\n          if(action?.onClick) action?.onClick(atividade);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public onStatusClick(status: BadgeButton) {\r\n    this.filter?.controls.status.setValue(status.data?.status);\r\n    this.filterCollapsed = false;\r\n    this.filterRef?.onButtonFilterClick();\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onEtiquetaClick(etiqueta: LookupItem) {\r\n    let etiquetas = this.filter!.controls.etiquetas.value;\r\n    etiquetas.push(etiqueta);\r\n    this.filter?.controls.etiquetas.setValue(etiquetas);\r\n    this.filterCollapsed = false;\r\n    this.filterRef?.onButtonFilterClick();\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = this.fixedFilter || [];\r\n    let form: any = filter.value;\r\n \r\n    if(form.usuario_id?.length) {\r\n      result.push([\"usuario_id\", \"==\", form.usuario_id]);\r\n    } \r\n    if(form.unidade_id?.length) {\r\n      result.push([\"unidade_id\", \"==\", form.unidade_id]);\r\n    }\r\n    if(form.unidades_subordinadas) {\r\n      result.push([\"unidades_subordinadas\", \"==\", true]);\r\n    }\r\n    if(form.etiquetas?.length) {\r\n      result.push([\"etiquetas\", \"in\", form.etiquetas.map((x: LookupItem) => x.value)]);\r\n    }\r\n    if(form.numero_processo?.length) {\r\n      result.push([\"numero_processo\", \"==\", form.numero_processo]);\r\n    }\r\n    if(form.status?.length && !result.find(x => x[0] == \"status\")) {\r\n      result.push([\"status\", \"==\", form.status]);\r\n    }\r\n    result.push([\"data_arquivamento\", \"==\", null]); /* Não trazer as arquivadas */\r\n\r\n    return result;\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    this.filter!.controls.atribuidas_para_mim.setValue(false);\r\n    this.filter!.controls.usuario_id.setValue(\"\");\r\n    this.filter!.controls.somente_unidade_atual.setValue(false);\r\n    this.filter!.controls.unidades_subordinadas.setValue(false);\r\n    this.filter!.controls.unidade_id.setValue(\"\");\r\n    this.filter!.controls.numero_processo.setValue(\"\");\r\n    if(!this.fixedFilter?.length || !this.fixedFilter.find(x => x[0] == \"status\")) this.filter!.controls.status.setValue(null);\r\n    this.filter!.controls.etiquetas.setValue([]);\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public onSwimlaneDrop(event: DndDropEvent, fromIndex: number) {\r\n    const element = this.labels[fromIndex];\r\n    const toIndex = fromIndex < event.index! ? event.index!-1 : event.index!;\r\n    this.labels.splice(fromIndex, 1);\r\n    this.labels.splice(toIndex, 0, element);\r\n    this.saveEtiquetasUsuarioConfig();\r\n  }\r\n\r\n}\r\n\r\n","<!--top-alert type=\"warning\" message=\"ATENÇÃO: O módulo Quadro ainda está em desenvolvimento, utilize apenas a Lista!\"></top-alert/-->\r\n<toolbar [buttons]=\"toolbarButtons\">\r\n    <input-switch [size]=\"2\" labelPosition=\"left\" label=\"Resumido\" controlName=\"resumido\" [control]=\"filter!.controls.resumido\" (change)=\"onResumidoChange($event)\"></input-switch>\r\n    <input-switch [size]=\"2\" labelPosition=\"left\" label=\"Usar etiquetas\" class=\"me-2\" controlName=\"usarEtiquetas\" [control]=\"filter!.controls.usarEtiquetas\" (change)=\"onUsarEtiquetasChange($event)\"></input-switch>\r\n</toolbar>\r\n<filter [form]=\"filter\" #filterRef [where]=\"filterWhere\" [query]=\"query\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"filterCollapsed\">\r\n    <div class=\"row\">\r\n        <input-switch [size]=\"1\" label=\"Minhas\" controlName=\"atribuidas_para_mim\" [control]=\"filter!.controls.atribuidas_para_mim\" (change)=\"onAtribuidasParaMimChange($event)\"></input-switch>\r\n        <input-search [size]=\"5\" [label]=\"lex.translate('Usuário')\" #usuario controlName=\"usuario_id\" [disabled]=\"filter!.controls.atribuidas_para_mim.value ? 'true' : undefined\" [dao]=\"usuarioDao\" ></input-search>\r\n        <input-switch [size]=\"1\" label=\"Atual\" controlName=\"somente_unidade_atual\" [control]=\"filter!.controls.somente_unidade_atual\" (change)=\"onSomenteUnidadeAtualChange($event)\" labelInfo=\"Somente as atividades da unidade selecionada\"></input-switch>\r\n        <input-search [size]=\"4\" [label]=\"lex.translate('Unidade')\" #unidade controlName=\"unidade_id\" [disabled]=\"filter!.controls.somente_unidade_atual.value ? 'true' : undefined\" [dao]=\"unidadeDao\"></input-search>\r\n        <input-switch [size]=\"1\" label=\"Sub.\" controlName=\"unidades_subordinadas\" [control]=\"filter!.controls.unidades_subordinadas\" labelInfo=\"Incluir as unidades subordinadas\"></input-switch>      \r\n    </div>\r\n    <div class=\"row\">\r\n        <input-text [size]=\"4\" [label]=\"'Nº '+ lex.translate('Processo')+' (Sei)'\" maskFormat=\"00000.000000/0000-00\" controlName=\"numero_processo\" [control]=\"filter!.controls.numero_processo\" labelInfo=\"Pesquisa no documento de requisição, conclusão e nos documentos das tarefas\"></input-text>\r\n        <input-select [size]=\"4\" label=\"Status\" itemTodos=\"- Todos -\" [valueTodos]=\"null\" [disabled]=\"fixedFilter?.length && fixedFilter![0]![0] == 'status' ? 'true' : undefined\" controlName=\"status\" [control]=\"filter!.controls.status\" [items]=\"lookup.ATIVIDADE_STATUS\"></input-select>\r\n        <input-multiselect noForm noBox [size]=\"4\" label=\"Etiquetas\" controlName=\"etiquetas\" [control]=\"filter!.controls.etiquetas\"></input-multiselect>\r\n    </div>\r\n</filter>  \r\n<ng-template #ticket let-card=\"card\">\r\n    <div class=\"d-flex w-100\">\r\n        <div class=\"flex-fill\">\r\n            <div class=\"text-nowrap\">\r\n                <span class=\"badge bg-light text-dark\">\r\n                    #{{card.data.numero}}\r\n                </span>\r\n                <span class=\"badge bg-light text-dark\">\r\n                    <i class=\"bi bi-briefcase\"></i>\r\n                    {{card.data.unidade.sigla}}    \r\n                </span>\r\n                <span class=\"badge bg-light text-dark\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Responsável: {{card.data.usuario?.nome || 'Não atribuido a nenhum usuário'}}\">\r\n                    <i [class]=\"'bi ' + (card.data.usuario?.nome?.length ? 'bi-person-check' : 'bi-person-x')\"></i>\r\n                    {{util.apelidoOuNome(card.data.usuario, true) || \"(Não atribuído)\"}}    \r\n                </span>\r\n            </div>\r\n            <span class=\"badge bg-light text-dark fw-light\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Demandante: {{card.data.demandante?.nome || 'Desconhecido'}}\">\r\n                <i class=\"bi bi-cursor\"></i>\r\n                {{util.apelidoOuNome(card.data.demandante, true) || \"Desconhecido\"}}\r\n            </span>\r\n        </div>\r\n        <div *ngIf=\"card.data.usuario\">\r\n            <profile-picture [url]=\"card.data.usuario.url_foto\" [hint]=\"'Responsável: ' + (card.data.usuario?.nome || 'Não atribuido a nenhum usuário')\"></profile-picture>\r\n        </div>\r\n    </div>\r\n    <ng-container *ngIf=\"!filter?.controls?.resumido?.value\">\r\n        <div class=\"card-status-container\">\r\n            <documentos-badge [documento]=\"card.data.documento_requisicao\"></documentos-badge>\r\n            <!--badge *ngIf=\"card.data.numero_processo?.length\" [label]=\"card.data.numero_processo\" color=\"light\" icon=\"bi-folder-symlink\" [data]=\"card.data\" [click]=\"documentoService.onProcessoClick.bind(this)\" [hint]=\"documentoService.processoHint(card.data)\">\r\n                <small *ngIf=\"card.data.numero_requisicao?.length\"><br>Sei nº {{card.data.numero_requisicao}}</small>\r\n            </badge/-->\r\n            <badge *ngFor=\"let status of atividadeService.getStatus(card.data)\" class=\"ms-1\" [color]=\"status.color\" [label]=\"status.label\" [icon]=\"status.icon\" [data]=\"status\" [click]=\"status.data.filter ? onStatusClick.bind(this) : undefined\"></badge>\r\n            <badge *ngFor=\"let etiqueta of card.data.etiquetas\" class=\"ms-1\" [color]=\"etiqueta.color\" [label]=\"etiqueta.value\" [icon]=\"etiqueta.icon\" [data]=\"etiqueta\" [click]=\"onEtiquetaClick.bind(this)\"></badge>\r\n        </div>\r\n        <separator *ngIf=\"card.data.checklist?.length\" small title=\"Checklist\"></separator>\r\n        <table *ngIf=\"card.data.checklist?.length\">\r\n            <tr *ngFor=\"let check of card.data.checklist\">\r\n                <td><i *ngIf=\"check.checked\" class=\"bi bi-check-circle\"></i></td>\r\n                <td class=\"micro-text fw-ligh\">{{check.texto}}</td>\r\n            </tr>\r\n        </table>\r\n        <comentarios-widget [entity]=\"card.data\" [selectable]=\"false\" origem=\"ATIVIDADE\" [query]=\"query\"></comentarios-widget>\r\n    </ng-container>\r\n</ng-template>\r\n<ng-template #editDocker>\r\n    <input-select [size]=\"12\" controlName=\"etiqueta\" [control]=\"formEdit.controls.etiqueta\" [items]=\"etiquetasEdit\"></input-select>\r\n</ng-template>\r\n<ng-template #placeholder>\r\n    <div class=\"card-body\">\r\n        <div class=\"d-flex w-100\">\r\n            <div class=\"flex-fill\">\r\n                <h5 class=\"card-title placeholder-glow\"><span class=\"placeholder col-6\"></span></h5>\r\n            </div>\r\n            <div class=\"btn-group\" role=\"group\" aria-label=\"Basic outlined example\">\r\n                <button type=\"button\" class=\"btn btn-sm btn-outline-secondary disabled placeholder\">\r\n                    <i class=\"bi bi-question\"></i>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <h6 class=\"card-subtitle mb-2 text-muted placeholder-glow\"><span class=\"placeholder col-8\"></span></h6>\r\n        <p class=\"card-text placeholder-glow\">\r\n            <span class=\"placeholder col-7\"></span>\r\n            <span class=\"placeholder col-4\"></span>\r\n            <span class=\"placeholder col-4\"></span>\r\n            <span class=\"placeholder col-6\"></span>\r\n            <span class=\"placeholder col-8\"></span>\r\n        </p>\r\n    </div>\r\n</ng-template>\r\n\r\n<!-- Kanban por status: Não iniciado, Iniciado, Pausado, Concluido, Avaliado -->\r\n<kanban *ngIf=\"!isEtiquetas\" [template]=\"ticket\" [placeholderTemplate]=\"placeholder\" [loading]=\"loading\" useCardData [dragSwimlanes]=\"false\">\r\n    <swimlane>\r\n        <docker #dockerNaoIniciado icon=\"bi bi-hourglass-split\" title=\"Não iniciado\" color=\"border-warning\" [collapse]=\"cardsConfig.naoIniciado\" [toggle]=\"onDockerCollapse.bind(this)\" [menu]=\"menuDockerNaoIniciado\" [dragged]=\"onDragged.bind(this)\" [drop]=\"onDrop.bind(this)\" [dropIf]=\"canDrop(DOCKERS[NAOINICIADO])\" [cards]=\"cards[NAOINICIADO]\"></docker>\r\n    </swimlane>\r\n    <swimlane>\r\n        <docker #dockerPausado icon=\"bi bi-pause-circle\" title=\"Pausadas\" color=\"border-danger\" [collapse]=\"cardsConfig.pausado\" [toggle]=\"onDockerCollapse.bind(this)\" [dragged]=\"onDragged.bind(this)\" [drop]=\"onDrop.bind(this)\" [dropIf]=\"canDrop(DOCKERS[PAUSADO])\" [cards]=\"cards[PAUSADO]\"></docker>\r\n        <docker #dockerIniciado icon=\"bi bi-play-circle\" title=\"Iniciadas\" color=\"border-info\" [collapse]=\"cardsConfig.iniciado\" [toggle]=\"onDockerCollapse.bind(this)\" [dragged]=\"onDragged.bind(this)\" [drop]=\"onDrop.bind(this)\" [dropIf]=\"canDrop(DOCKERS[INICIADO])\" [cards]=\"cards[INICIADO]\"></docker>\r\n    </swimlane>\r\n    <swimlane>\r\n        <docker #dockerConcluido icon=\"bi bi-check-circle\" title=\"Concluídas\" color=\"border-primary\" [collapse]=\"cardsConfig.concluido\" [toggle]=\"onDockerCollapse.bind(this)\" [dragged]=\"onDragged.bind(this)\" [drop]=\"onDrop.bind(this)\" [dropIf]=\"canDrop(DOCKERS[CONCLUIDO])\" [cards]=\"cards[CONCLUIDO]\"></docker>\r\n    </swimlane>\r\n    <!--swimlane>\r\n        <docker #dockerAvaliado icon=\"bi bi-star-half\" title=\"Avaliadas\" color=\"border-success\" [collapse]=\"cardsConfig.avaliado\" [toggle]=\"onDockerCollapse.bind(this)\" [dragged]=\"onDragged.bind(this)\" [drop]=\"onDrop.bind(this)\" [dropIf]=\"canDrop(DOCKERS[AVALIADO])\" [cards]=\"cards[AVALIADO]\"></docker>\r\n    </swimlane//-->\r\n</kanban>\r\n\r\n<!-- Kanban por label (definido polo usuário) -->\r\n<kanban #kanbanEtiquetas *ngIf=\"isEtiquetas\" \r\n    [dockers]=\"labels\" \r\n    [template]=\"ticket\" \r\n    [placeholderTemplate]=\"placeholder\" \r\n    [loading]=\"loading\" \r\n    [swimlaneDrop]=\"onSwimlaneDrop.bind(this)\"\r\n    [dockerDragged]=\"onDragged.bind(this)\" \r\n    [dockerDrop]=\"onDrop.bind(this)\" \r\n    [dockerEditTemplate]=\"editDocker\" \r\n    [dockerToggle]=\"onDockerCollapse.bind(this)\" \r\n    [dockerEdit]=\"editEtiquetas.bind(this)\" \r\n    [dockerSave]=\"saveEtiquetas.bind(this)\" \r\n    [dockerDelete]=\"deleteEtiquetas.bind(this)\" \r\n    [dockerCancel]=\"cancelEtiquetas.bind(this)\" \r\n    [dockerColorStyle]=\"getLabelStyle\" \r\n    useCardData>\r\n</kanban>","import { Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormControl, FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { AtividadeTarefaDaoService } from 'src/app/dao/atividade-tarefa-dao.service';\r\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\r\nimport { Comentario } from 'src/app/models/comentario';\r\nimport { AtividadeTarefa } from 'src/app/models/atividade-tarefa.model';\r\nimport { Atividade } from 'src/app/models/atividade.model';\r\nimport { PageBase } from 'src/app/modules/base/page-base';\r\n\r\n@Component({\r\n  selector: 'atividade-list-tarefa',\r\n  templateUrl: './atividade-list-tarefa.component.html',\r\n  styleUrls: ['./atividade-list-tarefa.component.scss']\r\n})\r\nexport class AtividadeListTarefaComponent extends PageBase {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @Input() control: AbstractControl = new FormControl();\r\n  @Input() persist?: string;\r\n  @Input() disabled: boolean = false;\r\n  @Input() editable: boolean = true;\r\n  @Input() selectable: boolean = false;\r\n  @Input() id_processo: number = 0;\r\n  @Input() set atividade(value: Atividade | undefined) {\r\n    if(this._atividade != value) {\r\n      this._atividade = value;\r\n      if(this.isPersist && value?.tarefas) {\r\n        this.control.setValue(value?.tarefas);\r\n      }\r\n    }\r\n  }\r\n  get atividade(): Atividade | undefined {\r\n    return this._atividade;\r\n  }\r\n\r\n  public formEdit: FormGroup;\r\n  public dao: AtividadeTarefaDaoService;\r\n  public allPages: ListenerAllPagesService;\r\n  public join: string[];\r\n  public addComentarioButton: ToolbarButton = {\r\n    icon: \"bi bi-plus-circle\",\r\n    hint: \"Incluir comentário\"\r\n  }\r\n\r\n  private _atividade?: Atividade;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<AtividadeTarefaDaoService>(AtividadeTarefaDaoService);\r\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\r\n    this.formEdit = this.fh.FormBuilder({\r\n      concluido: {default: false}\r\n    });\r\n    this.join = [\"tipo_tarefa\", \"comentarios.usuario\"];\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    if(this.queryParams?.id_processo) {\r\n      this.id_processo = this.queryParams?.id_processo;\r\n    }\r\n    if(this.isPersist && this.atividade?.tarefas) {\r\n      this.control.setValue(this.atividade?.tarefas);\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    if(this.id_processo) {\r\n      this.loading = true;\r\n      this.dao!.query({where: [[\"id_processo\", \"==\", this.id_processo]]}).asPromise().then(tarefas => {\r\n        this.control.setValue(tarefas || []);\r\n        this.cdRef.detectChanges();\r\n      }).finally(() => {\r\n        this.loading = false;\r\n      })\r\n    }\r\n  }\r\n\r\n  public get isPersist(): boolean {\r\n    return this.persist != undefined;\r\n  }\r\n\r\n  public async addTarefa() {\r\n    const tarefa = new AtividadeTarefa();\r\n    tarefa.id = this.dao!.generateUuid();\r\n    tarefa.usuario = this.auth.usuario;\r\n    tarefa.usuario_id = this.auth.usuario!.id;\r\n    tarefa.atividade_id = this.atividade?.id || \"\";\r\n    tarefa.comentarios = [];\r\n    tarefa._status = \"ADD\";\r\n    this.go.navigate({route: ['gestao', 'atividade', 'tarefa']}, {metadata: {tarefa: tarefa, atividade: this.atividade}, modalClose: (modalResult) => {\r\n      if(modalResult) {\r\n        (async () => {\r\n          const tarefas = (this.control!.value || []) as AtividadeTarefa[];\r\n          if(this.isPersist && this.atividade?.tarefas) {\r\n            this.grid!.error = undefined;\r\n            try {\r\n              this.dialog.showSppinerOverlay(\"Salvando dados do formulário\");\r\n              modalResult = await this.dao.save(modalResult, this.join);\r\n            } catch (error: any) {\r\n              this.grid!.error = error.message ? error.message : error;\r\n              modalResult = undefined;\r\n            } finally {\r\n              this.dialog.closeSppinerOverlay();\r\n            }\r\n          }\r\n          if(modalResult) {\r\n            tarefas.push(modalResult);\r\n            this.control!.setValue(tarefas);\r\n          }\r\n          this.cdRef.detectChanges();\r\n        })();\r\n      }\r\n    }});\r\n    return undefined;\r\n  }\r\n\r\n  public editEntrega = async (row: any) => {\r\n    this.go.navigate({route: ['gestao', 'atividade', 'tarefa']}, {metadata: {tarefa: row, atividade: this.atividade}, modalClose: (modalResult) => {\r\n      if(modalResult) {\r\n        (async () => {\r\n          const tarefas = this.control!.value as AtividadeTarefa[];\r\n          const index = tarefas.findIndex(x => x.id == row.id);\r\n          if(index >= 0) {\r\n            modalResult._status = modalResult._status == \"ADD\" ? \"ADD\" : \"EDIT\";\r\n            if(this.isPersist && this.atividade?.tarefas) {\r\n              this.grid!.error = undefined;\r\n              try {\r\n                this.dialog.showSppinerOverlay(\"Salvando dados do formulário\");\r\n                modalResult = await this.dao.save(modalResult, this.join);\r\n              } catch (error: any) {\r\n                this.grid!.error = error.message ? error.message : error;\r\n                modalResult = undefined;\r\n              } finally {\r\n                this.dialog.closeSppinerOverlay();\r\n              }\r\n            }\r\n            if(modalResult) {\r\n              tarefas[index] = modalResult;\r\n              this.control!.setValue(tarefas);\r\n            }\r\n          }\r\n          this.cdRef.detectChanges();\r\n        })();\r\n      }\r\n    }});\r\n    return undefined;\r\n  }\r\n\r\n  public async deleteEntrega(row: any) {\r\n    const confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\r\n    this.grid!.error = undefined;\r\n    if(confirm) {\r\n      try {\r\n        if((this.isPersist && this.atividade?.tarefas) || row._status == \"ADD\") {\r\n          const tarefas = this.control!.value as AtividadeTarefa[];\r\n          const index = tarefas.findIndex(x => x.id == row.id);\r\n          if(this.isPersist && this.atividade?.tarefas) await this.dao!.delete(row);\r\n          if(index >= 0) {\r\n            tarefas.splice(index, 1);\r\n            this.control!.setValue(tarefas);\r\n          }\r\n        } else {\r\n          row._status = \"DELETE\";\r\n        }\r\n        this.dialog.alert(\"Sucesso\", \"Registro excluído com sucesso!\");\r\n        this.cdRef.detectChanges();\r\n      } catch (error: any) {\r\n        this.grid!.error = error?.message ? error?.message : error;\r\n      }\r\n    }\r\n  }\r\n\r\n  /*public comentarioClick(element: HTMLSpanElement) {\r\n    const value = element.getAttribute(\"data-expanded\");\r\n    element.setAttribute(\"data-expanded\", value == \"true\" ? \"false\" : \"true\");\r\n  }*/\r\n\r\n  /*public addComentarioClick(row: any) {\r\n    this.go.navigate({route: ['gestao', 'atividade', 'entrega', row.id, 'comentar']}, {modal: true, metadata: {entrega: row, atividade: this.atividade}, modalClose: this.addComentarioResult.bind(this)});\r\n  }*/\r\n\r\n  public async onColumnConcluidoEdit(row: any) {\r\n    this.formEdit.controls.concluido.setValue(row.concluido);\r\n  }\r\n\r\n  public async onColumnConcluidoSave(row: any) {\r\n    try {\r\n      const saved = await this.dao!.update(row.id, {\r\n        concluido: this.formEdit.controls.concluido.value\r\n      });\r\n      row.concluido = this.formEdit.controls.concluido.value;\r\n      return !!saved;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addComentarioResult(modalResult: AtividadeTarefa) {\r\n    if(modalResult) {\r\n      if(this.isPersist) {\r\n        this.dao!.getById(modalResult.id, this.join).then(tarefa => {\r\n          if (tarefa) {\r\n            const tarefas = this.control.value || [];\r\n            const index = tarefas.findIndex((x: AtividadeTarefa) => x.id = tarefa.id);\r\n            if(index >= 0) {\r\n              tarefas[index] = tarefa;\r\n              this.control.setValue(tarefas);\r\n              this.cdRef.detectChanges();\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        const changed = modalResult.comentarios.filter((x: Comentario) => [\"ADD\", \"EDIT\", \"DELETE\"].includes(x._status || \"\")).length > 0;\r\n        modalResult._status = changed && ![\"ADD\", \"EDIT\", \"DELETE\"].includes(modalResult._status || \"\") ? \"EDIT\" : modalResult._status;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n","<grid [control]=\"control\" [add]=\"addTarefa.bind(this)\" [disabled]=\"disabled ? 'true' : undefined\" [minHeight]=\"isPersist ? 50 : 300\" [hasDelete]=\"true\" [editable]=\"editable ? 'true' : undefined\">\r\n    <columns>\r\n        <column [title]=\"lex.translate('Tipo de Tarefa') + ' e Descrição'\" [template]=\"tipoTarefaDescricao\">\r\n            <ng-template let-row=\"row\" #tipoTarefaDescricao>\r\n                <strong *ngIf=\"row.tipo_tarefa?.nome?.length\" class=\"d-block\">{{row.tipo_tarefa?.nome || \"\"}}</strong>\r\n                {{row.descricao}}\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"timer\" title=\"Tempo estimado\" onlyHours field=\"tempo_estimado\"></column>\r\n        <column title=\"Documento\" [template]=\"documento\">\r\n            <ng-template let-row=\"row\" #documento>\r\n                <documentos-badge [documento]=\"row.documento\"></documentos-badge>\r\n                <!--span class=\"badge bg-light text-dark\" [attr.role]=\"row.numero_processo?.length ? 'button' : undefined\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" (click)=\"documentoService.onProcessoClick(row)\" [title]=\"allPages.getButtonTitle(row.numero_processo, row.numero_documento)\">\r\n                    <i [class]=\"'bi ' + (row.numero_processo?.length ? 'bi bi-folder-symlink' : 'bi bi-x-lg')\"></i>\r\n                    {{row.numero_processo?.length ? row.numero_processo : \"Não atribuído\"}}\r\n                    <small *ngIf=\"row.numero_documento?.length\"><br>Sei nº {{row.numero_documento}}</small>\r\n                </span/-->\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Concluído\" [align]=\"'center'\" [template]=\"concluido\" [editTemplate]=\"editConcluido\" [edit]=\"editable ? onColumnConcluidoEdit.bind(this) : undefined\" [save]=\"editable ? onColumnConcluidoSave.bind(this) : undefined\">\r\n            <ng-template let-row=\"row\" #concluido>\r\n                <div class=\"text-center\"><i *ngIf=\"row.concluido\" class=\"bi bi-check-circle\"></i></div>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #editConcluido>\r\n                <input-switch [size]=\"12\" controlName=\"concluido\" [control]=\"formEdit!.controls.concluido\"></input-switch>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Informações adicionais\" [template]=\"tarefaComentarios\">\r\n            <ng-template let-row=\"row\" #tarefaComentarios>\r\n                <comentarios-widget [entity]=\"row\" [noPersist]=\"isPersist ? undefined : 'true'\" [selectable]=\"selectable\" origem=\"ATIVIDADE_TAREFA\" [grid]=\"grid\" [save]=\"addComentarioResult.bind(this)\"></comentarios-widget>\r\n            </ng-template>\r\n        </column>\r\n        <column *ngIf=\"editable && !selectable && !id_processo\" type=\"options\" [onEdit]=\"editEntrega.bind(this)\" [onDelete]=\"deleteEntrega.bind(this)\"></column>\r\n    </columns>\r\n</grid>\r\n","import { Component, Injector, OnInit } from '@angular/core';\r\nimport { PageBase } from 'src/app/modules/base/page-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\n\r\n@Component({\r\n  selector: 'app-atividade-list',\r\n  templateUrl: './atividade-list.component.html',\r\n  styleUrls: ['./atividade-list.component.scss']\r\n})\r\nexport class AtividadeListComponent extends PageBase implements OnInit {\r\n  public activeTab: string = \"TABELA\";\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    /* Inicializações */\r\n    this.title = this.lex.translate(\"Atividades\");\r\n    this.code = \"MOD_DMD\";\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.activeTab = this.usuarioConfig.active_tab || \"TABELA\";\r\n  }\r\n\r\n  public async onSelectTab(tab: LookupItem) {\r\n    this.activeTab = tab.key;\r\n    this.saveUsuarioConfig({active_tab: this.activeTab});\r\n  }\r\n\r\n}","<tabs right [title]=\"isModal ? '' : title\" [select]=\"onSelectTab.bind(this)\" [active]=\"activeTab\">\r\n    <tab key=\"TABELA\" icon=\"bi bi-table\" label=\"Lista\" [template]=\"grid\">\r\n        <ng-template #grid>\r\n            <atividade-list-grid [snapshot]=\"snapshot || modalRoute || route.snapshot\"></atividade-list-grid>\r\n        </ng-template>\r\n    </tab>\r\n    <tab key=\"KANBAN\" icon=\"bi bi-card-heading\" label=\"Quadro\" [template]=\"kanban\">\r\n        <ng-template #kanban>\r\n            <atividade-list-kanban [snapshot]=\"snapshot || modalRoute || route.snapshot\"></atividade-list-kanban>\r\n        </ng-template>\r\n    </tab>\r\n    <tab *ngIf=\"false && auth.hasPermissionTo('DASH_PRG')\" key=\"DASHBOARD\" icon=\"bi bi-file-earmark-bar-graph\" label=\"Dashboard\" [template]=\"dashboard\">\r\n        <ng-template #dashboard>\r\n            <atividade-dashboard [snapshot]=\"snapshot || modalRoute || route.snapshot\"></atividade-dashboard>\r\n        </ng-template>\r\n    </tab>\r\n</tabs>","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { AtividadeFormConcluirComponent } from './atividade-form-concluir/atividade-form-concluir.component';\r\nimport { AtividadeFormTarefaComponent } from './atividade-form-tarefa/atividade-form-tarefa.component';\r\nimport { AtividadeFormIniciarComponent } from './atividade-form-iniciar/atividade-form-iniciar.component';\r\nimport { AtividadeFormPausarComponent } from './atividade-form-pausar/atividade-form-pausar.component';\r\nimport { AtividadeFormProrrogarComponent } from './atividade-form-prorrogar/atividade-form-prorrogar.component';\r\nimport { AtividadeFormComponent } from './atividade-form/atividade-form.component';\r\nimport { AtividadeListTarefaComponent } from './atividade-list-tarefa/atividade-list-tarefa.component';\r\nimport { AtividadeListGridComponent } from './atividade-list-grid/atividade-list-grid.component';\r\nimport { AtividadeListComponent } from './atividade-list/atividade-list.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: AtividadeListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Atividades\" } },\r\n  { path: 'grid', component: AtividadeListGridComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Atividades\" } },\r\n  { path: 'new', component: AtividadeFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Inclusão de Atividade\", modal: true } },\r\n  { path: 'tarefa', component: AtividadeFormTarefaComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Tarefa da Atividade\", modal: true } },\r\n  { path: 'tarefa/concluir', component: AtividadeListTarefaComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Concluir Tarefa\", modal: true } },\r\n  { path: 'tarefa/:tarefa_id/comentar', component: AtividadeFormTarefaComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Comentários\", modal: true } },\r\n  { path: ':id/edit', component: AtividadeFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Edição da Atividade\", modal: true } },\r\n  { path: ':id/consult', component: AtividadeFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Consulta a Atividade\", modal: true } },\r\n  { path: ':id/clonar', component: AtividadeFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Clone de Atividade\", modal: true } },\r\n  { path: ':id/iniciar', component: AtividadeFormIniciarComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Início de Atividade\", modal: true } },\r\n  { path: ':id/concluir', component: AtividadeFormConcluirComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Conclusão de Atividade\", modal: true } },\r\n  { path: ':id/pausar', component: AtividadeFormPausarComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Suspensão de Atividade\", modal: true } },\r\n  { path: ':id/prorrogar', component: AtividadeFormProrrogarComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Prorrogação de Atividade\", modal: true } },\r\n  { path: ':id/comentar', component: AtividadeFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Comentários de Atividade\", modal: true } }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AtividadeRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AtividadeRoutingModule } from './atividade-routing.module';\r\nimport { AtividadeListComponent } from './atividade-list/atividade-list.component';\r\nimport { AtividadeFormComponent } from './atividade-form/atividade-form.component';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { AtividadeListGridComponent } from './atividade-list-grid/atividade-list-grid.component';\r\nimport { AtividadeFormIniciarComponent } from './atividade-form-iniciar/atividade-form-iniciar.component';\r\nimport { AtividadeFormConcluirComponent } from './atividade-form-concluir/atividade-form-concluir.component';\r\nimport { AtividadeFormPausarComponent } from './atividade-form-pausar/atividade-form-pausar.component';\r\nimport { AtividadeFormProrrogarComponent } from './atividade-form-prorrogar/atividade-form-prorrogar.component';\r\nimport { UteisModule } from '../../uteis/uteis.module';\r\nimport { AtividadeListKanbanComponent } from './atividade-list-kanban/atividade-list-kanban.component';\r\nimport { AtividadeDashboardComponent } from './atividade-dashboard/atividade-dashboard.component';\r\nimport { AtividadeFormTarefaComponent } from './atividade-form-tarefa/atividade-form-tarefa.component';\r\nimport { AtividadeListTarefaComponent } from './atividade-list-tarefa/atividade-list-tarefa.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AtividadeListComponent,\r\n    AtividadeFormComponent,\r\n    AtividadeListGridComponent,\r\n    AtividadeFormIniciarComponent,\r\n    AtividadeFormConcluirComponent,\r\n    AtividadeFormPausarComponent,\r\n    AtividadeDashboardComponent,\r\n    AtividadeFormProrrogarComponent,\r\n    AtividadeFormTarefaComponent,\r\n    AtividadeListTarefaComponent,\r\n    AtividadeListKanbanComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    AtividadeRoutingModule,\r\n    ComponentsModule,\r\n    UteisModule\r\n  ],\r\n  exports: [\r\n    AtividadeListGridComponent\r\n  ]\r\n})\r\nexport class AtividadeModule { }\r\n"],"names":["ChangeDetectorRef","FormHelperService","AtividadeListBase","GridComponent","AtividadeDashboardComponent","constructor","injector","validate","control","controlName","result","title","lex","translate","code","fh","get","cdRef","filter","FormBuilder","programa_id","default","unidadesSubordinadas","ngOnInit","i0","ɵɵdirectiveInject","Injector","selectors","viewQuery","AtividadeDashboardComponent_Query","rf","ctx","EditableFormComponent","PageFormBase","AtividadeDaoService","Atividade","CalendarService","TipoDocumentoDaoService","TipoAtividadeDaoService","Documento","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ctx_r2","form","controls","data_distribuicao","data_estipulada_entrega","ctx_r4","esforco","ɵɵlistener","AtividadeFormConcluirComponent_div_16_Template_input_datetime_change_2_listener","$event","ɵɵrestoreView","_r10","ctx_r9","ɵɵnextContext","ɵɵresetView","onDataEntregaChange","ctx_r5","data_inicio","data_entrega","AtividadeFormConcluirComponent_ng_template_17_Template_input_datetime_change_2_listener","_r12","ctx_r11","ctx_r7","tempo_despendido","ctx_r8","efemerides","AtividadeFormConcluirComponent","modalWidth","entregas","value","length","util","isDataValid","tipoAtividadeDao","tipoDocumentoDao","calendar","tipo_atividade_id","progresso","arquivar","descricao_tecnica","documento_entrega","documento_entrega_id","plano_trabalho_entrega_id","join","loadData","entity","_this","_asyncToGenerator","formValue","Object","assign","fillForm","auth","hora","tipoAtividade","loadSearch","tipo_atividade","unidade_id","unidade","id","selecionaUnidade","plano_trabalho","map","x","key","descricao","entrega","nome","data","patchValue","initializeData","_this2","dao","getAtividade","urlParams","event","inicio","cargaHoraria","carga_horaria","pausas","afastamentos","usuario","calculaDataTempoUnidade","undefined","setValue","tempoUtil","detectChanges","onTipoAtividadeSelect","item","saveData","Promise","resolve","reject","atividade","fill","data_arquivamento","Date","produtividade","tipo_modalidade","atividade_tempo_despendido","concluir","then","saved","catch","AtividadeFormConcluirComponent_Query","AtividadeFormConcluirComponent_Template_editable_form_submit_0_listener","onSaveData","AtividadeFormConcluirComponent_Template_editable_form_cancel_0_listener","onCancel","AtividadeFormConcluirComponent_Template_input_search_select_3_listener","ɵɵtemplate","AtividadeFormConcluirComponent_div_12_Template","AtividadeFormConcluirComponent_ng_template_13_Template","ɵɵtemplateRefExtractor","AtividadeFormConcluirComponent_div_16_Template","AtividadeFormConcluirComponent_ng_template_17_Template","AtividadeFormConcluirComponent_separator_20_Template","formDisabled","atividade_esforco","_r3","_r6","UsuarioDaoService","AtividadeFormIniciarComponent","labelInfoSuspender","n","iniciadas","s","q","toString","planosTrabalhos","planosTrabalhosEntregas","includes","usuarioDao","usuario_id","plano_trabalho_id","tempo_planejado","suspender","loadIniciadas","idsIniciadas","onUsuarioSelect","planos_trabalho","getDateFormatted","data_fim","onPlanoChange","planoTrabalho","selectedItem","planoTrabalhoEntregaId","expedienteMedio","horasUteis","setStrTime","unidadeHora","Event","_this3","getById","iniciar","AtividadeFormIniciarComponent_Query","AtividadeFormIniciarComponent_Template_editable_form_submit_0_listener","AtividadeFormIniciarComponent_Template_editable_form_cancel_0_listener","AtividadeFormIniciarComponent_Template_input_search_select_6_listener","AtividadeFormIniciarComponent_Template_input_select_change_9_listener","ɵɵpureFunction0","_c3","ctx_r1","AtividadeFormPausarComponent","reiniciar","pausado","find","getTime","ngAfterViewInit","queryParams","error","pausa","atividade_id","pausar","AtividadeFormPausarComponent_Query","AtividadeFormPausarComponent_top_alert_0_Template","AtividadeFormPausarComponent_Template_editable_form_submit_1_listener","AtividadeFormPausarComponent_Template_editable_form_cancel_1_listener","AtividadeFormPausarComponent_div_2_Template","AtividadeFormProrrogarComponent","prorrogar","AtividadeFormProrrogarComponent_Query","AtividadeFormProrrogarComponent_Template_editable_form_submit_0_listener","AtividadeFormProrrogarComponent_Template_editable_form_cancel_0_listener","ListenerAllPagesService","TipoTarefaDaoService","AtividadeTarefaDaoService","AtividadeTarefa","TipoProcessoDaoService","NavigateResult","ComentarioService","AtividadeFormTarefaComponent","formValidation","values","tipo_tarefa_id","tipoTarefa","searchObj","concluido","documental","documento","isEmpty","gb","isEmbedded","tipoTarefaDao","tipoProcessoDao","allPages","comentario","tarefa_id","tempo_estimado","id_processo","numero_processo","comentarios","segment","url","path","action","tipo_tarefa","orderComentarios","metadata","tarefa","sei","confirm","onTipoTarefaSelect","AtividadeFormTarefaComponent_Query","AtividadeFormTarefaComponent_Template_editable_form_submit_0_listener","AtividadeFormTarefaComponent_Template_editable_form_cancel_0_listener","AtividadeFormTarefaComponent_Template_input_search_select_6_listener","isModal","UnidadeDaoService","Comentario","PlanoTrabalhoDaoService","AtividadeFormComponent_div_18_Template_input_datetime_change_1_listener","_r13","ctx_r12","onDataDistribuicaoChange","AtividadeFormComponent_div_18_Template_input_datetime_change_3_listener","ctx_r14","onPrazoEntregaChange","AtividadeFormComponent_ng_template_19_Template_input_datetime_change_1_listener","_r16","ctx_r15","AtividadeFormComponent_ng_template_19_Template_input_datetime_change_4_listener","ctx_r17","ctx_r18","ctx_r20","AtividadeFormComponent_separator_21_div_1_Template","AtividadeFormComponent_separator_21_ng_template_2_Template","_r19","AtividadeFormComponent","etiquetas","checklist","planoTrabalhoJoin","planoTrabalhoSelecionado","usuarioJoin","validateChecklist","hasPermissionTo","prazoEntrega","dataDistribuicao","loadEtiquetas","loadChecklist","etiquetasKeys","checklistKeys","etiqueta","checklst","checked","texto","horaInicial","unidadeDao","planoTrabalhoDao","numero","prioridade","demandante_id","documento_requisicao_id","tarefas","documento_requisicao","formChecklist","isClonar","titleAtividade","addItemHandleEtiquetas","textHash","validateLookupItem","color","icon","onUnidadeChange","loadUsuario","updateValueAndValidity","onPlanoTrabalhoChange","merge","a","b","checks","loadTipoAtividade","getPlanosTrabalhos","between","start","end","planoTrabalhoId","comentarioAtividade","index","findIndex","tipo","_status","splice","generateUuid","data_comentario","comentario_id","push","onTipoAtividadeChange","onUsuarioChange","orderPausas","sort","all","emitEvent","source","AtividadeFormComponent_Query","AtividadeFormComponent_Template_editable_form_submit_0_listener","AtividadeFormComponent_Template_editable_form_cancel_0_listener","AtividadeFormComponent_Template_input_search_change_7_listener","AtividadeFormComponent_Template_input_search_select_9_listener","AtividadeFormComponent_Template_input_search_change_9_listener","AtividadeFormComponent_Template_input_search_select_12_listener","AtividadeFormComponent_Template_input_search_change_12_listener","AtividadeFormComponent_Template_input_select_change_14_listener","AtividadeFormComponent_div_18_Template","AtividadeFormComponent_ng_template_19_Template","AtividadeFormComponent_separator_21_Template","ɵɵtext","bind","card_r11","url_foto","status_r19","label","onStatusClick","etiqueta_r20","ctx_r16","onEtiquetaClick","AtividadeListKanbanComponent_ng_template_17_ng_container_15_table_6_tr_1_i_2_Template","check_r22","ɵɵtextInterpolate","AtividadeListKanbanComponent_ng_template_17_ng_container_15_table_6_tr_1_Template","ɵɵelementContainerStart","AtividadeListKanbanComponent_ng_template_17_ng_container_15_badge_3_Template","AtividadeListKanbanComponent_ng_template_17_ng_container_15_badge_4_Template","AtividadeListKanbanComponent_ng_template_17_ng_container_15_separator_5_Template","AtividadeListKanbanComponent_ng_template_17_ng_container_15_table_6_Template","ɵɵelementContainerEnd","ctx_r13","atividadeService","getStatus","query","AtividadeListKanbanComponent_ng_template_17_div_14_Template","AtividadeListKanbanComponent_ng_template_17_ng_container_15_Template","ɵɵtextInterpolate1","sigla","ɵɵpropertyInterpolate1","ɵɵclassMap","apelidoOuNome","demandante","resumido","ctx_r6","formEdit","etiquetasEdit","_r7","loading","cardsConfig","naoIniciado","onDockerCollapse","menuDockerNaoIniciado","onDragged","onDrop","canDrop","DOCKERS","NAOINICIADO","cards","PAUSADO","iniciado","INICIADO","CONCLUIDO","ctx_r10","labels","onSwimlaneDrop","_r5","editEtiquetas","saveEtiquetas","deleteEtiquetas","cancelEtiquetas","getLabelStyle","AtividadeListKanbanComponent","this","TITLE_OUTRAS","AVALIADO","cardsVersion","dragDrop","rowsLimit","kanbanQueryOptions","toolbarButtons","onClick","filterRef","toggle","_ref","add","apply","arguments","outrasButtons","hint","incluirLista","etiquetasButtons","_ref2","filterWhere","fixedFilter","unidades_subordinadas","status","atribuidas_para_mim","somente_unidade_atual","usarEtiquetas","usuarioConfig","kanban_usar_etiquetas","kanban_resumido","kanban_status_dockers","groupBy","loadLabel","defaultUsuarioConfig","active_tab","kanban_etiquetas_dockers","onLoadingChange","subject","asObservable","subscribe","onQueryLoad","isOutras","dockers","collapse","reduce","v","menu","editing","isEtiquetas","onUsarEtiquetasChange","saveUsuarioConfig","rows","docker","kanbanEtiquetas","refreshDoubleScrollbar","onResumidoChange","config","bgColor","saveEtiquetasUsuarioConfig","dockerNaoIniciado","dockerPausado","dockerIniciado","dockerConcluido","allUsed","i","_this4","_this5","getNomes","context","getOwnPropertyNames","modalRefreshId","modal","modalClose","modalResult","destination","list","card","grid","refreshId","mergeEtiqueta","filterSubmit","forEach","queryOptions","onGridLoad","row","metadados","suspenso","lookup","ATIVIDADE_STATUS","putCard","version","outrasIndex","j","some","subTitle","dynamicMenu","dynamicCardMenu","dynamicButtons","dynamicItems","cardDynamicOptions","olders","options","dynamicOptions","items","self","drag","buttons","updateEtiquetasAtividade","sourceLabel","destinationLabel","unshift","update","finally","effect","indexOf","dropEffect","filterCollapsed","onButtonFilterClick","filterClear","fromIndex","element","toIndex","AtividadeListKanbanComponent_Query","AtividadeListKanbanComponent_Template_input_switch_change_1_listener","AtividadeListKanbanComponent_Template_input_switch_change_2_listener","AtividadeListKanbanComponent_Template_input_switch_change_6_listener","onAtribuidasParaMimChange","AtividadeListKanbanComponent_Template_input_switch_change_9_listener","onSomenteUnidadeAtualChange","AtividadeListKanbanComponent_ng_template_17_Template","AtividadeListKanbanComponent_ng_template_19_Template","AtividadeListKanbanComponent_ng_template_21_Template","AtividadeListKanbanComponent_kanban_23_Template","AtividadeListKanbanComponent_kanban_24_Template","filterCollapseChange","FormControl","PageBase","row_r11","AtividadeListTarefaComponent_ng_template_3_strong_0_Template","row_r14","AtividadeListTarefaComponent_ng_template_10_i_1_Template","row_r15","row_r18","isPersist","selectable","addComentarioResult","editEntrega","deleteEntrega","AtividadeListTarefaComponent","_atividade","disabled","editable","addComentarioButton","go","navigate","route","dialog","showSppinerOverlay","save","message","closeSppinerOverlay","_x","where","asPromise","persist","addTarefa","delete","alert","onColumnConcluidoEdit","onColumnConcluidoSave","changed","AtividadeListTarefaComponent_Query","AtividadeListTarefaComponent_ng_template_3_Template","AtividadeListTarefaComponent_ng_template_7_Template","AtividadeListTarefaComponent_ng_template_10_Template","AtividadeListTarefaComponent_ng_template_12_Template","AtividadeListTarefaComponent_ng_template_15_Template","AtividadeListTarefaComponent_column_17_Template","_r0","_r2","_r4","_r8","snapshot","modalRoute","ctx_r3","AtividadeListComponent_tab_7_ng_template_1_Template","AtividadeListComponent","activeTab","onSelectTab","tab","features","ɵɵInheritDefinitionFeature","decls","vars","consts","template","AtividadeListComponent_Template","AtividadeListComponent_ng_template_2_Template","AtividadeListComponent_ng_template_5_Template","AtividadeListComponent_tab_7_Template","RouterModule","AuthGuard","ConfigResolver","AtividadeListGridComponent","routes","component","canActivate","AtividadeRoutingModule","forChild","imports","i1","exports","CommonModule","ComponentsModule","UteisModule","AtividadeModule","declarations","NgIf","i2","TabsComponent","i3","TabComponent","NgForOf","i4","i5","ColumnsComponent","i6","ColumnComponent","i7","FilterComponent","i8","ToolbarComponent","i9","PaginationComponent","i10","InputSwitchComponent","i11","InputSearchComponent","i12","InputTextComponent","i13","InputDatetimeComponent","i14","InputSelectComponent","i15","InputMultiselectComponent","i16","SeparatorComponent","i17","OrderComponent","i18","BadgeComponent","i19","ProgressBarComponent","i20","InputNumberComponent","i21","CalendarEfemeridesComponent","i22","ComentariosWidgetComponent","i23","DocumentosBadgeComponent","i24","KanbanComponent","i25","SwimlaneComponent","i26","DockerComponent","i27","ProfilePictureComponent"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}