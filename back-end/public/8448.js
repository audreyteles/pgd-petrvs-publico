"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[8448],{6067:(U,f,i)=>{i.r(f),i.d(f,{ClienteModule:()=>Q});var G=i(6610),T=i(8832),F=i(8425),h=i(1260),r=i(1620),m=i(6819),C=i(5611),c=i(5099),B=i(291);class d extends B.C{constructor(){super(...arguments),this.nome="",this.tipo_cliente_id=""}}var D=i(9062),e=i(3279),b=i(2034),j=i(5852),A=i(7772),R=i(2305),L=i(6764),v=i(16);function M(l,S){if(1&l&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&l){const o=S.row;e.R7$(),e.SpI(" ",null==o.tipo_cliente?null:o.tipo_cliente.nome,"")}}let E=(()=>{class l extends D.P{constructor(o,n){super(o,d,c.K),this.injector=o,this.filterWhere=t=>{let s=[],a=t.value;return a.nome?.length&&s.push(["nome","like","%"+a.nome.trim().replace(" ","%")+"%"]),s},this.dao=n,this.title=this.lex.translate("Clientes"),this.filter=this.fh.FormBuilder({nome:{default:""}}),this.options.push({icon:"bi bi-trash",label:"Excluir",onClick:this.delete.bind(this)}),this.join=["TipoCliente"],this.addOption(this.OPTION_LOGS,"MOD_AUDIT_LOG")}filterClear(o){o.controls.nome.setValue(""),super.filterClear(o)}static{this.\u0275fac=function(n){return new(n||l)(e.rXU(e.zZn),e.rXU(c.K))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-cliente-list"]],viewQuery:function(n,t){if(1&n&&e.GBs(C._,5),2&n){let s;e.mGM(s=e.lsd())&&(t.grid=s.first)}},features:[e.Vt3],decls:12,vars:25,consts:[["columnTipo",""],[3,"select","dao","add","title","orderBy","groupBy","join","hasAdd","hasEdit","selectable"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["controlName","nome",3,"size","label","control","placeholder"],["title","Tipo",3,"template"],["title","Descri\xe7\xe3o","field","nome"],["type","options",3,"onEdit","options"],[3,"rows"]],template:function(n,t){if(1&n){const s=e.RV6();e.j41(0,"grid",1),e.bIt("select",function(p){return e.eBV(s),e.Njj(t.onSelect(p))}),e.nrm(1,"toolbar"),e.j41(2,"filter",2)(3,"div",3),e.nrm(4,"input-text",4),e.k0s()(),e.j41(5,"columns")(6,"column",5),e.DNE(7,M,2,1,"ng-template",null,0,e.C5r),e.k0s(),e.nrm(9,"column",6)(10,"column",7),e.k0s(),e.nrm(11,"pagination",8),e.k0s()}if(2&n){const s=e.sdS(8);e.Y8G("dao",t.dao)("add",t.add)("title",t.isModal?"":t.title)("orderBy",t.orderBy)("groupBy",t.groupBy)("join",t.join)("hasAdd",!0)("hasEdit",!0)("selectable",t.selectable),e.R7$(2),e.Y8G("deleted",t.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",t.filter)("where",t.filterWhere)("submit",t.filterSubmit.bind(t))("clear",t.filterClear.bind(t))("collapseChange",t.filterCollapseChange.bind(t))("collapsed",t.filterCollapsed),e.R7$(2),e.Y8G("size",12)("label","Nome")("control",t.filter.controls.nome)("placeholder","Nome"),e.BMQ("maxlength",250),e.R7$(2),e.Y8G("template",s),e.R7$(4),e.Y8G("onEdit",t.edit)("options",t.options),e.R7$(),e.Y8G("rows",t.rowsLimit)}},dependencies:[C._,b.T,j.I,A.i,R.H,L.e,v.H]})}}return l})();var I=i(3308),g=i(1641),$=i(5492),z=i(24),N=i(3678);const V=["tipoCliente"];let u=(()=>{class l extends z.n{constructor(o){super(o,d,c.K),this.injector=o,this.tiposCliente=[],this.tipoClienteDao=o.get($.E),this.form=this.fh.FormBuilder({nome:{default:""},tipo_cliente_id:{default:""}})}loadData(o,n){var t=this;return(0,I.A)(function*(){let s=Object.assign({},n.value),a=t.util.fillForm(s,o);const p=yield t.tipoClienteDao.query().getAll();t.tiposCliente=p.map(y=>({key:y.id,value:y.nome})),n.patchValue(a)})()}initializeData(o){this.loadData(new d,o)}saveData(o){return new Promise((n,t)=>{const s=this.util.fill(new d,this.entity);n(this.util.fillForm(s,this.form.value))})}static{this.\u0275fac=function(n){return new(n||l)(e.rXU(e.zZn))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-cliente-form"]],viewQuery:function(n,t){if(1&n&&(e.GBs(g.Q,5),e.GBs(V,5)),2&n){let s;e.mGM(s=e.lsd())&&(t.editableForm=s.first),e.mGM(s=e.lsd())&&(t.tipoCliente=s.first)}},features:[e.Vt3],decls:4,vars:8,consts:[["initialFocus","nome",3,"submit","cancel","form","disabled","title"],[1,"row"],["label","Tipo","itemTodos","- Selecione -","controlName","tipo_cliente_id",3,"size","valueTodos","items"],["label","Nome","controlName","nome","required","",3,"size"]],template:function(n,t){1&n&&(e.j41(0,"editable-form",0),e.bIt("submit",function(){return t.onSaveData()})("cancel",function(){return t.onCancel()}),e.j41(1,"div",1),e.nrm(2,"input-select",2)(3,"input-text",3),e.k0s()()),2&n&&(e.Y8G("form",t.form)("disabled",t.formDisabled)("title",t.isModal?"":t.title),e.R7$(2),e.Y8G("size",3)("valueTodos",null)("items",t.tiposCliente),e.R7$(),e.Y8G("size",9),e.BMQ("maxlength",250))},dependencies:[g.Q,v.H,N.K]})}}return l})();const Y=[{path:"",component:E,canActivate:[r.q],resolve:{config:m.L},runGuardsAndResolvers:"always",data:{title:"Clientes"}},{path:"new",component:u,canActivate:[r.q],resolve:{config:m.L},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o de Cliente",modal:!0}},{path:":id/edit",component:u,canActivate:[r.q],resolve:{config:m.L},runGuardsAndResolvers:"always",data:{title:"Edi\xe7\xe3o de Cliente",modal:!0}},{path:":id/consult",component:u,canActivate:[r.q],resolve:{config:m.L},runGuardsAndResolvers:"always",data:{title:"Consulta a Cliente",modal:!0}}];let O=(()=>{class l{static{this.\u0275fac=function(n){return new(n||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({imports:[h.iI.forChild(Y),h.iI]})}}return l})(),Q=(()=>{class l{static{this.\u0275fac=function(n){return new(n||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({imports:[G.MD,F.h,T.X1,O]})}}return l})()}}]);