"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[842],{7760:(P,p,n)=>{n.r(p),n.d(p,{MaterialServicoModule:()=>V});var f=n(6733),g=n(5579),s=n(1391),c=n(2314),h=n(4040),v=n(4166),b=n(4368);class d extends b.X{constructor(r){super(),this.tipo="MATERIAL",this.codigo=null,this.referencia=null,this.descricao="",this.unidade_medida="UNIDADE",this.initialization(r)}}var C=n(1184),e=n(755),A=n(2392),M=n(4603);let u=(()=>{class o extends C.F{constructor(l){super(l,d,v.g),this.injector=l,this.validate=(i,t)=>{let a=null;return["descricao"].indexOf(t)>=0&&!i.value?.length&&(a="Obrigat\xf3rio"),a},this.titleEdit=i=>"Editando "+this.lex.translate("Material-Servi\xe7o")+": "+(i?.descricao||""),this.form=this.fh.FormBuilder({tipo:{default:"MATERIAL"},codigo:{default:null},referencia:{default:null},descricao:{default:""},unidade_medida:{default:"UNIDADE"}},this.cdRef,this.validate)}loadData(l,i){let t=Object.assign({},i.value);i.patchValue(this.util.fillForm(t,l))}initializeData(l){this.entity=new d,this.loadData(this.entity,l)}saveData(l){return new Promise((i,t)=>{const a=this.util.fill(new d,this.entity);i(this.util.fillForm(a,this.form.value))})}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.zs3))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-material-servico-form"]],viewQuery:function(i,t){if(1&i&&e.Gf(h.Q,5),2&i){let a;e.iGM(a=e.CRH())&&(t.editableForm=a.first)}},features:[e.qOj],decls:8,vars:13,consts:[["initialFocus","tipo",3,"form","disabled","title","submit","cancel"],[1,"row"],["label","Tipo","icon","bi bi-intersect","controlName","tipo",3,"size","items"],["label","C\xf3digo","icon","bi bi-upc-scan","controlName","codigo",3,"size"],["label","Refer\xeancia","icon","bi bi-qr-code","controlName","referencia",3,"size"],["label","Descricao","controlName","descricao","required","",3,"size"],["label","Unidade","icon","bi bi-rulers","controlName","unidade_medida",3,"size","items"]],template:function(i,t){1&i&&(e.TgZ(0,"editable-form",0),e.NdJ("submit",function(){return t.onSaveData()})("cancel",function(){return t.onCancel()}),e.TgZ(1,"div",1),e._UZ(2,"input-select",2)(3,"input-text",3)(4,"input-text",4),e.qZA(),e.TgZ(5,"div",1),e._UZ(6,"input-text",5)(7,"input-select",6),e.qZA()()),2&i&&(e.Q6J("form",t.form)("disabled",t.formDisabled)("title",t.isModal?"":t.title),e.xp6(2),e.Q6J("size",4)("items",t.lookup.MATERIAL_SERVICO_TIPO),e.xp6(1),e.Q6J("size",4),e.uIk("maxlength",250),e.xp6(1),e.Q6J("size",4),e.uIk("maxlength",250),e.xp6(2),e.Q6J("size",8),e.uIk("maxlength",250),e.xp6(1),e.Q6J("size",4)("items",t.lookup.MATERIAL_SERVICO_UNIDADE))},dependencies:[h.Q,A.m,M.p]})}return o})();var T=n(3150),S=n(8509),I=n(7224),O=n(3351),E=n(7765),R=n(5512),Z=n(2704),Q=n(5489);function _(o,r){1&o&&e._UZ(0,"toolbar")}function D(o,r){if(1&o&&e._UZ(0,"badge",18),2&o){const l=r.row,i=e.oxw();e.Q6J("icon",i.lookup.getIcon(i.lookup.MATERIAL_SERVICO_TIPO,l.tipo))("label",i.lookup.getValue(i.lookup.MATERIAL_SERVICO_TIPO,l.tipo))}}function J(o,r){if(1&o&&e._UZ(0,"badge",21),2&o){const l=e.oxw().row;e.Q6J("label",l.codigo)}}function L(o,r){if(1&o&&e._UZ(0,"badge",22),2&o){const l=e.oxw().row;e.Q6J("label",l.referencia)}}function N(o,r){if(1&o&&(e.YNc(0,J,1,1,"badge",19),e.YNc(1,L,1,1,"badge",20)),2&o){const l=r.row;e.Q6J("ngIf",null==l.codigo?null:l.codigo.length),e.xp6(1),e.Q6J("ngIf",null==l.referencia?null:l.referencia.length)}}function y(o,r){if(1&o&&(e.TgZ(0,"strong"),e._uU(1),e.qZA()),2&o){const l=r.row;e.xp6(1),e.Oqu(l.descricao)}}function z(o,r){if(1&o&&(e.TgZ(0,"strong"),e._uU(1),e.qZA()),2&o){const l=r.row,i=e.oxw();e.xp6(1),e.Oqu(i.lookup.getValue(i.lookup.MATERIAL_SERVICO_UNIDADE,l.unidade))}}const F=[{path:"",component:(()=>{class o extends S.E{constructor(l){super(l,d,v.g),this.injector=l,this.filterWhere=i=>{let t=[],a=i.value;return a.tipo?t.push(["tipo","==",a.tipo]):a.codigo?.length?t.push(["codigo","like","%"+a.codigo.trim().replace(" ","%")+"%"]):a.referencia?.length?t.push(["referencia","like","%"+a.referencia.trim().replace(" ","%")+"%"]):a.descricao?.length&&t.push(["descricao","like","%"+a.descricao.trim().replace(" ","%")+"%"]),t},this.title=this.lex.translate("Materiais e Servi\xe7os"),this.code="MOD_MATSRV",this.filter=this.fh.FormBuilder({tipo:{default:null},codigo:{default:""},referencia:{default:""},descricao:{default:""}}),this.addOption(this.OPTION_INFORMACOES),this.addOption(this.OPTION_EXCLUIR,"MOD_MATSRV_EXCL"),this.addOption(this.OPTION_LOGS,"MOD_AUDIT_LOG")}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.zs3))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-material-servico-list"]],viewQuery:function(i,t){if(1&i&&e.Gf(T.M,5),2&i){let a;e.iGM(a=e.CRH())&&(t.grid=a.first)}},features:[e.qOj],decls:24,vars:36,consts:[[3,"dao","add","title","orderBy","groupBy","join","selectable","hasAdd","hasEdit","select"],[4,"ngIf"],[3,"deleted","form","where","submit","collapseChange","collapsed"],[1,"row"],["label","Tipo","itemTodos","- Todos -","controlName","tipo",3,"size","valueTodos","control","items"],["label","C\xf3digo","controlName","codigo",3,"size","control"],["label","Refer\xeancia","controlName","referencia",3,"size","control"],["label","Descri\xe7\xe3o","controlName","descricao",3,"size","control"],["title","Tipo",3,"template"],["columnTipo",""],["title","C\xf3d./Ref.",3,"template"],["columnCodigoReferencia",""],["title","Descri\xe7\xe3o",3,"template"],["columnDescricao",""],["title","Unidades",3,"template"],["columnUnidade",""],["type","options",3,"onEdit","options"],[3,"rows"],["color","light",3,"icon","label"],["color","light","icon","bi bi-upc-scan","hint","C\xf3digo",3,"label",4,"ngIf"],["color","light","icon","bi bi-qr-code","hint","Refer\xeancia",3,"label",4,"ngIf"],["color","light","icon","bi bi-upc-scan","hint","C\xf3digo",3,"label"],["color","light","icon","bi bi-qr-code","hint","Refer\xeancia",3,"label"]],template:function(i,t){if(1&i&&(e.TgZ(0,"grid",0),e.NdJ("select",function(m){return t.onSelect(m)}),e.YNc(1,_,1,0,"toolbar",1),e.TgZ(2,"filter",2)(3,"div",3),e._UZ(4,"input-select",4)(5,"input-text",5)(6,"input-text",6),e.qZA(),e.TgZ(7,"div",3),e._UZ(8,"input-text",7),e.qZA()(),e.TgZ(9,"columns")(10,"column",8),e.YNc(11,D,1,2,"ng-template",null,9,e.W1O),e.qZA(),e.TgZ(13,"column",10),e.YNc(14,N,2,2,"ng-template",null,11,e.W1O),e.qZA(),e.TgZ(16,"column",12),e.YNc(17,y,2,1,"ng-template",null,13,e.W1O),e.qZA(),e.TgZ(19,"column",14),e.YNc(20,z,2,1,"ng-template",null,15,e.W1O),e.qZA(),e._UZ(22,"column",16),e.qZA(),e._UZ(23,"pagination",17),e.qZA()),2&i){const a=e.MAs(12),m=e.MAs(15),x=e.MAs(18),B=e.MAs(21);e.Q6J("dao",t.dao)("add",t.add)("title",t.isModal?"":t.title)("orderBy",t.orderBy)("groupBy",t.groupBy)("join",t.join)("selectable",t.selectable)("hasAdd",t.auth.hasPermissionTo("MOD_MATSRV_INCL"))("hasEdit",t.auth.hasPermissionTo("MOD_MATSRV_EDT")),e.xp6(1),e.Q6J("ngIf",!t.selectable),e.xp6(1),e.Q6J("deleted",t.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",t.filter)("where",t.filterWhere)("submit",t.filterSubmit.bind(t))("collapseChange",t.filterCollapseChange.bind(t))("collapsed",!t.selectable&&t.filterCollapsed),e.xp6(2),e.Q6J("size",4)("valueTodos",null)("control",t.filter.controls.tipo)("items",t.lookup.MATERIAL_SERVICO_TIPO),e.xp6(1),e.Q6J("size",4)("control",t.filter.controls.codigo),e.uIk("maxlength",250),e.xp6(1),e.Q6J("size",4)("control",t.filter.controls.referencia),e.uIk("maxlength",250),e.xp6(2),e.Q6J("size",12)("control",t.filter.controls.descricao),e.uIk("maxlength",250),e.xp6(2),e.Q6J("template",a),e.xp6(3),e.Q6J("template",m),e.xp6(3),e.Q6J("template",x),e.xp6(3),e.Q6J("template",B),e.xp6(3),e.Q6J("onEdit",t.edit)("options",t.options),e.xp6(1),e.Q6J("rows",t.rowsLimit)}},dependencies:[f.O5,T.M,I.a,O.b,E.z,R.n,Z.Q,A.m,M.p,Q.F]})}return o})(),canActivate:[s.a],resolve:{config:c.o},runGuardsAndResolvers:"always",data:{title:"Materiais e Servi\xe7os"}},{path:"new",component:u,canActivate:[s.a],resolve:{config:c.o},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o de Material e Servi\xe7o",modal:!0}},{path:":id/edit",component:u,canActivate:[s.a],resolve:{config:c.o},runGuardsAndResolvers:"always",data:{title:"Edi\xe7\xe3o de Material e Servi\xe7o",modal:!0}},{path:":id/consult",component:u,canActivate:[s.a],resolve:{config:c.o},runGuardsAndResolvers:"always",data:{title:"Consulta a Material e Servi\xe7o",modal:!0}}];let U=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[g.Bz.forChild(F),g.Bz]})}return o})();var w=n(2662);let V=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[f.ez,w.K,U]})}return o})()}}]);