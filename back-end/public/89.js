"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[89,108],{1915:(I,b,l)=>{l.d(b,{l:()=>n});var e=l(5736),_=l(755);const O=["*"];let n=(()=>{class t extends e.V{constructor(a){super(a),this.title="",this.by=""}ngOnInit(){}get isActiveOrder(){return!!(this.header?.grid?.orderBy||[]).find(a=>a[0]==this.by)}get orderDirection(){const a=(this.header?.grid?.orderBy||[]).find(m=>m[0]==this.by);return a?a[1]:void 0}get orderClass(){return this.isActiveOrder?"badge bg-secondary":"badge bg-light text-dark"}get orderIcon(){return this.isActiveOrder?"asc"==this.orderDirection?"bi-sort-down":"bi-sort-up":""}onOrderClick(a){if(this.by?.length&&this.header?.grid?.query){const m=this.header.grid,c=(m.orderBy||[]).findIndex(u=>u[0]==this.by),x=(m.orderBy||[]).find(u=>u[0]==this.by)||[this.by,void 0];m.orderBy=a.ctrlKey||a.shiftKey?m?.orderBy:(m?.groupBy||[]).map(u=>[u.field,"asc"]),x[1]=x[1]?"asc"==x[1]?"desc":void 0:"asc",c>=0&&m.orderBy.splice(c,1),x[1]&&m.orderBy.push(x),m.query.order(m.orderBy||[]),this.cdRef.detectChanges()}}static#t=this.\u0275fac=function(m){return new(m||t)(_.Y36(_.zs3))};static#e=this.\u0275cmp=_.Xpm({type:t,selectors:[["order"]],inputs:{header:"header",title:"title",by:"by",hint:"hint"},features:[_.qOj],ngContentSelectors:O,decls:4,vars:7,consts:[["role","button","data-bs-toggle","tooltip","data-bs-placement","top",3,"id","click"]],template:function(m,c){1&m&&(_.F$t(),_.TgZ(0,"span",0),_.NdJ("click",function(u){return c.onOrderClick(u)}),_._UZ(1,"i"),_._uU(2),_.Hsn(3),_.qZA()),2&m&&(_.Tol(c.orderClass),_.Q6J("id",c.generatedId(c.title)),_.uIk("title",c.hint),_.xp6(1),_.Tol(c.orderIcon),_.xp6(1),_.hij(" ",c.title," "))}})}return t})()},9756:(I,b,l)=>{l.d(b,{R:()=>s});var e=l(755),_=l(6733);function O(a,m){if(1&a&&(e.ynx(0),e.TgZ(1,"span",5),e._uU(2),e.qZA(),e.BQk()),2&a){const c=e.oxw(2);e.xp6(1),e.MGl("title","",c.percentage,"%"),e.xp6(1),e.hij("",c.percentage,"%")}}function n(a,m){if(1&a&&(e.TgZ(0,"div",2)(1,"div",3),e.YNc(2,O,3,2,"ng-container",4),e.qZA()()),2&a){const c=e.oxw();e.Udp("height",c.height,"px")("min-width",c.minWidth,"px"),e.xp6(1),e.Tol(c.progressClass),e.Udp("width",c.percentage,"%"),e.uIk("aria-valuenow",c.value)("aria-valuemin",c.min)("aria-valuemax",c.max),e.xp6(1),e.Q6J("ngIf",!c.isNoPercentage)}}function t(a,m){if(1&a&&(e.TgZ(0,"div",6)(1,"div",7),e._UZ(2,"div"),e.qZA(),e.TgZ(3,"div",8),e._UZ(4,"div",9),e.qZA()()),2&a){const c=e.oxw();e.Udp("height",c.height,"px")("min-width",c.minWidth,"px"),e.xp6(1),e.Udp("width",c.percentage,"%"),e.uIk("aria-valuenow",c.value)("aria-valuemin",c.min)("aria-valuemax",c.max),e.xp6(1),e.Tol(c.progressClass),e.xp6(1),e.Udp("width",c.goalPercentage,"%"),e.uIk("aria-valuenow",c.goalValue)("aria-valuemin",c.min)("aria-valuemax",c.max)}}let s=(()=>{class a{constructor(){this.max=100,this.min=0,this.value=0,this.goal=0,this.height=12}ngOnInit(){}get isGoal(){return!!this.goal&&this.goal!=this.max}get percentage(){return Math.round(100*(this.value-this.min)/(this.max-this.min))}get goalPercentage(){return Math.max(this.percentage-Math.round(100*(this.goal-this.min)/(this.max-this.min)),0)}get goalValue(){return Math.max(this.value-this.goal,0)}get isNoPercentage(){return null!=this.noPercentage}get progressClass(){return"progress-bar progress-bar-striped"+(this.color?" bg-"+this.color:"")}static#t=this.\u0275fac=function(x){return new(x||a)};static#e=this.\u0275cmp=e.Xpm({type:a,selectors:[["progress-bar"]],inputs:{max:"max",min:"min",value:"value",goal:"goal",height:"height",noPercentage:"noPercentage",minWidth:"minWidth",color:"color"},decls:3,vars:2,consts:[["class","progress",3,"height","min-width",4,"ngIf","ngIfElse"],["stacked",""],[1,"progress"],["role","progressbar"],[4,"ngIf"],[3,"title"],[1,"progress-stacked"],["role","progressbar","aria-label","Valor",1,"progress"],["role","progressbar","aria-label","Meta",1,"progress"],[1,"progress-bar","progress-bar-striped","bg-warning"]],template:function(x,u){if(1&x&&(e.YNc(0,n,3,12,"div",0),e.YNc(1,t,5,16,"ng-template",null,1,e.W1O)),2&x){const T=e.MAs(2);e.Q6J("ngIf",!u.isGoal)("ngIfElse",T)}},dependencies:[_.O5],styles:[".progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px}"]})}return a})()},4792:(I,b,l)=>{l.d(b,{C:()=>A});var e=l(8239),_=l(6298),O=l(4368);class n extends O.X{constructor(P){super(),this.tipo="like",this.usuario_id="",this.atividade_id=null,this.plano_entrega_entrega_id=null,this.plano_trabalho_entrega_id=null,this.initialization(P)}}var t=l(755),s=l(9193),a=l(2333),m=l(6976);let c=(()=>{class d extends m.B{constructor(i){super("Reacao",i),this.injector=i}static#t=this.\u0275fac=function(o){return new(o||d)(t.LFG(t.zs3))};static#e=this.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),x=(()=>{class d{constructor(i,o,g){this.util=i,this.auth=o,this.dao=g}reacaoUsuario(i){return i?i.find(o=>o.usuario_id==this.auth.usuario?.id):void 0}criaReacao(i,o,g){var v=this;return(0,e.Z)(function*(){const M=new n({usuario_id:v.auth.usuario?.id,usuario:v.auth.usuario,tipo:i.key,atividade_id:"atividade_id"==o?g:null,plano_entrega_entrega_id:"plano_entrega_entrega_id"==o?g:null,plano_trabalho_entrega_id:"plano_trabalho_entrega_id"==o?g:null}),R=yield v.dao.save(M);return R&&(R.usuario=v.auth.usuario),R})()}atualizaReacao(i,o){var g=this;return(0,e.Z)(function*(){const v=yield g.dao.update(o.id,{tipo:i.key});return v&&(v.usuario=g.auth.usuario),v})()}removeReacao(i){var o=this;return(0,e.Z)(function*(){return yield o.dao.delete(i)})()}static#t=this.\u0275fac=function(o){return new(o||d)(t.LFG(s.f),t.LFG(a.e),t.LFG(c))};static#e=this.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();var u=l(6733);function T(d,P){if(1&d){const i=t.EpF();t.TgZ(0,"span",11)(1,"img",12),t.NdJ("click",function(){const v=t.CHM(i).$implicit,M=t.oxw(2);return t.KtG(M.react(v))}),t.qZA()()}if(2&d){const i=P.$implicit,o=t.oxw(2);t.s9C("title",i.hint),t.xp6(1),t.Q6J("src",o.emojiPath(i.icon),t.LSH)}}function p(d,P){if(1&d&&(t.TgZ(0,"div",9),t.YNc(1,T,2,2,"span",10),t.qZA()),2&d){const i=t.oxw();t.xp6(1),t.Q6J("ngForOf",i.emojiList)}}function f(d,P){if(1&d){const i=t.EpF();t.TgZ(0,"span",13),t.NdJ("click",function(){t.CHM(i);const g=t.oxw();return t.KtG(g.react(g.emojiList[0]))}),t._UZ(1,"i",14),t.TgZ(2,"label"),t._uU(3,"Curtir"),t.qZA()()}}function r(d,P){if(1&d&&(t.TgZ(0,"span",15),t._UZ(1,"img",16),t.TgZ(2,"strong",17),t._uU(3),t.qZA()()),2&d){const i=t.oxw();let o,g;t.xp6(1),t.Q6J("src",i.emojiPath(null==(o=i.getIconReacao())?null:o.icon),t.LSH),t.xp6(2),t.Oqu(null==(g=i.getIconReacao())?null:g.value)}}function h(d,P){if(1&d&&(t.TgZ(0,"small",22),t._uU(1),t.qZA()),2&d){const i=P.$implicit;t.xp6(1),t.hij(" ",null==i.usuario?null:i.usuario.nome," ")}}function C(d,P){if(1&d&&(t.ynx(0),t.TgZ(1,"div",18),t._UZ(2,"img",19),t.TgZ(3,"div",20)(4,"h5"),t._uU(5),t.qZA(),t.YNc(6,h,2,1,"small",21),t.qZA()(),t.BQk()),2&d){const i=P.$implicit,o=t.oxw();t.xp6(2),t.Q6J("src",o.emojiPath(i.tipo),t.LSH),t.xp6(3),t.Oqu(o.lookup.getValue(o.lookup.REACAO_TIPO,i.tipo)),t.xp6(1),t.Q6J("ngForOf",i.reacoes)}}function y(d,P){if(1&d&&(t.TgZ(0,"div",23),t._uU(1),t.qZA()),2&d){const i=t.oxw();t.xp6(1),t.Oqu(i.reacoes.length)}}let A=(()=>{class d extends _.D{set entity(i){this._entity!=i&&(this._entity=i)}get entity(){return this._entity}constructor(i){super(i),this.injector=i,this.origem=void 0,this.showEmojis=!1,this.emojiList=[],this.reacoes=[],this.reacoesPorTipo=[],this.colunaRelacionada="",this.reacaoService=i.get(x)}ngOnInit(){switch(this.emojiList=this.lookup.REACAO_TIPO,this.reacaoUsuario=this.entity?this.reacaoService.reacaoUsuario(this.entity?.reacoes):void 0,this.reacoes=this.entity?this.entity.reacoes:[],this.reacoesPorTipo=this.separarReacoesPorTipo(this.reacoes),this.origem){case"ATIVIDADE":this.colunaRelacionada="atividade_id";break;case"PLANO_ENTREGA_ENTREGA":this.colunaRelacionada="plano_entrega_entrega_id";break;case"PLANO_TRABALHO_ENTREGA":this.colunaRelacionada="plano_trabalho_entrega_id"}}toggleShow(i){this.showEmojis=i}emojiPath(i){return this.gb.baseURL+`assets/icons/reactions/${i}.svg`}react(i){var o=this;return(0,e.Z)(function*(){if(o.reacaoUsuario&&o.reacaoUsuario.tipo==i.key)yield o.reacaoService.removeReacao(o.reacaoUsuario),o.reacoes=o.reacoes.filter(g=>g.id!==o.reacaoUsuario?.id),o.reacoesPorTipo=o.separarReacoesPorTipo(o.reacoes),o.reacaoUsuario=void 0;else if(o.reacaoUsuario&&o.reacaoUsuario.tipo!=i.key){o.reacaoUsuario=yield o.reacaoService.atualizaReacao(i,o.reacaoUsuario);const g=o.reacoes.findIndex(v=>v.id===o.reacaoUsuario?.id);-1!==g&&(o.reacoes[g]=o.reacaoUsuario),o.reacoesPorTipo=o.separarReacoesPorTipo(o.reacoes)}else o.reacaoUsuario=yield o.reacaoService.criaReacao(i,o.colunaRelacionada,o.entity?.id),o.reacoes.push(o.reacaoUsuario),o.reacoesPorTipo=o.separarReacoesPorTipo(o.reacoes);o.cdRef.detectChanges()})()}getIconReacao(){return this.lookup.REACAO_TIPO.find(i=>i.key===this.reacaoUsuario?.tipo)}separarReacoesPorTipo(i){const o=[];return i.forEach(g=>{const v=g.tipo,M=o.find(R=>R.tipo===v);M?M.reacoes.push(g):o.push({tipo:v,reacoes:[g]})}),o}static#t=this.\u0275fac=function(o){return new(o||d)(t.Y36(t.zs3))};static#e=this.\u0275cmp=t.Xpm({type:d,selectors:[["reaction"]],inputs:{origem:"origem",entity:"entity"},features:[t.qOj],decls:9,vars:5,consts:[[1,"d-flex","align-items-center","justify-content-start","mt-2"],[1,"wrapper",3,"mouseenter","mouseleave"],["class","emojis d-flex",4,"ngIf"],["class","btn-reacao",3,"click",4,"ngIf"],["class","btn-reacao",4,"ngIf"],[1,"reactions"],[1,"d-flex","align-items-center"],[4,"ngFor","ngForOf"],["class","total ms-2 flex-grow-1",4,"ngIf"],[1,"emojis","d-flex"],[3,"title",4,"ngFor","ngForOf"],[3,"title"],["width","75px",3,"src","click"],[1,"btn-reacao",3,"click"],[1,"bi","bi-hand-thumbs-up","me-2"],[1,"btn-reacao"],["width","75px",3,"src"],[1,"me-2"],[1,"tipoReacao"],[3,"src"],[1,"participantes","rounded","shadow"],["class","d-block",4,"ngFor","ngForOf"],[1,"d-block"],[1,"total","ms-2","flex-grow-1"]],template:function(o,g){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("mouseenter",function(){return g.toggleShow(!0)})("mouseleave",function(){return g.toggleShow(!1)}),t.YNc(2,p,2,1,"div",2),t.YNc(3,f,4,0,"span",3),t.YNc(4,r,4,2,"span",4),t.qZA(),t.TgZ(5,"div",5)(6,"div",6),t.YNc(7,C,7,3,"ng-container",7),t.YNc(8,y,2,1,"div",8),t.qZA()()()),2&o&&(t.xp6(2),t.Q6J("ngIf",g.showEmojis),t.xp6(1),t.Q6J("ngIf",null==g.reacaoUsuario),t.xp6(1),t.Q6J("ngIf",null!=g.reacaoUsuario),t.xp6(3),t.Q6J("ngForOf",g.reacoesPorTipo),t.xp6(1),t.Q6J("ngIf",g.reacoes.length))},dependencies:[u.sg,u.O5],styles:[".wrapper[_ngcontent-%COMP%]{position:relative}.wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;cursor:pointer;transition:transform .25s ease;padding:5px}.wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.5);transition:transform .25s ease}.btn-reacao[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.3294117647);display:flex;width:auto;padding:3px 5px;border-radius:80px;max-width:100px;justify-content:center;align-items:center;cursor:pointer}.btn-reacao[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;padding:0;margin-right:5px}.emojis[_ngcontent-%COMP%]{position:absolute;top:-30px;background:white;border:1px lightgray solid;box-shadow:0 0 16px 3px #00000073;border-radius:80px;display:inline-block;z-index:9}.reactions[_ngcontent-%COMP%]{position:relative;margin-left:10px}.reactions[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.reactions[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:first{margin-left:0}.participantes[_ngcontent-%COMP%]{display:none;position:absolute;bottom:20px;background:var(--bs-body-bg);z-index:10;padding:10px;width:max-content;border:1px solid #ddd}.participantes[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .participantes[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--bs-body-color)}.tipoReacao[_ngcontent-%COMP%]:hover > .participantes[_ngcontent-%COMP%]{display:block}.tipoReacao[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px}"]})}return d})()},7447:(I,b,l)=>{l.d(b,{f:()=>O});var e=l(755),_=l(9702);let O=(()=>{class n{constructor(s){this.lookup=s}getValorMeta(s){let a="";switch(s.entrega?.tipo_indicador){case"PORCENTAGEM":a=s.meta.porcentagem+" %";break;case"QUANTIDADE":a=s.meta.quantitativo+"";break;case"VALOR":a=s.meta.valor+"";break;case"QUALITATIVO":a=this.lookup.getValue(s.entrega.lista_qualitativos||[],s.meta.qualitativo);break;default:a="Indicador desconhecido"}return a}getValorRealizado(s){let a="";switch(s.entrega?.tipo_indicador){case"PORCENTAGEM":a=s.realizado.porcentagem+" %";break;case"QUANTIDADE":a=s.realizado.quantitativo+"";break;case"VALOR":a=s.realizado.valor+"";break;case"QUALITATIVO":a=this.lookup.getValue(s.entrega.lista_qualitativos||[],s.realizado.qualitativo);break;default:a="Indicador desconhecido"}return a}getValor(s){return typeof s.porcentagem<"u"?s.porcentagem:typeof s.qualitativo<"u"?s.qualitativo:typeof s.quantitativo<"u"?s.quantitativo:typeof s.valor<"u"?s.valor:0}getEntregaValor(s,a){let m={};return"PORCENTAGEM"==s.tipo_indicador&&(m.porcentagem=a),"QUALITATIVO"==s.tipo_indicador&&(m.qualitativo=a),"QUANTIDADE"==s.tipo_indicador&&(m.quantitativo=a),"VALOR"==s.tipo_indicador&&(m.valor=a),m}isPorcentagem(s){return"PORCENTAGEM"==s.entrega?.tipo_indicador}isAtivo(s){return this.isValido(s)&&"ATIVO"==s.status}isValido(s){return!s.deleted_at&&"CANCELADO"!=s.status&&!s.data_arquivamento}situacaoPlano(s){return s.deleted_at?"EXCLUIDO":s.data_arquivamento?"ARQUIVADO":s.status}static#t=this.\u0275fac=function(a){return new(a||n)(e.LFG(_.W))};static#e=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()},1419:(I,b,l)=>{l.d(b,{y:()=>T});var e=l(755),_=l(2124),O=l(8720),n=l(9702),t=l(2307),s=l(9193),a=l(6733),m=l(5560);function c(p,f){if(1&p){const r=e.EpF();e.TgZ(0,"i",7),e.NdJ("click",function(C){e.CHM(r);const y=e.oxw().$implicit,A=e.oxw();return e.KtG(A.addComentarioClick(C,A.entity,y.id))}),e.qZA()}}function x(p,f){if(1&p){const r=e.EpF();e.TgZ(0,"span",2,3),e.NdJ("click",function(){e.CHM(r);const C=e.MAs(1),y=e.oxw();return e.KtG(y.comentarioClick(C))}),e._UZ(2,"i"),e.TgZ(3,"span",4)(4,"strong"),e._uU(5),e.qZA(),e._uU(6),e._UZ(7,"br"),e.qZA(),e.YNc(8,c,1,0,"i",5),e.TgZ(9,"span",6),e._uU(10),e.qZA()()}if(2&p){const r=f.$implicit,h=e.oxw();e.Udp("margin-left",5*(r.path&&r.path.includes("/")?r.path.split("/").length-1:0)+"px")("background-color",h.util.getBackgroundColor(r.path&&r.path.includes("/")?r.path.split("/").length-1:0,20)+"!important"),e.Q6J("title",h.lookup.getValue(h.lookup.COMENTARIO_TIPO,r.tipo)),e.xp6(2),e.Tol("me-1 "+h.lookup.getIcon(h.lookup.COMENTARIO_TIPO,r.tipo)),e.xp6(3),e.Oqu(h.util.shortName(h.util.apelidoOuNome(r.usuario))),e.xp6(1),e.hij(" \u2022 ",h.util.getDateTimeFormatted(r.data_comentario),""),e.xp6(2),e.Q6J("ngIf",!h.selectable),e.xp6(2),e.hij(" ",r.texto," ")}}const u=function(){return[]};let T=(()=>{class p{set entity(r){this._entity!=r&&(this._entity=r,r&&this.comentario&&(r.comentarios=this.comentario.orderComentarios(r.comentarios||[])))}get entity(){return this._entity}constructor(r){this.injector=r,this.selectable=!1,this.noPersist=void 0,this.origem=void 0,this.addComentarioButton={icon:"bi bi-plus-circle",hint:"Incluir coment\xe1rio"},this._entity=void 0,this.validate=(h,C)=>null,this.fh=r.get(O.k),this.cdRef=r.get(e.sBO),this.go=r.get(t.o),this.util=r.get(s.f),this.lookup=r.get(n.W),this.comentario=r.get(_.K),this.form=this.fh.FormBuilder({comentarios:{default:[]}},this.cdRef,this.validate)}ngOnInit(){}get isNoPersist(){return null!=this.noPersist}comentarioClick(r){const h=r.getAttribute("data-expanded");r.setAttribute("data-expanded","true"==h?"false":"true")}addComentarioClick(r,h,C){r?.stopPropagation(),this.go.navigate({route:["uteis","comentarios",this.origem,this.isNoPersist?"NOPERSIST":h.id,"new"],params:{comentario_id:C}},{modal:!0,metadata:{entity:h},modalClose:y=>{y&&(this.save&&this.save(y),this.isNoPersist||(this.grid?.query||this.query)?.refreshId(h.id))}})}static#t=this.\u0275fac=function(h){return new(h||p)(e.Y36(e.zs3))};static#e=this.\u0275cmp=e.Xpm({type:p,selectors:[["comentarios-widget"]],inputs:{selectable:"selectable",noPersist:"noPersist",origem:"origem",save:"save",grid:"grid",query:"query",entity:"entity"},decls:2,vars:3,consts:[["title","Coment\xe1rios","small","",3,"button","buttonClick"],["class","badge bg-light text-dark comentario-badge","role","button","data-expanded","false","data-bs-toggle","tooltip","data-bs-placement","top",3,"title","margin-left","background-color","click",4,"ngFor","ngForOf"],["role","button","data-expanded","false","data-bs-toggle","tooltip","data-bs-placement","top",1,"badge","bg-light","text-dark","comentario-badge",3,"title","click"],["badge",""],[1,"comentario-title"],["class","bi bi-reply comentario-responder","data-bs-toggle","tooltip","data-bs-placement","top","title","Responder",3,"click",4,"ngIf"],[1,"comentario-text","text-truncate"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Responder",1,"bi","bi-reply","comentario-responder",3,"click"]],template:function(h,C){1&h&&(e.TgZ(0,"separator",0),e.NdJ("buttonClick",function(A){return C.addComentarioClick(A,C.entity)}),e.qZA(),e.YNc(1,x,11,11,"span",1)),2&h&&(e.Q6J("button",C.selectable?void 0:C.addComentarioButton),e.xp6(1),e.Q6J("ngForOf",(null==C.entity?null:C.entity.comentarios)||e.DdM(2,u)))},dependencies:[a.sg,a.O5,m.N],styles:["[_nghost-%COMP%]{max-width:320px;display:block}.comentario-badge[data-expanded=true][_ngcontent-%COMP%]   .comentario-title[_ngcontent-%COMP%]{display:initial;white-space:normal;font-size:12px}.comentario-badge[data-expanded=true][_ngcontent-%COMP%]   .comentario-text[_ngcontent-%COMP%]{font-size:12px;height:auto;display:block;white-space:initial}.comentario-badge[_ngcontent-%COMP%]{white-space:nowrap;display:block;position:relative;background-color:#ffe69c!important;margin-bottom:1px;text-align:left;padding:3px 5px}.comentario-badge[_ngcontent-%COMP%]   .comentario-title[_ngcontent-%COMP%]{display:none}.comentario-badge[_ngcontent-%COMP%]   .comentario-text[_ngcontent-%COMP%]{width:calc(100% - 15px);display:inline-block;font-size:12px}.comentario-badge[_ngcontent-%COMP%]:hover   .comentario-responder[_ngcontent-%COMP%]{display:block}.comentario-responder[_ngcontent-%COMP%]{display:none;position:absolute;right:5px;top:5px}"]})}return p})()},9108:(I,b,l)=>{l.d(b,{W:()=>x});var e=l(8239),_=l(5458),O=l(6298),n=l(755),t=l(6733);function s(u,T){if(1&u&&(n.ynx(0),n.TgZ(1,"div",2)(2,"h6"),n._uU(3),n.qZA(),n._UZ(4,"cite",3),n.qZA(),n.BQk()),2&u){const p=T.$implicit,f=T.index,r=n.oxw();n.xp6(1),n.Udp("border-color",r.util.getBackgroundColor(f,r.colunas.length)+"!important"),n.xp6(2),n.Oqu(p.titulo),n.xp6(1),n.Q6J("innerHTML",p.texto,n.oJD)}}let a=(()=>{class u extends O.D{constructor(p){super(p),this.injector=p,this.colunas=[]}ngOnInit(){super.ngOnInit()}static#t=this.\u0275fac=function(f){return new(f||u)(n.Y36(n.zs3))};static#e=this.\u0275cmp=n.Xpm({type:u,selectors:[["app-colunas"]],inputs:{colunas:"colunas"},features:[n.qOj],decls:2,vars:1,consts:[[1,"row"],[4,"ngFor","ngForOf"],[1,"border-start","border-4","ps-3","mt-3","col-md-6","col-12"],[3,"innerHTML"]],template:function(f,r){1&f&&(n.TgZ(0,"div",0),n.YNc(1,s,5,4,"ng-container",1),n.qZA()),2&f&&(n.xp6(1),n.Q6J("ngForOf",r.colunas))},dependencies:[t.sg]})}return u})();function m(u,T){if(1&u&&n._UZ(0,"planejamento-show",2),2&u){const p=n.oxw();n.Q6J("planejamento",p.planejamentoSuperior)}}function c(u,T){if(1&u&&(n.TgZ(0,"div",3)(1,"h6"),n._uU(2,"Planejamento:"),n.qZA(),n.TgZ(3,"h4"),n._uU(4),n.qZA(),n._UZ(5,"app-colunas",4),n.qZA()),2&u){const p=n.oxw();n.Q6J("ngClass",p.planejamento.planejamento_superior_id?"":"first-box"),n.xp6(4),n.Oqu(p.planejamento.nome),n.xp6(1),n.Q6J("colunas",p.colunas)}}let x=(()=>{class u extends O.D{constructor(p){super(p),this.injector=p,this.planejamento={},this.planejamentoSuperior=null,this.colunas=[],this.planejamentoDao=p.get(_.U)}ngOnInit(){super.ngOnInit(),this.colunas.push({titulo:"Miss\xe3o",texto:this.planejamento.missao},{titulo:"Vis\xe3o",texto:this.planejamento.visao},{titulo:"Valores",texto:this.planejamento.valores.map(p=>p.value).join("<br>")},{titulo:"Resultados institucionais",texto:this.planejamento.resultados_institucionais?.map(p=>p.value).join("<br>")})}ngAfterViewInit(){super.ngAfterViewInit(),this.planejamento.planejamento_superior_id&&this.buscaPlanejamentoSuperior(this.planejamento.planejamento_superior_id)}buscaPlanejamentoSuperior(p){var f=this;return(0,e.Z)(function*(){f.planejamentoSuperior=yield f.planejamentoDao.getById(p)})()}static#t=this.\u0275fac=function(f){return new(f||u)(n.Y36(n.zs3))};static#e=this.\u0275cmp=n.Xpm({type:u,selectors:[["planejamento-show"]],inputs:{planejamento:"planejamento"},features:[n.qOj],decls:2,vars:2,consts:[[3,"planejamento",4,"ngIf"],["class","planejamento arrow_box w-100",3,"ngClass",4,"ngIf"],[3,"planejamento"],[1,"planejamento","arrow_box","w-100",3,"ngClass"],[3,"colunas"]],template:function(f,r){1&f&&(n.YNc(0,m,1,1,"planejamento-show",0),n.YNc(1,c,6,3,"div",1)),2&f&&(n.Q6J("ngIf",r.planejamentoSuperior),n.xp6(1),n.Q6J("ngIf",r.planejamento))},dependencies:[t.mk,t.O5,a,u],styles:["[_nghost-%COMP%]{flex-basis:fit-content}"]})}return u})()}}]);