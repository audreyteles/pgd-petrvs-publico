"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[3547],{43547:(U,f,a)=>{a.r(f),a.d(f,{TipoJustificativaModule:()=>c});var p=a(76733),h=a(55579),l=a(1391),r=a(2314),v=a(74040),T=a(79055),d=a(65296),C=a(1184),t=a(20755),g=a(92392);class n extends C.F{constructor(o){super(o,d.H,T.i),this.injector=o,this.validate=(e,i)=>{let s=null;return["nome"].indexOf(i)>=0&&!e.value?.length&&(s="Obrigat\xf3rio"),s},this.titleEdit=e=>"Editando "+this.lex.translate("Tipo de Justificativa")+": "+(e?.nome||""),this.form=this.fh.FormBuilder({nome:{default:""},data_inicio:{default:""},data_fim:{default:""}},this.cdRef,this.validate)}loadData(o,e){let i=Object.assign({},e.value);e.patchValue(this.util.fillForm(i,o))}initializeData(o){o.patchValue(new d.H)}saveData(o){return new Promise((e,i)=>{const s=this.util.fill(new d.H,this.entity);e(this.util.fillForm(s,this.form.value))})}static#t=this.\u0275fac=function(e){return new(e||n)(t.Y36(t.zs3))};static#i=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-entidade-form"]],viewQuery:function(e,i){if(1&e&&t.Gf(v.Q,5),2&e){let s;t.iGM(s=t.CRH())&&(i.editableForm=s.first)}},features:[t.qOj],decls:3,vars:4,consts:[["initialFocus","nome",3,"form","title","submit","cancel"],[1,"row"],["label","T\xedtulo","controlName","nome","required","",3,"size"]],template:function(e,i){1&e&&(t.TgZ(0,"editable-form",0),t.NdJ("submit",function(){return i.onSaveData()})("cancel",function(){return i.onCancel()}),t.TgZ(1,"div",1),t._UZ(2,"input-text",2),t.qZA()()),2&e&&(t.Q6J("form",i.form)("title",i.isModal?"":i.title),t.xp6(2),t.Q6J("size",12),t.uIk("maxlength",250))},dependencies:[v.Q,g.m]})}var J=a(73150),y=a(78509),O=a(57224),b=a(83351),A=a(57765),D=a(45512),E=a(42704);function F(Z,o){1&Z&&t._UZ(0,"toolbar")}class u extends y.E{constructor(o){super(o,d.H,T.i),this.injector=o,this.filterWhere=e=>{let i=[],s=e.value;return s.nome?.length&&i.push(["nome","like","%"+s.nome.trim().replace(" ","%")+"%"]),i},this.title=this.lex.translate("Tipos de Justificativa"),this.code="MOD_TIPO_JUST",this.filter=this.fh.FormBuilder({nome:{default:""}}),this.auth.hasPermissionTo("MOD_TIPO_JUST")&&this.options.push({icon:"bi bi-info-circle",label:"Informa\xe7\xf5es",onClick:this.consult.bind(this)}),this.auth.hasPermissionTo("MOD_TIPO_JUST_EXCL")&&this.options.push({icon:"bi bi-trash",label:"Excluir",onClick:this.delete.bind(this)}),this.addOption(this.OPTION_LOGS,"MOD_AUDIT_LOG")}filterClear(o){o.controls.nome.setValue(""),super.filterClear(o)}static#t=this.\u0275fac=function(e){return new(e||u)(t.Y36(t.zs3))};static#i=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-tipo-justificativa-list"]],viewQuery:function(e,i){if(1&e&&t.Gf(J.M,5),2&e){let s;t.iGM(s=t.CRH())&&(i.grid=s.first)}},features:[t.qOj],decls:9,vars:24,consts:[[3,"dao","add","title","orderBy","groupBy","join","selectable","hasAdd","hasEdit","select"],[4,"ngIf"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["controlName","nome","placeholder","Nome...",3,"size","label","control"],["title","Descri\xe7\xe3o","field","nome"],["type","options",3,"onEdit","options"],[3,"rows"]],template:function(e,i){1&e&&(t.TgZ(0,"grid",0),t.NdJ("select",function(j){return i.onSelect(j)}),t.YNc(1,F,1,0,"toolbar",1),t.TgZ(2,"filter",2)(3,"div",3),t._UZ(4,"input-text",4),t.qZA()(),t.TgZ(5,"columns"),t._UZ(6,"column",5)(7,"column",6),t.qZA(),t._UZ(8,"pagination",7),t.qZA()),2&e&&(t.Q6J("dao",i.dao)("add",i.add)("title",i.isModal?"":i.title)("orderBy",i.orderBy)("groupBy",i.groupBy)("join",i.join)("selectable",i.selectable)("hasAdd",i.auth.hasPermissionTo("MOD_TIPO_JUST_INCL"))("hasEdit",i.auth.hasPermissionTo("MOD_TIPO_JUST_EDT")),t.xp6(1),t.Q6J("ngIf",!i.selectable),t.xp6(1),t.Q6J("deleted",i.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",i.filter)("where",i.filterWhere)("submit",i.filterSubmit.bind(i))("clear",i.filterClear.bind(i))("collapseChange",i.filterCollapseChange.bind(i))("collapsed",!i.selectable&&i.filterCollapsed),t.xp6(2),t.Q6J("size",12)("label","Nome "+i.lex.translate("tipo de justificativa"))("control",i.filter.controls.nome),t.uIk("maxlength",250),t.xp6(3),t.Q6J("onEdit",i.edit)("options",i.options),t.xp6(1),t.Q6J("rows",i.rowsLimit))},dependencies:[p.O5,J.M,O.a,b.b,A.z,D.n,E.Q,g.m]})}const I=[{path:"",component:u,canActivate:[l.a],resolve:{config:r.o},runGuardsAndResolvers:"always",data:{title:"Tipos de Justificativa"}},{path:"new",component:n,canActivate:[l.a],resolve:{config:r.o},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o de Tipo de Justificativa",modal:!0}},{path:":id/edit",component:n,canActivate:[l.a],resolve:{config:r.o},runGuardsAndResolvers:"always",data:{title:"Edi\xe7\xe3o de Tipo de Justificativa",modal:!0}},{path:":id/consult",component:n,canActivate:[l.a],resolve:{config:r.o},runGuardsAndResolvers:"always",data:{title:"Consulta a Tipo de Justificativa",modal:!0}}];class m{static#t=this.\u0275fac=function(e){return new(e||m)};static#i=this.\u0275mod=t.oAB({type:m});static#e=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(I),h.Bz]})}var Q=a(54218),M=a(72133);class c{static#t=this.\u0275fac=function(e){return new(e||c)};static#i=this.\u0275mod=t.oAB({type:c});static#e=this.\u0275inj=t.cJS({imports:[p.ez,Q.K,M.UX,m]})}}}]);