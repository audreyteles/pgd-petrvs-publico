<<<<<<< HEAD
{"version":3,"file":"9242.js","mappings":"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","sources":["./src/app/modules/configuracoes/usuario/usuario-form/usuario-form.component.ts","./src/app/modules/configuracoes/usuario/usuario-form/usuario-form.component.html","./src/app/modules/configuracoes/usuario/usuario-integrante/usuario-integrante.component.ts","./src/app/modules/configuracoes/usuario/usuario-integrante/usuario-integrante.component.html","./src/app/modules/configuracoes/usuario/usuario-list/usuario-list.component.ts","./src/app/modules/configuracoes/usuario/usuario-list/usuario-list.component.html","./src/app/modules/configuracoes/usuario/usuario-routing.module.ts","./src/app/modules/configuracoes/usuario/usuario.module.ts"],"sourcesContent":["import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { PerfilDaoService } from 'src/app/dao/perfil-dao.service';\r\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { UsuarioIntegranteComponent } from '../usuario-integrante/usuario-integrante.component';\r\nimport { TemplateDataset } from 'src/app/modules/uteis/templates/template.service';\r\nimport { UnidadeIntegranteDaoService, Vinculo } from 'src/app/dao/unidade-integrante-dao.service';\r\n\r\n@Component({\r\n  selector: 'app-usuario-form',\r\n  templateUrl: './usuario-form.component.html',\r\n  styleUrls: ['./usuario-form.component.scss']\r\n})\r\nexport class UsuarioFormComponent extends PageFormBase<Usuario, UsuarioDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(UsuarioIntegranteComponent, { static: false }) public unidadesIntegrantes?: UsuarioIntegranteComponent;\r\n\r\n  public formLotacao: FormGroup;\r\n  public perfilDao: PerfilDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public integranteDao: UnidadeIntegranteDaoService;\r\n  public planoTrabalhoDao: PlanoTrabalhoDaoService;\r\n  public planoDataset: TemplateDataset[];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Usuario, UsuarioDaoService);\r\n    this.perfilDao = injector.get<PerfilDaoService>(PerfilDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.integranteDao = injector.get<UnidadeIntegranteDaoService>(UnidadeIntegranteDaoService);\r\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      email: { default: \"\" },\r\n      nome: { default: \"\" },\r\n      cpf: { default: \"\" },\r\n      matricula: { default: \"\" },\r\n      apelido: { default: \"\" },\r\n      telefone: { default: \"\" },\r\n      uf: { default: \"\" },\r\n      sexo: { default: null },\r\n      url_foto: { default: \"\" },\r\n      texto_complementar_plano: { default: \"\" },\r\n      perfil_id: { default: null },\r\n      data_nascimento: { default: null },\r\n    }, this.cdRef, this.validate);\r\n    this.formLotacao = this.fh.FormBuilder({\r\n      unidade_lotacao_id: { default: \"\" },\r\n    }, this.cdRef, this.validate);\r\n    this.planoDataset = this.planoTrabalhoDao.dataset();\r\n    this.join = [\"lotacao.unidade:id\"];\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if (['cpf', 'matricula', 'email', 'nome', 'apelido', 'perfil_id', 'unidade_lotacao_id'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    } else if (controlName == \"cpf\" && !this.util.validarCPF(control.value)) {\r\n      result = \"Inválido\";\r\n    } else if (['data_nascimento'].indexOf(controlName) >= 0 && !this.dao?.validDateTime(control.value)) {\r\n      result = \"Inválido\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public formValidation = (form?: FormGroup) => {\r\n    if (!this.formLotacao?.controls.unidade_lotacao_id.value?.length) {\r\n      return \"É obrigatória a definição da unidade de lotação do servidor!\";\r\n    }\r\n    const erros_atribuicoes = [];\r\n    this.unidadesIntegrantes?.grid?.items.forEach((unidadeIntegrante) => {\r\n      if (unidadeIntegrante.unidade_id == '') erros_atribuicoes.push({ integrante: unidadeIntegrante, erro: 'Falta unidade_id' })\r\n    });\r\n    if (erros_atribuicoes.length) return \"Na aba 'Atribuições' há unidade não salva. Salve-a antes de salvar o usuário!\"\r\n    return undefined;\r\n  }\r\n\r\n  public loadData(entity: Usuario, form: FormGroup): void {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    this.formLotacao.controls.unidade_lotacao_id.setValue(entity.lotacao?.unidade?.id);\r\n    if(this.action == \"new\") this.unidadesIntegrantes!._items = [];\r\n    this.unidadesIntegrantes?.loadData(entity);\r\n  }\r\n\r\n  public initializeData(form: FormGroup): void {\r\n    this.entity = new Usuario({id: this.dao?.generateUuid()});\r\n    this.loadData(this.entity, form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<boolean> {\r\n    return new Promise<boolean>(async (resolve, reject) => {\r\n      this.unidadesIntegrantes!.grid!.confirm();\r\n      let usuario = this.util.fill(new Usuario(), this.entity!);\r\n      usuario = this.util.fillForm(usuario, this.form!.value);\r\n      usuario.lotacao_id = this.formLotacao?.controls.unidade_lotacao_id.value;\r\n      let vinculos: Vinculo[] = this.unidadesIntegrantes?._items || [];\r\n      let indiceVinculoLotacao = vinculos.findIndex(v => v.atribuicoes.includes(\"LOTADO\"));\r\n      let lotacaoAlterada: boolean = indiceVinculoLotacao == -1 || usuario.lotacao_id != vinculos[indiceVinculoLotacao].unidade_id;\r\n      try {\r\n        await this.dao?.save(usuario).then(async usuarioBanco => {\r\n          if (lotacaoAlterada) {\r\n            if(indiceVinculoLotacao != -1) vinculos[indiceVinculoLotacao].atribuicoes = vinculos[indiceVinculoLotacao].atribuicoes.filter(x => x != \"LOTADO\");\r\n            let index = vinculos.findIndex(v => v.unidade_id == usuario.lotacao_id);\r\n            index == -1 ? vinculos.push({ unidade_id: usuario.lotacao_id, usuario_id: usuarioBanco.id, atribuicoes: [\"LOTADO\"] }) : vinculos[index].atribuicoes.push(\"LOTADO\");\r\n          }\r\n          vinculos.forEach(v => v.usuario_id = usuarioBanco.id);\r\n          await this.integranteDao.saveIntegrante(vinculos as Vinculo[]);\r\n        });\r\n        resolve(true);\r\n      } catch (error: any) {\r\n        if (this.editableForm) this.editableForm.error = error;\r\n      }\r\n    });\r\n  }\r\n\r\n  public titleEdit = (entity: Usuario): string => {\r\n    return \"Editando \" + this.lex.translate(\"Usuário\") + ': ' + (entity?.nome || \"\");\r\n  }\r\n\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"cpf\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right>\r\n        <tab key=\"PRINCIPAL\" label=\"Principal\">\r\n            <div class=\"row\">\r\n                <div class=\"form-group col-md-3 text-center\">\r\n                    <profile-picture [url]=\"form!.controls.url_foto.value\" class=\"mt-5\" [size]=\"150\"></profile-picture>\r\n                </div>\r\n                <div class=\"form-group col-md-9\">\r\n                    <div class=\"row\">\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_CPF') ? 'true' : undefined\" [size]=\"3\" label=\"CPF\" controlName=\"cpf\" [maskFormat]=\"'000.000.000-00'\" [attr.maxlength]=15 required></input-text>\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_MAT') ? 'true' : undefined\" [size]=\"2\" label=\"Matrícula\" controlName=\"matricula\" [attr.maxlength]=250 required></input-text>\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_MAIL') ? 'true' : undefined\" [size]=\"4\" label=\"E-mail\" controlName=\"email\" textCase=\"lower\" [attr.maxlength]=250 required></input-text>\r\n                        <input-datetime date [size]=\"3\" label=\"Nascimento\" noIcon controlName=\"data_nascimento\" [labelInfo]=\"'Data de nascimento'\"></input-datetime>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-text [size]=\"8\" label=\"Nome\" controlName=\"nome\" [attr.maxlength]=250 required></input-text>\r\n                        <input-text [size]=\"4\" label=\"Apelido\" controlName=\"apelido\" [attr.maxlength]=250 required></input-text>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-select [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_PERFIL') ? 'true' : undefined\" [size]=\"4\" label=\"Perfil\" controlName=\"perfil_id\" [dao]=\"perfilDao\" required></input-select>\r\n                        <input-search #lotacao label=\"Lotação\" [size]=\"8\" [emptyValue]=\"null\" [control]=\"formLotacao!.controls.unidade_lotacao_id\" controlName=\"unidade_lotacao_id\" [dao]=\"unidadeDao\" labelInfo=\"Unidade de lotação do Usuário\" required></input-search>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-select [size]=\"4\" label=\"UF\" icon=\"bi bi-flag\" controlName=\"uf\" [items]=\"lookup.UF\"></input-select>\r\n                        <input-radio [size]=\"4\" label=\"Sexo\" controlName=\"sexo\" [items]=\"lookup.SEXO\"></input-radio>\r\n                        <input-text [size]=\"4\" label=\"Telefone\" controlName=\"telefone\" [maskFormat]=\"'(00) 0000-0000||(00) 0 0000-0000'\" [attr.maxlength]=250></input-text>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"CONFIGURACOES\" label=\"Configurações\">\r\n            <div class=\"row\">\r\n                <input-editor [label]=\"'Texto complementar ' + lex.translate('Plano de Trabalho')\" controlName=\"texto_complementar_plano\" [dataset]=\"planoDataset\"></input-editor>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"ATRIBUICOES\" [label]=\"lex.translate('Atribuições')\">\r\n            <usuario-integrante #unidadesIntegrantes noPersist [entity]=\"entity\"></usuario-integrante>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>","import { Component, Injector, Input, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { UnidadeIntegranteDaoService } from 'src/app/dao/unidade-integrante-dao.service';\nimport { IIndexable, IntegranteAtribuicao } from 'src/app/models/base.model';\nimport { IntegranteConsolidado } from 'src/app/models/unidade-integrante.model';\nimport { Usuario } from 'src/app/models/usuario.model';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { IntegranteService } from 'src/app/services/integrante.service';\n\n@Component({\n  selector: 'usuario-integrante',\n  templateUrl: './usuario-integrante.component.html',\n  styleUrls: ['./usuario-integrante.component.scss']\n})\nexport class UsuarioIntegranteComponent extends PageFrameBase {\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\n  @Input() set entity(value: Usuario | undefined) { super.entity = value; } get entity(): Usuario | undefined { return super.entity; }\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\n\n  public items: IntegranteConsolidado[] = [];\n  public _items?: any[];\n  public integranteService: IntegranteService;\n  public integranteDao: UnidadeIntegranteDaoService;\n  public unidadeDao: UnidadeDaoService;\n  public tiposAtribuicao: LookupItem[] = [];\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.integranteService = injector.get<IntegranteService>(IntegranteService);\n    this.integranteDao = injector.get<UnidadeIntegranteDaoService>(UnidadeIntegranteDaoService);\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    this.form = this.fh.FormBuilder({\n      unidade_id: { default: \"\" },\n      atribuicoes: { default: undefined },\n      atribuicao: { default: \"\" },\n    }, this.cdRef, this.validate);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.entity_id = this.metadata?.entity_id || this.entity?.id;\n    this.tiposAtribuicao = this.isNoPersist ? this.lookup.UNIDADE_INTEGRANTE_TIPO.filter((atribuicao) => atribuicao.key != \"LOTADO\") : this.lookup.UNIDADE_INTEGRANTE_TIPO;\n  }\n\n    ngAfterViewInit() {\n      (async () => {\n        await this.loadData({ id: this.entity_id }, this.form);\n      })();\n    }\n\n  /**\n   * Método chamado na inicialização do componente para carregar todas as unidades-integrantes do usuário.\n   * @param entity \n   * @param form \n   */\n  public async loadData(entity: IIndexable, form?: FormGroup | undefined) {\n    if (entity.id) {\n      let integrantes: IntegranteConsolidado[] = [];\n      try {\n        if(this._items == undefined){\n          this.grid!.loading = true;\n          this._items = [];\n          await this.integranteDao!.loadIntegrantes(\"\", entity.id).then( resposta => { \n            integrantes = resposta.integrantes.filter(x => x.atribuicoes?.length > 0); \n            if(!this.isNoPersist) this.entity = resposta.usuario;\n          });\n        }\n      } finally {\n        integrantes.forEach(i => this._items?.push(this.integranteService.converterEmVinculo(i, i.id, entity.id, i.atribuicoes)));\n        this.items = this.integranteService.ordenar(this._items || []);\n        this.cdRef.detectChanges();\n        this.grid!.loading = false;\n      }\n    }\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if ([\"unidade_id\", \"atribuicoes\"].includes(controlName) && !control.value?.length) { result = \"Obrigatório\"; }\n    if ((controlName == \"unidade_id\") && this.grid?.adding && this.items.map(i => i.id).includes(control.value)) result = \"O usuário já é integrante desta unidade. Edite-a, ao invés de incluí-la novamente!\";\n    return result;\n  }\n\n  /**\n   * Método chamado para inserir uma atribuição no grid, seja este componente persistente ou não.\n   * @returns \n   */\n  public async addIntegrante() {\n    let novo = {\n      id: this.integranteDao!.generateUuid(),\n      unidade_id: \"\",\n      atribuicoes: []\n    } as IIndexable;\n    return novo;\n  }\n\n  public addItemHandle(): LookupItem | undefined {\n    let result = undefined;\n    const value = this.lookup.getValue(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\n    const key = this.form!.controls.atribuicao.value;\n    if (value?.length && this.util.validateLookupItem(this.form!.controls.atribuicao.value, key)) {\n      const icon = this.lookup.getIcon(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\n      const color = this.lookup.getColor(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\n      result = {\n        key: key,\n        value: value,\n        icon: icon,\n        color: color\n      };\n      this.form!.controls.atribuicao.setValue(\"\");\n    }\n    return result;\n  };\n\n  /**\n   * Método chamado na edição de uma atribuição do usuário\n   * @param form \n   * @param row \n   */\n  public async loadIntegrante(form: FormGroup, row: any) {\n    form.controls.unidade_id.setValue(this.grid?.adding ? row.unidade_id : row.id);\n    form.controls.atribuicoes.setValue(this.integranteService.converterAtribuicoes(row.atribuicoes));\n    form.controls.atribuicao.setValue(\"\");\n  }\n\n  /**\n   * Método chamado para a exclusão de uma atribuição do grid, seja este componente persistente ou não. \n   * @param row \n   * @returns \n   */\n  public async removeIntegrante(row: IntegranteConsolidado) {\n    let nomeServidor = this.entity!.nome;\n    let nomeUnidade = row.unidade_nome;\n    if(this.isNoPersist && row.atribuicoes.length == 1 && row.atribuicoes[0] == \"LOTADO\") {\n      await this.dialog.alert(\"IMPOSSÍVEL EXCLUIR !\", \"Um vínculo não pode ser excluído quando sua única atribuição é a lotação do servidor. Se quiser alterar a lotação, use a aba principal.\");\n    } else {\n      let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir todas as atribuições do servidor '\" + nomeServidor + \"' na unidade '\" + nomeUnidade + \"' ?\");\n      if (confirm) {\n        let msg: string | undefined;\n        try {\n          if (!this.isNoPersist) {    // se persistente\n            this.loading = true;\n            await this.integranteDao.saveIntegrante([this.integranteService.converterEmVinculo(row, row.id, this.entity!.id, [])]).then(resposta => {\n              if (msg = resposta.find(v => v.msg?.length)?.msg) { if (this.grid) this.grid.error = msg; };\n            });\n            await this.loadData({ id: this.entity!.id }, this.form);\n          } else {                    // se não persistente\n            let index = this._items!.findIndex(x => x[\"id\"] == row[\"id\"]);\n            this._items![index] = this.integranteService.converterEmVinculo(row, row.id, this.entity!.id, []);\n          }\n        } finally {\n          this.loading = false;\n        }\n        return msg ? false : true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Garante que não será possível excluir a lotação de um servidor por este caminho\n   * @param row Atribuição do servidor na unidade\n   * @returns \n   */\n  public deleteItemHandle(row: LookupItem): boolean | undefined | void {\n    return row.key != \"LOTADO\";\n  };\n\n  /**\n   * Método chamado no salvamento de uma unidade-integrante (new/edit), seja este componente persistente ou não.\n   * @param form \n   * @param row \n   * @returns \n   */\n  public async saveIntegrante(form: FormGroup, row: IntegranteConsolidado) {\n    form.controls.atribuicoes.setValue(this.lookup.uniqueLookupItem(form.controls.atribuicoes.value));\n    let confirm = true;\n    let n = this.integranteService.alterandoGestor(form, row.atribuicoes || []);\n    if (n.length) confirm = await this.dialog.confirm(\"Confirma a Alteração de Gestor ?\", n.length == 1 ? \"O \" + n[0] + \" será alterado.\" : \"Serão alterados: \" + n.join(', ') + \".\");\n    if (form!.controls.atribuicoes.value.length && confirm) {\n      this.loading = true;\n      try {\n        let novasAtribuicoes: IntegranteAtribuicao[] = form!.controls.atribuicoes.value.map((x: LookupItem) => x.key);\n        if (!this.isNoPersist) { // se persistente\n          await this.integranteDao.saveIntegrante([this.integranteService.converterEmVinculo(row, form!.controls.unidade_id.value, this.entity!.id, novasAtribuicoes)]).then(resposta => {\n            let msg: string | undefined;\n            if (msg = resposta?.find(v => v.msg?.length)?.msg) { if (this.grid) this.grid.error = msg; };\n          });\n          await this.loadData({ id: this.entity!.id }, this.form);\n          if (this.grid) this.grid!.error = \"\";\n        } else {                // se não persistente\n          let index = this._items!.findIndex(x => x[\"id\"] == row[\"id\"]);\n          let novoIntegranteConsolidado = { id: row.id, unidade_sigla: this.unidade?.selectedItem?.entity.sigla, unidade_nome: this.unidade?.selectedItem?.entity.nome, unidade_codigo: this.unidade?.selectedItem?.entity.codigo };\n          this._items![index!] = this.integranteService.converterEmVinculo(novoIntegranteConsolidado, form!.controls.unidade_id.value, this.entity!.id, novasAtribuicoes);\n          await this.loadData({ id: this.entity!.id }, this.form);\n        }\n      } catch (error: any) {\n        if (this.grid) this.grid.error = error;\n        await this.loadData({ id: this.entity!.id }, this.form);\n      } finally {\n        this.loading = false;\n      }\n    }\n    return undefined;\n  }\n}\n","<grid #grid [items]=\"items\" [minHeight]=\"500\" [form]=\"form!\" [hasDelete]=\"true\" editable\n    [add]=\"addIntegrante.bind(this)\" [load]=\"loadIntegrante.bind(this)\" [remove]=\"removeIntegrante.bind(this)\" [save]=\"saveIntegrante.bind(this)\">\n    <span *ngIf=\"!isNoPersist\"><strong>{{ 'Servidor: ' + entity?.nome + ' - Matrícula: ' + entity?.matricula }}</strong></span>\n    <columns>\n        <column [title]=\"lex.translate('Unidades')\" [template]=\"columnUnidade\" [editTemplate]=\"editUnidade\">\n            <ng-template let-row=\"row\" #columnUnidade>\n                <strong>{{ row.unidade_sigla || '' }}</strong><span> (IdServo: {{ row.unidade_codigo || '' }})</span><br>\n                <span>{{ row.unidade_nome || '' }} </span>\n            </ng-template>\n            <ng-template let-row=\"row\" #editUnidade>\n                <input-search #unidade [size]=\"12\" label icon controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\n            </ng-template>\n        </column>\n        <column [title]=\"lex.translate('Atribuições')\" [template]=\"columnAtribuicoes\" [editTemplate]=\"editAtribuicoes\">\n            <ng-template let-row=\"row\" #columnAtribuicoes>\n                <div *ngFor=\"let a of row.atribuicoes\">\n                    <badge [color]=\"lookup.getColor(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\" [icon]=\"lookup.getIcon(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\" [label]=\"lookup.getValue(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\"></badge><br>\n                </div>\n            </ng-template>\n            <ng-template let-row=\"row\" #editAtribuicoes>\n                <input-multiselect controlName=\"atribuicoes\" [size]=\"8\" [addItemHandle]=\"addItemHandle.bind(this)\" [deleteItemHandle]=\"deleteItemHandle.bind(this)\">\n                    <input-select [size]=\"12\" label=\"\" icon=\"fas fa-sign-out-alt\" controlName=\"atribuicao\" [items]=\"tiposAtribuicao\"></input-select>\n                </input-multiselect>\n            </ng-template>\n        </column>\n        <column type=\"options\"></column>\n    </columns>\n</grid>\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PerfilDaoService } from 'src/app/dao/perfil-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\n\r\n@Component({\r\n  selector: 'app-usuario-list',\r\n  templateUrl: './usuario-list.component.html',\r\n  styleUrls: ['./usuario-list.component.scss']\r\n})\r\nexport class UsuarioListComponent extends PageListBase<Usuario, UsuarioDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n\r\n  public unidadeDao: UnidadeDaoService;\r\n  public perfilDao: PerfilDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Usuario, UsuarioDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.perfilDao = injector.get<PerfilDaoService>(PerfilDaoService);\r\n    /* Inicializações */\r\n    this.title = this.lex.translate(\"Usuários\");\r\n    this.code = \"MOD_CFG_USER\";\r\n    this.join = [\"perfil:id,nome\"];\r\n    this.filter = this.fh.FormBuilder({\r\n      usuario: { default: \"\" },\r\n      unidade_id: { default: \"\" },\r\n      perfil_id: { default: null }\r\n    });\r\n    this.addOption(this.OPTION_INFORMACOES, \"MOD_USER\");\r\n    //this.addOption(this.OPTION_EXCLUIR, \"MOD_USER_EXCL\");       // Tratar de forma diferenciada a exclusão de usuário\r\n  }\r\n\r\n  public dynamicOptions(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    // Testa se o usuário logado possui permissão para gerenciar as atribuições do usuário do grid\r\n    if (this.auth.hasPermissionTo(\"MOD_USER_ATRIB\")) result.push({ label: \"Atribuições\", icon: \"bi bi-list-task\",  onClick: (usuario: Usuario) => { this.go.navigate({ route: ['configuracoes', 'usuario', '', usuario.id, 'integrante'] }, { metadata: { entity_id: row.id } }); }});\r\n    return result;\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    if (filter?.controls.usuario?.value?.length) {\r\n      result.push([\"nome\", \"like\", \"%\" + filter?.controls.usuario?.value.trim().replace(\" \", \"%\") + \"%\"]);\r\n    }\r\n    if (filter?.controls.unidade_id?.value?.length) {\r\n      result.push([\"lotacao\", \"==\", filter?.controls.unidade_id.value]);\r\n    }\r\n    if (filter?.controls.perfil_id?.value?.length) {\r\n      result.push([\"perfil_id\", \"==\", filter?.controls.perfil_id?.value]);\r\n    }\r\n    return result;\r\n  }\r\n}\r\n","<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>\r\n<grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\"\r\n    [selectable]=\"selectable\" (select)=\"onSelect($event)\"\r\n    [hasAdd]=\"auth.hasPermissionTo('MOD_USER_INCL')\"\r\n    [hasEdit]=\"auth.hasPermissionTo('MOD_USER_EDT')\">\r\n    <toolbar *ngIf=\"!selectable\"></toolbar>\r\n    <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-text [size]=\"4\" [label]=\"lex.translate('Usuário')\" controlName=\"usuario\" [control]=\"filter!.controls.usuario\" placeholder=\"Nome\" [attr.maxlength]=250></input-text>\r\n            <input-search [size]=\"4\" [label]=\"lex.translate('Lotação')\" [control]=\"filter!.controls.unidade_id\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n            <input-select [size]=\"4\" [label]=\"lex.translate('Perfil')\" controlName=\"perfil_id\" nullable [control]=\"filter!.controls.perfil_id\" [dao]=\"perfilDao\"></input-select>\r\n        </div>\r\n    </filter>\r\n    <columns>\r\n        <column icon=\"bi-person\" [align]=\"'center'\" [template]=\"columnFoto\">\r\n            <ng-template let-row=\"row\" #columnFoto>\r\n                <profile-picture [url]=\"row.url_foto\" [size]=\"40\" [hint]=\"row.nome\"></profile-picture>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"CPF\" field=\"cpf\"></column>\r\n        <column title=\"Matrícula\" field=\"matricula\"></column>\r\n        <column title=\"Nome\" field=\"nome\" orderBy=\"nome\"></column>\r\n        <column [title]=\"lex.translate('Perfil')\" [template]=\"columnPerfil\">\r\n            <ng-template let-row=\"row\" #columnPerfil>\r\n                <strong>{{row.perfil?.nome || \"\"}}</strong>\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"options\" [onEdit]=\"edit\" [dynamicOptions]=\"dynamicOptions.bind(this)\" [options]=\"options\"></column>\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { UsuarioFormComponent } from './usuario-form/usuario-form.component';\r\nimport { UsuarioListComponent } from './usuario-list/usuario-list.component';\r\nimport { UsuarioIntegranteComponent } from './usuario-integrante/usuario-integrante.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: UsuarioListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Usuários\" } },\r\n  { path: 'new', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Usuário\", modal: true } },\r\n  { path: ':id/edit', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição de Usuário\", modal: true } },\r\n  { path: ':id/consult', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Usuário\", modal: true } },\r\n  { path: ':id/:idUsuario/integrante', component: UsuarioIntegranteComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Atribuições do Usuário\", modal: true } },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class UsuarioRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { UsuarioRoutingModule } from './usuario-routing.module';\r\nimport { UsuarioListComponent } from './usuario-list/usuario-list.component';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { UsuarioFormComponent } from './usuario-form/usuario-form.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { UsuarioIntegranteComponent } from './usuario-integrante/usuario-integrante.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    UsuarioListComponent,\r\n    UsuarioFormComponent,\r\n    UsuarioIntegranteComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    ReactiveFormsModule,\r\n    UsuarioRoutingModule\r\n  ]\r\n})\r\nexport class UsuarioModule { }\r\n"],"names":["EditableFormComponent","PerfilDaoService","PlanoTrabalhoDaoService","UnidadeDaoService","UsuarioDaoService","Usuario","PageFormBase","UsuarioIntegranteComponent","UnidadeIntegranteDaoService","UsuarioFormComponent","constructor","injector","validate","control","controlName","result","indexOf","value","length","util","validarCPF","dao","validDateTime","formValidation","form","formLotacao","controls","unidade_lotacao_id","erros_atribuicoes","unidadesIntegrantes","grid","items","forEach","unidadeIntegrante","unidade_id","push","integrante","erro","undefined","titleEdit","entity","lex","translate","nome","perfilDao","get","unidadeDao","integranteDao","planoTrabalhoDao","fh","FormBuilder","email","default","cpf","matricula","apelido","telefone","uf","sexo","url_foto","texto_complementar_plano","perfil_id","data_nascimento","cdRef","planoDataset","dataset","join","loadData","formValue","Object","assign","patchValue","fillForm","setValue","lotacao","unidade","id","action","_items","initializeData","generateUuid","saveData","_this","Promise","_ref","_asyncToGenerator","resolve","reject","confirm","usuario","fill","lotacao_id","vinculos","indiceVinculoLotacao","findIndex","v","atribuicoes","includes","lotacaoAlterada","save","then","_ref2","usuarioBanco","filter","x","index","usuario_id","saveIntegrante","_x3","apply","arguments","error","editableForm","_x","_x2","_","i0","ɵɵdirectiveInject","Injector","_2","selectors","viewQuery","UsuarioFormComponent_Query","rf","ctx","ɵɵelementStart","ɵɵlistener","UsuarioFormComponent_Template_editable_form_submit_0_listener","onSaveData","UsuarioFormComponent_Template_editable_form_cancel_0_listener","onCancel","ɵɵelement","ɵɵelementEnd","ɵɵproperty","formDisabled","isModal","title","ɵɵadvance","auth","hasPermissionTo","ɵɵattribute","lookup","UF","SEXO","GridComponent","PageFrameBase","IntegranteService","ɵɵtext","ɵɵtextInterpolate","ctx_r1","row_r10","unidade_sigla","ɵɵtextInterpolate1","unidade_codigo","unidade_nome","ctx_r5","ctx_r14","getColor","UNIDADE_INTEGRANTE_TIPO","a_r15","getIcon","getValue","ɵɵtemplate","UsuarioIntegranteComponent_ng_template_10_div_0_Template","row_r13","ctx_r9","addItemHandle","bind","deleteItemHandle","tiposAtribuicao","noPersist","adding","map","i","integranteService","atribuicao","ngOnInit","entity_id","metadata","isNoPersist","key","ngAfterViewInit","_this2","integrantes","loading","loadIntegrantes","resposta","converterEmVinculo","ordenar","detectChanges","addIntegrante","_this3","novo","validateLookupItem","icon","color","loadIntegrante","row","_this4","converterAtribuicoes","removeIntegrante","_this5","nomeServidor","nomeUnidade","dialog","alert","msg","find","_this6","uniqueLookupItem","n","alterandoGestor","novasAtribuicoes","novoIntegranteConsolidado","selectedItem","sigla","codigo","UsuarioIntegranteComponent_Query","UsuarioIntegranteComponent_span_2_Template","UsuarioIntegranteComponent_ng_template_5_Template","ɵɵtemplateRefExtractor","UsuarioIntegranteComponent_ng_template_7_Template","UsuarioIntegranteComponent_ng_template_10_Template","UsuarioIntegranteComponent_ng_template_12_Template","_r2","_r4","_r6","_r8","PageListBase","ctx_r0","row_r6","row_r7","perfil","UsuarioListComponent","filterWhere","trim","replace","code","addOption","OPTION_INFORMACOES","dynamicOptions","label","onClick","go","navigate","route","UsuarioListComponent_Query","UsuarioListComponent_h3_0_Template","UsuarioListComponent_Template_grid_select_1_listener","$event","onSelect","UsuarioListComponent_toolbar_2_Template","UsuarioListComponent_ng_template_10_Template","UsuarioListComponent_ng_template_16_Template","add","orderBy","groupBy","selectable","filterSubmit","filterCollapseChange","filterCollapsed","edit","options","rowsLimit","RouterModule","AuthGuard","ConfigResolver","routes","path","component","canActivate","config","runGuardsAndResolvers","data","modal","UsuarioRoutingModule","_3","forChild","imports","i1","exports","CommonModule","ComponentsModule","ReactiveFormsModule","UsuarioModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
=======
{"version":3,"file":"9242.js","mappings":"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","sources":["./src/app/modules/configuracoes/usuario/usuario-form/usuario-form.component.ts","./src/app/modules/configuracoes/usuario/usuario-form/usuario-form.component.html","./src/app/modules/configuracoes/usuario/usuario-integrante/usuario-integrante.component.ts","./src/app/modules/configuracoes/usuario/usuario-integrante/usuario-integrante.component.html","./src/app/modules/configuracoes/usuario/usuario-list/usuario-list.component.ts","./src/app/modules/configuracoes/usuario/usuario-list/usuario-list.component.html","./src/app/modules/configuracoes/usuario/usuario-routing.module.ts","./src/app/modules/configuracoes/usuario/usuario.module.ts"],"sourcesContent":["import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { PerfilDaoService } from 'src/app/dao/perfil-dao.service';\r\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { UsuarioIntegranteComponent } from '../usuario-integrante/usuario-integrante.component';\r\nimport { TemplateDataset } from 'src/app/modules/uteis/templates/template.service';\r\nimport { UnidadeIntegranteDaoService } from 'src/app/dao/unidade-integrante-dao.service';\r\nimport { IntegranteConsolidado } from 'src/app/models/unidade-integrante.model';\r\n\r\n@Component({\r\n  selector: 'app-usuario-form',\r\n  templateUrl: './usuario-form.component.html',\r\n  styleUrls: ['./usuario-form.component.scss']\r\n})\r\nexport class UsuarioFormComponent extends PageFormBase<Usuario, UsuarioDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(UsuarioIntegranteComponent, { static: false }) public unidadesIntegrantes?: UsuarioIntegranteComponent;\r\n\r\n  public formLotacao: FormGroup;\r\n  public perfilDao: PerfilDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public integranteDao: UnidadeIntegranteDaoService;\r\n  public planoTrabalhoDao: PlanoTrabalhoDaoService;\r\n  public planoDataset: TemplateDataset[];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Usuario, UsuarioDaoService);\r\n    this.perfilDao = injector.get<PerfilDaoService>(PerfilDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.integranteDao = injector.get<UnidadeIntegranteDaoService>(UnidadeIntegranteDaoService);\r\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      email: { default: \"\" },\r\n      nome: { default: \"\" },\r\n      cpf: { default: \"\" },\r\n      matricula: { default: \"\" },\r\n      apelido: { default: \"\" },\r\n      telefone: { default: \"\" },\r\n      uf: { default: \"\" },\r\n      sexo: { default: null },\r\n      url_foto: { default: \"\" },\r\n      texto_complementar_plano: { default: \"\" },\r\n      perfil_id: { default: null },\r\n      data_nascimento: { default: null },\r\n    }, this.cdRef, this.validate);\r\n    this.formLotacao = this.fh.FormBuilder({\r\n      unidade_lotacao_id: { default: \"\" },\r\n    }, this.cdRef, this.validate);\r\n    this.planoDataset = this.planoTrabalhoDao.dataset();\r\n    this.join = [\"lotacao.unidade:id\"];\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if (['cpf', 'matricula', 'email', 'nome', 'apelido', 'perfil_id', 'unidade_lotacao_id'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    } else if (controlName == \"cpf\" && !this.util.validarCPF(control.value)) {\r\n      result = \"Inválido\";\r\n    } else if (['data_nascimento'].indexOf(controlName) >= 0 && !this.dao?.validDateTime(control.value)) {\r\n      result = \"Inválido\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public formValidation = (form?: FormGroup) => {\r\n    if (!this.formLotacao?.controls.unidade_lotacao_id.value?.length) {\r\n      return \"É obrigatória a definição da unidade de lotação do servidor!\";\r\n    }\r\n    const erros_atribuicoes = [];\r\n    this.unidadesIntegrantes?.grid?.items.forEach((unidadeIntegrante) => {\r\n      if (unidadeIntegrante.unidade_id == '') erros_atribuicoes.push({ integrante: unidadeIntegrante, erro: 'Falta unidade_id' })\r\n    });\r\n    if (erros_atribuicoes.length) return \"Na aba 'Atribuições' há unidade não salva. Salve-a antes de salvar o usuário!\"\r\n    return undefined;\r\n  }\r\n\r\n  public async loadData(entity: Usuario, form: FormGroup): Promise<void> {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    this.formLotacao.controls.unidade_lotacao_id.setValue(entity.lotacao?.unidade?.id);\r\n    await this.unidadesIntegrantes?.loadData(entity);\r\n  }\r\n\r\n  public initializeData(form: FormGroup): void {\r\n    this.entity = new Usuario();\r\n    this.loadData(this.entity, form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<boolean> {\r\n    return new Promise<boolean>(async (resolve, reject) => {\r\n      this.unidadesIntegrantes!.grid!.confirm();\r\n      let usuario = this.util.fill(new Usuario(), this.entity!);\r\n      usuario = this.util.fillForm(usuario, this.form!.value);\r\n      try {\r\n        await this.dao?.save(Object.assign(usuario,{'lotacao_id': this.formLotacao?.controls.unidade_lotacao_id.value})).then(async usuarioBanco => {\r\n          usuario.lotacao_id = this.formLotacao?.controls.unidade_lotacao_id.value;\r\n          let integrantesConsolidados: IntegranteConsolidado[] = this.unidadesIntegrantes?.items || [];\r\n          let indicesIntegrantesExcluir: number[] = [];\r\n          integrantesConsolidados.filter(x => x._status == \"DELETE\").forEach((x,i) => indicesIntegrantesExcluir.push(i));\r\n          let indiceVinculoLotacao = integrantesConsolidados.findIndex(ic => ic.atribuicoes.includes(\"LOTADO\"));\r\n          let lotacaoAlterada: boolean = indiceVinculoLotacao == -1 || usuario.lotacao_id != integrantesConsolidados[indiceVinculoLotacao].unidade_id;\r\n          if (lotacaoAlterada) {    // garantindo a coerência entre o campo de lotação do usuário e o vínculo de lotado dos integrantes\r\n            if(indiceVinculoLotacao != -1) integrantesConsolidados[indiceVinculoLotacao].atribuicoes = integrantesConsolidados[indiceVinculoLotacao].atribuicoes.filter(x => x != \"LOTADO\");\r\n            let indiceNovaUnidadeLotacao = integrantesConsolidados.findIndex(ic => ic.unidade_id == usuario.lotacao_id);\r\n            indiceNovaUnidadeLotacao == -1 ? integrantesConsolidados.push(Object.assign(new IntegranteConsolidado (), { unidade_id: usuario.lotacao_id, usuario_id: usuarioBanco.id, atribuicoes: [\"LOTADO\"] })) : integrantesConsolidados[indiceNovaUnidadeLotacao].atribuicoes.push(\"LOTADO\");\r\n            indiceVinculoLotacao = integrantesConsolidados.findIndex(ic => ic.atribuicoes.includes(\"LOTADO\"));\r\n          }\r\n          // uma vez garantida a coerência entre o campo de lotação do usuário e o vínculo de lotado dos integrantes, vamos tratar do eventual vínculo a ser excluído \r\n          indicesIntegrantesExcluir.forEach( i => {\r\n            integrantesConsolidados[i].atribuicoes = i != indiceVinculoLotacao ? [] : [\"LOTADO\"];\r\n          });\r\n          integrantesConsolidados.forEach(ic => ic.usuario_id = usuarioBanco.id);\r\n          await this.integranteDao.saveIntegrante(integrantesConsolidados as IntegranteConsolidado[]);\r\n        });\r\n        resolve(true);\r\n      } catch (error: any) {\r\n        if (this.editableForm) this.editableForm.error = error;\r\n      }\r\n    });\r\n  }\r\n\r\n  public titleEdit = (entity: Usuario): string => {\r\n    return \"Editando \" + this.lex.translate(\"Usuário\") + ': ' + (entity?.nome || \"\");\r\n  }\r\n\r\n}\r\n\r\n/*\r\nTESTES A SEREM REALIZADOS NO FORM USUARIOS\r\n\r\n- Para verificar Lotação x Atribuições\r\n\r\nCENÁRIO: CAMINHO FELIZ\r\nFormulário completo do usuário\r\n1. Incluir um usuário com lotação definida e sem atribuições.\r\n2. Incluir um usuário com lotação definida e na mesma unidade inserir novas atribuições compatíveis (não deve estar disponível a atribuição 'LOTADO').\r\n3. Incluir um usuário com lotação definida e na mesma unidade e em várias outras inserir atribuições compatíveis diversas.\r\n4. Alterar um usuário, mudando sua lotação através da aba 'Principal', para uma unidade que não existe ainda na aba 'Atribuições'.\r\n5. Alterar um usuário, mudando sua lotação através da aba 'Principal', para uma unidade que já existe na aba 'Atribuições'.\r\n6. Alterar um usuário, apagando uma ou mais atribuições de uma mesma unidade.\r\n7. Alterar um usuário, apagando o vínculo completo com uma unidade distinta da sua lotação.\r\n8. Tentar incluir um usuário que já existe (mesmo e-mail funcional) e que foi desativado (apagado virtualmente).\r\n9. Tentar incluir um usuário que já existe (mesmo cpf) e que foi desativado (apagado virtualmente).\r\n\r\nCENÁRIO: CAMINHO ALTERNATIVO\r\nFormulário completo do usuário\r\n1. Incluir um usuário com lotação definida e com atribuições repetidas em uma mesma unidade.\r\n2. Incluir um usuário com lotação definida e com atribuições incompatíveis em uma mesma unidade (mais de uma atribuição de gestor).\r\n3. Alterar um usuário apagando sua atribuição de LOTADO na aba 'Atribuições'. \r\n4. Alterar um usuário inserindo atribuições repetidas em uma mesma unidade.\r\n5. Alterar um usuário inserindo atribuições incompatíveis em uma mesma unidade.\r\n6. Alterar um usuário apagando o vínculo completo com a unidade de sua lotação.\r\n7. Alterar um usuário apagando vários vínculos completos com diversas unidades, sem incluir a unidade de lotação.\r\n8. Alterar um usuário apagando vários vínculos completos com diversas unidades, incluindo sua unidade de lotação.\r\n9. Alterar um usuário inserindo a atribuição de 'Gestor' a mais de uma unidade.\r\n\r\nCENÁRIO: CAMINHO ALTERNATIVO\r\nFormulário de 'Atribuições' (menu de opções: ...)\r\n1. Alterar um usuário apagando sua atribuição de LOTADO. \r\n2. Alterar um usuário inserindo atribuições repetidas em uma mesma unidade.\r\n3. Alterar um usuário inserindo atribuições incompatíveis em uma mesma unidade.\r\n4. Alterar um usuário apagando o vínculo completo com a unidade de sua lotação.\r\n5. Alterar um usuário apagando vários vínculos completos com diversas unidades, sem incluir a unidade de lotação.\r\n6. Alterar um usuário apagando vários vínculos completos com diversas unidades, incluindo sua unidade de lotação.\r\n7. Alterar um usuário inserindo a atribuição de 'Gestor' a mais de uma unidade.\r\n\r\n */","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"cpf\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right>\r\n        <tab key=\"PRINCIPAL\" label=\"Principal\">\r\n            <div class=\"row\">\r\n                <div class=\"form-group col-md-3 text-center\">\r\n                    <profile-picture [url]=\"form!.controls.url_foto.value\" class=\"mt-5\" [size]=\"150\"></profile-picture>\r\n                </div>\r\n                <div class=\"form-group col-md-9\">\r\n                    <div class=\"row\">\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_CPF') ? 'true' : undefined\" [size]=\"3\" label=\"CPF\" controlName=\"cpf\" [maskFormat]=\"'000.000.000-00'\" [attr.maxlength]=15 required></input-text>\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_MAT') ? 'true' : undefined\" [size]=\"2\" label=\"Matrícula\" controlName=\"matricula\" [attr.maxlength]=250 required></input-text>\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_MAIL') ? 'true' : undefined\" [size]=\"4\" label=\"E-mail\" controlName=\"email\" textCase=\"lower\" [attr.maxlength]=250 required></input-text>\r\n                        <input-datetime date [size]=\"3\" label=\"Nascimento\" noIcon controlName=\"data_nascimento\" [labelInfo]=\"'Data de nascimento'\"></input-datetime>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-text [size]=\"8\" label=\"Nome\" controlName=\"nome\" [attr.maxlength]=250 required></input-text>\r\n                        <input-text [size]=\"4\" label=\"Apelido\" controlName=\"apelido\" [attr.maxlength]=250 required></input-text>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-select [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_PERFIL') ? 'true' : undefined\" [size]=\"4\" label=\"Perfil\" controlName=\"perfil_id\" [dao]=\"perfilDao\" required></input-select>\r\n                        <input-search #lotacao label=\"Lotação\" [size]=\"8\" [emptyValue]=\"null\" [control]=\"formLotacao!.controls.unidade_lotacao_id\" controlName=\"unidade_lotacao_id\" [dao]=\"unidadeDao\" labelInfo=\"Unidade de lotação do Usuário\" required></input-search>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-select [size]=\"4\" label=\"UF\" icon=\"bi bi-flag\" controlName=\"uf\" [items]=\"lookup.UF\"></input-select>\r\n                        <input-radio [size]=\"4\" label=\"Sexo\" controlName=\"sexo\" [items]=\"lookup.SEXO\"></input-radio>\r\n                        <input-text [size]=\"4\" label=\"Telefone\" controlName=\"telefone\" [maskFormat]=\"'(00) 0000-0000||(00) 0 0000-0000'\" [attr.maxlength]=250></input-text>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"CONFIGURACOES\" label=\"Configurações\">\r\n            <div class=\"row\">\r\n                <input-editor [label]=\"'Texto complementar ' + lex.translate('Plano de Trabalho')\" controlName=\"texto_complementar_plano\" [dataset]=\"planoDataset\"></input-editor>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"ATRIBUICOES\" [label]=\"lex.translate('Atribuições')\">\r\n            <usuario-integrante #unidadesIntegrantes noPersist [entity]=\"entity\"></usuario-integrante>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>","import { Component, Injector, Input, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { UnidadeIntegranteDaoService } from 'src/app/dao/unidade-integrante-dao.service';\nimport { IIndexable, IntegranteAtribuicao } from 'src/app/models/base.model';\nimport { IntegranteConsolidado } from 'src/app/models/unidade-integrante.model';\nimport { Usuario } from 'src/app/models/usuario.model';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { IntegranteService } from 'src/app/services/integrante.service';\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\n\n@Component({\n  selector: 'usuario-integrante',\n  templateUrl: './usuario-integrante.component.html',\n  styleUrls: ['./usuario-integrante.component.scss']\n})\nexport class UsuarioIntegranteComponent extends PageFrameBase {\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\n  @Input() set entity(value: Usuario | undefined) { super.entity = value; } get entity(): Usuario | undefined { return super.entity; }\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\n\n  public items: IntegranteConsolidado[] = [];\n  public integranteService: IntegranteService;\n  public integranteDao: UnidadeIntegranteDaoService;\n  public unidadeDao: UnidadeDaoService;\n  public usuarioDao: UsuarioDaoService;\n  public tiposAtribuicao: LookupItem[] = [];\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.integranteService = injector.get<IntegranteService>(IntegranteService);\n    this.integranteDao = injector.get<UnidadeIntegranteDaoService>(UnidadeIntegranteDaoService);\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\n    this.form = this.fh.FormBuilder({\n      unidade_id: { default: \"\" },\n      atribuicoes: { default: undefined },\n      atribuicao: { default: \"\" },\n    }, this.cdRef, this.validate);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.entity_id = this.metadata?.entity_id || this.entity?.id;\n    this.tiposAtribuicao = this.isNoPersist ? this.lookup.UNIDADE_INTEGRANTE_TIPO.filter((atribuicao) => atribuicao.key != \"LOTADO\") : this.lookup.UNIDADE_INTEGRANTE_TIPO;\n  }\n\n  ngAfterViewInit() {\n    (async () => {\n      await this.loadData({ id: this.entity_id }, this.form);\n    })();\n  }\n\n  /**\n   * Método chamado na inicialização do componente para carregar todas as unidades-integrantes do usuário.\n   * @param entity \n   * @param form \n   */\n  public async loadData(entity: IIndexable, form?: FormGroup | undefined) {\n    if (entity.id) {\n      let integrantes: IntegranteConsolidado[] = [];\n      try {\n        let result = await Promise.all([\n          this.usuarioDao.getById(entity.id),\n          this.integranteDao!.loadIntegrantes(\"\", entity.id)\n        ]);\n        this.entity = result[0]!;\n        integrantes = result[1].integrantes.filter(x => x.atribuicoes?.length > 0);\n      } finally {\n        integrantes.forEach(i => this.items?.push(this.integranteService.completarIntegrante(i, i.id, entity.id, i.atribuicoes)));\n        this.items = this.integranteService.ordenar(this.items);\n        this.cdRef.detectChanges();\n        this.grid!.loading = false;\n      }\n    }\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if ([\"unidade_id\", \"atribuicoes\"].includes(controlName) && !control.value?.length) { result = \"Obrigatório\"; }\n    if (controlName == \"unidade_id\" && this.grid?.adding && this.items.map(i => i.id).includes(control.value)) result = \"O usuário já é integrante desta unidade. Edite-a, ao invés de incluí-la novamente!\";\n    return result;\n  }\n\n  public formValidation = (form?: FormGroup) => {\n    let atribuicoes: LookupItem[] = form!.controls.atribuicoes.value;\n    if (this.util.array_diff(['GESTOR', 'GESTOR_SUBSTITUTO', 'GESTOR_DELEGADO'], atribuicoes.map(na => na.key) || []).length < 2) {\n      return \"A um mesmo servidor só pode ser atribuída uma função de gestor, para uma mesma Unidade!\";\n    }\n    return undefined;\n  }\n\n  /**\n   * Método chamado para inserir uma atribuição no grid, seja este componente persistente ou não.\n   * @returns \n   */\n  public async addIntegrante() {\n    let novo = {\n      id: this.integranteDao!.generateUuid(),\n      unidade_id: \"\",\n      atribuicoes: []\n    } as IIndexable;\n    return novo;\n  }\n\n  public addItemHandle(): LookupItem | undefined {\n    let result = undefined;\n    const value = this.lookup.getValue(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\n    const key = this.form!.controls.atribuicao.value;\n    if (value?.length && this.util.validateLookupItem(this.form!.controls.atribuicao.value, key)) {\n      const icon = this.lookup.getIcon(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\n      const color = this.lookup.getColor(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\n      result = {\n        key: key,\n        value: value,\n        icon: icon,\n        color: color\n      };\n      this.form!.controls.atribuicao.setValue(\"\");\n    }\n    return result;\n  };\n\n  /**\n   * Método chamado na edição de uma atribuição do usuário\n   * @param form \n   * @param row \n   */\n  public async loadIntegrante(form: FormGroup, row: any) {\n    form.controls.unidade_id.setValue(this.grid?.adding ? row.unidade_id : row.id);\n    form.controls.atribuicoes.setValue(this.integranteService.converterAtribuicoes(row.atribuicoes));\n    form.controls.atribuicao.setValue(\"\");\n  }\n\n  /**\n   * Método chamado para a exclusão de uma atribuição do grid, seja este componente persistente ou não. \n   * @param row \n   * @returns \n   */\n  public async removeIntegrante(row: IntegranteConsolidado) {\n    let nomeServidor = this.entity!.nome;\n    let nomeUnidade = row.unidade_nome;\n    if (this.isNoPersist && row.atribuicoes.length == 1 && row.atribuicoes[0] == \"LOTADO\") {\n      await this.dialog.alert(\"IMPOSSÍVEL EXCLUIR !\", \"Um vínculo não pode ser excluído quando sua única atribuição é a lotação do servidor. Se quiser alterar a lotação, use a aba principal.\");\n    } else {\n      let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir todas as atribuições do servidor '\" + nomeServidor + \"' na unidade '\" + nomeUnidade + \"' ?\");\n      if (confirm) {\n        let msg: string | undefined;\n        try {\n          if (!this.isNoPersist) {    // se persistente\n            this.loading = true;\n            await this.integranteDao.saveIntegrante([this.integranteService.completarIntegrante(row, row.id, this.entity!.id, [])]).then(resposta => {\n              if (msg = resposta.find(v => v._metadata.msg?.length)?._metadata.msg) { if (this.grid) this.grid.error = msg; };\n            });\n            await this.loadData({ id: this.entity!.id }, this.form);\n          } else {                    // se não persistente\n            Object.assign(row, { '_status': \"DELETE\", 'atribuicoes': [] });\n            return false;\n          }\n        } catch (e: any) {\n          this.loading = false;\n        } finally {\n          this.loading = false;\n        }\n        //return msg ? false : true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Garante que não será possível excluir a lotação de um servidor por este caminho\n   * @param row Atribuição do servidor na unidade\n   * @returns \n   */\n  public deleteItemHandle(row: LookupItem): boolean | undefined | void {\n    return row.key != \"LOTADO\";\n  };\n\n  /**\n   * Método chamado no salvamento de uma unidade-integrante (new/edit), seja este componente persistente ou não.\n   * @param form \n   * @param row \n   * @returns \n   */\n  public async saveIntegrante(form: FormGroup, row: IntegranteConsolidado) {\n    form.controls.atribuicoes.setValue(this.lookup.uniqueLookupItem(form!.controls.atribuicoes.value));\n/*     if (this.grid) this.grid!.error = \"\";\n    this.cdRef.detectChanges(); */\n    let error: any = undefined;\n    //error = this.formValidation(form);\n    if (!error) {\n      let confirm = true;\n      let n = this.integranteService.alterandoGestor(form, row.atribuicoes || []);\n      if (n.length) confirm = await this.dialog.confirm(\"Confirma a Alteração de Gestor ?\", n.length == 1 ? \"O \" + n[0] + \" será alterado.\" : \"Serão alterados: \" + n.join(', ') + \".\");\n      if (form!.controls.atribuicoes.value.length && confirm) {\n        this.loading = true;\n        try {\n          let novasAtribuicoes: IntegranteAtribuicao[] = form!.controls.atribuicoes.value.map((x: LookupItem) => x.key);\n          if (!this.isNoPersist) { // se persistente\n            await this.integranteDao.saveIntegrante([this.integranteService.completarIntegrante(row, form!.controls.unidade_id.value, this.entity!.id, novasAtribuicoes)]).then(resposta => {\n              let msg: string | undefined;\n              if (msg = resposta?.find(v => v._metadata.msg?.length)?._metadata.msg) { if (this.grid) this.grid!.error = msg; };\n            });\n            await this.loadData({ id: this.entity!.id }, this.form);\n            if (this.grid) this.grid!.error = \"\";\n          } else {                // se não persistente\n            this.substituirItem(row, novasAtribuicoes);\n          }\n        } catch (error: any) {\n          if (this.grid) this.grid.error = error;\n          await this.loadData({ id: this.entity!.id }, this.form);\n        } finally {\n          this.loading = false;\n        }\n      }\n    } else {\n      if (this.grid) this.grid.error = \"ATENÇÃO\" + \"&\" + error;\n      this.substituirItem(row, form.controls.atribuicoes.value.map((x: LookupItem) => x.key));\n    }\n    return undefined;\n  }\n\n  public substituirItem(row: IntegranteConsolidado, atribuicoes: IntegranteAtribuicao[]){\n    let index = this.items!.findIndex(x => x[\"id\"] == row[\"id\"]);\n    this.items![index!] = this.integranteService.completarIntegrante(\n      { id: row.id, unidade_sigla: this.unidade?.selectedItem?.entity.sigla, unidade_nome: this.unidade?.selectedItem?.entity.nome, unidade_codigo: this.unidade?.selectedItem?.entity.codigo },\n      this.form!.controls.unidade_id.value, this.entity!.id, atribuicoes\n    );\n    this.cdRef.detectChanges();\n  }\n\n\n}\n","<grid #grid [items]=\"items\" [minHeight]=\"500\" [form]=\"form!\" [hasDelete]=\"true\" editable\n    [add]=\"addIntegrante.bind(this)\" [load]=\"loadIntegrante.bind(this)\" [remove]=\"removeIntegrante.bind(this)\" [save]=\"saveIntegrante.bind(this)\">\n    <span *ngIf=\"!isNoPersist\"><strong>{{ 'Servidor: ' + entity?.nome + ' - Matrícula: ' + entity?.matricula }}</strong></span>\n    <columns>\n        <column [title]=\"lex.translate('Unidades')\" [template]=\"columnUnidade\" [editTemplate]=\"editUnidade\">\n            <ng-template let-row=\"row\" #columnUnidade>\n                <strong>{{ row.unidade_sigla || '' }}</strong><span> (IdServo: {{ row.unidade_codigo || '' }})</span><br>\n                <span>{{ row.unidade_nome || '' }} </span>\n            </ng-template>\n            <ng-template let-row=\"row\" #editUnidade>\n                <input-search #unidade [size]=\"12\" label icon controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\n            </ng-template>\n        </column>\n        <column [title]=\"lex.translate('Atribuições')\" [template]=\"columnAtribuicoes\" [editTemplate]=\"editAtribuicoes\">\n            <ng-template let-row=\"row\" #columnAtribuicoes>\n                <div *ngFor=\"let a of row.atribuicoes\">\n                    <badge [color]=\"lookup.getColor(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\" [icon]=\"lookup.getIcon(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\" [label]=\"lookup.getValue(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\"></badge><br>\n                </div>\n            </ng-template>\n            <ng-template let-row=\"row\" #editAtribuicoes>\n                <input-multiselect controlName=\"atribuicoes\" [size]=\"8\" [addItemHandle]=\"addItemHandle.bind(this)\" [deleteItemHandle]=\"deleteItemHandle.bind(this)\">\n                    <input-select [size]=\"12\" label=\"\" icon=\"fas fa-sign-out-alt\" controlName=\"atribuicao\" [items]=\"tiposAtribuicao\"></input-select>\n                </input-multiselect>\n            </ng-template>\n        </column>\n        <column type=\"options\"></column>\n    </columns>\n</grid>\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PerfilDaoService } from 'src/app/dao/perfil-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\n\r\n@Component({\r\n  selector: 'app-usuario-list',\r\n  templateUrl: './usuario-list.component.html',\r\n  styleUrls: ['./usuario-list.component.scss']\r\n})\r\nexport class UsuarioListComponent extends PageListBase<Usuario, UsuarioDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n\r\n  public unidadeDao: UnidadeDaoService;\r\n  public perfilDao: PerfilDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Usuario, UsuarioDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.perfilDao = injector.get<PerfilDaoService>(PerfilDaoService);\r\n    /* Inicializações */\r\n    this.title = this.lex.translate(\"Usuários\");\r\n    this.code = \"MOD_CFG_USER\";\r\n    this.join = [\"perfil:id,nome\"];\r\n    this.filter = this.fh.FormBuilder({\r\n      usuario: { default: \"\" },\r\n      unidade_id: { default: \"\" },\r\n      perfil_id: { default: null }\r\n    });\r\n    this.addOption(this.OPTION_INFORMACOES, \"MOD_USER\");\r\n    //this.addOption(this.OPTION_EXCLUIR, \"MOD_USER_EXCL\");       // Tratar de forma diferenciada a exclusão de usuário\r\n  }\r\n\r\n  public dynamicOptions(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    // Testa se o usuário logado possui permissão para gerenciar as atribuições do usuário do grid\r\n    if (this.auth.hasPermissionTo(\"MOD_USER_ATRIB\")) result.push({ label: \"Atribuições\", icon: \"bi bi-list-task\",  onClick: (usuario: Usuario) => { this.go.navigate({ route: ['configuracoes', 'usuario', '', usuario.id, 'integrante'] }, { metadata: { entity_id: row.id } }); }});\r\n    return result;\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    if (filter?.controls.usuario?.value?.length) {\r\n      result.push([\"nome\", \"like\", \"%\" + filter?.controls.usuario?.value.trim().replace(\" \", \"%\") + \"%\"]);\r\n    }\r\n    if (filter?.controls.unidade_id?.value?.length) {\r\n      result.push([\"lotacao\", \"==\", filter?.controls.unidade_id.value]);\r\n    }\r\n    if (filter?.controls.perfil_id?.value?.length) {\r\n      result.push([\"perfil_id\", \"==\", filter?.controls.perfil_id?.value]);\r\n    }\r\n    return result;\r\n  }\r\n}\r\n","<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>\r\n<grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\"\r\n    [selectable]=\"selectable\" (select)=\"onSelect($event)\"\r\n    [hasAdd]=\"auth.hasPermissionTo('MOD_USER_INCL')\"\r\n    [hasEdit]=\"auth.hasPermissionTo('MOD_USER_EDT')\">\r\n    <toolbar *ngIf=\"!selectable\"></toolbar>\r\n    <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-text [size]=\"4\" [label]=\"lex.translate('Usuário')\" controlName=\"usuario\" [control]=\"filter!.controls.usuario\" placeholder=\"Nome\" [attr.maxlength]=250></input-text>\r\n            <input-search [size]=\"4\" [label]=\"lex.translate('Lotação')\" [control]=\"filter!.controls.unidade_id\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n            <input-select [size]=\"4\" [label]=\"lex.translate('Perfil')\" controlName=\"perfil_id\" nullable [control]=\"filter!.controls.perfil_id\" [dao]=\"perfilDao\"></input-select>\r\n        </div>\r\n    </filter>\r\n    <columns>\r\n        <column icon=\"bi-person\" [align]=\"'center'\" [template]=\"columnFoto\">\r\n            <ng-template let-row=\"row\" #columnFoto>\r\n                <profile-picture [url]=\"row.url_foto\" [size]=\"40\" [hint]=\"row.nome\"></profile-picture>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"CPF\" field=\"cpf\"></column>\r\n        <column title=\"Matrícula\" field=\"matricula\"></column>\r\n        <column title=\"Nome\" field=\"nome\" orderBy=\"nome\"></column>\r\n        <column [title]=\"lex.translate('Perfil')\" [template]=\"columnPerfil\">\r\n            <ng-template let-row=\"row\" #columnPerfil>\r\n                <strong>{{row.perfil?.nome || \"\"}}</strong>\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"options\" [onEdit]=\"edit\" [dynamicOptions]=\"dynamicOptions.bind(this)\" [options]=\"options\"></column>\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { UsuarioFormComponent } from './usuario-form/usuario-form.component';\r\nimport { UsuarioListComponent } from './usuario-list/usuario-list.component';\r\nimport { UsuarioIntegranteComponent } from './usuario-integrante/usuario-integrante.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: UsuarioListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Usuários\" } },\r\n  { path: 'new', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Usuário\", modal: true } },\r\n  { path: ':id/edit', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição de Usuário\", modal: true } },\r\n  { path: ':id/consult', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Usuário\", modal: true } },\r\n  { path: ':id/:idUsuario/integrante', component: UsuarioIntegranteComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Atribuições do Usuário\", modal: true } },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class UsuarioRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { UsuarioRoutingModule } from './usuario-routing.module';\r\nimport { UsuarioListComponent } from './usuario-list/usuario-list.component';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { UsuarioFormComponent } from './usuario-form/usuario-form.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { UsuarioIntegranteComponent } from './usuario-integrante/usuario-integrante.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    UsuarioListComponent,\r\n    UsuarioFormComponent,\r\n    UsuarioIntegranteComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    ReactiveFormsModule,\r\n    UsuarioRoutingModule\r\n  ]\r\n})\r\nexport class UsuarioModule { }\r\n"],"names":["EditableFormComponent","PerfilDaoService","PlanoTrabalhoDaoService","UnidadeDaoService","UsuarioDaoService","Usuario","PageFormBase","UsuarioIntegranteComponent","UnidadeIntegranteDaoService","IntegranteConsolidado","UsuarioFormComponent","constructor","injector","validate","control","controlName","result","indexOf","value","length","util","validarCPF","dao","validDateTime","formValidation","form","formLotacao","controls","unidade_lotacao_id","erros_atribuicoes","unidadesIntegrantes","grid","items","forEach","unidadeIntegrante","unidade_id","push","integrante","erro","undefined","titleEdit","entity","lex","translate","nome","perfilDao","get","unidadeDao","integranteDao","planoTrabalhoDao","fh","FormBuilder","email","default","cpf","matricula","apelido","telefone","uf","sexo","url_foto","texto_complementar_plano","perfil_id","data_nascimento","cdRef","planoDataset","dataset","join","loadData","_this","_asyncToGenerator","formValue","Object","assign","patchValue","fillForm","setValue","lotacao","unidade","id","initializeData","saveData","_this2","Promise","_ref","resolve","reject","confirm","usuario","fill","save","then","_ref2","usuarioBanco","lotacao_id","integrantesConsolidados","indicesIntegrantesExcluir","filter","x","_status","i","indiceVinculoLotacao","findIndex","ic","atribuicoes","includes","lotacaoAlterada","indiceNovaUnidadeLotacao","usuario_id","saveIntegrante","_x3","apply","arguments","error","editableForm","_x","_x2","i0","ɵɵdirectiveInject","Injector","selectors","viewQuery","UsuarioFormComponent_Query","rf","ctx","ɵɵelementStart","ɵɵlistener","UsuarioFormComponent_Template_editable_form_submit_0_listener","onSaveData","UsuarioFormComponent_Template_editable_form_cancel_0_listener","onCancel","ɵɵelement","ɵɵelementEnd","ɵɵproperty","formDisabled","isModal","title","ɵɵadvance","auth","hasPermissionTo","ɵɵattribute","lookup","UF","SEXO","GridComponent","PageFrameBase","IntegranteService","ɵɵtext","ɵɵtextInterpolate","ctx_r1","row_r10","unidade_sigla","ɵɵtextInterpolate1","unidade_codigo","unidade_nome","ctx_r5","ctx_r14","getColor","UNIDADE_INTEGRANTE_TIPO","a_r15","getIcon","getValue","ɵɵtemplate","UsuarioIntegranteComponent_ng_template_10_div_0_Template","row_r13","ctx_r9","addItemHandle","bind","deleteItemHandle","tiposAtribuicao","noPersist","adding","map","array_diff","na","key","integranteService","usuarioDao","atribuicao","ngOnInit","entity_id","metadata","isNoPersist","ngAfterViewInit","integrantes","all","getById","loadIntegrantes","completarIntegrante","ordenar","detectChanges","loading","addIntegrante","_this3","novo","generateUuid","validateLookupItem","icon","color","loadIntegrante","row","_this4","converterAtribuicoes","removeIntegrante","_this5","nomeServidor","nomeUnidade","dialog","alert","msg","resposta","find","v","_metadata","e","_this6","uniqueLookupItem","n","alterandoGestor","novasAtribuicoes","substituirItem","index","selectedItem","sigla","codigo","UsuarioIntegranteComponent_Query","UsuarioIntegranteComponent_span_2_Template","UsuarioIntegranteComponent_ng_template_5_Template","ɵɵtemplateRefExtractor","UsuarioIntegranteComponent_ng_template_7_Template","UsuarioIntegranteComponent_ng_template_10_Template","UsuarioIntegranteComponent_ng_template_12_Template","_r2","_r4","_r6","_r8","PageListBase","ctx_r0","row_r6","row_r7","perfil","UsuarioListComponent","filterWhere","trim","replace","code","addOption","OPTION_INFORMACOES","dynamicOptions","label","onClick","go","navigate","route","UsuarioListComponent_Query","UsuarioListComponent_h3_0_Template","UsuarioListComponent_Template_grid_select_1_listener","$event","onSelect","UsuarioListComponent_toolbar_2_Template","UsuarioListComponent_ng_template_10_Template","UsuarioListComponent_ng_template_16_Template","add","orderBy","groupBy","selectable","filterSubmit","filterCollapseChange","filterCollapsed","edit","options","rowsLimit","RouterModule","AuthGuard","ConfigResolver","routes","path","component","canActivate","config","runGuardsAndResolvers","data","modal","UsuarioRoutingModule","forChild","imports","i1","exports","CommonModule","ComponentsModule","ReactiveFormsModule","UsuarioModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
>>>>>>> develop
