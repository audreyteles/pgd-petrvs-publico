{"version":3,"file":"9242.js","mappings":"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","sources":["./src/app/modules/configuracoes/usuario/usuario-form/usuario-form.component.ts","./src/app/modules/configuracoes/usuario/usuario-form/usuario-form.component.html","./src/app/modules/configuracoes/usuario/usuario-integrante/usuario-integrante.component.ts","./src/app/modules/configuracoes/usuario/usuario-integrante/usuario-integrante.component.html","./src/app/modules/configuracoes/usuario/usuario-list/usuario-list.component.ts","./src/app/modules/configuracoes/usuario/usuario-list/usuario-list.component.html","./src/app/modules/configuracoes/usuario/usuario-routing.module.ts","./src/app/modules/configuracoes/usuario/usuario.module.ts"],"sourcesContent":["import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { PerfilDaoService } from 'src/app/dao/perfil-dao.service';\r\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { UsuarioIntegranteComponent } from '../usuario-integrante/usuario-integrante.component';\r\nimport { TemplateDataset } from 'src/app/modules/uteis/templates/template.service';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { UnidadeIntegranteDaoService } from 'src/app/dao/unidade-integrante-dao.service';\r\nimport { IntegranteConsolidado } from 'src/app/models/unidade-integrante.model';\r\n\r\n@Component({\r\n  selector: 'app-usuario-form',\r\n  templateUrl: './usuario-form.component.html',\r\n  styleUrls: ['./usuario-form.component.scss']\r\n})\r\nexport class UsuarioFormComponent extends PageFormBase<Usuario, UsuarioDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('unidadesIntegrantes', { static: false }) public unidadesIntegrantes?: UsuarioIntegranteComponent;\r\n  @ViewChild('lotacao', { static: false }) public lotacao?: InputSearchComponent;\r\n\r\n  public formLotacao: FormGroup;\r\n  public perfilDao: PerfilDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public integranteDao: UnidadeIntegranteDaoService;\r\n  public planoTrabalhoDao: PlanoTrabalhoDaoService;\r\n  public planoDataset: TemplateDataset[]; \r\n \r\n  constructor(public injector: Injector) {\r\n    super(injector, Usuario, UsuarioDaoService);\r\n    this.perfilDao = injector.get<PerfilDaoService>(PerfilDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.integranteDao = injector.get<UnidadeIntegranteDaoService>(UnidadeIntegranteDaoService);\r\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      email: {default: \"\"},\r\n      nome: {default: \"\"},\r\n      cpf: {default: \"\"},\r\n      matricula: {default: \"\"},\r\n      apelido: {default: \"\"},\r\n      telefone: {default: \"\"},\r\n      uf: {default: \"\"},\r\n      sexo: {default: null},\r\n      url_foto: {default: \"\"},\r\n      texto_complementar_plano: {default: \"\"},\r\n      perfil_id: {default: null},\r\n      atribuicoes: { default: []}\r\n    }, this.cdRef, this.validate);\r\n    this.formLotacao = this.fh.FormBuilder({\r\n      unidade_lotacao_id: {default: \"\"},\r\n    }, this.cdRef);\r\n    this.planoDataset = this.planoTrabalhoDao.dataset();\r\n    this.join = [\"lotacao.unidade:id\"];\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {   \r\n    let result = null;\r\n    if(['cpf', 'matricula', 'email', 'nome', 'apelido', 'perfil_id'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    else if(controlName == \"cpf\" && !this.util.validarCPF(control.value)) {\r\n      result = \"Inválido\";\r\n    }\r\n    return result;\r\n  }\r\n  \r\n  public formValidation = (form?: FormGroup) => {\r\n    if(!this.formLotacao?.controls.unidade_lotacao_id.value?.length) {\r\n      return \"É obrigatória a definição da unidade de lotação do servidor!\";\r\n    };\r\n    const erros_atribuicoes = [];\r\n    form?.controls.atribuicoes.value?.forEach((atribuicao: { nome: string; unidade_id: string }) => {\r\n      if(atribuicao.unidade_id == '') erros_atribuicoes.push({ atribuicao: atribuicao, erro: 'Falta unidade_id'})\r\n    });\r\n    if(erros_atribuicoes.length) return \"Salve a unidade antes de salvar o usuário\"\r\n    return undefined;\r\n  } \r\n\r\n  public loadData(entity: Usuario, form: FormGroup): void {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    this.formLotacao.controls.unidade_lotacao_id.setValue(entity.lotacao?.unidade?.id);\r\n  }\r\n\r\n  public initializeData(form: FormGroup): void {\r\n    this.entity = new Usuario();\r\n    this.loadData(this.entity, form); \r\n  }\r\n  \r\n  public saveData(form: IIndexable): Promise<boolean> {      \r\n    return new Promise<boolean>((resolve, reject) => {\r\n      this.unidadesIntegrantes!.grid!.confirm();\r\n      let usuario = this.util.fill(new Usuario(), this.entity!);\r\n      usuario = this.util.fillForm(usuario, this.form!.value);\r\n      //usuario.unidades_integrante = usuario.atribuicoes.filter((x: { _status: any; unidade_id: string; nome: string; }) => [\"ADD\", \"EDIT\", \"DELETE\"].includes(x._status || \"\") && x.unidade_id?.length && x.nome?.length);\r\n      usuario.unidades_integrante = this.unidadesIntegrantes?.grid?.items.filter((x: any) => [\"ADD\", \"EDIT\", \"DELETE\"].includes(x._status || \"\") && x.unidade_id?.length && x.nome?.length);\r\n      this.dao?.save(usuario).then(async usuario => {\r\n        //if(this.formLotacao.controls.unidade_lotacao_id.value != usuario.lotacao?.unidade_id) this.integranteDao.saveIntegrante([{'unidade_id': this.formLotacao!.controls.unidade_lotacao_id!.value, 'usuario_id': usuario.id, 'atribuicoes': [\"LOTADO\"]}]);\r\n        resolve(true);\r\n      });\r\n    });\r\n  }\r\n\r\n  public titleEdit = (entity: Usuario): string => {\r\n    return \"Editando \" + this.lex.translate(\"Usuário\") + ': ' + (entity?.matricula || \"\") + ' - ' + (entity?.apelido || \"\");\r\n  }\r\n\r\n  public onLotacaoChange(){\r\n    //this.unidadesIntegrantes?.items.splice(this.unidadesIntegrantes?.items.indexOf(),1);\r\n  }\r\n\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"cpf\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right>\r\n        <tab key=\"PRINCIPAL\" label=\"Principal\">\r\n            <div class=\"row\">\r\n                <div class=\"form-group col-md-3 text-center\">\r\n                    <profile-picture [url]=\"form!.controls.url_foto.value\" class=\"mt-5\" [size]=\"150\"></profile-picture>\r\n                </div>\r\n                <div class=\"form-group col-md-9\">\r\n                    <div class=\"row\">\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_CPF') ? 'true' : undefined\" [size]=\"4\" label=\"CPF\" controlName=\"cpf\" [maskFormat]=\"'000.000.000-00'\" [attr.maxlength]=15 required></input-text>\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_MAT') ? 'true' : undefined\" [size]=\"3\" label=\"Matrícula\" controlName=\"matricula\" [attr.maxlength]=250 required></input-text>\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_MAIL') ? 'true' : undefined\" [size]=\"5\" label=\"E-mail\" controlName=\"email\" textCase=\"lower\" [attr.maxlength]=250 required></input-text>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-text [size]=\"8\" label=\"Nome\" controlName=\"nome\" [attr.maxlength]=250 required></input-text>\r\n                        <input-text [size]=\"4\" label=\"Apelido\" controlName=\"apelido\" [attr.maxlength]=250 required></input-text>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-select [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_PERFIL') ? 'true' : undefined\" [size]=\"4\" label=\"Perfil\" controlName=\"perfil_id\" [dao]=\"perfilDao\" required></input-select>\r\n                        <input-search #lotacao label=\"Lotação\" [size]=\"8\" [emptyValue]=\"null\" [control]=\"formLotacao!.controls.unidade_lotacao_id\" controlName=\"unidade_lotacao_id\" [dao]=\"unidadeDao\" labelInfo=\"Unidade de lotação do Usuário\" (change)=\"onLotacaoChange()\"></input-search>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-select [size]=\"4\" label=\"UF\" icon=\"bi bi-flag\" controlName=\"uf\" [items]=\"lookup.UF\"></input-select>\r\n                        <input-radio [size]=\"4\" label=\"Sexo\" controlName=\"sexo\" [items]=\"lookup.SEXO\"></input-radio>\r\n                        <input-text [size]=\"4\" label=\"Telefone\" controlName=\"telefone\" [maskFormat]=\"'(00) 0000-0000||(00) 0 0000-0000'\" [attr.maxlength]=250></input-text>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"CONFIGURACOES\" label=\"Configurações\">\r\n            <div class=\"row\">\r\n                <input-editor [label]=\"'Texto complementar ' + lex.translate('Plano de Trabalho')\" controlName=\"texto_complementar_plano\" [dataset]=\"planoDataset\"></input-editor>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"ATRIBUICOES\" [label]=\"lex.translate('Atribuições')\">\r\n            <!-- <usuario-integrante #unidadesIntegrantes noPersist [entity]=\"entity\" [entity_id]=\"entity?.id\"></usuario-integrante> -->\r\n        </tab>\r\n    </tabs>\r\n</editable-form>","import { Component, Injector, Input, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { UnidadeIntegranteDaoService } from 'src/app/dao/unidade-integrante-dao.service';\nimport { IIndexable, IntegranteAtribuicao } from 'src/app/models/base.model';\nimport { IntegranteConsolidado } from 'src/app/models/unidade-integrante.model';\nimport { Unidade } from 'src/app/models/unidade.model';\nimport { Usuario } from 'src/app/models/usuario.model';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { UnidadeIntegranteService } from 'src/app/services/unidade-integrante.service';\n\n@Component({\n  selector: 'usuario-integrante',\n  templateUrl: './usuario-integrante.component.html',\n  styleUrls: ['./usuario-integrante.component.scss']\n})\nexport class UsuarioIntegranteComponent extends PageFrameBase {\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\n  @Input() set entity(value: Usuario | undefined) { super.entity = value; } get entity(): Usuario | undefined { return super.entity; }\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\n  @Input() public entity_id?: string;\n\n  public items: IntegranteConsolidado[] = [];\n  public unidadeIntegranteService: UnidadeIntegranteService;\n  public integranteDao: UnidadeIntegranteDaoService;\n  public unidadeDao: UnidadeDaoService;\n  public usuario?: Usuario;\n  public tiposAtribuicao: LookupItem[] = [];\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.unidadeIntegranteService = injector.get<UnidadeIntegranteService>(UnidadeIntegranteService);\n    this.integranteDao = injector.get<UnidadeIntegranteDaoService>(UnidadeIntegranteDaoService);\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    this.form = this.fh.FormBuilder({\n      unidade_id: { default: \"\" },\n      atribuicoes: { default: undefined },\n      atribuicao: { default: \"\" },\n    }, this.cdRef, this.validate);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.entity = this.metadata?.entity || this.entity;\n    this.entity_id = this.metadata?.entity_id || this.entity_id;\n    this.tiposAtribuicao = this.isNoPersist ? this.lookup.UNIDADE_INTEGRANTE_TIPO.filter((atribuicao) => atribuicao.key != \"LOTADO\") : this.lookup.UNIDADE_INTEGRANTE_TIPO;\n  }\n\n  ngAfterViewInit() {\n    (async () => {\n      await this.loadData({}, this.form);\n    })();\n  }\n\n  /**\n   * Método chamado na inicialização do componente para carregar todas as unidades-integrantes do usuário.\n   * @param entity \n   * @param form \n   */\n  public async loadData(entity: IIndexable, form?: FormGroup | undefined) {\n    this.grid!.loading = true;\n    try {\n      let result = await this.integranteDao!.loadIntegrantes(\"\", this.entity!.id);\n      this.items = this.unidadeIntegranteService.ordenar(result.integrantes.filter(x => x.atribuicoes.length > 0));\n      this.usuario = result.usuario;\n    } finally {\n      this.grid!.loading = false;\n    }\n    this.cdRef.detectChanges();\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if ([\"unidade_id\", \"atribuicoes\"].includes(controlName) && !control.value?.length) { result = \"Obrigatório\"; }\n    if ((controlName == \"unidade_id\") && this.grid?.adding && this.items.map(i => i.id).includes(control.value)) result = \"O usuário já é integrante desta unidade. Edite-a, ao invés de incluí-la novamente!\";\n    return result;\n  }\n\n  /**\n   * Método chamado para inserir uma atribuição no grid, seja este componente persistente ou não.\n   * @returns \n   */\n  public async addAtribuicao() {\n    return {\n      id: this.integranteDao!.generateUuid(),\n      unidade_id: \"\",\n      atribuicoes: []\n    } as IIndexable;\n  }\n\n  public addItemHandle(): LookupItem | undefined {\n    let result = undefined;\n    const value = this.lookup.getValue(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\n    const key = this.form!.controls.atribuicao.value;\n    if (value?.length && this.util.validateLookupItem(this.form!.controls.atribuicao.value, key)) {\n      const icon = this.lookup.getIcon(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\n      const color = this.lookup.getColor(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\n      result = {\n        key: key,\n        value: value,\n        icon: icon,\n        color: color\n      };\n      this.form!.controls.atribuicao.setValue(\"\");\n    }\n    return result;\n  };\n\n  /**\n   * Método chamado na edição de uma atribuição do usuário\n   * @param form \n   * @param row \n   */\n  public async loadAtribuicao(form: FormGroup, row: any) {\n    form.controls.unidade_id.setValue(this.grid?.adding ? row.unidade_id : row.id);\n    form.controls.atribuicoes.setValue(this.unidadeIntegranteService.converterAtribuicoes(row.atribuicoes));\n    form.controls.atribuicao.setValue(\"\");\n  }\n\n  /**\n   * Método chamado para a exclusão de uma atribuição do grid, seja este componente persistente ou não. \n   * @param row \n   * @returns \n   */\n  public async removeAtribuicao(row: any) {\n    let nomeServidor = this.entity!.nome;\n    let nomeUnidade = (row as IntegranteConsolidado).unidade_nome;\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir todas as atribuições do servidor '\" + nomeServidor + \"' na unidade '\" + nomeUnidade + \"' ?\");\n    if (confirm) {\n      this.loading = true;\n      let msg: string | undefined;\n      try {\n        if (!this.isNoPersist) await this.integranteDao.saveIntegrante([{ 'unidade_id': row.id, 'usuario_id': this.usuario!.id, 'atribuicoes': [] }]).then(resposta => {\n          if (msg = resposta.find(v => v.msg?.length)?.msg) { if (this.grid) this.grid.error = msg; };\n        });\n        await this.loadData({}, this.form);\n      } finally {\n        this.loading = false;\n      }\n      return msg ? false : true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Garante que não será possível excluir a lotação de um servidor por este caminho\n   * @param row Atribuição do servidor na unidade\n   * @returns \n   */\n  public deleteItemHandle(row: LookupItem): boolean | undefined | void {\n    return row.key != \"LOTADO\";\n  };\n\n  /**\n   * Método chamado no salvamento de uma atribuição do usuário, seja este componente persistente ou não.\n   * @param form \n   * @param row \n   * @returns \n   */\n  public async saveAtribuicao(form: FormGroup, row: any) {\n    let confirm = true;\n    let n = this.unidadeIntegranteService.alterandoGestor(form, this.items);\n    if (n.length) confirm = await this.dialog.confirm(\"Confirma a Alteração de Gestor ?\", n.length == 1 ? \"O \" + n[0] + \" será alterado.\" : \"Serão alterados: \" + n.join(', ') + \".\");\n    if (form!.controls.atribuicoes.value.length && confirm) {\n      this.loading = true;\n      try {\n        let novasAtribuicoes: IntegranteAtribuicao[] = form!.controls.atribuicoes.value.map((x: LookupItem) => x.key);\n        if (!this.isNoPersist) {\n          await this.integranteDao.saveIntegrante([{ 'unidade_id': form!.controls.unidade_id.value, 'usuario_id': this.usuario!.id, 'atribuicoes': novasAtribuicoes }]).then(resposta => {\n            let msg: string | undefined;\n            if (msg = resposta?.find(v => v.msg?.length)?.msg) { if (this.grid) this.grid.error = msg; };\n          });\n          await this.loadData({}, this.form);\n          if (this.grid) this.grid!.error = \"\";\n        } else {\n//          novoIntegrante = Object.assign(novoIntegrante, { _status:  novoIntegrante._status == \"ADD\" ? \"ADD\" : \"EDIT\" });\n//          await this.loadAtribuicao(form, row);\n        }\n      } catch (error: any) {\n        if (this.grid) this.grid.error = error;\n        await this.loadData({}, this.form);\n      } finally {\n        this.loading = false;\n      }\n    }\n    return undefined;\n  }\n}\n","<grid #grid [items]=\"items\" [minHeight]=\"500\" [form]=\"form!\" [hasDelete]=\"true\"\n    [add]=\"addAtribuicao.bind(this)\" [load]=\"loadAtribuicao.bind(this)\" [remove]=\"removeAtribuicao.bind(this)\" [save]=\"saveAtribuicao.bind(this)\" \n    editable>\n    <span *ngIf=\"!isNoPersist\"><strong>{{ entity?.nome }}</strong></span>\n    <columns>\n        <column [title]=\"lex.translate('Unidades')\" [template]=\"columnUnidade\" [editTemplate]=\"editUnidade\">\n            <ng-template let-row=\"row\" #columnUnidade>\n                <strong>{{ row.unidade_sigla || '' }}</strong><span> (IdServo: {{ row.unidade_codigo || '' }})</span><br>\n                <span>{{ row.unidade_nome || '' }} </span>\n            </ng-template>\n            <ng-template let-row=\"row\" #editUnidade>\n<!--            <input-search #unidade [disabled]=\"grid?.editing && !grid?.adding ? 'true' : undefined\" [size]=\"12\" label icon controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [dao]=\"unidadeDao\" [where]=\"['id', 'not in',unidadesJaVinculadas]\" [selectRoute]=\"{route: ['configuracoes', 'unidade']}\" [metadata]=\"{'unidadesJaVinculadas': unidadesJaVinculadas}\"></input-search> -->\n                <input-search #unidade [size]=\"12\" label icon controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\n            </ng-template>\n        </column>\n        <column [title]=\"lex.translate('Atribuições')\" [template]=\"columnAtribuicoes\" [editTemplate]=\"editAtribuicoes\">\n            <ng-template let-row=\"row\" #columnAtribuicoes>\n                <div *ngFor=\"let a of row.atribuicoes\"><badge [color]=\"lookup.getColor(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\" [icon]=\"lookup.getIcon(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\" [label]=\"lookup.getValue(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\"></badge><br></div>\n            </ng-template>\n            <ng-template let-row=\"row\" #editAtribuicoes>\n                <input-multiselect controlName=\"atribuicoes\" [size]=\"8\" [addItemHandle]=\"addItemHandle.bind(this)\" [deleteItemHandle]=\"deleteItemHandle.bind(this)\">\n                    <input-select [size]=\"12\" label=\"\" icon=\"fas fa-sign-out-alt\" controlName=\"atribuicao\" [items]=\"tiposAtribuicao\"></input-select>\n                </input-multiselect>\n            </ng-template>\n        </column>\n        <column type=\"options\"></column>\n    </columns>\n</grid>\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PerfilDaoService } from 'src/app/dao/perfil-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\n\r\n@Component({\r\n  selector: 'app-usuario-list',\r\n  templateUrl: './usuario-list.component.html',\r\n  styleUrls: ['./usuario-list.component.scss']\r\n})\r\nexport class UsuarioListComponent extends PageListBase<Usuario, UsuarioDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n\r\n  public unidadeDao: UnidadeDaoService;\r\n  public perfilDao: PerfilDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Usuario, UsuarioDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.perfilDao = injector.get<PerfilDaoService>(PerfilDaoService);\r\n    /* Inicializações */\r\n    this.title = this.lex.translate(\"Usuários\");\r\n    this.code = \"MOD_CFG_USER\";\r\n    this.join = [\"perfil:id,nome\"];\r\n    this.filter = this.fh.FormBuilder({\r\n      usuario: { default: \"\" },\r\n      unidade_id: { default: \"\" },\r\n      perfil_id: { default: null }\r\n    });\r\n    this.addOption(this.OPTION_INFORMACOES, \"MOD_USER\");\r\n    this.addOption(this.OPTION_EXCLUIR, \"MOD_USER_EXCL\");\r\n  }\r\n\r\n  public dynamicOptions(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    // Testa se o usuário logado possui permissão para gerenciar as atribuições do usuário do grid\r\n    if (this.auth.hasPermissionTo(\"MOD_USER_ATRIB\")) result.push({ icon: \"bi bi-list-task\", label: \"Atribuições\", onClick: (usuario: Usuario) => { this.go.navigate({ route: ['configuracoes', 'usuario', '', usuario.id, 'integrante'] }, { metadata: { entity: row } }); }});\r\n    return result;\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    if (filter?.controls.usuario?.value?.length) {\r\n      result.push([\"nome\", \"like\", \"%\" + filter?.controls.usuario?.value.trim().replace(\" \", \"%\") + \"%\"]);\r\n    }\r\n    if (filter?.controls.unidade_id?.value?.length) {\r\n      result.push([\"lotacao\", \"==\", filter?.controls.unidade_id.value]);\r\n    }\r\n    if (filter?.controls.perfil_id?.value?.length) {\r\n      result.push([\"perfil_id\", \"==\", filter?.controls.perfil_id?.value]);\r\n    }\r\n    return result;\r\n  }\r\n}\r\n","<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>\r\n<grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\"\r\n    [selectable]=\"selectable\" (select)=\"onSelect($event)\"\r\n    [hasAdd]=\"auth.hasPermissionTo('MOD_USER_INCL')\"\r\n    [hasEdit]=\"auth.hasPermissionTo('MOD_USER_EDT')\">\r\n    <toolbar *ngIf=\"!selectable\"></toolbar>\r\n    <filter [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\" [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-text [size]=\"4\" [label]=\"lex.translate('Usuário')\" controlName=\"usuario\" [control]=\"filter!.controls.usuario\" placeholder=\"Nome\" [attr.maxlength]=250></input-text>\r\n            <input-search [size]=\"4\" [label]=\"lex.translate('Lotação')\" [control]=\"filter!.controls.unidade_id\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n            <input-select [size]=\"4\" [label]=\"lex.translate('Perfil')\" controlName=\"perfil_id\" nullable [control]=\"filter!.controls.perfil_id\" [dao]=\"perfilDao\"></input-select>\r\n        </div>\r\n    </filter>\r\n    <columns>\r\n        <column icon=\"bi-person\" [align]=\"'center'\" [template]=\"columnFoto\">\r\n            <ng-template let-row=\"row\" #columnFoto>\r\n                <profile-picture [url]=\"row.url_foto\" [size]=\"40\" [hint]=\"row.nome\"></profile-picture>\r\n                <!--img [src]=\"row.url_foto\" onerror=\"this.src='/assets/images/profile.png'\" width=\"40\" height=\"40\" class=\"rounded-circle\"/-->\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"CPF\" field=\"cpf\"></column>\r\n        <column title=\"Matrícula\" field=\"matricula\"></column>\r\n        <column title=\"Nome\" field=\"nome\" orderBy=\"nome\"></column>\r\n        <column [title]=\"lex.translate('Perfil')\" [template]=\"columnPerfil\">\r\n            <ng-template let-row=\"row\" #columnPerfil>\r\n                <strong>{{row.perfil?.nome || \"\"}}</strong>\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"options\" [onEdit]=\"edit\" [dynamicOptions]=\"dynamicOptions.bind(this)\" [options]=\"options\"></column>\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { UsuarioFormComponent } from './usuario-form/usuario-form.component';\r\nimport { UsuarioListComponent } from './usuario-list/usuario-list.component';\r\nimport { UsuarioIntegranteComponent } from './usuario-integrante/usuario-integrante.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: UsuarioListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Usuários\" } },\r\n  { path: 'new', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Usuário\", modal: true } },\r\n  { path: ':id/edit', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição de Usuário\", modal: true } },\r\n  { path: ':id/consult', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Usuário\", modal: true } },\r\n  { path: ':id/:idUsuario/integrante', component: UsuarioIntegranteComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Atribuições do Usuário\", modal: true } },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class UsuarioRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { UsuarioRoutingModule } from './usuario-routing.module';\r\nimport { UsuarioListComponent } from './usuario-list/usuario-list.component';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { UsuarioFormComponent } from './usuario-form/usuario-form.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { UsuarioIntegranteComponent } from './usuario-integrante/usuario-integrante.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    UsuarioListComponent,\r\n    UsuarioFormComponent,\r\n    UsuarioIntegranteComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    ReactiveFormsModule,\r\n    UsuarioRoutingModule\r\n  ]\r\n})\r\nexport class UsuarioModule { }\r\n"],"names":["EditableFormComponent","PerfilDaoService","PlanoTrabalhoDaoService","UnidadeDaoService","UsuarioDaoService","Usuario","PageFormBase","UnidadeIntegranteDaoService","UsuarioFormComponent","constructor","injector","validate","control","controlName","result","indexOf","value","length","util","validarCPF","formValidation","form","formLotacao","controls","unidade_lotacao_id","erros_atribuicoes","atribuicoes","forEach","atribuicao","unidade_id","push","erro","undefined","titleEdit","entity","lex","translate","matricula","apelido","perfilDao","get","unidadeDao","integranteDao","planoTrabalhoDao","fh","FormBuilder","email","default","nome","cpf","telefone","uf","sexo","url_foto","texto_complementar_plano","perfil_id","cdRef","planoDataset","dataset","join","loadData","formValue","Object","assign","patchValue","fillForm","setValue","lotacao","unidade","id","initializeData","saveData","Promise","resolve","reject","unidadesIntegrantes","grid","confirm","usuario","fill","unidades_integrante","items","filter","x","includes","_status","dao","save","then","_ref","_asyncToGenerator","_x","apply","arguments","onLotacaoChange","_","i0","ɵɵdirectiveInject","Injector","_2","selectors","viewQuery","UsuarioFormComponent_Query","rf","ctx","ɵɵelementStart","ɵɵlistener","UsuarioFormComponent_Template_editable_form_submit_0_listener","onSaveData","UsuarioFormComponent_Template_editable_form_cancel_0_listener","onCancel","ɵɵelement","ɵɵelementEnd","UsuarioFormComponent_Template_input_search_change_16_listener","ɵɵproperty","formDisabled","isModal","title","ɵɵadvance","auth","hasPermissionTo","ɵɵattribute","lookup","UF","SEXO","GridComponent","PageFrameBase","UnidadeIntegranteService","ɵɵtext","ɵɵtextInterpolate","ctx_r1","row_r10","unidade_sigla","ɵɵtextInterpolate1","unidade_codigo","unidade_nome","ctx_r5","ctx_r14","getColor","UNIDADE_INTEGRANTE_TIPO","a_r15","getIcon","getValue","ɵɵtemplate","UsuarioIntegranteComponent_ng_template_10_div_0_Template","row_r13","ctx_r9","addItemHandle","bind","deleteItemHandle","tiposAtribuicao","UsuarioIntegranteComponent","noPersist","adding","map","i","unidadeIntegranteService","ngOnInit","metadata","entity_id","isNoPersist","key","ngAfterViewInit","_this","_this2","loading","loadIntegrantes","ordenar","integrantes","detectChanges","addAtribuicao","_this3","generateUuid","validateLookupItem","icon","color","loadAtribuicao","row","_this4","converterAtribuicoes","removeAtribuicao","_this5","nomeServidor","nomeUnidade","dialog","msg","saveIntegrante","resposta","find","v","error","saveAtribuicao","_this6","n","alterandoGestor","novasAtribuicoes","UsuarioIntegranteComponent_Query","UsuarioIntegranteComponent_span_2_Template","UsuarioIntegranteComponent_ng_template_5_Template","ɵɵtemplateRefExtractor","UsuarioIntegranteComponent_ng_template_7_Template","UsuarioIntegranteComponent_ng_template_10_Template","UsuarioIntegranteComponent_ng_template_12_Template","_r2","_r4","_r6","_r8","PageListBase","ctx_r0","row_r6","row_r7","perfil","UsuarioListComponent","filterWhere","trim","replace","code","addOption","OPTION_INFORMACOES","OPTION_EXCLUIR","dynamicOptions","label","onClick","go","navigate","route","UsuarioListComponent_Query","UsuarioListComponent_h3_0_Template","UsuarioListComponent_Template_grid_select_1_listener","$event","onSelect","UsuarioListComponent_toolbar_2_Template","UsuarioListComponent_ng_template_10_Template","UsuarioListComponent_ng_template_16_Template","add","orderBy","groupBy","selectable","filterSubmit","filterCollapseChange","filterCollapsed","edit","options","rowsLimit","RouterModule","AuthGuard","ConfigResolver","routes","path","component","canActivate","config","runGuardsAndResolvers","data","modal","UsuarioRoutingModule","_3","forChild","imports","i1","exports","CommonModule","ComponentsModule","ReactiveFormsModule","UsuarioModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}