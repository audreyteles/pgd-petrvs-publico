<<<<<<< HEAD
{"version":3,"file":"9202.js","mappings":"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","sources":["./src/app/modules/uteis/templates/template-form/template-form.component.ts","./src/app/modules/uteis/templates/template-form/template-form.component.html","./src/app/modules/uteis/templates/template-list/template-list.component.ts","./src/app/modules/uteis/templates/template-list/template-list.component.html","./src/app/modules/uteis/templates/template-routing.module.ts","./src/app/modules/uteis/templates/template.module.ts"],"sourcesContent":["import {Component, Injector, ViewChild} from '@angular/core';\r\nimport {PageFormBase} from \"../../../base/page-form-base\";\r\nimport {Template} from \"../../../../models/template.model\";\r\nimport {TemplateDaoService} from \"../../../../dao/template-dao.service\";\r\nimport {EditableFormComponent} from \"../../../../components/editable-form/editable-form.component\";\r\nimport {AbstractControl, FormGroup} from \"@angular/forms\";\r\nimport {IIndexable} from \"../../../../models/base.model\";\r\nimport { TemplateDataset, TemplateService } from '../template.service';\r\n\r\n@Component({\r\n  selector: 'app-template-form',\r\n  templateUrl: './template-form.component.html',\r\n  styleUrls: ['./template-form.component.scss']\r\n})\r\nexport class TemplateFormComponent extends PageFormBase<Template, TemplateDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n\r\n  public dataset: TemplateDataset[] = [];\r\n  public templateService: TemplateService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Template, TemplateDaoService);\r\n    this.templateService = injector.get<TemplateService>(TemplateService);\r\n    this.modalWidth = 1200;\r\n    this.form = this.fh.FormBuilder({\r\n      titulo: {default: \"\"},\r\n      especie: {default: \"OUTRO\"},\r\n      conteudo: {default: \"\"}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    // if(['nome'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n    //   result = \"Obrigatório\";\r\n    // }\r\n    return result;\r\n  }\r\n\r\n  public loadData(entity: Template, form: FormGroup): void {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    this.dataset = this.templateService.dataset(form.controls.especie.value);\r\n  }\r\n\r\n  public initializeData(form: FormGroup): void {\r\n    this.loadData(new Template({ especie: this.queryParams?.especie || \"OUTRO\" }), form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<Template> {\r\n    return new Promise<Template>((resolve, reject) => {\r\n      const template = this.util.fill(new Template(), this.entity!);\r\n      template.dataset = this.templateService.prepareDatasetToSave(this.dataset);\r\n      resolve(this.util.fillForm(template, this.form!.value));\r\n    });\r\n  }\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"titulo\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div class=\"row\">\r\n        <input-text [size]=\"8\" label=\"Título\" icon=\"bi bi-upc\" controlName=\"titulo\" [attr.maxlength]=250 required></input-text>\r\n        <input-select [size]=\"4\" disabled label=\"Espécie\" controlName=\"especie\" [items]=\"lookup.TEMPLATE_ESPECIE\"></input-select>\r\n    </div>\r\n    <separator title=\"Design\"></separator>\r\n    <div class=\"row\">\r\n        <input-editor controlName=\"conteudo\" [dataset]=\"dataset\"></input-editor>\r\n    </div>\r\n</editable-form>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { Template } from \"src/app/models/template.model\";\r\nimport { TemplateDaoService } from \"src/app/dao/template-dao.service\";\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { FormGroup } from \"@angular/forms\";\r\nimport { PageListBase } from \"src/app/modules/base/page-list-base\";\r\nimport { Base, IIndexable } from 'src/app/models/base.model';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { TemplateDataset, TemplateService } from '../template.service';\r\n\r\n@Component({\r\n  selector: 'app-template-list',\r\n  templateUrl: './template-list.component.html',\r\n  styleUrls: ['./template-list.component.scss']\r\n})\r\nexport class TemplateListComponent extends PageListBase<Template, TemplateDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n\r\n  public selected?: Template;\r\n  public form: FormGroup;\r\n  public templateService: TemplateService;\r\n  public listagem: boolean = false;\r\n  public selectButtons: ToolbarButton[] = [\r\n    {\r\n      color: \"btn-outline-success\",\r\n      label: \"Selecionar\",\r\n      icon: \"bi-check-circle\",\r\n      disabled: () => !this.selected,\r\n      onClick: () => this.onSelect(this.selected!)\r\n    },\r\n    {\r\n      color: \"btn-outline-danger\",\r\n      label: \"Cancelar\",\r\n      icon: \"bi bi-dash-circle\",\r\n      onClick: () => this.close()\r\n    }\r\n  ];\r\n\r\n  private _dataset: TemplateDataset[] = [];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Template, TemplateDaoService);\r\n    this.templateService = injector.get<TemplateService>(TemplateService);\r\n\r\n    \r\n\r\n\r\n    this.title = this.lex.translate(\"Termos de Ciência e Responsabilidade\");\r\n    this.code = \"MOD_TEMP\";\r\n    this.modalWidth = 1200;\r\n    this.filter = this.fh.FormBuilder({\r\n      titulo: { default: \"\" },\r\n      especie: { default: \"OUTRO\" }\r\n    });\r\n    this.form = this.fh.FormBuilder({\r\n      titulo: { default: \"\" },\r\n      conteudo: { default: \"\" }\r\n    });\r\n    this.addOption(this.OPTION_INFORMACOES)\r\n    this.addOption(this.OPTION_EXCLUIR, \"MOD_TEMP_EXCL\")\r\n    this.addOption(this.OPTION_LOGS, \"MOD_AUDIT_LOG\");\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    this.addParams = { especie: this.filter?.controls.especie.value };\r\n    if(this.queryParams.modo == \"listagem\"){\r\n      this.title = this.lex.translate(\"Templates\") + \" - OUTRO\";\r\n      this.listagem = true;\r\n      this.options = this.options.filter(option => option.label !== 'Associar TCR');\r\n    }else { \r\n      this.filter?.controls['especie'].disable;\r\n      if (this.auth.hasPermissionTo(\"MOD_TEMP_EDT\")) {\r\n        this.options.push({\r\n          icon: \"bi bi-check-all\",\r\n          label: \"Associar TCR\",\r\n          onClick: ((row: Template) => this.go.navigate({ route: ['cadastros', 'template', row.id, 'termos'] }, { modalClose: (modalResult) => console.log(modalResult?.conteudo) })).bind(this)\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n    if(this.listagem){\r\n     this.addParams = { especie: form.especie };\r\n     const especie = this.lookup.TEMPLATE_ESPECIE.find(item => item.key === form.especie)\r\n     this.title  = this.lex.translate(\"Templates\") + \" - \" + especie?.value;\r\n    }\r\n    result.push([\"especie\", \"==\", form.especie]);\r\n    if (form.titulo?.length) {\r\n      result.push([\"titulo\", \"like\", \"%\" + form.titulo.trim().replace(\" \", \"%\") + \"%\"]);\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n \r\n\r\n  // public get dataset(): TemplateDataset[] {\r\n  //   const dataset = this.templateService.dataset(this.filter!.controls.especie.value);\r\n  //   if(JSON.stringify(this._dataset) != JSON.stringify(dataset)) {\r\n  //     this._dataset = dataset;\r\n  //   }\r\n  //   return this._dataset;\r\n  // }\r\n\r\n  // public async addTemplate() {\r\n  //   const template = new Template();\r\n  //   template.id = this.dao!.generateUuid();\r\n  //   template.especie = this.filter!.controls.especie.value;\r\n  //   template.dataset = this.dataset;\r\n  //   template.unidade_id = this.auth.unidade!.id;\r\n  //   template._status = \"ADD\";\r\n  //   this.onSelect(template);\r\n  //   return template;\r\n  // }\r\n\r\n  /*\r\n\r\n  public async saveDocumento(form: FormGroup, item: Template) {\r\n    const entity = form.value;\r\n    item.titulo = form.controls.titulo.value;\r\n    item.conteudo = form.controls.conteudo.value;\r\n    const template = await this.dao!.save(item);\r\n    form.controls.id.setValue(template.id);\r\n    item.id = template.id;\r\n    return template;\r\n  }*/\r\n\r\n  public onTemplateSelect(selected: Base | IIndexable | null) {\r\n    this.selected = selected as Template || undefined;\r\n    this.form.patchValue({\r\n      titulo: this.selected?.titulo || \"\",\r\n      conteudo: this.selected?.conteudo || \"\"\r\n    });\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n}\r\n","<div class=\"row\">\r\n  <div [ngClass]=\"listagem ? 'col-12' : 'col-4'\">\r\n    <grid [dao]=\"dao\" [add]=\"add\" [title]=\"isModal ? '' : title\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\"\r\n      [selectable]=\"selectable\" (select)=\"onTemplateSelect($event)\"\r\n      [hasAdd]=\"auth.hasPermissionTo('MOD_TEMP_INCL')\"\r\n      [hasEdit]=\"auth.hasPermissionTo('MOD_TEMP_EDT')\">\r\n      <toolbar *ngIf=\"!selectable\"></toolbar>\r\n      <filter [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\" [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n        <div class=\"row\">\r\n          <input-select [size]=\"12\" label=\"Espécie\" controlName=\"especie\" [items]=\"lookup.TEMPLATE_ESPECIE\"></input-select>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-text [size]=\"12\" label=\"Título\" controlName=\"titulo\" [control]=\"filter!.controls.titulo\" placeholder=\"Título ...\" [attr.maxlength]=250></input-text>\r\n        </div>\r\n      </filter>\r\n      <columns>\r\n        <column title=\"Template\" [template]=\"columnTemplate\">\r\n          <ng-template let-row=\"row\" #columnTemplate>\r\n            <small>{{row.titulo}}</small><br>\r\n            <badge icon=\"bi bi-hash\" [label]=\"row.numero\"></badge>\r\n            <badge [icon]=\"lookup.getIcon(lookup.TEMPLATE_ESPECIE, row.especie)\" [label]=\"lookup.getValue(lookup.TEMPLATE_ESPECIE, row.especie)\" [color]=\"lookup.getColor(lookup.TEMPLATE_ESPECIE, row.especie)\"></badge>\r\n          </ng-template>\r\n        </column>\r\n        <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\r\n      </columns>\r\n      <pagination [rows]=\"rowsLimit\"></pagination>\r\n    </grid>\r\n  </div>\r\n  <div [ngClass]=\"listagem ? 'd-none' : 'col-8'\">\r\n    <editable-form *ngIf=\"selected; else noSelected\" noButtons [disabled]=\"true\" [form]=\"form!\">\r\n      <div class=\"row\">\r\n        <input-text [size]=\"12\" label=\"Título\" [control]=\"form!.controls.titulo\" [attr.maxlength]=250></input-text>\r\n      </div>\r\n      <div>\r\n        <input-editor [size]=\"12\" label=\"Pre-view do template\" [control]=\"form!.controls.conteudo\"></input-editor>\r\n      </div>\r\n    </editable-form>\r\n    <ng-template #noSelected>\r\n      <div class=\"block w-100 text-center\">\r\n        Nenhum template selecionado\r\n      </div>\r\n    </ng-template>\r\n  </div>\r\n</div>\r\n<toolbar *ngIf=\"selectable\" [buttons]=\"selectButtons\"></toolbar>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport {TemplateListComponent} from \"./template-list/template-list.component\";\r\nimport {TemplateFormComponent} from \"./template-form/template-form.component\";\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: TemplateListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Template\" } },\r\n  { path: 'new', component: TemplateFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão\", modal: true } },\r\n  { path: ':id/edit', component: TemplateFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição\", modal: true } },\r\n  { path: ':id/consult', component: TemplateFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consultar\", modal: true } },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class TemplateRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TemplateRoutingModule } from './template-routing.module';\r\nimport { TemplateFormComponent } from './template-form/template-form.component';\r\nimport { TemplateListComponent } from './template-list/template-list.component';\r\nimport { ComponentsModule } from \"../../../components/components.module\";\r\nimport { ReactiveFormsModule } from \"@angular/forms\";\r\n//import {CKEditorModule} from \"@ckeditor/ckeditor5-angular\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TemplateFormComponent,\r\n    TemplateListComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    ReactiveFormsModule,\r\n    TemplateRoutingModule\r\n    //CKEditorModule\r\n  ]\r\n})\r\nexport class TemplateModule { }\r\n"],"names":["PageFormBase","Template","TemplateDaoService","EditableFormComponent","TemplateService","TemplateFormComponent","constructor","injector","dataset","validate","control","controlName","result","templateService","get","modalWidth","form","fh","FormBuilder","titulo","default","especie","conteudo","cdRef","loadData","entity","formValue","Object","assign","value","patchValue","util","fillForm","controls","initializeData","queryParams","saveData","Promise","resolve","reject","template","fill","prepareDatasetToSave","_","i0","ɵɵdirectiveInject","Injector","_2","selectors","viewQuery","TemplateFormComponent_Query","rf","ctx","ɵɵelementStart","ɵɵlistener","TemplateFormComponent_Template_editable_form_submit_0_listener","onSaveData","TemplateFormComponent_Template_editable_form_cancel_0_listener","onCancel","ɵɵelement","ɵɵelementEnd","ɵɵproperty","formDisabled","isModal","title","ɵɵadvance","ɵɵattribute","lookup","TEMPLATE_ESPECIE","GridComponent","PageListBase","ɵɵtext","ɵɵtextInterpolate","row_r7","numero","ctx_r2","getIcon","getValue","getColor","ctx_r3","ctx_r6","selectButtons","TemplateListComponent","listagem","color","label","icon","disabled","selected","onClick","onSelect","close","_dataset","filterWhere","filter","addParams","find","item","key","lex","translate","push","length","trim","replace","code","addOption","OPTION_INFORMACOES","OPTION_EXCLUIR","OPTION_LOGS","ngAfterViewInit","modo","options","option","disable","auth","hasPermissionTo","row","go","navigate","route","id","modalClose","modalResult","console","log","bind","onTemplateSelect","undefined","detectChanges","TemplateListComponent_Query","TemplateListComponent_Template_grid_select_2_listener","$event","ɵɵtemplate","TemplateListComponent_toolbar_3_Template","TemplateListComponent_ng_template_11_Template","ɵɵtemplateRefExtractor","TemplateListComponent_editable_form_16_Template","TemplateListComponent_ng_template_17_Template","TemplateListComponent_toolbar_19_Template","dao","add","orderBy","groupBy","join","selectable","filterSubmit","filterCollapseChange","filterCollapsed","_r1","edit","rowsLimit","_r4","RouterModule","AuthGuard","ConfigResolver","routes","path","component","canActivate","config","runGuardsAndResolvers","data","modal","TemplateRoutingModule","_3","forChild","imports","i1","exports","CommonModule","ComponentsModule","ReactiveFormsModule","TemplateModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
=======
{"version":3,"file":"9202.js","mappings":"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","sources":["./src/app/modules/uteis/templates/template-form/template-form.component.ts","./src/app/modules/uteis/templates/template-form/template-form.component.html","./src/app/modules/uteis/templates/template-list/template-list.component.ts","./src/app/modules/uteis/templates/template-list/template-list.component.html","./src/app/modules/uteis/templates/template-routing.module.ts","./src/app/modules/uteis/templates/template.module.ts"],"sourcesContent":["import {Component, Injector, ViewChild} from '@angular/core';\r\nimport {PageFormBase} from \"../../../base/page-form-base\";\r\nimport {Template} from \"../../../../models/template.model\";\r\nimport {TemplateDaoService} from \"../../../../dao/template-dao.service\";\r\nimport {EditableFormComponent} from \"../../../../components/editable-form/editable-form.component\";\r\nimport {AbstractControl, FormGroup} from \"@angular/forms\";\r\nimport {IIndexable} from \"../../../../models/base.model\";\r\nimport { TemplateDataset, TemplateService } from '../template.service';\r\n\r\n@Component({\r\n  selector: 'app-template-form',\r\n  templateUrl: './template-form.component.html',\r\n  styleUrls: ['./template-form.component.scss']\r\n})\r\nexport class TemplateFormComponent extends PageFormBase<Template, TemplateDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n\r\n  public dataset: TemplateDataset[] = [];\r\n  public templateService: TemplateService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Template, TemplateDaoService);\r\n    this.templateService = injector.get<TemplateService>(TemplateService);\r\n    this.modalWidth = 1200;\r\n    this.form = this.fh.FormBuilder({\r\n      titulo: {default: \"\"},\r\n      especie: {default: \"OUTRO\"},\r\n      conteudo: {default: \"\"}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    // if(['nome'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n    //   result = \"Obrigatório\";\r\n    // }\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: Template, form: FormGroup): Promise<void> {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    this.dataset = await this.templateService.dataset(form.controls.especie.value);\r\n  }\r\n\r\n  public initializeData(form: FormGroup): void {\r\n    this.loadData(new Template({ especie: this.queryParams?.especie || \"OUTRO\" }), form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<Template> {\r\n    return new Promise<Template>((resolve, reject) => {\r\n      const template = this.util.fill(new Template(), this.entity!);\r\n      template.dataset = this.templateService.prepareDatasetToSave(this.dataset);\r\n      resolve(this.util.fillForm(template, this.form!.value));\r\n    });\r\n  }\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"titulo\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div class=\"row\">\r\n        <input-text [size]=\"8\" label=\"Título\" icon=\"bi bi-upc\" controlName=\"titulo\" [attr.maxlength]=250 required></input-text>\r\n        <input-select [size]=\"4\" disabled label=\"Espécie\" controlName=\"especie\" [items]=\"lookup.TEMPLATE_ESPECIE\"></input-select>\r\n    </div>\r\n    <separator title=\"Design\"></separator>\r\n    <div class=\"row\">\r\n        <input-editor controlName=\"conteudo\" [dataset]=\"dataset\"></input-editor>\r\n    </div>\r\n</editable-form>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { Template } from \"src/app/models/template.model\";\r\nimport { TemplateDaoService } from \"src/app/dao/template-dao.service\";\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { FormGroup } from \"@angular/forms\";\r\nimport { PageListBase } from \"src/app/modules/base/page-list-base\";\r\nimport { Base, IIndexable } from 'src/app/models/base.model';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { TemplateDataset, TemplateService } from '../template.service';\r\n\r\n@Component({\r\n  selector: 'app-template-list',\r\n  templateUrl: './template-list.component.html',\r\n  styleUrls: ['./template-list.component.scss']\r\n})\r\nexport class TemplateListComponent extends PageListBase<Template, TemplateDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n\r\n  public selected?: Template;\r\n  public form: FormGroup;\r\n  public templateService: TemplateService;\r\n  public listagem: boolean = false;\r\n  public selectButtons: ToolbarButton[] = [\r\n    {\r\n      color: \"btn-outline-success\",\r\n      label: \"Selecionar\",\r\n      icon: \"bi-check-circle\",\r\n      disabled: () => !this.selected,\r\n      onClick: () => this.onSelect(this.selected!)\r\n    },\r\n    {\r\n      color: \"btn-outline-danger\",\r\n      label: \"Cancelar\",\r\n      icon: \"bi bi-dash-circle\",\r\n      onClick: () => this.close()\r\n    }\r\n  ];\r\n\r\n  private _dataset: TemplateDataset[] = [];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Template, TemplateDaoService);\r\n    this.templateService = injector.get<TemplateService>(TemplateService);\r\n\r\n    \r\n\r\n\r\n    this.title = this.lex.translate(\"Termos de Ciência e Responsabilidade\");\r\n    this.code = \"MOD_TEMP\";\r\n    this.modalWidth = 1200;\r\n    this.filter = this.fh.FormBuilder({\r\n      titulo: { default: \"\" },\r\n      especie: { default: \"OUTRO\" }\r\n    });\r\n    this.form = this.fh.FormBuilder({\r\n      titulo: { default: \"\" },\r\n      conteudo: { default: \"\" }\r\n    });\r\n    this.addOption(this.OPTION_INFORMACOES)\r\n    this.addOption(this.OPTION_EXCLUIR, \"MOD_TEMP_EXCL\")\r\n    this.addOption(this.OPTION_LOGS, \"MOD_AUDIT_LOG\");\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    this.addParams = { especie: this.filter?.controls.especie.value };\r\n    if(this.queryParams.modo == \"listagem\"){\r\n      this.title = this.lex.translate(\"Templates\") + \" - OUTRO\";\r\n      this.listagem = true;\r\n      this.options = this.options.filter(option => option.label !== 'Associar TCR');\r\n    }else { \r\n      this.filter?.controls['especie'].disable;\r\n      if (this.auth.hasPermissionTo(\"MOD_TEMP_EDT\")) {\r\n        this.options.push({\r\n          icon: \"bi bi-check-all\",\r\n          label: \"Associar TCR\",\r\n          onClick: ((row: Template) => this.go.navigate({ route: ['cadastros', 'template', row.id, 'termos'] }, { modalClose: (modalResult) => console.log(modalResult?.conteudo) })).bind(this)\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n    if(this.listagem){\r\n     this.addParams = { especie: form.especie };\r\n     const especie = this.lookup.TEMPLATE_ESPECIE.find(item => item.key === form.especie)\r\n     this.title  = this.lex.translate(\"Templates\") + \" - \" + especie?.value;\r\n    }\r\n    result.push([\"especie\", \"==\", form.especie]);\r\n    if (form.titulo?.length) {\r\n      result.push([\"titulo\", \"like\", \"%\" + form.titulo.trim().replace(\" \", \"%\") + \"%\"]);\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n \r\n\r\n  // public get dataset(): TemplateDataset[] {\r\n  //   const dataset = this.templateService.dataset(this.filter!.controls.especie.value);\r\n  //   if(JSON.stringify(this._dataset) != JSON.stringify(dataset)) {\r\n  //     this._dataset = dataset;\r\n  //   }\r\n  //   return this._dataset;\r\n  // }\r\n\r\n  // public async addTemplate() {\r\n  //   const template = new Template();\r\n  //   template.id = this.dao!.generateUuid();\r\n  //   template.especie = this.filter!.controls.especie.value;\r\n  //   template.dataset = this.dataset;\r\n  //   template.unidade_id = this.auth.unidade!.id;\r\n  //   template._status = \"ADD\";\r\n  //   this.onSelect(template);\r\n  //   return template;\r\n  // }\r\n\r\n  /*\r\n\r\n  public async saveDocumento(form: FormGroup, item: Template) {\r\n    const entity = form.value;\r\n    item.titulo = form.controls.titulo.value;\r\n    item.conteudo = form.controls.conteudo.value;\r\n    const template = await this.dao!.save(item);\r\n    form.controls.id.setValue(template.id);\r\n    item.id = template.id;\r\n    return template;\r\n  }*/\r\n\r\n  public onTemplateSelect(selected: Base | IIndexable | null) {\r\n    this.selected = selected as Template || undefined;\r\n    this.form.patchValue({\r\n      titulo: this.selected?.titulo || \"\",\r\n      conteudo: this.selected?.conteudo || \"\"\r\n    });\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n}\r\n","<div class=\"row\">\r\n  <div [ngClass]=\"listagem ? 'col-12' : 'col-4'\">\r\n    <grid [dao]=\"dao\" [add]=\"add\" [title]=\"isModal ? '' : title\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\"\r\n      [selectable]=\"selectable\" (select)=\"onTemplateSelect($event)\"\r\n      [hasAdd]=\"auth.hasPermissionTo('MOD_TEMP_INCL')\"\r\n      [hasEdit]=\"auth.hasPermissionTo('MOD_TEMP_EDT')\">\r\n      <toolbar *ngIf=\"!selectable\"></toolbar>\r\n      <filter [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\" [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n        <div class=\"row\">\r\n          <input-select [size]=\"12\" label=\"Espécie\" controlName=\"especie\" [items]=\"lookup.TEMPLATE_ESPECIE\"></input-select>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-text [size]=\"12\" label=\"Título\" controlName=\"titulo\" [control]=\"filter!.controls.titulo\" placeholder=\"Título ...\" [attr.maxlength]=250></input-text>\r\n        </div>\r\n      </filter>\r\n      <columns>\r\n        <column title=\"Template\" [template]=\"columnTemplate\">\r\n          <ng-template let-row=\"row\" #columnTemplate>\r\n            <small>{{row.titulo}}</small><br>\r\n            <badge icon=\"bi bi-hash\" [label]=\"row.numero\"></badge>\r\n            <badge [icon]=\"lookup.getIcon(lookup.TEMPLATE_ESPECIE, row.especie)\" [label]=\"lookup.getValue(lookup.TEMPLATE_ESPECIE, row.especie)\" [color]=\"lookup.getColor(lookup.TEMPLATE_ESPECIE, row.especie)\"></badge>\r\n          </ng-template>\r\n        </column>\r\n        <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\r\n      </columns>\r\n      <pagination [rows]=\"rowsLimit\"></pagination>\r\n    </grid>\r\n  </div>\r\n  <div [ngClass]=\"listagem ? 'd-none' : 'col-8'\">\r\n    <editable-form *ngIf=\"selected; else noSelected\" noButtons [disabled]=\"true\" [form]=\"form!\">\r\n      <div class=\"row\">\r\n        <input-text [size]=\"12\" label=\"Título\" [control]=\"form!.controls.titulo\" [attr.maxlength]=250></input-text>\r\n      </div>\r\n      <div>\r\n        <input-editor [size]=\"12\" label=\"Pre-view do template\" [control]=\"form!.controls.conteudo\"></input-editor>\r\n      </div>\r\n    </editable-form>\r\n    <ng-template #noSelected>\r\n      <div class=\"block w-100 text-center\">\r\n        Nenhum template selecionado\r\n      </div>\r\n    </ng-template>\r\n  </div>\r\n</div>\r\n<toolbar *ngIf=\"selectable\" [buttons]=\"selectButtons\"></toolbar>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport {TemplateListComponent} from \"./template-list/template-list.component\";\r\nimport {TemplateFormComponent} from \"./template-form/template-form.component\";\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: TemplateListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Template\" } },\r\n  { path: 'new', component: TemplateFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão\", modal: true } },\r\n  { path: ':id/edit', component: TemplateFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição\", modal: true } },\r\n  { path: ':id/consult', component: TemplateFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consultar\", modal: true } },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class TemplateRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TemplateRoutingModule } from './template-routing.module';\r\nimport { TemplateFormComponent } from './template-form/template-form.component';\r\nimport { TemplateListComponent } from './template-list/template-list.component';\r\nimport { ComponentsModule } from \"../../../components/components.module\";\r\nimport { ReactiveFormsModule } from \"@angular/forms\";\r\n//import {CKEditorModule} from \"@ckeditor/ckeditor5-angular\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TemplateFormComponent,\r\n    TemplateListComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    ReactiveFormsModule,\r\n    TemplateRoutingModule\r\n    //CKEditorModule\r\n  ]\r\n})\r\nexport class TemplateModule { }\r\n"],"names":["PageFormBase","Template","TemplateDaoService","EditableFormComponent","TemplateService","TemplateFormComponent","constructor","injector","dataset","validate","control","controlName","result","templateService","get","modalWidth","form","fh","FormBuilder","titulo","default","especie","conteudo","cdRef","loadData","entity","_this","_asyncToGenerator","formValue","Object","assign","value","patchValue","util","fillForm","controls","initializeData","queryParams","saveData","Promise","resolve","reject","template","fill","prepareDatasetToSave","i0","ɵɵdirectiveInject","Injector","selectors","viewQuery","TemplateFormComponent_Query","rf","ctx","ɵɵelementStart","ɵɵlistener","TemplateFormComponent_Template_editable_form_submit_0_listener","onSaveData","TemplateFormComponent_Template_editable_form_cancel_0_listener","onCancel","ɵɵelement","ɵɵelementEnd","ɵɵproperty","formDisabled","isModal","title","ɵɵadvance","ɵɵattribute","lookup","TEMPLATE_ESPECIE","GridComponent","PageListBase","ɵɵtext","ɵɵtextInterpolate","row_r7","numero","ctx_r2","getIcon","getValue","getColor","ctx_r3","ctx_r6","selectButtons","TemplateListComponent","listagem","color","label","icon","disabled","selected","onClick","onSelect","close","_dataset","filterWhere","filter","addParams","find","item","key","lex","translate","push","length","trim","replace","code","addOption","OPTION_INFORMACOES","OPTION_EXCLUIR","OPTION_LOGS","ngAfterViewInit","modo","options","option","disable","auth","hasPermissionTo","row","go","navigate","route","id","modalClose","modalResult","console","log","bind","onTemplateSelect","undefined","detectChanges","TemplateListComponent_Query","TemplateListComponent_Template_grid_select_2_listener","$event","ɵɵtemplate","TemplateListComponent_toolbar_3_Template","TemplateListComponent_ng_template_11_Template","ɵɵtemplateRefExtractor","TemplateListComponent_editable_form_16_Template","TemplateListComponent_ng_template_17_Template","TemplateListComponent_toolbar_19_Template","dao","add","orderBy","groupBy","join","selectable","filterSubmit","filterCollapseChange","filterCollapsed","_r1","edit","rowsLimit","_r4","RouterModule","AuthGuard","ConfigResolver","routes","path","component","canActivate","config","runGuardsAndResolvers","data","modal","TemplateRoutingModule","forChild","imports","i1","exports","CommonModule","ComponentsModule","ReactiveFormsModule","TemplateModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
>>>>>>> develop
