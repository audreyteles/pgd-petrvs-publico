{"version":3,"file":"5796.js","mappings":"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","sources":["./src/app/dao/comparecimento-dao.service.ts","./src/app/dao/plano-trabalho-consolidacao-ocorrencia-dao.service.ts","./src/app/models/plano-trabalho-consolidacao.model.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-avaliacao/plano-trabalho-consolidacao-avaliacao.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-avaliacao/plano-trabalho-consolidacao-avaliacao.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-form/plano-trabalho-consolidacao-form.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-form/plano-trabalho-consolidacao-form.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-list/plano-trabalho-consolidacao-list.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-list/plano-trabalho-consolidacao-list.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao/plano-trabalho-consolidacao.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao/plano-trabalho-consolidacao.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-form-termo/plano-trabalho-form-termo.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-form-termo/plano-trabalho-form-termo.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-form/plano-trabalho-form.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-form/plano-trabalho-form.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-list-accordeon/plano-trabalho-list-accordeon.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-list-accordeon/plano-trabalho-list-accordeon.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-list-entrega/plano-trabalho-list-entrega.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-list-entrega/plano-trabalho-list-entrega.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-routing.module.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho.module.ts"],"sourcesContent":["import { Injectable, Injector } from '@angular/core';\r\nimport { Comparecimento } from '../models/comparecimento.model';\r\nimport { DaoBaseService } from './dao-base.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ComparecimentoDaoService extends DaoBaseService<Comparecimento> {\r\n\r\n  constructor(protected injector: Injector) {\r\n    super(\"Comparecimento\", injector);\r\n    this.inputSearchConfig.searchFields = [\"data_comparecimento\"];\r\n  }\r\n\r\n}\r\n\r\n","import { Injectable, Injector } from '@angular/core';\nimport { DaoBaseService } from './dao-base.service';\nimport { TemplateDataset } from '../modules/uteis/templates/template.service';\nimport { PlanoTrabalhoConsolidacaoOcorrencia } from '../models/plano-trabalho-consolidacao-ocorrencia.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PlanoTrabalhoConsolidacaoOcorrenciaDaoService extends DaoBaseService<PlanoTrabalhoConsolidacaoOcorrencia> {\n\n  constructor(protected injector: Injector) {\n    super(\"PlanoTrabalhoConsolidacaoOcorrencia\", injector);\n  }\n\n  public dataset(deeps?: string[]): TemplateDataset[] {\n    return this.deepsFilter([], deeps);\n  }\n\n}\n\n","import { Avaliacao, HasAvaliacao } from './avaliacao.model';\nimport { Base } from './base.model';\nimport { PlanoTrabalho } from './plano-trabalho.model';\nimport { HasStatus, StatusJustificativa } from './status-justificativa.model';\n\nexport type PlanoTrabalhoConsolidacaoStatus = 'CONCLUIDO' | 'AVALIADO' | 'INCLUIDO';\n\nexport class PlanoTrabalhoConsolidacao extends Base implements HasAvaliacao, HasStatus {\n    public plano_trabalho?: PlanoTrabalho;\n    public avaliacao?: Avaliacao;\n\n    public data_inicio: Date = new Date();\n    public data_fim: Date = new Date();\n    public status: PlanoTrabalhoConsolidacaoStatus = \"INCLUIDO\"; // Status atual da consolidação\n    public avaliacoes: Avaliacao[] = [];\n    public status_historico: StatusJustificativa[] = [];\n\n    public plano_trabalho_id: string = \"\";\n    public avaliacao_id: string | null = null;\n\n    public constructor(data?: any) { super(); this.initialization(data); }\n}","import { Component, Injector, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { GridComponent, GridGroupSeparator } from 'src/app/components/grid/grid.component';\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\nimport { PlanoTrabalhoConsolidacao } from 'src/app/models/plano-trabalho-consolidacao.model';\nimport { PlanoTrabalhoConsolidacaoDaoService } from 'src/app/dao/plano-trabalho-consolidacao-dao.service';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { Avaliacao } from 'src/app/models/avaliacao.model';\nimport { Base } from 'src/app/models/base.model';\nimport { TipoAvaliacao } from 'src/app/models/tipo-avaliacao.model';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { AvaliacaoDaoService } from 'src/app/dao/avaliacao-dao.service';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { PlanoTrabalhoService } from '../plano-trabalho.service';\nimport { Programa } from 'src/app/models/programa.model';\n\n@Component({\n  selector: 'app-plano-trabalho-consolidacao-avaliacao',\n  templateUrl: './plano-trabalho-consolidacao-avaliacao.component.html',\n  styleUrls: ['./plano-trabalho-consolidacao-avaliacao.component.scss']\n})\n\nexport class PlanoTrabalhoConsolidacaoAvaliacaoComponent extends PageListBase<PlanoTrabalhoConsolidacao, PlanoTrabalhoConsolidacaoDaoService> {\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  public usuarioDao: UsuarioDaoService;\n  public unidadeDao: UnidadeDaoService;\n  public avaliacaoDao: AvaliacaoDaoService;\n  public planoTrabalhoService: PlanoTrabalhoService;\n  public extraJoin: string[];\n  public extra: any;\n\n  constructor(public injector: Injector) {\n    super(injector, PlanoTrabalhoConsolidacao, PlanoTrabalhoConsolidacaoDaoService);\n    /* Inicializações */\n    this.join = [\n      \"avaliacao\", // \"avaliacao.tipoAvaliacao.notas\"\n      \"plano_trabalho:id\", // \"planoTrabalho.unidade:id,sigla,nome\", \"planoTrabalho.unidade.gestor:id,unidade_id,usuario_id\", \"planoTrabalho.unidade.gestorSubstituto:id,unidade_id,usuario_id\", \"planoTrabalho.tipoModalidade:id,nome\", \"planoTrabalho.usuario:id,nome,apelido,url_foto\"\n    ];\n    this.extraJoin = [ // Utilizado pelo RefreshId\n      \"avaliacao.tipoAvaliacao.notas\",\n      \"planoTrabalho.unidade:id,sigla,nome\", \n      \"planoTrabalho.unidade.gestor:id,unidade_id,usuario_id\", \n      \"planoTrabalho.unidade.gestorSubstituto:id,unidade_id,usuario_id\", \n      \"planoTrabalho.tipoModalidade:id,nome\", \n      \"planoTrabalho.usuario:id,nome,apelido,foto_perfil,url_foto\"//id,nome,apelido,url_foto,foto_perfil\n    ];\n    this.groupBy = [\n      { field: \"plano_trabalho.unidade.sigla\", label: this.lex.translate(\"Unidade\") }, \n      { field: \"plano_trabalho.unidade.id\", label: \"Unidade Id\" }, \n      { field: \"plano_trabalho.usuario.nome\", label: this.lex.translate(\"Participante\") },\n      { field: \"plano_trabalho.usuario.id\", label: \"Usuário Id\" }\n    ];\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    this.avaliacaoDao = injector.get<AvaliacaoDaoService>(AvaliacaoDaoService);\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\n    this.title = \"Avaliações \" + this.lex.translate(\"das Consolidações\");\n    this.code = \"MOD_PTR_CSLD_AVAL\";\n    this.filter = this.fh.FormBuilder({\n      usuario_id: {default: \"\"},\n      unidade_id: {default: \"\"},\n      unidades_subordinadas: {default: false},\n      incluir_arquivados: {default: false}\n    });\n    this.addOption(this.OPTION_INFORMACOES);\n    this.addOption(this.OPTION_LOGS, \"MOD_AUDIT_LOG\");\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.filter!.controls.unidade_id.setValue(this.auth.unidadeGestor()?.id || this.auth.lotacao || null);\n  }\n\n  public filterWhere = (filter: FormGroup) => {\n    let result: any[] = [];\n    let form: any = filter.value;\n    result.push([\"status\", \"in\", [\"CONCLUIDO\", \"AVALIADO\"]]);\n//    if(form.usuario_id?.length) result.push([\"usuario_id\", \"==\", form.usuario_id]);\n    if(form.usuario_id?.length) result.push([\"plano_trabalho.usuario.id\", \"==\", form.usuario_id]);\n    if(form.unidade_id?.length) result.push([\"plano_trabalho.unidade.id\", \"==\", form.unidade_id]);\n    if(form.unidades_subordinadas) result.push([\"unidades_subordinadas\", \"==\", true]);\n    if(form.incluir_arquivados) result.push([\"incluir_arquivados\", \"==\", true]);\n    return result;\n  }\n\n  public get canFilterSubordinadas(): string | undefined {\n    return this.auth.isGestorUnidade(this.filter!.controls.unidade_id.value) ? undefined : 'true';\n  }\n\n  public usuarioSeparator(separator: GridGroupSeparator) {\n    console.log(this.grid)\n    let usuarioId = separator.group[3].value;\n    separator.metadata = separator.metadata || {};\n    separator.metadata.usuario = separator.metadata.usuario || this.extra?.planos_trabalhos?.find((x: PlanoTrabalho) => x.usuario_id == usuarioId)?.usuario;\n    return separator.metadata.usuario;\n  }\n\n  public unidadeSeparator(separator: GridGroupSeparator) {\n    let unidadeId = separator.group[1].value;\n    separator.metadata = separator.metadata || {};\n    separator.metadata.unidade = separator.metadata.unidade || this.extra?.planos_trabalhos?.find((x: PlanoTrabalho) => x.unidade_id == unidadeId)?.unidade;\n    return separator.metadata.unidade;\n  }\n\n  public onUnidadeChange(event: Event) {\n    if(!this.auth.isGestorUnidade(this.filter!.controls.unidade_id.value)) this.filter!.controls.unidades_subordinadas.setValue(false);\n  }\n\n  public onGridLoad(rows?: Base[]) {\n    this.extra = (this.grid?.query || this.query!).extra;\n    let planosTrabalhos = (this.extra?.planos_trabalhos || []) as PlanoTrabalho[];\n    planosTrabalhos.forEach(p => {\n      let plano = p as PlanoTrabalho;\n      plano.programa = this.extra?.programas?.find((x: Programa) => x.id == plano.programa_id);\n    });\n    rows?.forEach(v => {\n      let consolidacao = v as PlanoTrabalhoConsolidacao;\n      consolidacao.plano_trabalho = this.extra?.planos_trabalhos?.find((x: PlanoTrabalho) => x.id == consolidacao.plano_trabalho_id);\n      if(consolidacao.avaliacao) consolidacao.avaliacao.tipo_avaliacao = this.extra?.tipos_avaliacoes?.find((x: TipoAvaliacao) => x.id == consolidacao.avaliacao!.tipo_avaliacao_id);\n    });\n  }\n\n  public refreshConsolidacao(consolidacao: PlanoTrabalhoConsolidacao) {\n    (async () => {\n      await this.grid!.query!.refreshId(consolidacao.id, this.extraJoin);\n      this.grid!.refreshRows();\n    })();\n  }\n\n  public anterior(consolidacao: PlanoTrabalhoConsolidacao): PlanoTrabalhoConsolidacao | undefined {\n    return (this.grid!.items as PlanoTrabalhoConsolidacao[]).reduce((a: PlanoTrabalhoConsolidacao | undefined, v: PlanoTrabalhoConsolidacao) => this.util.asTimestamp(v.data_inicio) < this.util.asTimestamp(consolidacao.data_inicio) && (!a || this.util.asTimestamp(a.data_inicio) < this.util.asTimestamp(v.data_inicio)) ? v : a, undefined);\n  }\n\n  public proximo(consolidacao: PlanoTrabalhoConsolidacao): PlanoTrabalhoConsolidacao | undefined {\n    return (this.grid!.items as PlanoTrabalhoConsolidacao[]).reduce((a: PlanoTrabalhoConsolidacao | undefined, v: PlanoTrabalhoConsolidacao) => this.util.asTimestamp(v.data_fim) > this.util.asTimestamp(consolidacao.data_fim) && (!a || this.util.asTimestamp(a.data_fim) > this.util.asTimestamp(v.data_fim)) ? v : a, undefined);\n  }\n\n  public dynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    let consolidacao: PlanoTrabalhoConsolidacao = row as PlanoTrabalhoConsolidacao;\n    let programa: Programa = consolidacao.plano_trabalho!.programa!;\n    const usuarioId = consolidacao.plano_trabalho!.usuario_id;\n    const unidadeId = consolidacao.plano_trabalho!.unidade_id;\n    const anterior = this.anterior(row as PlanoTrabalhoConsolidacao);\n    const proximo = this.proximo(row as PlanoTrabalhoConsolidacao);\n    const isAvaliador = this.auth.hasPermissionTo(\"MOD_PTR_CSLD_AVAL\") && (this.auth.isGestorUnidade(unidadeId) || this.auth.isIntegrante('AVALIADOR_PLANO_TRABALHO', unidadeId));\n    const isUsuarioDoPlano = this.auth.usuario!.id == usuarioId;\n    const BOTAO_AVALIAR = { hint: \"Avaliar\", icon: \"bi bi-star\", color: \"btn-outline-warning\", onClick: (row: PlanoTrabalhoConsolidacao) => this.planoTrabalhoService.avaliar(row, programa, this.refreshConsolidacao.bind(this)) };\n    const BOTAO_REAVALIAR = { hint: \"Reavaliar\", icon: \"bi bi-star-half\", color: \"btn-outline-warning\", onClick: (row: PlanoTrabalhoConsolidacao) => this.planoTrabalhoService.avaliar(row, programa, this.refreshConsolidacao.bind(this)) };\n    const BOTAO_FAZER_RECURSO = { hint: \"Fazer recurso\", id: \"RECORRIDO\", icon: \"bi bi-journal-medical\", color: \"btn-outline-warning\", onClick: (row: PlanoTrabalhoConsolidacao) => this.planoTrabalhoService.fazerRecurso(row, programa, this.refreshConsolidacao.bind(this)) };\n    const BOTAO_CANCELAR_AVALIACAO = { hint: \"Cancelar avaliação\", id: \"INCLUIDO\", icon: \"bi bi-backspace\", color: \"btn-outline-danger\", onClick: (row: PlanoTrabalhoConsolidacao) => this.planoTrabalhoService.cancelarAvaliacao(row, this, this.refreshConsolidacao.bind(this)) };\n    /* (RN_CSLD_11) Não pode concluir a consolidação antes que a anterior não esteja concluida, e não pode retornar status da consolidação se a posterior estiver a frente (em status); */\n    const canAvaliar = !anterior || [\"AVALIADO\"].includes(anterior!.status);\n    const canCancelarAvaliacao = !proximo || [\"INCLUIDO\", \"CONCLUIDO\"].includes(proximo!.status);\n    if(consolidacao.status == \"CONCLUIDO\" && canAvaliar && isAvaliador) {\n      result.push(BOTAO_AVALIAR);\n    }\n    if(consolidacao.status == \"AVALIADO\" && consolidacao!.avaliacao) {\n      /* (RN_AVL_2) [PT] O usuário do plano de trabalho que possuir o acesso MOD_PTR_CSLD_REC_AVAL poderá recorrer da nota atribuida dentro do limites estabelecido pelo programa; */\n      if(isUsuarioDoPlano && this.auth.hasPermissionTo('MOD_PTR_CSLD_REC_AVAL') && consolidacao!.avaliacao?.data_avaliacao && \n        (!programa.dias_tolerancia_recurso_avaliacao || \n        (this.util.daystamp(consolidacao!.avaliacao!.data_avaliacao) + programa.dias_tolerancia_recurso_avaliacao > this.util.daystamp(this.auth.hora)))) {\n        result.push(BOTAO_FAZER_RECURSO);\n      }\n      /* (RN_AVL_3) [PT] Após o recurso será realizado nova avaliação, podendo essa ser novamente recorrida dentro do mesmo prazo estabelecido no programa; */\n      /* (RN_AVL_6) [PT] Qualquer usuário capaz de avaliar tambem terá a capacidade de cancelar a avaliação; */\n      if(canAvaliar && isAvaliador) {\n        result.push(BOTAO_REAVALIAR);\n        if(canCancelarAvaliacao) result.push(BOTAO_CANCELAR_AVALIACAO);\n      }\n    }\n    return result;\n  }\n\n}\n\n","<grid [dao]=\"dao\" [title]=\"isModal ? '' : title\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\"\n    [hasAdd]=\"false\" [hasEdit]=\"false\" [loadList]=\"onGridLoad.bind(this)\" [groupTemplate]=\"groupUnidadeUsuario\">\n    <ng-template let-separator=\"separator\" #groupUnidadeUsuario>\n        <div class=\"d-flex\">\n            <div class=\"ms-3\">\n                <profile-picture [url]=\"usuarioSeparator(separator)?.url_foto\" [size]=\"40\" [hint]=\"usuarioSeparator(separator)?.nome\"></profile-picture>\n            </div>\n            <div class=\"flex-fill ms-3\">\n                <strong>{{usuarioSeparator(separator)?.nome || \"Desconhecido\"}}</strong><br>\n                <badge [icon]=\"entityService.getIcon('Unidade')\" color=\"primary\" [label]=\"unidadeSeparator(separator)?.sigla || 'Desconhecido'\"></badge>\n            </div>\n        </div>\n    </ng-template>\n    <toolbar *ngIf=\"!selectable\"></toolbar>\n    <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"filterCollapsed\" [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\">\n        <div class=\"row\">\n            <input-search [size]=\"5\" #usuario [control]=\"filter!.controls.usuario_id\" controlName=\"usuario_id\" [dao]=\"usuarioDao\"></input-search>\n            <input-search [size]=\"5\" #unidade [control]=\"filter!.controls.unidade_id\" controlName=\"unidade_id\" [dao]=\"unidadeDao\" (change)=\"onUnidadeChange($event)\"></input-search>\n            <input-switch [size]=\"1\" #subordinadas [disabled]=\"canFilterSubordinadas\" label=\"Sub.\" [control]=\"filter!.controls.unidades_subordinadas\" controlName=\"unidades_subordinadas\" labelInfo=\"Incluir as unidades subordinadas\"></input-switch>\n            <input-switch [size]=\"1\" #arquivadas label=\"Arq.\" [control]=\"filter!.controls.incluir_arquivados\" controlName=\"incluir_arquivados\" labelInfo=\"Incluir os planos de trabalhos arquivados\"></input-switch>\n        </div>\n    </filter>\n    <columns>\n        <column type=\"expand\" [icon]=\"entityService.getIcon('PlanoTrabalhoConsolidacao')\" [align]=\"'center'\" [hint]=\"lex.translate('Consolidação')\" [template]=\"columnConsolidacao\" [expandTemplate]=\"columnExpandedConsolidacao\">\n            <ng-template let-row=\"row\" #columnConsolidacao>\n                <!--span *ngIf=\"row?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-boxes\"></i> {{row?.length}}</span//-->\n            </ng-template>\n            <ng-template let-row=\"row\" #columnExpandedConsolidacao>\n                <plano-trabalho-consolidacao-form #consolidacao [disabled]=\"true\" [entity]=\"row\" [planoTrabalho]=\"row.plano_trabalho\" [cdRef]=\"cdRef\"></plano-trabalho-consolidacao-form>\n            </ng-template>\n        </column>\n        <column [title]=\"'Plano de trabalho/Vigência\\nUnidade/Programa/Modalidade'\" [template]=\"columnPlanoTrabalho\">\n            <ng-template let-row=\"row\" #columnPlanoTrabalho>\n                {{row.plano_trabalho.usuario.nome}} <badge label=\"Início\" color=\"light\" icon=\"bi bi-calendar2\" [textValue]=\"util.getDateFormatted(row.plano_trabalho.data_inicio)\"></badge><badge label=\"Término\" color=\"light\" icon=\"bi bi-calendar2-check\" [textValue]=\"util.getDateFormatted(row.plano_trabalho.data_fim)\"></badge><br>\n                <badge [icon]=\"entityService.getIcon('Unidade')\" [label]=\"row.plano_trabalho.unidade?.sigla\" color=\"light\" [hint]=\"lex.translate('Unidade') + ': ' + row.plano_trabalho.unidade?.nome\"></badge>\n                <badge [icon]=\"entityService.getIcon('Programa')\" [label]=\"row.plano_trabalho.programa?.nome\" color=\"light\" [hint]=\"lex.translate('Programa')\"></badge>\n                <badge [icon]=\"entityService.getIcon('TipoModalidade')\" [label]=\"row.plano_trabalho.tipo_modalidade?.nome\" color=\"light\" [hint]=\"lex.translate('Tipo de modalidade')\"></badge>\n            </ng-template>\n        </column>\n        <column title=\"Data início\" [template]=\"columnDataInicio\">\n            <ng-template let-row=\"row\" #columnDataInicio>\n                {{util.getDateFormatted(row.data_inicio)}}\n            </ng-template>\n        </column>\n        <column title=\"Data fim\" [template]=\"columnDataFim\">\n            <ng-template let-row=\"row\" #columnDataFim>\n                <strong>{{util.getDateFormatted(row.data_fim)}}</strong>\n            </ng-template>\n        </column>\n        <column [title]=\"'Estatísticas\\nAvaliações'\" [template]=\"columnEstatisticas\" [width]=\"300\">\n            <ng-template let-row=\"row\" #columnEstatisticas>\n                <avaliar-nota-badge *ngIf=\"row.avaliacao\" [align]=\"'left'\" [tipoAvaliacao]=\"row.avaliacao.tipo_avaliacao\" [nota]=\"row.avaliacao.nota\"></avaliar-nota-badge>\n                <separator *ngIf=\"row.avaliacao?.recurso?.length\" title=\"Recurso da avaliação\" collapse [collapsed]=\"false\">\n                    <small>{{row.avaliacao.recurso}}</small>\n                </separator>\n            </ng-template>\n        </column>\n        <column title=\"Status\" [template]=\"columnStatus\">\n            <ng-template let-row=\"row\" #columnStatus>\n                <div class=\"one-per-line\">\n                    <badge [color]=\"lookup.getColor(lookup.CONSOLIDACAO_STATUS, row.status)\" [icon]=\"lookup.getIcon(lookup.CONSOLIDACAO_STATUS, row.status)\" [label]=\"lookup.getValue(lookup.CONSOLIDACAO_STATUS, row.status)\"></badge>\n                    <badge *ngIf=\"row.avaliacao?.recurso?.length\" icon=\"bi bi-journal-medical\" color=\"warning\" label=\"Recorrido\"></badge>\n                </div>\n            </ng-template>\n        </column>\n        <column type=\"options\" [dynamicButtons]=\"dynamicButtons.bind(this)\"></column>\n    </columns>\n    <pagination [rows]=\"rowsLimit\"></pagination>\n</grid>\n","import { ChangeDetectorRef, Component, Injector, Input, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { ConsolidacaoDados, PlanoTrabalhoConsolidacaoDaoService } from 'src/app/dao/plano-trabalho-consolidacao-dao.service';\nimport { PlanoTrabalhoConsolidacaoOcorrenciaDaoService } from 'src/app/dao/plano-trabalho-consolidacao-ocorrencia-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { PlanoTrabalhoConsolidacao } from 'src/app/models/plano-trabalho-consolidacao.model';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\nimport { Atividade, Checklist } from 'src/app/models/atividade.model';\nimport { PlanoTrabalhoConsolidacaoOcorrencia } from 'src/app/models/plano-trabalho-consolidacao-ocorrencia.model';\nimport { Afastamento } from 'src/app/models/afastamento.model';\nimport { PlanoTrabalhoEntrega } from 'src/app/models/plano-trabalho-entrega.model';\nimport { BadgeTrabalho, PlanoTrabalhoService } from '../plano-trabalho.service';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { TipoAtividadeDaoService } from 'src/app/dao/tipo-atividade-dao.service';\nimport { PlanoEntregaService } from '../../plano-entrega/plano-entrega.service';\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\nimport { AtividadeOptionsMetadata, AtividadeService } from '../../atividade/atividade.service';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\nimport { CalendarService } from 'src/app/services/calendar.service';\nimport { SelectItem } from 'src/app/components/input/input-base';\nimport { TipoAtividade } from 'src/app/models/tipo-atividade.model';\nimport { Unidade } from 'src/app/models/unidade.model';\nimport { Programa } from 'src/app/models/programa.model';\nimport { Comparecimento } from 'src/app/models/comparecimento.model';\nimport { ComparecimentoDaoService } from 'src/app/dao/comparecimento-dao.service';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { SeparatorComponent } from 'src/app/components/separator/separator.component';\n\nexport type ConsolidacaoEntrega = {\n  id: string,\n  entrega: PlanoTrabalhoEntrega,\n  badge: BadgeTrabalho,\n  atividades: Atividade[]\n};\n\n@Component({\n  selector: 'plano-trabalho-consolidacao-form',\n  templateUrl: './plano-trabalho-consolidacao-form.component.html',\n  styleUrls: ['./plano-trabalho-consolidacao-form.component.scss']\n})\nexport class PlanoTrabalhoConsolidacaoFormComponent extends PageFrameBase {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @ViewChild('gridEntregas', { static: false }) public gridEntregas?: GridComponent;\n  @ViewChild('gridAtividades', { static: false }) public gridAtividades?: GridComponent;\n  @ViewChild('etiqueta', { static: false }) public etiqueta?: InputSelectComponent;\n  @Input() cdRef: ChangeDetectorRef;\n  @Input() planoTrabalho?: PlanoTrabalho;\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\n  @Input() set entity(value: PlanoTrabalhoConsolidacao | undefined) { super.entity = value; this.bindEntity(); } get entity(): PlanoTrabalhoConsolidacao | undefined { return super.entity; }\n  @Input() set disabled(value: boolean) {\n    if(this._disabled != value || this.atividadeOptionsMetadata.disabled !== value) {\n      this._disabled = value;\n      this.atividadeOptionsMetadata.disabled = value;\n      this.cdRef.detectChanges();\n    }\n  }\n  get disabled(): boolean {\n    return this._disabled;\n  }\n\n  public consolidacaoOcorrenciaDao: PlanoTrabalhoConsolidacaoOcorrenciaDaoService;\n  public ocorrenciaDao: PlanoTrabalhoConsolidacaoOcorrenciaDaoService;\n  public comparecimentoDao: ComparecimentoDaoService;\n  public unidadeDao: UnidadeDaoService;\n  public formAtividade: FormGroup;\n  public formOcorrencia: FormGroup;\n  public formComparecimento: FormGroup;\n  public formEdit: FormGroup;\n  public unidade?: Unidade;\n  public dao: PlanoTrabalhoConsolidacaoDaoService;\n  public atividadeDao: AtividadeDaoService;\n  public atividadeService: AtividadeService;\n  public calendar: CalendarService;\n  public joinAtividade: string[] = ['demandante', 'usuario', 'tipo_atividade', 'comentarios.usuario:id,nome,apelido', 'reacoes.usuario:id,nome,apelido'];\n  public tipoAtividadeDao: TipoAtividadeDaoService;\n  public planoTrabalhoService: PlanoTrabalhoService;\n  public planoEntregaService: PlanoEntregaService;\n  public itemsEntregas: ConsolidacaoEntrega[] = [];\n  public etiquetas: LookupItem[] = [];\n  public checklist?: Checklist[];\n  public itemsOcorrencias: PlanoTrabalhoConsolidacaoOcorrencia[] = [];\n  public itemsComparecimentos: Comparecimento[] = [];\n  public itemsAfastamentos: Afastamento[] = [];\n  public atividadeOptionsMetadata: AtividadeOptionsMetadata;\n  public programa?: Programa;\n  \n  private _disabled: boolean = true;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\n    this.dao = injector.get<PlanoTrabalhoConsolidacaoDaoService>(PlanoTrabalhoConsolidacaoDaoService);\n    this.consolidacaoOcorrenciaDao = injector.get<PlanoTrabalhoConsolidacaoOcorrenciaDaoService>(PlanoTrabalhoConsolidacaoOcorrenciaDaoService);\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    this.comparecimentoDao = injector.get<ComparecimentoDaoService>(ComparecimentoDaoService);\n    this.atividadeDao = injector.get<AtividadeDaoService>(AtividadeDaoService);\n    this.atividadeService = injector.get<AtividadeService>(AtividadeService);\n    this.calendar = injector.get<CalendarService>(CalendarService);\n    this.ocorrenciaDao = injector.get<PlanoTrabalhoConsolidacaoOcorrenciaDaoService>(PlanoTrabalhoConsolidacaoOcorrenciaDaoService);\n    this.tipoAtividadeDao = injector.get<TipoAtividadeDaoService>(TipoAtividadeDaoService);\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\n    this.planoEntregaService = injector.get<PlanoEntregaService>(PlanoEntregaService);\n    this.formAtividade = this.fh.FormBuilder({\n      descricao: { default: \"\" },\n      etiquetas: { default: [] },\n      checklist: { default: [] },\n      comentarios: { default: [] },\n      esforco: { default: 0 },\n      tempo_planejado: { default: 0 },\n      data_distribuicao: {default: new Date()},\n      data_estipulada_entrega: {default: new Date()},\n      data_inicio: {default: new Date()},\n      data_entrega: {default: new Date()},\n      tipo_atividade_id: {default: null}\n    }, this.cdRef, this.validateAtividade);\n    this.formOcorrencia = this.fh.FormBuilder({\n      data_inicio: { default: new Date() },\n      data_fim: { default: new Date() },\n      descricao: { default: \"\" }\n    }, this.cdRef, this.validateOcorrencia);\n    this.formComparecimento = this.fh.FormBuilder({\n      data_comparecimento: { default: new Date() },\n      unidade_id: { default: \"\" },\n      detalhamento: { default: \"\" }\n    }, this.cdRef, this.validateComparecimento);\n    this.formEdit = this.fh.FormBuilder({\n      progresso: { default: 0 },\n      etiquetas: { default: [] },\n      etiqueta: { default: null }\n    });\n    this.atividadeOptionsMetadata = {\n      refreshId: this.atividadeRefreshId.bind(this),\n      removeId: this.atividadeRemoveId.bind(this),\n      refresh: this.refresh.bind(this)\n    }\n  }\n\n  public refresh() {\n    this.loadData(this.entity!, this.form);\n  }\n\n  public bindEntity() {\n    if(this.entity) {\n      this.entity._metadata = this.entity._metadata || {};\n      this.entity._metadata.planoTrabalhoConsolidacaoFormComponent = this;\n    }\n  }\n\n  public atividadeRefreshId(id: string, atividade?: Atividade) {\n    this.itemsEntregas.forEach(entrega => {\n      let foundIndex = entrega.atividades.findIndex(x => x.id == id);\n      if(foundIndex >= 0) {\n        if(atividade) {\n          entrega.atividades[foundIndex] = atividade;\n        } else {\n          this.atividadeDao.getById(id, this.joinAtividade).then(atividade => { if(atividade) entrega.atividades[foundIndex] = atividade; });\n        }\n      }\n    });\n    this.cdRef.detectChanges();\n  }\n\n  public atividadeRemoveId(id: string) {\n    this.itemsEntregas.forEach(entrega => {\n      let foundIndex = entrega.atividades.findIndex(x => x.id == id);\n      if(foundIndex >= 0) entrega.atividades.splice(foundIndex, 1);\n    });\n    this.cdRef.detectChanges();\n  }\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    (async () => {\n      await this.loadData(this.entity!, this.form);\n    })();\n  }\n\n  public validateAtividade = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if (['descricao'].indexOf(controlName) >= 0 && !control.value?.length) {\n      result = \"Obrigatório\";\n    } else if(['data_distribuicao', 'data_estipulada_entrega', 'data_inicio', 'data_entrega'].includes(controlName) && !this.util.isDataValid(control.value)) {\n      result = \"Inválido\";\n    } else if(controlName == 'data_estipulada_entrega' && control.value.getTime() < this.formAtividade?.controls.data_distribuicao.value.getTime()) {\n      result = \"Menor que distribuição\";\n    } else if(controlName == 'data_inicio' && control.value.getTime() < this.formAtividade?.controls.data_distribuicao.value.getTime()) {\n      result = \"Menor que distribuição\";\n    } else if(controlName == 'data_entrega' && control.value.getTime() < this.formAtividade?.controls.data_distribuicao.value.getTime()) {\n      result = \"Menor que distribuição\";\n    } else if(controlName == 'data_entrega' && control.value.getTime() < this.formAtividade?.controls.data_inicio.value.getTime()) {\n      result = \"Menor que início\";\n    }\n    return result;\n  }\n\n  public validateOcorrencia = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if (['descricao'].indexOf(controlName) >= 0 && !control.value?.length) {\n      result = \"Obrigatório\";\n    } else if(['data_inicio', 'data_fim'].includes(controlName) && !this.util.isDataValid(control.value)) {\n      result = \"Inválido\";\n    } else if(controlName == 'data_fim' && control.value.getTime() < this.formOcorrencia?.controls.data_inicio.value.getTime()) {\n      result = \"Menor que início\";\n    } \n    return result;\n  }\n\n  public validateComparecimento = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if (['detalhamento', 'unidade_id'].indexOf(controlName) >= 0 && !control.value?.length) {\n      result = \"Obrigatório\";\n    } else if(controlName == 'data_comparecimento' && this.entity && !this.util.between(control.value, {start: this.entity!.data_inicio, end: this.entity!.data_fim})) {\n      result = \"Inválido\";\n    } \n    return result;\n  }\n\n  public loadConsolidacao(dados: ConsolidacaoDados) {\n    this.itemsEntregas = dados.entregas.map(x => {\n      if(x.plano_entrega_entrega) x.plano_entrega_entrega.plano_entrega = dados.planosEntregas.find(pe => pe.id == x.plano_entrega_entrega?.plano_entrega_id);\n      let result = {\n        id: x.id,\n        entrega: x,\n        atividades: dados.atividades.filter(y => y.plano_trabalho_entrega_id == x.id),\n        badge: this.planoTrabalhoService.tipoEntrega(x, dados.planoTrabalho),\n        meta: x.plano_entrega_entrega ? this.planoEntregaService.getValorMeta(x.plano_entrega_entrega) : '',\n        metaRealizado: x.plano_entrega_entrega ? this.planoEntregaService.getValorRealizado(x.plano_entrega_entrega) : '',\n        progresso_realizado: x.plano_entrega_entrega ? x.plano_entrega_entrega.progresso_realizado : 0,\n        objetivos: x.plano_entrega_entrega ? x.plano_entrega_entrega.objetivos : [],\n        processos: x.plano_entrega_entrega ? x.plano_entrega_entrega.processos : [],\n      };\n      return result;\n    });\n    this.programa = dados.programa;\n    this.planoTrabalho = dados.planoTrabalho;\n    this.itemsOcorrencias = dados.ocorrencias;\n    this.itemsComparecimentos = dados.comparecimentos;\n    this.itemsAfastamentos = dados.afastamentos;\n    this.unidade = dados.planoTrabalho.unidade || this.entity!.plano_trabalho?.unidade;\n    this.cdRef.detectChanges();\n  }\n\n  public async loadData(entity: IIndexable, form?: FormGroup) {\n    this.gridEntregas!.loading = true;\n    this.cdRef.detectChanges();\n    try {\n      let dados = await this.dao!.dadosConsolidacao(entity.id);\n      this.loadConsolidacao(dados);\n    } finally {\n      this.gridEntregas!.loading = false;\n      this.cdRef.detectChanges();\n    }\n  }  \n  \n  /***************************************************************************************\n  * Atividades \n  ****************************************************************************************/\n  public async addAtividade(entrega: PlanoTrabalhoEntrega) {\n    let planoTrabalho: PlanoTrabalho | undefined = entrega.plano_trabalho || this.entity!.plano_trabalho;\n    let efemerides = this.calendar.calculaDataTempoUnidade(this.entity!.data_inicio, this.entity!.data_fim, planoTrabalho!.carga_horaria, this.unidade!, \"ENTREGA\");\n    const tempoPlanejado = this.calendar.horasUteis(this.entity!.data_inicio, this.entity!.data_fim, planoTrabalho!.carga_horaria, this.unidade!, \"DISTRIBUICAO\");\n    const dataInicio = this.util.setTime(this.entity!.data_inicio, 0, 0, 0);\n    const dataFim = this.util.setTime(this.entity!.data_fim, 23, 59, 59);\n    return new Atividade({\n      id: this.dao!.generateUuid(),\n      plano_trabalho: planoTrabalho,\n      plano_trabalho_entrega: entrega,\n      plano_trabalho_consolidacao: this.entity,\n      demandante: this.auth.usuario,\n      usuario: this.auth.usuario,\n      unidade: this.unidade,\n      data_distribuicao: dataInicio,\n      carga_horaria: planoTrabalho!.carga_horaria,\n      data_estipulada_entrega: dataFim,\n      data_inicio: dataInicio,\n      data_entrega: dataFim,\n      tempo_planejado: tempoPlanejado,\n      tempo_despendido: efemerides?.tempoUtil || 0,\n      status: 'CONCLUIDO',\n      progresso: 100,\n      plano_trabalho_id: this.entity!.plano_trabalho_id,\n      plano_trabalho_entrega_id: entrega.id,\n      plano_trabalho_consolidacao_id: this.entity!.id,\n      demandante_id: this.auth.usuario!.id,\n      usuario_id: this.auth.usuario!.id,\n      unidade_id: this.unidade!.id,\n      metadados: { // Simula os metadados enviados pelo servidor\n        atrasado: false,\n        tempo_despendido: 0,\n        tempo_atraso: 0,\n        pausado: false,\n        iniciado: true,\n        concluido: true,\n        avaliado: false,\n        arquivado: false,\n        produtividade: 0,\n        extra: undefined,\n        _status: []\n      }\n    });\n  }\n\n  public async loadAtividade(form: FormGroup, row: any) {\n    this.formAtividade.patchValue(row);\n    this.cdRef.detectChanges();\n  }\n\n  public async removeAtividade(atividades: Atividade[], row: any) {\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir o item ?\");\n    if (confirm) {\n      try {\n        let atividade = row as Atividade;\n        await this.atividadeDao?.delete(atividade);\n        atividades.splice(atividades.findIndex(x => x.id == atividade.id), 1);\n        return true;\n      } catch {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  public async saveAtividade(form: FormGroup, row: any) {\n    let result = undefined;\n    this.gridAtividades!.error = \"\";\n    this.formAtividade.markAllAsTouched();\n    if (this.formAtividade!.valid) {\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\n      this.util.fillForm(row, this.formAtividade!.value);\n      this.submitting = true;\n      try {\n        result = await this.atividadeDao?.save(row, this.joinAtividade, ['etiquetas', 'checklist', 'comentarios', 'pausas', 'tarefas']);\n        this.atividadeRefreshId(row.id, result);\n      } catch (error: any) {\n        result = false;\n        this.gridAtividades!.error = error.message || error;\n      } finally {\n        this.submitting = false;\n      }\n    }\n    return result;\n  }\n\n  public onDataDistribuicaoChange(event: Event) {\n    this.formAtividade!.controls.data_inicio.setValue(this.formAtividade!.controls.data_distribuicao.value);\n  }\n\n  public onDataEstipuladaEntregaChange(event: Event) {\n    this.formAtividade!.controls.data_entrega.setValue(this.formAtividade!.controls.data_estipulada_entrega.value);\n  }\n\n  public atividadeDynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    result.push(Object.assign({}, this.gridEntregas!.BUTTON_EDIT, {}));\n    result.push(Object.assign({}, this.gridEntregas!.BUTTON_DELETE, {}));\n    return result;\n  }  \n\n  public async onColumnProgressoEtiquetasChecklistEdit(row: any) {\n    this.formEdit.controls.progresso.setValue(row.progresso);\n    this.formEdit.controls.etiquetas.setValue(row.etiquetas);\n    this.formEdit.controls.etiqueta.setValue(null);\n    this.etiquetas = this.util.merge(row.tipo_atividade?.etiquetas, row.unidade?.etiquetas, (a, b) => a.key == b.key);\n    this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\n    this.checklist = this.util.clone(row.checklist);\n  }\n\n  public async onColumnProgressoEtiquetasChecklistSave(row: any) {\n    try {\n      const saved = await this.atividadeDao!.update(row.id, {\n        progresso: this.formEdit.controls.progresso.value,\n        etiquetas: this.formEdit.controls.etiquetas.value,\n        checklist: this.checklist\n      });\n      row.progresso = this.formEdit.controls.progresso.value;\n      row.checklist = this.checklist;\n      return !!saved;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  public onEtiquetaConfigClick() {\n    this.go.navigate({ route: [\"configuracoes\", \"preferencia\", \"usuario\", this.auth.usuario!.id], params: { etiquetas: true } }, {\n      modal: true, modalClose: (modalResult) => {\n        this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\n        this.cdRef.detectChanges();\n      }\n    });\n  }\n\n  public addItemHandleEtiquetas(): LookupItem | undefined {\n    let result = undefined;\n    if (this.etiqueta && this.etiqueta.selectedItem) {\n      const item = this.etiqueta.selectedItem;\n      const key = item.key?.length ? item.key : this.util.textHash(item.value);\n      if (this.util.validateLookupItem(this.formEdit.controls.etiquetas.value, key)) {\n        result = {\n          key: key,\n          value: item.value,\n          color: item.color,\n          icon: item.icon\n        };\n        this.formEdit.controls.etiqueta.setValue(null);\n      }\n    }\n    return result;\n  };\n\n  public loadTipoAtividade(tipoAtividade: TipoAtividade | undefined) {\n    if(tipoAtividade) {\n      this.etiquetas = this.atividadeService.buildEtiquetas(this.unidade, tipoAtividade);\n      this.atividadeService.buildChecklist(tipoAtividade, this.formAtividade.controls.checklist);\n      this.formAtividade.controls.esforco.setValue(tipoAtividade?.esforco || 0);\n    } else {\n      this.etiquetas = [];\n      this.formAtividade.controls.esforco.setValue(0);\n    }\n    this.cdRef.detectChanges();\n  }\n\n  public onTipoAtividadeSelect(item: SelectItem) {\n    const tipoAtividade: TipoAtividade | undefined = item.entity as TipoAtividade;\n    this.loadTipoAtividade(tipoAtividade);\n    this.atividadeService.comentarioAtividade(tipoAtividade, this.formAtividade!.controls.comentarios);\n    this.cdRef.detectChanges();\n  }\n\n  /***************************************************************************************\n  * Ocorrências \n  ****************************************************************************************/\n  public async addOcorrencia() {\n    return new PlanoTrabalhoConsolidacaoOcorrencia({\n      plano_trabalho_consolidacao_id: this.entity!.id\n    });\n  }\n\n  public async loadOcorrencia(form: FormGroup, row: any) {\n    this.formAtividade.patchValue({\n      data_inicio: row.data_inicio,\n      data_fim: row.data_fim,\n      descricao: row.descricao\n    });\n    this.cdRef.detectChanges();\n  }\n\n  public async removeOcorrencia(row: any) {\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir o item ?\");\n    if (confirm) {\n      try {\n        let ocorrencia = row as PlanoTrabalhoConsolidacaoOcorrencia;\n        await this.consolidacaoOcorrenciaDao?.delete(ocorrencia);\n        this.itemsOcorrencias.splice(this.itemsOcorrencias.findIndex(x => x.id == ocorrencia.id), 1);\n        return true;\n      } catch {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  public async saveOcorrencia(form: FormGroup, row: any) {\n    let result = undefined;\n    this.formOcorrencia.markAllAsTouched();\n    if (this.formOcorrencia!.valid) {\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\n      row.data_inicio = form.controls.data_inicio.value;\n      row.data_fim = form.controls.data_fim.value;\n      row.descricao = form.controls.descricao.value;\n      this.submitting = true;\n      try {\n        result = await this.consolidacaoOcorrenciaDao?.save(row);\n      } finally {\n        this.submitting = false;\n      }\n    }\n    return result;\n  }\n\n  public ocorrenciaDynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    //result.push({ hint: \"Adicionar filho\", icon: \"bi bi-plus-circle\", onClick: this.addChildProcesso.bind(this) });\n    return result;\n  }  \n\n  /***************************************************************************************\n  * Comparecimento \n  ****************************************************************************************/\n  public async addComparecimento() {\n    return new Comparecimento({\n      unidade_id: this.unidade?.id,\n      unidade: this.unidade,\n      plano_trabalho_consolidacao_id: this.entity!.id\n    });\n  }\n\n  public async loadComparecimento(form: FormGroup, row: any) {\n    this.formComparecimento.patchValue({\n      data_comparecimento: row.data_comparecimento,\n      unidade_id: row.unidade_id,\n      detalhamento: row.detalhamento\n    });\n    this.cdRef.detectChanges();\n  }\n\n  public async removeComparecimento(row: any) {\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir o item ?\");\n    if (confirm) {\n      try {\n        let comparecimento = row as Comparecimento;\n        await this.comparecimentoDao?.delete(comparecimento);\n        this.itemsComparecimentos.splice(this.itemsComparecimentos.findIndex(x => x.id == comparecimento.id), 1);\n        return true;\n      } catch {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  public async saveComparecimento(form: FormGroup, row: any) {\n    let result = undefined;\n    this.formComparecimento.markAllAsTouched();\n    if (this.formComparecimento!.valid) {\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\n      row.data_comparecimento = form.controls.data_comparecimento.value;\n      row.detalhamento = form.controls.detalhamento.value;\n      row.plano_trabalho_consolidacao_id = this.entity!.id;\n      row.unidade_id = form.controls.unidade_id.value;\n      this.submitting = true;\n      try {\n        result = await this.comparecimentoDao?.save(row);\n      } finally {\n        this.submitting = false;\n      }\n    }\n    return result;\n  }\n\n  public comparecimentoDynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    //result.push({ hint: \"Adicionar filho\", icon: \"bi bi-plus-circle\", onClick: this.addChildProcesso.bind(this) });\n    return result;\n  }  \n\n  /***************************************************************************************\n  * Afastamentos\n  ****************************************************************************************/\n  public async addAfastamento() {\n    this.go.navigate({route: ['cadastros', 'afastamento', 'new']}, {\n      metadata: { consolidacao: this.entity },\n      filterSnapshot: undefined,\n      querySnapshot: undefined,\n      modalClose: (modalResult) => {\n        if(modalResult) this.refresh();\n      }\n    });\n  }\n\n  public afastamentoDynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    result.push(Object.assign({}, this.OPTION_INFORMACOES, { onClick: (doc: Afastamento) => this.go.navigate({route: [\"cadastros\", \"afastamento\", doc.id, \"consult\"]}) }));\n    //result.push({ hint: \"Adicionar filho\", icon: \"bi bi-plus-circle\", onClick: this.addChildProcesso.bind(this) });\n    return result;\n  }  \n\n  public async showPlanejamento(planejamento_id: string){\n    this.go.navigate({ route: ['gestao', 'planejamento', planejamento_id, 'consult'] }, {modal: true})\n  }\n\n  public async showCadeiaValor(cadeia_valor_id_id: string){\n    this.go.navigate({ route: ['gestao', 'cadeia-valor', cadeia_valor_id_id, 'consult'] }, {modal: true})\n  }\n \n}\n","<separator collapse [collapsed]=\"false\" [title]=\"lex.translate('Atividades')\" [icon]=\"entityService.getIcon('Atividade')\">\n    <grid [items]=\"itemsEntregas\" #gridEntregas [minHeight]=\"0\">\n        <columns>\n            <column type=\"expand\" [icon]=\"entityService.getIcon('PlanoTrabalhoConsolidacao')\" [align]=\"'center'\" [hint]=\"lex.translate('Consolidação')\" [template]=\"columnConsolidacao\" [expandTemplate]=\"columnExpandedConsolidacao\">\n                <ng-template let-row=\"row\" #columnConsolidacao>\n                    <!--span *ngIf=\"row?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-boxes\"></i> {{row?.length}}</span//-->\n                </ng-template>\n                <ng-template let-row=\"row\" #columnExpandedConsolidacao>\n                    <grid [items]=\"row.atividades\" [minHeight]=\"0\" #gridAtividades [form]=\"formAtividade\" [hasAdd]=\"!disabled\" [hasDelete]=\"false\" [hasEdit]=\"false\"\n                        [add]=\"addAtividade.bind(this, row.entrega)\" [load]=\"loadAtividade.bind(this)\" [remove]=\"removeAtividade.bind(this, row.atividades)\" [save]=\"saveAtividade.bind(this)\" editable>\n                        <columns>\n                            <column [title]=\"'#ID/' + lex.translate('Tipo de Atividade') + '\\nDescrição'\" [template]=\"columnAtividadeDescricao\" [editTemplate]=\"editAtividadeDescricao\">\n                                <ng-template let-row=\"row\" #columnAtividadeDescricao>\n                                    <span class=\"text-nowrap d-block\">\n                                        <badge icon=\"bi bi-hash\" [label]=\"row.numero\" color=\"light\" [data]=\"row.numero\" [click]=\"atividadeService.onIdClick.bind(this)\"></badge>\n                                        <badge *ngIf=\"row.tipo_atividade\" [icon]=\"entityService.getIcon('TipoAtividade')\" [label]=\"row.tipo_atividade.nome\" color=\"light\"></badge>\n                                    </span>\n                                    <span class=\"micro-text fw-ligh atividade-descricao\">{{row.descricao}}</span>\n                                    <reaction [entity]=\"row\" origem=\"ATIVIDADE\"></reaction>\n                                </ng-template>\n                                <ng-template let-row=\"row\" #editAtividadeDescricao>\n                                    <input-search [label]=\"lex.translate('Tipo de atividade')\" [size]=\"12\" [emptyValue]=\"null\" controlName=\"tipo_atividade_id\" [control]=\"formAtividade!.controls.tipo_atividade_id\" [dao]=\"tipoAtividadeDao\" (select)=\"onTipoAtividadeSelect($event)\" [labelInfo]=\"lex.translate('Tipo de atividade') + ' utilizado para classificar a atividade'\" [required]=\"!auth.hasPermissionTo('MOD_ATV_TIPO_ATV_VAZIO') ? 'true' : undefined\"></input-search>\n                                    <input-textarea label=\"Descrição\" [size]=\"12\" [rows]=\"2\" controlName=\"descricao\" [control]=\"formAtividade!.controls.descricao\" required></input-textarea>\n                                </ng-template>\n                            </column>\n                            <column [title]=\"'Tempos'\" [width]=\"300\" [template]=\"columnTempos\" [editTemplate]=\"editTempos\">\n                                <ng-template let-row=\"row\" #columnTempos>\n                                    <div class=\"one-per-line\">\n                                        <badge *ngFor=\"let tempo of atividadeService.temposAtividade(row)\" [badge]=\"tempo\"></badge>\n                                    </div>\n                                </ng-template>\n                                <ng-template let-row=\"row\" #editTempos>\n                                    <input-datetime icon=\"bi bi-file-earmark-plus\" [label]=\"lex.translate('Data de distribuição')\" controlName=\"data_distribuicao\" [control]=\"formAtividade!.controls.data_distribuicao\" (change)=\"onDataDistribuicaoChange($event)\" labelInfo=\"Data de inclusão/distribuição/lançamento\"></input-datetime>\n                                    <input-datetime icon=\"bi bi-calendar-check\" [label]=\"lex.translate('Prazo de entrega')\" controlName=\"data_estipulada_entrega\" [control]=\"formAtividade!.controls.data_estipulada_entrega\" (change)=\"onDataEstipuladaEntregaChange($event)\" labelInfo=\"Data estipulada para entrega da atividade\"></input-datetime>\n                                    <separator title=\"Início e Conclusão\" collapse [collapsed]=\"true\">\n                                        <input-datetime icon=\"bi bi-play-circle\" label=\"Início\" controlName=\"data_inicio\" [control]=\"formAtividade!.controls.data_inicio\" labelInfo=\"Data de inicialização da atividade\"></input-datetime>\n                                        <input-datetime icon=\"bi bi-check-circle\" label=\"Conclusão\" controlName=\"data_entrega\" [control]=\"formAtividade!.controls.data_entrega\" labelInfo=\"Data da conclusão da atividade\"></input-datetime>\n                                    </separator>\n                                </ng-template>\n                            </column>\n                            <column [title]=\"'Progresso\\nEtiquetas/Checklist'\" [width]=\"200\" [template]=\"columnProgressoEtiquetasChecklist\" [editTemplate]=\"columnProgressoEtiquetasChecklist\" [columnEditTemplate]=\"columnProgressoEtiquetasChecklistEdit\" [edit]=\"onColumnProgressoEtiquetasChecklistEdit.bind(this)\" [save]=\"onColumnProgressoEtiquetasChecklistSave.bind(this)\">\n                                <ng-template let-row=\"row\" #columnProgressoEtiquetasChecklist>\n                                    <progress-bar [value]=\"row.progresso\" color=\"success\"></progress-bar>\n                                    <badge *ngFor=\"let etiqueta of row.etiquetas\" [lookup]=\"etiqueta\"></badge>\n                                    <separator *ngIf=\"row.checklist?.length\" small title=\"Checklist\"></separator>\n                                    <table *ngIf=\"row.checklist?.length\">\n                                        <tr *ngFor=\"let check of row.checklist\">\n                                            <td><i *ngIf=\"check.checked\" class=\"bi bi-check-circle\"></i></td>\n                                            <td class=\"micro-text fw-ligh\">{{check.texto}}</td>\n                                        </tr>\n                                    </table>\n                                </ng-template>\n                                <ng-template let-row=\"row\" #columnProgressoEtiquetasChecklistEdit>\n                                    <input-number [size]=\"12\" [decimals]=\"2\" label=\"Progresso\" sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso\" [control]=\"formEdit.controls.progresso\" labelInfo=\"Progresso de execução (% Concluído)\"></input-number>\n                                    <input-multiselect controlName=\"etiquetas\" [size]=\"12\" [control]=\"formEdit.controls.etiquetas\" [addItemHandle]=\"addItemHandleEtiquetas.bind(this)\">\n                                        <input-select [size]=\"12\" label=\"Etiqueta\" #etiqueta controlName=\"etiqueta\" nullable itemNull=\"- Selecione -\" detailsButton detailsButtonIcon=\"bi bi-tools\" (details)=\"onEtiquetaConfigClick()\" [control]=\"formEdit.controls.etiqueta\" [items]=\"etiquetas\"></input-select>\n                                    </input-multiselect>\n                                    <separator *ngIf=\"row.checklist?.length\" small title=\"Checklist\"></separator>\n                                    <table *ngIf=\"row.checklist?.length\">\n                                        <tr *ngFor=\"let check of checklist; let i = index\">\n                                            <td><input-switch [size]=\"12\" scale=\"small\" [source]=\"checklist\" [path]=\"i + '.checked'\"></input-switch></td>\n                                            <td class=\"micro-text fw-ligh\">{{check.texto}}</td>\n                                        </tr>\n                                    </table>\n                                </ng-template>\n                            </column>\n                            <column [title]=\"'nº Processo/Status\\nComentários'\" [width]=\"400\" [template]=\"columnNumero\" [editTemplate]=\"columnNumero\">\n                                <ng-template let-row=\"row\" #columnNumero>\n                                    <documentos-badge [documento]=\"row.documento_requisicao\"></documentos-badge>\n                                    <span class=\"d-block\">\n                                        <badge *ngFor=\"let status of atividadeService.getStatus(row, entity)\" [data]=\"status\" [color]=\"status.color\" [icon]=\"status.icon\" [label]=\"status.label\"></badge>\n                                    </span>\n                                    <comentarios-widget *ngIf=\"!gridAtividades.editing\" [entity]=\"row\" [selectable]=\"false\" origem=\"ATIVIDADE\" [grid]=\"gridAtividades\"></comentarios-widget>\n                                </ng-template>\n                            </column>\n                            <column type=\"options\" [metadata]=\"atividadeOptionsMetadata\" [dynamicOptions]=\"atividadeService.dynamicOptions.bind(this)\" [dynamicButtons]=\"atividadeService.dynamicButtons.bind(this)\"></column>\n                        </columns>\n                    </grid>\n                </ng-template>\n            </column>\n            <column title=\"Origem\" [template]=\"columnOrigem\" [width]=\"200\">\n                <ng-template let-row=\"row\" #columnOrigem>\n                    <badge [label]=\"row.badge.titulo\" [color]=\"row.badge.cor\"></badge>\n                </ng-template>\n            </column>\n            <column title=\"Entrega\" [template]=\"columnEntrega\">\n                <ng-template let-row=\"row\" #columnEntrega>\n                    {{row.badge.descricao || row.entrega.descricao}}\n                    <reaction [entity]=\"row.entrega\" origem=\"PLANO_TRABALHO_ENTREGA\"></reaction>\n                </ng-template>\n            </column>\n            <column title=\"% CHD Planejado\" [template]=\"columnForcaTrabalho\" [width]=\"100\" [titleHint]=\"'% Carga Horária Disponível Planejada'\">\n                <ng-template let-row=\"row\" #columnForcaTrabalho>\n                    <badge color=\"light\" [label]=\"row.entrega.forca_trabalho + '%'\"></badge>\n                </ng-template>\n            </column>\n            <column [title]=\"'Meta'\" [template]=\"columnMetaRealizado\" [width]=\"100\">\n                <ng-template let-row=\"row\" #columnMetaRealizado>\n                    <badge icon=\"bi bi-graph-up-arrow\" [textValue]=\"row.meta\" color=\"light\" hint=\"Meta\"></badge><br>\n                    <badge icon=\"bi bi-check-lg\" [textValue]=\"row.metaRealizado\" color=\"light\" hint=\"Realizado\"></badge>\n                </ng-template>\n            </column>\n            <column title=\"Progresso\" [template]=\"columnProgresso\" [width]=\"150\">\n                <ng-template let-row=\"row\" #columnProgresso>\n                    <progress-bar [value]=\"row.progresso_realizado\" color=\"success\"></progress-bar>\n                </ng-template>\n            </column>\n            <column [title]=\"'Objetivos/Processos'\" [template]=\"columnObjProc\" [editTemplate]=\"columnObjProc\" [width]=\"200\">\n                <ng-template let-row=\"row\" #columnObjProc>\n                    <separator [title]=\"lex.translate('Objetivos')\" *ngIf=\"row.objetivos?.length\" collapse [collapsed]=\"true\">\n                        <div *ngFor=\"let pObjetivo of row.objetivos\" class=\"objetivo d-flex align-items-center\">\n                            <button class=\"btn btn-sm btn-outline-info me-2\" (click)=\"showPlanejamento(pObjetivo.objetivo.planejamento_id)\"><i class=\"bi bi-eye\"></i></button>\n                            <small>{{pObjetivo.objetivo.nome}}</small>\n                        </div>\n                    </separator>\n                    <separator [title]=\"lex.translate('Processos')\" *ngIf=\"row.processos?.length\" collapse [collapsed]=\"true\">\n                        <div *ngFor=\"let pProcesso of row.processos\" class=\"objetivo d-flex align-items-center\">\n                            <button class=\"btn btn-sm btn-outline-info me-2\" (click)=\"showCadeiaValor(pProcesso.processo.cadeia_valor_id)\"><i class=\"bi bi-eye\"></i></button>\n                            <small>{{pProcesso.processo.nome}}</small>\n                        </div>\n                    </separator>\n                </ng-template>\n            </column>\n        </columns>\n    </grid>\n</separator>\n<separator collapse [collapsed]=\"false\" [title]=\"lex.translate('Ocorrências')\" [icon]=\"entityService.getIcon('PlanoTrabalhoConsolidacao')\">\n    <grid [items]=\"itemsOcorrencias\" [minHeight]=\"0\" #gridOcorrencia [form]=\"formOcorrencia\" \n        [hasDelete]=\"!disabled\" [hasAdd]=\"!disabled\" [hasEdit]=\"!disabled\"\n        [add]=\"addOcorrencia.bind(this)\" [load]=\"loadOcorrencia.bind(this)\" \n        [remove]=\"removeOcorrencia.bind(this)\" [save]=\"saveOcorrencia.bind(this)\" editable>\n        <columns>\n            <column title=\"Início\" [width]=\"300\" type=\"datetime\" field=\"data_inicio\"></column>\n            <column title=\"Fim\" [width]=\"300\" type=\"datetime\" field=\"data_fim\"></column>\n            <column title=\"Descrição\" type=\"textarea\" field=\"descricao\"></column>\n            <column type=\"options\" [dynamicButtons]=\"ocorrenciaDynamicButtons.bind(this)\"></column>\n        </columns>\n    </grid>\n</separator>\n<separator collapse [collapsed]=\"false\" [title]=\"lex.translate('Afastamentos')\" [icon]=\"entityService.getIcon('Afastamento')\">\n    <grid [items]=\"itemsAfastamentos\" [minHeight]=\"0\" #gridAfastamento [add]=\"addAfastamento.bind(this)\" [hasEdit]=\"false\" [hasDelete]=\"false\" [hasAdd]=\"!disabled\" editable>\n        <columns>\n            <column title=\"Início\" [width]=\"300\" type=\"datetime\" field=\"data_inicio\"></column>\n            <column title=\"Fim\" [width]=\"300\" type=\"datetime\" field=\"data_fim\"></column>\n            <column title=\"Motivo/Observação\" [template]=\"columnMotivoObservacao\">\n                <ng-template let-row=\"row\" #columnMotivoObservacao>\n                    <badge [color]=\"row.tipo_motivo_afastamento.cor\" [icon]=\"row.tipo_motivo_afastamento.icone\" [label]=\"row.tipo_motivo_afastamento.nome\"></badge>\n                    {{row.observacao}}\n                </ng-template>\n            </column>\n            <column type=\"options\" [dynamicButtons]=\"afastamentoDynamicButtons.bind(this)\"></column>\n        </columns>\n    </grid>\n</separator>\n<separator collapse [collapsed]=\"false\" [title]=\"lex.translate('Comparecimentos')\" [icon]=\"entityService.getIcon('Comparecimento')\">\n    <grid [items]=\"itemsComparecimentos\" [minHeight]=\"0\" #gridComparecimento [form]=\"formComparecimento\" \n        [hasDelete]=\"!disabled\" [hasAdd]=\"!disabled\" [hasEdit]=\"!disabled\"\n        [add]=\"addComparecimento.bind(this)\" [load]=\"loadComparecimento.bind(this)\" \n        [remove]=\"removeComparecimento.bind(this)\" [save]=\"saveComparecimento.bind(this)\" editable>\n        <columns>\n            <column title=\"Data\" [width]=\"300\" type=\"date\" field=\"data_comparecimento\"></column>\n            <column title=\"Unidade\" [template]=\"columnUnidade\" [editTemplate]=\"editUnidade\">\n                <ng-template let-row=\"row\" #columnUnidade>\n                    <badge [icon]=\"entityService.getIcon('Unidade')\" [label]=\"row.unidade.sigla\" [textValue]=\"row.unidade.nome\" color=\"success\"></badge>\n                </ng-template>\n                <ng-template let-row=\"row\" #editUnidade>\n                    <input-search label icon [size]=\"6\" #unidade controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\n                </ng-template>\n            </column>\n            <column title=\"Detalhamento\" type=\"text\" field=\"detalhamento\"></column>\n            <column type=\"options\" [dynamicButtons]=\"comparecimentoDynamicButtons.bind(this)\"></column>\n        </columns>\n    </grid>\n</separator>\n\n\n\n\n\n\n\n","import { ChangeDetectorRef, Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { ConsolidacaoDados, PlanoTrabalhoConsolidacaoDaoService } from 'src/app/dao/plano-trabalho-consolidacao-dao.service';\nimport { PlanoTrabalhoConsolidacao, PlanoTrabalhoConsolidacaoStatus } from 'src/app/models/plano-trabalho-consolidacao.model';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\nimport { PlanoTrabalhoService } from '../plano-trabalho.service';\nimport { PlanoTrabalhoConsolidacaoFormComponent } from '../plano-trabalho-consolidacao-form/plano-trabalho-consolidacao-form.component';\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\nimport { Avaliacao } from 'src/app/models/avaliacao.model';\nimport { Programa } from 'src/app/models/programa.model';\nimport { AvaliacaoDaoService } from 'src/app/dao/avaliacao-dao.service';\n\n@Component({\n  selector: 'plano-trabalho-consolidacao-list',\n  templateUrl: './plano-trabalho-consolidacao-list.component.html',\n  styleUrls: ['./plano-trabalho-consolidacao-list.component.scss']\n})\nexport class PlanoTrabalhoConsolidacaoListComponent extends PageFrameBase {\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  @Input() set entity(value: PlanoTrabalho | undefined) { super.entity = value; } get entity(): PlanoTrabalho | undefined { return super.entity; }\n\n  public get items(): PlanoTrabalhoConsolidacao[] {\n    return this.entity?.consolidacoes || [];\n  }\n\n  public dao?: PlanoTrabalhoConsolidacaoDaoService;\n  public avaliacaoDao: AvaliacaoDaoService;\n  public planoTrabalhoDao?: PlanoTrabalhoDaoService;\n  public planoTrabalhoService: PlanoTrabalhoService;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    /* Inicializações */\n    this.dao = injector.get<PlanoTrabalhoConsolidacaoDaoService>(PlanoTrabalhoConsolidacaoDaoService);\n    this.avaliacaoDao = injector.get<AvaliacaoDaoService>(AvaliacaoDaoService);\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\n    this.title = this.lex.translate(\"Consolidações\");\n    this.code = \"MOD_PTR_CSLD\";\n    this.modalWidth = 1200;\n    this.form = this.fh.FormBuilder({\n      'data_inicio': {default: new Date()},\n      'data_fim': {default: new Date()}\n    }, this.cdRef, this.validate);\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    (async () => {\n      if (this.urlParams?.has(\"usuarioId\") && this.urlParams?.has(\"planoTrabalhoId\")) {\n        let dados = await this.planoTrabalhoDao!.getByUsuario(this.urlParams!.get(\"usuarioId\")!, true, this.urlParams!.get(\"planoTrabalhoId\")!);\n        if (dados.planos.length == 1) this.entity = dados.planos[0];\n      }\n      let agora = (new Date()).getTime();\n      this.items.forEach(v => {\n        if(!v.plano_trabalho) v.plano_trabalho = this.entity;\n        if(this.util.asTimestamp(v.data_inicio) <= agora && agora <= this.util.asTimestamp(v.data_fim)) this.grid!.expand(v.id);\n      });\n    })();\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    // TODO: Validar data\n    return result;\n  }\n\n  public async addConsolidacao() {\n    return new PlanoTrabalhoConsolidacao({\n      id: this.dao!.generateUuid(),\n      plano_trabalho_id: this.entity!.id\n    });\n  }\n\n  public async loadConsolidacao(form: FormGroup, row: any) {\n    this.form!.patchValue({\n      data_inicio: row.data_inicio,\n      data_fim: row.data_fim\n    });    \n    this.cdRef.detectChanges();\n  }\n\n  public async removeConsolidacao(row: any) {\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir o item ?\");\n    if (confirm) {\n      try {\n        let consolidacao = row as PlanoTrabalhoConsolidacao;\n        await this.dao?.delete(consolidacao);\n        this.items.splice(this.items.findIndex(x => x.id == consolidacao.id), 1);\n        return true;\n      } catch {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  public async saveConsolidacao(form: FormGroup, row: any) {\n    let result = undefined;\n    this.form!.markAllAsTouched();\n    if (this.form!.valid) {\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\n      row.data_inicio = form.controls.data_inicio.value;\n      row.data_fim = form.controls.data_fim.value;\n      result = await this.dao?.save(row);\n    }\n    return result;\n  }\n\n  public refreshConsolidacao(consolidacao: PlanoTrabalhoConsolidacao, dados?: ConsolidacaoDados) {\n    if(dados && consolidacao._metadata?.planoTrabalhoConsolidacaoFormComponent) {\n      let consolidacaoForm = consolidacao._metadata?.planoTrabalhoConsolidacaoFormComponent as PlanoTrabalhoConsolidacaoFormComponent;\n      consolidacaoForm.loadConsolidacao(dados);\n    } else {\n      this.grid!.refreshExpanded(consolidacao.id);\n    }\n    this.grid!.refreshRows();\n  }\n\n  public async concluir(consolidacao: PlanoTrabalhoConsolidacao) {\n    this.submitting = true;\n    try {\n      let response = await this.dao!.concluir(consolidacao.id);\n      consolidacao.status = response.status as PlanoTrabalhoConsolidacaoStatus;\n      this.refreshConsolidacao(consolidacao, response);\n    } catch (error: any) {\n      this.error(error.message || error);\n    } finally {\n      this.submitting = false;\n    }\n  }\n\n  public async cancelarConclusao(consolidacao: PlanoTrabalhoConsolidacao) {\n    this.submitting = true;\n    try {\n      let response = await this.dao!.cancelarConclusao(consolidacao.id);\n      consolidacao.status = response.status as PlanoTrabalhoConsolidacaoStatus;\n      this.refreshConsolidacao(consolidacao, response);\n    } catch (error: any) {\n      this.error(error.message || error);\n    } finally {\n      this.submitting = false;\n    }\n  }\n\n  public anterior(consolidacao: PlanoTrabalhoConsolidacao): PlanoTrabalhoConsolidacao | undefined {\n    return this.entity!.consolidacoes.reduce((a: PlanoTrabalhoConsolidacao | undefined, v: PlanoTrabalhoConsolidacao) => this.util.asTimestamp(v.data_inicio) < this.util.asTimestamp(consolidacao.data_inicio) && (!a || this.util.asTimestamp(a.data_inicio) < this.util.asTimestamp(v.data_inicio)) ? v : a, undefined);\n  }\n\n  public proximo(consolidacao: PlanoTrabalhoConsolidacao): PlanoTrabalhoConsolidacao | undefined {\n    return this.entity!.consolidacoes.reduce((a: PlanoTrabalhoConsolidacao | undefined, v: PlanoTrabalhoConsolidacao) => this.util.asTimestamp(v.data_fim) > this.util.asTimestamp(consolidacao.data_fim) && (!a || this.util.asTimestamp(a.data_fim) > this.util.asTimestamp(v.data_fim)) ? v : a, undefined);\n  }\n\n  public isDisabled(row?: PlanoTrabalhoConsolidacao): boolean {\n    return (row && row.status != \"INCLUIDO\") || this.entity?.status != \"ATIVO\";\n  }\n\n  public dynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    let consolidacao: PlanoTrabalhoConsolidacao = row as PlanoTrabalhoConsolidacao;\n    const usuarioId = consolidacao!.plano_trabalho?.usuario_id;\n    const unidadeId = this.entity!.unidade_id;\n    const anterior = this.anterior(row as PlanoTrabalhoConsolidacao);\n    const proximo = this.proximo(row as PlanoTrabalhoConsolidacao);\n    const isAvaliador = this.auth.hasPermissionTo(\"MOD_PTR_CSLD_AVAL\") && (this.auth.isGestorUnidade(unidadeId) || this.auth.isIntegrante('AVALIADOR_PLANO_TRABALHO', unidadeId));\n    const isUsuarioDoPlano = this.auth.usuario!.id == usuarioId;\n    const BOTAO_CONCLUIR = { hint: \"Concluir\", icon: \"bi bi-check-circle\", color: \"btn-outline-success\", onClick: this.concluir.bind(this) };\n    const BOTAO_CANCELAR_CONCLUSAO = { hint: \"Cancelar conclusão\", icon: \"bi bi-backspace\", color: \"btn-outline-danger\", onClick: this.cancelarConclusao.bind(this) };\n    const BOTAO_AVALIAR = { hint: \"Avaliar\", icon: \"bi bi-star\", color: \"btn-outline-warning\", onClick: (row: PlanoTrabalhoConsolidacao) => this.planoTrabalhoService.avaliar(row, this.entity!.programa!, this.refreshConsolidacao.bind(this)) };\n    const BOTAO_REAVALIAR = { hint: \"Reavaliar\", icon: \"bi bi-star-half\", color: \"btn-outline-warning\", onClick: (row: PlanoTrabalhoConsolidacao) => this.planoTrabalhoService.avaliar(row, this.entity!.programa!, this.refreshConsolidacao.bind(this)) };\n    const BOTAO_FAZER_RECURSO = { hint: \"Fazer recurso\", id: \"RECORRIDO\", icon: \"bi bi-journal-medical\", color: \"btn-outline-warning\", onClick: (row: PlanoTrabalhoConsolidacao) => this.planoTrabalhoService.fazerRecurso(row, this.entity!.programa!, this.refreshConsolidacao.bind(this)) };\n    const BOTAO_CANCELAR_AVALIACAO = { hint: \"Cancelar avaliação\", id: \"INCLUIDO\", icon: \"bi bi-backspace\", color: \"btn-outline-danger\", onClick: (row: PlanoTrabalhoConsolidacao) => this.planoTrabalhoService.cancelarAvaliacao(row, this, this.refreshConsolidacao.bind(this)) };\n    /* (RN_CSLD_11) Não pode concluir a consolidação antes que a anterior não esteja concluida, e não pode retornar status da consolidação se a posterior estiver a frente (em status); */\n    const canConcluir = !anterior || [\"CONCLUIDO\", \"AVALIADO\"].includes(anterior!.status);\n    const canCancelarConclusao = !proximo || [\"INCLUIDO\"].includes(proximo!.status);\n    const canAvaliar = !anterior || [\"AVALIADO\"].includes(anterior!.status);\n    const canCancelarAvaliacao = !proximo || [\"INCLUIDO\", \"CONCLUIDO\"].includes(proximo!.status);\n    if(!this.isDisabled()) {\n      if(consolidacao.status == \"INCLUIDO\" && canConcluir && (isUsuarioDoPlano || this.auth.hasPermissionTo(\"MOD_PTR_CSLD_CONCL\"))) {\n        result.push(BOTAO_CONCLUIR);\n      }\n      if(consolidacao.status == \"CONCLUIDO\" && canCancelarConclusao && this.planoTrabalhoService.diasParaConcluirConsolidacao(row, this.entity!.programa) >= 0 && (isUsuarioDoPlano || this.auth.hasPermissionTo(\"MOD_PTR_CSLD_DES_CONCL\"))) {\n        result.push(BOTAO_CANCELAR_CONCLUSAO);\n      }\n      if(consolidacao.status == \"CONCLUIDO\" && canAvaliar && isAvaliador) {\n        result.push(BOTAO_AVALIAR);\n      }\n      if(consolidacao.status == \"AVALIADO\" && consolidacao!.avaliacao) {\n        /* (RN_AVL_2) [PT] O usuário do plano de trabalho que possuir o acesso MOD_PTR_CSLD_REC_AVAL poderá recorrer da nota atribuida dentro do limites estabelecido pelo programa; */\n        if(isUsuarioDoPlano && this.auth.hasPermissionTo('MOD_PTR_CSLD_REC_AVAL') && consolidacao!.avaliacao?.data_avaliacao && \n          (!this.entity!.programa!.dias_tolerancia_recurso_avaliacao || \n          (this.util.daystamp(consolidacao!.avaliacao!.data_avaliacao) + this.entity!.programa!.dias_tolerancia_recurso_avaliacao > this.util.daystamp(this.auth.hora)))) {\n          result.push(BOTAO_FAZER_RECURSO);\n        }\n        /* (RN_AVL_3) [PT] Após o recurso será realizado nova avaliação, podendo essa ser novamente recorrida dentro do mesmo prazo estabelecido no programa; */\n        /* (RN_AVL_6) [PT] Qualquer usuário capaz de avaliar tambem terá a capacidade de cancelar a avaliação; */\n        if(canAvaliar && isAvaliador) {\n          result.push(BOTAO_REAVALIAR);\n          if(canCancelarAvaliacao) result.push(BOTAO_CANCELAR_AVALIACAO);\n        }\n      }\n    }\n    return result;\n  }\n\n}\n","<grid [items]=\"items\" #grid [form]=\"form!\" [hasDelete]=\"true\" [minHeight]=\"0\"\n    [add]=\"addConsolidacao.bind(this)\" [hasAdd]=\"!isDisabled()\" [hasEdit]=\"false\" [hasDelete]=\"false\" editable>\n    <h5 class=\"my-2\">{{lex.translate(\"Consolidações\")}} <i class=\"bi bi-chevron-compact-down\"></i></h5>\n\n    <columns>\n        <column type=\"expand\" [icon]=\"entityService.getIcon('PlanoTrabalhoConsolidacao')\" [align]=\"'center'\" [hint]=\"lex.translate('Consolidação')\" [template]=\"columnConsolidacao\" [expandTemplate]=\"columnExpandedConsolidacao\">\n            <ng-template let-row=\"row\" #columnConsolidacao>\n                <!--span *ngIf=\"row?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-boxes\"></i> {{row?.length}}</span//-->\n            </ng-template>\n            <ng-template let-row=\"row\" #columnExpandedConsolidacao>\n                <plano-trabalho-consolidacao-form #consolidacao [disabled]=\"isDisabled(row)\" [entity]=\"row\" [planoTrabalho]=\"entity\" [cdRef]=\"cdRef\"></plano-trabalho-consolidacao-form>\n            </ng-template>\n        </column>\n        <column title=\"Data início\" [template]=\"columnDataInicio\">\n            <ng-template let-row=\"row\" #columnDataInicio>\n                {{util.getDateFormatted(row.data_inicio)}}\n            </ng-template>\n        </column>\n        <column title=\"Data fim\" [template]=\"columnDataFim\">\n            <ng-template let-row=\"row\" #columnDataFim>\n                {{util.getDateFormatted(row.data_fim)}}\n            </ng-template>\n        </column>\n        <column title=\"Estatísticas/Avaliações\" [template]=\"columnEstatisticas\" [width]=\"300\">\n            <ng-template let-row=\"row\" #columnEstatisticas>\n                <avaliar-nota-badge *ngIf=\"row.avaliacao\" [align]=\"'left'\" [tipoAvaliacao]=\"row.avaliacao.tipo_avaliacao || this.entity!.programa!.tipo_avaliacao_plano_trabalho\" [nota]=\"row.avaliacao.nota\"></avaliar-nota-badge>\n                <separator *ngIf=\"row.avaliacao?.recurso?.length\" title=\"Recurso da avaliação\" collapse [collapsed]=\"false\">\n                    <small>{{row.avaliacao.recurso}}</small>\n                </separator>\n            </ng-template>\n        </column>\n        <column title=\"Status\" [template]=\"columnStatus\">\n            <ng-template let-row=\"row\" #columnStatus>\n                <div class=\"one-per-line\">\n                    <badge [color]=\"lookup.getColor(lookup.CONSOLIDACAO_STATUS, row.status)\" [icon]=\"lookup.getIcon(lookup.CONSOLIDACAO_STATUS, row.status)\" [label]=\"lookup.getValue(lookup.CONSOLIDACAO_STATUS, row.status)\"></badge>\n                    <badge *ngIf=\"row.avaliacao?.recurso?.length\" icon=\"bi bi-journal-medical\" color=\"warning\" label=\"Recorrido\"></badge>\n                </div>\n            </ng-template>\n        </column>\n        <column type=\"options\" [dynamicButtons]=\"dynamicButtons.bind(this)\"></column>\n    </columns>\n</grid>","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { TabsComponent } from 'src/app/components/tabs/tabs.component';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { Unidade } from 'src/app/models/unidade.model';\nimport { Usuario } from 'src/app/models/usuario.model';\nimport { PageBase } from 'src/app/modules/base/page-base';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\n\n@Component({\n  selector: 'app-plano-trabalho-consolidacao',\n  templateUrl: './plano-trabalho-consolidacao.component.html',\n  styleUrls: ['./plano-trabalho-consolidacao.component.scss']\n})\nexport class PlanoTrabalhoConsolidacaoComponent extends PageFrameBase {\n  @ViewChild(TabsComponent, { static: false }) public tabs?: TabsComponent;\n\n  public usuarios: Usuario[] = [];\n  public unidade?: Unidade;\n  public unidadeDao: UnidadeDaoService;\n  public loadingUnidade: boolean = false;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    this.form = this.fh.FormBuilder({\n      arquivados: { default: false }\n    });\n  }\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    this.tabs!.active = this.queryParams?.tab || \"USUARIO\";\n    this.tabs!.title = this.lex.translate('Consolidações');\n    (async () => {\n      await this.loadData(this.entity!, this.form);\n    })();\n  }\n\n  public async loadData(entity: IIndexable, form?: FormGroup) {\n    this.unidade = this.auth.unidadeGestor();\n    if(this.unidade) {\n      this.usuarios = [];\n      this.loadingUnidade = true;\n      this.cdRef.detectChanges()\n      try {\n        this.usuarios = await this.unidadeDao.lotados(this.unidade.id);\n      } finally {\n        this.loadingUnidade = false;\n        this.cdRef.detectChanges()\n      }\n    }\n  }\n\n}\n","<tabs right #tabs [title]=\"isModal ? '' : title\">\n    <tab key=\"UNIDADE\" *ngIf=\"unidade\" [icon]=\"entityService.getIcon('Unidade')\" [label]=\"lex.translate('Unidade')\" [template]=\"tabUnidade\">\n        <ng-template #tabUnidade>\n            <div class=\"p-3 mb-3 bg-body-secondary\">\n                <h5>{{lex.translate(\"Unidade\")}}: {{unidade.sigla}} - {{unidade.nome}}</h5>\n                <h4>{{lex.translate(\"Participantes\")}} <i class=\"bi bi-chevron-compact-down\"></i></h4>\n            </div>\n            <div *ngIf=\"loading\" class=\"d-flex justify-content-center my-2\">\n                <div class=\"spinner-border\" role=\"status\">\n                    <span class=\"visually-hidden\"></span>\n                </div>\n            </div>\n            <collapse-card *ngFor=\"let usuario of usuarios\" [data]=\"usuario\" [titleTemplate]=\"usuarioCardTitle\" [template]=\"usuarioCard\">\n                <ng-template let-data=\"data\" #usuarioCardTitle>\n                    <div class=\"d-flex\">\n                        <div class=\"ms-3\">\n                            <profile-picture [url]=\"data.url_foto\" [size]=\"40\" [hint]=\"data.nome\"></profile-picture>\n                        </div>\n                        <div class=\"flex-fill ms-3\">\n                            <strong>{{data.nome || \"\"}}</strong><br>\n                            <small>{{data.apelido || \"\"}}</small>\n                        </div>\n                    </div>\n                </ng-template>\n                <ng-template let-data=\"data\" #usuarioCard>\n                    <plano-trabalho-list-accordeon [usuarioId]=\"data.id\"></plano-trabalho-list-accordeon>\n                </ng-template>\n            </collapse-card>\n        </ng-template>\n    </tab>\n    <tab key=\"USUARIO\" [icon]=\"entityService.getIcon('Usuario')\" [label]=\"lex.translate('Usuário')\" [template]=\"tabUsuario\">\n        <ng-template #tabUsuario>\n            <div class=\"d-flex justify-content-between\">\n                <h5 class=\"mt-2\">{{lex.translate(\"Planos de Trabalho\")}} <i class=\"bi bi-chevron-compact-down\"></i></h5>\n                <separator [control]=\"form!.controls.arquivados\" [title]=\"'Mostrar ' + lex.translate('Planos de trabalho') + ' arquivados?'\"></separator>\n            </div>            \n            <plano-trabalho-list-accordeon [usuarioId]=\"auth.usuario!.id\" [arquivados]=\"form!.controls.arquivados.value\"></plano-trabalho-list-accordeon>\n        </ng-template>\n    </tab>\n</tabs>\n","import { Component, Injector, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { UnitWorkload } from 'src/app/components/input/input-workload/input-workload.component';\nimport { DocumentoDaoService } from 'src/app/dao/documento-dao-service';\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\nimport { ProgramaDaoService } from 'src/app/dao/programa-dao.service';\nimport { TipoDocumentoDaoService } from 'src/app/dao/tipo-documento-dao.service';\nimport { TipoModalidadeDaoService } from 'src/app/dao/tipo-modalidade-dao.service';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\nimport { SeiKeys } from 'src/app/listeners/procedimento-trabalhar/procedimento-trabalhar.component';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { TipoDocumento } from 'src/app/models/tipo-documento.model';\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\nimport { NavigateResult } from 'src/app/services/navigate.service';\n\n@Component({\n  selector: 'plano-trabalho-form-termo',\n  templateUrl: './plano-trabalho-form-termo.component.html',\n  styleUrls: ['./plano-trabalho-form-termo.component.scss']\n})\n\nexport class PlanoTrabalhoFormTermoComponent extends PageFormBase<PlanoTrabalho, PlanoTrabalhoDaoService> {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\n  @ViewChild('programa', { static: false }) public programa?: InputSearchComponent;\n  @ViewChild('tipoDocumento', { static: false }) public tipoDocumento?: InputSearchComponent;\n  @ViewChild('tipoModalidade', { static: false }) public tipoModalidade?: InputSearchComponent;\n\n  public unidadeDao: UnidadeDaoService;\n  public programaDao: ProgramaDaoService;\n  public usuarioDao: UsuarioDaoService;\n  public documentoDao: DocumentoDaoService;\n  public tipoDocumentoDao: TipoDocumentoDaoService;\n  public allPages: ListenerAllPagesService;\n  public processo?: SeiKeys;\n  public tipoModalidadeDao: TipoModalidadeDaoService;\n\n  constructor(public injector: Injector) {\n    super(injector, PlanoTrabalho, PlanoTrabalhoDaoService);\n    this.join = [\"unidade\", \"usuario\", \"programa.template_tcr\", \"tipo_modalidade\", \"documento\", \"documentos\", \"atividades.atividade\"];\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    this.programaDao = injector.get<ProgramaDaoService>(ProgramaDaoService);\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\n    this.tipoDocumentoDao = injector.get<TipoDocumentoDaoService>(TipoDocumentoDaoService);\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\n    this.tipoModalidadeDao = injector.get<TipoModalidadeDaoService>(TipoModalidadeDaoService);\n    this.documentoDao = injector.get<DocumentoDaoService>(DocumentoDaoService);\n\n    this.form = this.fh.FormBuilder({\n      carga_horaria: {default: \"\"},\n      tempo_total: {default: \"\"},\n      tempo_proporcional: {default: \"\"},\n      data_inicio: {default: new Date()},\n      data_fim: {default: new Date()},\n      programa_id: {default: \"\"},\n      usuario_id: {default: \"\"},\n      unidade_id: {default: \"\"},\n      documento_id: {default: \"\"},\n      documentos: {default: []},\n      tipo_documento_id: {default: \"\"},\n      numero_processo: {default: \"\"},\n      vinculadas: {default: true},\n      tipo_modalidade_id: {default: \"\"},\n      forma_contagem_carga_horaria: {default: \"DIA\"}\n    }, this.cdRef, this.validate);\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if(controlName == \"tipo_documento_id\" && !control?.value?.length && this.form?.controls?.numero_processo?.value?.length) {\n      result = \"Obrigatório\";\n    }\n    return result;\n  }\n\n  public formValidation = (form?: FormGroup) => {\n    if(!this.tipoDocumento?.selectedEntity && form?.controls.tipo_documento_id.value?.length) {\n      return \"Aguarde o carregamento do tipo de documento\";\n    }\n    return undefined;\n  } \n\n  public onVinculadasChange(event: Event) {\n    this.cdRef.detectChanges();\n  }\n\n  public async loadData(entity: PlanoTrabalho, form: FormGroup) {\n    let formValue = Object.assign({}, form.value);\n    formValue = this.util.fillForm(formValue, entity);\n    await Promise.all ([\n      this.unidade!.loadSearch(entity.unidade || entity.unidade_id),\n      this.usuario!.loadSearch(entity.usuario || entity.usuario_id),\n      this.programa!.loadSearch(entity.programa || entity.programa_id),\n      this.tipoModalidade!.loadSearch(entity.tipo_modalidade || entity.tipo_modalidade_id)\n    ]);\n    if(this.processo) {\n      formValue.id_processo = this.processo.id_processo;\n      formValue.numero_processo = this.processo.numero_processo;\n    }\n    formValue.data_inicio = this.auth.hora;\n    form.patchValue(formValue);\n  }\n\n  public async initializeData(form: FormGroup) {\n    this.entity = (await this.dao!.getById(this.metadata.plano_trabalho.id, this.join))!;\n    this.processo = this.metadata?.processo;\n    await this.loadData(this.entity!, form);\n  }\n\n  public saveData(form: IIndexable): Promise<NavigateResult | undefined> {\n    return new Promise<NavigateResult | undefined>((resolve, reject) => {\n      //if(this.processo) {\n      resolve(new NavigateResult(Object.assign(this.form!.value, {\n        /* TODO Gerar documento do TCR\n        termo: this.termo!.conteudo,\n        atividades_termo_adesao: this.termo!.atividades.map((x: { nome: string; }) => this.util.removeAcentos(x.nome.toLowerCase())),*/\n        codigo_tipo_documento: (this.tipoDocumento?.selectedEntity as TipoDocumento)?.codigo\n      })));\n      /*} else {\n        const documento = Object.assign(new Documento(), {\n          especie: \"TERMO_ADESAO\",\n          conteudo: this.termo!.conteudo,\n          plano_id: this.entity!.id,\n          status: \"GERADO\"\n        });\n        this.documentoDao.save(documento).then(doc => resolve(undefined)).catch(reject);\n      }*/\n    });\n  }\n\n  public get formaContagemCargaHoraria(): UnitWorkload {\n    const forma = this.form?.controls.forma_contagem_carga_horaria?.value || \"DIA\";\n    return forma == \"DIA\" ? \"day\" : forma == \"SEMANA\" ? \"week\" : \"mouth\";\n  }\n\n  public titleEdit = (entity: PlanoTrabalho): string => {\n    return \"Editando \" + this.lex.translate(\"TCR\") + ' ' + this.lex.translate(\"do Plano de Trabalho\") + ': ' + (entity?.usuario?.nome || \"\");\n  }\n\n}\n\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"programa_id\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\"><!--</editable-form>(submit)=\"onSaveData()\" (cancel)=\"onCancel()\">-->\n    <separator [title]=\"lex.translate('Plano de trabalho')\" collapse [collapsed]=\"false\">\n        <div class=\"row\">\n            <input-search #programa [size]=\"6\" disabled controlName=\"programa_id\" [dao]=\"programaDao\"></input-search>\n            <input-search #usuario [size]=\"6\" disabled  controlName=\"usuario_id\" [dao]=\"usuarioDao\"></input-search>\n        </div>\n        <div class=\"row\">\n            <input-search #unidade [size]=\"5\" disabled controlName=\"unidade_id\" [dao]=\"unidadeDao\" ></input-search>\n            <input-search #tipoModalidade disabled [size]=\"3\" controlName=\"tipo_modalidade_id\" [dao]=\"tipoModalidadeDao\"></input-search>\n            <input-text numbers disabled [size]=\"2\" label=\"% prod.\" icon=\"bi bi-hourglass-split\" controlName=\"ganho_produtividade\" [control]=\"form!.controls.ganho_produtividade\" [labelInfo]=\"'Percentual de ganho de produtividade (Será descontado do ' + lex.translate('tempo pactuado')+')'\" [attr.maxlength]=250></input-text>\n            <input-display [size]=\"2\" label=\"H. Parciais\" icon=\"bi bi-clock\" controlName=\"tempo_proporcional\" [control]=\"form!.controls.tempo_proporcional\" labelInfo=\"Total de horas menos os afastamentos.\"></input-display>\n        </div>\n        <div class=\"row\">\n            <input-datetime [size]=\"3\" disabled label=\"Início\" icon=\"bi bi-calendar-date\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" labelInfo=\"Início da Vigência do Programa\"></input-datetime>\n            <input-datetime [size]=\"3\" disabled label=\"Final\" icon=\"bi bi-calendar-date\" controlName=\"data_fim\" [control]=\"form!.controls.data_fim\" labelInfo=\"Final da Vigência do Programa\"></input-datetime>\n            <input-workload [size]=\"3\" disabled [unit]=\"formaContagemCargaHoraria\" label=\"C. Horária\" icon=\"bi bi-hourglass-split\" controlName=\"carga_horaria\" [control]=\"form!.controls.carga_horaria\" [labelInfo]=\"'Carga horária' + lex.translate('do usuário')\"></input-workload>\n            <input-display [size]=\"3\" label=\"H. Totais\" icon=\"bi bi-clock\" controlName=\"tempo_total\" [control]=\"form!.controls.tempo_total\" labelInfo=\"Horas úteis de trabalho no período de vigência considerando a carga horária, feriados e fins de semana\"></input-display>\n        </div>\n    </separator>\n    <div class=\"row\">\n        <input-datetime [size]=\"3\" disabled label=\"Data e hora\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" labelInfo=\"Data de cadastro do termo\"></input-datetime>\n        <input-text [label]=\"'Número ' + lex.translate('Processo')\" [size]=\"3\" controlName=\"numero_processo\" [control]=\"form!.controls.numero_processo\" disabled labelInfo=\"Número do processo, com a formatação de origem\" [attr.maxlength]=250></input-text>\n        <input-search [size]=\"4\" #tipoDocumento [disabled]=\"!form!.controls.numero_processo.value?.length ? 'true' : undefined\" controlName=\"tipo_documento_id\" [dao]=\"tipoDocumentoDao\" required></input-search>\n        <input-switch label=\"Vinculadas\" [disabled]=\"entity?.atividades?.length ? 'true' : undefined\" [size]=\"2\" controlName=\"vinculadas\" [control]=\"form!.controls.vinculadas\" (change)=\"onVinculadasChange($event)\" labelInfo=\"Se inclui as atividades das unidades vinculadas a unidade do plano\"></input-switch>\n    </div>\n    <!--separator title=\"Pré-visualização do termo de adesão\" collapse [collapsed]=\"true\">\n        <plano-termo-adesao #termo [plano]=\"entity\" [vinculadas]=\"!!form?.controls?.vinculadas?.value\"></plano-termo-adesao>\n    </separator/-->\n</editable-form>\n","import { Component, Injector, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { SelectItem } from 'src/app/components/input/input-base';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\nimport { UnitWorkload } from 'src/app/components/input/input-workload/input-workload.component';\nimport { TabsComponent } from 'src/app/components/tabs/tabs.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { DocumentoDaoService } from 'src/app/dao/documento-dao-service';\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\nimport { ProgramaDaoService } from 'src/app/dao/programa-dao.service';\nimport { TipoModalidadeDaoService } from 'src/app/dao/tipo-modalidade-dao.service';\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { Documento } from 'src/app/models/documento.model';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { Programa } from 'src/app/models/programa.model';\nimport { TipoModalidade } from 'src/app/models/tipo-modalidade.model';\nimport { Unidade } from 'src/app/models/unidade.model';\nimport { Usuario } from 'src/app/models/usuario.model';\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\nimport { DocumentoService } from 'src/app/modules/uteis/documentos/documento.service';\nimport { DocumentosComponent } from 'src/app/modules/uteis/documentos/documentos.component';\nimport { CalendarService, Efemerides } from 'src/app/services/calendar.service';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { PlanoTrabalhoService } from '../plano-trabalho.service';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { TemplateDataset, TemplateService } from 'src/app/modules/uteis/templates/template.service';\nimport { Template } from 'src/app/models/template.model';\nimport { UtilService } from 'src/app/services/util.service';\n\n@Component({\n  selector: 'plano-trabalho-form',\n  templateUrl: './plano-trabalho-form.component.html',\n  styleUrls: ['./plano-trabalho-form.component.scss']\n})\n\nexport class PlanoTrabalhoFormComponent extends PageFormBase<PlanoTrabalho, PlanoTrabalhoDaoService> {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @ViewChild('gridAtividades', { static: false }) public gridAtividades?: GridComponent;\n  @ViewChild('gridDocumentos', { static: false }) public gridDocumentos?: GridComponent;\n  @ViewChild('tabs', { static: false }) public tabs?: TabsComponent;\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\n  @ViewChild('programa', { static: false }) public programa?: InputSearchComponent;\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\n  @ViewChild('tipoModalidade', { static: false }) public tipoModalidade?: InputSearchComponent;\n  @ViewChild('planoEntrega', { static: false }) public planoEntrega?: InputSearchComponent;\n  @ViewChild('atividade', { static: false }) public atividade?: InputSearchComponent;\n  @ViewChild('entrega', { static: false }) public entrega?: InputSelectComponent;\n  @ViewChild('documentos', { static: false }) public documentos?: DocumentosComponent;\n\n  public programaDao: ProgramaDaoService;\n  public usuarioDao: UsuarioDaoService;\n  public unidadeDao: UnidadeDaoService;\n  public documentoDao: DocumentoDaoService;\n  public documentoService: DocumentoService;\n  public templateService: TemplateService;\n  public utilService: UtilService;\n  public allPages: ListenerAllPagesService;\n  public calendar: CalendarService;\n  public tipoModalidadeDao: TipoModalidadeDaoService;\n  public planoTrabalhoService: PlanoTrabalhoService;\n  public horasTotais?: Efemerides;\n  public horasParciais?: Efemerides;\n  public planoDataset: TemplateDataset[];\n  public joinPrograma: string[];\n  public entregas: LookupItem[] = [];\n  public planoTrabalho?: PlanoTrabalho;\n  public datasource: any;\n  public template?: Template;\n  public editingId?: string;\n  public gestoresUnidadeExecutora: string[] = [];\n\n  constructor(public injector: Injector) {\n    super(injector, PlanoTrabalho, PlanoTrabalhoDaoService);\n    this.join = [\n      \"unidade.entidade\", \n      \"entregas.entrega\", \n      \"entregas.plano_entrega_entrega:id,plano_entrega_id\", \n      \"usuario\",\n      \"programa.template_tcr\", \n      \"tipo_modalidade\", \n      \"documento\", \n      \"documentos.assinaturas.usuario:id,nome,apelido\", \n      \"entregas.plano_entrega_entrega.entrega\",\n      \"entregas.plano_entrega_entrega.plano_entrega.unidade:id,nome,sigla\",\n      'entregas.reacoes.usuario:id,nome,apelido'\n    ];\n    this.joinPrograma = [\"template_tcr\"];\n    this.programaDao = injector.get<ProgramaDaoService>(ProgramaDaoService);\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    this.documentoService = injector.get<DocumentoService>(DocumentoService);\n    this.templateService = injector.get<TemplateService>(TemplateService);\n    this.utilService = injector.get<UtilService>(UtilService);\n    this.calendar = injector.get<CalendarService>(CalendarService);\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\n    this.tipoModalidadeDao = injector.get<TipoModalidadeDaoService>(TipoModalidadeDaoService);\n    this.documentoDao = injector.get<DocumentoDaoService>(DocumentoDaoService);\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\n    this.modalWidth = 1300;\n    this.planoDataset = this.dao!.dataset();\n    this.form = this.fh.FormBuilder({\n      carga_horaria: { default: \"\" },\n      tempo_total: { default: \"\" },\n      tempo_proporcional: { default: \"\" },\n      data_inicio: { default: new Date() },\n      data_fim: { default: new Date() },\n      usuario_id: { default: \"\" },\n      unidade_id: { default: \"\" },\n      programa_id: { default: \"\" },\n      documento_id: { default: null },\n      documentos: { default: [] },\n      atividades: { default: [] },\n      entregas: { default: [] },\n      tipo_modalidade_id: { default: \"\" },\n      forma_contagem_carga_horaria: { default: \"DIA\" },\n      editar_texto_complementar_unidade: { default: false },\n      editar_texto_complementar_usuario: { default: false },\n      unidade_texto_complementar: { default: \"\" },\n      usuario_texto_complementar: { default: \"\" },\n      criterios_avaliacao: { default: [] },\n      criterio_avaliacao: { default: \"\" }\n    }, this.cdRef, this.validate);\n  }\n\n  public ngOnInit() {\n    super.ngOnInit();\n    const segment = (this.url ? this.url[this.url.length - 1]?.path : \"\") || \"\";\n    this.action = [\"termos\"].includes(segment) ? segment : this.action;\n    this.buscaGestoresUnidadeExecutora(this.entity?.unidade ?? null);\n  }\n\n  public atualizarTcr() {\n    this.entity = this.loadEntity();\n    let textoUsuario = this.form!.controls.usuario_texto_complementar.value;\n    let textoUnidade = this.form!.controls.unidade_texto_complementar.value;\n    let documento = this.planoTrabalhoService.atualizarTcr(this.planoTrabalho!, this.entity!, textoUsuario, textoUnidade);\n    this.form?.controls.documento_id.setValue(documento?.id);\n    this.form?.controls.documentos.setValue(this.entity!.documentos);\n    this.datasource = documento?.datasource || {};\n    this.template = this.entity.programa?.template_tcr;\n    this.editingId = [\"ADD\", \"EDIT\"].includes(documento?._status || \"\") ? documento!.id : undefined;\n    this.cdRef.detectChanges();\n  }\n\n  public get isTermos(): boolean {\n    return this.action == \"termos\";\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if (['unidade_id', 'programa_id', 'usuario_id', 'tipo_modalidade_id'].indexOf(controlName) >= 0 && !control.value?.length) {\n      result = \"Obrigatório\";\n    } else if (['carga_horaria'].indexOf(controlName) >= 0 && !control.value) {\n      result = \"Valor não pode ser zero.\";\n    } else if (['data_inicio', 'data_fim'].includes(controlName) && !this.util.isDataValid(control.value)) {\n      result = \"Inválido\";\n    } else if (controlName == 'data_fim' && this.util.isDataValid(this.form?.controls.data_inicio.value) && this.util.asTimestamp(control.value) < this.util.asTimestamp(this.form!.controls.data_inicio.value)) {\n      result = \"Menor que o início\";\n    } else if (this.programa && controlName == 'data_inicio' && (control.value as Date).getTime() < this.programa!.selectedEntity?.data_inicio.getTime()) {\n      result = \"Menor que programa\";\n    } else if (this.programa && controlName == 'data_fim' && (control.value as Date).getTime() > this.programa!.selectedEntity?.data_fim.getTime()) {\n      result = \"Maior que programa\";\n    } else if (controlName == 'criterios_avaliacao' && control.value.length < 1) {\n      result = \"Insira ao menos um critério de avaliação\";\n    }\n    return result;\n  }\n\n  public formValidation = async (form?: FormGroup) => {\n    let result = \"\";\n    return result;\n    // TODO:\n    // Validar se as entregas pertencem ao plano de entregas da unidade\n  };\n\n  public onUnidadeSelect(selected: SelectItem) {\n    let unidade = this.unidade?.selectedEntity as Unidade;\n    this.entity!.unidade = unidade;\n    this.entity!.unidade_id = unidade.id;\n    this.form!.controls.forma_contagem_carga_horaria.setValue(unidade?.entidade?.forma_contagem_carga_horaria || \"DIA\");\n    this.form!.controls.unidade_texto_complementar.setValue(unidade?.texto_complementar_plano || \"\");\n    this.unidadeDao.getById(unidade.id, ['gestor:id,usuario_id','gestor_substituto:id,usuario_id','gestor_delegado:id,usuario_id']).then( unidade => {\n      this.buscaGestoresUnidadeExecutora(unidade);\n    });\n  }\n\n  public onProgramaSelect(selected: SelectItem) {\n    let programa = selected.entity as Programa;\n    this.entity!.programa_id = programa.id;\n    this.entity!.programa = programa;\n    this.form?.controls.criterios_avaliacao.setValue(programa.plano_trabalho_criterios_avaliacao || []);\n    this.form?.controls.data_inicio.updateValueAndValidity();\n    this.form?.controls.data_fim.updateValueAndValidity();\n    this.calculaTempos();\n    this.cdRef.detectChanges();\n  }\n\n  public onUsuarioSelect(selected: SelectItem) {\n    this.form!.controls.usuario_texto_complementar.setValue((selected.entity as Usuario)?.texto_complementar_plano || \"\");\n    if(!this.form?.controls.unidade_id.value) {\n      selected.entity.unidades.every(async (unidade: any) => {\n        if (selected.entity.lotacao.unidade_id == unidade.id) {\n          if(!this.form?.controls.programa_id.value) {\n            let niveis = unidade.path.split(\"/\").reverse();\n            let hoje = new Date();\n            let preenchido = 0;\n            let indice = 0;\n            while (preenchido == 0) {\n              await this.programaDao.query({where : [[\"unidade_id\",\"==\",niveis[indice],],[\"data_inicio\",\"<\", hoje],[\"data_fim\",\">\", hoje]]}).asPromise().then( programa => {\n                if (programa.length > 0 && preenchido == 0) {\n                  preenchido = 1;\n                  this.preencheUnidade(unidade);\n                  this.preenchePrograma(programa[0]!);\n                }\n              })\n              indice += 1;\n            }\n          }\n        return false;\n        } else return true;\n      })\n    }\n    this.calculaTempos();\n    this.cdRef.detectChanges();\n  }\n\n  public preencheUnidade(unidade: Unidade) {\n    this.form?.controls.unidade_id.setValue(unidade.id);\n    this.entity!.unidade = unidade;\n    this.entity!.unidade_id = unidade.id;\n    this.form!.controls.forma_contagem_carga_horaria.setValue(unidade?.entidade?.forma_contagem_carga_horaria || \"DIA\");\n    this.form!.controls.unidade_texto_complementar.setValue(unidade?.texto_complementar_plano || \"\");\n    this.unidadeDao.getById(unidade.id, ['gestor:id,usuario_id','gestor_substituto:id,usuario_id','gestor_delegado:id,usuario_id']).then( unidade => {\n      this.buscaGestoresUnidadeExecutora(unidade);\n    });\n  }\n\n  public preenchePrograma(programa: Programa) {\n    this.form?.controls.programa_id.setValue(programa.id);\n    this.entity!.programa_id = programa.id;\n    this.entity!.programa = programa;\n    this.form?.controls.criterios_avaliacao.setValue(programa.plano_trabalho_criterios_avaliacao || []);\n    this.form?.controls.data_inicio.updateValueAndValidity();\n    this.form?.controls.data_fim.updateValueAndValidity();\n  }\n\n  public onDataInicioChange(event: Event) {\n    this.calculaTempos();\n  }\n\n  public onDataFimChange(event: Event) {\n    this.calculaTempos();\n  }\n\n  public onCargaHorariaChenge(event: Event) {\n    this.calculaTempos();\n  }\n\n  public calculaTempos() {\n    const inicio = this.form?.controls.data_inicio.value;\n    const fim = this.form?.controls.data_fim.value;\n    const carga = this.form?.controls.carga_horaria.value || 8;\n    const usuario = this.usuario?.selectedEntity as Usuario;\n    const unidade = this.unidade?.selectedEntity as Unidade;\n    if (usuario && unidade && this.util.isDataValid(inicio) && this.util.isDataValid(fim) && this.util.asTimestamp(inicio) < this.util.asTimestamp(fim)) {\n      this.calendar.loadFeriadosCadastrados(unidade.id).then((feriados) => {\n        this.horasTotais = this.calendar.calculaDataTempoUnidade(inicio, fim, carga, unidade, \"ENTREGA\", [], []);\n        this.horasParciais = this.calendar.calculaDataTempoUnidade(inicio, fim, carga, unidade, \"ENTREGA\", [], usuario.afastamentos);\n        this.form?.controls.tempo_total.setValue(this.horasTotais.tempoUtil);\n        this.form?.controls.tempo_proporcional.setValue(this.horasParciais.tempoUtil);\n      });\n    }\n  }\n\n  public async loadData(entity: PlanoTrabalho, form: FormGroup) {\n    this.planoTrabalho = new PlanoTrabalho(entity);\n    await Promise.all([\n      this.calendar.loadFeriadosCadastrados(entity.unidade_id),\n      this.usuario?.loadSearch(entity.usuario || entity.usuario_id),\n      this.unidade?.loadSearch(entity.unidade || entity.unidade_id),\n      this.programa?.loadSearch(entity.programa || entity.programa_id),\n      this.tipoModalidade?.loadSearch(entity.tipo_modalidade || entity.tipo_modalidade_id)\n    ]);\n    let formValue = Object.assign({}, form.value);\n    form.patchValue(this.util.fillForm(formValue, entity));\n    /*let documento = entity.documentos.find(x => x.id == entity.documento_id);\n    if(documento) this._datasource = documento.datasource;*/\n    this.calculaTempos();\n    this.atualizarTcr();\n  }\n\n  public async initializeData(form: FormGroup) {\n    if (this.isTermos) {\n      this.entity = (await this.dao!.getById(this.urlParams!.get(\"id\")!, this.join))!;\n    } else {\n      this.entity = new PlanoTrabalho();\n      this.entity.carga_horaria = this.auth.entidade?.carga_horaria_padrao || 8;\n      this.entity.forma_contagem_carga_horaria = this.auth.entidade?.forma_contagem_carga_horaria || \"DIA\";\n    }\n    await this.loadData(this.entity, this.form!);\n  }\n\n  /* Cria um objeto Plano baseado nos dados do formulário */\n  public loadEntity(): PlanoTrabalho {\n    let plano: PlanoTrabalho = this.util.fill(new PlanoTrabalho(), this.entity!);\n    plano = this.util.fillForm(plano, this.form!.value);\n    plano.usuario = (this.usuario!.selectedEntity || this.entity?.usuario) as Usuario;\n    plano.unidade = (this.unidade?.selectedEntity || this.entity?.unidade) as Unidade;\n    plano.programa = (this.programa?.selectedEntity || this.entity?.programa) as Programa;\n    plano.tipo_modalidade = (this.tipoModalidade!.selectedEntity || this.entity?.tipo_modalidade) as TipoModalidade;\n    return plano;\n  }\n\n  public async saveData(form: IIndexable): Promise<PlanoTrabalho | boolean> {\n    //let plano = this.loadEntity();\n    /* Atualiza o documento */\n    this.atualizarTcr();\n    /* Confirma dados do documento */\n    this.documentos?.saveData();\n    this.entity!.documentos = this.entity!.documentos.filter((documento: Documento) => {\n      return [\"ADD\", \"EDIT\", \"DELETE\"].includes(documento._status || \"\");\n    });\n    /* Salva separadamente as informações do plano */\n    this.submitting = true;\n    try {\n      let requests: Promise<any>[] = [this.dao!.save(this.entity!, this.join)];\n      if (this.form!.controls.editar_texto_complementar_unidade.value) requests.push(this.unidadeDao.update(this.entity!.unidade_id, { texto_complementar_plano: this.form!.controls.unidade_texto_complementar.value }));\n      if (this.form!.controls.editar_texto_complementar_usuario.value) requests.push(this.usuarioDao.update(this.entity!.usuario_id, { texto_complementar_plano: this.form!.controls.usuario_texto_complementar.value }));\n      let responses = await Promise.all(requests);\n      this.entity = responses[0] as PlanoTrabalho;\n    } finally {\n      this.submitting = false;\n    }\n    return true;\n  }\n\n  public onTabSelect(tab: LookupItem) {\n    if (tab.key == \"TERMO\") this.atualizarTcr();\n  }\n\n  public titleEdit = (entity: PlanoTrabalho): string => {\n    return \"Editando \" + this.lex.translate(\"Plano de Trabalho\") + ': ' + (entity?.usuario?.apelido || \"\");\n  }\n\n  public documentoDynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    let documento: Documento = row as Documento;\n\n    if (this.isTermos && this.planoTrabalhoService.needSign(this.entity, documento)) {\n      result.push({ hint: \"Assinar\", icon: \"bi bi-pen\", onClick: this.signDocumento.bind(this) });\n    }\n    result.push({ hint: \"Preview\", icon: \"bi bi-zoom-in\", onClick: ((documento: Documento) => { this.dialog.html({ title: \"Termo de adesão\", modalWidth: 1000 }, documento.conteudo || \"\"); }).bind(this) });\n\n    return result;\n  }\n\n  public addItemHandleCriteriosAvaliacao(): LookupItem | undefined {\n    let result = undefined;\n    const value = this.form!.controls.criterio_avaliacao.value;\n    const key = this.util.textHash(value);\n    if(value?.length && this.util.validateLookupItem(this.form!.controls.criterios_avaliacao.value, key)) {\n      result = {\n        key: key,\n        value: this.form!.controls.criterio_avaliacao.value\n      };\n      this.form!.controls.criterio_avaliacao.setValue(\"\");\n    }\n    return result;\n  };\n\n  public async signDocumento(documento: Documento) {\n    await this.documentoService.sign([documento]);\n    this.cdRef.detectChanges();\n  }\n\n  public get formaContagemCargaHoraria(): UnitWorkload {\n    const forma = this.form?.controls.forma_contagem_carga_horaria.value || \"DIA\";\n    return forma == \"DIA\" ? \"day\" : forma == \"SEMANA\" ? \"week\" : \"mouth\";\n  }\n\n  public onFormaContagemCargaHorariaChange(unit: UnitWorkload) {\n    this.form!.controls.forma_contagem_carga_horaria.setValue(unit == \"day\" ? \"DIA\" : unit == \"week\" ? \"SEMANA\" : \"MES\");\n  }\n\n  public isVigente(documento: Documento): boolean {\n    return this.form!.controls.documento_id.value == documento.id;\n  }\n\n  public buscaGestoresUnidadeExecutora(unidade: Unidade | null){\n    if (unidade) [unidade.gestor?.usuario_id, unidade.gestor_substituto?.usuario_id, unidade!.gestor_delegado?.usuario_id].forEach(gestor => {\n      if (gestor) this.gestoresUnidadeExecutora.push(gestor);\n    });\n    return this.gestoresUnidadeExecutora;\n  }\n\n}\n\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [noButtons]=\"isTermos ? 'true' : undefined\" initialFocus=\"plano_entrega_id\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\"><!--</editable-form>(submit)=\"onSaveData()\" (cancel)=\"onCancel()\">-->\n    <tabs #tabs display right [hidden]=\"isTermos ? 'true' : undefined\" [title]=\"!isModal ? title : ''\" [select]=\"onTabSelect.bind(this)\">\n        <tab key=\"DADOS\" label=\"Dados\">\n            <div class=\"row\">\n                <div class=\"col-md-10\">\n                    <div class=\"row\">\n                        <!-- (RI_PTR_1) No formulário de inclusão/edição de um plano de trabalho, o input-search de unidade, programa e usuario devem ficar desabilitados nas edições e habilitado apenas nas inclusões; -->\n                        <input-search #usuario [size]=\"4\" required controlName=\"usuario_id\" [dao]=\"usuarioDao\" [join]=\"['afastamentos','lotacao','unidades','participacoes_programas']\" (select)=\"onUsuarioSelect($event)\"></input-search>\n                        <input-search #unidade [size]=\"4\" required [disabled]=\"action == 'new' ? undefined : 'true'\" controlName=\"unidade_id\" [dao]=\"unidadeDao\" (select)=\"onUnidadeSelect($event)\"></input-search>\n                        <input-search #programa [size]=\"4\" [label]=\"lex.translate('Programa de gestão')\" icon=\"bi bi-file-bar-graph\" required [disabled]=\"action == 'new' ? undefined : 'true'\" controlName=\"programa_id\" [join]=\"joinPrograma\" [dao]=\"programaDao\" (select)=\"onProgramaSelect($event)\"></input-search>\n                    </div>\n                    <div class=\"row\">\n                        <input-datetime [size]=\"3\" label=\"Início\" icon=\"bi bi-calendar-date\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" (change)=\"onDataInicioChange($event)\" labelInfo=\"'Início da Vigência do '+ lex.translate('Plano de trabalho')\" required></input-datetime>\n                        <input-datetime [size]=\"3\" label=\"Final\" icon=\"bi bi-calendar-date\" controlName=\"data_fim\" [control]=\"form!.controls.data_fim\" (change)=\"onDataFimChange($event)\" labelInfo=\"'Final da Vigência do ' +lex.translate('Plano de trabalho')\" required></input-datetime>\n                        <input-search #tipoModalidade [size]=\"6\" controlName=\"tipo_modalidade_id\" [dao]=\"tipoModalidadeDao\" required></input-search>\n                    </div>\n                    <ng-container *ngIf=\"tipoModalidade!.selectedEntity?.plano_trabalho_calcula_horas\">\n                        <div class=\"row\">\n                            <input-workload [size]=\"4\" [unit]=\"formaContagemCargaHoraria\" label=\"Carga Horária\" icon=\"bi bi-hourglass-split\" controlName=\"carga_horaria\" [control]=\"form!.controls.carga_horaria\" [unitChange]=\"onFormaContagemCargaHorariaChange.bind(this)\" (change)=\"onCargaHorariaChenge($event)\" labelInfo=\"Carga horária do usuário (Máx.: diária 24 horas; semana 24*5=240 horas; mensal 24*20=480 horas)\" required></input-workload>\n                            <input-timer onlyHours disabled [size]=\"4\" label=\"Horas Totais\" icon=\"bi bi-clock\" controlName=\"tempo_total\" [control]=\"form!.controls.tempo_total\" labelInfo=\"Horas úteis de trabalho no período de vigência considerando a carga horária, feriados e fins de semana\"></input-timer>\n                            <input-timer onlyHours disabled [size]=\"4\" label=\"Horas Parciais\" icon=\"bi bi-clock\" controlName=\"tempo_proporcional\" [control]=\"form!.controls.tempo_proporcional\" labelInfo=\"Total de horas menos os afastamentos.\"></input-timer>\n                        </div>\n                        <separator *ngIf=\"horasTotais\" title=\"Cálculos das horas totais\" collapse>\n                            <calendar-efemerides [efemerides]=\"horasTotais\" [partial]=\"false\"></calendar-efemerides>\n                        </separator>\n                        <separator *ngIf=\"horasParciais\" title=\"Cálculos das horas parciais\" collapse>\n                            <calendar-efemerides [efemerides]=\"horasParciais\"></calendar-efemerides>\n                        </separator>\n                    </ng-container>\n                </div>\n                <div class=\"col-md-2\">\n                    <input-multiselect label=\"Critérios de avaliação\" noBox [maxListHeight]=\"100\" controlName=\"criterios_avaliacao\" [size]=\"12\" [addItemHandle]=\"addItemHandleCriteriosAvaliacao.bind(this)\" required>\n                        <input-text [size]=\"12\" controlName=\"criterio_avaliacao\" [attr.maxlength]=250></input-text>\n                    </input-multiselect>\n                </div>\n            </div>\n            <separator [title]=\"lex.translate('Entregas') + lex.translate(' do plano de trabalho')\">\n                <top-alert *ngIf=\"!form!.controls.programa_id.value?.length || !form!.controls.unidade_id.value?.length\" type=\"warning\" [message]=\"'Antes de incluir ' + lex.translate('entrega') + ' neste ' + lex.translate('Plano de Trabalho') + ', é necessário selecionar ' + lex.translate('a Unidade') + ' e ' + lex.translate('o Programa') + '!'\"></top-alert>\n                <div *ngIf=\"form!.controls.programa_id.value?.length && form!.controls.unidade_id.value?.length\">\n                    <plano-trabalho-list-entrega noPersist [disabled]=\"formDisabled\" [entity]=\"entity\"></plano-trabalho-list-entrega>\n                </div>\n            </separator>\n        </tab>\n        <tab *ngIf=\"checkFilled(['usuario_id'])\" key=\"MENSAGENS\" [label]=\"lex.translate('Texto Complementar')\">\n            <separator [title]=\"'Texto complementar da '+ lex.translate('unidade')\">\n                <input-switch controlName=\"editar_texto_complementar_unidade\" [size]=\"12\" scale=\"small\" labelPosition=\"right\" [label]=\"'Editar texto complementar na '+ lex.translate('unidade')\"></input-switch>\n                <input-editor controlName=\"unidade_texto_complementar\" [disabled]=\"form!.controls.editar_texto_complementar_unidade.value ? undefined : 'true'\" [dataset]=\"planoDataset\"></input-editor>\n            </separator>\n            <separator title=\"Texto complementar do usuario\">\n                <input-switch controlName=\"editar_texto_complementar_usuario\" [size]=\"12\" scale=\"small\" labelPosition=\"right\" [label]=\"'Editar texto complementar do '+ lex.translate('usuário')\"></input-switch>\n                <input-editor controlName=\"usuario_texto_complementar\" [disabled]=\"form!.controls.editar_texto_complementar_usuario.value ? undefined : 'true'\" [dataset]=\"planoDataset\"></input-editor>\n            </separator>\n        </tab>\n        <tab *ngIf=\"checkFilled(['usuario_id', 'programa_id', 'tipo_modalidade_id'])\" key=\"TERMO\" [label]=\"lex.translate('Termo')\">\n            <!--top-alert *ngIf=\"!isTermos\" type=\"warning\" message=\"Para [INSERIR] ou [ASSINAR] termos escolha opção Termos de adesão na tela de listagem, ou utilize o Sei\"></top-alert/-->\n            <div clss=\"row\">\n                <documentos #documentos [entity]=\"entity\" [disabled]=\"formDisabled\" noPersist [cdRef]=\"cdRef\" [needSign]=\"planoTrabalhoService.needSign\" [extraTags]=\"planoTrabalhoService.extraTags\" especie=\"TCR\" [editingId]=\"formDisabled ? undefined : editingId\" [datasource]=\"datasource\" [template]=\"programa?.selectedEntity?.template_tcr\"></documentos>\n            </div>\n        </tab>\n    </tabs>\n</editable-form>\n","import { Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { AccordionComponent } from 'src/app/components/accordion/accordion.component';\nimport { BadgeButton } from 'src/app/components/badge/badge.component';\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\n\n@Component({\n  selector: 'plano-trabalho-list-accordeon',\n  templateUrl: './plano-trabalho-list-accordeon.component.html',\n  styleUrls: ['./plano-trabalho-list-accordeon.component.scss']\n})\nexport class PlanoTrabalhoListAccordeonComponent extends PageFrameBase {\n  @ViewChild('accordion', { static: false }) public accordion?: AccordionComponent;\n  @Input() usuarioId?: string;\n  @Input() set arquivados(value: boolean) {\n    if(this._arquivados != value) {\n      this._arquivados = value;\n      if(this.viewInit) this.loadData(this.entity!, this.form);\n    }\n  }\n  get arquivados(): boolean {\n    return this._arquivados;\n  }\n\n  public selectedIndex: number = -1;\n  public dao?: PlanoTrabalhoDaoService;\n  public planos: PlanoTrabalho[] = [];\n\n  private _arquivados: boolean = false;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.dao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\n  }\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    (async () => {\n      await this.loadData(this.entity!, this.form);\n    })();\n  }\n\n  public async loadData(entity: IIndexable, form?: FormGroup) {\n    this.accordion!.loading = true;\n    try {\n      let dados = await this.dao!.getByUsuario(this.usuarioId!, this.arquivados);\n      let agora = (new Date()).getTime();\n      let self = this;\n      this.planos = dados.planos;\n      for(var i = 0; i < this.planos.length; i++) {\n        if(this.util.asTimestamp(this.planos[i].data_inicio) <= agora && agora <= this.util.asTimestamp(this.planos[i].data_fim) && [\"ATIVO\", \"CONCLUIDO\"].includes(this.planos[i].status)) {\n          this.selectedIndex = i;\n        }\n      }\n    } finally {\n      this.accordion!.loading = false;\n      this.cdRef.detectChanges();\n    }\n  }\n\n  public getPlanoBadges(plano: PlanoTrabalho): BadgeButton[] {\n    let result: BadgeButton[] = [];\n    let concluidos = plano.consolidacoes.filter(x => x.status == \"CONCLUIDO\");\n    let avaliados = plano.consolidacoes.filter(x => x.status == \"AVALIADO\");\n    if(concluidos.length) {\n      const concluido = this.lookup.getLookup(this.lookup.CONSOLIDACAO_STATUS, \"CONCLUIDO\");\n      result.push({\n        icon: concluido?.icon,\n        label: concluido?.value,\n        color: concluido?.color,\n        textValue: concluidos.length.toString()\n      });\n    }\n    if(avaliados.length) {\n      const avaliado = this.lookup.getLookup(this.lookup.CONSOLIDACAO_STATUS, \"AVALIADO\");\n      result.push({\n        icon: avaliado?.icon,\n        label: avaliado?.value,\n        color: avaliado?.color,\n        textValue: avaliados.length.toString()\n      });\n    }\n    if(JSON.stringify(plano._metadata?.badges) != this.JSON.stringify(result)) {\n      plano._metadata = Object.assign(plano._metadata || {}, { badges: result });\n    }\n    return plano._metadata.badges;\n  }\n\n}\n","<div class=\"p-3 bg-body-secondary mb-3\">    \n    <div class=\"row w-100\">\n        <div class=\"col-md-1\">#ID</div>\n        <div class=\"col-md-4\">{{lex.translate('Participante')}}/{{lex.translate('Unidade')}}/{{lex.translate('Programa')}}/{{lex.translate('Tipo de modalidade')}}</div>\n        <div class=\"col-md-3\">Vigência</div>\n        <div class=\"col-md-2\"></div>\n        <div class=\"col-md-2\">Status</div>\n    </div>\n</div>\n\n<accordion #accordion [items]=\"planos\" [selectedIndex]=\"selectedIndex\" [titleTemplate]=\"planoTrabalhoSectionTitle\" [template]=\"planoTrabalhoSection\">\n    <ng-template let-item=\"item\" #planoTrabalhoSectionTitle>\n        <div class=\"row w-100\">\n            <div class=\"col-md-1\">{{'#' + item.numero}}</div>\n            <div class=\"col-md-4\">\n                <badge [icon]=\"entityService.getIcon('Usuario')\" [label]=\"item.usuario?.nome\" color=\"light\" [hint]=\"lex.translate('Participante') + ': ' + item.usuario?.nome\"></badge>\n                <badge [icon]=\"entityService.getIcon('Unidade')\" [label]=\"item.unidade?.sigla\" color=\"light\" [hint]=\"lex.translate('Unidade') + ': ' + item.unidade?.nome\"></badge>\n                <badge [icon]=\"entityService.getIcon('Programa')\" [label]=\"item.programa?.nome\" color=\"light\" [hint]=\"lex.translate('Programa')\"></badge>\n                <badge [icon]=\"entityService.getIcon('TipoModalidade')\" [label]=\"item.tipo_modalidade?.nome\" color=\"light\" [hint]=\"lex.translate('Tipo de modalidade')\"></badge>\n            </div>\n            <div class=\"col-md-3\">\n                {{dao!.getDateFormatted(item.data_inicio)+\" até \"+dao!.getDateFormatted(item.data_fim)}}\n            </div>\n            <div class=\"col-md-2\">\n                <badge *ngFor=\"let badge of getPlanoBadges(item)\" [badge]=\"badge\"></badge>\n            </div>\n            <div class=\"col-md-2\">\n                <badge [label]=\"lookup.getValue(lookup.PLANO_TRABALHO_STATUS, item.status)\" [icon]=\"lookup.getIcon(lookup.PLANO_TRABALHO_STATUS, item.status)\" [color]=\"lookup.getColor(lookup.PLANO_TRABALHO_STATUS, item.status)\"></badge>\n            </div>\n        </div>\n    </ng-template>\n    <ng-template let-item=\"item\" #planoTrabalhoSection>\n        <plano-trabalho-consolidacao-list [entity]=\"item\"></plano-trabalho-consolidacao-list>\n    </ng-template>\n</accordion>\n","import { ChangeDetectorRef, Component, Injector, Input, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { PlanoTrabalhoEntrega } from 'src/app/models/plano-trabalho-entrega.model';\nimport { PlanoTrabalhoEntregaDaoService } from 'src/app/dao/plano-trabalho-entrega-dao.service';\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\nimport { PlanoEntregaDaoService } from 'src/app/dao/plano-entrega-dao.service';\nimport { PlanoEntregaEntregaDaoService } from 'src/app/dao/plano-entrega-entrega-dao.service';\nimport { PlanoEntrega } from 'src/app/models/plano-entrega.model';\nimport { PlanoTrabalhoService } from '../plano-trabalho.service';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { PlanoEntregaEntrega } from 'src/app/models/plano-entrega-entrega.model';\n\n@Component({\n  selector: 'plano-trabalho-list-entrega',\n  templateUrl: './plano-trabalho-list-entrega.component.html',\n  styleUrls: ['./plano-trabalho-list-entrega.component.scss']\n})\nexport class PlanoTrabalhoListEntregaComponent extends PageFrameBase {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  @ViewChild('origem', { static: false }) public origem?: InputSelectComponent;\n  @ViewChild('planoEntrega', { static: false }) public planoEntrega?: InputSearchComponent;\n  @ViewChild('entrega', { static: false }) public entrega?: InputSelectComponent;\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\n  @Input() set entity(value: PlanoTrabalho | undefined) { super.entity = value; } get entity(): PlanoTrabalho | undefined { return super.entity; }\n  @Input() set disabled(value: boolean) { if (this._disabled != value) this._disabled = value; } get disabled(): boolean { return this._disabled; }\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\n  @Input() cdRef: ChangeDetectorRef;\n\n  public get items(): PlanoTrabalhoEntrega[] {\n    if (!this.gridControl.value) this.gridControl.setValue(new PlanoTrabalho());\n    if (!this.gridControl.value.entregas) this.gridControl.value.entregas = [];\n    return this.gridControl.value.entregas;\n  }\n  public options: ToolbarButton[] = [];\n  public planoTrabalhoDao?: PlanoTrabalhoDaoService;\n  public planoEntregaDao?: PlanoEntregaDaoService;\n  public peeDao?: PlanoEntregaEntregaDaoService;\n  public planoTrabalhoService: PlanoTrabalhoService;\n  public totalForcaTrabalho: number = 0;\n  public entregas: LookupItem[] = [];\n\n  private _disabled: boolean = false;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.dao = injector.get<PlanoTrabalhoEntregaDaoService>(PlanoTrabalhoEntregaDaoService);\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\n    this.planoEntregaDao = injector.get<PlanoEntregaDaoService>(PlanoEntregaDaoService);\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\n    this.peeDao = injector.get<PlanoEntregaEntregaDaoService>(PlanoEntregaEntregaDaoService);\n    this.join = [\"entrega\", \"plano_entrega_entrega.entrega\", \"plano_entrega_entrega.plano_entrega:id,unidade_id\", \"plano_entrega_entrega.plano_entrega.unidade:id,sigla\"];\n    this.form = this.fh.FormBuilder({\n      origem: { default: null },\n      orgao: { default: null },\n      descricao: { default: \"\" },\n      forca_trabalho: { default: 1 },\n      plano_trabalho_id: { default: null },\n      plano_entrega_id: { default: null },\n      plano_entrega_entrega_id: { default: null }\n    }, this.cdRef, this.validate);\n  }\n\n  /**\n   * Método chamado para a validação dos campos do formulário, por ocasião da edição ou inserção de itens.\n   * @param control \n   * @param controlName \n   * @returns \n   */\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if (['forca_trabalho'].indexOf(controlName) >= 0 && control.value == 1) return result;\n    if (['descricao', 'forca_trabalho'].indexOf(controlName) >= 0 && !control.value?.length) result = \"Obrigatório!\";\n    if (['forca_trabalho'].indexOf(controlName) >= 0 && (control.value < 1 || control.value > 100)) result = \"Deve estar entre 1 e 100\";\n    if (['plano_entrega_entrega_id'].indexOf(controlName) >= 0) {\n      if (['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(this.form?.controls.origem.value) && !control.value) result = \"Obrigatório!\";\n      if (!!this.entity?.entregas?.filter(e => !!e.plano_entrega_entrega_id && e.id != this.grid?.editing?.id).find(x => x.plano_entrega_entrega_id == control.value)) result = \"Esta entrega está em duplicidade!\"; /* (*2) */\n    }\n    return result;\n  }\n\n  public validateEntregas(): string | undefined {\n    let planoInterval = {start: this.entity!.data_inicio, end: this.entity!.data_fim};\n    for(let entrega of this.items) {\n      let entregaPlano = entrega.plano_entrega_entrega;\n      // valida as datas das entregas quando vinculado a uma entrega do plano de entrega\n      if(entregaPlano) {\n        let entregaDataFim = entregaPlano!.data_fim ? entregaPlano!.data_fim : (entregaPlano!.data_inicio.getTime() <= this.entity!.data_fim.getTime() ? this.entity!.data_fim : undefined);\n        let entregaInterval = {start: entregaPlano!.data_inicio, end: entregaPlano!.data_fim || entregaPlano!.data_inicio};\n        if(!entregaDataFim || !this.util.intersection([entregaInterval, planoInterval])) {\n          return this.lex.translate(\"Entrega\") + \" \" + entregaPlano!.descricao + \" possui datas incompatíveis (início \" + \n            this.util.getDateFormatted(entregaPlano!.data_inicio) + (entregaPlano!.data_fim ? \"e fim \" + this.util.getDateFormatted(entregaPlano!.data_fim) : \"\") + \")\";\n        }\n      }\n    }\n    return undefined;\n  }\n\n  /**\n   * Método chamado na inicialização do componente. Neste momento são carregadas as entregas do catálogo e as entregas da mesma unidade do plano de trabalho,\n   * visto que esses itens não se alteram durante a vida do componente e poderão ser utilizados durante sua utilização.\n   */\n  async ngOnInit() {\n    super.ngOnInit();\n    this.entity = this.metadata?.entity || this.entity;\n    this.totalForcaTrabalho = Math.round(this.somaForcaTrabalho(this.entity?.entregas) * 100) / 100;\n    this.entity!._metadata = this.entity!._metadata || {};\n    this.entity!._metadata.novaEntrega = undefined;\n  }\n\n  /**\n   * Método chamado para inserir uma entrega de plano de trabalho no grid, seja este componente persistente ou não.\n   * @returns \n   */\n  public async addEntrega() {\n    return Object.assign(new PlanoTrabalhoEntrega(), {\n      _status: \"ADD\",\n      id: this.dao!.generateUuid(),\n      plano_trabalho_id: this.entity?.id\n    }) as IIndexable;\n  }\n\n  /**\n   * Método utilizado durante a inclusão/alteração de uma entrega de plano de trabalho no grid, seja este componente persistente ou não\n   * @param form \n   * @param row \n   */\n  public async loadEntrega(form: FormGroup, row: any) {\n    let entrega: PlanoTrabalhoEntrega = row;\n    form.controls.descricao.setValue(row.descricao);\n    form.controls.forca_trabalho.setValue(row.forca_trabalho);\n    form.controls.plano_trabalho_id.setValue(row.plano_trabalho_id);\n    form.controls.plano_entrega_entrega_id.setValue(null);\n    form.controls.orgao.setValue(null);\n    if (entrega._status == \"ADD\") { // É uma nova entrega\n      form.controls.origem.setValue('PROPRIA_UNIDADE');\n    } else if (entrega.plano_entrega_entrega?.plano_entrega?.unidade_id == this.entity!.unidade_id) {\n      form.controls.origem.setValue('PROPRIA_UNIDADE');\n      await this.carregarEntregas(entrega.plano_entrega_entrega.plano_entrega_id!);\n      form.controls.plano_entrega_entrega_id.setValue(entrega.plano_entrega_entrega_id);\n    } else if (entrega.plano_entrega_entrega) {\n      form.controls.origem.setValue('OUTRA_UNIDADE');\n      await this.carregarEntregas(entrega.plano_entrega_entrega.plano_entrega_id!);\n      form.controls.plano_entrega_entrega_id.setValue(entrega.plano_entrega_entrega_id);\n    } else if (!!entrega.orgao?.length) { \n      form.controls.origem.setValue('OUTRO_ORGAO');\n      form.controls.orgao.setValue(entrega.orgao);\n    } else {\n      form.controls.origem.setValue('SEM_ENTREGA');\n    }\n  }\n\n  /**\n   * Método chamado para a exclusão de uma entrega de plano de trabalho do grid, seja este componente persistente ou não. \n   * @param row \n   * @returns \n   */\n  public async removeEntrega(row: any) {\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\n    if (confirm) {\n      this.loading = true;\n      try {\n        this.isNoPersist ? Object.assign(row, { _status: \"DELETE\" }) : await this.dao?.delete(row.id);\n      } finally {\n        this.loading = false;\n      }\n      this.totalForcaTrabalho = Math.round((this.totalForcaTrabalho - ((row as PlanoTrabalhoEntrega).forca_trabalho * 1)) * 100) / 100;\n      return this.isNoPersist ? false : true; // (*3)\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Método chamado no salvamento de uma entrega do plano de trabalho do grid, seja este componente persistente ou não.\n   * @param form \n   * @param row \n   * @returns \n   */\n  public async saveEntrega(form: FormGroup, row: any) {\n\n    this.entity!._metadata = this.entity!._metadata || {};\n    this.entity!._metadata.novaEntrega = row as PlanoTrabalhoEntrega;\n    this.entity!._metadata.novaEntrega.plano_entrega_entrega_id = this.form?.controls.plano_entrega_entrega_id.value;\n    this.entity!._metadata.novaEntrega.orgao = this.form?.controls.orgao.value;\n    this.entity!._metadata.novaEntrega.descricao = this.form?.controls.descricao.value;\n    this.entity!._metadata.novaEntrega.forca_trabalho = this.form?.controls.forca_trabalho.value;\n    this.loading = true;\n    try {\n      if (!this.isNoPersist) /* persistente */ { (this.dao as PlanoTrabalhoEntregaDaoService).save(this.entity!._metadata.novaEntrega, this.join); }\n    } catch (e: any) {\n      this.error(e.message ? e.message : e.toString() || e);\n    } finally {\n      row.forca_trabalho = this.form?.controls.forca_trabalho.value * 1;\n      row.plano_entrega_entrega = this.entrega?.selectedItem?.data || null;\n      this.totalForcaTrabalho = Math.round(this.somaForcaTrabalho(this.entity?.entregas) * 100) / 100;\n      this.loading = false;\n    }\n    return this.entity!._metadata.novaEntrega;\n  }\n\n  /**\n   *  Quando uma nova entrega de plano de trabalho é incluída no grid, o objeto '_metadata' é anexado em 'this.entity' para permitir a atualização do grid antes da atualização da página.\n   *  Após a atualização do grid, este método é chamado para excluir o objeto '_metadata' e garantir que, no caso da inserção de várias entregas no grid, apenas a última seja lida a partir deste objeto.\n   * @param row \n   */\n  public saveEndEntrega(row: any) {\n    this.entity!._metadata = null;\n  }\n\n  /**\n   * Método chamado para somar os percentuais das forças de trabalho do array de entregas passado como parâmetro.\n   * @param entregas Array de entregas do plano de trabalho\n   * @returns \n   */\n  public somaForcaTrabalho(entregas: PlanoTrabalhoEntrega[] = []): number {\n    return entregas.map(x => x.forca_trabalho * 1).reduce((a, b) => a + b, 0);\n  }\n\n  /**\n   * Método chamado para carregar as entregas da unidade\n   * @param idPlanoOuPlano ID do plano de entregas ou o seu objeto completo.\n   */\n  public async carregarEntregas(idPlanoOuPlano: string | PlanoEntrega): Promise<void> {\n    let planoEntrega = typeof idPlanoOuPlano == 'string' ? await this.planoEntregaDao!.getById(idPlanoOuPlano, [\"entregas.entrega:id,nome\", \"unidade\"]) : idPlanoOuPlano;\n    let planoEntregaComUnidade = {id: planoEntrega?.id, unidade_id: planoEntrega?.unidade_id, unidade: planoEntrega?.unidade};\n    this.entregas = planoEntrega?.entregas.map(epe => Object.assign({}, { key: epe.id, value: epe.descricao || epe.entrega?.nome || \"Desconhecido\", data: Object.assign(epe, {plano_entrega: planoEntregaComUnidade}) })) || [];\n    if(!this.entregas.find(x => x.key == this.form!.controls.plano_entrega_entrega_id.value)) this.form!.controls.plano_entrega_entrega_id.setValue(null);\n  }\n\n  /* ---------  TRATAMENTO DOS EVENTOS ----------- */\n\n  public async onOrigemChange(row: any) {\n    let value = this.form!.controls.origem.value;\n    this.cdRef.detectChanges();\n    if (value == 'OUTRO_ORGAO') {\n      this.form?.controls.plano_entrega_entrega_id.setValue(null);\n    } else if(value == 'SEM_ENTREGA') {\n      this.form?.controls.orgao.setValue(null);\n      this.form?.controls.plano_entrega_entrega_id.setValue(null);\n    } if (value == 'PROPRIA_UNIDADE' || value == 'OUTRA_UNIDADE') {\n      this.form?.controls.orgao.setValue(null);\n      this.loading = true;\n      this.planoEntrega?.onSelectClick(new Event(\"SELECT\"));\n      this.loading = false;\n    }\n      /*      try {\n         let planosEntregas = await this.planoEntregaDao!.query({where: [[\"unidade_id\", \"==\", this.entity!.unidade_id], [\"status\", \"==\", \"ATIVO\"], [\"data_inicio\", \"<=\", this.entity!.data_fim], [\"data_fim\", \">=\", this.entity!.data_inicio]]}).asPromise();\n        if(planosEntregas.length == 1) {\n          this.form?.controls.plano_entrega_id.setValue(planosEntregas[0].id);\n        } else if(this.planoEntrega?.selectedEntity?.unidade_id != this.entity!.unidade_id) {\n          this.planoEntrega?.onSelectClick(new Event(\"SELECT\"));\n        } \n        this.planoEntrega?.onSelectClick(new Event(\"SELECT\"));\n      } finally {\n        this.loading = false;\n      }\n    } if (value == 'OUTRA_UNIDADE') {\n      this.form?.controls.orgao.setValue(null);\n      this.planoEntrega?.onSelectClick(new Event(\"SELECT\"));\n    }*/\n  }\n\n  public onPlanoEntregaChange(event: Event) {\n    let planoEntrega = this.planoEntrega?.selectedEntity as PlanoEntrega;\n    this.carregarEntregas(planoEntrega);\n  }\n\n  public onEntregaChange(event: Event) {\n    let entrega = this.entrega!.selectedItem?.data as PlanoEntregaEntrega;\n    if(!this.form!.controls.descricao.value?.length) {\n      this.form!.controls.descricao.setValue(entrega?.descricao || \"\");\n    }\n  }\n\n  public onForcaTrabalhoChange(row: any) {\n    let index = this.items.findIndex(x => x[\"id\"] == row[\"id\"]);\n    this.totalForcaTrabalho = Math.round((this.somaForcaTrabalho(this.grid?.items as PlanoTrabalhoEntrega[]) - (this.items[index].forca_trabalho * 1) + (this.form?.controls.forca_trabalho.value * 1)) * 100) / 100;\n  }\n}\n\n/*\nTESTES\n\n                                                  GRID PERSISTENTE                      GRID NÃO-PERSISTENTE\n                                              Fluxo Feliz    Validações                Fluxo Feliz    Validações\nInclusão Entrega Catálogo                          \nInclusão Entrega Mesma Unidade                     \nInclusão Entrega Outra Unidade                     \nAlteração Entrega Catálogo                         \nAlteração Entrega Mesma Unidade                    \nAlteração Entrega Outra Unidade                    \nCancelamento Entrega Catálogo                      \nCancelamento Entrega Mesma Unidade                 \nCancelamento Entrega Outra Unidade                 \nExclusão Entrega Catálogo                          \nExclusão Entrega Mesma Unidade                     \nExclusão Entrega Outra Unidade                     \n\n*/\n\n/*\nOBSERVAÇÕES:\n\n(*2)  this.entity?.entregas?.filter(e => !!e.plano_entrega_entrega_id && e.id != this.grid?.editing?.id).find(x => x.plano_entrega_entrega_id == control.value)\nFiltra as entregas da mesma unidade do plano de trabalho excluindo a entrega que está sendo editada. Em seguida conta aquelas que possuem o mesmo ID da que está sendo editada e dessa forma o resultado deve ser igual a 0, caso contrário a entrega editada\njá existe no grid.\n\n(*3)  return this.isNoPersist ? false : true;\nApós confirmada a remoção pelo usuário, a entrega é setada com _status = \"DELETE\" e é excluída da tela e sua confirmação é retornada para o método onDeleteItem() do gridComponent, que a excluirá também dos items do grid.\nEntretanto, quando se trata de um grid não persistente, ela não deve ser excluída dos items do grid, pois sua exclusão só se efetivará quando entity for salva, levando\ntodas as suas entregas para o back-end, que finalmente excluirá as que possuírem _status = \"DELETE\".\n\n(*4)  if(this.grid?.adding) this.grid!.items[this.grid!.items.length-1].id = '';\nNo caso de o componente ser 'persistente', essa linha apaga o ID que foi criado pelo banco de dados permitindo ao método saveItem do grid.component localizá-lo na sua lista de items para atualizar suas informações na tela.\n\n(*5)  if(!this.entity?.id?.length) return this.entregasPlanoEntrega;\nQuando o componente for chamado por um plano de trabalho (entity) que já existe, não poderá haver alteração no seu plano de entregas, portanto as entregas da mesma unidade do plano de trabalho serão lidas\nna própria entity. No entanto, quando o plano de trabalho (entity) ainda não existir (!this.entity?.id?.length), essas entregas vão variar de acordo com o plano de entregas\nselecionado no inputSelectComponent, e portanto elas serão lidas na variável que reflete essa escolha (this.entregasPlanoEntrega), e essa reflexão ocorre por causa do bind @Input() set/get entregasPlanoEntrega.\n\n\n----------------------+--------------------------------------+----------------------------+--------+------------------------------------\nID do Plano           |       Pode ser que a 'row'           |  Características           | inputs | entrega_id \nde Trabalho           |                                      |                            | search | plano_entrega_entrega_id\n----------------------+--------------------------------------+----------------------------+--------+------------------------------------\n                      | - Já tenha vindo do banco (TIPO I)   |                            | nenhum | um dos dois\n                      |   (foi carregada junto com o Plano)  |                            |        |\n                      |--------------------------------------+----------------------------+--------+------------------------------------\n  EXISTE              | - Tenho sido salva agora no banco    |                            | um dos | um dos dois\n  - Então o Grid é    |   (TIPO II)                          |                            | três   |\n    Persistente       |--------------------------------------+----------------------------+--------+------------------------------------\n                      | - Esteja sendo criada agora          | addEntrega loadEntrega     | um dos | nenhum\n                      |                                      |                            | três   |\n                      |--------------------------------------+----------------------------+--------+------------------------------------     \n                      | - Seja do TIPO I e esteja sendo      | loadEntrega                | um dos | um dos dois\n                      |   editada agora                      |                            | três   |\n                      +--------------------------------------+----------------------------+--------+------------------------------------\n                      | - Seja do TIPO II e esteja sendo     | loadEntrega                | um dos | um dos dois\n                      |   editada agora                      |                            | três   |\n----------------------+--------------------------------------+----------------------------+--------+------------------------------------\n  NÃO                 | - Já exista nos itens do grid        |                            | nenhum | um dos dois\n  EXISTE              |   (foi salva agora, não no banco)    | Possui _status == \"ADD\"    |        |\n  - Então o Grid é    |--------------------------------------+----------------------------+--------+------------------------------------\n    Não-persistente   | - Esteja sendo criada agora          | Possui _status == \"ADD\"    | um dos | nenhum\n                      |                                      | addEntrega loadEntrega     | três   |\n                      |--------------------------------------+----------------------------+--------+------------------------------------\n                      | - Tenha acabado de ser criada e      | Possui _status == \"ADD\"    | um dos | um dos dois\n                      |   já está sendo editada              | loadEntrega                | três   |\n------------------------------------------------------------------------------------------+--------+------------------------------------\n(*) O ADD é inserido pelo método addEntrega e só sai quando persiste no banco e volta\n\n*/","<grid [items]=\"items\" [form]=\"form!\" noMargin #gridEntregas editable [selectable]=\"false\" [minHeight]=\"items.length > 2 ? 0 : 300\" [join]=\"join\" [groupBy]=\"groupBy\"\n    [add]=\"addEntrega.bind(this)\" [remove]=\"removeEntrega.bind(this)\" [save]=\"saveEntrega.bind(this)\" [load]=\"loadEntrega.bind(this)\" [saveEnd]=\"saveEndEntrega.bind(this)\"\n    [hasDelete]=\"!disabled\" [hasEdit]=\"!disabled\" [hasAdd]=\"!disabled\">\n    <columns>\n        <column [titleTemplate]=\"titleOrigem\" [template]=\"columnOrigem\" [editTemplate]=\"editOrigem\" [verticalAlign]=\"'middle'\" [width]=\"300\" [align]=\"'center'\">\n            <ng-template let-header=\"header\" #titleOrigem><div class=\"text-center\"><span><strong>Origem</strong></span></div></ng-template>\n            <ng-template let-row=\"row\" #columnOrigem>\n                <div class=\"w-100 d-flex justify-content-center\">\n                    <div class=\"one-per-line\">\n                        <badge [label]=\"planoTrabalhoService.tipoEntrega(row, entity).titulo\" [color]=\"planoTrabalhoService.tipoEntrega(row, entity).cor\"></badge>\n                        <badge *ngIf=\"row.plano_entrega_entrega_id?.length\" [label]=\"row.plano_entrega_entrega?.plano_entrega?.unidade?.sigla || 'DESCONHECIDO'\" [icon]=\"entityService.getIcon('Unidade')\" color=\"primary\"></badge>\n                        <badge *ngIf=\"row.orgao?.length\" [label]=\"row.orgao\" icon=\"bi bi-box-arrow-down-left\" color=\"warning\"></badge>\n                    </div>\n                </div>\n            </ng-template>\n            <ng-template let-row=\"row\" #editOrigem>\n                <input-select #origem controlName=\"origem\" controlName=\"origem\" [control]=\"form!.controls.origem\" [items]=\"lookup.ORIGENS_ENTREGAS_PLANO_TRABALHO\" (change)=\"onOrigemChange(row)\"></input-select>\n                <!-- <input-search *ngIf=\"['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(origem?.value)\" label #planoEntrega [placeholder]=\"'Selecione o ' + lex.translate('Plano de entrega')\" [join]=\"['entregas.entrega:id,nome', 'unidade']\" [where]=\"origem?.value == 'PROPRIA_UNIDADE' ? [['unidade_id', '==', entity?.unidade_id]] : undefined\" [selectParams]=\"origem?.value == 'PROPRIA_UNIDADE' ? {filter: {unidade_id: entity?.unidade_id}} : undefined\" controlName=\"plano_entrega_id\" [dao]=\"planoEntregaDao\" (change)=\"onPlanoEntregaChange($event)\"></input-search> -->\n                <input-search *ngIf=\"['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(origem?.value)\" label #planoEntrega [placeholder]=\"'Selecione o ' + lex.translate('Plano de entrega')\" [join]=\"['entregas.entrega:id,nome', 'unidade']\" [where]=\"origem?.value == 'PROPRIA_UNIDADE' ? [['unidade_id', '==', entity?.unidade_id], ['status', '==', 'ATIVO']] : [['status', '==', 'ATIVO']]\" [selectParams]=\"origem?.value == 'PROPRIA_UNIDADE' ? {filter: {unidade_id: entity?.unidade_id, status: 'ATIVO'}} : {filter: {status: 'ATIVO'}}\" controlName=\"plano_entrega_id\" [dao]=\"planoEntregaDao\" (change)=\"onPlanoEntregaChange($event)\"></input-search>\n                <input-text *ngIf=\"origem?.value == 'OUTRO_ORGAO'\" #orgao controlName=\"orgao\" placeholder=\"Órgão\" [attr.maxlength]=250></input-text>\n            </ng-template>\n        </column>\n        <column [maxWidth]=\"350\" [titleTemplate]=\"titleEntrega\" [template]=\"columnEntrega\" [editTemplate]=\"editEntrega\" [verticalAlign]=\"'middle'\">\n            <ng-template let-header=\"header\" #titleEntrega><span><strong>Entrega</strong></span></ng-template>\n            <ng-template let-row=\"row\" #columnEntrega>\n                <small>{{ planoTrabalhoService.tipoEntrega(row, entity).descricao }}</small>\n                <div *ngIf=\"['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(planoTrabalhoService.tipoEntrega(row, entity).tipo)\" class=\"w-100\">\n                    <badge color=\"light\" icon=\"bi bi-box-arrow-in-right\" [label]=\"util.getDateFormatted(row.plano_entrega_entrega?.data_inicio)\" hint=\"Data de início\"></badge>\n                    <badge color=\"light\" icon=\"bi bi-box-arrow-right\" [label]=\"util.getDateFormatted(row.plano_entrega_entrega?.data_fim)\" hint=\"Data de término\"></badge>\n                </div>\n                <reaction [entity]=\"row\" origem=\"PLANO_TRABALHO_ENTREGA\"></reaction>\n            </ng-template>\n            <ng-template let-row=\"row\" #editEntrega>\n                <input-select *ngIf=\"['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(origem?.value)\" #entrega nullable itemNull=\"- Selecione -\" controlName=\"plano_entrega_entrega_id\" [control]=\"form!.controls.plano_entrega_entrega_id\" [items]=\"entregas\" (change)=\"onEntregaChange($event)\"></input-select>\n                <div *ngIf=\"entrega?.selectedItem\" class=\"w-100\">\n                    <badge color=\"light\" icon=\"bi bi-box-arrow-in-right\" [label]=\"util.getDateFormatted(entrega!.selectedItem!.data!.data_inicio)\" hint=\"Data de início\"></badge>\n                    <badge color=\"light\" icon=\"bi bi-box-arrow-right\" [label]=\"util.getDateFormatted(entrega!.selectedItem!.data!.data_fim)\" hint=\"Data de término\"></badge>\n                </div>\n            </ng-template>\n        </column>\n        <column [titleTemplate]=\"titleForcaTrabalho\" [title]=\"'% CHD'\" [template]=\"columnForcaTrabalho\" [editTemplate]=\"editForcaTrabalho\" [width]=\"125\" [align]=\"'center'\" [titleHint]=\"'% Carga Horária Disponível'\">\n            <ng-template let-header=\"header\" #titleForcaTrabalho>\n                <div class=\"text-center\">\n                    <!--<small><strong>% CHD</strong></small><br>-->\n                    <div *ngIf=\"totalForcaTrabalho > 100; else umCHD\">\n                        <small><badge icon=\"bi bi-calculator\" [color]=\"'warning'\" [label]=\"totalForcaTrabalho + '%'\"></badge></small>\n                        <small><badge icon=\"bi bi-intersect\" [color]=\"'secondary'\" [label]=\"totalForcaTrabalho - 100 + '%'\"></badge></small><!--[hint]=\"'Sobreposição de CHD entre Entregas'\"-->\n                    </div>\n                    <ng-template #umCHD>\n                        <small><badge icon=\"bi bi-calculator\" [color]=\"totalForcaTrabalho == 100 ? 'success' : 'warning'\" [label]=\"totalForcaTrabalho + '%'\"></badge></small>\n                    </ng-template>    \n                </div>\n            </ng-template>\n            <ng-template let-row=\"row\" #columnForcaTrabalho><small>{{  row.forca_trabalho + '%' }}</small></ng-template>\n            <ng-template let-row=\"row\" #editForcaTrabalho><input-text number sufix=\"%\" controlName=\"forca_trabalho\" [control]=\"form!.controls.forca_trabalho\" (change)=\"onForcaTrabalhoChange(row)\" [attr.maxlength]=250></input-text></ng-template>\n        </column>\n        <column [maxWidth]=\"250\" [titleTemplate]=\"titleDescricao\" [template]=\"columnDescricao\" [editTemplate]=\"editDescricao\" [verticalAlign]=\"'middle'\" [align]=\"'center'\">\n            <ng-template let-header=\"header\" #titleDescricao><div class=\"text-center\"><span><strong>Detalhamento/Descrição dos Trabalhos</strong></span></div></ng-template>\n            <ng-template let-row=\"row\" #columnDescricao>\n                <div *ngIf=\"row.descricao != planoTrabalhoService.tipoEntrega(row, entity).descricao; else solicitarDescricao\"><small>{{ row.descricao }}</small></div>\n            </ng-template>\n            <ng-template #solicitarDescricao><small>Detalhe/Descreva os trabalhos</small></ng-template>\n            <!--<ng-template let-row=\"row\" #columnDescricao><small>{{ row.descricao }}</small></ng-template>-->\n            <ng-template let-row=\"row\" #editDescricao><input-text controlName=\"descricao\" [control]=\"form!.controls.descricao\" [attr.maxlength]=250></input-text></ng-template>\n        </column>\n        <column type=\"options\"></column>\n    </columns>\n</grid>","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AuthGuard } from 'src/app/guards/auth.guard';\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\nimport { PlanoTrabalhoFormTermoComponent } from './plano-trabalho-form-termo/plano-trabalho-form-termo.component';\nimport { PlanoTrabalhoFormComponent } from './plano-trabalho-form/plano-trabalho-form.component';\nimport { PlanoTrabalhoListComponent } from './plano-trabalho-list/plano-trabalho-list.component';\nimport { PlanoTrabalhoListEntregaComponent } from './plano-trabalho-list-entrega/plano-trabalho-list-entrega.component';\nimport { PlanoTrabalhoConsolidacaoComponent } from './plano-trabalho-consolidacao/plano-trabalho-consolidacao.component';\nimport { PlanoTrabalhoConsolidacaoListComponent } from './plano-trabalho-consolidacao-list/plano-trabalho-consolidacao-list.component';\nimport { AvaliarComponent } from '../../uteis/avaliar/avaliar.component';\nimport { PlanoTrabalhoConsolidacaoAvaliacaoComponent } from './plano-trabalho-consolidacao-avaliacao/plano-trabalho-consolidacao-avaliacao.component';\n\nconst routes: Routes = [\n  { path: '', component: PlanoTrabalhoListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Planos de Trabalho\" } },\n  { path: 'new', component: PlanoTrabalhoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Plano de Trabalho\", modal: true } },\n  { path: 'termo', component: PlanoTrabalhoFormTermoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Termo de adesão\", modal: true } },\n  { path: 'consolidacao/avaliacao', component: PlanoTrabalhoConsolidacaoAvaliacaoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Avaliação das Consolidações do Plano de Trabalho\" } },\n  { path: 'consolidacao/:consolidacaoId/avaliar', component: AvaliarComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Avaliar Consolidação do Plano de Trabalho\" } },\n  { path: 'consolidacao/:consolidacaoId/recurso', component: AvaliarComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Recurso da Avaliação da Consolidação do Plano de Trabalho\" } },\n  { path: 'consolidacao/:usuarioId/:planoTrabalhoId', component: PlanoTrabalhoConsolidacaoListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consolidações do Plano de Trabalho\" } },\n  { path: 'consolidacao', component: PlanoTrabalhoConsolidacaoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consolidações\" } },\n  { path: ':id/edit', component: PlanoTrabalhoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição de Plano de Trabalho\", modal: true } },\n  { path: ':id/consult', component: PlanoTrabalhoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Plano de Trabalho\", modal: true } },\n  { path: 'entregaList', component: PlanoTrabalhoListEntregaComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Lista de Entregas do Plano de Trabalho\", modal: true } },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PlanoTrabalhoRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PlanoTrabalhoRoutingModule } from './plano-trabalho-routing.module';\nimport { PlanoTrabalhoFormComponent } from './plano-trabalho-form/plano-trabalho-form.component';\nimport { PlanoTrabalhoListComponent } from './plano-trabalho-list/plano-trabalho-list.component';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { UteisModule } from '../../uteis/uteis.module';\nimport { PlanoTrabalhoFormTermoComponent } from './plano-trabalho-form-termo/plano-trabalho-form-termo.component';\nimport { PlanoTrabalhoListEntregaComponent } from './plano-trabalho-list-entrega/plano-trabalho-list-entrega.component';\nimport { PlanoTrabalhoConsolidacaoComponent } from './plano-trabalho-consolidacao/plano-trabalho-consolidacao.component';\nimport { PlanoTrabalhoConsolidacaoListComponent } from './plano-trabalho-consolidacao-list/plano-trabalho-consolidacao-list.component';\nimport { PlanoTrabalhoListAccordeonComponent } from './plano-trabalho-list-accordeon/plano-trabalho-list-accordeon.component';\nimport { PlanoTrabalhoConsolidacaoFormComponent } from './plano-trabalho-consolidacao-form/plano-trabalho-consolidacao-form.component';\nimport { PlanoTrabalhoConsolidacaoAvaliacaoComponent } from './plano-trabalho-consolidacao-avaliacao/plano-trabalho-consolidacao-avaliacao.component';\n\n\n@NgModule({\n  declarations: [\n    PlanoTrabalhoFormComponent,\n    PlanoTrabalhoListComponent,\n    PlanoTrabalhoListEntregaComponent,\n    PlanoTrabalhoFormTermoComponent,\n    PlanoTrabalhoConsolidacaoComponent,\n    PlanoTrabalhoConsolidacaoListComponent,\n    PlanoTrabalhoConsolidacaoFormComponent,\n    PlanoTrabalhoListAccordeonComponent,\n    PlanoTrabalhoConsolidacaoAvaliacaoComponent\n  ],\n  imports: [\n    CommonModule,\n    ComponentsModule,\n    ReactiveFormsModule,\n    PlanoTrabalhoRoutingModule,\n    UteisModule\n  ]\n})\nexport class PlanoTrabalhoModule { }\n"],"names":["DaoBaseService","ComparecimentoDaoService","constructor","injector","inputSearchConfig","searchFields","_","i0","ɵɵinject","Injector","_2","factory","ɵfac","providedIn","PlanoTrabalhoConsolidacaoOcorrenciaDaoService","dataset","deeps","deepsFilter","Base","PlanoTrabalhoConsolidacao","data","data_inicio","Date","data_fim","status","avaliacoes","status_historico","plano_trabalho_id","avaliacao_id","initialization","GridComponent","PageListBase","UsuarioDaoService","PlanoTrabalhoConsolidacaoDaoService","UnidadeDaoService","AvaliacaoDaoService","PlanoTrabalhoService","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵproperty","tmp_0_0","ctx_r1","usuarioSeparator","separator_r21","url_foto","tmp_2_0","nome","ɵɵtextInterpolate","tmp_3_0","entityService","getIcon","tmp_5_0","unidadeSeparator","sigla","row_r23","plano_trabalho","ctx_r10","cdRef","ɵɵtextInterpolate1","row_r25","usuario","ctx_r12","util","getDateFormatted","unidade","lex","translate","programa","tipo_modalidade","ctx_r14","row_r26","ctx_r16","row_r27","row_r28","avaliacao","tipo_avaliacao","nota","recurso","ɵɵtemplate","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_30_avaliar_nota_badge_0_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_30_separator_1_Template","length","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_33_badge_2_Template","ctx_r20","lookup","getColor","CONSOLIDACAO_STATUS","row_r33","getValue","PlanoTrabalhoConsolidacaoAvaliacaoComponent","filterWhere","filter","result","form","value","push","usuario_id","unidade_id","unidades_subordinadas","incluir_arquivados","join","extraJoin","groupBy","field","label","usuarioDao","get","unidadeDao","avaliacaoDao","planoTrabalhoService","title","code","fh","FormBuilder","default","addOption","OPTION_INFORMACOES","OPTION_LOGS","ngOnInit","controls","setValue","auth","unidadeGestor","id","lotacao","canFilterSubordinadas","isGestorUnidade","undefined","separator","console","log","grid","usuarioId","group","metadata","extra","planos_trabalhos","find","x","unidadeId","onUnidadeChange","event","onGridLoad","rows","query","planosTrabalhos","forEach","p","plano","programas","programa_id","v","consolidacao","tipos_avaliacoes","tipo_avaliacao_id","refreshConsolidacao","_this","_asyncToGenerator","refreshId","refreshRows","anterior","items","reduce","a","asTimestamp","proximo","dynamicButtons","row","isAvaliador","hasPermissionTo","isIntegrante","isUsuarioDoPlano","BOTAO_AVALIAR","hint","icon","color","onClick","avaliar","bind","BOTAO_REAVALIAR","BOTAO_FAZER_RECURSO","fazerRecurso","BOTAO_CANCELAR_AVALIACAO","cancelarAvaliacao","canAvaliar","includes","canCancelarAvaliacao","data_avaliacao","dias_tolerancia_recurso_avaliacao","daystamp","hora","ɵɵdirectiveInject","selectors","viewQuery","PlanoTrabalhoConsolidacaoAvaliacaoComponent_Query","rf","ctx","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_1_Template","ɵɵtemplateRefExtractor","PlanoTrabalhoConsolidacaoAvaliacaoComponent_toolbar_3_Template","ɵɵlistener","PlanoTrabalhoConsolidacaoAvaliacaoComponent_Template_input_search_change_8_listener","$event","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_16_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_18_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_21_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_24_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_27_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_30_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_33_Template","dao","isModal","orderBy","_r0","selectable","filterSubmit","filterCollapseChange","filterCollapsed","_r7","_r9","_r11","_r13","_r15","_r17","_r19","rowsLimit","ChangeDetectorRef","EditableFormComponent","PageFrameBase","Atividade","PlanoTrabalhoConsolidacaoOcorrencia","TipoAtividadeDaoService","PlanoEntregaService","AtividadeDaoService","AtividadeService","CalendarService","Comparecimento","ctx_r44","row_r43","tipo_atividade","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_4_badge_2_Template","numero","ctx_r30","atividadeService","onIdClick","descricao","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_6_Template_input_search_select_0_listener","ɵɵrestoreView","_r48","ctx_r47","ɵɵnextContext","ɵɵresetView","onTipoAtividadeSelect","ctx_r32","formAtividade","tipo_atividade_id","tipoAtividadeDao","tempo_r51","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_9_badge_1_Template","ctx_r34","temposAtividade","row_r49","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_11_Template_input_datetime_change_0_listener","_r54","ctx_r53","onDataDistribuicaoChange","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_11_Template_input_datetime_change_1_listener","ctx_r55","onDataEstipuladaEntregaChange","ctx_r36","data_distribuicao","data_estipulada_entrega","data_entrega","etiqueta_r60","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_table_3_tr_1_i_2_Template","check_r62","checked","texto","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_table_3_tr_1_Template","row_r56","checklist","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_badge_1_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_separator_2_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_table_3_Template","progresso","etiquetas","ctx_r69","i_r71","check_r70","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_16_table_5_tr_1_Template","ctx_r68","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_16_Template_input_select_details_2_listener","_r73","ctx_r72","onEtiquetaConfigClick","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_16_separator_4_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_16_table_5_Template","ctx_r40","formEdit","addItemHandleEtiquetas","etiqueta","row_r65","status_r77","row_r74","_r28","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_19_badge_2_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_19_comentarios_widget_3_Template","documento_requisicao","ctx_r42","getStatus","entity","editing","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_4_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_6_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_9_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_11_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_16_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_19_Template","atividades","ctx_r4","disabled","addAtividade","entrega","loadAtividade","removeAtividade","saveAtividade","_r29","_r31","_r33","_r35","_r37","_r39","onColumnProgressoEtiquetasChecklistEdit","onColumnProgressoEtiquetasChecklistSave","_r41","atividadeOptionsMetadata","dynamicOptions","row_r79","badge","titulo","cor","row_r80","row_r81","forca_trabalho","row_r82","meta","metaRealizado","row_r83","progresso_realizado","PlanoTrabalhoConsolidacaoFormComponent_ng_template_25_separator_0_div_1_Template_button_click_1_listener","restoredCtx","_r90","pObjetivo_r88","$implicit","ctx_r89","showPlanejamento","objetivo","planejamento_id","PlanoTrabalhoConsolidacaoFormComponent_ng_template_25_separator_0_div_1_Template","ctx_r85","row_r84","objetivos","PlanoTrabalhoConsolidacaoFormComponent_ng_template_25_separator_1_div_1_Template_button_click_1_listener","_r95","pProcesso_r93","ctx_r94","showCadeiaValor","processo","cadeia_valor_id","PlanoTrabalhoConsolidacaoFormComponent_ng_template_25_separator_1_div_1_Template","ctx_r86","processos","PlanoTrabalhoConsolidacaoFormComponent_ng_template_25_separator_0_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_25_separator_1_Template","row_r97","tipo_motivo_afastamento","icone","observacao","ctx_r23","row_r98","ctx_r25","PlanoTrabalhoConsolidacaoFormComponent","noPersist","control","bindEntity","_disabled","detectChanges","joinAtividade","itemsEntregas","itemsOcorrencias","itemsComparecimentos","itemsAfastamentos","validateAtividade","controlName","indexOf","isDataValid","getTime","validateOcorrencia","formOcorrencia","validateComparecimento","between","start","end","consolidacaoOcorrenciaDao","comparecimentoDao","atividadeDao","calendar","ocorrenciaDao","planoEntregaService","comentarios","esforco","tempo_planejado","formComparecimento","data_comparecimento","detalhamento","atividadeRefreshId","removeId","atividadeRemoveId","refresh","loadData","_metadata","planoTrabalhoConsolidacaoFormComponent","atividade","foundIndex","findIndex","getById","then","splice","ngAfterViewInit","loadConsolidacao","dados","entregas","map","plano_entrega_entrega","plano_entrega","planosEntregas","pe","plano_entrega_id","y","plano_trabalho_entrega_id","tipoEntrega","planoTrabalho","getValorMeta","getValorRealizado","ocorrencias","comparecimentos","afastamentos","_this2","gridEntregas","loading","dadosConsolidacao","_this3","efemerides","calculaDataTempoUnidade","carga_horaria","tempoPlanejado","horasUteis","dataInicio","setTime","dataFim","generateUuid","plano_trabalho_entrega","plano_trabalho_consolidacao","demandante","tempo_despendido","tempoUtil","plano_trabalho_consolidacao_id","demandante_id","metadados","atrasado","tempo_atraso","pausado","iniciado","concluido","avaliado","arquivado","produtividade","_status","_this4","patchValue","_this5","confirm","dialog","delete","_this6","gridAtividades","error","markAllAsTouched","valid","fillForm","submitting","save","message","atividadeDynamicButtons","Object","assign","BUTTON_EDIT","BUTTON_DELETE","_this7","merge","b","key","config","clone","_this8","saved","update","go","navigate","route","params","modal","modalClose","modalResult","selectedItem","item","textHash","validateLookupItem","loadTipoAtividade","tipoAtividade","buildEtiquetas","buildChecklist","comentarioAtividade","addOcorrencia","_this9","loadOcorrencia","_this10","removeOcorrencia","_this11","ocorrencia","saveOcorrencia","_this12","ocorrenciaDynamicButtons","addComparecimento","_this13","loadComparecimento","_this14","removeComparecimento","_this15","comparecimento","saveComparecimento","_this16","comparecimentoDynamicButtons","addAfastamento","_this17","filterSnapshot","querySnapshot","afastamentoDynamicButtons","doc","_this18","cadeia_valor_id_id","_this19","PlanoTrabalhoConsolidacaoFormComponent_Query","PlanoTrabalhoConsolidacaoFormComponent_ng_template_5_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_10_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_13_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_16_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_19_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_22_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_25_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_42_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_51_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_53_Template","_r1","_r3","_r5","_r22","_r24","PlanoTrabalhoDaoService","isDisabled","row_r14","ctx_r6","row_r16","ctx_r8","row_r17","row_r18","ctx_r19","tipo_avaliacao_plano_trabalho","PlanoTrabalhoConsolidacaoListComponent_ng_template_18_avaliar_nota_badge_0_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_18_separator_1_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_21_badge_2_Template","PlanoTrabalhoConsolidacaoListComponent","consolidacoes","validate","planoTrabalhoDao","modalWidth","urlParams","has","getByUsuario","planos","agora","expand","addConsolidacao","removeConsolidacao","saveConsolidacao","consolidacaoForm","refreshExpanded","concluir","response","cancelarConclusao","BOTAO_CONCLUIR","BOTAO_CANCELAR_CONCLUSAO","canConcluir","canCancelarConclusao","diasParaConcluirConsolidacao","PlanoTrabalhoConsolidacaoListComponent_Query","PlanoTrabalhoConsolidacaoListComponent_ng_template_7_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_9_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_12_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_15_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_18_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_21_Template","TabsComponent","data_r13","apelido","data_r14","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_collapse_card_7_ng_template_1_Template","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_collapse_card_7_ng_template_3_Template","usuario_r8","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_div_6_Template","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_collapse_card_7_Template","ɵɵtextInterpolate3","ctx_r5","usuarios","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_Template","_r4","ctx_r3","arquivados","PlanoTrabalhoConsolidacaoComponent","loadingUnidade","tabs","active","queryParams","tab","lotados","PlanoTrabalhoConsolidacaoComponent_Query","PlanoTrabalhoConsolidacaoComponent_tab_2_Template","PlanoTrabalhoConsolidacaoComponent_ng_template_4_Template","_r2","DocumentoDaoService","ProgramaDaoService","TipoDocumentoDaoService","TipoModalidadeDaoService","ListenerAllPagesService","PlanoTrabalho","PageFormBase","NavigateResult","PlanoTrabalhoFormTermoComponent","numero_processo","formValidation","tipoDocumento","selectedEntity","tipo_documento_id","titleEdit","programaDao","tipoDocumentoDao","allPages","tipoModalidadeDao","documentoDao","tempo_total","tempo_proporcional","documento_id","documentos","vinculadas","tipo_modalidade_id","forma_contagem_carga_horaria","onVinculadasChange","formValue","Promise","all","loadSearch","tipoModalidade","id_processo","initializeData","saveData","resolve","reject","codigo_tipo_documento","codigo","formaContagemCargaHoraria","forma","PlanoTrabalhoFormTermoComponent_Query","PlanoTrabalhoFormTermoComponent_Template_editable_form_submit_0_listener","onSaveData","PlanoTrabalhoFormTermoComponent_Template_editable_form_cancel_0_listener","onCancel","PlanoTrabalhoFormTermoComponent_Template_input_switch_change_24_listener","formDisabled","ganho_produtividade","ɵɵattribute","DocumentoService","TemplateService","UtilService","horasTotais","ctx_r11","horasParciais","ɵɵelementContainerStart","PlanoTrabalhoFormComponent_ng_container_18_Template_input_workload_change_2_listener","onCargaHorariaChenge","PlanoTrabalhoFormComponent_ng_container_18_separator_5_Template","PlanoTrabalhoFormComponent_ng_container_18_separator_6_Template","ɵɵelementContainerEnd","onFormaContagemCargaHorariaChange","ctx_r7","editar_texto_complementar_unidade","planoDataset","editar_texto_complementar_usuario","ctx_r9","needSign","extraTags","editingId","datasource","template_tcr","PlanoTrabalhoFormComponent","gestoresUnidadeExecutora","_ref","_x","apply","arguments","joinPrograma","documentoService","templateService","utilService","unidade_texto_complementar","usuario_texto_complementar","criterios_avaliacao","criterio_avaliacao","segment","url","path","action","buscaGestoresUnidadeExecutora","atualizarTcr","loadEntity","textoUsuario","textoUnidade","documento","template","isTermos","onUnidadeSelect","selected","entidade","texto_complementar_plano","onProgramaSelect","plano_trabalho_criterios_avaliacao","updateValueAndValidity","calculaTempos","onUsuarioSelect","unidades","every","_ref2","niveis","split","reverse","hoje","preenchido","indice","where","asPromise","preencheUnidade","preenchePrograma","_x2","onDataInicioChange","onDataFimChange","inicio","fim","carga","loadFeriadosCadastrados","feriados","carga_horaria_padrao","fill","requests","responses","onTabSelect","documentoDynamicButtons","signDocumento","html","conteudo","addItemHandleCriteriosAvaliacao","sign","unit","isVigente","gestor","gestor_substituto","gestor_delegado","PlanoTrabalhoFormComponent_Query","PlanoTrabalhoFormComponent_Template_editable_form_submit_0_listener","PlanoTrabalhoFormComponent_Template_editable_form_cancel_0_listener","PlanoTrabalhoFormComponent_Template_input_search_select_7_listener","PlanoTrabalhoFormComponent_Template_input_search_select_9_listener","PlanoTrabalhoFormComponent_Template_input_search_select_11_listener","PlanoTrabalhoFormComponent_Template_input_datetime_change_14_listener","PlanoTrabalhoFormComponent_Template_input_datetime_change_15_listener","PlanoTrabalhoFormComponent_ng_container_18_Template","PlanoTrabalhoFormComponent_top_alert_23_Template","PlanoTrabalhoFormComponent_div_24_Template","PlanoTrabalhoFormComponent_tab_25_Template","PlanoTrabalhoFormComponent_tab_26_Template","ɵɵpureFunction0","_c11","plano_trabalho_calcula_horas","checkFilled","_c12","_c13","badge_r7","PlanoTrabalhoListAccordeonComponent_ng_template_13_badge_11_Template","item_r5","ctx_r2","getPlanoBadges","PLANO_TRABALHO_STATUS","item_r8","PlanoTrabalhoListAccordeonComponent","_arquivados","viewInit","selectedIndex","accordion","self","i","concluidos","avaliados","getLookup","textValue","toString","JSON","stringify","badges","PlanoTrabalhoListAccordeonComponent_Query","PlanoTrabalhoListAccordeonComponent_ng_template_13_Template","PlanoTrabalhoListAccordeonComponent_ng_template_15_Template","ɵɵtextInterpolate4","PlanoTrabalhoEntrega","PlanoTrabalhoEntregaDaoService","PlanoEntregaDaoService","PlanoEntregaEntregaDaoService","ctx_r29","orgao","PlanoTrabalhoListEntregaComponent_ng_template_6_badge_3_Template","PlanoTrabalhoListEntregaComponent_ng_template_6_badge_4_Template","plano_entrega_entrega_id","PlanoTrabalhoListEntregaComponent_ng_template_8_input_search_2_Template_input_search_change_0_listener","ctx_r38","onPlanoEntregaChange","ctx_r35","_c3","_r34","ɵɵpureFunction2","_c6","ɵɵpureFunction1","_c4","_c5","_c7","_c9","_c8","_c10","planoEntregaDao","PlanoTrabalhoListEntregaComponent_ng_template_8_Template_input_select_change_0_listener","_r42","ctx_r41","onOrigemChange","PlanoTrabalhoListEntregaComponent_ng_template_8_input_search_2_Template","PlanoTrabalhoListEntregaComponent_ng_template_8_input_text_3_Template","origem","ORIGENS_ENTREGAS_PLANO_TRABALHO","ctx_r45","row_r44","PlanoTrabalhoListEntregaComponent_ng_template_13_div_2_Template","tipo","PlanoTrabalhoListEntregaComponent_ng_template_15_input_select_0_Template_input_select_change_0_listener","_r52","ctx_r51","onEntregaChange","ctx_r48","ctx_r49","PlanoTrabalhoListEntregaComponent_ng_template_15_input_select_0_Template","PlanoTrabalhoListEntregaComponent_ng_template_15_div_1_Template","ctx_r54","totalForcaTrabalho","ctx_r56","PlanoTrabalhoListEntregaComponent_ng_template_18_div_1_Template","PlanoTrabalhoListEntregaComponent_ng_template_18_ng_template_2_Template","_r55","row_r57","PlanoTrabalhoListEntregaComponent_ng_template_22_Template_input_text_change_0_listener","_r60","row_r58","ctx_r59","onForcaTrabalhoChange","ctx_r18","row_r62","PlanoTrabalhoListEntregaComponent_ng_template_27_div_0_Template","ctx_r22","_r23","ctx_r26","PlanoTrabalhoListEntregaComponent","gridControl","options","e","peeDao","validateEntregas","planoInterval","entregaPlano","entregaDataFim","entregaInterval","intersection","_superprop_getNgOnInit","call","Math","round","somaForcaTrabalho","novaEntrega","addEntrega","loadEntrega","carregarEntregas","removeEntrega","isNoPersist","saveEntrega","saveEndEntrega","idPlanoOuPlano","planoEntrega","planoEntregaComUnidade","epe","onSelectClick","Event","index","PlanoTrabalhoListEntregaComponent_Query","PlanoTrabalhoListEntregaComponent_ng_template_4_Template","PlanoTrabalhoListEntregaComponent_ng_template_6_Template","PlanoTrabalhoListEntregaComponent_ng_template_8_Template","PlanoTrabalhoListEntregaComponent_ng_template_11_Template","PlanoTrabalhoListEntregaComponent_ng_template_13_Template","PlanoTrabalhoListEntregaComponent_ng_template_15_Template","PlanoTrabalhoListEntregaComponent_ng_template_18_Template","PlanoTrabalhoListEntregaComponent_ng_template_20_Template","PlanoTrabalhoListEntregaComponent_ng_template_22_Template","PlanoTrabalhoListEntregaComponent_ng_template_25_Template","PlanoTrabalhoListEntregaComponent_ng_template_27_Template","PlanoTrabalhoListEntregaComponent_ng_template_29_Template","PlanoTrabalhoListEntregaComponent_ng_template_31_Template","_r21","_r25","RouterModule","AuthGuard","ConfigResolver","PlanoTrabalhoListComponent","AvaliarComponent","routes","component","canActivate","runGuardsAndResolvers","PlanoTrabalhoRoutingModule","_3","forChild","imports","i1","exports","CommonModule","ComponentsModule","ReactiveFormsModule","UteisModule","PlanoTrabalhoModule","declarations","NgIf","i2","i3","ColumnsComponent","i4","ColumnComponent","i5","FilterComponent","i6","ToolbarComponent","i7","PaginationComponent","i8","InputSwitchComponent","i9","InputSearchComponent","i10","InputTextComponent","i11","InputDatetimeComponent","i12","InputSelectComponent","i13","ReportComponent","i14","OrderComponent","i15","BadgeComponent","i16","DocumentosBadgeComponent"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}