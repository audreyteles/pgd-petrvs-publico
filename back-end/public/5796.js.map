{"version":3,"file":"5796.js","mappings":"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","sources":["./src/app/dao/comparecimento-dao.service.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-avaliacao/plano-trabalho-consolidacao-avaliacao.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-avaliacao/plano-trabalho-consolidacao-avaliacao.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-form/plano-trabalho-consolidacao-form.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-form/plano-trabalho-consolidacao-form.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-list/plano-trabalho-consolidacao-list.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-list/plano-trabalho-consolidacao-list.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao/plano-trabalho-consolidacao.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao/plano-trabalho-consolidacao.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-form-termo/plano-trabalho-form-termo.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-form-termo/plano-trabalho-form-termo.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-form/plano-trabalho-form.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-form/plano-trabalho-form.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-list-accordeon/plano-trabalho-list-accordeon.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-list-accordeon/plano-trabalho-list-accordeon.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-list-entrega/plano-trabalho-list-entrega.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-list-entrega/plano-trabalho-list-entrega.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-routing.module.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho.module.ts"],"sourcesContent":["import { Injectable, Injector } from '@angular/core';\r\nimport { Comparecimento } from '../models/comparecimento.model';\r\nimport { DaoBaseService } from './dao-base.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ComparecimentoDaoService extends DaoBaseService<Comparecimento> {\r\n\r\n  constructor(protected injector: Injector) {\r\n    super(\"Comparecimento\", injector);\r\n    this.inputSearchConfig.searchFields = [\"data_comparecimento\"];\r\n  }\r\n\r\n}\r\n\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent, GridGroupSeparator } from 'src/app/components/grid/grid.component';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { PlanoTrabalhoConsolidacao } from 'src/app/models/plano-trabalho-consolidacao.model';\r\nimport { PlanoTrabalhoConsolidacaoDaoService } from 'src/app/dao/plano-trabalho-consolidacao-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { Avaliacao } from 'src/app/models/avaliacao.model';\r\nimport { Base } from 'src/app/models/base.model';\r\nimport { TipoAvaliacao } from 'src/app/models/tipo-avaliacao.model';\r\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\r\nimport { AvaliacaoDaoService } from 'src/app/dao/avaliacao-dao.service';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PlanoTrabalhoService } from '../plano-trabalho.service';\r\nimport { Programa } from 'src/app/models/programa.model';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { UnidadeService } from 'src/app/services/unidade.service';\r\n\r\n@Component({\r\n  selector: 'app-plano-trabalho-consolidacao-avaliacao',\r\n  templateUrl: './plano-trabalho-consolidacao-avaliacao.component.html',\r\n  styleUrls: ['./plano-trabalho-consolidacao-avaliacao.component.scss']\r\n})\r\n\r\nexport class PlanoTrabalhoConsolidacaoAvaliacaoComponent extends PageListBase<PlanoTrabalhoConsolidacao, PlanoTrabalhoConsolidacaoDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  public usuarioDao: UsuarioDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public avaliacaoDao: AvaliacaoDaoService;\r\n  public planoTrabalhoService: PlanoTrabalhoService;\r\n  public unidadeService: UnidadeService;\r\n  public extraJoin: string[];\r\n  public extra: any;\r\n\r\n  public avaliacoes: Avaliacao[] = [];\r\n  public avaliacao: Avaliacao = new Avaliacao();\r\n  public consolidacaoId?: string[] = [];//public consolidacaoId?: PlanoTrabalhoConsolidacao[] = [];\r\n  public joinAvaliacao: string[] = [\"avaliador\", \"entregas_checklist\", \"tipo_avaliacao.notas\"];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, PlanoTrabalhoConsolidacao, PlanoTrabalhoConsolidacaoDaoService);\r\n    this.unidadeService = injector.get<UnidadeService>(UnidadeService);\r\n    /* Inicializações */\r\n    this.join = [\r\n      \"avaliacao\", // \"avaliacao.tipoAvaliacao.notas\"\r\n      \"plano_trabalho:id\", // \"planoTrabalho.unidade:id,sigla,nome\", \"planoTrabalho.unidade.gestor:id,unidade_id,usuario_id\", \"planoTrabalho.unidade.gestorSubstituto:id,unidade_id,usuario_id\", \"planoTrabalho.tipoModalidade:id,nome\", \"planoTrabalho.usuario:id,nome,apelido,url_foto\"\r\n    ];\r\n    this.extraJoin = [ // Utilizado pelo RefreshId\r\n      \"avaliacao.tipoAvaliacao.notas\",\r\n      \"planoTrabalho.unidade:id,sigla,nome\", \r\n      \"planoTrabalho.unidade.gestor:id,unidade_id,usuario_id\", \r\n      \"planoTrabalho.unidade.gestorSubstituto:id,unidade_id,usuario_id\", \r\n      \"planoTrabalho.tipoModalidade:id,nome\", \r\n      \"planoTrabalho.usuario:id,nome,apelido,foto_perfil,url_foto\"//id,nome,apelido,url_foto,foto_perfil\r\n    ];\r\n    this.groupBy = [\r\n      { field: \"plano_trabalho.unidade.sigla\", label: this.lex.translate(\"Unidade\") }, \r\n      { field: \"plano_trabalho.unidade.id\", label: \"Unidade Id\" }, \r\n      { field: \"plano_trabalho.usuario.nome\", label: this.lex.translate(\"Participante\") },\r\n      { field: \"plano_trabalho.usuario.id\", label: \"Usuário Id\" }\r\n    ];\r\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.avaliacaoDao = injector.get<AvaliacaoDaoService>(AvaliacaoDaoService);\r\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\r\n    this.title = \"Avaliações \" + this.lex.translate(\"das Consolidações\");\r\n    this.code = \"MOD_PTR_CSLD_AVAL\";\r\n    this.filter = this.fh.FormBuilder({\r\n      usuario_id: {default: \"\"},\r\n      unidade_id: {default: \"\"},\r\n      unidades_subordinadas: {default: false},\r\n      incluir_arquivados: {default: false}\r\n    });\r\n    this.addOption(this.OPTION_INFORMACOES);\r\n    this.addOption(this.OPTION_LOGS, \"MOD_AUDIT_LOG\");\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.filter!.controls.unidade_id.setValue(this.auth.unidadeGestor()?.id || this.auth.lotacao || null);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n    result.push([\"status\", \"in\", [\"CONCLUIDO\", \"AVALIADO\"]]);\r\n//    if(form.usuario_id?.length) result.push([\"usuario_id\", \"==\", form.usuario_id]);\r\n    if(form.usuario_id?.length) result.push([\"plano_trabalho.usuario.id\", \"==\", form.usuario_id]);\r\n    if(form.unidade_id?.length) result.push([\"plano_trabalho.unidade.id\", \"==\", form.unidade_id]);\r\n    if(form.unidades_subordinadas) result.push([\"unidades_subordinadas\", \"==\", true]);\r\n    if(form.incluir_arquivados) result.push([\"incluir_arquivados\", \"==\", true]);\r\n    return result;\r\n  }\r\n\r\n  public get canFilterSubordinadas(): string | undefined {\r\n    return this.unidadeService.isGestorUnidade(this.filter!.controls.unidade_id.value) ? undefined : 'true';\r\n  }\r\n\r\n  public usuarioSeparator(separator: GridGroupSeparator) {\r\n    let usuarioId = separator.group[3].value;\r\n    separator.metadata = separator.metadata || {};\r\n    separator.metadata.usuario = separator.metadata.usuario || this.extra?.planos_trabalhos?.find((x: PlanoTrabalho) => x.usuario_id == usuarioId)?.usuario;\r\n    return separator.metadata.usuario;\r\n  }\r\n\r\n  public unidadeSeparator(separator: GridGroupSeparator) {\r\n    let unidadeId = separator.group[1].value;\r\n    separator.metadata = separator.metadata || {};\r\n    separator.metadata.unidade = separator.metadata.unidade || this.extra?.planos_trabalhos?.find((x: PlanoTrabalho) => x.unidade_id == unidadeId)?.unidade;\r\n    return separator.metadata.unidade;\r\n  }\r\n\r\n  public onUnidadeChange(event: Event) {\r\n    if(!this.unidadeService.isGestorUnidade(this.filter!.controls.unidade_id.value)) this.filter!.controls.unidades_subordinadas.setValue(false);\r\n  }\r\n\r\n  public onGridLoad(rows?: Base[]) {\r\n    this.extra = (this.grid?.query || this.query!).extra;\r\n    let planosTrabalhos = (this.extra?.planos_trabalhos || []) as PlanoTrabalho[];\r\n    planosTrabalhos.forEach(p => {\r\n      let plano = p as PlanoTrabalho;\r\n      plano.programa = this.extra?.programas?.find((x: Programa) => x.id == plano.programa_id);\r\n    });\r\n    rows?.forEach(v => {\r\n      let consolidacao = v as PlanoTrabalhoConsolidacao;\r\n      consolidacao.plano_trabalho = this.extra?.planos_trabalhos?.find((x: PlanoTrabalho) => x.id == consolidacao.plano_trabalho_id);\r\n      if(consolidacao.avaliacao) consolidacao.avaliacao.tipo_avaliacao = this.extra?.tipos_avaliacoes?.find((x: TipoAvaliacao) => x.id == consolidacao.avaliacao!.tipo_avaliacao_id);\r\n    });\r\n  }\r\n\r\n  public refreshConsolidacao(consolidacao: PlanoTrabalhoConsolidacao) {\r\n    (async () => {\r\n      await this.grid!.query!.refreshId(consolidacao.id, this.extraJoin);\r\n      this.grid!.refreshRows();\r\n    })();\r\n  }\r\n\r\n  public anterior(consolidacao: PlanoTrabalhoConsolidacao): PlanoTrabalhoConsolidacao | undefined {\r\n    return (this.grid!.items as PlanoTrabalhoConsolidacao[]).reduce((a: PlanoTrabalhoConsolidacao | undefined, v: PlanoTrabalhoConsolidacao) => this.util.asTimestamp(v.data_inicio) < this.util.asTimestamp(consolidacao.data_inicio) && (!a || this.util.asTimestamp(a.data_inicio) < this.util.asTimestamp(v.data_inicio)) ? v : a, undefined);\r\n  }\r\n\r\n  public proximo(consolidacao: PlanoTrabalhoConsolidacao): PlanoTrabalhoConsolidacao | undefined {\r\n    return (this.grid!.items as PlanoTrabalhoConsolidacao[]).reduce((a: PlanoTrabalhoConsolidacao | undefined, v: PlanoTrabalhoConsolidacao) => this.util.asTimestamp(v.data_fim) > this.util.asTimestamp(consolidacao.data_fim) && (!a || this.util.asTimestamp(a.data_fim) > this.util.asTimestamp(v.data_fim)) ? v : a, undefined);\r\n  }\r\n\r\n  public dynamicButtons(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let consolidacao: PlanoTrabalhoConsolidacao = row as PlanoTrabalhoConsolidacao;\r\n    let programa: Programa = consolidacao.plano_trabalho!.programa!;\r\n    const usuarioId = consolidacao.plano_trabalho!.usuario_id;\r\n    const unidadeId = consolidacao.plano_trabalho!.unidade_id;\r\n    const anterior = this.anterior(row as PlanoTrabalhoConsolidacao);\r\n    const proximo = this.proximo(row as PlanoTrabalhoConsolidacao);\r\n    const isAvaliador = this.auth.hasPermissionTo(\"MOD_PTR_CSLD_AVAL\") && (this.unidadeService.isGestorUnidade(unidadeId) || this.auth.isIntegrante('AVALIADOR_PLANO_TRABALHO', unidadeId));\r\n    const isUsuarioDoPlano = this.auth.usuario!.id == usuarioId;\r\n    const BOTAO_AVALIAR = { hint: \"Avaliar\", icon: \"bi bi-star\", color: \"btn-outline-warning\", onClick: (row: PlanoTrabalhoConsolidacao) => this.planoTrabalhoService.avaliar(row, programa, this.refreshConsolidacao.bind(this)) };\r\n    const BOTAO_REAVALIAR = { hint: \"Reavaliar\", icon: \"bi bi-star-half\", color: \"btn-outline-warning\", onClick: (row: PlanoTrabalhoConsolidacao) => this.planoTrabalhoService.avaliar(row, programa, this.refreshConsolidacao.bind(this)) };\r\n    const BOTAO_FAZER_RECURSO = { hint: \"Fazer recurso\", id: \"RECORRIDO\", icon: \"bi bi-journal-medical\", color: \"btn-outline-warning\", onClick: (row: PlanoTrabalhoConsolidacao) => this.planoTrabalhoService.fazerRecurso(row, programa, this.refreshConsolidacao.bind(this)) };\r\n    const BOTAO_CANCELAR_AVALIACAO = { hint: \"Cancelar avaliação\", id: \"INCLUIDO\", icon: \"bi bi-backspace\", color: \"btn-outline-danger\", onClick: (row: PlanoTrabalhoConsolidacao) => this.planoTrabalhoService.cancelarAvaliacao(row, this, this.refreshConsolidacao.bind(this)) };\r\n    /* (RN_CSLD_11) Não pode concluir a consolidação antes que a anterior não esteja concluida, e não pode retornar status da consolidação se a posterior estiver a frente (em status); */\r\n    const canAvaliar = !anterior || [\"AVALIADO\"].includes(anterior!.status);\r\n    const canCancelarAvaliacao = !proximo || [\"INCLUIDO\", \"CONCLUIDO\"].includes(proximo!.status);\r\n    if(consolidacao.status == \"CONCLUIDO\" && canAvaliar && isAvaliador) {\r\n      result.push(BOTAO_AVALIAR);\r\n    }\r\n    if(consolidacao.status == \"AVALIADO\" && consolidacao!.avaliacao) {\r\n      /* (RN_AVL_2) [PT] O usuário do plano de trabalho que possuir o acesso MOD_PTR_CSLD_REC_AVAL poderá recorrer da nota atribuida dentro do limites estabelecido pelo programa; */\r\n      if(isUsuarioDoPlano && this.auth.hasPermissionTo('MOD_PTR_CSLD_REC_AVAL') && consolidacao!.avaliacao?.data_avaliacao && \r\n        (!programa.dias_tolerancia_recurso_avaliacao || \r\n        (this.util.daystamp(consolidacao!.avaliacao!.data_avaliacao) + programa.dias_tolerancia_recurso_avaliacao > this.util.daystamp(this.auth.hora)))) {\r\n        result.push(BOTAO_FAZER_RECURSO);\r\n      }\r\n      /* (RN_AVL_3) [PT] Após o recurso será realizado nova avaliação, podendo essa ser novamente recorrida dentro do mesmo prazo estabelecido no programa; */\r\n      /* (RN_AVL_6) [PT] Qualquer usuário capaz de avaliar tambem terá a capacidade de cancelar a avaliação; */\r\n      if(canAvaliar && isAvaliador) {\r\n        result.push(BOTAO_REAVALIAR);\r\n        if(canCancelarAvaliacao) result.push(BOTAO_CANCELAR_AVALIACAO);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public async onSelectTab(tab: LookupItem) {\r\n    if(this.viewInit) this.saveUsuarioConfig({active_tab: tab.key});\r\n  }\r\n\r\n  public initGrid(grid: GridComponent) {\r\n    grid.queryInit();\r\n  }\r\n\r\n  public filterWhereHistorico = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n    result.push([\"status\", \"in\", [\"AVALIADO\"]]);\r\n    if(form.usuario_id?.length) result.push([\"plano_trabalho.usuario.id\", \"==\", form.usuario_id]);\r\n    if(form.unidade_id?.length) result.push([\"plano_trabalho.unidade.id\", \"==\", form.unidade_id]);\r\n    if(form.unidades_subordinadas) result.push([\"unidades_subordinadas\", \"==\", true]);\r\n    if(form.incluir_arquivados) result.push([\"incluir_arquivados\", \"==\", true]);\r\n    return result;\r\n  }\r\n\r\n  public getAvaliacoes(row: any) {\r\n    return this.avaliacoes!.filter((x: Avaliacao) => x.plano_trabalho_consolidacao_id == row.id);\r\n  }\r\n\r\n  public async loadData() {\r\n    this.loading = true;\r\n    try {\r\n      this.avaliacoes = await this.avaliacaoDao!.query({where: [[\"plano_trabalho_consolidacao_id\", \"in\", this.consolidacaoId]], join: this.joinAvaliacao, orderBy: [[\"data_avaliacao\", \"desc\"]]}).asPromise();\r\n      this.avaliacao = this.avaliacoes[0] || this.avaliacao;\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n\r\n  public onGridLoadHistorico(rows?: Base[]) {\r\n    this.extra = (this.grid?.query || this.query!).extra;\r\n    let planosTrabalhos = (this.extra?.planos_trabalhos || []) as PlanoTrabalho[];\r\n    planosTrabalhos.forEach(p => {\r\n      let plano = p as PlanoTrabalho;\r\n      plano.programa = this.extra?.programas?.find((x: Programa) => x.id == plano.programa_id);\r\n    });\r\n    rows?.forEach(v => {\r\n      this.consolidacaoId?.push(v.id);\r\n      let consolidacao = v as PlanoTrabalhoConsolidacao;\r\n      consolidacao.plano_trabalho = this.extra?.planos_trabalhos?.find((x: PlanoTrabalho) => x.id == consolidacao.plano_trabalho_id);\r\n      if(consolidacao.avaliacao) consolidacao.avaliacao.tipo_avaliacao = this.extra?.tipos_avaliacoes?.find((x: TipoAvaliacao) => x.id == consolidacao.avaliacao!.tipo_avaliacao_id);\r\n    });\r\n    this.loadData();\r\n  }\r\n\r\n  public getNota(row:any) {\r\n    return row.tipo_avaliacao.notas.find((x: any) => x.codigo == row.nota);\r\n  }\r\n}\r\n\r\n","<tabs right [title]=\"isModal ? '' : title\" [select]=\"onSelectTab.bind(this)\">\r\n    <tab key=\"CONSOLIDACOES\" icon=\"bi bi-clipboard-check\" [label]=\"lex.translate('Consolidações')\" [template]=\"consolidacoes\">\r\n        <ng-template #consolidacoes>\r\n            <grid [dao]=\"dao\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\" [init]=\"initGrid.bind(this)\"\r\n                [hasAdd]=\"false\" [hasEdit]=\"false\" [loadList]=\"onGridLoad.bind(this)\" [groupTemplate]=\"groupUnidadeUsuario\"><!--[title]=\"isModal ? '' : title\"-->\r\n                <ng-template let-separator=\"separator\" #groupUnidadeUsuario>\r\n                    <div class=\"d-flex\">\r\n                        <div class=\"ms-3\">\r\n                            <profile-picture [url]=\"usuarioSeparator(separator)?.url_foto\" [size]=\"40\" [hint]=\"usuarioSeparator(separator)?.nome\"></profile-picture>\r\n                        </div>\r\n                        <div class=\"flex-fill ms-3\">\r\n                            <strong>{{usuarioSeparator(separator)?.nome || \"Desconhecido\"}}</strong><br>\r\n                            <badge [icon]=\"entityService.getIcon('Unidade')\" color=\"primary\" [label]=\"unidadeSeparator(separator)?.sigla || 'Desconhecido'\"></badge>\r\n                        </div>\r\n                    </div>\r\n                </ng-template>\r\n                <toolbar *ngIf=\"!selectable\"></toolbar>\r\n                <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"filterCollapsed\" [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\">\r\n                    <div class=\"row\">\r\n                        <input-search [size]=\"5\" #usuario [control]=\"filter!.controls.usuario_id\" controlName=\"usuario_id\" [dao]=\"usuarioDao\"></input-search>\r\n                        <input-search [size]=\"5\" #unidade [control]=\"filter!.controls.unidade_id\" controlName=\"unidade_id\" [dao]=\"unidadeDao\" (change)=\"onUnidadeChange($event)\"></input-search>\r\n                        <input-switch [size]=\"1\" #subordinadas [disabled]=\"canFilterSubordinadas\" label=\"Sub.\" [control]=\"filter!.controls.unidades_subordinadas\" controlName=\"unidades_subordinadas\" labelInfo=\"Incluir as unidades subordinadas\"></input-switch>\r\n                        <input-switch [size]=\"1\" #arquivadas label=\"Arq.\" [control]=\"filter!.controls.incluir_arquivados\" controlName=\"incluir_arquivados\" labelInfo=\"Incluir os planos de trabalhos arquivados\"></input-switch>\r\n                    </div>\r\n                </filter>\r\n                <columns>\r\n                    <column type=\"expand\" [icon]=\"entityService.getIcon('PlanoTrabalhoConsolidacao')\" [align]=\"'center'\" [hint]=\"lex.translate('Consolidação')\" [template]=\"columnConsolidacao\" [expandTemplate]=\"columnExpandedConsolidacao\">\r\n                        <ng-template let-row=\"row\" #columnConsolidacao>\r\n                            <!--span *ngIf=\"row?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-boxes\"></i> {{row?.length}}</span//-->\r\n                        </ng-template>\r\n                        <ng-template let-row=\"row\" #columnExpandedConsolidacao>\r\n                            <plano-trabalho-consolidacao-form #consolidacao [disabled]=\"true\" [entity]=\"row\" [planoTrabalho]=\"row.plano_trabalho\" [cdRef]=\"cdRef\"></plano-trabalho-consolidacao-form>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column [title]=\"'Plano de trabalho/Vigência\\nUnidade/Programa/Modalidade'\" [template]=\"columnPlanoTrabalho\">\r\n                        <ng-template let-row=\"row\" #columnPlanoTrabalho>\r\n                            {{row.plano_trabalho.usuario.nome}} <badge label=\"Início\" color=\"light\" icon=\"bi bi-calendar2\" [textValue]=\"util.getDateFormatted(row.plano_trabalho.data_inicio)\"></badge><badge label=\"Término\" color=\"light\" icon=\"bi bi-calendar2-check\" [textValue]=\"util.getDateFormatted(row.plano_trabalho.data_fim)\"></badge><br>\r\n                            <badge [icon]=\"entityService.getIcon('Unidade')\" [label]=\"row.plano_trabalho.unidade?.sigla\" color=\"light\" [hint]=\"lex.translate('Unidade') + ': ' + row.plano_trabalho.unidade?.nome\"></badge>\r\n                            <badge [icon]=\"entityService.getIcon('Programa')\" [label]=\"row.plano_trabalho.programa?.nome\" color=\"light\" [hint]=\"lex.translate('Programa')\"></badge>\r\n                            <badge [icon]=\"entityService.getIcon('TipoModalidade')\" [label]=\"row.plano_trabalho.tipo_modalidade?.nome\" color=\"light\" [hint]=\"lex.translate('Tipo de modalidade')\"></badge>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Data início\" [template]=\"columnDataInicio\">\r\n                        <ng-template let-row=\"row\" #columnDataInicio>\r\n                            {{util.getDateFormatted(row.data_inicio)}}\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Data fim\" [template]=\"columnDataFim\">\r\n                        <ng-template let-row=\"row\" #columnDataFim>\r\n                            <strong>{{util.getDateFormatted(row.data_fim)}}</strong>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column [title]=\"'Estatísticas\\nAvaliações'\" [template]=\"columnEstatisticas\" [width]=\"300\">\r\n                        <ng-template let-row=\"row\" #columnEstatisticas>\r\n                            <avaliar-nota-badge *ngIf=\"row.avaliacao\" [align]=\"'left'\" [tipoAvaliacao]=\"row.avaliacao.tipo_avaliacao\" [nota]=\"row.avaliacao.nota\"></avaliar-nota-badge>\r\n                            <separator *ngIf=\"row.avaliacao?.recurso?.length\" title=\"Recurso da avaliação\" collapse [collapsed]=\"false\">\r\n                                <small>{{row.avaliacao.recurso}}</small>\r\n                            </separator>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Status\" [template]=\"columnStatus\">\r\n                        <ng-template let-row=\"row\" #columnStatus>\r\n                            <div class=\"one-per-line\">\r\n                                <badge [color]=\"lookup.getColor(lookup.CONSOLIDACAO_STATUS, row.status)\" [icon]=\"lookup.getIcon(lookup.CONSOLIDACAO_STATUS, row.status)\" [label]=\"lookup.getValue(lookup.CONSOLIDACAO_STATUS, row.status)\"></badge>\r\n                                <badge *ngIf=\"row.avaliacao?.recurso?.length\" icon=\"bi bi-journal-medical\" color=\"warning\" label=\"Recorrido\"></badge>\r\n                            </div>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column type=\"options\" [dynamicButtons]=\"dynamicButtons.bind(this)\"></column>\r\n                </columns>\r\n                <pagination [rows]=\"rowsLimit\"></pagination>\r\n            </grid>\r\n        </ng-template>\r\n    </tab>\r\n    <!--Aba Histórico de Avaliações-------------------------------------------------------------->\r\n    <tab key=\"HISTORICO\" icon=\"bi bi-clipboard-pulse\" label=\"Histórico de Avaliações\" [template]=\"historico\">\r\n        <ng-template #historico>\r\n            <grid [dao]=\"dao\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\" [init]=\"initGrid.bind(this)\"\r\n                [hasAdd]=\"false\" [hasEdit]=\"false\" [loadList]=\"onGridLoadHistorico.bind(this)\" [groupTemplate]=\"groupHistorico\">\r\n                <ng-template let-separator=\"separator\" let-row=\"row\" #groupHistorico>\r\n                    <div class=\"d-flex\">\r\n                        <div class=\"ms-3\">\r\n                            <profile-picture [url]=\"usuarioSeparator(separator)?.url_foto\" [size]=\"40\" [hint]=\"usuarioSeparator(separator)?.nome\"></profile-picture>\r\n                        </div> \r\n                        <div class=\"flex-fill ms-3\">\r\n                            <strong>{{usuarioSeparator(separator)?.nome || \"Desconhecido\"}}</strong><br>\r\n                            <badge [icon]=\"entityService.getIcon('Unidade')\" color=\"primary\" [label]=\"unidadeSeparator(separator)?.sigla || 'Desconhecido'\"></badge>\r\n                        </div>\r\n                    </div>\r\n                </ng-template>\r\n                <toolbar *ngIf=\"!selectable\"></toolbar>\r\n                <filter [form]=\"filter\" [where]=\"filterWhereHistorico\" [submit]=\"filterSubmit.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"filterCollapsed\" [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\">\r\n                    <div class=\"row\">\r\n                        <input-search [size]=\"5\" #usuario [control]=\"filter!.controls.usuario_id\" controlName=\"usuario_id\" [dao]=\"usuarioDao\"></input-search>\r\n                        <input-search [size]=\"5\" #unidade [control]=\"filter!.controls.unidade_id\" controlName=\"unidade_id\" [dao]=\"unidadeDao\" (change)=\"onUnidadeChange($event)\"></input-search>\r\n                        <input-switch [size]=\"1\" #subordinadas [disabled]=\"canFilterSubordinadas\" label=\"Sub.\" [control]=\"filter!.controls.unidades_subordinadas\" controlName=\"unidades_subordinadas\" labelInfo=\"Incluir as unidades subordinadas\"></input-switch>\r\n                        <input-switch [size]=\"1\" #arquivadas label=\"Arq.\" [control]=\"filter!.controls.incluir_arquivados\" controlName=\"incluir_arquivados\" labelInfo=\"Incluir os planos de trabalhos arquivados\"></input-switch>\r\n                    </div>\r\n                </filter>\r\n                <columns>\r\n                    <column type=\"expand\" [icon]=\"entityService.getIcon('PlanoTrabalhoConsolidacao')\" [align]=\"'center'\" [template]=\"columnHistorico\" [expandTemplate]=\"columnExpandedHistorico\">\r\n                        <ng-template #columnHistorico>\r\n                        </ng-template>\r\n\r\n                        <ng-template let-row=\"row\" #columnExpandedHistorico>\r\n                            \r\n                            <grid [items]=\"getAvaliacoes(row)\" [minHeight]=\"0\" #gridEntregas>\r\n                                <columns>\r\n                                    <column title=\"Data\" type=\"datetime\" field=\"data_avaliacao\"></column>\r\n                                    <column title=\"Avaliador\" [template]=\"columnAvaliador\">\r\n                                        <ng-template let-row=\"row\" #columnAvaliador>\r\n                                            <div class=\"avaliador\">\r\n                                                <div class=\"avaliador-profile\">\r\n                                                    <profile-picture [url]=\"row.avaliador.url_foto || ''\" [size]=\"40\" [hint]=\"row.avaliador.nome || ''\"></profile-picture>\r\n                                                </div>\r\n                                                <div class=\"avaliador-nome\">\r\n                                                    <strong>{{row.avaliador.nome || \"\"}}</strong><br>\r\n                                                    <small>{{row.avaliador.apelido || \"\"}}</small>\r\n                                                </div>\r\n                                            </div>\r\n                                        </ng-template>\r\n                                    </column>\r\n                                    <column [title]=\"'Nota'\" [template]=\"columnNota\">\r\n                                        <ng-template let-row=\"row\" #columnNota>\r\n                                            <badge [label]=\"getNota(row).nota\" [icon]=\"getNota(row).icone\" [color]=\"getNota(row).cor\"></badge><br>\r\n                                            <small>{{getNota(row).descricao}}</small>\r\n                                        </ng-template>\r\n                                    </column>\r\n                                    <column [title]=\"'Justificativas'\" [template]=\"columnJustificativa\">\r\n                                        <ng-template let-row=\"row\" #columnJustificativa>\r\n                                            {{row.justificativa || ''}}\r\n                                            <div class=\"one-per-line\">\r\n                                                <badge *ngFor=\"let justificativa of row.justificativas\" [icon]=\"entityService.getIcon('TipoJustificativa')\" [label]=\"justificativa.value\"></badge>\r\n                                            </div>\r\n                                        </ng-template>\r\n                                    </column>\r\n                                    <column title=\"Recurso\" [template]=\"columnRecurso\">\r\n                                        <ng-template let-row=\"row\" #columnRecurso>\r\n                                            <small>{{row.recurso || ''}}</small>\r\n                                        </ng-template>\r\n                                    </column>\r\n                                    <column title=\"Status\" [template]=\"columnStatus\">\r\n                                        <ng-template let-row=\"row\" #columnStatus>\r\n                                            <div class=\"one-per-line\">\r\n                                                <badge *ngIf=\"row.recurso?.length\" icon=\"bi bi-journal-medical\" color=\"warning\" label=\"Recorrido\"></badge>\r\n                                                <badge *ngIf=\"row.id == avaliacao?.id\" icon=\"bi bi-check-circle\" color=\"success\" label=\"Vigente\"></badge>\r\n                                            </div>\r\n                                        </ng-template>\r\n                                    </column>\r\n                                </columns>\r\n                            </grid>\r\n\r\n                        </ng-template>\r\n                    </column>\r\n                    <column [title]=\"'Plano de trabalho/Vigência\\nPrograma/Modalidade'\" [template]=\"columnPlanoTrabalho\">\r\n                        <ng-template let-row=\"row\" #columnPlanoTrabalho>\r\n                            {{row.plano_trabalho.usuario.nome}} <badge label=\"Início\" color=\"light\" icon=\"bi bi-calendar2\" [textValue]=\"util.getDateFormatted(row.plano_trabalho.data_inicio)\"></badge><badge label=\"Término\" color=\"light\" icon=\"bi bi-calendar2-check\" [textValue]=\"util.getDateFormatted(row.plano_trabalho.data_fim)\"></badge><br>\r\n                            <badge [icon]=\"entityService.getIcon('Programa')\" [label]=\"row.plano_trabalho.programa?.nome\" color=\"light\" [hint]=\"lex.translate('Programa')\"></badge>\r\n                            <badge [icon]=\"entityService.getIcon('TipoModalidade')\" [label]=\"row.plano_trabalho.tipo_modalidade?.nome\" color=\"light\" [hint]=\"lex.translate('Tipo de modalidade')\"></badge>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Data início\" [template]=\"columnDataInicio\">\r\n                        <ng-template let-row=\"row\" #columnDataInicio>\r\n                            {{util.getDateFormatted(row.data_inicio)}}\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Data fim\" [template]=\"columnDataFim\">\r\n                        <ng-template let-row=\"row\" #columnDataFim>\r\n                            {{util.getDateFormatted(row.data_fim)}}\r\n                        </ng-template>\r\n                    </column>\r\n                </columns>\r\n                <pagination [rows]=\"rowsLimit\"></pagination>\r\n            </grid>\r\n        </ng-template>\r\n    </tab>\r\n</tabs>\r\n","import { ChangeDetectorRef, Component, Injector, Input, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { ConsolidacaoDados, PlanoTrabalhoConsolidacaoDaoService } from 'src/app/dao/plano-trabalho-consolidacao-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PlanoTrabalhoConsolidacao } from 'src/app/models/plano-trabalho-consolidacao.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { Atividade, Checklist } from 'src/app/models/atividade.model';\r\nimport { Afastamento } from 'src/app/models/afastamento.model';\r\nimport { PlanoTrabalhoEntrega } from 'src/app/models/plano-trabalho-entrega.model';\r\nimport { BadgeTrabalho, PlanoTrabalhoService } from '../plano-trabalho.service';\r\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\r\nimport { TipoAtividadeDaoService } from 'src/app/dao/tipo-atividade-dao.service';\r\nimport { PlanoEntregaService } from '../../plano-entrega/plano-entrega.service';\r\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\r\nimport { AtividadeOptionsMetadata, AtividadeService } from '../../atividade/atividade.service';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { CalendarService } from 'src/app/services/calendar.service';\r\nimport { SelectItem } from 'src/app/components/input/input-base';\r\nimport { TipoAtividade } from 'src/app/models/tipo-atividade.model';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { Programa } from 'src/app/models/programa.model';\r\nimport { Comparecimento } from 'src/app/models/comparecimento.model';\r\nimport { ComparecimentoDaoService } from 'src/app/dao/comparecimento-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { SeparatorComponent } from 'src/app/components/separator/separator.component';\r\nimport { OcorrenciaDaoService } from 'src/app/dao/ocorrencia-dao.service';\r\nimport { Ocorrencia } from 'src/app/models/ocorrencia.model';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { Comentario } from 'src/app/models/comentario';\r\n\r\nexport type ConsolidacaoEntrega = {\r\n  id: string,\r\n  entrega: PlanoTrabalhoEntrega,\r\n  badge: BadgeTrabalho,\r\n  atividades: Atividade[]\r\n};\r\n\r\n@Component({\r\n  selector: 'plano-trabalho-consolidacao-form',\r\n  templateUrl: './plano-trabalho-consolidacao-form.component.html',\r\n  styleUrls: ['./plano-trabalho-consolidacao-form.component.scss']\r\n})\r\nexport class PlanoTrabalhoConsolidacaoFormComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('gridEntregas', { static: false }) public gridEntregas?: GridComponent;\r\n  @ViewChild('gridAtividades', { static: false }) public gridAtividades?: GridComponent;\r\n  @ViewChild('etiqueta', { static: false }) public etiqueta?: InputSelectComponent;\r\n  @ViewChild('tipoAtividade', { static: false }) public tipoAtividade?: InputSearchComponent;\r\n  @Input() cdRef: ChangeDetectorRef;\r\n  @Input() planoTrabalho?: PlanoTrabalho;\r\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\r\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n  @Input() set entity(value: PlanoTrabalhoConsolidacao | undefined) { super.entity = value; this.bindEntity(); } get entity(): PlanoTrabalhoConsolidacao | undefined { return super.entity; }\r\n  @Input() set disabled(value: boolean) {\r\n    if(this._disabled != value || this.atividadeOptionsMetadata.disabled !== value) {\r\n      this._disabled = value;\r\n      this.atividadeOptionsMetadata.disabled = value;\r\n      this.cdRef.detectChanges();\r\n    }\r\n  }\r\n  get disabled(): boolean {\r\n    return this._disabled;\r\n  }\r\n\r\n  //public consolidacaoOcorrenciaDao: PlanoTrabalhoConsolidacaoOcorrenciaDaoService;\r\n  public ocorrenciaDao: OcorrenciaDaoService;\r\n  public comparecimentoDao: ComparecimentoDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public formAtividade: FormGroup;\r\n  //public formOcorrencia: FormGroup;\r\n  public formComparecimento: FormGroup;\r\n  public formEdit: FormGroup;\r\n  public unidade?: Unidade;\r\n  public dao: PlanoTrabalhoConsolidacaoDaoService;\r\n  public atividadeDao: AtividadeDaoService;\r\n  public atividadeService: AtividadeService;\r\n  public calendar: CalendarService;\r\n  public joinAtividade: string[] = ['demandante', 'usuario', 'tipo_atividade', 'comentarios.usuario:id,nome,apelido', 'reacoes.usuario:id,nome,apelido'];\r\n  public tipoAtividadeDao: TipoAtividadeDaoService;\r\n  public planoTrabalhoService: PlanoTrabalhoService;\r\n  public planoEntregaService: PlanoEntregaService;\r\n  public itemsEntregas: ConsolidacaoEntrega[] = [];\r\n  public etiquetas: LookupItem[] = [];\r\n  public checklist?: Checklist[];\r\n  public itemsOcorrencias: Ocorrencia[] = [];\r\n  public itemsComparecimentos: Comparecimento[] = [];\r\n  public itemsAfastamentos: Afastamento[] = [];\r\n  public atividadeOptionsMetadata: AtividadeOptionsMetadata;\r\n  public programa?: Programa;\r\n  \r\n  private _disabled: boolean = true;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\r\n    this.dao = injector.get<PlanoTrabalhoConsolidacaoDaoService>(PlanoTrabalhoConsolidacaoDaoService);\r\n    //this.consolidacaoOcorrenciaDao = injector.get<PlanoTrabalhoConsolidacaoOcorrenciaDaoService>(PlanoTrabalhoConsolidacaoOcorrenciaDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.comparecimentoDao = injector.get<ComparecimentoDaoService>(ComparecimentoDaoService);\r\n    this.atividadeDao = injector.get<AtividadeDaoService>(AtividadeDaoService);\r\n    this.atividadeService = injector.get<AtividadeService>(AtividadeService);\r\n    this.calendar = injector.get<CalendarService>(CalendarService);\r\n    this.ocorrenciaDao = injector.get<OcorrenciaDaoService>(OcorrenciaDaoService);\r\n    this.tipoAtividadeDao = injector.get<TipoAtividadeDaoService>(TipoAtividadeDaoService);\r\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\r\n    this.planoEntregaService = injector.get<PlanoEntregaService>(PlanoEntregaService);\r\n    this.formAtividade = this.fh.FormBuilder({\r\n      descricao: { default: \"\" },\r\n      etiquetas: { default: [] },\r\n      checklist: { default: [] },\r\n      comentarios: { default: [] },\r\n      esforco: { default: 0 },\r\n      tempo_planejado: { default: 0 },\r\n      data_distribuicao: {default: new Date()},\r\n      data_estipulada_entrega: {default: new Date()},\r\n      data_inicio: {default: new Date()},\r\n      data_entrega: {default: new Date()},\r\n      tipo_atividade_id: {default: null}\r\n    }, this.cdRef, this.validateAtividade);\r\n    /*this.formOcorrencia = this.fh.FormBuilder({\r\n      data_inicio: { default: new Date() },\r\n      data_fim: { default: new Date() },\r\n      descricao: { default: \"\" }\r\n    }, this.cdRef, this.validateOcorrencia);*/\r\n    this.formComparecimento = this.fh.FormBuilder({\r\n      data_comparecimento: { default: new Date() },\r\n      unidade_id: { default: \"\" },\r\n      detalhamento: { default: \"\" }\r\n    }, this.cdRef, this.validateComparecimento);\r\n    this.formEdit = this.fh.FormBuilder({\r\n      descricao: { default: \"\" },\r\n      tipo_atividade_id: { default: null },\r\n      comentarios: { default: [] },\r\n      progresso: { default: 0 },\r\n      etiquetas: { default: [] },\r\n      etiqueta: { default: null }\r\n    });\r\n    this.atividadeOptionsMetadata = {\r\n      refreshId: this.atividadeRefreshId.bind(this),\r\n      removeId: this.atividadeRemoveId.bind(this),\r\n      refresh: this.refresh.bind(this)\r\n    }\r\n  }\r\n\r\n  public refresh() {\r\n    this.loadData(this.entity!, this.form);\r\n  }\r\n\r\n  public bindEntity() {\r\n    if(this.entity) {\r\n      this.entity._metadata = this.entity._metadata || {};\r\n      this.entity._metadata.planoTrabalhoConsolidacaoFormComponent = this;\r\n    }\r\n  }\r\n\r\n  public atividadeRefreshId(id: string, atividade?: Atividade) {\r\n    this.itemsEntregas.forEach(entrega => {\r\n      let foundIndex = entrega.atividades.findIndex(x => x.id == id);\r\n      if(foundIndex >= 0) {\r\n        if(atividade) {\r\n          entrega.atividades[foundIndex] = atividade;\r\n        } else {\r\n          this.atividadeDao.getById(id, this.joinAtividade).then(atividade => { if(atividade) entrega.atividades[foundIndex] = atividade; });\r\n        }\r\n      }\r\n    });\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public atividadeRemoveId(id: string) {\r\n    this.itemsEntregas.forEach(entrega => {\r\n      let foundIndex = entrega.atividades.findIndex(x => x.id == id);\r\n      if(foundIndex >= 0) entrega.atividades.splice(foundIndex, 1);\r\n    });\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    super.ngAfterViewInit();\r\n    (async () => {\r\n      await this.loadData(this.entity!, this.form);\r\n    })();\r\n  }\r\n\r\n  public validateAtividade = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if (['descricao'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    } else if(['data_distribuicao', 'data_estipulada_entrega', 'data_inicio', 'data_entrega'].includes(controlName) && !this.util.isDataValid(control.value)) {\r\n      result = \"Inválido\";\r\n    } else if(controlName == 'data_estipulada_entrega' && control.value.getTime() < this.formAtividade?.controls.data_distribuicao.value.getTime()) {\r\n      result = \"Menor que distribuição\";\r\n    } else if(controlName == 'data_inicio' && control.value.getTime() < this.formAtividade?.controls.data_distribuicao.value.getTime()) {\r\n      result = \"Menor que distribuição\";\r\n    } else if(controlName == 'data_entrega' && control.value.getTime() < this.formAtividade?.controls.data_distribuicao.value.getTime()) {\r\n      result = \"Menor que distribuição\";\r\n    } else if(controlName == 'data_entrega' && control.value.getTime() < this.formAtividade?.controls.data_inicio.value.getTime()) {\r\n      result = \"Menor que início\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  /*public validateOcorrencia = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if (['descricao'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    } else if(['data_inicio', 'data_fim'].includes(controlName) && !this.util.isDataValid(control.value)) {\r\n      result = \"Inválido\";\r\n    } else if(controlName == 'data_fim' && control.value.getTime() < this.formOcorrencia?.controls.data_inicio.value.getTime()) {\r\n      result = \"Menor que início\";\r\n    } \r\n    return result;\r\n  }*/\r\n\r\n  public validateComparecimento = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if (['detalhamento', 'unidade_id'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    } else if(controlName == 'data_comparecimento' && this.entity && !this.util.between(control.value, {start: this.entity!.data_inicio, end: this.entity!.data_fim})) {\r\n      result = \"Inválido\";\r\n    } \r\n    return result;\r\n  }\r\n\r\n  public loadConsolidacao(dados: ConsolidacaoDados) {\r\n    this.itemsEntregas = dados.entregas.map(x => {\r\n      if(x.plano_entrega_entrega) x.plano_entrega_entrega.plano_entrega = dados.planosEntregas.find(pe => pe.id == x.plano_entrega_entrega?.plano_entrega_id);\r\n      let result = {\r\n        id: x.id,\r\n        entrega: x,\r\n        atividades: dados.atividades.filter(y => y.plano_trabalho_entrega_id == x.id),\r\n        badge: this.planoTrabalhoService.tipoEntrega(x, dados.planoTrabalho),\r\n        meta: x.plano_entrega_entrega ? this.planoEntregaService.getValorMeta(x.plano_entrega_entrega) : '',\r\n        metaRealizado: x.plano_entrega_entrega ? this.planoEntregaService.getValorRealizado(x.plano_entrega_entrega) : '',\r\n        progresso_realizado: x.plano_entrega_entrega ? x.plano_entrega_entrega.progresso_realizado : 0,\r\n        objetivos: x.plano_entrega_entrega ? x.plano_entrega_entrega.objetivos : [],\r\n        processos: x.plano_entrega_entrega ? x.plano_entrega_entrega.processos : [],\r\n      };\r\n      return result;\r\n    });\r\n    this.programa = dados.programa;\r\n    this.planoTrabalho = dados.planoTrabalho;\r\n    this.itemsOcorrencias = dados.ocorrencias;\r\n    this.itemsComparecimentos = dados.comparecimentos;\r\n    this.itemsAfastamentos = dados.afastamentos;\r\n    this.unidade = dados.planoTrabalho.unidade || this.entity!.plano_trabalho?.unidade;\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async loadData(entity: IIndexable, form?: FormGroup) {\r\n    this.gridEntregas!.loading = true;\r\n    this.cdRef.detectChanges();\r\n    try {\r\n      let dados = await this.dao!.dadosConsolidacao(entity.id);\r\n      this.loadConsolidacao(dados);\r\n    } finally {\r\n      this.gridEntregas!.loading = false;\r\n      this.cdRef.detectChanges();\r\n    }\r\n  }  \r\n  \r\n  /***************************************************************************************\r\n  * Atividades \r\n  ****************************************************************************************/\r\n  public async addAtividade(entrega: PlanoTrabalhoEntrega) {\r\n    let planoTrabalho: PlanoTrabalho | undefined = entrega.plano_trabalho || this.entity!.plano_trabalho;\r\n    let efemerides = this.calendar.calculaDataTempoUnidade(this.entity!.data_inicio, this.entity!.data_fim, planoTrabalho!.carga_horaria, this.unidade!, \"ENTREGA\");\r\n    const tempoPlanejado = this.calendar.horasUteis(this.entity!.data_inicio, this.entity!.data_fim, planoTrabalho!.carga_horaria, this.unidade!, \"DISTRIBUICAO\");\r\n    const dataInicio = this.util.maxDate(this.util.setTime(this.entity!.data_inicio, 0, 0, 0), planoTrabalho!.data_inicio);\r\n    const dataFim = this.util.minDate(this.util.setTime(this.entity!.data_fim, 23, 59, 59), planoTrabalho!.data_fim);\r\n    return new Atividade({\r\n      id: this.dao!.generateUuid(),\r\n      plano_trabalho: planoTrabalho,\r\n      plano_trabalho_entrega: entrega,\r\n      plano_trabalho_consolidacao: this.entity,\r\n      demandante: this.auth.usuario,\r\n      usuario: this.auth.usuario,\r\n      unidade: this.unidade,\r\n      data_distribuicao: dataInicio,\r\n      carga_horaria: planoTrabalho!.carga_horaria,\r\n      data_estipulada_entrega: dataFim,\r\n      data_inicio: dataInicio,\r\n      data_entrega: dataFim,\r\n      tempo_planejado: tempoPlanejado,\r\n      tempo_despendido: efemerides?.tempoUtil || 0,\r\n      status: 'CONCLUIDO',\r\n      progresso: 100,\r\n      plano_trabalho_id: this.entity!.plano_trabalho_id,\r\n      plano_trabalho_entrega_id: entrega.id,\r\n      plano_trabalho_consolidacao_id: this.entity!.id,\r\n      demandante_id: this.auth.usuario!.id,\r\n      usuario_id: this.auth.usuario!.id,\r\n      unidade_id: this.unidade!.id,\r\n      metadados: { // Simula os metadados enviados pelo servidor\r\n        atrasado: false,\r\n        tempo_despendido: 0,\r\n        tempo_atraso: 0,\r\n        pausado: false,\r\n        iniciado: true,\r\n        concluido: true,\r\n        avaliado: false,\r\n        arquivado: false,\r\n        produtividade: 0,\r\n        extra: undefined,\r\n        _status: []\r\n      }\r\n    });\r\n  }\r\n\r\n  public async loadAtividade(form: FormGroup, row: any) {\r\n    this.formAtividade.patchValue(row);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async removeAtividade(atividades: Atividade[], row: any) {\r\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir o item ?\");\r\n    if (confirm) {\r\n      try {\r\n        let atividade = row as Atividade;\r\n        await this.atividadeDao?.delete(atividade);\r\n        atividades.splice(atividades.findIndex(x => x.id == atividade.id), 1);\r\n        return true;\r\n      } catch {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public async saveAtividade(form: FormGroup, row: any) {\r\n    let result = undefined;\r\n    this.gridAtividades!.error = \"\";\r\n    this.formAtividade.markAllAsTouched();\r\n    if (this.formAtividade!.valid) {\r\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\r\n      this.util.fillForm(row, this.formAtividade!.value);\r\n      this.submitting = true;\r\n      try {\r\n        result = await this.atividadeDao?.save(row, this.joinAtividade, ['etiquetas', 'checklist', 'comentarios', 'pausas', 'tarefas']);\r\n        this.atividadeRefreshId(row.id, result);\r\n      } catch (error: any) {\r\n        result = false;\r\n        this.gridAtividades!.error = error.message || error;\r\n      } finally {\r\n        this.submitting = false;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public onDataDistribuicaoChange(event: Event) {\r\n    this.formAtividade!.controls.data_inicio.setValue(this.formAtividade!.controls.data_distribuicao.value);\r\n  }\r\n\r\n  public onDataEstipuladaEntregaChange(event: Event) {\r\n    this.formAtividade!.controls.data_entrega.setValue(this.formAtividade!.controls.data_estipulada_entrega.value);\r\n  }\r\n\r\n  public atividadeDynamicButtons(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    result.push(Object.assign({}, this.gridEntregas!.BUTTON_EDIT, {}));\r\n    result.push(Object.assign({}, this.gridEntregas!.BUTTON_DELETE, {}));\r\n    return result;\r\n  }  \r\n\r\n  public async onColumnProgressoEtiquetasChecklistEdit(row: any) {\r\n    this.formEdit.controls.progresso.setValue(row.progresso);\r\n    this.formEdit.controls.etiquetas.setValue(row.etiquetas);\r\n    this.formEdit.controls.etiqueta.setValue(null);\r\n    this.etiquetas = this.util.merge(row.tipo_atividade?.etiquetas, row.unidade?.etiquetas, (a, b) => a.key == b.key);\r\n    this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\r\n    this.checklist = this.util.clone(row.checklist);\r\n  }\r\n\r\n  public async onColumnProgressoEtiquetasChecklistSave(row: any) {\r\n    try {\r\n      const saved = await this.atividadeDao!.update(row.id, {\r\n        progresso: this.formEdit.controls.progresso.value,\r\n        etiquetas: this.formEdit.controls.etiquetas.value,\r\n        checklist: this.checklist\r\n      });\r\n      row.progresso = this.formEdit.controls.progresso.value;\r\n      row.checklist = this.checklist;\r\n      return !!saved;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public onEtiquetaConfigClick() {\r\n    this.go.navigate({ route: [\"configuracoes\", \"preferencia\", \"usuario\", this.auth.usuario!.id], params: { etiquetas: true } }, {\r\n      modal: true, modalClose: (modalResult) => {\r\n        this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\r\n        this.cdRef.detectChanges();\r\n      }\r\n    });\r\n  }\r\n\r\n  public addItemHandleEtiquetas(): LookupItem | undefined {\r\n    let result = undefined;\r\n    if (this.etiqueta && this.etiqueta.selectedItem) {\r\n      const item = this.etiqueta.selectedItem;\r\n      const key = item.key?.length ? item.key : this.util.textHash(item.value);\r\n      if (this.util.validateLookupItem(this.formEdit.controls.etiquetas.value, key)) {\r\n        result = {\r\n          key: key,\r\n          value: item.value,\r\n          color: item.color,\r\n          icon: item.icon\r\n        };\r\n        this.formEdit.controls.etiqueta.setValue(null);\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  public loadTipoAtividade(tipoAtividade: TipoAtividade | undefined) {\r\n    if(tipoAtividade) {\r\n      this.etiquetas = this.atividadeService.buildEtiquetas(this.unidade, tipoAtividade);\r\n      this.atividadeService.buildChecklist(tipoAtividade, this.formAtividade.controls.checklist);\r\n      this.formAtividade.controls.esforco.setValue(tipoAtividade?.esforco || 0);\r\n    } else {\r\n      this.etiquetas = [];\r\n      this.formAtividade.controls.esforco.setValue(0);\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onTipoAtividadeSelect(item: SelectItem) {\r\n    const tipoAtividade: TipoAtividade | undefined = item.entity as TipoAtividade;\r\n    this.loadTipoAtividade(tipoAtividade);\r\n    this.atividadeService.comentarioAtividade(tipoAtividade, this.formAtividade!.controls.comentarios);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async onColumnAtividadeDescricaoEdit(row: any) {\r\n    this.formEdit.controls.descricao.setValue(row.descricao);\r\n    this.formEdit.controls.tipo_atividade_id.setValue(row.tipo_atividade_id);\r\n    this.formEdit.controls.comentarios.setValue(row.comentarios);\r\n  }\r\n\r\n  public async onColumnAtividadeDescricaoSave(row: any) {\r\n    try {\r\n      this.atividadeService.comentarioAtividade(this.tipoAtividade?.selectedEntity, this.formEdit!.controls.comentarios);\r\n      const saved = await this.atividadeDao!.update(row.id, {\r\n        descricao: this.formEdit.controls.descricao.value,\r\n        tipo_atividade_id: this.formEdit.controls.tipo_atividade_id.value,\r\n        comentarios: (this.formEdit.controls.comentarios.value || []).filter((x: Comentario) => [\"ADD\", \"EDIT\", \"DELETE\"].includes(x._status || \"\"))\r\n      });\r\n      row.descricao = this.formEdit.controls.descricao.value;\r\n      row.tipo_atividade_id = this.formEdit.controls.tipo_atividade_id.value;\r\n      row.tipo_atividade = this.tipoAtividade?.selectedEntity || null;\r\n      row.comentarios = this.formEdit.controls.comentarios.value;\r\n      return !!saved;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /***************************************************************************************\r\n  * Ocorrências \r\n  ****************************************************************************************/\r\n  public async addOcorrencia() {\r\n    /*return new PlanoTrabalhoConsolidacaoOcorrencia({\r\n      plano_trabalho_consolidacao_id: this.entity!.id\r\n    });*/\r\n    this.go.navigate({route: ['gestao', 'ocorrencia', 'new']}, {\r\n      metadata: { \r\n        consolidacao: this.entity,\r\n        planoTrabalho: this.planoTrabalho\r\n      },\r\n      modalClose: (modalResult) => {\r\n        if(modalResult) this.refresh();\r\n      }\r\n    });\r\n  }\r\n\r\n  /*public async loadOcorrencia(form: FormGroup, row: any) {\r\n    this.formAtividade.patchValue({\r\n      data_inicio: row.data_inicio,\r\n      data_fim: row.data_fim,\r\n      descricao: row.descricao\r\n    });\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async saveOcorrencia(form: FormGroup, row: any) {\r\n    let result = undefined;\r\n    this.formOcorrencia.markAllAsTouched();\r\n    if (this.formOcorrencia!.valid) {\r\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\r\n      row.data_inicio = form.controls.data_inicio.value;\r\n      row.data_fim = form.controls.data_fim.value;\r\n      row.descricao = form.controls.descricao.value;\r\n      this.submitting = true;\r\n      try {\r\n        result = await this.consolidacaoOcorrenciaDao?.save(row);\r\n      } finally {\r\n        this.submitting = false;\r\n      }\r\n    }\r\n    return result;\r\n  }*/\r\n\r\n  public async editOcorrencia(row: any) {\r\n    this.go.navigate({route: [\"gestao\", \"ocorrencia\", row.id, \"edit\"]}, {\r\n      modalClose: (modalResult) => {\r\n        if(modalResult) this.refresh();\r\n      }      \r\n    });\r\n  }\r\n\r\n  public async removeOcorrencia(row: any) {\r\n    if (await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir o item ?\")) {\r\n      this.submitting = true;\r\n      try {\r\n        let ocorrencia = row as Ocorrencia;\r\n        await this.ocorrenciaDao?.delete(ocorrencia);\r\n        this.itemsOcorrencias.splice(this.itemsOcorrencias.findIndex(x => x.id == ocorrencia.id), 1);\r\n      } finally {\r\n        this.submitting = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  public ocorrenciaDynamicButtons(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    //result.push(Object.assign({}, this.OPTION_INFORMACOES, { onClick: (doc: Ocorrencia) => this.go.navigate({route: [\"gestao\", \"ocorrencia\", doc.id, \"consult\"]}) }));\r\n    if (!this.disabled && this.auth.hasPermissionTo(\"MOD_OCOR_EDT\")) result.push(Object.assign({}, this.OPTION_ALTERAR, { onClick: this.editOcorrencia.bind(this) }));\r\n    if (!this.disabled && this.auth.hasPermissionTo(\"MOD_OCOR_EXCL\")) result.push(Object.assign({}, this.OPTION_EXCLUIR, { onClick: this.removeOcorrencia.bind(this) }));\r\n    return result;\r\n  }  \r\n\r\n  /***************************************************************************************\r\n  * Comparecimento \r\n  ****************************************************************************************/\r\n  public async addComparecimento() {\r\n    return new Comparecimento({\r\n      unidade_id: this.unidade?.id,\r\n      unidade: this.unidade,\r\n      plano_trabalho_consolidacao_id: this.entity!.id\r\n    });\r\n  }\r\n\r\n  public async loadComparecimento(form: FormGroup, row: any) {\r\n    this.formComparecimento.patchValue({\r\n      data_comparecimento: row.data_comparecimento,\r\n      unidade_id: row.unidade_id,\r\n      detalhamento: row.detalhamento\r\n    });\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async removeComparecimento(row: any) {\r\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir o item ?\");\r\n    if (confirm) {\r\n      try {\r\n        let comparecimento = row as Comparecimento;\r\n        await this.comparecimentoDao?.delete(comparecimento);\r\n        this.itemsComparecimentos.splice(this.itemsComparecimentos.findIndex(x => x.id == comparecimento.id), 1);\r\n        return true;\r\n      } catch {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public async saveComparecimento(form: FormGroup, row: any) {\r\n    let result = undefined;\r\n    this.formComparecimento.markAllAsTouched();\r\n    if (this.formComparecimento!.valid) {\r\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\r\n      row.data_comparecimento = form.controls.data_comparecimento.value;\r\n      row.detalhamento = form.controls.detalhamento.value;\r\n      row.plano_trabalho_consolidacao_id = this.entity!.id;\r\n      row.unidade_id = form.controls.unidade_id.value;\r\n      this.submitting = true;\r\n      try {\r\n        result = await this.comparecimentoDao?.save(row);\r\n      } finally {\r\n        this.submitting = false;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public comparecimentoDynamicButtons(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    //result.push({ hint: \"Adicionar filho\", icon: \"bi bi-plus-circle\", onClick: this.addChildProcesso.bind(this) });\r\n    return result;\r\n  }  \r\n\r\n  /***************************************************************************************\r\n  * Afastamentos\r\n  ****************************************************************************************/\r\n  public async addAfastamento() {\r\n    this.go.navigate({route: ['gestao', 'afastamento', 'new']}, {\r\n      metadata: { consolidacao: this.entity },\r\n      filterSnapshot: undefined,\r\n      querySnapshot: undefined,\r\n      modalClose: (modalResult) => {\r\n        if(modalResult) this.refresh();\r\n      }\r\n    });\r\n  }\r\n\r\n  public afastamentoDynamicButtons(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    result.push(Object.assign({}, this.OPTION_INFORMACOES, { onClick: (doc: Afastamento) => this.go.navigate({route: [\"cadastros\", \"afastamento\", doc.id, \"consult\"]}) }));\r\n    //result.push({ hint: \"Adicionar filho\", icon: \"bi bi-plus-circle\", onClick: this.addChildProcesso.bind(this) });\r\n    return result;\r\n  }  \r\n\r\n  public async showPlanejamento(planejamento_id: string){\r\n    this.go.navigate({ route: ['gestao', 'planejamento', planejamento_id, 'consult'] }, {modal: true})\r\n  }\r\n\r\n  public async showCadeiaValor(cadeia_valor_id_id: string){\r\n    this.go.navigate({ route: ['gestao', 'cadeia-valor', cadeia_valor_id_id, 'consult'] }, {modal: true})\r\n  }\r\n\r\n}\r\n","<separator collapse [collapsed]=\"false\" [title]=\"lex.translate('Atividades')\" [icon]=\"entityService.getIcon('Atividade')\">\r\n    <grid [items]=\"itemsEntregas\" #gridEntregas [minHeight]=\"0\">\r\n        <columns>\r\n            <column type=\"expand\" [icon]=\"entityService.getIcon('PlanoTrabalhoConsolidacao')\" [align]=\"'center'\" [hint]=\"lex.translate('Consolidação')\" [template]=\"columnConsolidacao\" [expandTemplate]=\"columnExpandedConsolidacao\">\r\n                <ng-template let-row=\"row\" #columnConsolidacao>\r\n                    <!--span *ngIf=\"row?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-boxes\"></i> {{row?.length}}</span//-->\r\n                </ng-template>\r\n                <ng-template let-row=\"row\" #columnExpandedConsolidacao>\r\n                    <grid [items]=\"row.atividades\" [minHeight]=\"0\" #gridAtividades [form]=\"formAtividade\" [hasAdd]=\"!disabled\" [hasDelete]=\"false\" [hasEdit]=\"false\"\r\n                        [add]=\"addAtividade.bind(this, row.entrega)\" [load]=\"loadAtividade.bind(this)\" [remove]=\"removeAtividade.bind(this, row.atividades)\" [save]=\"saveAtividade.bind(this)\" editable>\r\n                        <columns>\r\n                            <column [title]=\"'#ID/' + lex.translate('Tipo de Atividade') + '\\nDescrição'\" [width]=\"400\" [template]=\"columnAtividadeDescricao\" [editTemplate]=\"editAtividadeDescricao\" [columnEditTemplate]=\"atividadeOptionsMetadata.disabled ? undefined : editAtividadeDescricao\" [edit]=\"atividadeOptionsMetadata.disabled ? undefined : onColumnAtividadeDescricaoEdit.bind(this)\" [save]=\"atividadeOptionsMetadata.disabled ? undefined : onColumnAtividadeDescricaoSave.bind(this)\">\r\n                                <ng-template let-row=\"row\" #columnAtividadeDescricao>\r\n                                    <span class=\"text-nowrap d-block\">\r\n                                        <badge icon=\"bi bi-hash\" [label]=\"row.numero\" color=\"light\" [data]=\"row.numero\" [click]=\"atividadeService.onIdClick.bind(this)\"></badge>\r\n                                        <badge *ngIf=\"row.tipo_atividade\" [icon]=\"entityService.getIcon('TipoAtividade')\" [label]=\"row.tipo_atividade.nome\" color=\"light\"></badge>\r\n                                    </span>\r\n                                    <span class=\"micro-text fw-ligh atividade-descricao\">{{row.descricao}}</span>\r\n                                    <reaction [entity]=\"row\" origem=\"ATIVIDADE\"></reaction>\r\n                                </ng-template>\r\n                                <ng-template let-row=\"row\" #editAtividadeDescricao>\r\n                                    <input-textarea label=\"Descrição\" [size]=\"12\" [rows]=\"2\" controlName=\"descricao\" [control]=\"formAtividade!.controls.descricao\" required></input-textarea>\r\n                                    <input-search [label]=\"lex.translate('Tipo de atividade')\" #tipoAtividade [size]=\"12\" [emptyValue]=\"null\" controlName=\"tipo_atividade_id\" [control]=\"formAtividade!.controls.tipo_atividade_id\" [dao]=\"tipoAtividadeDao\" (select)=\"onTipoAtividadeSelect($event)\" [labelInfo]=\"lex.translate('Tipo de atividade') + ' utilizado para classificar a atividade'\" [required]=\"!auth.hasPermissionTo('MOD_ATV_TIPO_ATV_VAZIO') ? 'true' : undefined\"></input-search>\r\n                                </ng-template>\r\n                            </column>\r\n                            <column [title]=\"'Tempos'\" [width]=\"250\" [template]=\"columnTempos\" [editTemplate]=\"editTempos\">\r\n                                <ng-template let-row=\"row\" #columnTempos>\r\n                                    <div class=\"one-per-line\">\r\n                                        <badge *ngFor=\"let tempo of atividadeService.temposAtividade(row)\" [badge]=\"tempo\"></badge>\r\n                                    </div>\r\n                                </ng-template>\r\n                                <ng-template let-row=\"row\" #editTempos>\r\n                                    <input-datetime icon=\"bi bi-file-earmark-plus\" [label]=\"lex.translate('Data de distribuição')\" controlName=\"data_distribuicao\" [control]=\"formAtividade!.controls.data_distribuicao\" (change)=\"onDataDistribuicaoChange($event)\" labelInfo=\"Data de inclusão/distribuição/lançamento\"></input-datetime>\r\n                                    <input-datetime icon=\"bi bi-calendar-check\" [label]=\"lex.translate('Prazo de entrega')\" controlName=\"data_estipulada_entrega\" [control]=\"formAtividade!.controls.data_estipulada_entrega\" (change)=\"onDataEstipuladaEntregaChange($event)\" labelInfo=\"Data estipulada para entrega da atividade\"></input-datetime>\r\n                                    <separator title=\"Início e Conclusão\" collapse [collapsed]=\"true\">\r\n                                        <input-datetime icon=\"bi bi-play-circle\" label=\"Início\" controlName=\"data_inicio\" [control]=\"formAtividade!.controls.data_inicio\" labelInfo=\"Data de inicialização da atividade\"></input-datetime>\r\n                                        <input-datetime icon=\"bi bi-check-circle\" label=\"Conclusão\" controlName=\"data_entrega\" [control]=\"formAtividade!.controls.data_entrega\" labelInfo=\"Data da conclusão da atividade\"></input-datetime>\r\n                                    </separator>\r\n                                </ng-template>\r\n                            </column>\r\n                            <column [title]=\"'Progresso\\nEtiquetas/Checklist'\" [width]=\"200\" [template]=\"columnProgressoEtiquetasChecklist\" [editTemplate]=\"columnProgressoEtiquetasChecklist\" [columnEditTemplate]=\"atividadeOptionsMetadata.disabled ? undefined : columnProgressoEtiquetasChecklistEdit\" [edit]=\"atividadeOptionsMetadata.disabled ? undefined : onColumnProgressoEtiquetasChecklistEdit.bind(this)\" [save]=\"atividadeOptionsMetadata.disabled ? undefined : onColumnProgressoEtiquetasChecklistSave.bind(this)\">\r\n                                <ng-template let-row=\"row\" #columnProgressoEtiquetasChecklist>\r\n                                    <progress-bar [value]=\"row.progresso\" color=\"success\"></progress-bar>\r\n                                    <badge *ngFor=\"let etiqueta of row.etiquetas\" [lookup]=\"etiqueta\"></badge>\r\n                                    <separator *ngIf=\"row.checklist?.length\" small title=\"Checklist\"></separator>\r\n                                    <table *ngIf=\"row.checklist?.length\">\r\n                                        <tr *ngFor=\"let check of row.checklist\">\r\n                                            <td><i *ngIf=\"check.checked\" class=\"bi bi-check-circle\"></i></td>\r\n                                            <td class=\"micro-text fw-ligh\">{{check.texto}}</td>\r\n                                        </tr>\r\n                                    </table>\r\n                                </ng-template>\r\n                                <ng-template let-row=\"row\" #columnProgressoEtiquetasChecklistEdit>\r\n                                    <input-number [size]=\"12\" [decimals]=\"2\" label=\"Progresso\" sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso\" [control]=\"formEdit.controls.progresso\" labelInfo=\"Progresso de execução (% Concluído)\"></input-number>\r\n                                    <input-multiselect controlName=\"etiquetas\" [size]=\"12\" [control]=\"formEdit.controls.etiquetas\" [addItemHandle]=\"addItemHandleEtiquetas.bind(this)\">\r\n                                        <input-select [size]=\"12\" label=\"Etiqueta\" #etiqueta controlName=\"etiqueta\" nullable itemNull=\"- Selecione -\" detailsButton detailsButtonIcon=\"bi bi-tools\" (details)=\"onEtiquetaConfigClick()\" [control]=\"formEdit.controls.etiqueta\" [items]=\"etiquetas\"></input-select>\r\n                                    </input-multiselect>\r\n                                    <separator *ngIf=\"row.checklist?.length\" small title=\"Checklist\"></separator>\r\n                                    <table *ngIf=\"row.checklist?.length\">\r\n                                        <tr *ngFor=\"let check of checklist; let i = index\">\r\n                                            <td><input-switch [size]=\"12\" scale=\"small\" [source]=\"checklist\" [path]=\"i + '.checked'\"></input-switch></td>\r\n                                            <td class=\"micro-text fw-ligh\">{{check.texto}}</td>\r\n                                        </tr>\r\n                                    </table>\r\n                                </ng-template>\r\n                            </column>\r\n                            <column [title]=\"'nº Processo/Status\\nComentários'\" [width]=\"300\" [template]=\"columnNumero\" [editTemplate]=\"columnNumero\">\r\n                                <ng-template let-row=\"row\" #columnNumero>\r\n                                    <documentos-badge [documento]=\"row.documento_requisicao\"></documentos-badge>\r\n                                    <span class=\"d-block\">\r\n                                        <badge *ngFor=\"let status of atividadeService.getStatus(row, entity)\" [data]=\"status\" [color]=\"status.color\" [icon]=\"status.icon\" [label]=\"status.label\"></badge>\r\n                                    </span>\r\n                                    <comentarios-widget *ngIf=\"!gridAtividades.editing\" [entity]=\"row\" [selectable]=\"false\" origem=\"ATIVIDADE\" [grid]=\"gridAtividades\"></comentarios-widget>\r\n                                </ng-template>\r\n                            </column>\r\n                            <column type=\"options\" [metadata]=\"atividadeOptionsMetadata\" [dynamicOptions]=\"atividadeService.dynamicOptions.bind(this)\" [dynamicButtons]=\"atividadeService.dynamicButtons.bind(this)\"></column>\r\n                        </columns>\r\n                    </grid>\r\n                </ng-template>\r\n            </column>\r\n            <column title=\"Origem\" [template]=\"columnOrigem\" [width]=\"200\">\r\n                <ng-template let-row=\"row\" #columnOrigem>\r\n                    <badge [label]=\"row.badge.titulo\" [color]=\"row.badge.cor\"></badge>\r\n                </ng-template>\r\n            </column>\r\n            <column title=\"Entrega\" [template]=\"columnEntrega\">\r\n                <ng-template let-row=\"row\" #columnEntrega>\r\n                    {{row.badge.descricao || row.entrega.descricao}}\r\n                    <reaction [entity]=\"row.entrega\" origem=\"PLANO_TRABALHO_ENTREGA\"></reaction>\r\n                </ng-template>\r\n            </column>\r\n            <column title=\"% CHD Planejado\" [template]=\"columnForcaTrabalho\" [width]=\"100\" [titleHint]=\"'% Carga Horária Disponível Planejada'\">\r\n                <ng-template let-row=\"row\" #columnForcaTrabalho>\r\n                    <badge color=\"light\" [label]=\"row.entrega.forca_trabalho + '%'\"></badge>\r\n                </ng-template>\r\n            </column>\r\n            <column [title]=\"'Meta'\" [template]=\"columnMetaRealizado\" [width]=\"100\">\r\n                <ng-template let-row=\"row\" #columnMetaRealizado>\r\n                    <badge icon=\"bi bi-graph-up-arrow\" [textValue]=\"row.meta\" color=\"light\" hint=\"Meta\"></badge><br>\r\n                    <badge icon=\"bi bi-check-lg\" [textValue]=\"row.metaRealizado\" color=\"light\" hint=\"Realizado\"></badge>\r\n                </ng-template>\r\n            </column>\r\n            <column title=\"Progresso\" [template]=\"columnProgresso\" [width]=\"150\">\r\n                <ng-template let-row=\"row\" #columnProgresso>\r\n                    <progress-bar [value]=\"row.progresso_realizado\" color=\"success\"></progress-bar>\r\n                </ng-template>\r\n            </column>\r\n            <column [title]=\"'Objetivos/Processos'\" [template]=\"columnObjProc\" [editTemplate]=\"columnObjProc\" [width]=\"200\">\r\n                <ng-template let-row=\"row\" #columnObjProc>\r\n                    <separator [title]=\"lex.translate('Objetivos')\" *ngIf=\"row.objetivos?.length\" collapse [collapsed]=\"true\">\r\n                        <div *ngFor=\"let pObjetivo of row.objetivos\" class=\"objetivo d-flex align-items-center\">\r\n                            <button class=\"btn btn-sm btn-outline-info me-2\" (click)=\"showPlanejamento(pObjetivo.objetivo.planejamento_id)\"><i class=\"bi bi-eye\"></i></button>\r\n                            <small>{{pObjetivo.objetivo.nome}}</small>\r\n                        </div>\r\n                    </separator>\r\n                    <separator [title]=\"lex.translate('Processos')\" *ngIf=\"row.processos?.length\" collapse [collapsed]=\"true\">\r\n                        <div *ngFor=\"let pProcesso of row.processos\" class=\"objetivo d-flex align-items-center\">\r\n                            <button class=\"btn btn-sm btn-outline-info me-2\" (click)=\"showCadeiaValor(pProcesso.processo.cadeia_valor_id)\"><i class=\"bi bi-eye\"></i></button>\r\n                            <small>{{pProcesso.processo.nome}}</small>\r\n                        </div>\r\n                    </separator>\r\n                </ng-template>\r\n            </column>\r\n        </columns>\r\n    </grid>\r\n</separator>\r\n<separator collapse [collapsed]=\"false\" [title]=\"lex.translate('Ocorrências')\" [icon]=\"entityService.getIcon('PlanoTrabalhoConsolidacao')\">\r\n    <grid [items]=\"itemsOcorrencias\" [minHeight]=\"0\" #gridOcorrencia\r\n        [hasDelete]=\"false\" [hasEdit]=\"false\" [hasAdd]=\"!disabled\"\r\n        [add]=\"addOcorrencia.bind(this)\" editable>\r\n        <!-- [load]=\"loadOcorrencia.bind(this)\" [remove]=\"removeOcorrencia.bind(this)\" [save]=\"saveOcorrencia.bind(this)\" -->\r\n        <columns>\r\n            <column title=\"Início\" [width]=\"300\" type=\"datetime\" field=\"data_inicio\"></column>\r\n            <column title=\"Fim\" [width]=\"300\" type=\"datetime\" field=\"data_fim\"></column>\r\n            <column title=\"Descrição\" type=\"textarea\" field=\"descricao\"></column>\r\n            <column type=\"options\" [dynamicButtons]=\"ocorrenciaDynamicButtons.bind(this)\"></column>\r\n        </columns>\r\n    </grid>\r\n</separator>\r\n<separator collapse [collapsed]=\"false\" [title]=\"lex.translate('Afastamentos')\" [icon]=\"entityService.getIcon('Afastamento')\">\r\n    <grid [items]=\"itemsAfastamentos\" [minHeight]=\"0\" #gridAfastamento \r\n        [hasEdit]=\"false\" [hasDelete]=\"false\" [hasAdd]=\"!disabled\" [add]=\"addAfastamento.bind(this)\" editable>\r\n        <columns>\r\n            <column title=\"Início\" [width]=\"300\" type=\"datetime\" field=\"data_inicio\"></column>\r\n            <column title=\"Fim\" [width]=\"300\" type=\"datetime\" field=\"data_fim\"></column>\r\n            <column title=\"Motivo/Observação\" [template]=\"columnMotivoObservacao\">\r\n                <ng-template let-row=\"row\" #columnMotivoObservacao>\r\n                    <badge [color]=\"row.tipo_motivo_afastamento.cor\" [icon]=\"row.tipo_motivo_afastamento.icone\" [label]=\"row.tipo_motivo_afastamento.nome\"></badge>\r\n                    {{row.observacao}}\r\n                </ng-template>\r\n            </column>\r\n            <column type=\"options\" [dynamicButtons]=\"afastamentoDynamicButtons.bind(this)\"></column>\r\n        </columns>\r\n    </grid>\r\n</separator>\r\n<separator collapse [collapsed]=\"false\" [title]=\"lex.translate('Comparecimentos')\" [icon]=\"entityService.getIcon('Comparecimento')\">\r\n    <grid [items]=\"itemsComparecimentos\" [minHeight]=\"0\" #gridComparecimento [form]=\"formComparecimento\" \r\n        [hasDelete]=\"!disabled\" [hasAdd]=\"!disabled\" [hasEdit]=\"!disabled\"\r\n        [add]=\"addComparecimento.bind(this)\" [load]=\"loadComparecimento.bind(this)\" \r\n        [remove]=\"removeComparecimento.bind(this)\" [save]=\"saveComparecimento.bind(this)\" editable>\r\n        <columns>\r\n            <column title=\"Data\" [width]=\"300\" type=\"date\" field=\"data_comparecimento\"></column>\r\n            <column title=\"Unidade\" [template]=\"columnUnidade\" [editTemplate]=\"editUnidade\">\r\n                <ng-template let-row=\"row\" #columnUnidade>\r\n                    <badge [icon]=\"entityService.getIcon('Unidade')\" [label]=\"row.unidade.sigla\" [textValue]=\"row.unidade.nome\" color=\"success\"></badge>\r\n                </ng-template>\r\n                <ng-template let-row=\"row\" #editUnidade>\r\n                    <input-search label icon [size]=\"6\" #unidade controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n                </ng-template>\r\n            </column>\r\n            <column title=\"Detalhamento\" type=\"text\" field=\"detalhamento\"></column>\r\n            <column type=\"options\" [dynamicButtons]=\"comparecimentoDynamicButtons.bind(this)\"></column>\r\n        </columns>\r\n    </grid>\r\n</separator>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { ChangeDetectorRef, Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { ConsolidacaoDados, PlanoTrabalhoConsolidacaoDaoService } from 'src/app/dao/plano-trabalho-consolidacao-dao.service';\r\nimport { PlanoTrabalhoConsolidacao, PlanoTrabalhoConsolidacaoStatus } from 'src/app/models/plano-trabalho-consolidacao.model';\r\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { PlanoTrabalhoService } from '../plano-trabalho.service';\r\nimport { PlanoTrabalhoConsolidacaoFormComponent } from '../plano-trabalho-consolidacao-form/plano-trabalho-consolidacao-form.component';\r\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\r\nimport { Avaliacao } from 'src/app/models/avaliacao.model';\r\nimport { Programa } from 'src/app/models/programa.model';\r\nimport { AvaliacaoDaoService } from 'src/app/dao/avaliacao-dao.service';\r\nimport { UnidadeService } from 'src/app/services/unidade.service';\r\n\r\n@Component({\r\n  selector: 'plano-trabalho-consolidacao-list',\r\n  templateUrl: './plano-trabalho-consolidacao-list.component.html',\r\n  styleUrls: ['./plano-trabalho-consolidacao-list.component.scss']\r\n})\r\nexport class PlanoTrabalhoConsolidacaoListComponent extends PageFrameBase {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @Input() set entity(value: PlanoTrabalho | undefined) { super.entity = value; } get entity(): PlanoTrabalho | undefined { return super.entity; }\r\n\r\n  public get items(): PlanoTrabalhoConsolidacao[] {\r\n    return this.entity?.consolidacoes || [];\r\n  }\r\n\r\n  public dao?: PlanoTrabalhoConsolidacaoDaoService;\r\n  public avaliacaoDao: AvaliacaoDaoService;\r\n  public planoTrabalhoDao?: PlanoTrabalhoDaoService;\r\n  public planoTrabalhoService: PlanoTrabalhoService;\r\n  public unidadeService: UnidadeService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    /* Inicializações */\r\n    this.dao = injector.get<PlanoTrabalhoConsolidacaoDaoService>(PlanoTrabalhoConsolidacaoDaoService);\r\n    this.avaliacaoDao = injector.get<AvaliacaoDaoService>(AvaliacaoDaoService);\r\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\r\n    this.unidadeService = injector.get<UnidadeService>(UnidadeService);\r\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\r\n    this.title = this.lex.translate(\"Consolidações\");\r\n    this.code = \"MOD_PTR_CSLD\";\r\n    this.modalWidth = 1200;\r\n    this.form = this.fh.FormBuilder({\r\n      'data_inicio': {default: new Date()},\r\n      'data_fim': {default: new Date()}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    (async () => {\r\n      if (this.urlParams?.has(\"usuarioId\") && this.urlParams?.has(\"planoTrabalhoId\")) {\r\n        let dados = await this.planoTrabalhoDao!.getByUsuario(this.urlParams!.get(\"usuarioId\")!, true, this.urlParams!.get(\"planoTrabalhoId\")!);\r\n        if (dados.planos.length == 1) this.entity = dados.planos[0];\r\n      }\r\n      let agora = (new Date()).getTime();\r\n      this.items.forEach(v => {\r\n        if(!v.plano_trabalho) v.plano_trabalho = this.entity;\r\n        if(this.util.asTimestamp(v.data_inicio) <= agora && agora <= this.util.asTimestamp(v.data_fim)) this.grid!.expand(v.id);\r\n      });\r\n    })();\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    // TODO: Validar data\r\n    return result;\r\n  }\r\n\r\n  public async addConsolidacao() {\r\n    return new PlanoTrabalhoConsolidacao({\r\n      id: this.dao!.generateUuid(),\r\n      plano_trabalho_id: this.entity!.id\r\n    });\r\n  }\r\n\r\n  public async loadConsolidacao(form: FormGroup, row: any) {\r\n    this.form!.patchValue({\r\n      data_inicio: row.data_inicio,\r\n      data_fim: row.data_fim\r\n    });    \r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async removeConsolidacao(row: any) {\r\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir o item ?\");\r\n    if (confirm) {\r\n      try {\r\n        let consolidacao = row as PlanoTrabalhoConsolidacao;\r\n        await this.dao?.delete(consolidacao);\r\n        this.items.splice(this.items.findIndex(x => x.id == consolidacao.id), 1);\r\n        return true;\r\n      } catch {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public async saveConsolidacao(form: FormGroup, row: any) {\r\n    let result = undefined;\r\n    this.form!.markAllAsTouched();\r\n    if (this.form!.valid) {\r\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\r\n      row.data_inicio = form.controls.data_inicio.value;\r\n      row.data_fim = form.controls.data_fim.value;\r\n      result = await this.dao?.save(row);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public refreshConsolidacao(consolidacao: PlanoTrabalhoConsolidacao, dados?: ConsolidacaoDados) {\r\n    if(dados && consolidacao._metadata?.planoTrabalhoConsolidacaoFormComponent) {\r\n      let consolidacaoForm = consolidacao._metadata?.planoTrabalhoConsolidacaoFormComponent as PlanoTrabalhoConsolidacaoFormComponent;\r\n      consolidacaoForm.loadConsolidacao(dados);\r\n    } else {\r\n      this.grid!.refreshExpanded(consolidacao.id);\r\n    }\r\n    this.grid!.refreshRows();\r\n  }\r\n\r\n  public async concluir(consolidacao: PlanoTrabalhoConsolidacao) {\r\n    this.submitting = true;\r\n    try {\r\n      let response = await this.dao!.concluir(consolidacao.id);\r\n      consolidacao.status = response.status as PlanoTrabalhoConsolidacaoStatus;\r\n      this.refreshConsolidacao(consolidacao, response);\r\n    } catch (error: any) {\r\n      this.error(error.message || error);\r\n    } finally {\r\n      this.submitting = false;\r\n    }\r\n  }\r\n\r\n  public async cancelarConclusao(consolidacao: PlanoTrabalhoConsolidacao) {\r\n    this.submitting = true;\r\n    try {\r\n      let response = await this.dao!.cancelarConclusao(consolidacao.id);\r\n      consolidacao.status = response.status as PlanoTrabalhoConsolidacaoStatus;\r\n      this.refreshConsolidacao(consolidacao, response);\r\n    } catch (error: any) {\r\n      this.error(error.message || error);\r\n    } finally {\r\n      this.submitting = false;\r\n    }\r\n  }\r\n\r\n  public anterior(consolidacao: PlanoTrabalhoConsolidacao): PlanoTrabalhoConsolidacao | undefined {\r\n    return this.entity!.consolidacoes.reduce((a: PlanoTrabalhoConsolidacao | undefined, v: PlanoTrabalhoConsolidacao) => this.util.asTimestamp(v.data_inicio) < this.util.asTimestamp(consolidacao.data_inicio) && (!a || this.util.asTimestamp(a.data_inicio) < this.util.asTimestamp(v.data_inicio)) ? v : a, undefined);\r\n  }\r\n\r\n  public proximo(consolidacao: PlanoTrabalhoConsolidacao): PlanoTrabalhoConsolidacao | undefined {\r\n    return this.entity!.consolidacoes.reduce((a: PlanoTrabalhoConsolidacao | undefined, v: PlanoTrabalhoConsolidacao) => this.util.asTimestamp(v.data_fim) > this.util.asTimestamp(consolidacao.data_fim) && (!a || this.util.asTimestamp(a.data_fim) > this.util.asTimestamp(v.data_fim)) ? v : a, undefined);\r\n  }\r\n\r\n  public isDisabled(row?: PlanoTrabalhoConsolidacao): boolean {\r\n    return (row && row.status != \"INCLUIDO\") || this.entity?.status != \"ATIVO\";\r\n  }\r\n\r\n  public dynamicButtons(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let consolidacao: PlanoTrabalhoConsolidacao = row as PlanoTrabalhoConsolidacao;\r\n    const usuarioId = consolidacao!.plano_trabalho?.usuario_id;\r\n    const unidadeId = this.entity!.unidade_id;\r\n    const anterior = this.anterior(row as PlanoTrabalhoConsolidacao);\r\n    const proximo = this.proximo(row as PlanoTrabalhoConsolidacao);\r\n    const isAvaliador = this.auth.hasPermissionTo(\"MOD_PTR_CSLD_AVAL\") && (this.unidadeService.isGestorUnidade(unidadeId) || this.auth.isIntegrante('AVALIADOR_PLANO_TRABALHO', unidadeId));\r\n    const isUsuarioDoPlano = this.auth.usuario!.id == usuarioId;\r\n    const BOTAO_CONCLUIR = { hint: \"Concluir\", icon: \"bi bi-check-circle\", color: \"btn-outline-success\", onClick: this.concluir.bind(this) };\r\n    const BOTAO_CANCELAR_CONCLUSAO = { hint: \"Cancelar conclusão\", icon: \"bi bi-backspace\", color: \"btn-outline-danger\", onClick: this.cancelarConclusao.bind(this) };\r\n    const BOTAO_AVALIAR = { hint: \"Avaliar\", icon: \"bi bi-star\", color: \"btn-outline-warning\", onClick: (row: PlanoTrabalhoConsolidacao) => this.planoTrabalhoService.avaliar(row, this.entity!.programa!, this.refreshConsolidacao.bind(this)) };\r\n    const BOTAO_REAVALIAR = { hint: \"Reavaliar\", icon: \"bi bi-star-half\", color: \"btn-outline-warning\", onClick: (row: PlanoTrabalhoConsolidacao) => this.planoTrabalhoService.avaliar(row, this.entity!.programa!, this.refreshConsolidacao.bind(this)) };\r\n    const BOTAO_FAZER_RECURSO = { hint: \"Fazer recurso\", id: \"RECORRIDO\", icon: \"bi bi-journal-medical\", color: \"btn-outline-warning\", onClick: (row: PlanoTrabalhoConsolidacao) => this.planoTrabalhoService.fazerRecurso(row, this.entity!.programa!, this.refreshConsolidacao.bind(this)) };\r\n    const BOTAO_CANCELAR_AVALIACAO = { hint: \"Cancelar avaliação\", id: \"INCLUIDO\", icon: \"bi bi-backspace\", color: \"btn-outline-danger\", onClick: (row: PlanoTrabalhoConsolidacao) => this.planoTrabalhoService.cancelarAvaliacao(row, this, this.refreshConsolidacao.bind(this)) };\r\n    /* (RN_CSLD_11) Não pode concluir a consolidação antes que a anterior não esteja concluida, e não pode retornar status da consolidação se a posterior estiver a frente (em status); */\r\n    const canConcluir = !anterior || [\"CONCLUIDO\", \"AVALIADO\"].includes(anterior!.status);\r\n    const canCancelarConclusao = !proximo || [\"INCLUIDO\"].includes(proximo!.status);\r\n    const canAvaliar = !anterior || [\"AVALIADO\"].includes(anterior!.status);\r\n    const canCancelarAvaliacao = !proximo || [\"INCLUIDO\", \"CONCLUIDO\"].includes(proximo!.status);\r\n    if(!this.isDisabled()) {\r\n      if(consolidacao.status == \"INCLUIDO\" && canConcluir && (isUsuarioDoPlano || this.auth.hasPermissionTo(\"MOD_PTR_CSLD_CONCL\"))) {\r\n        result.push(BOTAO_CONCLUIR);\r\n      }\r\n      if(consolidacao.status == \"CONCLUIDO\" && canCancelarConclusao && this.planoTrabalhoService.diasParaConcluirConsolidacao(row, this.entity!.programa) >= 0 && (isUsuarioDoPlano || this.auth.hasPermissionTo(\"MOD_PTR_CSLD_DES_CONCL\"))) {\r\n        result.push(BOTAO_CANCELAR_CONCLUSAO);\r\n      }\r\n      if(consolidacao.status == \"CONCLUIDO\" && canAvaliar && isAvaliador) {\r\n        result.push(BOTAO_AVALIAR);\r\n      }\r\n      if(consolidacao.status == \"AVALIADO\" && consolidacao!.avaliacao) {\r\n        /* (RN_AVL_2) [PT] O usuário do plano de trabalho que possuir o acesso MOD_PTR_CSLD_REC_AVAL poderá recorrer da nota atribuida dentro do limites estabelecido pelo programa; */\r\n        if(isUsuarioDoPlano && this.auth.hasPermissionTo('MOD_PTR_CSLD_REC_AVAL') && consolidacao!.avaliacao?.data_avaliacao && \r\n          (!this.entity!.programa!.dias_tolerancia_recurso_avaliacao || \r\n          (this.util.daystamp(consolidacao!.avaliacao!.data_avaliacao) + this.entity!.programa!.dias_tolerancia_recurso_avaliacao > this.util.daystamp(this.auth.hora)))) {\r\n          result.push(BOTAO_FAZER_RECURSO);\r\n        }\r\n        /* (RN_AVL_3) [PT] Após o recurso será realizado nova avaliação, podendo essa ser novamente recorrida dentro do mesmo prazo estabelecido no programa; */\r\n        /* (RN_AVL_6) [PT] Qualquer usuário capaz de avaliar tambem terá a capacidade de cancelar a avaliação; */\r\n        if(canAvaliar && isAvaliador) {\r\n          result.push(BOTAO_REAVALIAR);\r\n          if(canCancelarAvaliacao) result.push(BOTAO_CANCELAR_AVALIACAO);\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n}\r\n","<grid [items]=\"items\" #grid [form]=\"form!\" [hasDelete]=\"true\" [minHeight]=\"0\"\r\n    [add]=\"addConsolidacao.bind(this)\" [hasAdd]=\"!isDisabled()\" [hasEdit]=\"false\" [hasDelete]=\"false\" editable>\r\n    <h5 class=\"my-2\">{{lex.translate(\"Consolidações\")}} <i class=\"bi bi-arrow-down\"></i></h5>\r\n    <columns>\r\n        <column type=\"expand\" [icon]=\"entityService.getIcon('PlanoTrabalhoConsolidacao')\" [align]=\"'center'\" [hint]=\"lex.translate('Consolidação')\" [template]=\"columnConsolidacao\" [expandTemplate]=\"columnExpandedConsolidacao\">\r\n            <ng-template let-row=\"row\" #columnConsolidacao>\r\n                <!--span *ngIf=\"row?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-boxes\"></i> {{row?.length}}</span//-->\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnExpandedConsolidacao>\r\n                <plano-trabalho-consolidacao-form #consolidacao [disabled]=\"isDisabled(row)\" [entity]=\"row\" [planoTrabalho]=\"entity\" [cdRef]=\"cdRef\"></plano-trabalho-consolidacao-form>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Data início\" [template]=\"columnDataInicio\">\r\n            <ng-template let-row=\"row\" #columnDataInicio>\r\n                {{util.getDateFormatted(row.data_inicio)}}\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Data fim\" [template]=\"columnDataFim\">\r\n            <ng-template let-row=\"row\" #columnDataFim>\r\n                {{util.getDateFormatted(row.data_fim)}}\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Estatísticas/Avaliações\" [template]=\"columnEstatisticas\" [width]=\"300\">\r\n            <ng-template let-row=\"row\" #columnEstatisticas>\r\n                <avaliar-nota-badge *ngIf=\"row.avaliacao\" [align]=\"'left'\" [tipoAvaliacao]=\"row.avaliacao.tipo_avaliacao || this.entity!.programa!.tipo_avaliacao_plano_trabalho\" [nota]=\"row.avaliacao.nota\"></avaliar-nota-badge>\r\n                <separator *ngIf=\"row.avaliacao?.recurso?.length\" title=\"Recurso da avaliação\" collapse [collapsed]=\"false\">\r\n                    <small>{{row.avaliacao.recurso}}</small>\r\n                </separator>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Status\" [template]=\"columnStatus\">\r\n            <ng-template let-row=\"row\" #columnStatus>\r\n                <div class=\"one-per-line\">\r\n                    <badge [color]=\"lookup.getColor(lookup.CONSOLIDACAO_STATUS, row.status)\" [icon]=\"lookup.getIcon(lookup.CONSOLIDACAO_STATUS, row.status)\" [label]=\"lookup.getValue(lookup.CONSOLIDACAO_STATUS, row.status)\"></badge>\r\n                    <badge *ngIf=\"row.avaliacao?.recurso?.length\" icon=\"bi bi-journal-medical\" color=\"warning\" label=\"Recorrido\"></badge>\r\n                </div>\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"options\" [dynamicButtons]=\"dynamicButtons.bind(this)\"></column>\r\n    </columns>\r\n</grid>","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { TabsComponent } from 'src/app/components/tabs/tabs.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageBase } from 'src/app/modules/base/page-base';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\n\r\n@Component({\r\n  selector: 'app-plano-trabalho-consolidacao',\r\n  templateUrl: './plano-trabalho-consolidacao.component.html',\r\n  styleUrls: ['./plano-trabalho-consolidacao.component.scss']\r\n})\r\nexport class PlanoTrabalhoConsolidacaoComponent extends PageFrameBase {\r\n  @ViewChild(TabsComponent, { static: false }) public tabs?: TabsComponent;\r\n  @ViewChild(InputSearchComponent, { static: false }) public unidadeSelecionada?: InputSearchComponent;\r\n\r\n  public usuarios: Usuario[] = [];\r\n  public unidade?: Unidade;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public loadingUnidade: boolean = false;\r\n  public filter: FormGroup;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      arquivados: { default: false }\r\n    });\r\n    this.filter = this.fh.FormBuilder({\r\n      unidade_id: { default: false }\r\n    });\r\n\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    super.ngAfterViewInit();\r\n    this.tabs!.active = this.queryParams?.tab || \"USUARIO\";\r\n    this.tabs!.title = this.lex.translate('Consolidações');\r\n    (async () => {\r\n      await this.loadData(this.entity!, this.form);\r\n    })();\r\n  }\r\n\r\n  public async loadData(entity: IIndexable, form?: FormGroup) {\r\n    this.unidade = this.auth.unidadeGestor();\r\n    this.filter!.controls.unidade_id.setValue(this.unidade?.id || this.auth.lotacao || null);\r\n    if(this.unidade) {\r\n      await this.loadUsuarios(this.unidade.id);\r\n    }\r\n  }\r\n  \r\n  public async loadUsuarios(unidade: any) {\r\n    this.usuarios = [];\r\n    this.loadingUnidade = true;\r\n    this.loading = true;\r\n    this.cdRef.detectChanges();\r\n    try {\r\n      this.usuarios = await this.unidadeDao.lotados(unidade);\r\n    } finally {\r\n      this.loading = false;\r\n      this.loadingUnidade = false;\r\n      this.cdRef.detectChanges();\r\n    }\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let form: any = filter.value;\r\n    this.loadUsuarios(form.unidade_id);\r\n  }\r\n}\r\n","<tabs right #tabs [title]=\"isModal ? '' : title\">\r\n    <tab key=\"UNIDADE\" *ngIf=\"unidade\" [icon]=\"entityService.getIcon('Unidade')\" [label]=\"lex.translate('Unidade')\" [template]=\"tabUnidade\">\r\n        <ng-template #tabUnidade>\r\n            <filter [form]=\"filter\" [filter]=\"filterWhere\" [collapsed]=\"false\">\r\n                <div class=\"row\">\r\n                    <input-search [size]=\"12\" #unidadeSelecionada label=\"Selecione a unidade\" [control]=\"filter!.controls.unidade_id\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n                </div>\r\n            </filter>\r\n            <div class=\"p-3 mb-3 bg-body-secondary\">\r\n                <h5>{{lex.translate(\"Unidade\")}} selecionada: {{unidadeSelecionada?.selectedItem?.entity.sigla}} - {{unidadeSelecionada?.selectedItem?.entity.nome}}</h5>\r\n                <h4>{{lex.translate(\"Participantes\")}} <i class=\"bi bi-arrow-down\"></i></h4>\r\n            </div>\r\n            <div *ngIf=\"loading\" class=\"d-flex justify-content-center my-2\">\r\n                <div class=\"spinner-border\" role=\"status\">\r\n                    <span class=\"visually-hidden\"></span>\r\n                </div>\r\n            </div>\r\n            <collapse-card *ngFor=\"let usuario of usuarios\" [data]=\"usuario\" [titleTemplate]=\"usuarioCardTitle\" [template]=\"usuarioCard\">\r\n                <ng-template let-data=\"data\" #usuarioCardTitle>\r\n                    <div class=\"d-flex\">\r\n                        <div class=\"ms-3\">\r\n                            <profile-picture [url]=\"data.url_foto\" [size]=\"40\" [hint]=\"data.nome\"></profile-picture>\r\n                        </div>\r\n                        <div class=\"flex-fill ms-3\">\r\n                            <strong>{{data.nome || \"\"}}</strong><br>\r\n                            <small>{{data.apelido || \"\"}}</small>\r\n                        </div>\r\n                    </div>\r\n                </ng-template>\r\n                <ng-template let-data=\"data\" #usuarioCard>\r\n                    <plano-trabalho-list-accordeon [usuarioId]=\"data.id\"></plano-trabalho-list-accordeon>\r\n                </ng-template>\r\n            </collapse-card>\r\n        </ng-template>\r\n    </tab>\r\n    <tab key=\"USUARIO\" [icon]=\"entityService.getIcon('Usuario')\" [label]=\"lex.translate('Usuário')\" [template]=\"tabUsuario\">\r\n        <ng-template #tabUsuario>\r\n            <div class=\"d-flex justify-content-between\">\r\n                <h5 class=\"mt-2\">{{lex.translate(\"Planos de Trabalho\")}} <i class=\"bi bi-arrow-down\"></i></h5>\r\n                <separator [control]=\"form!.controls.arquivados\" [title]=\"'Mostrar ' + lex.translate('Planos de trabalho') + ' arquivados?'\"></separator>\r\n            </div>            \r\n            <plano-trabalho-list-accordeon [usuarioId]=\"auth.usuario!.id\" [arquivados]=\"form!.controls.arquivados.value\"></plano-trabalho-list-accordeon>\r\n        </ng-template>\r\n    </tab>\r\n</tabs>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { UnitWorkload } from 'src/app/components/input/input-workload/input-workload.component';\r\nimport { DocumentoDaoService } from 'src/app/dao/documento-dao-service';\r\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\r\nimport { ProgramaDaoService } from 'src/app/dao/programa-dao.service';\r\nimport { TipoDocumentoDaoService } from 'src/app/dao/tipo-documento-dao.service';\r\nimport { TipoModalidadeDaoService } from 'src/app/dao/tipo-modalidade-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\r\nimport { SeiKeys } from 'src/app/listeners/procedimento-trabalhar/procedimento-trabalhar.component';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\r\nimport { TipoDocumento } from 'src/app/models/tipo-documento.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { NavigateResult } from 'src/app/services/navigate.service';\r\n\r\n@Component({\r\n  selector: 'plano-trabalho-form-termo',\r\n  templateUrl: './plano-trabalho-form-termo.component.html',\r\n  styleUrls: ['./plano-trabalho-form-termo.component.scss']\r\n})\r\n\r\nexport class PlanoTrabalhoFormTermoComponent extends PageFormBase<PlanoTrabalho, PlanoTrabalhoDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  @ViewChild('programa', { static: false }) public programa?: InputSearchComponent;\r\n  @ViewChild('tipoDocumento', { static: false }) public tipoDocumento?: InputSearchComponent;\r\n  @ViewChild('tipoModalidade', { static: false }) public tipoModalidade?: InputSearchComponent;\r\n\r\n  public unidadeDao: UnidadeDaoService;\r\n  public programaDao: ProgramaDaoService;\r\n  public usuarioDao: UsuarioDaoService;\r\n  public documentoDao: DocumentoDaoService;\r\n  public tipoDocumentoDao: TipoDocumentoDaoService;\r\n  public allPages: ListenerAllPagesService;\r\n  public processo?: SeiKeys;\r\n  public tipoModalidadeDao: TipoModalidadeDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, PlanoTrabalho, PlanoTrabalhoDaoService);\r\n    this.join = [\"unidade\", \"usuario\", \"programa.template_tcr\", \"tipo_modalidade\", \"documento\", \"documentos\", \"atividades.atividade\"];\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.programaDao = injector.get<ProgramaDaoService>(ProgramaDaoService);\r\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.tipoDocumentoDao = injector.get<TipoDocumentoDaoService>(TipoDocumentoDaoService);\r\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\r\n    this.tipoModalidadeDao = injector.get<TipoModalidadeDaoService>(TipoModalidadeDaoService);\r\n    this.documentoDao = injector.get<DocumentoDaoService>(DocumentoDaoService);\r\n\r\n    this.form = this.fh.FormBuilder({\r\n      carga_horaria: {default: \"\"},\r\n      tempo_total: {default: \"\"},\r\n      tempo_proporcional: {default: \"\"},\r\n      data_inicio: {default: new Date()},\r\n      data_fim: {default: new Date()},\r\n      programa_id: {default: \"\"},\r\n      usuario_id: {default: \"\"},\r\n      unidade_id: {default: \"\"},\r\n      documento_id: {default: \"\"},\r\n      documentos: {default: []},\r\n      tipo_documento_id: {default: \"\"},\r\n      numero_processo: {default: \"\"},\r\n      vinculadas: {default: true},\r\n      tipo_modalidade_id: {default: \"\"},\r\n      forma_contagem_carga_horaria: {default: \"DIA\"}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if(controlName == \"tipo_documento_id\" && !control?.value?.length && this.form?.controls?.numero_processo?.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public formValidation = (form?: FormGroup) => {\r\n    if(!this.tipoDocumento?.selectedEntity && form?.controls.tipo_documento_id.value?.length) {\r\n      return \"Aguarde o carregamento do tipo de documento\";\r\n    }\r\n    return undefined;\r\n  } \r\n\r\n  public onVinculadasChange(event: Event) {\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async loadData(entity: PlanoTrabalho, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    formValue = this.util.fillForm(formValue, entity);\r\n    await Promise.all ([\r\n      this.unidade!.loadSearch(entity.unidade || entity.unidade_id),\r\n      this.usuario!.loadSearch(entity.usuario || entity.usuario_id),\r\n      this.programa!.loadSearch(entity.programa || entity.programa_id),\r\n      this.tipoModalidade!.loadSearch(entity.tipo_modalidade || entity.tipo_modalidade_id)\r\n    ]);\r\n    if(this.processo) {\r\n      formValue.id_processo = this.processo.id_processo;\r\n      formValue.numero_processo = this.processo.numero_processo;\r\n    }\r\n    formValue.data_inicio = this.auth.hora;\r\n    form.patchValue(formValue);\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity = (await this.dao!.getById(this.metadata.plano_trabalho.id, this.join))!;\r\n    this.processo = this.metadata?.processo;\r\n    await this.loadData(this.entity!, form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<NavigateResult | undefined> {\r\n    return new Promise<NavigateResult | undefined>((resolve, reject) => {\r\n      //if(this.processo) {\r\n      resolve(new NavigateResult(Object.assign(this.form!.value, {\r\n        /* TODO Gerar documento do TCR\r\n        termo: this.termo!.conteudo,\r\n        atividades_termo_adesao: this.termo!.atividades.map((x: { nome: string; }) => this.util.removeAcentos(x.nome.toLowerCase())),*/\r\n        codigo_tipo_documento: (this.tipoDocumento?.selectedEntity as TipoDocumento)?.codigo\r\n      })));\r\n      /*} else {\r\n        const documento = Object.assign(new Documento(), {\r\n          especie: \"TERMO_ADESAO\",\r\n          conteudo: this.termo!.conteudo,\r\n          plano_id: this.entity!.id,\r\n          status: \"GERADO\"\r\n        });\r\n        this.documentoDao.save(documento).then(doc => resolve(undefined)).catch(reject);\r\n      }*/\r\n    });\r\n  }\r\n\r\n  public get formaContagemCargaHoraria(): UnitWorkload {\r\n    const forma = this.form?.controls.forma_contagem_carga_horaria?.value || \"DIA\";\r\n    return forma == \"DIA\" ? \"day\" : forma == \"SEMANA\" ? \"week\" : \"mouth\";\r\n  }\r\n\r\n  public titleEdit = (entity: PlanoTrabalho): string => {\r\n    return \"Editando \" + this.lex.translate(\"TCR\") + ' ' + this.lex.translate(\"do Plano de Trabalho\") + ': ' + (entity?.usuario?.nome || \"\");\r\n  }\r\n\r\n}\r\n\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"programa_id\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\"><!--</editable-form>(submit)=\"onSaveData()\" (cancel)=\"onCancel()\">-->\r\n    <separator [title]=\"lex.translate('Plano de trabalho')\" collapse [collapsed]=\"false\">\r\n        <div class=\"row\">\r\n            <input-search #programa [size]=\"6\" disabled controlName=\"programa_id\" [dao]=\"programaDao\"></input-search>\r\n            <input-search #usuario [size]=\"6\" disabled  controlName=\"usuario_id\" [dao]=\"usuarioDao\"></input-search>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-search #unidade [size]=\"5\" disabled controlName=\"unidade_id\" [dao]=\"unidadeDao\" ></input-search>\r\n            <input-search #tipoModalidade disabled [size]=\"3\" controlName=\"tipo_modalidade_id\" [dao]=\"tipoModalidadeDao\"></input-search>\r\n            <input-text numbers disabled [size]=\"2\" label=\"% prod.\" icon=\"bi bi-hourglass-split\" controlName=\"ganho_produtividade\" [control]=\"form!.controls.ganho_produtividade\" [labelInfo]=\"'Percentual de ganho de produtividade (Será descontado do ' + lex.translate('tempo pactuado')+')'\" [attr.maxlength]=250></input-text>\r\n            <input-display [size]=\"2\" label=\"H. Parciais\" icon=\"bi bi-clock\" controlName=\"tempo_proporcional\" [control]=\"form!.controls.tempo_proporcional\" labelInfo=\"Total de horas menos os afastamentos.\"></input-display>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-datetime [size]=\"3\" disabled label=\"Início\" icon=\"bi bi-calendar-date\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" labelInfo=\"Início da Vigência do Programa\"></input-datetime>\r\n            <input-datetime [size]=\"3\" disabled label=\"Final\" icon=\"bi bi-calendar-date\" controlName=\"data_fim\" [control]=\"form!.controls.data_fim\" labelInfo=\"Final da Vigência do Programa\"></input-datetime>\r\n            <input-workload [size]=\"3\" disabled [unit]=\"formaContagemCargaHoraria\" label=\"C. Horária\" icon=\"bi bi-hourglass-split\" controlName=\"carga_horaria\" [control]=\"form!.controls.carga_horaria\" [labelInfo]=\"'Carga horária' + lex.translate('do usuário')\"></input-workload>\r\n            <input-display [size]=\"3\" label=\"H. Totais\" icon=\"bi bi-clock\" controlName=\"tempo_total\" [control]=\"form!.controls.tempo_total\" labelInfo=\"Horas úteis de trabalho no período de vigência considerando a carga horária, feriados e fins de semana\"></input-display>\r\n        </div>\r\n    </separator>\r\n    <div class=\"row\">\r\n        <input-datetime [size]=\"3\" disabled label=\"Data e hora\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" labelInfo=\"Data de cadastro do termo\"></input-datetime>\r\n        <input-text [label]=\"'Número ' + lex.translate('Processo')\" [size]=\"3\" controlName=\"numero_processo\" [control]=\"form!.controls.numero_processo\" disabled labelInfo=\"Número do processo, com a formatação de origem\" [attr.maxlength]=250></input-text>\r\n        <input-search [size]=\"4\" #tipoDocumento [disabled]=\"!form!.controls.numero_processo.value?.length ? 'true' : undefined\" controlName=\"tipo_documento_id\" [dao]=\"tipoDocumentoDao\" required></input-search>\r\n        <input-switch label=\"Vinculadas\" [disabled]=\"entity?.atividades?.length ? 'true' : undefined\" [size]=\"2\" controlName=\"vinculadas\" [control]=\"form!.controls.vinculadas\" (change)=\"onVinculadasChange($event)\" labelInfo=\"Se inclui as atividades das unidades vinculadas a unidade do plano\"></input-switch>\r\n    </div>\r\n    <!--separator title=\"Pré-visualização do termo de adesão\" collapse [collapsed]=\"true\">\r\n        <plano-termo-adesao #termo [plano]=\"entity\" [vinculadas]=\"!!form?.controls?.vinculadas?.value\"></plano-termo-adesao>\r\n    </separator/-->\r\n</editable-form>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { SelectItem } from 'src/app/components/input/input-base';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { UnitWorkload } from 'src/app/components/input/input-workload/input-workload.component';\r\nimport { TabsComponent } from 'src/app/components/tabs/tabs.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { DocumentoDaoService } from 'src/app/dao/documento-dao-service';\r\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\r\nimport { ProgramaDaoService } from 'src/app/dao/programa-dao.service';\r\nimport { TipoModalidadeDaoService } from 'src/app/dao/tipo-modalidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Documento } from 'src/app/models/documento.model';\r\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\r\nimport { Programa } from 'src/app/models/programa.model';\r\nimport { TipoModalidade } from 'src/app/models/tipo-modalidade.model';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { DocumentoService } from 'src/app/modules/uteis/documentos/documento.service';\r\nimport { DocumentosComponent } from 'src/app/modules/uteis/documentos/documentos.component';\r\nimport { CalendarService, Efemerides } from 'src/app/services/calendar.service';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { PlanoTrabalhoService } from '../plano-trabalho.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { TemplateDataset, TemplateService } from 'src/app/modules/uteis/templates/template.service';\r\nimport { Template } from 'src/app/models/template.model';\r\nimport { UtilService } from 'src/app/services/util.service';\r\n\r\n@Component({\r\n  selector: 'plano-trabalho-form',\r\n  templateUrl: './plano-trabalho-form.component.html',\r\n  styleUrls: ['./plano-trabalho-form.component.scss']\r\n})\r\n\r\nexport class PlanoTrabalhoFormComponent extends PageFormBase<PlanoTrabalho, PlanoTrabalhoDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('gridAtividades', { static: false }) public gridAtividades?: GridComponent;\r\n  @ViewChild('gridDocumentos', { static: false }) public gridDocumentos?: GridComponent;\r\n  @ViewChild('tabs', { static: false }) public tabs?: TabsComponent;\r\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\r\n  @ViewChild('programa', { static: false }) public programa?: InputSearchComponent;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  @ViewChild('tipoModalidade', { static: false }) public tipoModalidade?: InputSearchComponent;\r\n  @ViewChild('planoEntrega', { static: false }) public planoEntrega?: InputSearchComponent;\r\n  @ViewChild('atividade', { static: false }) public atividade?: InputSearchComponent;\r\n  @ViewChild('entrega', { static: false }) public entrega?: InputSelectComponent;\r\n  @ViewChild('documentos', { static: false }) public documentos?: DocumentosComponent;\r\n\r\n  public programaDao: ProgramaDaoService;\r\n  public usuarioDao: UsuarioDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public documentoDao: DocumentoDaoService;\r\n  public documentoService: DocumentoService;\r\n  public templateService: TemplateService;\r\n  public utilService: UtilService;\r\n  public allPages: ListenerAllPagesService;\r\n  public calendar: CalendarService;\r\n  public tipoModalidadeDao: TipoModalidadeDaoService;\r\n  public planoTrabalhoService: PlanoTrabalhoService;\r\n  public horasTotais?: Efemerides;\r\n  public horasParciais?: Efemerides;\r\n  public planoDataset: TemplateDataset[];\r\n  public joinPrograma: string[];\r\n  public entregas: LookupItem[] = [];\r\n  public planoTrabalho?: PlanoTrabalho;\r\n  public datasource: any;\r\n  public template?: Template;\r\n  public editingId?: string;\r\n  public gestoresUnidadeExecutora: string[] = [];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, PlanoTrabalho, PlanoTrabalhoDaoService);\r\n    this.join = [\r\n      \"unidade.entidade\", \r\n      \"entregas.entrega\", \r\n      \"entregas.plano_entrega_entrega:id,plano_entrega_id\", \r\n      \"usuario\",\r\n      \"programa.template_tcr\", \r\n      \"tipo_modalidade\", \r\n      \"documento\", \r\n      \"documentos.assinaturas.usuario:id,nome,apelido\", \r\n      \"entregas.plano_entrega_entrega.entrega\",\r\n      \"entregas.plano_entrega_entrega.plano_entrega.unidade:id,nome,sigla\",\r\n      'entregas.reacoes.usuario:id,nome,apelido'\r\n    ];\r\n    this.joinPrograma = [\"template_tcr\"];\r\n    this.programaDao = injector.get<ProgramaDaoService>(ProgramaDaoService);\r\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.documentoService = injector.get<DocumentoService>(DocumentoService);\r\n    this.templateService = injector.get<TemplateService>(TemplateService);\r\n    this.utilService = injector.get<UtilService>(UtilService);\r\n    this.calendar = injector.get<CalendarService>(CalendarService);\r\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\r\n    this.tipoModalidadeDao = injector.get<TipoModalidadeDaoService>(TipoModalidadeDaoService);\r\n    this.documentoDao = injector.get<DocumentoDaoService>(DocumentoDaoService);\r\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\r\n    this.modalWidth = 1300;\r\n    this.planoDataset = this.dao!.dataset();\r\n    this.form = this.fh.FormBuilder({\r\n      carga_horaria: { default: \"\" },\r\n      tempo_total: { default: \"\" },\r\n      tempo_proporcional: { default: \"\" },\r\n      data_inicio: { default: new Date() },\r\n      data_fim: { default: new Date() },\r\n      usuario_id: { default: \"\" },\r\n      unidade_id: { default: \"\" },\r\n      programa_id: { default: \"\" },\r\n      documento_id: { default: null },\r\n      documentos: { default: [] },\r\n      atividades: { default: [] },\r\n      entregas: { default: [] },\r\n      tipo_modalidade_id: { default: \"\" },\r\n      forma_contagem_carga_horaria: { default: \"DIA\" },\r\n      editar_texto_complementar_unidade: { default: false },\r\n      editar_texto_complementar_usuario: { default: false },\r\n      unidade_texto_complementar: { default: \"\" },\r\n      usuario_texto_complementar: { default: \"\" },\r\n      criterios_avaliacao: { default: [] },\r\n      criterio_avaliacao: { default: \"\" }\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n    const segment = (this.url ? this.url[this.url.length - 1]?.path : \"\") || \"\";\r\n    this.action = [\"termos\"].includes(segment) ? segment : this.action;\r\n    this.buscaGestoresUnidadeExecutora(this.entity?.unidade ?? null);\r\n  }\r\n\r\n  public atualizarTcr() {\r\n    this.entity = this.loadEntity();\r\n    let textoUsuario = this.form!.controls.usuario_texto_complementar.value;\r\n    let textoUnidade = this.form!.controls.unidade_texto_complementar.value;\r\n    let documento = this.planoTrabalhoService.atualizarTcr(this.planoTrabalho!, this.entity!, textoUsuario, textoUnidade);\r\n    this.form?.controls.documento_id.setValue(documento?.id);\r\n    this.form?.controls.documentos.setValue(this.entity!.documentos);\r\n    this.datasource = documento?.datasource || {};\r\n    this.template = this.entity.programa?.template_tcr;\r\n    this.editingId = [\"ADD\", \"EDIT\"].includes(documento?._status || \"\") ? documento!.id : undefined;\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public get isTermos(): boolean {\r\n    return this.action == \"termos\";\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if (['unidade_id', 'programa_id', 'usuario_id', 'tipo_modalidade_id'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    } else if (['carga_horaria'].indexOf(controlName) >= 0 && !control.value) {\r\n      result = \"Valor não pode ser zero.\";\r\n    } else if (['data_inicio', 'data_fim'].includes(controlName) && !this.util.isDataValid(control.value)) {\r\n      result = \"Inválido\";\r\n    } else if (controlName == 'data_fim' && this.util.isDataValid(this.form?.controls.data_inicio.value) && this.util.asTimestamp(control.value) <= this.util.asTimestamp(this.form!.controls.data_inicio.value)) {\r\n      result = \"Menor que o início\";\r\n    } else if (this.programa && controlName == 'data_inicio' && (control.value as Date).getTime() < this.programa!.selectedEntity?.data_inicio.getTime()) {\r\n      result = \"Menor que programa\";\r\n    } else if (this.programa && controlName == 'data_fim' && (control.value as Date).getTime() > this.programa!.selectedEntity?.data_fim.getTime()) {\r\n      result = \"Maior que programa\";\r\n    } else if (controlName == 'criterios_avaliacao' && control.value.length < 1) {\r\n      result = \"Insira ao menos um critério de avaliação\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public formValidation = async (form?: FormGroup) => {\r\n    let result = \"\";\r\n    return result;\r\n    // TODO:\r\n    // Validar se as entregas pertencem ao plano de entregas da unidade\r\n  };\r\n\r\n  public onUnidadeSelect(selected: SelectItem) {\r\n    let unidade = this.unidade?.selectedEntity as Unidade;\r\n    this.entity!.unidade = unidade;\r\n    this.entity!.unidade_id = unidade.id;\r\n    this.form!.controls.forma_contagem_carga_horaria.setValue(unidade?.entidade?.forma_contagem_carga_horaria || \"DIA\");\r\n    this.form!.controls.unidade_texto_complementar.setValue(unidade?.texto_complementar_plano || \"\");\r\n    this.unidadeDao.getById(unidade.id, ['gestor:id,usuario_id','gestores_substitutos:id,usuario_id','gestores_delegados:id,usuario_id']).then( unidade => {\r\n      this.buscaGestoresUnidadeExecutora(unidade);\r\n    });\r\n  }\r\n\r\n  public onProgramaSelect(selected: SelectItem) {\r\n    let programa = selected.entity as Programa;\r\n    this.entity!.programa_id = programa.id;\r\n    this.entity!.programa = programa;\r\n    this.form?.controls.criterios_avaliacao.setValue(programa.plano_trabalho_criterios_avaliacao || []);\r\n    this.form?.controls.data_inicio.updateValueAndValidity();\r\n    this.form?.controls.data_fim.updateValueAndValidity();\r\n    this.calculaTempos();\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onUsuarioSelect(selected: SelectItem) {\r\n    this.form!.controls.usuario_texto_complementar.setValue((selected.entity as Usuario)?.texto_complementar_plano || \"\");\r\n    if(!this.form?.controls.unidade_id.value) {\r\n      selected.entity.unidades.every(async (unidade: any) => {\r\n        if (selected.entity.lotacao.unidade_id == unidade.id) {\r\n          if(!this.form?.controls.programa_id.value) {\r\n            let niveis = unidade.path.split(\"/\").reverse();\r\n            let hoje = new Date();\r\n            let preenchido = 0;\r\n            let indice = 0;\r\n            while (preenchido == 0) {\r\n              await this.programaDao.query({where : [[\"unidade_id\",\"==\",niveis[indice],],[\"data_inicio\",\"<\", hoje],[\"data_fim\",\">\", hoje]]}).asPromise().then( programa => {\r\n                if (programa.length > 0 && preenchido == 0) {\r\n                  preenchido = 1;\r\n                  this.preencheUnidade(unidade);\r\n                  this.preenchePrograma(programa[0]!);\r\n                }\r\n              })\r\n              indice += 1;\r\n            }\r\n          }\r\n        return false;\r\n        } else return true;\r\n      })\r\n    }\r\n    this.calculaTempos();\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public preencheUnidade(unidade: Unidade) {\r\n    this.form?.controls.unidade_id.setValue(unidade.id);\r\n    this.entity!.unidade = unidade;\r\n    this.entity!.unidade_id = unidade.id;\r\n    this.form!.controls.forma_contagem_carga_horaria.setValue(unidade?.entidade?.forma_contagem_carga_horaria || \"DIA\");\r\n    this.form!.controls.unidade_texto_complementar.setValue(unidade?.texto_complementar_plano || \"\");\r\n    this.unidadeDao.getById(unidade.id, ['gestor:id,usuario_id','gestores_substitutos:id,usuario_id','gestores_delegados:id,usuario_id']).then( unidade => {\r\n      this.buscaGestoresUnidadeExecutora(unidade);\r\n    });\r\n  }\r\n\r\n  public preenchePrograma(programa: Programa) {\r\n    this.form?.controls.programa_id.setValue(programa.id);\r\n    this.entity!.programa_id = programa.id;\r\n    this.entity!.programa = programa;\r\n    this.form?.controls.criterios_avaliacao.setValue(programa.plano_trabalho_criterios_avaliacao || []);\r\n    this.form?.controls.data_inicio.updateValueAndValidity();\r\n    this.form?.controls.data_fim.updateValueAndValidity();\r\n  }\r\n\r\n  public onDataInicioChange(event: Event) {\r\n    this.calculaTempos();\r\n  }\r\n\r\n  public onDataFimChange(event: Event) {\r\n    this.calculaTempos();\r\n  }\r\n\r\n  public onCargaHorariaChenge(event: Event) {\r\n    this.calculaTempos();\r\n  }\r\n\r\n  public calculaTempos() {\r\n    const inicio = this.form?.controls.data_inicio.value;\r\n    const fim = this.form?.controls.data_fim.value;\r\n    const carga = this.form?.controls.carga_horaria.value || 8;\r\n    const usuario = this.usuario?.selectedEntity as Usuario;\r\n    const unidade = this.unidade?.selectedEntity as Unidade;\r\n    if (usuario && unidade && this.util.isDataValid(inicio) && this.util.isDataValid(fim) && this.util.asTimestamp(inicio) < this.util.asTimestamp(fim)) {\r\n      this.calendar.loadFeriadosCadastrados(unidade.id).then((feriados) => {\r\n        this.horasTotais = this.calendar.calculaDataTempoUnidade(inicio, fim, carga, unidade, \"ENTREGA\", [], []);\r\n        this.horasParciais = this.calendar.calculaDataTempoUnidade(inicio, fim, carga, unidade, \"ENTREGA\", [], usuario.afastamentos);\r\n        this.form?.controls.tempo_total.setValue(this.horasTotais.tempoUtil);\r\n        this.form?.controls.tempo_proporcional.setValue(this.horasParciais.tempoUtil);\r\n      });\r\n    }\r\n  }\r\n\r\n  public async loadData(entity: PlanoTrabalho, form: FormGroup) {\r\n    this.planoTrabalho = new PlanoTrabalho(entity);\r\n    await Promise.all([\r\n      this.calendar.loadFeriadosCadastrados(entity.unidade_id),\r\n      this.usuario?.loadSearch(entity.usuario || entity.usuario_id),\r\n      this.unidade?.loadSearch(entity.unidade || entity.unidade_id),\r\n      this.programa?.loadSearch(entity.programa || entity.programa_id),\r\n      this.tipoModalidade?.loadSearch(entity.tipo_modalidade || entity.tipo_modalidade_id)\r\n    ]);\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    /*let documento = entity.documentos.find(x => x.id == entity.documento_id);\r\n    if(documento) this._datasource = documento.datasource;*/\r\n    this.calculaTempos();\r\n    this.atualizarTcr();\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    if (this.isTermos) {\r\n      this.entity = (await this.dao!.getById(this.urlParams!.get(\"id\")!, this.join))!;\r\n    } else {\r\n      this.entity = new PlanoTrabalho();\r\n      this.entity.carga_horaria = this.auth.entidade?.carga_horaria_padrao || 8;\r\n      this.entity.forma_contagem_carga_horaria = this.auth.entidade?.forma_contagem_carga_horaria || \"DIA\";\r\n    }\r\n    await this.loadData(this.entity, this.form!);\r\n    this.form?.controls.data_fim.setValue(\"\");\r\n  }\r\n\r\n  /* Cria um objeto Plano baseado nos dados do formulário */\r\n  public loadEntity(): PlanoTrabalho {\r\n    let plano: PlanoTrabalho = this.util.fill(new PlanoTrabalho(), this.entity!);\r\n    plano = this.util.fillForm(plano, this.form!.value);\r\n    plano.usuario = (this.usuario!.selectedEntity || this.entity?.usuario) as Usuario;\r\n    plano.unidade = (this.unidade?.selectedEntity || this.entity?.unidade) as Unidade;\r\n    plano.programa = (this.programa?.selectedEntity || this.entity?.programa) as Programa;\r\n    plano.tipo_modalidade = (this.tipoModalidade!.selectedEntity || this.entity?.tipo_modalidade) as TipoModalidade;\r\n    return plano;\r\n  }\r\n\r\n  public async saveData(form: IIndexable): Promise<PlanoTrabalho | boolean> {\r\n    //let plano = this.loadEntity();\r\n    /* Atualiza o documento */\r\n    this.atualizarTcr();\r\n    /* Confirma dados do documento */\r\n    this.documentos?.saveData();\r\n    this.entity!.documentos = this.entity!.documentos.filter((documento: Documento) => {\r\n      return [\"ADD\", \"EDIT\", \"DELETE\"].includes(documento._status || \"\");\r\n    });\r\n    /* Salva separadamente as informações do plano */\r\n    this.submitting = true;\r\n    try {\r\n      let requests: Promise<any>[] = [this.dao!.save(this.entity!, this.join)];\r\n      if (this.form!.controls.editar_texto_complementar_unidade.value) requests.push(this.unidadeDao.update(this.entity!.unidade_id, { texto_complementar_plano: this.form!.controls.unidade_texto_complementar.value }));\r\n      if (this.form!.controls.editar_texto_complementar_usuario.value) requests.push(this.usuarioDao.update(this.entity!.usuario_id, { texto_complementar_plano: this.form!.controls.usuario_texto_complementar.value }));\r\n      let responses = await Promise.all(requests);\r\n      this.entity = responses[0] as PlanoTrabalho;\r\n    } finally {\r\n      this.submitting = false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public onTabSelect(tab: LookupItem) {\r\n    if (tab.key == \"TERMO\") this.atualizarTcr();\r\n  }\r\n\r\n  public titleEdit = (entity: PlanoTrabalho): string => {\r\n    return \"Editando \" + this.lex.translate(\"Plano de Trabalho\") + ': ' + (entity?.usuario?.apelido || \"\");\r\n  }\r\n\r\n  public documentoDynamicButtons(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let documento: Documento = row as Documento;\r\n\r\n    if (this.isTermos && this.planoTrabalhoService.needSign(this.entity, documento)) {\r\n      result.push({ hint: \"Assinar\", icon: \"bi bi-pen\", onClick: this.signDocumento.bind(this) });\r\n    }\r\n    result.push({ hint: \"Preview\", icon: \"bi bi-zoom-in\", onClick: ((documento: Documento) => { this.dialog.html({ title: \"Termo de adesão\", modalWidth: 1000 }, documento.conteudo || \"\"); }).bind(this) });\r\n\r\n    return result;\r\n  }\r\n\r\n  public addItemHandleCriteriosAvaliacao(): LookupItem | undefined {\r\n    let result = undefined;\r\n    const value = this.form!.controls.criterio_avaliacao.value;\r\n    const key = this.util.textHash(value);\r\n    if(value?.length && this.util.validateLookupItem(this.form!.controls.criterios_avaliacao.value, key)) {\r\n      result = {\r\n        key: key,\r\n        value: this.form!.controls.criterio_avaliacao.value\r\n      };\r\n      this.form!.controls.criterio_avaliacao.setValue(\"\");\r\n    }\r\n    return result;\r\n  };\r\n\r\n  public async signDocumento(documento: Documento) {\r\n    await this.documentoService.sign([documento]);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public get formaContagemCargaHoraria(): UnitWorkload {\r\n    const forma = this.form?.controls.forma_contagem_carga_horaria.value || \"DIA\";\r\n    return forma == \"DIA\" ? \"day\" : forma == \"SEMANA\" ? \"week\" : \"mouth\";\r\n  }\r\n\r\n  public onFormaContagemCargaHorariaChange(unit: UnitWorkload) {\r\n    this.form!.controls.forma_contagem_carga_horaria.setValue(unit == \"day\" ? \"DIA\" : unit == \"week\" ? \"SEMANA\" : \"MES\");\r\n  }\r\n\r\n  public isVigente(documento: Documento): boolean {\r\n    return this.form!.controls.documento_id.value == documento.id;\r\n  }\r\n\r\n  public buscaGestoresUnidadeExecutora(unidade: Unidade | null){\r\n    if (unidade) [unidade.gestor?.usuario_id, ...unidade.gestores_substitutos?.map(x => x.usuario_id), ...unidade!.gestores_delegados?.map(x => x.usuario_id)].forEach(gestor => {\r\n      if (gestor) this.gestoresUnidadeExecutora.push(gestor);\r\n    });\r\n    return this.gestoresUnidadeExecutora;\r\n  }\r\n\r\n}\r\n\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [noButtons]=\"isTermos ? 'true' : undefined\" initialFocus=\"plano_entrega_id\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\"><!--</editable-form>(submit)=\"onSaveData()\" (cancel)=\"onCancel()\">-->\r\n    <tabs #tabs display right [hidden]=\"isTermos ? 'true' : undefined\" [title]=\"!isModal ? title : ''\" [select]=\"onTabSelect.bind(this)\">\r\n        <tab key=\"DADOS\" label=\"Dados\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-10\">\r\n                    <div class=\"row\">\r\n                        <!-- (RI_PTR_1) No formulário de inclusão/edição de um plano de trabalho, o input-search de unidade, programa e usuario devem ficar desabilitados nas edições e habilitado apenas nas inclusões; -->\r\n                        <input-search #usuario [size]=\"4\" required controlName=\"usuario_id\" [dao]=\"usuarioDao\" [join]=\"['afastamentos','lotacao','unidades','participacoes_programas']\" (select)=\"onUsuarioSelect($event)\"></input-search>\r\n                        <input-search #unidade [size]=\"4\" required [disabled]=\"action == 'new' ? undefined : 'true'\" controlName=\"unidade_id\" [dao]=\"unidadeDao\" (select)=\"onUnidadeSelect($event)\"></input-search>\r\n                        <input-search #programa [size]=\"4\" [label]=\"lex.translate('Programa de gestão')\" icon=\"bi bi-file-bar-graph\" required [disabled]=\"action == 'new' ? undefined : 'true'\" controlName=\"programa_id\" [join]=\"joinPrograma\" [dao]=\"programaDao\" (select)=\"onProgramaSelect($event)\"></input-search>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-datetime [size]=\"3\" label=\"Início\" icon=\"bi bi-calendar-date\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" (change)=\"onDataInicioChange($event)\" [labelInfo]=\"'Início da Vigência do '+ lex.translate('Plano de trabalho')\" required></input-datetime>\r\n                        <input-datetime [size]=\"3\" label=\"Final\" icon=\"bi bi-calendar-date\" controlName=\"data_fim\" [control]=\"form!.controls.data_fim\" (change)=\"onDataFimChange($event)\" [labelInfo]=\"'Final da Vigência do ' +lex.translate('Plano de trabalho')\" required></input-datetime>\r\n                        <input-search #tipoModalidade [size]=\"6\" controlName=\"tipo_modalidade_id\" [dao]=\"tipoModalidadeDao\" required></input-search>\r\n                    </div>\r\n                    <ng-container *ngIf=\"tipoModalidade!.selectedEntity?.plano_trabalho_calcula_horas\">\r\n                        <div class=\"row\">\r\n                            <input-workload [size]=\"4\" [unit]=\"formaContagemCargaHoraria\" label=\"Carga Horária\" icon=\"bi bi-hourglass-split\" controlName=\"carga_horaria\" [control]=\"form!.controls.carga_horaria\" [unitChange]=\"onFormaContagemCargaHorariaChange.bind(this)\" (change)=\"onCargaHorariaChenge($event)\" labelInfo=\"Carga horária do usuário (Máx.: diária 24 horas; semana 24*5=240 horas; mensal 24*20=480 horas)\" required></input-workload>\r\n                            <input-timer onlyHours disabled [size]=\"4\" label=\"Horas Totais\" icon=\"bi bi-clock\" controlName=\"tempo_total\" [control]=\"form!.controls.tempo_total\" labelInfo=\"Horas úteis de trabalho no período de vigência considerando a carga horária, feriados e fins de semana\"></input-timer>\r\n                            <input-timer onlyHours disabled [size]=\"4\" label=\"Horas Parciais\" icon=\"bi bi-clock\" controlName=\"tempo_proporcional\" [control]=\"form!.controls.tempo_proporcional\" labelInfo=\"Total de horas menos os afastamentos.\"></input-timer>\r\n                        </div>\r\n                        <separator *ngIf=\"horasTotais\" title=\"Cálculos das horas totais\" collapse>\r\n                            <calendar-efemerides [efemerides]=\"horasTotais\" [partial]=\"false\"></calendar-efemerides>\r\n                        </separator>\r\n                        <separator *ngIf=\"horasParciais\" title=\"Cálculos das horas parciais\" collapse>\r\n                            <calendar-efemerides [efemerides]=\"horasParciais\"></calendar-efemerides>\r\n                        </separator>\r\n                    </ng-container>\r\n                </div>\r\n                <div class=\"col-md-2\">\r\n                    <input-multiselect label=\"Critérios de avaliação\" noBox [maxListHeight]=\"100\" controlName=\"criterios_avaliacao\" [size]=\"12\" [addItemHandle]=\"addItemHandleCriteriosAvaliacao.bind(this)\" required>\r\n                        <input-text [size]=\"12\" controlName=\"criterio_avaliacao\" [attr.maxlength]=250></input-text>\r\n                    </input-multiselect>\r\n                </div>\r\n            </div>\r\n            <separator [title]=\"lex.translate('Entregas') + lex.translate(' do plano de trabalho')\">\r\n                <top-alert *ngIf=\"!form!.controls.programa_id.value?.length || !form!.controls.unidade_id.value?.length\" type=\"warning\" [message]=\"'Antes de incluir ' + lex.translate('entrega') + ' neste ' + lex.translate('Plano de Trabalho') + ', é necessário selecionar ' + lex.translate('a Unidade') + ' e ' + ' o ' +  lex.translate('Programa') + '!'\"></top-alert>\r\n                <div *ngIf=\"form!.controls.programa_id.value?.length && form!.controls.unidade_id.value?.length\">\r\n                    <plano-trabalho-list-entrega noPersist [disabled]=\"formDisabled\" [entity]=\"entity\"></plano-trabalho-list-entrega>\r\n                </div>\r\n            </separator>\r\n        </tab>\r\n        <tab *ngIf=\"checkFilled(['usuario_id'])\" key=\"MENSAGENS\" [label]=\"lex.translate('Texto Complementar')\">\r\n            <separator [title]=\"'Texto complementar da '+ lex.translate('unidade')\">\r\n                <input-switch controlName=\"editar_texto_complementar_unidade\" [size]=\"12\" scale=\"small\" labelPosition=\"right\" [label]=\"'Editar texto complementar '+ lex.translate('na unidade')\"></input-switch>\r\n                <input-editor controlName=\"unidade_texto_complementar\" [disabled]=\"form!.controls.editar_texto_complementar_unidade.value ? undefined : 'true'\" [dataset]=\"planoDataset\"></input-editor>\r\n            </separator>\r\n            <separator title=\"Texto complementar do usuario\">\r\n                <input-switch controlName=\"editar_texto_complementar_usuario\" [size]=\"12\" scale=\"small\" labelPosition=\"right\" [label]=\"'Editar texto complementar '+ lex.translate('do usuário')\"></input-switch>\r\n                <input-editor controlName=\"usuario_texto_complementar\" [disabled]=\"form!.controls.editar_texto_complementar_usuario.value ? undefined : 'true'\" [dataset]=\"planoDataset\"></input-editor>\r\n            </separator>\r\n        </tab>\r\n        <tab *ngIf=\"checkFilled(['usuario_id', 'programa_id', 'tipo_modalidade_id'])\" key=\"TERMO\" [label]=\"lex.translate('Termo')\">\r\n            <!--top-alert *ngIf=\"!isTermos\" type=\"warning\" message=\"Para [INSERIR] ou [ASSINAR] termos escolha opção Termos de adesão na tela de listagem, ou utilize o Sei\"></top-alert/-->\r\n            <div clss=\"row\">\r\n                <documentos #documentos [entity]=\"entity\" [disabled]=\"formDisabled\" noPersist [cdRef]=\"cdRef\" [needSign]=\"planoTrabalhoService.needSign\" [extraTags]=\"planoTrabalhoService.extraTags\" especie=\"TCR\" [editingId]=\"formDisabled ? undefined : editingId\" [datasource]=\"datasource\" [template]=\"programa?.selectedEntity?.template_tcr\"></documentos>\r\n            </div>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>\r\n","import { Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { AccordionComponent } from 'src/app/components/accordion/accordion.component';\r\nimport { BadgeButton } from 'src/app/components/badge/badge.component';\r\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\n\r\n@Component({\r\n  selector: 'plano-trabalho-list-accordeon',\r\n  templateUrl: './plano-trabalho-list-accordeon.component.html',\r\n  styleUrls: ['./plano-trabalho-list-accordeon.component.scss']\r\n})\r\nexport class PlanoTrabalhoListAccordeonComponent extends PageFrameBase {\r\n  @ViewChild('accordion', { static: false }) public accordion?: AccordionComponent;\r\n  @Input() usuarioId?: string;\r\n  @Input() set arquivados(value: boolean) {\r\n    if(this._arquivados != value) {\r\n      this._arquivados = value;\r\n      if(this.viewInit) this.loadData(this.entity!, this.form);\r\n    }\r\n  }\r\n  get arquivados(): boolean {\r\n    return this._arquivados;\r\n  }\r\n\r\n  public selectedIndex: number = -1;\r\n  public dao?: PlanoTrabalhoDaoService;\r\n  public planos: PlanoTrabalho[] = [];\r\n\r\n  private _arquivados: boolean = false;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    super.ngAfterViewInit();\r\n    (async () => {\r\n      await this.loadData(this.entity!, this.form);\r\n    })();\r\n  }\r\n\r\n  public async loadData(entity: IIndexable, form?: FormGroup) {\r\n    this.accordion!.loading = true;\r\n    try {\r\n      let dados = await this.dao!.getByUsuario(this.usuarioId!, this.arquivados);\r\n      let agora = (new Date()).getTime();\r\n      let self = this;\r\n      this.planos = dados.planos;\r\n      for(var i = 0; i < this.planos.length; i++) {\r\n        if(this.util.asTimestamp(this.planos[i].data_inicio) <= agora && agora <= this.util.asTimestamp(this.planos[i].data_fim) && [\"ATIVO\", \"CONCLUIDO\"].includes(this.planos[i].status)) {\r\n          this.selectedIndex = i;\r\n        }\r\n      }\r\n    } finally {\r\n      this.accordion!.loading = false;\r\n      this.cdRef.detectChanges();\r\n    }\r\n  }\r\n\r\n  public getPlanoBadges(plano: PlanoTrabalho): BadgeButton[] {\r\n    let result: BadgeButton[] = [];\r\n    let concluidos = plano.consolidacoes.filter(x => x.status == \"CONCLUIDO\");\r\n    let avaliados = plano.consolidacoes.filter(x => x.status == \"AVALIADO\");\r\n    if(concluidos.length) {\r\n      const concluido = this.lookup.getLookup(this.lookup.CONSOLIDACAO_STATUS, \"CONCLUIDO\");\r\n      result.push({\r\n        icon: concluido?.icon,\r\n        label: concluido?.value,\r\n        color: concluido?.color,\r\n        textValue: concluidos.length.toString()\r\n      });\r\n    }\r\n    if(avaliados.length) {\r\n      const avaliado = this.lookup.getLookup(this.lookup.CONSOLIDACAO_STATUS, \"AVALIADO\");\r\n      result.push({\r\n        icon: avaliado?.icon,\r\n        label: avaliado?.value,\r\n        color: avaliado?.color,\r\n        textValue: avaliados.length.toString()\r\n      });\r\n    }\r\n    if(JSON.stringify(plano._metadata?.badges) != this.JSON.stringify(result)) {\r\n      plano._metadata = Object.assign(plano._metadata || {}, { badges: result });\r\n    }\r\n    return plano._metadata.badges;\r\n  }\r\n\r\n}\r\n","<div class=\"p-3 bg-body-secondary mb-3\">    \r\n    <div class=\"row w-100\">\r\n        <div class=\"col-md-1\">#ID</div>\r\n        <div class=\"col-md-4\">{{lex.translate('Participante')}}/{{lex.translate('Unidade')}}/{{lex.translate('Programa')}}/{{lex.translate('Tipo de modalidade')}}</div>\r\n        <div class=\"col-md-3\">Vigência</div>\r\n        <div class=\"col-md-2\"></div>\r\n        <div class=\"col-md-2\">Status</div>\r\n    </div>\r\n</div>\r\n\r\n<accordion #accordion [items]=\"planos\" [selectedIndex]=\"selectedIndex\" [titleTemplate]=\"planoTrabalhoSectionTitle\" [template]=\"planoTrabalhoSection\">\r\n    <ng-template let-item=\"item\" #planoTrabalhoSectionTitle>\r\n        <div class=\"row w-100\">\r\n            <div class=\"col-md-1\">{{'#' + item.numero}}</div>\r\n            <div class=\"col-md-4\">\r\n                <badge [icon]=\"entityService.getIcon('Usuario')\" [label]=\"item.usuario?.nome\" color=\"light\" [hint]=\"lex.translate('Participante') + ': ' + item.usuario?.nome\"></badge>\r\n                <badge [icon]=\"entityService.getIcon('Unidade')\" [label]=\"item.unidade?.sigla\" color=\"light\" [hint]=\"lex.translate('Unidade') + ': ' + item.unidade?.nome\"></badge>\r\n                <badge [icon]=\"entityService.getIcon('Programa')\" [label]=\"item.programa?.nome\" color=\"light\" [hint]=\"lex.translate('Programa')\"></badge>\r\n                <badge [icon]=\"entityService.getIcon('TipoModalidade')\" [label]=\"item.tipo_modalidade?.nome\" color=\"light\" [hint]=\"lex.translate('Tipo de modalidade')\"></badge>\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                {{dao!.getDateFormatted(item.data_inicio)+\" até \"+dao!.getDateFormatted(item.data_fim)}}\r\n            </div>\r\n            <div class=\"col-md-2\">\r\n                <badge *ngFor=\"let badge of getPlanoBadges(item)\" [badge]=\"badge\"></badge>\r\n            </div>\r\n            <div class=\"col-md-2\">\r\n                <badge [label]=\"lookup.getValue(lookup.PLANO_TRABALHO_STATUS, item.status)\" [icon]=\"lookup.getIcon(lookup.PLANO_TRABALHO_STATUS, item.status)\" [color]=\"lookup.getColor(lookup.PLANO_TRABALHO_STATUS, item.status)\"></badge>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template let-item=\"item\" #planoTrabalhoSection>\r\n        <plano-trabalho-consolidacao-list [entity]=\"item\"></plano-trabalho-consolidacao-list>\r\n    </ng-template>\r\n</accordion>\r\n","import { ChangeDetectorRef, Component, Injector, Input, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\r\nimport { PlanoTrabalhoEntrega } from 'src/app/models/plano-trabalho-entrega.model';\r\nimport { PlanoTrabalhoEntregaDaoService } from 'src/app/dao/plano-trabalho-entrega-dao.service';\r\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { PlanoEntregaDaoService } from 'src/app/dao/plano-entrega-dao.service';\r\nimport { PlanoEntregaEntregaDaoService } from 'src/app/dao/plano-entrega-entrega-dao.service';\r\nimport { PlanoEntrega } from 'src/app/models/plano-entrega.model';\r\nimport { PlanoTrabalhoService } from '../plano-trabalho.service';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { PlanoEntregaEntrega } from 'src/app/models/plano-entrega-entrega.model';\r\n\r\n@Component({\r\n  selector: 'plano-trabalho-list-entrega',\r\n  templateUrl: './plano-trabalho-list-entrega.component.html',\r\n  styleUrls: ['./plano-trabalho-list-entrega.component.scss']\r\n})\r\nexport class PlanoTrabalhoListEntregaComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild('origem', { static: false }) public origem?: InputSelectComponent;\r\n  @ViewChild('planoEntrega', { static: false }) public planoEntrega?: InputSearchComponent;\r\n  @ViewChild('entrega', { static: false }) public entrega?: InputSelectComponent;\r\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n  @Input() set entity(value: PlanoTrabalho | undefined) { super.entity = value; } get entity(): PlanoTrabalho | undefined { return super.entity; }\r\n  @Input() set disabled(value: boolean) { if (this._disabled != value) this._disabled = value; } get disabled(): boolean { return this._disabled; }\r\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\r\n  @Input() cdRef: ChangeDetectorRef;\r\n\r\n  public get items(): PlanoTrabalhoEntrega[] {\r\n    if (!this.gridControl.value) this.gridControl.setValue(new PlanoTrabalho());\r\n    if (!this.gridControl.value.entregas) this.gridControl.value.entregas = [];\r\n    return this.gridControl.value.entregas;\r\n  }\r\n  public options: ToolbarButton[] = [];\r\n  public planoTrabalhoDao?: PlanoTrabalhoDaoService;\r\n  public planoEntregaDao?: PlanoEntregaDaoService;\r\n  public peeDao?: PlanoEntregaEntregaDaoService;\r\n  public planoTrabalhoService: PlanoTrabalhoService;\r\n  public totalForcaTrabalho: number = 0;\r\n  public entregas: LookupItem[] = [];\r\n\r\n  private _disabled: boolean = false;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<PlanoTrabalhoEntregaDaoService>(PlanoTrabalhoEntregaDaoService);\r\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\r\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\r\n    this.planoEntregaDao = injector.get<PlanoEntregaDaoService>(PlanoEntregaDaoService);\r\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\r\n    this.peeDao = injector.get<PlanoEntregaEntregaDaoService>(PlanoEntregaEntregaDaoService);\r\n    this.join = [\"entrega\", \"plano_entrega_entrega.entrega\", \"plano_entrega_entrega.plano_entrega:id,unidade_id\", \"plano_entrega_entrega.plano_entrega.unidade:id,sigla\"];\r\n    this.form = this.fh.FormBuilder({\r\n      origem: { default: null },\r\n      orgao: { default: null },\r\n      descricao: { default: \"\" },\r\n      forca_trabalho: { default: 1 },\r\n      plano_trabalho_id: { default: null },\r\n      plano_entrega_id: { default: null },\r\n      plano_entrega_entrega_id: { default: null }\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  /**\r\n   * Método chamado para a validação dos campos do formulário, por ocasião da edição ou inserção de itens.\r\n   * @param control \r\n   * @param controlName \r\n   * @returns \r\n   */\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if (['forca_trabalho'].indexOf(controlName) >= 0 && control.value == 1) return result;\r\n    if (['descricao', 'forca_trabalho'].indexOf(controlName) >= 0 && !control.value?.length) result = \"Obrigatório!\";\r\n    if (['forca_trabalho'].indexOf(controlName) >= 0 && (control.value < 1 || control.value > 100)) result = \"Deve estar entre 1 e 100\";\r\n    if (['plano_entrega_entrega_id'].indexOf(controlName) >= 0) {\r\n      if (['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(this.form?.controls.origem.value) && !control.value) result = \"Obrigatório!\";\r\n      if (!!this.entity?.entregas?.filter(e => !!e.plano_entrega_entrega_id && e.id != this.grid?.editing?.id).find(x => x.plano_entrega_entrega_id == control.value)) result = \"Esta entrega está em duplicidade!\"; /* (*2) */\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public validateEntregas(): string | undefined {\r\n    let planoInterval = {start: this.entity!.data_inicio, end: this.entity!.data_fim};\r\n    for(let entrega of this.items) {\r\n      let entregaPlano = entrega.plano_entrega_entrega;\r\n      // valida as datas das entregas quando vinculado a uma entrega do plano de entrega\r\n      if(entregaPlano) {\r\n        let entregaDataFim = entregaPlano!.data_fim ? entregaPlano!.data_fim : (entregaPlano!.data_inicio.getTime() <= this.entity!.data_fim.getTime() ? this.entity!.data_fim : undefined);\r\n        let entregaInterval = {start: entregaPlano!.data_inicio, end: entregaPlano!.data_fim || entregaPlano!.data_inicio};\r\n        if(!entregaDataFim || !this.util.intersection([entregaInterval, planoInterval])) {\r\n          return this.lex.translate(\"Entrega\") + \" \" + entregaPlano!.descricao + \" possui datas incompatíveis (início \" + \r\n            this.util.getDateFormatted(entregaPlano!.data_inicio) + (entregaPlano!.data_fim ? \"e fim \" + this.util.getDateFormatted(entregaPlano!.data_fim) : \"\") + \")\";\r\n        }\r\n      }\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n   * Método chamado na inicialização do componente. Neste momento são carregadas as entregas do catálogo e as entregas da mesma unidade do plano de trabalho,\r\n   * visto que esses itens não se alteram durante a vida do componente e poderão ser utilizados durante sua utilização.\r\n   */\r\n  async ngOnInit() {\r\n    super.ngOnInit();\r\n    this.entity = this.metadata?.entity || this.entity;\r\n    this.totalForcaTrabalho = Math.round(this.somaForcaTrabalho(this.entity?.entregas) * 100) / 100;\r\n    this.entity!._metadata = this.entity!._metadata || {};\r\n    this.entity!._metadata.novaEntrega = undefined;\r\n  }\r\n\r\n  /**\r\n   * Método chamado para inserir uma entrega de plano de trabalho no grid, seja este componente persistente ou não.\r\n   * @returns \r\n   */\r\n  public async addEntrega() {\r\n    return Object.assign(new PlanoTrabalhoEntrega(), {\r\n      _status: \"ADD\",\r\n      id: this.dao!.generateUuid(),\r\n      plano_trabalho_id: this.entity?.id\r\n    }) as IIndexable;\r\n  }\r\n\r\n  /**\r\n   * Método utilizado durante a inclusão/alteração de uma entrega de plano de trabalho no grid, seja este componente persistente ou não\r\n   * @param form \r\n   * @param row \r\n   */\r\n  public async loadEntrega(form: FormGroup, row: any) {\r\n    let entrega: PlanoTrabalhoEntrega = row;\r\n    form.controls.descricao.setValue(row.descricao);\r\n    form.controls.forca_trabalho.setValue(row.forca_trabalho);\r\n    form.controls.plano_trabalho_id.setValue(row.plano_trabalho_id);\r\n    form.controls.plano_entrega_entrega_id.setValue(null);\r\n    form.controls.orgao.setValue(null);\r\n    if (entrega._status == \"ADD\") { // É uma nova entrega\r\n      form.controls.origem.setValue('PROPRIA_UNIDADE');\r\n    } else if (entrega.plano_entrega_entrega?.plano_entrega?.unidade_id == this.entity!.unidade_id) {\r\n      form.controls.origem.setValue('PROPRIA_UNIDADE');\r\n      await this.carregarEntregas(entrega.plano_entrega_entrega.plano_entrega_id!);\r\n      form.controls.plano_entrega_entrega_id.setValue(entrega.plano_entrega_entrega_id);\r\n    } else if (entrega.plano_entrega_entrega) {\r\n      form.controls.origem.setValue('OUTRA_UNIDADE');\r\n      await this.carregarEntregas(entrega.plano_entrega_entrega.plano_entrega_id!);\r\n      form.controls.plano_entrega_entrega_id.setValue(entrega.plano_entrega_entrega_id);\r\n    } else if (!!entrega.orgao?.length) { \r\n      form.controls.origem.setValue('OUTRO_ORGAO');\r\n      form.controls.orgao.setValue(entrega.orgao);\r\n    } else {\r\n      form.controls.origem.setValue('SEM_ENTREGA');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Método chamado para a exclusão de uma entrega de plano de trabalho do grid, seja este componente persistente ou não. \r\n   * @param row \r\n   * @returns \r\n   */\r\n  public async removeEntrega(row: any) {\r\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\r\n    if (confirm) {\r\n      this.loading = true;\r\n      try {\r\n        this.isNoPersist ? Object.assign(row, { _status: \"DELETE\" }) : await this.dao?.delete(row.id);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n      this.totalForcaTrabalho = Math.round((this.totalForcaTrabalho - ((row as PlanoTrabalhoEntrega).forca_trabalho * 1)) * 100) / 100;\r\n      return this.isNoPersist ? false : true; // (*3)\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Método chamado no salvamento de uma entrega do plano de trabalho do grid, seja este componente persistente ou não.\r\n   * @param form \r\n   * @param row \r\n   * @returns \r\n   */\r\n  public async saveEntrega(form: FormGroup, row: any) {\r\n\r\n    this.entity!._metadata = this.entity!._metadata || {};\r\n    this.entity!._metadata.novaEntrega = row as PlanoTrabalhoEntrega;\r\n    this.entity!._metadata.novaEntrega.plano_entrega_entrega_id = this.form?.controls.plano_entrega_entrega_id.value;\r\n    this.entity!._metadata.novaEntrega.orgao = this.form?.controls.orgao.value;\r\n    this.entity!._metadata.novaEntrega.descricao = this.form?.controls.descricao.value;\r\n    this.entity!._metadata.novaEntrega.forca_trabalho = this.form?.controls.forca_trabalho.value;\r\n    this.loading = true;\r\n    try {\r\n      if (!this.isNoPersist) /* persistente */ { (this.dao as PlanoTrabalhoEntregaDaoService).save(this.entity!._metadata.novaEntrega, this.join); }\r\n    } catch (e: any) {\r\n      this.error(e.message ? e.message : e.toString() || e);\r\n    } finally {\r\n      row.forca_trabalho = this.form?.controls.forca_trabalho.value * 1;\r\n      row.plano_entrega_entrega = this.entrega?.selectedItem?.data || null;\r\n      this.totalForcaTrabalho = Math.round(this.somaForcaTrabalho(this.entity?.entregas) * 100) / 100;\r\n      this.loading = false;\r\n    }\r\n    return this.entity!._metadata.novaEntrega;\r\n  }\r\n\r\n  /**\r\n   *  Quando uma nova entrega de plano de trabalho é incluída no grid, o objeto '_metadata' é anexado em 'this.entity' para permitir a atualização do grid antes da atualização da página.\r\n   *  Após a atualização do grid, este método é chamado para excluir o objeto '_metadata' e garantir que, no caso da inserção de várias entregas no grid, apenas a última seja lida a partir deste objeto.\r\n   * @param row \r\n   */\r\n  public saveEndEntrega(row: any) {\r\n    this.entity!._metadata = null;\r\n  }\r\n\r\n  /**\r\n   * Método chamado para somar os percentuais das forças de trabalho do array de entregas passado como parâmetro.\r\n   * @param entregas Array de entregas do plano de trabalho\r\n   * @returns \r\n   */\r\n  public somaForcaTrabalho(entregas: PlanoTrabalhoEntrega[] = []): number {\r\n    return entregas.map(x => x.forca_trabalho * 1).reduce((a, b) => a + b, 0);\r\n  }\r\n\r\n  /**\r\n   * Método chamado para carregar as entregas da unidade\r\n   * @param idPlanoOuPlano ID do plano de entregas ou o seu objeto completo.\r\n   */\r\n  public async carregarEntregas(idPlanoOuPlano: string | PlanoEntrega): Promise<void> {\r\n    let planoEntrega = typeof idPlanoOuPlano == 'string' ? await this.planoEntregaDao!.getById(idPlanoOuPlano, [\"entregas.entrega:id,nome\", \"unidade\"]) : idPlanoOuPlano;\r\n    let planoEntregaComUnidade = {id: planoEntrega?.id, unidade_id: planoEntrega?.unidade_id, unidade: planoEntrega?.unidade};\r\n    this.entregas = planoEntrega?.entregas.map(epe => Object.assign({}, { key: epe.id, value: epe.descricao || epe.entrega?.nome || \"Desconhecido\", data: Object.assign(epe, {plano_entrega: planoEntregaComUnidade}) })) || [];\r\n    if(!this.entregas.find(x => x.key == this.form!.controls.plano_entrega_entrega_id.value)) this.form!.controls.plano_entrega_entrega_id.setValue(null);\r\n  }\r\n\r\n  /* ---------  TRATAMENTO DOS EVENTOS ----------- */\r\n\r\n  public async onOrigemChange(row: any) {\r\n    let value = this.form!.controls.origem.value;\r\n    this.cdRef.detectChanges();\r\n    if (value == 'OUTRO_ORGAO') {\r\n      this.form?.controls.plano_entrega_entrega_id.setValue(null);\r\n    } else if(value == 'SEM_ENTREGA') {\r\n      this.form?.controls.orgao.setValue(null);\r\n      this.form?.controls.plano_entrega_entrega_id.setValue(null);\r\n    } if (value == 'PROPRIA_UNIDADE' || value == 'OUTRA_UNIDADE') {\r\n      this.form?.controls.orgao.setValue(null);\r\n      this.loading = true;\r\n      this.planoEntrega?.onSelectClick(new Event(\"SELECT\"));\r\n      this.loading = false;\r\n    }\r\n      /*      try {\r\n         let planosEntregas = await this.planoEntregaDao!.query({where: [[\"unidade_id\", \"==\", this.entity!.unidade_id], [\"status\", \"==\", \"ATIVO\"], [\"data_inicio\", \"<=\", this.entity!.data_fim], [\"data_fim\", \">=\", this.entity!.data_inicio]]}).asPromise();\r\n        if(planosEntregas.length == 1) {\r\n          this.form?.controls.plano_entrega_id.setValue(planosEntregas[0].id);\r\n        } else if(this.planoEntrega?.selectedEntity?.unidade_id != this.entity!.unidade_id) {\r\n          this.planoEntrega?.onSelectClick(new Event(\"SELECT\"));\r\n        } \r\n        this.planoEntrega?.onSelectClick(new Event(\"SELECT\"));\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    } if (value == 'OUTRA_UNIDADE') {\r\n      this.form?.controls.orgao.setValue(null);\r\n      this.planoEntrega?.onSelectClick(new Event(\"SELECT\"));\r\n    }*/\r\n  }\r\n\r\n  public onPlanoEntregaChange(event: Event) {\r\n    let planoEntrega = this.planoEntrega?.selectedEntity as PlanoEntrega;\r\n    this.carregarEntregas(planoEntrega);\r\n  }\r\n\r\n  public onEntregaChange(event: Event) {\r\n    /*let entrega = this.entrega!.selectedItem?.data as PlanoEntregaEntrega;\r\n    if(!this.form!.controls.descricao.value?.length) {\r\n      this.form!.controls.descricao.setValue(entrega?.descricao || \"\");\r\n    }*/\r\n  }\r\n\r\n  public onForcaTrabalhoChange(row: any) {\r\n    let index = this.items.findIndex(x => x[\"id\"] == row[\"id\"]);\r\n    this.totalForcaTrabalho = Math.round((this.somaForcaTrabalho(this.grid?.items as PlanoTrabalhoEntrega[]) - (this.items[index].forca_trabalho * 1) + (this.form?.controls.forca_trabalho.value * 1)) * 100) / 100;\r\n  }\r\n}\r\n\r\n/*\r\nTESTES\r\n\r\n                                                  GRID PERSISTENTE                      GRID NÃO-PERSISTENTE\r\n                                              Fluxo Feliz    Validações                Fluxo Feliz    Validações\r\nInclusão Entrega Catálogo                          \r\nInclusão Entrega Mesma Unidade                     \r\nInclusão Entrega Outra Unidade                     \r\nAlteração Entrega Catálogo                         \r\nAlteração Entrega Mesma Unidade                    \r\nAlteração Entrega Outra Unidade                    \r\nCancelamento Entrega Catálogo                      \r\nCancelamento Entrega Mesma Unidade                 \r\nCancelamento Entrega Outra Unidade                 \r\nExclusão Entrega Catálogo                          \r\nExclusão Entrega Mesma Unidade                     \r\nExclusão Entrega Outra Unidade                     \r\n\r\n*/\r\n\r\n/*\r\nOBSERVAÇÕES:\r\n\r\n(*2)  this.entity?.entregas?.filter(e => !!e.plano_entrega_entrega_id && e.id != this.grid?.editing?.id).find(x => x.plano_entrega_entrega_id == control.value)\r\nFiltra as entregas da mesma unidade do plano de trabalho excluindo a entrega que está sendo editada. Em seguida conta aquelas que possuem o mesmo ID da que está sendo editada e dessa forma o resultado deve ser igual a 0, caso contrário a entrega editada\r\njá existe no grid.\r\n\r\n(*3)  return this.isNoPersist ? false : true;\r\nApós confirmada a remoção pelo usuário, a entrega é setada com _status = \"DELETE\" e é excluída da tela e sua confirmação é retornada para o método onDeleteItem() do gridComponent, que a excluirá também dos items do grid.\r\nEntretanto, quando se trata de um grid não persistente, ela não deve ser excluída dos items do grid, pois sua exclusão só se efetivará quando entity for salva, levando\r\ntodas as suas entregas para o back-end, que finalmente excluirá as que possuírem _status = \"DELETE\".\r\n\r\n(*4)  if(this.grid?.adding) this.grid!.items[this.grid!.items.length-1].id = '';\r\nNo caso de o componente ser 'persistente', essa linha apaga o ID que foi criado pelo banco de dados permitindo ao método saveItem do grid.component localizá-lo na sua lista de items para atualizar suas informações na tela.\r\n\r\n(*5)  if(!this.entity?.id?.length) return this.entregasPlanoEntrega;\r\nQuando o componente for chamado por um plano de trabalho (entity) que já existe, não poderá haver alteração no seu plano de entregas, portanto as entregas da mesma unidade do plano de trabalho serão lidas\r\nna própria entity. No entanto, quando o plano de trabalho (entity) ainda não existir (!this.entity?.id?.length), essas entregas vão variar de acordo com o plano de entregas\r\nselecionado no inputSelectComponent, e portanto elas serão lidas na variável que reflete essa escolha (this.entregasPlanoEntrega), e essa reflexão ocorre por causa do bind @Input() set/get entregasPlanoEntrega.\r\n\r\n\r\n----------------------+--------------------------------------+----------------------------+--------+------------------------------------\r\nID do Plano           |       Pode ser que a 'row'           |  Características           | inputs | entrega_id \r\nde Trabalho           |                                      |                            | search | plano_entrega_entrega_id\r\n----------------------+--------------------------------------+----------------------------+--------+------------------------------------\r\n                      | - Já tenha vindo do banco (TIPO I)   |                            | nenhum | um dos dois\r\n                      |   (foi carregada junto com o Plano)  |                            |        |\r\n                      |--------------------------------------+----------------------------+--------+------------------------------------\r\n  EXISTE              | - Tenho sido salva agora no banco    |                            | um dos | um dos dois\r\n  - Então o Grid é    |   (TIPO II)                          |                            | três   |\r\n    Persistente       |--------------------------------------+----------------------------+--------+------------------------------------\r\n                      | - Esteja sendo criada agora          | addEntrega loadEntrega     | um dos | nenhum\r\n                      |                                      |                            | três   |\r\n                      |--------------------------------------+----------------------------+--------+------------------------------------     \r\n                      | - Seja do TIPO I e esteja sendo      | loadEntrega                | um dos | um dos dois\r\n                      |   editada agora                      |                            | três   |\r\n                      +--------------------------------------+----------------------------+--------+------------------------------------\r\n                      | - Seja do TIPO II e esteja sendo     | loadEntrega                | um dos | um dos dois\r\n                      |   editada agora                      |                            | três   |\r\n----------------------+--------------------------------------+----------------------------+--------+------------------------------------\r\n  NÃO                 | - Já exista nos itens do grid        |                            | nenhum | um dos dois\r\n  EXISTE              |   (foi salva agora, não no banco)    | Possui _status == \"ADD\"    |        |\r\n  - Então o Grid é    |--------------------------------------+----------------------------+--------+------------------------------------\r\n    Não-persistente   | - Esteja sendo criada agora          | Possui _status == \"ADD\"    | um dos | nenhum\r\n                      |                                      | addEntrega loadEntrega     | três   |\r\n                      |--------------------------------------+----------------------------+--------+------------------------------------\r\n                      | - Tenha acabado de ser criada e      | Possui _status == \"ADD\"    | um dos | um dos dois\r\n                      |   já está sendo editada              | loadEntrega                | três   |\r\n------------------------------------------------------------------------------------------+--------+------------------------------------\r\n(*) O ADD é inserido pelo método addEntrega e só sai quando persiste no banco e volta\r\n\r\n*/","<grid [items]=\"items\" [form]=\"form!\" noMargin #gridEntregas editable [selectable]=\"false\" [minHeight]=\"items.length > 2 ? 0 : 300\" [join]=\"join\" [groupBy]=\"groupBy\"\r\n    [add]=\"addEntrega.bind(this)\" [remove]=\"removeEntrega.bind(this)\" [save]=\"saveEntrega.bind(this)\" [load]=\"loadEntrega.bind(this)\" [saveEnd]=\"saveEndEntrega.bind(this)\"\r\n    [hasDelete]=\"!disabled\" [hasEdit]=\"!disabled\" [hasAdd]=\"!disabled\">\r\n    <columns>\r\n        <column [titleTemplate]=\"titleOrigem\" [template]=\"columnOrigem\" [editTemplate]=\"editOrigem\" [verticalAlign]=\"'middle'\" [width]=\"300\" [align]=\"'center'\">\r\n            <ng-template let-header=\"header\" #titleOrigem><div class=\"text-center\"><span><strong>Origem</strong></span></div></ng-template>\r\n            <ng-template let-row=\"row\" #columnOrigem>\r\n                <div class=\"w-100 d-flex justify-content-center\">\r\n                    <div class=\"one-per-line\">\r\n                        <badge [label]=\"planoTrabalhoService.tipoEntrega(row, entity).titulo\" [color]=\"planoTrabalhoService.tipoEntrega(row, entity).cor\"></badge>\r\n                        <badge *ngIf=\"row.plano_entrega_entrega_id?.length\" [label]=\"row.plano_entrega_entrega?.plano_entrega?.unidade?.sigla || 'DESCONHECIDO'\" [icon]=\"entityService.getIcon('Unidade')\" color=\"primary\"></badge>\r\n                        <badge *ngIf=\"row.orgao?.length\" [label]=\"row.orgao\" icon=\"bi bi-box-arrow-down-left\" color=\"warning\"></badge>\r\n                    </div>\r\n                </div>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #editOrigem>\r\n                <input-select #origem controlName=\"origem\" controlName=\"origem\" [control]=\"form!.controls.origem\" [items]=\"lookup.ORIGENS_ENTREGAS_PLANO_TRABALHO\" (change)=\"onOrigemChange(row)\"></input-select>\r\n                <!-- <input-search *ngIf=\"['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(origem?.value)\" label #planoEntrega [placeholder]=\"'Selecione o ' + lex.translate('Plano de entrega')\" [join]=\"['entregas.entrega:id,nome', 'unidade']\" [where]=\"origem?.value == 'PROPRIA_UNIDADE' ? [['unidade_id', '==', entity?.unidade_id]] : undefined\" [selectParams]=\"origem?.value == 'PROPRIA_UNIDADE' ? {filter: {unidade_id: entity?.unidade_id}} : undefined\" controlName=\"plano_entrega_id\" [dao]=\"planoEntregaDao\" (change)=\"onPlanoEntregaChange($event)\"></input-search> -->\r\n                <input-search *ngIf=\"['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(origem?.value)\" label #planoEntrega [placeholder]=\"'Selecione o ' + lex.translate('Plano de entrega')\" [join]=\"['entregas.entrega:id,nome', 'unidade']\" [where]=\"origem?.value == 'PROPRIA_UNIDADE' ? [['unidade_id', '==', entity?.unidade_id], ['status', '==', 'ATIVO']] : [['status', '==', 'ATIVO']]\" [selectParams]=\"origem?.value == 'PROPRIA_UNIDADE' ? {filter: {unidade_id: entity?.unidade_id, status: 'ATIVO'}} : {filter: {status: 'ATIVO'}}\" controlName=\"plano_entrega_id\" [dao]=\"planoEntregaDao\" (change)=\"onPlanoEntregaChange($event)\"></input-search>\r\n                <input-text *ngIf=\"origem?.value == 'OUTRO_ORGAO'\" #orgao controlName=\"orgao\" placeholder=\"Órgão\" [attr.maxlength]=250></input-text>\r\n            </ng-template>\r\n        </column>\r\n        <column [maxWidth]=\"350\" [titleTemplate]=\"titleEntrega\" [template]=\"columnEntrega\" [editTemplate]=\"editEntrega\" [verticalAlign]=\"'middle'\">\r\n            <ng-template let-header=\"header\" #titleEntrega><span><strong>Entrega</strong></span></ng-template>\r\n            <ng-template let-row=\"row\" #columnEntrega>\r\n                <small>{{ planoTrabalhoService.tipoEntrega(row, entity).descricao }}</small>\r\n                <div *ngIf=\"['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(planoTrabalhoService.tipoEntrega(row, entity).tipo)\" class=\"w-100\">\r\n                    <badge color=\"light\" icon=\"bi bi-box-arrow-in-right\" [label]=\"util.getDateFormatted(row.plano_entrega_entrega?.data_inicio)\" hint=\"Data de início\"></badge>\r\n                    <badge color=\"light\" icon=\"bi bi-box-arrow-right\" [label]=\"util.getDateFormatted(row.plano_entrega_entrega?.data_fim)\" hint=\"Data de término\"></badge>\r\n                </div>\r\n                <reaction [entity]=\"row\" origem=\"PLANO_TRABALHO_ENTREGA\"></reaction>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #editEntrega>\r\n                <input-select *ngIf=\"['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(origem?.value)\" #entrega nullable itemNull=\"- Selecione -\" controlName=\"plano_entrega_entrega_id\" [control]=\"form!.controls.plano_entrega_entrega_id\" [items]=\"entregas\" (change)=\"onEntregaChange($event)\"></input-select>\r\n                <div *ngIf=\"entrega?.selectedItem\" class=\"w-100\">\r\n                    <badge color=\"light\" icon=\"bi bi-box-arrow-in-right\" [label]=\"util.getDateFormatted(entrega!.selectedItem!.data!.data_inicio)\" hint=\"Data de início\"></badge>\r\n                    <badge color=\"light\" icon=\"bi bi-box-arrow-right\" [label]=\"util.getDateFormatted(entrega!.selectedItem!.data!.data_fim)\" hint=\"Data de término\"></badge>\r\n                </div>\r\n            </ng-template>\r\n        </column>\r\n        <column [titleTemplate]=\"titleForcaTrabalho\" [title]=\"'% CHD'\" [template]=\"columnForcaTrabalho\" [editTemplate]=\"editForcaTrabalho\" [width]=\"125\" [align]=\"'center'\" [titleHint]=\"'% Carga Horária Disponível'\">\r\n            <ng-template let-header=\"header\" #titleForcaTrabalho>\r\n                <div class=\"text-center\">\r\n                    <!--<small><strong>% CHD</strong></small><br>-->\r\n                    <div *ngIf=\"totalForcaTrabalho > 100; else umCHD\">\r\n                        <small><badge icon=\"bi bi-calculator\" [color]=\"'warning'\" [label]=\"totalForcaTrabalho + '%'\"></badge></small>\r\n                        <small><badge icon=\"bi bi-intersect\" [color]=\"'secondary'\" [label]=\"totalForcaTrabalho - 100 + '%'\"></badge></small><!--[hint]=\"'Sobreposição de CHD entre Entregas'\"-->\r\n                    </div>\r\n                    <ng-template #umCHD>\r\n                        <small><badge icon=\"bi bi-calculator\" [color]=\"totalForcaTrabalho == 100 ? 'success' : 'warning'\" [label]=\"totalForcaTrabalho + '%'\"></badge></small>\r\n                    </ng-template>    \r\n                </div>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnForcaTrabalho><small>{{  row.forca_trabalho + '%' }}</small></ng-template>\r\n            <ng-template let-row=\"row\" #editForcaTrabalho><input-text number sufix=\"%\" controlName=\"forca_trabalho\" [control]=\"form!.controls.forca_trabalho\" (change)=\"onForcaTrabalhoChange(row)\" [attr.maxlength]=250></input-text></ng-template>\r\n        </column>\r\n        <column [maxWidth]=\"250\" [titleTemplate]=\"titleDescricao\" [template]=\"columnDescricao\" [editTemplate]=\"editDescricao\" [verticalAlign]=\"'middle'\" [align]=\"'center'\">\r\n            <ng-template let-header=\"header\" #titleDescricao><div class=\"text-center\"><span><strong>Descrição dos Trabalhos</strong></span></div></ng-template>\r\n            <ng-template let-row=\"row\" #columnDescricao>\r\n                <div *ngIf=\"row.descricao != planoTrabalhoService.tipoEntrega(row, entity).descricao; else solicitarDescricao\"><small>{{ row.descricao }}</small></div>\r\n            </ng-template>\r\n            <ng-template #solicitarDescricao><small>Detalhe/Descreva os trabalhos</small></ng-template>\r\n            <ng-template let-row=\"row\" #editDescricao>\r\n                <input-textarea [rows]=\"2\" controlName=\"descricao\" [control]=\"form!.controls.descricao\"></input-textarea>\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"options\"></column>\r\n    </columns>\r\n</grid>","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { PlanoTrabalhoFormTermoComponent } from './plano-trabalho-form-termo/plano-trabalho-form-termo.component';\r\nimport { PlanoTrabalhoFormComponent } from './plano-trabalho-form/plano-trabalho-form.component';\r\nimport { PlanoTrabalhoListComponent } from './plano-trabalho-list/plano-trabalho-list.component';\r\nimport { PlanoTrabalhoListEntregaComponent } from './plano-trabalho-list-entrega/plano-trabalho-list-entrega.component';\r\nimport { PlanoTrabalhoConsolidacaoComponent } from './plano-trabalho-consolidacao/plano-trabalho-consolidacao.component';\r\nimport { PlanoTrabalhoConsolidacaoListComponent } from './plano-trabalho-consolidacao-list/plano-trabalho-consolidacao-list.component';\r\nimport { AvaliarComponent } from '../../uteis/avaliar/avaliar.component';\r\nimport { PlanoTrabalhoConsolidacaoAvaliacaoComponent } from './plano-trabalho-consolidacao-avaliacao/plano-trabalho-consolidacao-avaliacao.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: PlanoTrabalhoListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Planos de Trabalho\" } },\r\n  { path: 'new', component: PlanoTrabalhoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Plano de Trabalho\", modal: true } },\r\n  { path: 'termo', component: PlanoTrabalhoFormTermoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Termo de adesão\", modal: true } },\r\n  { path: 'consolidacao/avaliacao', component: PlanoTrabalhoConsolidacaoAvaliacaoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Avaliação das Consolidações do Plano de Trabalho\" } },\r\n  { path: 'consolidacao/:consolidacaoId/avaliar', component: AvaliarComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Avaliar Consolidação do Plano de Trabalho\" } },\r\n  { path: 'consolidacao/:consolidacaoId/recurso', component: AvaliarComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Recurso da Avaliação da Consolidação do Plano de Trabalho\" } },\r\n  { path: 'consolidacao/:usuarioId/:planoTrabalhoId', component: PlanoTrabalhoConsolidacaoListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consolidações do Plano de Trabalho\" } },\r\n  { path: 'consolidacao', component: PlanoTrabalhoConsolidacaoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consolidações\" } },\r\n  { path: ':id/edit', component: PlanoTrabalhoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição de Plano de Trabalho\", modal: true } },\r\n  { path: ':id/consult', component: PlanoTrabalhoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Plano de Trabalho\", modal: true } },\r\n  { path: 'entregaList', component: PlanoTrabalhoListEntregaComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Lista de Entregas do Plano de Trabalho\", modal: true } },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PlanoTrabalhoRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PlanoTrabalhoRoutingModule } from './plano-trabalho-routing.module';\r\nimport { PlanoTrabalhoFormComponent } from './plano-trabalho-form/plano-trabalho-form.component';\r\nimport { PlanoTrabalhoListComponent } from './plano-trabalho-list/plano-trabalho-list.component';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { UteisModule } from '../../uteis/uteis.module';\r\nimport { PlanoTrabalhoFormTermoComponent } from './plano-trabalho-form-termo/plano-trabalho-form-termo.component';\r\nimport { PlanoTrabalhoListEntregaComponent } from './plano-trabalho-list-entrega/plano-trabalho-list-entrega.component';\r\nimport { PlanoTrabalhoConsolidacaoComponent } from './plano-trabalho-consolidacao/plano-trabalho-consolidacao.component';\r\nimport { PlanoTrabalhoConsolidacaoListComponent } from './plano-trabalho-consolidacao-list/plano-trabalho-consolidacao-list.component';\r\nimport { PlanoTrabalhoListAccordeonComponent } from './plano-trabalho-list-accordeon/plano-trabalho-list-accordeon.component';\r\nimport { PlanoTrabalhoConsolidacaoFormComponent } from './plano-trabalho-consolidacao-form/plano-trabalho-consolidacao-form.component';\r\nimport { PlanoTrabalhoConsolidacaoAvaliacaoComponent } from './plano-trabalho-consolidacao-avaliacao/plano-trabalho-consolidacao-avaliacao.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PlanoTrabalhoFormComponent,\r\n    PlanoTrabalhoListComponent,\r\n    PlanoTrabalhoListEntregaComponent,\r\n    PlanoTrabalhoFormTermoComponent,\r\n    PlanoTrabalhoConsolidacaoComponent,\r\n    PlanoTrabalhoConsolidacaoListComponent,\r\n    PlanoTrabalhoConsolidacaoFormComponent,\r\n    PlanoTrabalhoListAccordeonComponent,\r\n    PlanoTrabalhoConsolidacaoAvaliacaoComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    ReactiveFormsModule,\r\n    PlanoTrabalhoRoutingModule,\r\n    UteisModule\r\n  ]\r\n})\r\nexport class PlanoTrabalhoModule { }\r\n"],"names":["DaoBaseService","ComparecimentoDaoService","constructor","injector","inputSearchConfig","searchFields","_","i0","ɵɵinject","Injector","_2","factory","ɵfac","providedIn","GridComponent","PageListBase","UsuarioDaoService","PlanoTrabalhoConsolidacao","PlanoTrabalhoConsolidacaoDaoService","UnidadeDaoService","Avaliacao","AvaliacaoDaoService","PlanoTrabalhoService","UnidadeService","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵproperty","tmp_0_0","ctx_r5","usuarioSeparator","separator_r25","url_foto","tmp_2_0","nome","ɵɵtextInterpolate","tmp_3_0","entityService","getIcon","tmp_5_0","unidadeSeparator","sigla","row_r27","plano_trabalho","ctx_r14","cdRef","ɵɵtextInterpolate1","row_r29","usuario","ctx_r16","util","getDateFormatted","data_inicio","data_fim","unidade","lex","translate","programa","tipo_modalidade","ctx_r18","row_r30","ctx_r20","row_r31","row_r32","avaliacao","tipo_avaliacao","nota","recurso","ɵɵtemplate","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_2_ng_template_30_avaliar_nota_badge_0_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_2_ng_template_30_separator_1_Template","length","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_2_ng_template_33_badge_2_Template","ctx_r24","lookup","getColor","CONSOLIDACAO_STATUS","row_r37","status","getValue","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_2_ng_template_1_Template","ɵɵtemplateRefExtractor","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_2_toolbar_3_Template","ɵɵlistener","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_2_Template_input_search_change_8_listener","$event","ɵɵrestoreView","_r40","ctx_r39","ɵɵnextContext","ɵɵresetView","onUnidadeChange","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_2_ng_template_16_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_2_ng_template_18_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_2_ng_template_21_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_2_ng_template_24_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_2_ng_template_27_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_2_ng_template_30_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_2_ng_template_33_Template","ctx_r1","dao","orderBy","groupBy","join","initGrid","bind","onGridLoad","_r4","selectable","filter","filterWhere","filterSubmit","filterCollapseChange","filterCollapsed","auth","hasPermissionTo","controls","usuario_id","usuarioDao","unidade_id","unidadeDao","canFilterSubordinadas","unidades_subordinadas","incluir_arquivados","_r11","_r13","_r15","_r17","_r19","_r21","_r23","dynamicButtons","rowsLimit","ctx_r42","separator_r58","row_r72","avaliador","apelido","ctx_r65","getNota","row_r73","icone","cor","descricao","ctx_r75","justificativa_r76","value","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_5_ng_template_18_ng_template_11_badge_2_Template","row_r74","justificativa","justificativas","row_r77","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_5_ng_template_18_ng_template_17_badge_1_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_5_ng_template_18_ng_template_17_badge_2_Template","row_r78","id","ctx_r71","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_5_ng_template_18_ng_template_5_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_5_ng_template_18_ng_template_8_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_5_ng_template_18_ng_template_11_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_5_ng_template_18_ng_template_14_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_5_ng_template_18_ng_template_17_Template","ctx_r51","getAvaliacoes","row_r60","_r62","_r64","_r66","_r68","_r70","row_r81","ctx_r53","ctx_r55","row_r82","ctx_r57","row_r83","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_5_ng_template_1_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_5_toolbar_3_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_5_Template_input_search_change_8_listener","_r85","ctx_r84","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_5_ng_template_16_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_5_ng_template_18_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_5_ng_template_21_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_5_ng_template_24_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_5_ng_template_27_Template","ctx_r3","onGridLoadHistorico","_r41","filterWhereHistorico","_r48","_r50","_r52","_r54","_r56","PlanoTrabalhoConsolidacaoAvaliacaoComponent","avaliacoes","consolidacaoId","joinAvaliacao","result","form","push","unidadeService","get","extraJoin","field","label","avaliacaoDao","planoTrabalhoService","title","code","fh","FormBuilder","default","addOption","OPTION_INFORMACOES","OPTION_LOGS","ngOnInit","setValue","unidadeGestor","lotacao","isGestorUnidade","undefined","separator","usuarioId","group","metadata","extra","planos_trabalhos","find","x","unidadeId","event","rows","grid","query","planosTrabalhos","forEach","p","plano","programas","programa_id","v","consolidacao","plano_trabalho_id","tipos_avaliacoes","tipo_avaliacao_id","refreshConsolidacao","_this","_asyncToGenerator","refreshId","refreshRows","anterior","items","reduce","a","asTimestamp","proximo","row","isAvaliador","isIntegrante","isUsuarioDoPlano","BOTAO_AVALIAR","hint","icon","color","onClick","avaliar","BOTAO_REAVALIAR","BOTAO_FAZER_RECURSO","fazerRecurso","BOTAO_CANCELAR_AVALIACAO","cancelarAvaliacao","canAvaliar","includes","canCancelarAvaliacao","data_avaliacao","dias_tolerancia_recurso_avaliacao","daystamp","hora","onSelectTab","tab","_this2","viewInit","saveUsuarioConfig","active_tab","key","queryInit","plano_trabalho_consolidacao_id","loadData","_this3","loading","where","asPromise","notas","codigo","ɵɵdirectiveInject","selectors","viewQuery","PlanoTrabalhoConsolidacaoAvaliacaoComponent_Query","rf","ctx","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_2_Template","PlanoTrabalhoConsolidacaoAvaliacaoComponent_ng_template_5_Template","isModal","_r0","_r2","ChangeDetectorRef","EditableFormComponent","PageFrameBase","Atividade","TipoAtividadeDaoService","PlanoEntregaService","AtividadeDaoService","AtividadeService","CalendarService","Comparecimento","OcorrenciaDaoService","ctx_r44","row_r43","tipo_atividade","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_4_badge_2_Template","numero","ctx_r30","atividadeService","onIdClick","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_6_Template_input_search_select_1_listener","_r49","ctx_r48","onTipoAtividadeSelect","ctx_r32","formAtividade","tipo_atividade_id","tipoAtividadeDao","tempo_r52","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_9_badge_1_Template","ctx_r34","temposAtividade","row_r50","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_11_Template_input_datetime_change_0_listener","_r55","ctx_r54","onDataDistribuicaoChange","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_11_Template_input_datetime_change_1_listener","ctx_r56","onDataEstipuladaEntregaChange","ctx_r36","data_distribuicao","data_estipulada_entrega","data_entrega","etiqueta_r61","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_table_3_tr_1_i_2_Template","check_r63","checked","texto","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_table_3_tr_1_Template","row_r57","checklist","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_badge_1_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_separator_2_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_table_3_Template","progresso","etiquetas","ctx_r70","i_r72","check_r71","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_16_table_5_tr_1_Template","ctx_r69","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_16_Template_input_select_details_2_listener","_r74","ctx_r73","onEtiquetaConfigClick","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_16_separator_4_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_16_table_5_Template","ctx_r40","formEdit","addItemHandleEtiquetas","etiqueta","row_r66","status_r78","row_r75","_r28","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_19_badge_2_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_19_comentarios_widget_3_Template","documento_requisicao","getStatus","entity","editing","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_4_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_6_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_9_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_11_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_16_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_19_Template","atividades","ctx_r4","disabled","addAtividade","entrega","loadAtividade","removeAtividade","saveAtividade","_r29","_r31","atividadeOptionsMetadata","onColumnAtividadeDescricaoEdit","onColumnAtividadeDescricaoSave","_r33","_r35","_r37","_r39","onColumnProgressoEtiquetasChecklistEdit","onColumnProgressoEtiquetasChecklistSave","dynamicOptions","row_r80","badge","titulo","forca_trabalho","meta","metaRealizado","row_r84","progresso_realizado","PlanoTrabalhoConsolidacaoFormComponent_ng_template_25_separator_0_div_1_Template_button_click_1_listener","restoredCtx","_r91","pObjetivo_r89","$implicit","ctx_r90","showPlanejamento","objetivo","planejamento_id","PlanoTrabalhoConsolidacaoFormComponent_ng_template_25_separator_0_div_1_Template","ctx_r86","row_r85","objetivos","PlanoTrabalhoConsolidacaoFormComponent_ng_template_25_separator_1_div_1_Template_button_click_1_listener","_r96","pProcesso_r94","ctx_r95","showCadeiaValor","processo","cadeia_valor_id","PlanoTrabalhoConsolidacaoFormComponent_ng_template_25_separator_1_div_1_Template","ctx_r87","processos","PlanoTrabalhoConsolidacaoFormComponent_ng_template_25_separator_0_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_25_separator_1_Template","row_r98","tipo_motivo_afastamento","observacao","ctx_r23","row_r99","ctx_r25","PlanoTrabalhoConsolidacaoFormComponent","noPersist","control","bindEntity","_disabled","detectChanges","joinAtividade","itemsEntregas","itemsOcorrencias","itemsComparecimentos","itemsAfastamentos","validateAtividade","controlName","indexOf","isDataValid","getTime","validateComparecimento","between","start","end","comparecimentoDao","atividadeDao","calendar","ocorrenciaDao","planoEntregaService","comentarios","esforco","tempo_planejado","Date","formComparecimento","data_comparecimento","detalhamento","atividadeRefreshId","removeId","atividadeRemoveId","refresh","_metadata","planoTrabalhoConsolidacaoFormComponent","atividade","foundIndex","findIndex","getById","then","splice","ngAfterViewInit","loadConsolidacao","dados","entregas","map","plano_entrega_entrega","plano_entrega","planosEntregas","pe","plano_entrega_id","y","plano_trabalho_entrega_id","tipoEntrega","planoTrabalho","getValorMeta","getValorRealizado","ocorrencias","comparecimentos","afastamentos","gridEntregas","dadosConsolidacao","efemerides","calculaDataTempoUnidade","carga_horaria","tempoPlanejado","horasUteis","dataInicio","maxDate","setTime","dataFim","minDate","generateUuid","plano_trabalho_entrega","plano_trabalho_consolidacao","demandante","tempo_despendido","tempoUtil","demandante_id","metadados","atrasado","tempo_atraso","pausado","iniciado","concluido","avaliado","arquivado","produtividade","_status","_this4","patchValue","_this5","confirm","dialog","delete","_this6","gridAtividades","error","markAllAsTouched","valid","fillForm","submitting","save","message","atividadeDynamicButtons","Object","assign","BUTTON_EDIT","BUTTON_DELETE","_this7","merge","b","config","clone","_this8","saved","update","go","navigate","route","params","modal","modalClose","modalResult","selectedItem","item","textHash","validateLookupItem","loadTipoAtividade","tipoAtividade","buildEtiquetas","buildChecklist","comentarioAtividade","_this9","_this10","selectedEntity","addOcorrencia","_this11","editOcorrencia","_this12","removeOcorrencia","_this13","ocorrencia","ocorrenciaDynamicButtons","OPTION_ALTERAR","OPTION_EXCLUIR","addComparecimento","_this14","loadComparecimento","_this15","removeComparecimento","_this16","comparecimento","saveComparecimento","_this17","comparecimentoDynamicButtons","addAfastamento","_this18","filterSnapshot","querySnapshot","afastamentoDynamicButtons","doc","_this19","cadeia_valor_id_id","_this20","PlanoTrabalhoConsolidacaoFormComponent_Query","PlanoTrabalhoConsolidacaoFormComponent_ng_template_5_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_10_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_13_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_16_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_19_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_22_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_25_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_42_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_51_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_53_Template","_r1","_r3","_r5","_r7","_r9","_r22","_r24","PlanoTrabalhoDaoService","isDisabled","row_r14","ctx_r6","row_r16","ctx_r8","row_r17","row_r18","ctx_r19","tipo_avaliacao_plano_trabalho","PlanoTrabalhoConsolidacaoListComponent_ng_template_18_avaliar_nota_badge_0_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_18_separator_1_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_21_badge_2_Template","ctx_r12","row_r23","PlanoTrabalhoConsolidacaoListComponent","consolidacoes","validate","planoTrabalhoDao","modalWidth","urlParams","has","getByUsuario","planos","agora","expand","addConsolidacao","removeConsolidacao","saveConsolidacao","consolidacaoForm","refreshExpanded","concluir","response","cancelarConclusao","BOTAO_CONCLUIR","BOTAO_CANCELAR_CONCLUSAO","canConcluir","canCancelarConclusao","diasParaConcluirConsolidacao","PlanoTrabalhoConsolidacaoListComponent_Query","PlanoTrabalhoConsolidacaoListComponent_ng_template_7_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_9_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_12_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_15_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_18_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_21_Template","TabsComponent","InputSearchComponent","data_r14","data_r15","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_collapse_card_11_ng_template_1_Template","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_collapse_card_11_ng_template_3_Template","usuario_r9","_r10","_r12","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_div_10_Template","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_collapse_card_11_Template","ɵɵtextInterpolate3","_r6","usuarios","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_Template","arquivados","PlanoTrabalhoConsolidacaoComponent","loadingUnidade","loadUsuarios","tabs","active","queryParams","lotados","PlanoTrabalhoConsolidacaoComponent_Query","PlanoTrabalhoConsolidacaoComponent_tab_2_Template","PlanoTrabalhoConsolidacaoComponent_ng_template_4_Template","DocumentoDaoService","ProgramaDaoService","TipoDocumentoDaoService","TipoModalidadeDaoService","ListenerAllPagesService","PlanoTrabalho","PageFormBase","NavigateResult","PlanoTrabalhoFormTermoComponent","numero_processo","formValidation","tipoDocumento","tipo_documento_id","titleEdit","programaDao","tipoDocumentoDao","allPages","tipoModalidadeDao","documentoDao","tempo_total","tempo_proporcional","documento_id","documentos","vinculadas","tipo_modalidade_id","forma_contagem_carga_horaria","onVinculadasChange","formValue","Promise","all","loadSearch","tipoModalidade","id_processo","initializeData","saveData","resolve","reject","codigo_tipo_documento","formaContagemCargaHoraria","forma","PlanoTrabalhoFormTermoComponent_Query","PlanoTrabalhoFormTermoComponent_Template_editable_form_submit_0_listener","onSaveData","PlanoTrabalhoFormTermoComponent_Template_editable_form_cancel_0_listener","onCancel","PlanoTrabalhoFormTermoComponent_Template_input_switch_change_24_listener","formDisabled","ganho_produtividade","ɵɵattribute","DocumentoService","TemplateService","UtilService","ctx_r10","horasTotais","ctx_r11","horasParciais","ɵɵelementContainerStart","PlanoTrabalhoFormComponent_ng_container_18_Template_input_workload_change_2_listener","onCargaHorariaChenge","PlanoTrabalhoFormComponent_ng_container_18_separator_5_Template","PlanoTrabalhoFormComponent_ng_container_18_separator_6_Template","ɵɵelementContainerEnd","onFormaContagemCargaHorariaChange","ctx_r7","editar_texto_complementar_unidade","planoDataset","editar_texto_complementar_usuario","ctx_r9","needSign","extraTags","editingId","datasource","template_tcr","PlanoTrabalhoFormComponent","gestoresUnidadeExecutora","_ref","_x","apply","arguments","joinPrograma","documentoService","templateService","utilService","dataset","unidade_texto_complementar","usuario_texto_complementar","criterios_avaliacao","criterio_avaliacao","segment","url","path","action","buscaGestoresUnidadeExecutora","atualizarTcr","loadEntity","textoUsuario","textoUnidade","documento","template","isTermos","onUnidadeSelect","selected","entidade","texto_complementar_plano","onProgramaSelect","plano_trabalho_criterios_avaliacao","updateValueAndValidity","calculaTempos","onUsuarioSelect","unidades","every","_ref2","niveis","split","reverse","hoje","preenchido","indice","preencheUnidade","preenchePrograma","_x2","onDataInicioChange","onDataFimChange","inicio","fim","carga","loadFeriadosCadastrados","feriados","carga_horaria_padrao","fill","requests","responses","onTabSelect","documentoDynamicButtons","signDocumento","html","conteudo","addItemHandleCriteriosAvaliacao","sign","unit","isVigente","gestor","gestores_substitutos","gestores_delegados","PlanoTrabalhoFormComponent_Query","PlanoTrabalhoFormComponent_Template_editable_form_submit_0_listener","PlanoTrabalhoFormComponent_Template_editable_form_cancel_0_listener","PlanoTrabalhoFormComponent_Template_input_search_select_7_listener","PlanoTrabalhoFormComponent_Template_input_search_select_9_listener","PlanoTrabalhoFormComponent_Template_input_search_select_11_listener","PlanoTrabalhoFormComponent_Template_input_datetime_change_14_listener","PlanoTrabalhoFormComponent_Template_input_datetime_change_15_listener","PlanoTrabalhoFormComponent_ng_container_18_Template","PlanoTrabalhoFormComponent_top_alert_23_Template","PlanoTrabalhoFormComponent_div_24_Template","PlanoTrabalhoFormComponent_tab_25_Template","PlanoTrabalhoFormComponent_tab_26_Template","ɵɵpureFunction0","_c11","plano_trabalho_calcula_horas","checkFilled","_c12","_c13","badge_r7","PlanoTrabalhoListAccordeonComponent_ng_template_13_badge_11_Template","item_r5","ctx_r2","getPlanoBadges","PLANO_TRABALHO_STATUS","item_r8","PlanoTrabalhoListAccordeonComponent","_arquivados","selectedIndex","accordion","self","i","concluidos","avaliados","getLookup","textValue","toString","JSON","stringify","badges","PlanoTrabalhoListAccordeonComponent_Query","PlanoTrabalhoListAccordeonComponent_ng_template_13_Template","PlanoTrabalhoListAccordeonComponent_ng_template_15_Template","ɵɵtextInterpolate4","PlanoTrabalhoEntrega","PlanoTrabalhoEntregaDaoService","PlanoEntregaDaoService","PlanoEntregaEntregaDaoService","row_r28","ctx_r29","orgao","PlanoTrabalhoListEntregaComponent_ng_template_6_badge_3_Template","PlanoTrabalhoListEntregaComponent_ng_template_6_badge_4_Template","plano_entrega_entrega_id","PlanoTrabalhoListEntregaComponent_ng_template_8_input_search_2_Template_input_search_change_0_listener","ctx_r38","onPlanoEntregaChange","ctx_r35","_c3","_r34","ɵɵpureFunction2","_c6","ɵɵpureFunction1","_c4","_c5","_c7","_c9","_c8","_c10","planoEntregaDao","PlanoTrabalhoListEntregaComponent_ng_template_8_Template_input_select_change_0_listener","_r42","row_r33","ctx_r41","onOrigemChange","PlanoTrabalhoListEntregaComponent_ng_template_8_input_search_2_Template","PlanoTrabalhoListEntregaComponent_ng_template_8_input_text_3_Template","origem","ORIGENS_ENTREGAS_PLANO_TRABALHO","ctx_r45","row_r44","PlanoTrabalhoListEntregaComponent_ng_template_13_div_2_Template","tipo","PlanoTrabalhoListEntregaComponent_ng_template_15_input_select_0_Template_input_select_change_0_listener","onEntregaChange","ctx_r49","data","PlanoTrabalhoListEntregaComponent_ng_template_15_input_select_0_Template","PlanoTrabalhoListEntregaComponent_ng_template_15_div_1_Template","totalForcaTrabalho","PlanoTrabalhoListEntregaComponent_ng_template_18_div_1_Template","PlanoTrabalhoListEntregaComponent_ng_template_18_ng_template_2_Template","PlanoTrabalhoListEntregaComponent_ng_template_22_Template_input_text_change_0_listener","_r60","row_r58","ctx_r59","onForcaTrabalhoChange","row_r62","PlanoTrabalhoListEntregaComponent_ng_template_27_div_0_Template","ctx_r22","ctx_r26","PlanoTrabalhoListEntregaComponent","gridControl","options","e","peeDao","validateEntregas","planoInterval","entregaPlano","entregaDataFim","entregaInterval","intersection","_superprop_getNgOnInit","call","Math","round","somaForcaTrabalho","novaEntrega","addEntrega","loadEntrega","carregarEntregas","removeEntrega","isNoPersist","saveEntrega","saveEndEntrega","idPlanoOuPlano","planoEntrega","planoEntregaComUnidade","epe","onSelectClick","Event","index","PlanoTrabalhoListEntregaComponent_Query","PlanoTrabalhoListEntregaComponent_ng_template_4_Template","PlanoTrabalhoListEntregaComponent_ng_template_6_Template","PlanoTrabalhoListEntregaComponent_ng_template_8_Template","PlanoTrabalhoListEntregaComponent_ng_template_11_Template","PlanoTrabalhoListEntregaComponent_ng_template_13_Template","PlanoTrabalhoListEntregaComponent_ng_template_15_Template","PlanoTrabalhoListEntregaComponent_ng_template_18_Template","PlanoTrabalhoListEntregaComponent_ng_template_20_Template","PlanoTrabalhoListEntregaComponent_ng_template_22_Template","PlanoTrabalhoListEntregaComponent_ng_template_25_Template","PlanoTrabalhoListEntregaComponent_ng_template_27_Template","PlanoTrabalhoListEntregaComponent_ng_template_29_Template","PlanoTrabalhoListEntregaComponent_ng_template_31_Template","_r25","RouterModule","AuthGuard","ConfigResolver","PlanoTrabalhoListComponent","AvaliarComponent","routes","component","canActivate","runGuardsAndResolvers","PlanoTrabalhoRoutingModule","_3","forChild","imports","i1","exports","CommonModule","ComponentsModule","ReactiveFormsModule","UteisModule","PlanoTrabalhoModule","declarations","NgIf","i2","i3","ColumnsComponent","i4","ColumnComponent","i5","FilterComponent","i6","ToolbarComponent","i7","PaginationComponent","i8","InputSwitchComponent","i9","i10","InputTextComponent","i11","InputDatetimeComponent","i12","InputSelectComponent","i13","ReportComponent","i14","OrderComponent","i15","BadgeComponent","i16","DocumentosBadgeComponent"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}