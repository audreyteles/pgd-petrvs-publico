{"version":3,"file":"381.js","mappings":"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","sources":["./node_modules/preact/compat/dist/compat.module.js","./node_modules/preact/dist/preact.module.js","./node_modules/preact/hooks/dist/hooks.module.js","./src/app/models/projeto-alocacao-regra.model.ts","./src/app/models/projeto-alocacao.model.ts","./src/app/models/projeto-recurso.model.ts","./src/app/models/projeto-regra.model.ts","./src/app/models/projeto-tarefa.model.ts","./src/app/models/projeto.model.ts","./src/app/modules/gestao/projeto/projeto-form-alocacoes/projeto-form-alocacoes.component.ts","./src/app/modules/gestao/projeto/projeto-form-alocacoes/projeto-form-alocacoes.component.html","./src/app/modules/gestao/projeto/projeto-form-fases/projeto-form-fases.component.ts","./src/app/modules/gestao/projeto/projeto-form-fases/projeto-form-fases.component.html","./src/app/modules/gestao/projeto/projeto-form-principal/projeto-form-principal.component.ts","./src/app/modules/gestao/projeto/projeto-form-principal/projeto-form-principal.component.html","./src/app/modules/gestao/projeto/projeto-form-recursos/projeto-form-recursos.component.ts","./src/app/modules/gestao/projeto/projeto-form-recursos/projeto-form-recursos.component.html","./src/app/modules/gestao/projeto/projeto-form-regras/projeto-form-regras.component.ts","./src/app/modules/gestao/projeto/projeto-form-regras/projeto-form-regras.component.html","./src/app/modules/gestao/projeto/projeto-form/projeto-form.component.ts","./src/app/modules/gestao/projeto/projeto-form/projeto-form.component.html","./src/app/modules/gestao/projeto/projeto-list/projeto-list.component.ts","./src/app/modules/gestao/projeto/projeto-list/projeto-list.component.html","./src/app/modules/gestao/projeto/projeto-planejamento/projeto-planejamento.component.ts","./src/app/modules/gestao/projeto/projeto-planejamento/projeto-planejamento.component.html","./src/app/modules/gestao/projeto/projeto-recurso-widget/projeto-recurso-widget.component.ts","./src/app/modules/gestao/projeto/projeto-recurso-widget/projeto-recurso-widget.component.html","./src/app/modules/gestao/projeto/projeto-routing.module.ts","./src/app/modules/gestao/projeto/projeto-tarefa-filter/projeto-tarefa-filter.component.ts","./src/app/modules/gestao/projeto/projeto-tarefa-filter/projeto-tarefa-filter.component.html","./src/app/modules/gestao/projeto/projeto-tarefa-form-principal/projeto-tarefa-form-principal.component.ts","./src/app/modules/gestao/projeto/projeto-tarefa-form-principal/projeto-tarefa-form-principal.component.html","./src/app/modules/gestao/projeto/projeto-tarefa-form/projeto-tarefa-form.component.ts","./src/app/modules/gestao/projeto/projeto-tarefa-form/projeto-tarefa-form.component.html","./src/app/modules/gestao/projeto/projeto.module.ts","./src/app/modules/gestao/projeto/projeto.service.ts","./node_modules/@fullcalendar/angular/fesm2020/fullcalendar-angular.mjs","./node_modules/@fullcalendar/core/index.js","./node_modules/@fullcalendar/core/internal-common.js","./node_modules/@fullcalendar/daygrid/index.js","./node_modules/@fullcalendar/daygrid/internal.js","./node_modules/@fullcalendar/interaction/index.js"],"sourcesContent":["import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n,t){return n===t&&(0!==n||1/n==1/t)||n!=n&&t!=t}function w(n){this.props=n}function R(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(w.prototype=new n).isPureReactComponent=!0,w.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var x=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),x&&x(n)};var N=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function k(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=N,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var A=function(n,t){return null==n?null:r(r(n).map(t))},O={map:A,forEach:A,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},T=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);T(n,t,e,r)};var I=e.unmount;function L(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return L(n,t,e)})),n}function U(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return U(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function D(){this.__u=0,this.t=null,this.__b=null}function F(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function M(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function V(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),I&&I(n)},(D.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=F(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=U(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},D.prototype.componentWillUnmount=function(){this.t=[]},D.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=L(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__h=null),[t(u,null,e.__a?null:n.children),i]};var W=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function P(n){return this.getChildContext=function(){return n.context},n.children}function $(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(P,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function j(n,e){var r=t($,{__v:n,i:e});return r.containerInfo=e,r}(V.prototype=new n).__a=function(n){var t=this,e=F(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),W(t,n,r)):u()};e?e(o):o()}},V.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},V.prototype.componentDidUpdate=V.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){W(n,e,t)})};var z=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,B=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H=\"undefined\"!=typeof document,Z=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function Y(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function q(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var G=e.event;function J(){}function K(){return this.cancelBubble}function Q(){return this.defaultPrevented}e.event=function(n){return G&&(n=G(n)),n.persist=J,n.isPropagationStopped=K,n.isDefaultPrevented=Q,n.nativeEvent=n};var X,nn={configurable:!0,get:function(){return this.class}},tn=e.vnode;e.vnode=function(n){var t=n.type,e=n.props,u=e;if(\"string\"==typeof t){var o=-1===t.indexOf(\"-\");for(var i in u={},e){var l=e[i];H&&\"children\"===i&&\"noscript\"===t||\"value\"===i&&\"defaultValue\"in e&&null==l||(\"defaultValue\"===i&&\"value\"in e&&null==e.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":/ondoubleclick/i.test(i)?i=\"ondblclick\":/^onchange(textarea|input)/i.test(i+t)&&!Z(e.type)?i=\"oninput\":/^onfocus$/i.test(i)?i=\"onfocusin\":/^onblur$/i.test(i)?i=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&B.test(i)?i=i.replace(/[A-Z0-9]/g,\"-$&\").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),u[i]&&(i=\"oninputCapture\")),u[i]=l)}\"select\"==t&&u.multiple&&Array.isArray(u.value)&&(u.value=r(e.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==t&&null!=u.defaultValue&&(u.value=r(e.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),n.props=u,e.class!=e.className&&(nn.enumerable=\"className\"in e,null!=e.className&&(u.class=e.className),Object.defineProperty(u,\"className\",nn))}n.$$typeof=z,tn&&tn(n)};var en=e.__r;e.__r=function(n){en&&en(n),X=n.__c};var rn={ReactCurrentDispatcher:{current:{readContext:function(n){return X.__n[n.__c].props.value}}}},un=\"17.0.2\";function on(n){return t.bind(null,n)}function ln(n){return!!n&&n.$$typeof===z}function cn(n){return ln(n)?f.apply(null,arguments):n}function fn(n){return!!n.__k&&(o(null,n),!0)}function an(n){return n&&(n.base||1===n.nodeType&&n)||null}var sn=function(n,t){return n(t)},hn=function(n,t){return n(t)},vn=u;function dn(n){n()}function pn(n){return n}function mn(){return[!1,dn]}var yn=d;function _n(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,E(u.__,t())||o({h:u})},[n,e,t]),v(function(){return E(u.__,u.v())||o({h:u}),n(function(){E(u.__,u.v())||o({h:u})})},[n]),e}var bn={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:yn,useTransition:mn,useDeferredValue:pn,useSyncExternalStore:_n,startTransition:dn,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:O,render:Y,hydrate:q,unmountComponentAtNode:fn,createPortal:j,createElement:t,createContext:l,createFactory:on,cloneElement:cn,createRef:c,Fragment:u,isValidElement:ln,findDOMNode:an,Component:n,PureComponent:w,memo:R,forwardRef:k,flushSync:hn,unstable_batchedUpdates:sn,StrictMode:vn,Suspense:D,SuspenseList:V,lazy:M,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:rn};export{O as Children,w as PureComponent,vn as StrictMode,D as Suspense,V as SuspenseList,rn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cn as cloneElement,on as createFactory,j as createPortal,bn as default,an as findDOMNode,hn as flushSync,k as forwardRef,q as hydrate,ln as isValidElement,M as lazy,R as memo,Y as render,dn as startTransition,fn as unmountComponentAtNode,sn as unstable_batchedUpdates,pn as useDeferredValue,yn as useInsertionEffect,_n as useSyncExternalStore,mn as useTransition,un as version};\n","var n,l,u,i,t,r,o,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,i){var t,r,o,f={};for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return p(l,f,t,r,null)}function p(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function d(){return{current:null}}function _(n){return n.children}function k(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||g(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||g(n,r,l[r],u[r],i)}function b(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function g(n,l,u,i,t){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||b(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||b(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?w:m,r):n.removeEventListener(l,r?w:m,r);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&-1==l.indexOf(\"-\")?n.removeAttribute(l):n.setAttribute(l,u))}}function m(n){t=!0;try{return this.l[n.type+!1](l.event?l.event(n):n)}finally{t=!1}}function w(n){t=!0;try{return this.l[n.type+!0](l.event?l.event(n):n)}finally{t=!1}}function x(n,l){this.props=n,this.context=l}function A(n,l){if(null==l)return n.__?A(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?A(n):null}function P(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return P(n)}}function C(n){t?setTimeout(n):f(n)}function T(n){(!n.__d&&(n.__d=!0)&&r.push(n)&&!$.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||C)($)}function $(){var n,l,u,i,t,o,f,e;for(r.sort(function(n,l){return n.__v.__b-l.__v.__b});n=r.shift();)n.__d&&(l=r.length,i=void 0,t=void 0,f=(o=(u=n).__v).__e,(e=u.__P)&&(i=[],(t=h({},o)).__v=o.__v+1,M(e,o,t,u.__n,void 0!==e.ownerSVGElement,null!=o.__h?[f]:null,i,null==f?A(o):f,o.__h),N(i,o),o.__e!=f&&P(o)),r.length>l&&r.sort(function(n,l){return n.__v.__b-l.__v.__b}));$.__r=0}function H(n,l,u,i,t,r,o,f,e,a){var h,v,y,d,k,b,g,m=i&&i.__k||s,w=m.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(d=u.__k[h]=null==(d=l[h])||\"boolean\"==typeof d?null:\"string\"==typeof d||\"number\"==typeof d||\"bigint\"==typeof d?p(null,d,null,null,d):Array.isArray(d)?p(_,{children:d},null,null,null):d.__b>0?p(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)){if(d.__=u,d.__b=u.__b+1,null===(y=m[h])||y&&d.key==y.key&&d.type===y.type)m[h]=void 0;else for(v=0;v<w;v++){if((y=m[v])&&d.key==y.key&&d.type===y.type){m[v]=void 0;break}y=null}M(n,d,y=y||c,t,r,o,f,e,a),k=d.__e,(v=d.ref)&&y.ref!=v&&(g||(g=[]),y.ref&&g.push(y.ref,null,d),g.push(v,d.__c||k,d)),null!=k?(null==b&&(b=k),\"function\"==typeof d.type&&d.__k===y.__k?d.__d=e=I(d,e,n):e=z(n,d,y,m,k,e),\"function\"==typeof u.type&&(u.__d=e)):e&&y.__e==e&&e.parentNode!=n&&(e=A(y))}for(u.__e=b,h=w;h--;)null!=m[h]&&(\"function\"==typeof u.type&&null!=m[h].__e&&m[h].__e==u.__d&&(u.__d=L(i).nextSibling),q(m[h],m[h]));if(g)for(h=0;h<g.length;h++)S(g[h],g[++h],g[++h])}function I(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l=\"function\"==typeof i.type?I(i,l,u):z(u,i,i,t,i.__e,l));return l}function j(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){j(n,l)}):l.push(n)),l}function z(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function L(n){var l,u,i;if(null==n.type||\"string\"==typeof n.type)return n.__e;if(n.__k)for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=L(u)))return i;return null}function M(n,u,i,t,r,o,f,e,c){var s,a,v,y,p,d,k,b,g,m,w,A,P,C,T,$=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof $){if(b=u.props,g=(s=$.contextType)&&t[s.__c],m=s?g?g.props.value:s.__:t,i.__c?k=(a=u.__c=i.__c).__=a.__E:(\"prototype\"in $&&$.prototype.render?u.__c=a=new $(b,m):(u.__c=a=new x(b,m),a.constructor=$,a.render=B),g&&g.sub(a),a.props=b,a.state||(a.state={}),a.context=m,a.__n=t,v=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=$.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=h({},a.__s)),h(a.__s,$.getDerivedStateFromProps(b,a.__s))),y=a.props,p=a.state,a.__v=u,v)null==$.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else{if(null==$.getDerivedStateFromProps&&b!==y&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(b,m),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(b,a.__s,m)||u.__v===i.__v){for(u.__v!==i.__v&&(a.props=b,a.state=a.__s,a.__d=!1),u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),w=0;w<a._sb.length;w++)a.__h.push(a._sb[w]);a._sb=[],a.__h.length&&f.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(b,a.__s,m),null!=a.componentDidUpdate&&a.__h.push(function(){a.componentDidUpdate(y,p,d)})}if(a.context=m,a.props=b,a.__P=n,A=l.__r,P=0,\"prototype\"in $&&$.prototype.render){for(a.state=a.__s,a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),C=0;C<a._sb.length;C++)a.__h.push(a._sb[C]);a._sb=[]}else do{a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),a.state=a.__s}while(a.__d&&++P<25);a.state=a.__s,null!=a.getChildContext&&(t=h(h({},t),a.getChildContext())),v||null==a.getSnapshotBeforeUpdate||(d=a.getSnapshotBeforeUpdate(y,p)),T=null!=s&&s.type===_&&null==s.key?s.props.children:s,H(n,Array.isArray(T)?T:[T],u,i,t,r,o,f,e,c),a.base=u.__e,u.__h=null,a.__h.length&&f.push(a),k&&(a.__E=a.__=null),a.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=O(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function N(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function O(l,u,i,t,r,o,f,e){var s,a,h,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),o=null,e=!1}if(null===d)y===p||e&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||c).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!e){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||\"\"))}if(k(l,p,y,r,e),h)u.__k=[];else if(_=u.props.children,H(l,Array.isArray(_)?_:[_],u,i,t,r&&\"foreignObject\"!==d,o,f,o?o[0]:i.__k&&A(i,0),e),null!=o)for(_=o.length;_--;)null!=o[_]&&v(o[_]);e||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_||\"option\"===d&&_!==y.value)&&g(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&g(l,\"checked\",_,y.checked,!1))}return l}function S(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function q(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||S(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&q(t[r],u,i||\"function\"!=typeof n.type);i||null==n.__e||v(n.__e),n.__=n.__e=n.__d=void 0}function B(n,l,u){return this.constructor(n,u)}function D(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],M(i,u=(!r&&t||i).__k=y(_,null,[u]),o||c,c,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),N(f,u)}function E(n,l){D(n,l,E)}function F(l,u,i){var t,r,o,f=h({},l.props);for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),p(l.type,f,t||l.key,r||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,T(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,i){for(var t,r,o;l=l.__;)if((t=l.__c)&&!t.__)try{if((r=t.constructor)&&null!=r.getDerivedStateFromError&&(t.setState(r.getDerivedStateFromError(n)),o=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),o=t.__d),o)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},t=!1,x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),\"function\"==typeof n&&(n=n(h({},u),this.props)),n&&h(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),T(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),T(this))},x.prototype.render=_,r=[],f=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$.__r=0,e=0;export{x as Component,_ as Fragment,F as cloneElement,G as createContext,y as createElement,d as createRef,y as h,E as hydrate,i as isValidElement,l as options,D as render,j as toChildArray};\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function p(n){return o=1,y(B,n)}function y(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){r.u=!0;var f=r.shouldComponentUpdate;r.shouldComponentUpdate=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!f||f.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!f||f.call(this,n,t,r))}}return o.__N||o.__}function h(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function s(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,s(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=p();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[])),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,h as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,s as useLayoutEffect,F as useMemo,y as useReducer,_ as useRef,p as useState};\n","import { Base } from './base.model';\r\nimport { ProjetoTarefa } from './projeto-tarefa.model';\r\nimport { ProjetoRecurso } from './projeto-recurso.model';\r\nimport { ProjetoRegra } from './projeto-regra.model';\r\nimport { Projeto } from './projeto.model';\r\nimport { ProjetoAlocacao } from './projeto-alocacao.model';\r\n\r\nexport class ProjetoAlocacaoRegra extends Base {\r\n    public projeto_alocacao?: ProjetoAlocacao;\r\n    public regra?: ProjetoRegra;\r\n\r\n    public projeto_alocacao_id: string = \"\";\r\n    public regra_id: string = \"\";\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}","import { Base } from './base.model';\r\nimport { ProjetoTarefa } from './projeto-tarefa.model';\r\nimport { ProjetoRecurso } from './projeto-recurso.model';\r\nimport { ProjetoRegra } from './projeto-regra.model';\r\nimport { Projeto } from './projeto.model';\r\nimport { ProjetoAlocacaoRegra } from './projeto-alocacao-regra.model';\r\n\r\nexport class ProjetoAlocacao extends Base {\r\n    public projeto?: Projeto;\r\n    public tarefa?: ProjetoTarefa;\r\n    public recurso?: ProjetoRecurso;\r\n    public regras?: ProjetoAlocacaoRegra[];\r\n\r\n    public descricao: string = \"\"; /* Descrição */\r\n    public quantidade: number = 1; /* Quantidade */\r\n    public projeto_id: string | null = null;\r\n    public tarefa_id: string | null = null;\r\n    public recurso_id: string = \"\";\r\n    //public regra_id: string | null = null;\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}","import { Base } from './base.model';\r\nimport { Usuario } from './usuario.model';\r\nimport { Projeto } from './projeto.model';\r\nimport { Unidade } from './unidade.model';\r\nimport { MaterialServico, MaterialServicoUnidade } from './material-servico.model';\r\n\r\nexport type ProjetoRecursoTipo = 'HUMANO' | 'MATERIAL' | 'SERVICO' | 'CUSTO' | 'DEPARTAMENTO';\r\n\r\nexport class ProjetoRecurso extends Base {\r\n    public projeto?: Projeto;\r\n    public usuario?: Usuario;\r\n    public unidade?: Unidade;\r\n    public material_servico?: MaterialServico;\r\n\r\n    public nome: string = \"\"; /* Nome do recurso */\r\n    public tipo: ProjetoRecursoTipo = \"MATERIAL\"; /* Tipo do recurso */\r\n    public unidade_medida: MaterialServicoUnidade = \"UNIDADE\"; /* Unidade do recurso */\r\n    public valor: number = 0; /* Valor de cursto do recurso */\r\n\r\n    public projeto_id: string = \"\";\r\n    public usuario_id: string | null = null;\r\n    public unidade_id: string | null = null;\r\n    public material_servico_id: string | null = null;\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}","import { Base } from './base.model';\r\nimport { ProjetoRecursoTipo } from './projeto-recurso.model';\r\nimport { Projeto } from './projeto.model';\r\n\r\nexport class ProjetoRegra extends Base {\r\n    public projeto?: Projeto;\r\n\r\n    public nome: string = \"\"; /* Nome da regra */\r\n    public tipo_recurso: ProjetoRecursoTipo = \"MATERIAL\"; /* Tipo do recurso */\r\n    public perfis: string[] = []; /* Lista de perfis da regra */\r\n\r\n    public projeto_id: string = \"\";\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}\r\n","import { Base } from './base.model';\r\nimport { Usuario } from './usuario.model';\r\nimport { HasAlocacoes, HasTarefas, Projeto } from './projeto.model';\r\nimport { Atividade } from './atividade.model';\r\nimport { ProjetoAlocacao } from './projeto-alocacao.model';\r\nimport { LookupItem } from '../services/lookup.service';\r\nimport { Comentario, HasComentarios } from './comentario';\r\nimport { Documento } from './documento.model';\r\n\r\nexport type ProjetoTarefaStatus = \"PLANEJADO\" | \"INICIADO\" | \"CONCLUIDO\" | \"FALHO\" | \"SUSPENSO\" | \"CANCELADO\" | \"AGUARDANDO\";\r\n\r\nexport class ProjetoTarefa extends Base implements HasComentarios, HasAlocacoes, HasTarefas {\r\n    public projeto?: Projeto;\r\n    public tarefa_pai?: ProjetoTarefa;\r\n    public terefa_projeto?: Projeto;\r\n    public atividade?: Atividade;\r\n    public usuario?: Usuario;\r\n    public documento?: Documento;\r\n    public alocacoes?: ProjetoAlocacao[];\r\n\r\n    public indice: number = 0; /* Indice da sequencia da tarefa */\r\n    public path: string = \"\"; /* Path dos nós pais */\r\n    public nome: string = \"\"; /* Nome da tarefa */\r\n    public descricao: string = \"\"; /* Descricao da tarefa */\r\n    public data_inicio: Date = new Date(); /* Início da tarefa */\r\n    public data_fim: Date = new Date(); /* Final da tarefa */\r\n    public data_inicio_baseline: Date | null = null;  /* Início do projeto (Baseline) */\r\n    public data_fim_baseline: Date | null = null;  /* Final do projeto (Baseline) */\r\n    public duracao: number = 0.00; /* Duração da atividade. Se a duração for 0 e sintéfico for falso então irá se comportar apenas como um grupo */\r\n    public progresso: number = 0.00; /* Percentual de progresso da tarefa */\r\n    public inicio_marco: boolean = false; /* Se o início é um marco */\r\n    public termino_marco: boolean = false; /* Se o término é um marco */\r\n    public tem_filhos: boolean = false; /* Se é um registro sintético (resumo) */\r\n    public agrupador: boolean = false; /* Se é apenas um registro para agrupar tarefas filhas (somente se tem_filhos e não possui progresso) */\r\n    public soma_progresso_filhos: boolean = true; /* Se o progresso é calculado pela média do progresso dos filhos ou lançado manual (somente se tem_filhos) */\r\n    public status: ProjetoTarefaStatus = \"PLANEJADO\"; /* Status */\r\n    public contraido: boolean = false; /* Se esta contraído */\r\n    public custo: number = 0.00; /* Custo: Será a soma dos recursos, sou a soma dos filhos caso temFilhos e sintetico */\r\n    public calcula_intervalo: boolean = true; /* Se calcula o início e término automaticamente pelos filhos (somente se tem_filhos) */\r\n    public aloca_proprios_recursos: boolean = true; /* Se possui recursos próprios (somente se tem_filhos) */\r\n    public soma_recusos_alocados_filhos: boolean = true; /* Mostra o somatório dos recursos filhos (somente se tem_filhos) */\r\n    public custos_proprios: boolean = true; /* Se possui custos próprios (somente se tem_filhos) */\r\n    public soma_custos_filhos: boolean = true; /* Se possui custos filhos (somente se tem_filhos) */\r\n    public etiquetas: LookupItem[] = []; /* Etiquetas */\r\n    public comentarios: Comentario[] = []; /* Comentarios do projeto */\r\n\r\n    public projeto_id: string = \"\";\r\n    public tarefa_pai_id: string | null = null;\r\n    public terefa_projeto_id: string | null = null; /* Projeto que será incorporado como uma tarefa */\r\n    public atividade_id: string = \"\";\r\n    public usuario_id: string | null = null;\r\n    public documento_id: string | null = null;\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}\r\n","import { Base } from './base.model';\r\nimport { Usuario } from './usuario.model';\r\nimport { TipoProjeto } from './tipo-projeto.model';\r\nimport { ProjetoRegra } from './projeto-regra.model';\r\nimport { ProjetoRecurso } from './projeto-recurso.model';\r\nimport { ProjetoAlocacao } from './projeto-alocacao.model';\r\nimport { ProjetoTarefa } from './projeto-tarefa.model';\r\nimport { KanbanDocker } from '../components/kanban/kanban.component';\r\nimport { Comentario, HasComentarios } from './comentario';\r\nimport { Expediente } from './expediente.model';\r\nimport { ProjetoFase } from './projeto-fase.model';\r\n\r\nexport type ProjetoStatus = 'PLANEJADO' | 'INICIADO' | 'CONCLUIDO' | 'SUSPENSO' | 'CANCELADO';\r\n\r\nexport interface HasAlocacoes {\r\n    id: string; /* Id do Projeto ou da Tarefa */\r\n    aloca_proprios_recursos: boolean; /* Se possui recursos próprios */\r\n    soma_recusos_alocados_filhos: boolean; /* Mostra o somatório dos recursos filhos */\r\n    custos_proprios: boolean; /* Se possui custos próprios */\r\n    soma_custos_filhos: boolean; /* Se possui custos filhos */\r\n    custo: number;  /* Custo do projeto */\r\n    alocacoes?: ProjetoAlocacao[]; /* Alocacoes */\r\n}\r\n\r\nexport interface HasTarefas {\r\n    tarefas?: ProjetoTarefa[]; /* Tarefas */\r\n    calcula_intervalo: boolean; /* Se o término é calculado automaticamente pelas tarefas */\r\n    soma_progresso_filhos: boolean; /* Se o progresso é calculado pela média do progresso dos filhos ou lançado manual (somente se tem_filhos) */\r\n    agrupador: boolean; /* Se é apenas um registro para agrupar tarefas filhas (somente se tem_filhos e não possui progresso) */\r\n    data_inicio?: Date;  /* Início do projeto */\r\n    data_fim?: Date;  /* Final do projeto */\r\n    duracao: number; /* Duração do projeto */\r\n    progresso: number; /* Percentual de progresso do projeto */\r\n}\r\n\r\nexport class Projeto extends Base implements HasComentarios, HasAlocacoes, HasTarefas {\r\n    public tipo_projeto?: TipoProjeto;\r\n    public usuario?: Usuario;\r\n    public regras?: ProjetoRegra[];\r\n    public recursos?: ProjetoRecurso[];\r\n    public alocacoes?: ProjetoAlocacao[];\r\n    public tarefas?: ProjetoTarefa[];\r\n    public fase?: ProjetoFase;\r\n\r\n    public numero: number = 0;  /* Número do projeto */\r\n    public nome: string = \"\";  /* Nome do projeto */\r\n    public descricao: string = \"\";  /* Descrição do projeto */\r\n    public finalidade: string = \"\";  /* Descrição do projeto */\r\n    public status: ProjetoStatus = 'PLANEJADO';  /* Status do projeto */\r\n    public data_inicio?: Date = new Date();  /* Início do projeto */\r\n    public data_fim?: Date = new Date();  /* Final do projeto */\r\n    public data_inicio_baseline: Date | null = new Date();  /* Início do projeto (Baseline) */\r\n    public data_fim_baseline: Date | null = new Date();  /* Final do projeto (Baseline) */\r\n    public custo: number = 0;  /* Custo do projeto */\r\n    public calcula_custos: boolean = true; /* Se o projeto calcula custos */\r\n    public tempo_corrido: boolean = false; /* Se o tempo é corrido ou usa a configuração de fins de semana, feriados e horário do expediente (quando usar horas) */\r\n    public usa_horas: boolean = false; /* Se usa horas nas datas */\r\n    public usa_baseline: boolean = true; /* Se usa baseline */\r\n    public calcula_intervalo: boolean = true; /* Se o término é calculado automaticamente pelas tarefas */\r\n    public agrupador: boolean = false; /* Se é apenas um registro para agrupar tarefas filhas (somente se tem_filhos e não possui progresso) */\r\n    public soma_progresso_filhos: boolean = true; /* Se o progresso é calculado pela média do progresso dos filhos ou lançado manual (somente se tem_filhos) */\r\n    public aloca_proprios_recursos: boolean = true; /* Se possui recursos próprios */\r\n    public soma_recusos_alocados_filhos: boolean = true; /* Mostra o somatório dos recursos filhos */\r\n    public custos_proprios: boolean = true; /* Se possui custos próprios */\r\n    public soma_custos_filhos: boolean = true; /* Se possui custos filhos */\r\n    public duracao: number = 0.00; /* Duração do projeto */\r\n    public progresso: number = 0.00; /* Percentual de progresso do projeto */\r\n    public expediente: Expediente | null = null; /* Configuração do expediente */\r\n    public usuario_id: string | null = null;\r\n    public tipo_projeto_id: string | null = null;\r\n    public fase_id: string | null = null;\r\n    public kanban_dockers: KanbanDocker[] = [];\r\n    public comentarios: Comentario[] = []; /* Comentarios do projeto */\r\n    public fases: ProjetoFase[] = [];\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}\r\n","import { ChangeDetectorRef, Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { ProjetoAlocacao } from 'src/app/models/projeto-alocacao.model';\r\nimport { ProjetoTarefa } from 'src/app/models/projeto-tarefa.model';\r\nimport { Projeto } from 'src/app/models/projeto.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { ProjetoRecursoDaoService } from 'src/app/dao/projeto-recurso-dao.service';\r\nimport { ProjetoRegraDaoService } from 'src/app/dao/projeto-regra-dao.service';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { ProjetoRecurso, ProjetoRecursoTipo } from 'src/app/models/projeto-recurso.model';\r\nimport { ProjetoRegra } from 'src/app/models/projeto-regra.model';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { ProjetoService } from '../projeto.service';\r\nimport { ProjetoAlocacaoRegra } from 'src/app/models/projeto-alocacao-regra.model';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ProjetoDaoService } from 'src/app/dao/projeto-dao.service';\r\nimport { ProjetoRecursoWidgetComponent } from '../projeto-recurso-widget/projeto-recurso-widget.component';\r\n\r\n@Component({\r\n  selector: 'projeto-form-alocacoes',\r\n  templateUrl: './projeto-form-alocacoes.component.html',\r\n  styleUrls: ['./projeto-form-alocacoes.component.scss']\r\n})\r\nexport class ProjetoFormAlocacoesComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild(\"regra\", { static: false }) public regra?: InputSelectComponent;\r\n  @ViewChild(\"recursoWidget\", { static: false }) public recursoWidget?: ProjetoRecursoWidgetComponent;\r\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n  @Input() set entity(value: Projeto | undefined) { super.entity = value; } get entity(): Projeto | undefined { return super.entity; }\r\n  @Input() cdRef: ChangeDetectorRef;\r\n\r\n  public recursoDao: ProjetoRecursoDaoService;\r\n  public regraDao: ProjetoRegraDaoService;\r\n  public projetoService: ProjetoService;\r\n  public formRegra: FormGroup;\r\n  public recursos: LookupItem[] = [];\r\n  public tipoRecurso: ProjetoRecursoTipo | undefined = undefined;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<ProjetoDaoService>(ProjetoDaoService);\r\n    this.recursoDao = injector.get<ProjetoRecursoDaoService>(ProjetoRecursoDaoService);\r\n    this.regraDao = injector.get<ProjetoRegraDaoService>(ProjetoRegraDaoService);\r\n    this.projetoService = injector.get<ProjetoService>(ProjetoService);\r\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\r\n    this.form = this.fh.FormBuilder({\r\n      id: {default: \"\"},\r\n      descricao: {default: \"\"},\r\n      quantidade: {default: 1},\r\n      recurso_id: {default: \"\"},\r\n      novo_recurso: {default: false},\r\n      regras: {default: []}\r\n    }, this.cdRef, this.validate);\r\n    this.formRegra = this.fh.FormBuilder({\r\n      regra_id: {default: null}\r\n    }, this.cdRef, this.validateRegra);\r\n    this.groupBy = [{field: \"recurso.tipo\", label: \"Tipo\"}];\r\n  }\r\n\r\n  public get items(): ProjetoAlocacao[] {\r\n    if(!this.gridControl.value) this.gridControl.setValue(new Projeto());\r\n    if(!this.gridControl.value.alocacoes) this.gridControl.value.alocacoes = [];\r\n    return this.gridControl.value.alocacoes;\r\n  }\r\n\r\n  public loadRecursos(alocacao: ProjetoAlocacao) {\r\n    const items = (this.entity!.recursos || []).filter(x => x.id != \"NEW\" && !this.entity!.alocacoes?.find(r => r.recurso_id != alocacao.recurso_id && r.recurso_id == x.id));\r\n    const recursoNome = (recurso: ProjetoRecurso) => recurso.usuario?.nome || recurso.unidade?.nome || recurso.material_servico?.descricao || recurso.nome;\r\n    this.recursos = items.map(x => Object.assign({}, {key: x.id, value: recursoNome(x), icon: this.lookup.getIcon(this.lookup.PROJETO_TIPO_RECURSOS, x.tipo), data: x}));\r\n  }\r\n\r\n  private _regras: LookupItem[] = [];\r\n  public get regras(): LookupItem[] {\r\n    const items = (this.entity!.regras || []).filter(x => x.id != \"NEW\" && x.tipo_recurso == this.tipoRecurso);\r\n    if(this._regras.map(x => x.key + x.value).join(\";\") != items.map(x => x.id + x.nome).join(\";\")) {\r\n      this._regras = items.map(x => Object.assign({}, {key: x.id, value: x.nome, data: x}));\r\n    }\r\n    return this._regras;\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    return result;\r\n  }\r\n\r\n  public validateRegra = (control: AbstractControl, controlName: string) => {\r\n    if(controlName == \"regra_id\" && !control.value?.length) return \"Obrigatório\";\r\n    return null;\r\n  }\r\n\r\n  public loadData(entity: IIndexable, form?: FormGroup) {\r\n    super.loadData(entity, form);\r\n  }\r\n\r\n  public initializeData(form?: FormGroup) {\r\n    this.entity = new Projeto();\r\n    this.loadData(this.entity, this.form);\r\n  }\r\n\r\n  public async saveData(form?: IIndexable) {\r\n    await this.grid?.confirm();\r\n    return this.entity!;\r\n  }\r\n\r\n  public async addAlocacao() {\r\n    return {\r\n      id: \"NEW\",\r\n      descricao: \"\",\r\n      quantidade: 1,\r\n      recurso_id: \"\",\r\n      regra_id: null\r\n    } as IIndexable;\r\n  }\r\n\r\n  public async loadAlocacao(form: FormGroup, row: any) {\r\n    this.loadRecursos(row);\r\n    this.tipoRecurso = row.recurso?.tipo;\r\n    form.controls.descricao.setValue(row.descricao);\r\n    form.controls.quantidade.setValue(row.quantidade);\r\n    form.controls.recurso_id.setValue(row.recurso_id);\r\n    form.controls.regras.setValue((row.regras || []).map((regra: ProjetoAlocacaoRegra) => Object.assign({}, {\r\n      key: regra.regra!.id,\r\n      value: regra.regra!.nome,\r\n      color: this.lookup.getColor(this.lookup.PROJETO_TIPO_RECURSOS, regra.regra!.tipo_recurso),\r\n      icon: this.lookup.getIcon(this.lookup.PROJETO_TIPO_RECURSOS, regra.regra!.tipo_recurso),\r\n      data: regra\r\n    })));\r\n    form.controls.novo_recurso.setValue(false);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async removeAlocacao(row: any) {\r\n    return true;\r\n  }\r\n\r\n  public async saveAlocacao(form: FormGroup, row: any) {\r\n    let result = undefined;\r\n    let recurso = this.recursoWidget?.recurso;\r\n    this.form!.markAllAsTouched();\r\n    if(recurso && this.form!.valid) {\r\n      if(recurso.id == \"NEW\") { /* Insere novo recurso */\r\n        recurso.id = this.dao!.generateUuid();\r\n        this.entity!.recursos!.push(recurso);\r\n      }\r\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\r\n      row.descricao = form.controls.descricao.value;\r\n      row.quantidade = form.controls.quantidade.value;\r\n      row.recurso_id = recurso.id;\r\n      row.recurso = recurso;\r\n      row.regras = (form.controls.regras.value || []).map((x: LookupItem) => x.data);\r\n      result = row;\r\n      this.cdRef.detectChanges();\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public addItemHandleRegras(): LookupItem | undefined {\r\n    let result = undefined;\r\n    const key = this.formRegra.controls.regra_id.value;\r\n    this.formRegra.markAllAsTouched();\r\n    if(this.formRegra.valid && this.regra?.selectedItem && this.util.validateLookupItem(this.form!.controls.regras.value, key)) {\r\n      let regra = this.regra?.selectedItem.data as ProjetoRegra;\r\n      result = {\r\n        key: key,\r\n        value: regra.nome,\r\n        color: this.lookup.getColor(this.lookup.PROJETO_TIPO_RECURSOS, regra.tipo_recurso),\r\n        icon: this.lookup.getIcon(this.lookup.PROJETO_TIPO_RECURSOS, regra.tipo_recurso),\r\n        data: new ProjetoAlocacaoRegra({\r\n          projeto_alocacao_id: this.form!.controls.id.value,\r\n          regra_id: regra.id,\r\n          regra: regra\r\n        })\r\n      };\r\n      this.util.clearControl(this.formRegra.controls.regra_id);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public isAcessivel(row: ProjetoAlocacao) {\r\n    return this.projetoService.isEnvolvido(row, this.entity!);\r\n  }\r\n\r\n  public dynamicButtons(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let alocacao: ProjetoAlocacao = row as ProjetoAlocacao;\r\n    if (!alocacao.tarefa_id?.length) {\r\n      result.push(Object.assign(this.grid!.BUTTON_EDIT, { onClick: this.grid!.onEditItem.bind(this.grid) }));\r\n      result.push(Object.assign(this.grid!.BUTTON_DELETE, { onClick: this.grid!.onDeleteItem.bind(this.grid) }));\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public onRecursoChange(tipo: ProjetoRecursoTipo | undefined) {\r\n    //const recurso = this.recurso?.selectedItem?.data as ProjetoRecurso;\r\n    this.tipoRecurso = tipo;\r\n    if(this.projetoService.isHumanoDepartamento(tipo)) this.form!.controls.quantidade.setValue(1);\r\n    this.form!.controls.regras.setValue(this.form!.controls.regras.value.filter((x: LookupItem) => x.data?.regra?.tipo_recurso == tipo));\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\">\r\n    <div class=\"row\">\r\n        <grid [items]=\"items\" [form]=\"form!\" [hasEdit]=\"false\" [groupTemplate]=\"groupRecurso\" [groupBy]=\"groupBy\" [add]=\"addAlocacao.bind(this)\" [load]=\"loadAlocacao.bind(this)\" [remove]=\"removeAlocacao.bind(this)\" [save]=\"saveAlocacao.bind(this)\" editable>\r\n            <ng-template let-group=\"group\" #groupRecurso>\r\n                <strong *ngIf=\"group?.length\"><i [class]=\"lookup.getIcon(lookup.PROJETO_TIPO_RECURSOS, group[0].value)\"></i> {{lookup.getValue(lookup.PROJETO_TIPO_RECURSOS, group[0].value)}}</strong>\r\n            </ng-template>\r\n            <columns>\r\n                <column title=\"Recurso\" cellClass=\"px-1\" [template]=\"alocacaoRecurso\" [editTemplate]=\"editAlocacaoRecurso\">\r\n                    <ng-template let-row=\"row\" #alocacaoRecurso>\r\n                        <profile-picture [url]=\"projetoService.getRecursoPicture(row.recurso)\" [hint]=\"row.descricao\"></profile-picture>\r\n                        <small>{{row.recurso?.usuario?.nome || row.recurso?.unidade?.nome || row.recurso?.material_servico?.descricao || row.descricao || \"\"}}</small><br>\r\n                        <badge [icon]=\"lookup.getIcon(lookup.PROJETO_TIPO_RECURSOS, row.recurso.tipo)\" [label]=\"lookup.getValue(lookup.PROJETO_TIPO_RECURSOS, row.recurso.tipo)\" [color]=\"lookup.getColor(lookup.PROJETO_TIPO_RECURSOS, row.recurso.tipo)\"></badge>\r\n                        <badge *ngIf=\"!['HUMANO', 'DEPARTAMENTO'].includes(row.recurso.tipo)\" icon=\"bi bi-rulers\" [label]=\"lookup.getValue(lookup.MATERIAL_SERVICO_UNIDADE, row.recurso.unidade_medida)\" color=\"warning\"></badge>\r\n                        <badge *ngIf=\"row.recurso.valor\" icon=\"bi bi-currency-dollar\" [label]=\"util.formatDecimal(row.recurso.valor)\" color=\"success\"></badge>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editAlocacaoRecurso>\r\n                        <!--input-switch [size]=\"2\" hostClass=\"p-1\" [disabled]=\"row.id != 'NEW' ? 'true' : undefined\" button buttonIcon=\"bi bi-plus\" controlName=\"novo_recurso\"></input-switch>\r\n                        <input-select [size]=\"12\" [disabled]=\"!recursoWidget.collapsed ? 'true' : undefined\" itemTodos=\"- Selecione -\" valueTodos=\"\" #recurso controlName=\"recurso_id\" (change)=\"onRecursoChange()\" [control]=\"form!.controls.recurso_id\" [items]=\"recursos\"></input-select/-->\r\n                        <projeto-recurso-widget #recursoWidget [control]=\"getControlByName('recurso_id')\" [recursos]=\"recursos\" [change]=\"onRecursoChange.bind(this)\"></projeto-recurso-widget>\r\n                    </ng-template>\r\n                </column>\r\n                <column title=\"Regras\" cellClass=\"px-1\" [template]=\"alocacaoRegra\" [editTemplate]=\"editAlocacaoRegra\">\r\n                    <ng-template let-row=\"row\" #alocacaoRegra>\r\n                        <span class=\"text-wrap multilines-badges\">\r\n                            <badge *ngIf=\"isAcessivel(row)\" icon=\"bi bi-unlock\" [label]=\"'Acessar o '+lex.translate('projeto')\"></badge>\r\n                            <badge *ngFor=\"let regra of row.regras\" [label]=\"regra.regra.nome\" [icon]=\"lookup.getIcon(lookup.PROJETO_TIPO_RECURSOS, regra.regra.tipo_recurso)\" [color]=\"lookup.getColor(lookup.PROJETO_TIPO_RECURSOS, regra.regra.tipo_recurso)\"></badge>\r\n                        </span>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editAlocacaoRegra>\r\n                        <input-multiselect controlName=\"regras\" noBox [size]=\"12\" [control]=\"form!.controls.regras\" [addItemHandle]=\"addItemHandleRegras.bind(this)\">\r\n                            <input-select [size]=\"12\" #regra itemTodos=\"- Nenhuma -\" [valueTodos]=\"null\" [control]=\"formRegra.controls.regra_id\" [items]=\"regras\"></input-select>\r\n                        </input-multiselect>\r\n                    </ng-template>\r\n                </column>\r\n                <!--column icon=\"bi bi-eye\" cellClass=\"px-1\" [width]=\"50\" titleHint=\"O projeto estará visível somente para quem possuir uma regra que permita acessar o projeto.\" [template]=\"alocacaoAcessivel\" [editTemplate]=\"editAlocacaoAcessivel\">\r\n                    <ng-template let-row=\"row\" #alocacaoAcessivel>\r\n                        <i *ngIf=\"isAcessivel(row)\" class=\"bi bi-check-circle text-success\"></i>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editAlocacaoAcessivel>\r\n                    </ng-template>\r\n                </column//-->\r\n                <column title=\"Descrição\" cellClass=\"px-1\" [template]=\"alocacaoDescricao\" [editTemplate]=\"editAlocacaoDescricao\">\r\n                    <ng-template let-row=\"row\" #alocacaoDescricao>\r\n                        <strong>{{row.descricao}}</strong>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editAlocacaoDescricao>\r\n                        <input-text [size]=\"12\" controlName=\"descricao\" [control]=\"form!.controls.descricao\" [attr.maxlength]=250></input-text>\r\n                    </ng-template>\r\n                </column>\r\n                <column title=\"Quantidade\" cellClass=\"px-1\" [align]=\"'right'\" [maxWidth]=\"100\" [template]=\"alocacaoQuantidade\" [editTemplate]=\"editAlocacaoQuantidade\">\r\n                    <ng-template let-row=\"row\" #alocacaoQuantidade>\r\n                        <div class=\"text-end\">{{util.formatDecimal(row.quantidade)}}</div>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editAlocacaoQuantidade>\r\n                        <input-number number [disabled]=\"projetoService.isHumanoDepartamento(tipoRecurso) ? 'true' : undefined\" [size]=\"12\" controlName=\"quantidade\" [control]=\"form!.controls.quantidade\"></input-number>\r\n                    </ng-template>\r\n                </column>\r\n                <column type=\"options\" [dynamicButtons]=\"dynamicButtons.bind(this)\"></column>\r\n            </columns>\r\n        </grid>\r\n    </div>\r\n</editable-form>\r\n\r\n<!--\r\n    public descricao: string = \"\"; /* Descrição */\r\n    public quantidade: number = 1; /* Quantidade */\r\n    public projeto_id: string | null = null;\r\n    public tarefa_id: string | null = null;\r\n    public recurso_id: string = \"\";\r\n    public regra_id: string | null = null;\r\n\r\n\r\n\r\n\r\n\r\nRecurso                                         Regra          Descrição                            Quantidade       [ + ]\r\n----------------------------------------------+---------------+----------------------------------+--------------+---------\r\n(i) Nome                                        xxxxxxxxxxxxx  XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX      151515,15   [Ed] [Ex]\r\n[(i) Tipo do recurso] [(U) Metro] [($) 121,11]\r\n\r\n\r\n[Select                                  [v]] [Select   [v]] [text                            ]   [    15151,00]  [Ed] [Ex]\r\n\r\n-->","import { ChangeDetectorRef, Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ProjetoDaoService } from 'src/app/dao/projeto-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { ProjetoFase } from 'src/app/models/projeto-fase.model';\r\nimport { Projeto } from 'src/app/models/projeto.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\n\r\n@Component({\r\n  selector: 'projeto-form-fases',\r\n  templateUrl: './projeto-form-fases.component.html',\r\n  styleUrls: ['./projeto-form-fases.component.scss']\r\n})\r\nexport class ProjetoFormFasesComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @Input() cdRef: ChangeDetectorRef;\r\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n  @Input() set entity(value: Projeto | undefined) { super.entity = value; } get entity(): Projeto | undefined { return super.entity; }\r\n\r\n  public get items(): ProjetoFase[] {\r\n    if(!this.gridControl.value) this.gridControl.setValue(new Projeto());\r\n    if(!this.gridControl.value.fases) this.gridControl.value.fases = [];\r\n    return this.gridControl.value.fases;\r\n  }\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\r\n    this.dao = injector.get<ProjetoDaoService>(ProjetoDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      nome: {default: \"\"},\r\n      descricao: {default: \"\"},\r\n      cor: {default: \"\"},\r\n      data_inicio: {default: null},\r\n      data_fim: {default: null}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    return result;\r\n  }\r\n\r\n  public loadData(entity: IIndexable, form?: FormGroup) {\r\n    super.loadData(entity, form);\r\n  }\r\n\r\n  public initializeData(form?: FormGroup) {\r\n    this.entity = new Projeto();\r\n    this.loadData(this.entity, this.form);\r\n  }\r\n\r\n  public async saveData(form?: IIndexable) {\r\n    await this.grid?.confirm();\r\n    return this.entity!;\r\n  }\r\n\r\n  public get randomColor(): string {\r\n    return this.lookup.CORES[this.items.length % this.lookup.CORES.length].color;\r\n  }\r\n\r\n  public async addFase() {\r\n    return {\r\n      id: \"NEW\",\r\n      nome: \"\",\r\n      descricao: \"\",\r\n      cor: this.randomColor,\r\n      data_inicio: null,\r\n      data_fim: null\r\n    } as IIndexable;\r\n  }\r\n\r\n  public async loadFase(form: FormGroup, row: any) {\r\n    form.controls.nome.setValue(row.nome);\r\n    form.controls.descricao.setValue(row.descricao);\r\n    form.controls.cor.setValue(row.cor);\r\n    form.controls.data_inicio.setValue(row.data_inicio);\r\n    form.controls.data_fim.setValue(row.data_fim);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async removeFase(row: any) {\r\n    return true;\r\n  }\r\n\r\n  public async saveFase(form: FormGroup, row: any) {\r\n    let result = undefined;\r\n    this.form!.markAllAsTouched();\r\n    if(this.form!.valid) {\r\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\r\n      row.nome = form.controls.nome.value;\r\n      row.descricao = form.controls.descricao.value;\r\n      row.cor = form.controls.cor.value;\r\n      row.data_inicio = form.controls.data_inicio.value;\r\n      row.data_fim = form.controls.data_fim.value;\r\n      result = row;\r\n      this.cdRef.detectChanges();\r\n    }\r\n    return result;\r\n  }\r\n\r\n}\r\n\r\n","<editable-form noButtons [form]=\"form!\" [disabled]=\"formDisabled\">\r\n    <div class=\"row\">\r\n        <grid [items]=\"items\" [form]=\"form!\" [hasDelete]=\"true\" [add]=\"addFase.bind(this)\" [load]=\"loadFase.bind(this)\" [remove]=\"removeFase.bind(this)\" [save]=\"saveFase.bind(this)\" editable>\r\n            <columns>\r\n                <column title=\"Nome\" [template]=\"faseNome\" [editTemplate]=\"editFaseNome\">\r\n                    <ng-template let-row=\"row\" #faseNome>\r\n                        <badge [color]=\"row.cor\" [label]=\"row.nome\"></badge>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editFaseNome>\r\n                        <div class=\"row\">\r\n                            <input-text [size]=\"8\" controlName=\"nome\" [control]=\"form!.controls.nome\" [attr.maxlength]=250></input-text>\r\n                            <input-color [size]=\"4\" controlName=\"cor\" [control]=\"form!.controls.cor\"></input-color>\r\n                        </div>\r\n                    </ng-template>\r\n                </column>\r\n                <column title=\"Descrição\" [template]=\"faseDescricao\" [editTemplate]=\"editFaseDescricao\">\r\n                    <ng-template let-row=\"row\" #faseDescricao>\r\n                        <small class=\"d-block\">{{row.descricao || \"\"}}</small>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editFaseDescricao>\r\n                        <input-text [size]=\"12\" controlName=\"descricao\" [control]=\"form!.controls.descricao\" [attr.maxlength]=250></input-text>\r\n                    </ng-template>\r\n                </column>\r\n                <column title=\"Início\" [template]=\"faseInicio\" [editTemplate]=\"editFaseInicio\">\r\n                    <ng-template let-row=\"row\" #faseInicio>\r\n                        <strong class=\"d-block\">{{util.getDateFormatted(row.data_inicio)}}</strong>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editFaseInicio>\r\n                        <input-datetime date [size]=\"12\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\"></input-datetime>\r\n                    </ng-template>\r\n                </column>\r\n                <column title=\"Término\" [template]=\"faseTermino\" [editTemplate]=\"editFaseTermino\">\r\n                    <ng-template let-row=\"row\" #faseTermino>\r\n                        <strong class=\"d-block\">{{util.getDateFormatted(row.data_fim)}}</strong>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editFaseTermino>\r\n                        <input-datetime date [size]=\"12\" controlName=\"data_fim\" [control]=\"form!.controls.data_fim\"></input-datetime>\r\n                    </ng-template>\r\n                </column>\r\n                <column type=\"options\"></column>\r\n            </columns>\r\n        </grid>\r\n    </div>\r\n</editable-form>","import { ChangeDetectorRef, Component, ContentChild, ContentChildren, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { Projeto } from 'src/app/models/projeto.model';\r\nimport { ProjetoDaoService } from 'src/app/dao/projeto-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { UnitWorkload } from 'src/app/components/input/input-workload/input-workload.component';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { ProjetoService } from '../projeto.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { CalendarExpedienteComponent } from 'src/app/modules/uteis/calendar-expediente/calendar-expediente.component';\r\n\r\n@Component({\r\n  selector: 'projeto-form-principal',\r\n  templateUrl: './projeto-form-principal.component.html',\r\n  styleUrls: ['./projeto-form-principal.component.scss']\r\n})\r\nexport class ProjetoFormPrincipalComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(\"escritorio\", { static: false }) public escritorio?: InputSearchComponent;\r\n  @ViewChild(\"expediente\", { static: false }) public expediente?: CalendarExpedienteComponent;\r\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n  @Input() set entity(value: Projeto | undefined) { super.entity = value; } get entity(): Projeto | undefined { return super.entity; }\r\n  @Input() cdRef: ChangeDetectorRef;\r\n\r\n  public projetoService: ProjetoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n\r\n  private _fases: LookupItem[] = [];\r\n  \r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<ProjetoDaoService>(ProjetoDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.projetoService = injector.get<ProjetoService>(ProjetoService);\r\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\r\n    this.form = this.fh.FormBuilder({\r\n      numero: {default: \"\"},\r\n      nome: {default: \"\"},\r\n      status: {default: \"PLANEJADO\"},\r\n      descricao: {default: \"\"},\r\n      finalidade: {default: \"\"},\r\n      data_inicio: {default: new Date()},\r\n      data_fim: {default: new Date()},\r\n      duracao: {default: 0},\r\n      data_inicio_baseline: {default: new Date()},\r\n      data_fim_baseline: {default: new Date()},\r\n      progresso: {default: 0},\r\n      tempo_corrido: {default: false},\r\n      usa_horas: {default: false},\r\n      usa_baseline: {default: true},\r\n      calcula_intervalo: {default: false},\r\n      soma_progresso_filhos: {default: true},\r\n      agrupador: {default: false},\r\n      calcula_custos: {default: true},\r\n      aloca_proprios_recursos: {default: true},\r\n      soma_recusos_alocados_filhos: {default: true},\r\n      custos_proprios: {default: true},\r\n      soma_custos_filhos: {default: true},\r\n      fase_id: {default: \"\"},\r\n      usar_escritorio: {default: true},\r\n      escritorio_id: {default: \"\"}\r\n    }, this.cdRef, this.validate);\r\n    this.join = [\"recursos\", \"tarefas\", \"alocacoes\", \"regras\", \"fase\"];\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    let form = this.form?.value || {};\r\n    if((controlName == \"nome\" && !control.value?.length) ||\r\n      (form.usa_baseline && [\"data_inicio_baseline\", \"data_fim_baseline\"].includes(controlName) && !this.util.isDataValid(control.value)) || \r\n      ([\"data_inicio\", \"data_fim\"].includes(controlName) && !this.util.isDataValid(control.value))) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    return result;\r\n  }\r\n  \r\n  public async loadData(entity: IIndexable, form?: FormGroup) {\r\n    let formValue = Object.assign({}, this.form!.value);\r\n    let escritorio = (entity as Projeto).alocacoes?.find(x => !!x.regras?.find(y => y.regra?.perfis?.includes(\"ESCRITORIO\")));\r\n    await Promise.all([\r\n      this.escritorio!.loadSearch(escritorio?.recurso?.unidade || escritorio?.recurso?.unidade_id)\r\n    ]);\r\n    form?.controls.usar_escritorio.setValue(!!escritorio);\r\n    this.form!.patchValue(this.util.fillForm(formValue, entity));\r\n  }\r\n\r\n  public initializeData(form?: FormGroup) {\r\n    this.entity = new Projeto();\r\n    this.loadData(this.entity, this.form);\r\n  }\r\n\r\n  public async saveData(form?: IIndexable) {\r\n    return this.util.fill(this.entity, this.form!.value);\r\n  }\r\n\r\n  public get fases(): LookupItem[] {\r\n    let fases = (this.entity?.fases || []).filter(x => x.id != \"NEW\").map(x => Object.assign({}, {key: x.id, value: x.nome}));\r\n    if(JSON.stringify(fases) != JSON.stringify(this._fases)) this._fases = fases;\r\n    return this._fases;\r\n  }\r\n\r\n  public get unitDuracao(): \"hour\" | \"day\" {\r\n    return this.form?.controls.usa_horas.value ? \"hour\" : \"day\";\r\n  }\r\n\r\n  public onUnitDuracaoChange(unit: UnitWorkload) {\r\n    this.form?.controls.usa_horas.setValue(unit == \"hour\");\r\n    this.recalcular();\r\n  }\r\n\r\n  public onIntervaloAutomaticoChange(event: Event) {\r\n    this.recalcular();\r\n  }\r\n\r\n  public recalcular() {\r\n    this.saveData();\r\n    this.projetoService.recalcular(this.entity!);\r\n    this.loadData(this.entity!);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onUsaBaselineChange() {\r\n    if(this.form!.controls.usa_baseline.value) {\r\n      if(!this.util.isDataValid(this.form!.controls.data_inicio_baseline.value)) this.form!.controls.data_inicio_baseline.setValue(this.form!.controls.data_inicio.value);\r\n      if(!this.util.isDataValid(this.form!.controls.data_fim_baseline.value)) this.form!.controls.data_fim_baseline.setValue(this.form!.controls.data_fim.value);\r\n    } else {\r\n      this.form!.controls.data_inicio_baseline.setValue(null);\r\n      this.form!.controls.data_fim_baseline.setValue(null);\r\n    }\r\n  }\r\n\r\n  public get intervaloAutomatico(): string | undefined {\r\n    return this.form?.controls.calcula_intervalo.value ? \"true\" : undefined;\r\n  }\r\n\r\n  public get usaBaseline(): string | undefined {\r\n    return this.form!.controls.usa_baseline.value ? undefined : \"true\";\r\n  }\r\n\r\n  public get usaHoras(): string | undefined {\r\n    return this.form!.controls.usa_horas.value ? undefined : \"true\";\r\n  }\r\n\r\n  public get progressoAutomatico(): string | undefined {\r\n    return this.form!.controls.soma_progresso_filhos.value ? \"true\" : undefined;\r\n  }\r\n\r\n}\r\n","<editable-form [form]=\"form!\" [noButtons]=\"!entity_id ? 'true' : undefined\" [disabled]=\"formDisabled\" initialFocus=\"nome\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div class=\"row\">\r\n        <input-text [size]=\"6\" label=\"Nome\" controlName=\"nome\" labelInfo=\"Nome do projeto\" [attr.maxlength]=250 required></input-text>\r\n        <input-select [size]=\"3\" label=\"Fase\" icon=\"bi bi-puzzle\" controlName=\"fase_id\" [items]=\"fases\"></input-select>\r\n        <input-select [size]=\"3\" label=\"Status\" icon=\"bi bi-arrow-up-right-circle\" controlName=\"status\" [items]=\"lookup.PROJETO_STATUS\"></input-select>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-textarea [size]=\"6\" [rows]=\"2\" label=\"Descrição\" controlName=\"descricao\"></input-textarea>\r\n        <input-textarea [size]=\"6\" [rows]=\"2\" label=\"Finalidade\" controlName=\"finalidade\"></input-textarea>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-4\">\r\n            <separator title=\"Usa Baseline (planejado)?\" [control]=\"form!.controls.usa_baseline\" (change)=\"onUsaBaselineChange()\" labelInfo=\"Se o utiliza baseline no projeto (planejamento inicial)\">\r\n                <input-datetime [date]=\"usaHoras\" [size]=\"6\" noIcon label=\"Início planejado\" [disabled]=\"usaBaseline\" icon=\"bi bi-calendar-date\" controlName=\"data_inicio_baseline\"></input-datetime>\r\n                <input-datetime [date]=\"usaHoras\" [size]=\"6\" noIcon label=\"Término planejado\" [disabled]=\"usaBaseline\" icon=\"bi bi-calendar-date\" controlName=\"data_fim_baseline\"></input-datetime>\r\n            </separator>\r\n        </div>\r\n        <div class=\"col-md-6\">\r\n            <!--input-switch label=\"Auto\" [size]=\"1\" controlName=\"calcula_intervalo\"  ></input-switch//-->\r\n            <separator title=\"Cronograma automático?\" transparent [control]=\"form!.controls.calcula_intervalo\" (change)=\"onIntervaloAutomaticoChange($event)\" labelInfo=\"Se o período do projeto será calculado automaticamente pelas tarefas\">\r\n                <input-datetime [date]=\"usaHoras\" [size]=\"4\" noIcon label=\"Início real\" [disabled]=\"intervaloAutomatico\" icon=\"bi bi-calendar-date\" controlName=\"data_inicio\"></input-datetime>\r\n                <input-datetime [date]=\"usaHoras\" [size]=\"4\" noIcon label=\"Término real\" [disabled]=\"intervaloAutomatico\" icon=\"bi bi-calendar-date\" controlName=\"data_fim\"></input-datetime>\r\n                <input-workload daysOrHours [size]=\"4\" [unit]=\"unitDuracao\" [disabled]=\"intervaloAutomatico\" label=\"Duração\" controlName=\"duracao\" [control]=\"form!.controls.carga_horaria\" [unitChange]=\"onUnitDuracaoChange.bind(this)\" labelInfo=\"Se o projeto será calculado em horas ou dias\"></input-workload>\r\n            </separator>\r\n        </div>\r\n        <div class=\"col-md-2\">\r\n            <separator title=\"Automático?\" [control]=\"form!.controls.soma_progresso_filhos\" (change)=\"onIntervaloAutomaticoChange($event)\" labelInfo=\"Se o progresso será calculado automaticamente pela soma dos progressos das tarefas\">\r\n                <input-number [decimals]=\"2\" [size]=\"12\" label=\"Progresso\" sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso\" [disabled]=\"progressoAutomatico\" labelInfo=\"Progresso do projeto (% Concluído)\"></input-number>\r\n            </separator>\r\n        </div>\r\n    </div>\r\n    <separator title=\"Configurações\" collapse transparent [collapsed]=\"true\">\r\n        <div class=\"row\">\r\n            <input-switch label=\"Tempo corrido\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"tempo_corrido\" labelInfo=\"Se o calculo do tempo é contínuo, sem considerar fins de semana e feriados\"></input-switch>\r\n            <input-switch label=\"Usa horas\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"usa_horas\" labelInfo=\"Se utiliza as datas com horas (todos os calculos mudam de dias para horas)\"></input-switch>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-switch label=\"Intervalo automático\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"calcula_intervalo\" labelInfo=\"Se o intervalo entre a data de inicio e término são calculados automaticamente utilizando as tarefas\"></input-switch>\r\n            <input-switch label=\"Progresso automático\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"soma_progresso_filhos\" labelInfo=\"Se o progresso é calculado automaticamente pela soma dos processos das tarefas\"></input-switch>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-switch label=\"Agrupador\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"agrupador\" labelInfo=\"Se o projeto agrupa as tarefas dentro dele\"></input-switch>\r\n            <input-switch label=\"Usa custo\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"calcula_custos\" labelInfo=\"Se o projeto gerencia custos\"></input-switch>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-switch label=\"Aloca recursos no projeto\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"aloca_proprios_recursos\" labelInfo=\"Se o projeto aloca recursos nele próprio, independente das tarefas\"></input-switch>\r\n            <input-switch label=\"Soma alocações automático\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"soma_recusos_alocados_filhos\" labelInfo=\"Se os recursos das tarefas totalizam no projeto\"></input-switch>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-switch label=\"Possui custos no projeto\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"custos_proprios\" labelInfo=\"Se o projeto possui custos próprios, independente das tarefas\"></input-switch>\r\n            <input-switch label=\"Soma custos automático\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"soma_custos_filhos\" labelInfo=\"Se os custos das tarefas totalizam no projeto\"></input-switch>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-switch label=\"Utiliza baseline\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"usa_baseline\" labelInfo=\"Utiliza baseline (planejamento inicial)\"></input-switch>\r\n        </div>\r\n    </separator>\r\n    <separator *ngIf=\"!form?.controls?.tempo_corrido?.value\" title=\"Expediente\" collapse transparent [collapsed]=\"true\">\r\n        <div class=\"row\">\r\n            <input-switch label=\"Usar do escritório:\" labelPosition=\"right\" [size]=\"3\" controlName=\"usar_escritorio\" labelInfo=\"Aloca recursos no projeto\"></input-switch>\r\n            <input-search [size]=\"9\" #escritorio hostClass=\"p-0\" label icon disabled controlName=\"escritorio_id\" [dao]=\"unidadeDao\"></input-search>\r\n        </div>\r\n        <calendar-expediente #expediente></calendar-expediente>\r\n    </separator>\r\n</editable-form>\r\n\r\n<!--\r\n\r\nNumero   Nome                                                   Status\r\nXXXXXXX  XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX  XXXXXXXXXXXXX\r\nDescricao\r\nXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\nXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\nFinalidade\r\nXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n-- Cronograma e progresso ----------------------------------------------------\r\nInicio              Termino            Duração      Progresso\r\nxx/xx/xxxxx xx:xx   xx/xx/xxxx xx:xx   [ xxxxx]    [xxx,xx %]\r\n-- Configurações -------------------------------------------------------------\r\n               + Tempo corrido: ([]  )                   + Usa horas: ([]  )\r\n        + Intervalo automático: ([]  )        + Progresso automático: ([]  )\r\n                   + Agrupador: ([]  )                   + Usa custo: ([]  )\r\n   + Aloca recursos no projeto: ([]  )   + Soma alocações automático: ([]  )\r\n    + Possui custos no projeto: ([]  )      + Soma custos automático: ([]  )\r\n\r\n-->","import { ChangeDetectorRef, Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { MaterialServicoDaoService } from 'src/app/dao/material-servico-dao.service';\r\nimport { ProjetoDaoService } from 'src/app/dao/projeto-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { ProjetoFase } from 'src/app/models/projeto-fase.model';\r\nimport { Projeto } from 'src/app/models/projeto.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { ProjetoService } from '../projeto.service';\r\n\r\n@Component({\r\n  selector: 'projeto-form-recursos',\r\n  templateUrl: './projeto-form-recursos.component.html',\r\n  styleUrls: ['./projeto-form-recursos.component.scss']\r\n})\r\nexport class ProjetoFormRecursosComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild(\"usuario\", { static: false }) public usuario?: InputSearchComponent;\r\n  @ViewChild(\"unidade\", { static: false }) public unidade?: InputSearchComponent;\r\n  @ViewChild(\"materialServico\", { static: false }) public materialServico?: InputSearchComponent;\r\n  @ViewChild(\"tipoRecurso\", { static: false }) public tipoRecurso?: InputSelectComponent;\r\n  @Input() cdRef: ChangeDetectorRef;\r\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n  @Input() set entity(value: Projeto | undefined) { super.entity = value; } get entity(): Projeto | undefined { return super.entity; }\r\n\r\n  public get items(): ProjetoFase[] {\r\n    if(!this.gridControl.value) this.gridControl.setValue(new Projeto());\r\n    if(!this.gridControl.value.recursos) this.gridControl.value.recursos = [];\r\n    return this.gridControl.value.recursos;\r\n  }\r\n\r\n  public usuarioDao: UsuarioDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public materialServicoDao: MaterialServicoDaoService;\r\n  public projetoService: ProjetoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\r\n    this.dao = injector.get<ProjetoDaoService>(ProjetoDaoService);\r\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.materialServicoDao = injector.get<MaterialServicoDaoService>(MaterialServicoDaoService);\r\n    this.projetoService = injector.get<ProjetoService>(ProjetoService);\r\n    this.form = this.fh.FormBuilder({\r\n      nome: {default: \"\"},\r\n      tipo: {default: \"MATERIAL\"},\r\n      unidade_medida: {default: \"UNIDADE\"},\r\n      material_servico_id: {default: null},\r\n      usuario_id: {default: null},\r\n      unidade_id: {default: null},\r\n      valor: {default: 0}\r\n    }, this.cdRef, this.validate);\r\n    this.groupBy = [{field: \"tipo\", label: \"Tipo\"}];\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    const tipo = this.form?.controls.tipo.value;\r\n    if(tipo == \"HUMANO\" && controlName == \"usuario_id\" && !control.value?.length) return \"Obrigatório\";\r\n    if(tipo == \"DEPARTAMENTO\" && controlName == \"unidade_id\" && !control.value?.length) return \"Obrigatório\";\r\n    if(controlName == \"material_servico_id\" && this.materialServico?.selectedItem && this.materialServico?.selectedItem!.entity.tipo != tipo) return \"Tipo diferente\";\r\n    return null;\r\n  }\r\n\r\n  public loadData(entity: IIndexable, form?: FormGroup) {\r\n    super.loadData(entity, form);\r\n  }\r\n\r\n  public initializeData(form?: FormGroup) {\r\n    this.entity = new Projeto();\r\n    this.loadData(this.entity, this.form);\r\n  }\r\n\r\n  public async saveData(form?: IIndexable) {\r\n    await this.grid?.confirm();\r\n    return this.entity!;\r\n  }\r\n\r\n  public onTipoRecursoChange() {\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public isHumanoDepartamento(tipo: string | undefined, tipos: string[] = ['HUMANO', 'DEPARTAMENTO']): boolean {\r\n    return tipos.includes(tipo || '');\r\n  }\r\n\r\n  public isMaterialServico(tipo: string | undefined, tipos: string[] = ['MATERIAL', 'SERVICO']): boolean {\r\n    return tipos.includes(tipo || '');\r\n  }\r\n\r\n  public async addRecurso() {\r\n    return {\r\n      id: \"NEW\",\r\n      nome: \"\",\r\n      tipo: \"MATERIAL\",\r\n      unidade_medida: \"UNIDADE\",\r\n      material_servico_id: null,\r\n      usuario_id: null,\r\n      unidade_id: null,\r\n      valor: 0\r\n    } as IIndexable;\r\n  }\r\n\r\n  public async loadRecurso(form: FormGroup, row: any) {\r\n    form.controls.nome.setValue(row.nome);\r\n    form.controls.tipo.setValue(row.tipo);\r\n    form.controls.unidade_medida.setValue(row.unidade_medida);\r\n    form.controls.material_servico_id.setValue(row.material_servico_id);\r\n    form.controls.usuario_id.setValue(row.usuario_id);\r\n    form.controls.unidade_id.setValue(row.unidade_id);\r\n    form.controls.valor.setValue(row.valor);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async removeRecurso(row: any) {\r\n    return true;\r\n  }\r\n\r\n  public async saveRecurso(form: FormGroup, row: any) {\r\n    let result = undefined;\r\n    this.form!.markAllAsTouched();\r\n    if(this.form!.valid) {\r\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\r\n      row.nome = form.controls.nome.value;\r\n      row.tipo = form.controls.tipo.value;\r\n      row.unidade_medida = form.controls.unidade_medida.value;\r\n      row.material_servico_id = [\"MATERIAL\", \"SERVICO\"].includes(form.controls.tipo.value) ? form.controls.material_servico_id.value : null;\r\n      row.usuario_id = form.controls.tipo.value == \"HUMANO\" ? form.controls.usuario_id.value : null;\r\n      row.unidade_id = form.controls.tipo.value == \"DEPARTAMENTO\" ? form.controls.unidade_id.value : null;\r\n      row.valor = form.controls.valor.value;\r\n      row.usuario = this.usuario?.selectedEntity;\r\n      row.unidade = this.unidade?.selectedEntity;\r\n      row.material_servico = this.materialServico?.selectedEntity;\r\n      result = row;\r\n      this.cdRef.detectChanges();\r\n    }\r\n    return result;\r\n  }\r\n\r\n}\r\n\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\">\r\n    <div class=\"row\">\r\n        <grid [items]=\"items\" [form]=\"form!\" [hasDelete]=\"true\" [groupTemplate]=\"groupRecurso\" [groupBy]=\"groupBy\" [add]=\"addRecurso.bind(this)\" [load]=\"loadRecurso.bind(this)\" [remove]=\"removeRecurso.bind(this)\" [save]=\"saveRecurso.bind(this)\" editable>\r\n            <ng-template let-group=\"group\" #groupRecurso>\r\n                <strong *ngIf=\"group?.length\"><i [class]=\"lookup.getIcon(lookup.PROJETO_TIPO_RECURSOS, group[0].value)\"></i> {{lookup.getValue(lookup.PROJETO_TIPO_RECURSOS, group[0].value)}}</strong>\r\n            </ng-template>\r\n            <columns>\r\n                <column title=\"Tipo\" [template]=\"recursoTipo\" [editTemplate]=\"editRecursoTipo\">\r\n                    <ng-template let-row=\"row\" #recursoTipo>\r\n                        <badge [icon]=\"lookup.getIcon(lookup.PROJETO_TIPO_RECURSOS, row.tipo)\" [label]=\"lookup.getValue(lookup.PROJETO_TIPO_RECURSOS, row.tipo)\" [color]=\"lookup.getColor(lookup.PROJETO_TIPO_RECURSOS, row.tipo)\"></badge>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editRecursoTipo>\r\n                        <input-select [size]=\"12\" #tipoRecurso [disabled]=\"row.id != 'NEW' ? 'true' : undefined\" controlName=\"tipo\" [control]=\"form!.controls.tipo\" [items]=\"lookup.PROJETO_TIPO_RECURSOS\" (change)=\"onTipoRecursoChange()\"></input-select>\r\n                    </ng-template>\r\n                </column>\r\n                <column title=\"Recurso\" [template]=\"recursoNomeUsuarioUnidade\" [editTemplate]=\"editRecursoNomeUsuarioUnidade\">\r\n                    <ng-template let-row=\"row\" #recursoNomeUsuarioUnidade>\r\n                        <profile-picture [url]=\"projetoService.getRecursoPicture(row.recurso)\" [hint]=\"row.descricao\"></profile-picture>\r\n                        <small>{{row.material_servico?.descricao || row.usuario?.nome || row.unidade?.nome || row.nome}}</small>\r\n                        <small *ngIf=\"row.material_servico\"><br>{{row.nome}}</small>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editRecursoNomeUsuarioUnidade>\r\n                        <div class=\"row\">\r\n                            <input-search *ngIf=\"isHumanoDepartamento(tipoRecurso?.value, ['HUMANO'])\" label icon hostClass=\"p-0\" [size]=\"12\" #usuario controlName=\"usuario_id\" [dao]=\"usuarioDao\"></input-search>\r\n                            <input-search *ngIf=\"isHumanoDepartamento(tipoRecurso?.value, ['DEPARTAMENTO'])\" label icon hostClass=\"p-0\" [size]=\"12\" #unidade controlName=\"unidade_id\" [dao]=\"unidadeDao\" ></input-search>\r\n                            <input-search *ngIf=\"isMaterialServico(tipoRecurso?.value)\" hostClass=\"p-0\" [size]=\"6\" label icon #materialServico controlName=\"material_servico_id\" [dao]=\"materialServicoDao\" [where]=\"[['tipo', '==', tipoRecurso?.value]]\"></input-search>\r\n                            <input-text *ngIf=\"!isHumanoDepartamento(tipoRecurso?.value)\" hostClass=\"p-0\" prefix=\"Descrição\" [size]=\"isMaterialServico(tipoRecurso?.value) ? 6 : 12\" controlName=\"nome\" [control]=\"form!.controls.nome\" [attr.maxlength]=250></input-text>\r\n                        </div>\r\n                    </ng-template>\r\n                </column>\r\n                <column title=\"Un. medida\" [width]=\"130\" [template]=\"recursoUnidade\" [editTemplate]=\"editRecursoUnidade\">\r\n                    <ng-template let-row=\"row\" #recursoUnidade>\r\n                        <badge icon=\"bi bi-rulers\" [label]=\"lookup.getValue(lookup.MATERIAL_SERVICO_UNIDADE, row.unidade_medida)\" color=\"warning\"></badge>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editRecursoUnidade>\r\n                        <input-select [size]=\"12\" controlName=\"unidade_medida\" [control]=\"form!.controls.unidade_medida\" [items]=\"lookup.MATERIAL_SERVICO_UNIDADE\"></input-select>\r\n                    </ng-template>\r\n                </column>\r\n                <column title=\"Valor R$\" [align]=\"'right'\" [width]=\"100\" [template]=\"recursoValor\" [editTemplate]=\"editRecursoValor\">\r\n                    <ng-template let-row=\"row\" #recursoValor>\r\n                        <div class=\"text-end\">{{util.formatDecimal(row.valor)}}</div>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editRecursoValor>\r\n                        <input-number [size]=\"12\" [decimals]=\"2\" controlName=\"valor\" [control]=\"form!.controls.valor\"></input-number>\r\n                    </ng-template>\r\n                </column>\r\n                <column type=\"options\"></column>\r\n            </columns>\r\n        </grid>\r\n    </div>\r\n</editable-form>\r\n\r\n<!--\r\n\r\nTipo         Nome                   UN               Valor      [ + ]\r\n-----------+-----------------------+-----------+----------+---------+\r\n(i) Humano   Usuario/Material/UORG   Metro        12121,00  [ED] [EX]\r\n(i) Humano   Usuario/Material/UORG   Metro        12121,00  [ED] [EX]\r\n(i) Humano   Usuario/Material/UORG   Metro        12121,00  [ED] [EX]\r\n(i) Humano   Usuario/Material/UORG   Metro        12121,00  [ED] [EX]\r\n(i) Humano   Usuario/Material/UORG   Metro        12121,00  [ED] [EX]\r\n\r\n[Select [v]] [Search/text     [P]]  [Select [v]] [  111,00]\r\n\r\n-->","import { ChangeDetectorRef, Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ProjetoDaoService } from 'src/app/dao/projeto-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { ProjetoFase } from 'src/app/models/projeto-fase.model';\r\nimport { Projeto } from 'src/app/models/projeto.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\n\r\n@Component({\r\n  selector: 'projeto-form-regras',\r\n  templateUrl: './projeto-form-regras.component.html',\r\n  styleUrls: ['./projeto-form-regras.component.scss']\r\n})\r\nexport class ProjetoFormRegrasComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @Input() cdRef: ChangeDetectorRef;\r\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n  @Input() set entity(value: Projeto | undefined) { super.entity = value; } get entity(): Projeto | undefined { return super.entity; }\r\n\r\n  public get items(): ProjetoFase[] {\r\n    if(!this.gridControl.value) this.gridControl.setValue(new Projeto());\r\n    if(!this.gridControl.value.regras) this.gridControl.value.regras = [];\r\n    return this.gridControl.value.regras;\r\n  }\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\r\n    this.dao = injector.get<ProjetoDaoService>(ProjetoDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      nome: {default: \"\"},\r\n      perfil_acesso: {default: false},\r\n      perfil_gerente: {default: false},\r\n      perfil_escritorio: {default: false},\r\n      tipo_recurso: {default: \"MATERIAL\"}\r\n    }, this.cdRef, this.validate);\r\n    this.groupBy = [{field: \"tipo_recurso\", label: \"Tipo do recurso\"}];\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    if(controlName == \"nome\" && !control.value?.length) return \"Obrigatório\";\r\n    return null;\r\n  }\r\n\r\n  public loadData(entity: IIndexable, form?: FormGroup) {\r\n    super.loadData(entity, form);\r\n  }\r\n\r\n  public initializeData(form?: FormGroup) {\r\n    this.entity = new Projeto();\r\n    this.loadData(this.entity, this.form);\r\n  }\r\n\r\n  public async saveData(form?: IIndexable) {\r\n    await this.grid?.confirm();\r\n    return this.entity!;\r\n  }\r\n\r\n  public onTipoRecursoChange() {\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async addRegra() {\r\n    return {\r\n      id: \"NEW\",\r\n      nome: \"\",\r\n      perfis: [],\r\n      tipo_recurso: \"MATERIAL\"\r\n    } as IIndexable;\r\n  }\r\n\r\n  public async loadRegra(form: FormGroup, row: any) {\r\n    form.controls.nome.setValue(row.nome);\r\n    form.controls.tipo_recurso.setValue(row.tipo_recurso);\r\n    form.controls.perfil_acesso.setValue((row.perfis || []).includes(\"ACESSAR\"));\r\n    form.controls.perfil_gerente.setValue((row.perfis || []).includes(\"GERENTE\"));\r\n    form.controls.perfil_escritorio.setValue((row.perfis || []).includes(\"ESCRITORIO\"));\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async removeRegra(row: any) {\r\n    return true;\r\n  }\r\n\r\n  public async saveRegra(form: FormGroup, row: any) {\r\n    let result = undefined;\r\n    this.form!.markAllAsTouched();\r\n    if(this.form!.valid) {\r\n      let perfis = [];\r\n      let tipo = form.controls.tipo_recurso.value;\r\n      if([\"HUMANO\", \"DEPARTAMENTO\"].includes(tipo) && form.controls.perfil_acesso.value) perfis.push(\"ACESSAR\");\r\n      if(tipo == \"HUMANO\" && form.controls.perfil_gerente.value) perfis.push(\"GERENTE\");\r\n      if(tipo == \"DEPARTAMENTO\" && form.controls.perfil_escritorio.value) perfis.push(\"DEPARTAMENTO\");\r\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\r\n      row.nome = form.controls.nome.value;\r\n      row.tipo_recurso = tipo;\r\n      row.perfis = perfis;\r\n      result = row;\r\n      this.cdRef.detectChanges();\r\n    }\r\n    return result;\r\n  }\r\n\r\n}\r\n\r\n\r\n","<editable-form noButtons [form]=\"form!\" [disabled]=\"formDisabled\">\r\n    <div class=\"row\">\r\n        <grid [items]=\"items\" [form]=\"form!\" [hasDelete]=\"true\" [groupTemplate]=\"groupRecurso\" [groupBy]=\"groupBy\" [add]=\"addRegra.bind(this)\" [load]=\"loadRegra.bind(this)\" [remove]=\"removeRegra.bind(this)\" [save]=\"saveRegra.bind(this)\" editable>\r\n            <ng-template let-group=\"group\" #groupRecurso>\r\n                <strong *ngIf=\"group?.length\"><i [class]=\"lookup.getIcon(lookup.PROJETO_TIPO_RECURSOS, group[0].value)\"></i> {{lookup.getValue(lookup.PROJETO_TIPO_RECURSOS, group[0].value)}}</strong>\r\n            </ng-template>\r\n            <columns>\r\n                <column title=\"Nome\" [template]=\"regraNome\" [editTemplate]=\"editRegraNome\">\r\n                    <ng-template let-row=\"row\" #regraNome>\r\n                        <small>{{row.nome}}</small>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editRegraNome>\r\n                        <input-text [size]=\"12\" controlName=\"nome\" [control]=\"form!.controls.nome\" [attr.maxlength]=250></input-text>\r\n                    </ng-template>\r\n                </column>\r\n                <column title=\"Tipo do recurso\" [width]=\"250\" [template]=\"regraRecursoTipo\" [editTemplate]=\"editRegraRecursoTipo\">\r\n                    <ng-template let-row=\"row\" #regraRecursoTipo>\r\n                        <badge [icon]=\"lookup.getIcon(lookup.PROJETO_TIPO_RECURSOS, row.tipo_recurso)\" [label]=\"lookup.getValue(lookup.PROJETO_TIPO_RECURSOS, row.tipo_recurso)\" [color]=\"lookup.getColor(lookup.PROJETO_TIPO_RECURSOS, row.tipo_recurso)\"></badge>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editRegraRecursoTipo>\r\n                        <input-select [size]=\"12\" [disabled]=\"row.id != 'NEW' ? 'true' : undefined\" controlName=\"tipo_recurso\" [control]=\"form!.controls.tipo_recurso\" [items]=\"lookup.PROJETO_TIPO_RECURSOS\" (change)=\"onTipoRecursoChange()\"></input-select>\r\n                    </ng-template>\r\n                </column>\r\n                <column title=\"Perfis\" [template]=\"regraPerfis\" [editTemplate]=\"editRegraPerfis\">\r\n                    <ng-template let-row=\"row\" #regraPerfis>\r\n                        <span class=\"text-wrap multilines-badges\">\r\n                            <badge *ngFor=\"let perfil of row.perfis\" [icon]=\"lookup.getIcon(lookup.PROJETO_PERFIS, perfil)\" [label]=\"lookup.getValue(lookup.PROJETO_PERFIS, perfil)\"></badge>\r\n                        </span>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editRegraPerfis>\r\n                        <ng-container *ngIf=\"form!.controls.tipo_recurso!.value == 'HUMANO'\">\r\n                            <input-switch [size]=\"12\" [label]=\"'Acesso ao '+ lex.translate('projeto')\" scale=\"small\" labelPosition=\"right\" controlName=\"perfil_acesso\" [control]=\"form!.controls.perfil_acesso\"></input-switch>\r\n                            <input-switch [size]=\"12\" [label]=\"'Gerente de '+ lex.translate('projeto')\" scale=\"small\" labelPosition=\"right\" controlName=\"perfil_gerente\" [control]=\"form!.controls.perfil_gerente\"></input-switch>\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"form!.controls.tipo_recurso!.value == 'DEPARTAMENTO'\">\r\n                            <input-switch [size]=\"12\" [label]=\"'Acesso ao '+ lex.translate('projeto')\" scale=\"small\" labelPosition=\"right\" controlName=\"perfil_acesso\" [control]=\"form!.controls.perfil_acesso\"></input-switch>\r\n                            <input-switch [size]=\"12\" [label]=\"'Escritório de '+ lex.translate('projeto')\" scale=\"small\" labelPosition=\"right\" controlName=\"perfil_escritorio\" [control]=\"form!.controls.perfil_escritorio\"></input-switch>\r\n                        </ng-container>\r\n                    </ng-template>\r\n                </column>\r\n                <column type=\"options\"></column>\r\n            </columns>\r\n        </grid>\r\n    </div>\r\n</editable-form>\r\n<!--\r\n\r\nNome                                                   Tipo recurso     [ + ]\r\n------------------------------------------------------+-------------+---------\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxx  [Ed] [Ex]\r\n\r\n[Text                                                ] [Humanos  [v]]\r\n\r\nTipo recurso: Humano - Departamento - Material - Servico - Custo\r\n-->","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { ProjetoDaoService } from 'src/app/dao/projeto-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { ProjetoAlocacaoRegra } from 'src/app/models/projeto-alocacao-regra.model';\r\nimport { ProjetoAlocacao } from 'src/app/models/projeto-alocacao.model';\r\nimport { ProjetoRecurso } from 'src/app/models/projeto-recurso.model';\r\nimport { ProjetoRegra } from 'src/app/models/projeto-regra.model';\r\nimport { Projeto } from 'src/app/models/projeto.model';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { ComentariosComponent } from 'src/app/modules/uteis/comentarios/comentarios.component';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { ProjetoFormAlocacoesComponent } from '../projeto-form-alocacoes/projeto-form-alocacoes.component';\r\nimport { ProjetoFormFasesComponent } from '../projeto-form-fases/projeto-form-fases.component';\r\nimport { ProjetoFormPrincipalComponent } from '../projeto-form-principal/projeto-form-principal.component';\r\nimport { ProjetoFormRecursosComponent } from '../projeto-form-recursos/projeto-form-recursos.component';\r\nimport { ProjetoFormRegrasComponent } from '../projeto-form-regras/projeto-form-regras.component';\r\n\r\n@Component({\r\n  selector: 'app-projeto-form',\r\n  templateUrl: './projeto-form.component.html',\r\n  styleUrls: ['./projeto-form.component.scss']\r\n})\r\nexport class ProjetoFormComponent extends PageFormBase<Projeto, ProjetoDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('principal', { static: false }) public principal?: ProjetoFormPrincipalComponent;\r\n  @ViewChild('fases', { static: false }) public fases?: ProjetoFormFasesComponent;\r\n  @ViewChild('recursos', { static: false }) public recursos?: ProjetoFormRecursosComponent;\r\n  @ViewChild('alocacoes', { static: false }) public alocacoes?: ProjetoFormAlocacoesComponent;\r\n  @ViewChild('regras', { static: false }) public regras?: ProjetoFormRegrasComponent;\r\n  @ViewChild('comentarios', { static: false }) public comentarios?: ComentariosComponent;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Projeto, ProjetoDaoService);\r\n    this.join = [];\r\n    this.modalWidth = 1200;\r\n    this.form = this.fh.FormBuilder({\r\n    }, this.cdRef, this.validate);\r\n  }\r\n  \r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n\r\n    if(['nome', 'pergunta'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  public loadData(entity: Projeto, form: FormGroup): void {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n  }\r\n\r\n  public initializeData(form: FormGroup): void {\r\n    const regra_escritorio_id = this.dao!.generateUuid();\r\n    const regra_gerente_id = this.dao!.generateUuid();\r\n    const regra_equipe_id = this.dao!.generateUuid();\r\n    const recurso_gerente_id = this.dao!.generateUuid();\r\n    const recurso_escritorio_id = this.dao!.generateUuid();\r\n    const alocacao_gerente_id = this.dao!.generateUuid();\r\n    const alocacao_escritorio_id = this.dao!.generateUuid();\r\n    const alocacao_regra_escritorio_id = this.dao!.generateUuid();\r\n    const alocacao_regra_gerente_id = this.dao!.generateUuid();\r\n    let projeto = new Projeto();\r\n    /* Usuario e Unidade */\r\n    let usuario = new Usuario({\r\n      id: this.auth.usuario!.id,\r\n      nome: this.auth.usuario!.nome,\r\n      email: this.auth.usuario!.email,\r\n      url_foto: this.auth.usuario!.url_foto\r\n    });\r\n    let unidade = new Unidade({\r\n      id: this.auth.unidade!.id,\r\n      codigo: this.auth.unidade!.codigo,\r\n      sigla: this.auth.unidade!.sigla,\r\n      nome: this.auth.unidade!.nome\r\n    });\r\n    /* Carrega Regras, Recursos e Alocações padrões */\r\n    projeto.regras = [new ProjetoRegra({\r\n      id: regra_escritorio_id,\r\n      nome: \"Escritório\",\r\n      tipo_recurso: \"DEPARTAMENTO\",\r\n      perfis: [\"ESCRITORIO\", \"ACESSAR\"]\r\n    }), new ProjetoRegra({\r\n      id: regra_gerente_id,\r\n      nome: \"Gerente\",\r\n      tipo_recurso: \"HUMANO\",\r\n      perfis: [\"GERENTE\", \"ACESSAR\"]\r\n    }), new ProjetoRegra({\r\n      id: regra_equipe_id,\r\n      nome: \"Equipe\",\r\n      tipo_recurso: \"HUMANO\",\r\n      perfis: [\"ACESSAR\"]\r\n    })];\r\n    projeto.recursos = [new ProjetoRecurso({\r\n      id: recurso_gerente_id,\r\n      nome: usuario.nome,\r\n      tipo: \"HUMANO\",\r\n      usuario_id: usuario.id,\r\n      usuario: usuario\r\n    }), new ProjetoRecurso({\r\n      id: recurso_escritorio_id,\r\n      nome: unidade.nome,\r\n      tipo: \"DEPARTAMENTO\",\r\n      unidade_id: unidade.id,\r\n      unidade: unidade\r\n    })];\r\n    projeto.alocacoes = [new ProjetoAlocacao({\r\n      id: alocacao_gerente_id,\r\n      regras: [new ProjetoAlocacaoRegra({\r\n        id: alocacao_regra_gerente_id,\r\n        regra_id: regra_gerente_id,\r\n        regra: projeto.regras.find(x => x.id == regra_gerente_id),\r\n        projeto_alocacao_id: alocacao_gerente_id\r\n      })],\r\n      recurso_id: recurso_gerente_id,\r\n      recurso: projeto.recursos.find(x => x.id == recurso_gerente_id)\r\n    }), new ProjetoAlocacao({\r\n      id: alocacao_escritorio_id,\r\n      regras: [new ProjetoAlocacaoRegra({\r\n        id: alocacao_regra_escritorio_id,\r\n        regra_id: regra_escritorio_id,\r\n        regra: projeto.regras.find(x => x.id == regra_escritorio_id),\r\n        projeto_alocacao_id: alocacao_escritorio_id\r\n      })],\r\n      recurso_id: recurso_escritorio_id,\r\n      recurso: projeto.recursos.find(x => x.id == recurso_escritorio_id)\r\n    })];\r\n    /* Carrega projeto */\r\n    this.entity = projeto;\r\n    this.cdRef.detectChanges();\r\n    this.loadData(this.entity, form);    \r\n  }\r\n\r\n  public async saveData(form: IIndexable): Promise<Projeto> {\r\n    await Promise.all([\r\n      this.principal?.saveData(),\r\n      this.fases?.saveData(),\r\n      this.recursos?.saveData(),\r\n      this.alocacoes?.saveData(),\r\n      this.regras?.saveData(),\r\n      this.comentarios?.saveData()\r\n    ]);\r\n    return this.entity! as Projeto;\r\n  }\r\n\r\n  public onTabsSelect() {\r\n    console.log(\"Chamou\");\r\n    this.saveData(this.form!);\r\n  }\r\n\r\n  public titleEdit = (entity: Projeto): string => {\r\n    return \"Editando \" + (entity?.nome || \"\");\r\n  }\r\n\r\n  public get titleProjeto(): string {\r\n    return this.entity?.numero ? \"#\" + this.entity?.numero : \"\";\r\n  }\r\n\r\n}\r\n\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right [title]=\"titleProjeto\" [select]=\"onTabsSelect.bind(this)\">\r\n        <tab key=\"PRINCIPAL\" label=\"Principal\">\r\n            <projeto-form-principal #principal [entity]=\"entity\" [cdRef]=\"cdRef\"></projeto-form-principal>\r\n        </tab>\r\n        <tab key=\"FASES\" label=\"Fases\">\r\n            <projeto-form-fases #fases [entity]=\"entity\" [cdRef]=\"cdRef\"></projeto-form-fases>\r\n        </tab>\r\n        <tab key=\"ALOCACOES\" label=\"Alocações\">\r\n            <projeto-form-alocacoes #alocacoes [entity]=\"entity\" [cdRef]=\"cdRef\"></projeto-form-alocacoes>\r\n        </tab>\r\n        <tab key=\"RECURSOS\" label=\"Recursos\">\r\n            <projeto-form-recursos #recursos [entity]=\"entity\" [cdRef]=\"cdRef\"></projeto-form-recursos>\r\n        </tab>\r\n        <tab key=\"REGRAS\" label=\"Regras\">\r\n            <projeto-form-regras #regras [entity]=\"entity\" [cdRef]=\"cdRef\"></projeto-form-regras>\r\n        </tab>\r\n        <tab key=\"COMENTARIOS\" label=\"Comentários\">\r\n            <comentarios #comentarios origem=\"PROJETO\" [entity]=\"entity\"></comentarios>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { ProjetoDaoService } from 'src/app/dao/projeto-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { Projeto } from 'src/app/models/projeto.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { ProjetoService } from '../projeto.service';\r\n\r\nexport type EnvolvidoListItem = {\r\n  url: string;\r\n  hint: string;\r\n};\r\n\r\n@Component({\r\n  selector: 'app-projeto-list',\r\n  templateUrl: './projeto-list.component.html',\r\n  styleUrls: ['./projeto-list.component.scss']\r\n})\r\nexport class ProjetoListComponent extends PageListBase<Projeto, ProjetoDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  \r\n  public usuarioDao: UsuarioDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public projetoService: ProjetoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Projeto, ProjetoDaoService);\r\n    /* Inicializações */\r\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.projetoService = injector.get<ProjetoService>(ProjetoService);\r\n    this.title = this.lex.translate(\"Projetos\");\r\n    this.code = \"MOD_PROJ\";\r\n    this.join = [\"alocacoes.recurso.usuario:id,nome,apelido\", \"alocacoes.recurso.unidade:id,nome\", \"alocacoes.regras.regra\", \"fase\"];\r\n    this.filter = this.fh.FormBuilder({\r\n      nome: {default: \"\"},\r\n      status: {default: null},\r\n      data_inicio: {default: null},\r\n      data_fim: {default: null}\r\n    });\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    filter.controls.nome.setValue(\"\");\r\n    filter.controls.status.setValue(null);\r\n    filter.controls.data_inicio.setValue(null);\r\n    filter.controls.data_fim.setValue(null);\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n\r\n    if (form.nome?.length) { \r\n      result.push([\"nome\", \"like\", \"%\" + form.nome.trim().replace(\" \", \"%\") + \"%\"]);\r\n    } else if(form.status) {\r\n      result.push([\"status\", \"==\", form.status]);\r\n    } else if(form.data_inicio?.length) {\r\n      result.push([\"data_fim\", \">=\", form.data_inicio]);\r\n    } else if(form.data_fim?.length) {\r\n      result.push([\"data_inicio\", \"=<\", form.data_fim]);\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  public getEnvolvidos(projeto: Projeto, metadata: any): EnvolvidoListItem[] {\r\n    let result: EnvolvidoListItem[] = [];\r\n    \r\n    for(let envolvido of projeto.alocacoes?.filter(x => this.projetoService.isEnvolvido(x, projeto)) || []) {\r\n      if(envolvido.recurso?.usuario) {\r\n        result.push({\r\n          url: envolvido.recurso.usuario.url_foto || \"assets/images/projetos/usuario.png\",\r\n          hint: \"Usuario: \" + envolvido.recurso.usuario.nome + this.projetoService.getNomesRegras(envolvido, \"\\n(\", \")\")\r\n        });\r\n      } else if (envolvido.recurso?.unidade) {\r\n        result.push({\r\n          url: \"assets/images/projetos/unidade.png\",\r\n          hint: \"Usuario: \" + envolvido.recurso.unidade.nome + this.projetoService.getNomesRegras(envolvido, \"\\n(\", \")\")\r\n        });\r\n      }\r\n    }\r\n    if(metadata) {\r\n      const igual = JSON.stringify(result) == JSON.stringify(metadata.envolvidos);\r\n      metadata.envolvidos = igual ? metadata.envolvidos : result;\r\n      result = metadata.envolvidos;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public dynamicOptions(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let projeto: Projeto = row as Projeto;\r\n    const isEnvolvido = this.projetoService.canAcessar(projeto);\r\n    const BOTAO_INFORMACOES = { label: \"Informações\", icon: \"bi bi-info-circle\", onClick: (projeto: Projeto) => this.go.navigate({ route: ['gestao', 'projeto', projeto.id, 'consult'] }, { modal: true }) };\r\n    const BOTAO_COMENTARIOS = { label: \"Comentários\", icon: \"bi bi-chat-left-quote\", onClick: (projeto: Projeto) => this.go.navigate({ route: ['gestao', 'projeto', projeto.id, 'comentar'] }, this.modalRefreshId(projeto)) };\r\n    const BOTAO_CLONAR = { label: \"Clonar\", icon: \"bi bi-stickies\", onClick: (projeto: Projeto) => this.go.navigate({ route: ['gestao', 'demanda', projeto.id, 'clonar'] }, this.modalRefresh()) };\r\n    const BOTAO_ALTERAR = { label: \"Alterar demanda\", icon: \"bi bi-pencil-square\", onClick: (projeto: Projeto) => this.go.navigate({ route: ['gestao', 'projeto', projeto.id, 'edit'] }, this.modalRefreshId(projeto)) };\r\n    const BOTAO_PLANEJAR = { label: \"Planejamento\", icon: \"bi bi-bar-chart-steps\", onClick: (projeto: Projeto) => this.go.navigate({ route: ['gestao', 'projeto', projeto.id, 'planejamento'] }, this.modalRefreshId(projeto)) };\r\n    const BOTAO_EXCLUIR = { label: \"Excluir demanda\", icon: \"bi bi-trash\", onClick: this.delete.bind(this) };\r\n    const BOTAO_RECURSOS = { label: \"Recursos\", icon: \"bi bi-tools\", onClick: (projeto: Projeto) => this.go.navigate({ route: ['gestao', 'projeto', projeto.id, 'recurso'] }, this.modalRefreshId(projeto)) };\r\n    const BOTAO_REGRAS = { label: \"Regras\", icon: \"bi bi-diagram-3\", onClick: (projeto: Projeto) => this.go.navigate({ route: ['gestao', 'projeto', projeto.id, 'regra'] }, this.modalRefreshId(projeto)) };\r\n    const BOTAO_ALOCACOES = { label: \"Alocações\", icon: \"bi bi-cart-check\", onClick: (projeto: Projeto) => this.go.navigate({ route: ['gestao', 'projeto', projeto.id, 'alocacao'] }, this.modalRefreshId(projeto)) };\r\n    const BOTAO_ENVOLVIDOS = { label: \"Envolvidos\", id: \"NAOINICIADO\", icon: \"bi bi-backspace\", onClick: (projeto: Projeto) => this.go.navigate({ route: ['gestao', 'projeto', projeto.id, 'envolvido'] }, this.modalRefreshId(projeto)) };\r\n\r\n    result.push(BOTAO_INFORMACOES);\r\n    if (true || isEnvolvido) {\r\n      result.push(BOTAO_PLANEJAR);\r\n      result.push(BOTAO_COMENTARIOS);\r\n      result.push(BOTAO_CLONAR);\r\n      result.push(BOTAO_ALTERAR);\r\n      result.push(BOTAO_EXCLUIR);\r\n      result.push(BOTAO_RECURSOS);\r\n      result.push(BOTAO_REGRAS);\r\n      result.push(BOTAO_ALOCACOES);\r\n      result.push(BOTAO_ENVOLVIDOS);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public dynamicButtons(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let projeto: Projeto = row as Projeto;\r\n    const isEnvolvido = this.projetoService.canAcessar(projeto);\r\n    const BOTAO_INFORMACOES = { label: \"Informações\", icon: \"bi bi-info-circle\", onClick: (projeto: Projeto) => this.go.navigate({ route: ['gestao', 'projeto', projeto.id, 'consult'] }, { modal: true }) };\r\n    const BOTAO_PLANEJAR = { label: \"Planejamento\", icon: \"bi bi-bar-chart-steps\", onClick: (projeto: Projeto) => this.go.navigate({ route: ['gestao', 'projeto', projeto.id, 'planejamento'] }, this.modalRefreshId(projeto)) };\r\n\r\n    if (true || isEnvolvido) {\r\n      result.push(BOTAO_PLANEJAR);\r\n    } else {\r\n      result.push(BOTAO_INFORMACOES);\r\n    }\r\n    return result;\r\n  }\r\n\r\n}","<tabs #projetos right [title]=\"isModal ? '' : title\">\r\n    <tab key=\"FOLD\" icon=\"bi bi-table\" label=\"Portifólio\"></tab>\r\n    <tab key=\"GANTT\" icon=\"bi bi-bar-chart-steps\" label=\"Gantt\"></tab>\r\n</tabs>\r\n<!-- Tab Portifólio -->\r\n<div [class.d-none]=\"projetos.active != 'FOLD'\">\r\n    <grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\"\r\n        [selectable]=\"selectable\" (select)=\"onSelect($event)\"\r\n        [hasAdd]=\"auth.hasPermissionTo('MOD_PROJ_INCL')\"\r\n        [hasEdit]=\"false\">\r\n        <toolbar *ngIf=\"!selectable\"></toolbar>\r\n        <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n            <div class=\"row\">\r\n                <input-text [size]=\"4\" label=\"Nome\" controlName=\"nome\" [control]=\"filter!.controls.nome\" [attr.maxlength]=250></input-text>\r\n                <input-search [size]=\"4\" [control]=\"filter!.controls.usuario_id\" controlName=\"usuario_id\" [dao]=\"usuarioDao\"></input-search>\r\n                <input-search [size]=\"4\" [control]=\"filter!.controls.unidade_id\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n            </div>\r\n        </filter>\r\n        <columns>\r\n            <column title=\"#ID\" [template]=\"columnNumero\">\r\n                <ng-template let-row=\"row\" #columnNumero>\r\n                    <strong>{{row.numero}}</strong>\r\n                </ng-template>\r\n            </column>\r\n            <column [title]=\"'Nome\\nEnvolvidos'\" titleHint=\"Somente os recursos humanos/departamentais que possuem' lex.translate('perfil') 'para acessar o projeto serão listados aqui\" [template]=\"columnNomeEnvolvidos\">\r\n                <ng-template let-row=\"row\" let-metadata=\"metadata\" #columnNomeEnvolvidos>\r\n                    <strong class=\"d-block\">{{row.nome}}</strong>\r\n                    <profile-picture *ngFor=\"let envolvido of getEnvolvidos(row, metadata)\" [url]=\"envolvido.url\" [hint]=\"envolvido.hint\"></profile-picture>\r\n                </ng-template>\r\n            </column>\r\n            <column title=\"Descrição\" [template]=\"columnDescricao\">\r\n                <ng-template let-row=\"row\" #columnDescricao>\r\n                    <strong class=\"d-block\">{{row.descricao}}</strong>\r\n                    <small>{{row.finalidade}}</small>\r\n                </ng-template>\r\n            </column>\r\n            <column title=\"Datas\" [template]=\"columnDatas\">\r\n                <ng-template let-row=\"row\" #columnDatas>\r\n                    <badge color=\"light\" icon=\"bi bi-box-arrow-right\" [label]=\"util.getDateTimeFormatted(row.data_inicio)\" hint=\"Data de início\"></badge><br>\r\n                    <badge color=\"light\" icon=\"bi bi-box-arrow-in-right\" [label]=\"util.getDateTimeFormatted(row.data_fim)\" hint=\"Data de término\"></badge>\r\n                </ng-template>\r\n            </column>\r\n            <column title=\"Custo\" [template]=\"columnCusto\">\r\n                <ng-template let-row=\"row\" #columnCusto>\r\n                    <badge *ngIf=\"!row.calcula_custos\" color=\"warning\" icon=\"bi bi-dash-square\" label=\"Não calcula\" hint=\"Projeto configurado para não calcular custos\"></badge>\r\n                    <badge *ngIf=\"row.calcula_custos\" color=\"light\" icon=\"bi bi-cash-coin\" [label]=\"util.formatDecimal(row.custo)\" hint=\"Projeto configurado para calcular custos\"></badge>\r\n                </ng-template>\r\n            </column>\r\n            <column title=\"Progresso\" [template]=\"columnProgresso\">\r\n                <ng-template let-row=\"row\" #columnProgresso>\r\n                    <progress-bar [value]=\"row.progresso\" color=\"success\"></progress-bar>\r\n                </ng-template>\r\n            </column>\r\n            <column title=\"Status\" [template]=\"columnStatus\">\r\n                <ng-template let-row=\"row\" #columnStatus>\r\n                    <span class=\"text-wrap\">\r\n                        <badge [class]=\"lookup.getColor(lookup.PROJETO_STATUS, row.status)\" [icon]=\"lookup.getIcon(lookup.PROJETO_STATUS, row.status)\" [label]=\"lookup.getValue(lookup.PROJETO_STATUS, row.status)\"></badge>\r\n                        <badge *ngIf=\"row.fase\" [color]=\"row.fase.cor\" [label]=\"row.fase.nome\"></badge>\r\n                    </span>\r\n                </ng-template>\r\n            </column>\r\n            <column type=\"options\" [onEdit]=\"edit\" [onDelete]=\"delete\" [dynamicOptions]=\"dynamicOptions.bind(this)\" [dynamicButtons]=\"dynamicButtons.bind(this)\"></column>\r\n        </columns>\r\n        <pagination [rows]=\"rowsLimit\"></pagination>\r\n    </grid>\r\n</div>\r\n<!-- Tab Portifólio -->\r\n<div [class.d-none]=\"projetos.active != 'GANTT'\">\r\n    Em desenvolvimento\r\n</div>\r\n\r\n\r\n<!--\r\n      Nome                Descricao\r\n#ID   Envolvidos          Finalidade               Datas                 Progresso    Status\r\n-----------------------------------------------------------------------------------------------------------\r\n9999  Projeto de pipoca   Fazer pipoca sem sal     [I xx/xx/xxx hh:ss]  [##| 20%  ]   (S) Iniciado   [...]\r\n      (U) (M) [Z DTIC]    Pipoca                   [F xx/xx/xxx hh:ss]                       +------     |\r\n---------------------------------------------------------------------------------------------| Recusrsos |\r\n                                                                                             | Regras    |\r\n                                                                                             | Alocações |\r\n                                                                                             +-----------+\r\n\r\n\r\n[ Form do projeto ]\r\n\r\n                                         | Principal | Recursos | Envolvidos | Alocacoes | Comentários |\r\n\r\nNome:\r\nFinalidade:\r\nFinal calculado automaticamente:\r\n\r\n\r\n[ Planejamento - Gantt ]\r\nGrid\r\nTarefa Inicio Fim Progresso | Gant\r\n\r\n\r\n-->\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { CalendarOptions, EventInput } from '@fullcalendar/core';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GanttTaskStatus, GanttResourceUnity, GanttResourceType, GanttProject, GanttAssignment, GanttTask, GanttResource, GanttRole } from 'src/app/components/gantt/gantt-models';\r\nimport { ProjetoDaoService } from 'src/app/dao/projeto-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { MaterialServicoUnidade } from 'src/app/models/material-servico.model';\r\nimport { ProjetoAlocacao } from 'src/app/models/projeto-alocacao.model';\r\nimport { ProjetoRecurso, ProjetoRecursoTipo } from 'src/app/models/projeto-recurso.model';\r\nimport { ProjetoRegra } from 'src/app/models/projeto-regra.model';\r\nimport { ProjetoTarefa, ProjetoTarefaStatus } from 'src/app/models/projeto-tarefa.model';\r\nimport { HasAlocacoes, HasTarefas, Projeto, ProjetoStatus } from 'src/app/models/projeto.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { KanbanComponent, KanbanDocker } from 'src/app/components/kanban/kanban.component';\r\nimport { CardItem, DockerComponent } from 'src/app/components/kanban/docker/docker.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { DndDropEvent, DropEffect } from 'ngx-drag-drop';\r\nimport { ProjetoService } from '../projeto.service';\r\nimport { ComponentColor } from 'src/app/components/component-base';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\n\r\n\r\nexport type TarefaTotaisFilhos = {\r\n  custo: number;\r\n  progresso: number;\r\n  duracao: number;\r\n  data_inicio: Date | null,\r\n  data_fim: Date | null\r\n};\r\n\r\nexport type RecursoListItem = {\r\n  url: string;\r\n  hint: string;\r\n};\r\n\r\n@Component({\r\n  selector: 'app-projeto-planejamento',\r\n  templateUrl: './projeto-planejamento.component.html',\r\n  styleUrls: ['./projeto-planejamento.component.scss']\r\n})\r\nexport class ProjetoPlanejamentoComponent extends PageFormBase<Projeto, ProjetoDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(\"planejamentoKanban\", {static: false}) planejamentoKanban?: KanbanComponent;\r\n\r\n  public TITLE_OUTRAS = \"Outras\";\r\n  \r\n  public project: GanttProject; \r\n  public projetoService: ProjetoService;\r\n  public ganttHeight: number;\r\n  public afterLoadData: boolean = false;\r\n  public filter: FormGroup;\r\n  public formEdit: FormGroup;\r\n  public cardsVersion: number = 0;\r\n  public dragDrop: any = {};\r\n  public labels: KanbanDocker[] = [];\r\n  public etiquetas: LookupItem[] = [];\r\n  public etiquetasEdit: LookupItem[] = [];\r\n  public outrasButtons: ToolbarButton[] = [\r\n    {\r\n      icon: \"bi bi-plus-circle\",\r\n      color: \"btn-outline-success\",\r\n      hint: \"Incluir nova lista a direita\",\r\n      onClick: this.incluirLista.bind(this)\r\n    }\r\n  ];\r\n  public etiquetasButtons: ToolbarButton[] = [\r\n    {\r\n      icon: \"bi bi-plus-circle\",\r\n      color: \"btn-outline-success\",\r\n      hint: \"Incluir nova lista a direita\",\r\n      onClick: this.incluirLista.bind(this)\r\n    }\r\n  ];\r\n  public addComentarioButton: ToolbarButton = {\r\n    icon: \"bi bi-plus-circle\",\r\n    hint: \"Incluir comentário\"\r\n  }\r\n  public calendarOptions: CalendarOptions = {\r\n    initialView: 'dayGridMonth',\r\n    events: [],\r\n    plugins: [dayGridPlugin, interactionPlugin]\r\n  };\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Projeto, ProjetoDaoService);\r\n    this.projetoService = injector.get<ProjetoService>(ProjetoService);\r\n    this.modalWidth = screen.availWidth - Math.round(screen.availWidth * 0.1); /* Variar de acordo com a resolução do usuário */\r\n    this.ganttHeight = screen.availHeight - 350 - Math.round(screen.availHeight * 0.1); /* Variar de acordo com a resolução do usuário */\r\n    console.log(this.ganttHeight, screen.availWidth, screen.availHeight);\r\n    this.project = new GanttProject();\r\n    this.form = this.fh.FormBuilder({}, this.cdRef, this.validate);\r\n    this.filter = this.fh.FormBuilder({\r\n      resumido: {default: false}\r\n    }, this.cdRef, this.validate);\r\n    this.formEdit = this.fh.FormBuilder({\r\n      etiqueta: {default: null}\r\n    });\r\n    this.join = [\"tarefas.alocacoes\", \"tipoProjeto\", \"usuario\", \"regras\", \"recursos.usuario\", \"recursos.unidade\", \"recursos.materialServico\", \"alocacoes\"];\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    return result;\r\n  }\r\n\r\n  ngOnInit() {\r\n    super.ngOnInit();\r\n    this.action = \"edit\";\r\n  }\r\n\r\n  public isOutras(x: KanbanDocker): boolean {\r\n    return x.title == this.TITLE_OUTRAS && !x.labels.length;\r\n  } \r\n\r\n  public incluirLista(docker: DockerComponent) {\r\n    this.labels.splice(docker.key + 1, 0, {\r\n      labels: [],\r\n      menu: this.etiquetasButtons,\r\n      cards: [],\r\n      editing: true,\r\n      collapse: false\r\n    });\r\n    this.planejamentoKanban?.refreshDoubleScrollbar();\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public loadKanbanDockers(projeto: Projeto) {\r\n    const dockers: KanbanDocker[] = (projeto.kanban_dockers || []) as KanbanDocker[];\r\n    if(!dockers.find(this.isOutras.bind(this))) dockers.splice(0, 0, {title: this.TITLE_OUTRAS, labels: [], collapse: false});\r\n    this.labels = dockers.reduce((a, v) => {\r\n      if(!a.find((x: any) => (x.title?.length && x.title == v.title) || (x.labels?.length && v.labels?.length && x.labels[0].key == v.labels[0].key))) {\r\n        a.push({\r\n          labels: this.isOutras(v) ? [] : v.labels,\r\n          title: v.title,\r\n          menu: this.isOutras(v) ? this.outrasButtons : this.etiquetasButtons,\r\n          cards: [],\r\n          editing: false,\r\n          collapse: v.collapse\r\n        });\r\n      }\r\n      return a;\r\n    }, [] as KanbanDocker[]); \r\n  }\r\n\r\n  public loadKanbanCards(projeto: Projeto) {\r\n    const outrasIndex = this.labels.findIndex(this.isOutras.bind(this));\r\n    this.cardsVersion++;\r\n    projeto.tarefas?.filter(row => !row.agrupador).forEach(row => {\r\n      let tarefa: ProjetoTarefa = row as ProjetoTarefa;\r\n      let docker: KanbanDocker | undefined = undefined;\r\n      tarefa.etiquetas = tarefa.etiquetas || [];\r\n      for(let i = 0; i < tarefa.etiquetas.length; i++) {\r\n        for(let j = 1; j < this.labels.length && !docker; j++) {\r\n          if(this.labels[j].labels[0].key == tarefa.etiquetas[i].key) docker = this.labels[j];\r\n        }\r\n        if(!this.etiquetas.some(x => x.key == tarefa.etiquetas[i].key)) this.etiquetas.push(tarefa.etiquetas[i]);\r\n      }\r\n      this.putCard(docker?.cards || this.labels[outrasIndex]?.cards || [], tarefa);\r\n    });\r\n    for(let cards of this.labels.map(x => x.cards || [])) {\r\n      for(let i = 0; i < cards.length; cards[i].version != this.cardsVersion ? cards.splice(i, 1) : i++);\r\n    }\r\n  }\r\n\r\n  public putCard(list: CardItem[], tarefa: ProjetoTarefa) {\r\n    const index = list.findIndex(x => x.id == tarefa.id);\r\n    const card = {\r\n      id: tarefa.id,\r\n      title: tarefa.nome || \"DESCONHECIDO\",\r\n      subTitle: tarefa.descricao || \"\",\r\n      data: tarefa,\r\n      version: this.cardsVersion,\r\n      menu: undefined,\r\n      dynamicMenu: this.dynamicCardMenu.bind(this)\r\n    };\r\n    if(index >= 0) {\r\n      list[index] = Object.assign(list[index], card);\r\n    } else {\r\n      list.push(card);\r\n    }\r\n  }\r\n\r\n  public dynamicCardMenu(card: CardItem): ToolbarButton[] | undefined {\r\n    const menu: ToolbarButton[] | undefined = []; //this.dynamicButtons(card.data);\r\n    menu.push({\r\n      icon: \"bi bi-three-dots\",\r\n      hint: \"Opções\",\r\n      dynamicItems: this.cardDynamicOptions.bind(this)\r\n    });\r\n    if(!card.menu || card.menu.map(x => x.hint).join() != menu.map(x => x.hint).join()) card.menu = menu;\r\n    return card.menu;\r\n  }\r\n\r\n  public cardDynamicOptions(card: CardItem): ToolbarButton[] | undefined {\r\n    /*const olders = card.menu?.find(x => x.hint == \"Opções\");\r\n    if(olders) {\r\n      const options = this.dynamicOptions.bind(this)(card.data);\r\n      if(!olders.items || olders?.items.map(x => x.label).join() != options.map(x => x.label).join()) olders.items = options;\r\n    }\r\n    return olders?.items;*/\r\n    return [];\r\n  }\r\n\r\n  public saveEtiquetasProjeto() {\r\n    /* Implementar */\r\n  }\r\n\r\n  public updateEtiquetasTarefa(dragDrop: any) {\r\n    const sourceLabel = this.labels.find(x => x.cards == dragDrop.source.list)?.labels[0];\r\n    const destinationLabel = this.labels.find(x => x.cards == dragDrop.destination.list)?.labels[0];\r\n    const tarefa = dragDrop.destination.tarefa as ProjetoTarefa;\r\n    if(sourceLabel && destinationLabel && sourceLabel.key == destinationLabel.key) return;\r\n    if(sourceLabel) tarefa.etiquetas.splice(tarefa.etiquetas.findIndex(x => x.key == sourceLabel.key), 1);\r\n    if(destinationLabel) tarefa.etiquetas.unshift(destinationLabel);\r\n    //this.loading = true;\r\n    //this.dao!.update(demanda.id, {etiquetas: demanda.etiquetas}).then(demanda => this.modalRefreshId(demanda).modalClose!.bind(this)(demanda.id)).finally(() => this.loading = false);\r\n  }\r\n\r\n  public onSwimlaneDrop(event: DndDropEvent, fromIndex: number) {\r\n    const element = this.labels[fromIndex];\r\n    const toIndex = fromIndex < event.index! ? event.index!-1 : event.index!;\r\n    this.labels.splice(fromIndex, 1);\r\n    this.labels.splice(toIndex, 0, element);\r\n    this.saveEtiquetasProjeto();\r\n  }\r\n\r\n  public onDragged(item: any, list: any[], effect: DropEffect) {\r\n    if([\"copy\", \"move\"].includes(effect)) {\r\n      const index = list.indexOf(item);\r\n      this.dragDrop.source = {list, index};\r\n      this.updateEtiquetasTarefa(this.dragDrop);\r\n    }\r\n  }\r\n\r\n  public onDrop(event: DndDropEvent, list?: any[]) {\r\n    if(list && [\"copy\", \"move\"].includes(event.dropEffect)) {\r\n      const demanda = event.data.data;\r\n      const card = event.data;\r\n      let index = typeof event.index === \"undefined\" ? list.length : event.index;\r\n      this.dragDrop = {destination: {list, index, card, demanda}};\r\n    }\r\n  }\r\n\r\n  public onDockerCollapse(docker: DockerComponent, collapse: boolean) {\r\n    this.labels[docker.key].collapse = collapse;\r\n    this.saveEtiquetasProjeto();\r\n    this.planejamentoKanban?.refreshDoubleScrollbar();\r\n  }\r\n\r\n  public async saveEtiquetas(docker: DockerComponent) {\r\n    const key = this.formEdit.controls.etiqueta.value;\r\n    if(key?.length) {\r\n      const label = this.labels[docker.key!];\r\n      const etiqueta = this.etiquetasEdit.find(x => x.key == key);\r\n      if(etiqueta) label.labels = [etiqueta];\r\n      //if(this.query) this.onQueryLoad(this.query!.rows);\r\n      this.loadKanbanCards(this.entity as Projeto);\r\n      this.saveEtiquetasProjeto();\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public async deleteEtiquetas(docker: DockerComponent) {\r\n    this.labels.splice(docker.key!, 1);\r\n    this.planejamentoKanban?.refreshDoubleScrollbar();\r\n    this.loadKanbanCards(this.entity as Projeto);\r\n    this.saveEtiquetasProjeto();\r\n  }\r\n\r\n  public async cancelEtiquetas(docker: DockerComponent) {\r\n    const label = this.labels[docker.key!];\r\n    if(!label.labels?.length) {\r\n      this.labels.splice(docker.key!, 1);\r\n      this.planejamentoKanban?.refreshDoubleScrollbar();\r\n    }\r\n  }\r\n\r\n  public getLabelStyle(label: KanbanDocker) {\r\n    const bgColor = label.labels.length == 1 ? label.labels[0].color || \"#000000\" : \"#000000\";\r\n    //const txtColor = this.util.contrastColor(bgColor);\r\n    return `border-color: ${bgColor} !important;`;\r\n  }\r\n\r\n  public async editEtiquetas(docker: DockerComponent) {\r\n    const label = this.labels[docker.key!];\r\n    const allUsed = this.labels.reduce((a: string[], v: KanbanDocker, i: number) => {\r\n      if(v.labels.length && i != docker.key) a.push(v.labels[0].key);\r\n      return a;\r\n    }, []);\r\n    this.etiquetasEdit = this.etiquetas.filter(x => !allUsed.includes(x.key));\r\n    this.formEdit.controls.etiqueta.setValue(label.labels.length ? label.labels[0].key : null);\r\n  }\r\n\r\n  public loadEtiquetas() {\r\n    //this.etiquetas = this.util.merge(row.atividade?.etiquetas, row.unidade?.etiquetas, (a, b) => a.key == b.key); \r\n    this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key); \r\n  }\r\n\r\n  public async loadData(entity: Projeto, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    this.entity = entity;\r\n    this.project = this.toGantt(entity);\r\n    this.afterLoadData = true;\r\n    this.calendarOptions.events = this.toCalendar(entity.tarefas || []);\r\n    this.loadEtiquetas();\r\n    this.loadKanbanDockers(entity);\r\n    this.loadKanbanCards(entity);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onCalendarioFilterChange(tarefas: ProjetoTarefa[]) {\r\n    this.calendarOptions.events = this.toCalendar(tarefas);\r\n  }\r\n\r\n  public getStatusColor(status: LookupItem): ComponentColor {\r\n    return status.color as ComponentColor;\r\n  }\r\n\r\n  public getRecursos(tarefa: ProjetoTarefa, metadata: any): RecursoListItem[] {\r\n    let result: RecursoListItem[] = [];\r\n    for(let alocacao of tarefa.alocacoes || []) {\r\n      const regra = this.projetoService.getNomesRegras(alocacao, \"\\n(\", \")\");\r\n      const nome = alocacao.recurso?.nome?.length ? alocacao.recurso.nome + \"\\n\" : \"\";\r\n      switch(alocacao.recurso?.tipo) {\r\n        case 'HUMANO': result.push({ url: alocacao.recurso.usuario?.url_foto || \"assets/images/projetos/usuario.png\", hint: nome + \"Usuario: \" + (alocacao.recurso.usuario?.nome || \"(DESCONHECIDO)\") + regra }); break;\r\n        case 'MATERIAL': result.push({ url: \"assets/images/projetos/material.png\", hint: nome + \"Material: \" + (alocacao.recurso.material_servico?.descricao || \"(DESCONHECIDO)\") + regra }); break;\r\n        case 'SERVICO': result.push({ url: \"assets/images/projetos/servico.png\", hint: nome + \"Servico: \" + (alocacao.recurso.material_servico?.descricao || \"(DESCONHECIDO)\") + regra }); break;\r\n        case 'CUSTO': result.push({ url: \"assets/images/projetos/custo.png\", hint: nome + \"Valor: \" + this.util.formatDecimal(alocacao.recurso.valor) + regra }); break;\r\n        case 'DEPARTAMENTO': result.push({ url: \"assets/images/projetos/unidade.png\", hint: nome + \"Unidade: \" + (alocacao.recurso.unidade?.nome || \"(DESCONHECIDO)\") + regra }); break;\r\n      }\r\n    }\r\n    if(metadata) {\r\n      const igual = JSON.stringify(result) == JSON.stringify(metadata.alocacoes);\r\n      metadata.alocacoes = igual ? metadata.alocacoes : result;\r\n      result = metadata.alocacoes;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public getStatus(tarefa: ProjetoTarefa, metadata: any): LookupItem[] {\r\n    let result: LookupItem[] = [];\r\n    result.push(this.lookup.PROJETO_TAREFA_STATUS.find(x => x.key == tarefa.status) || { key: \"DESCONHECIDO\", value: \"Desconhecido\", icon: \"bi bi-question-octagon\", color: \"danger\" });\r\n    return result;\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    /* Nunca acontecerá pois sempre vai para a tela de planejamento editando (Já existindo registro no banco). O formulário do projeto é que é responsável por inserir um novo projeto \r\n    const usuario = this.auth.usuario!;\r\n    let projeto = new Projeto();\r\n    let recurso = new ProjetoRecurso({\r\n      id: this.dao?.generateUuid(),\r\n      usuario: usuario,\r\n      usuario_id: usuario.id,\r\n      nome: usuario.nome,\r\n      tipo: \"HUMANO\",\r\n      _status: \"ADD\"\r\n    });\r\n    let regra = new ProjetoRegra({\r\n      id: this.dao?.generateUuid(),\r\n      nome: \"Criador\"\r\n    }); \r\n    let envolvido = new ProjetoEnvolvido({\r\n      recurso_id: recurso.id,\r\n      regra: regra\r\n    });\r\n    projeto.recursos = [recurso];\r\n    projeto.regras = [regra];\r\n    projeto.envolvidos = [envolvido];\r\n    projeto.alocacoes = [];\r\n    await this.loadData(projeto, this.form!);*/\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<Projeto> {\r\n    return new Promise<Projeto>((resolve, reject) => {\r\n      const projeto = this.util.fill(new Projeto(), this.entity!);\r\n      resolve(this.util.fillForm(projeto, this.form!.value));\r\n    });\r\n  }\r\n\r\n  public toCalendar(tarefas: ProjetoTarefa[]): EventInput[] {\r\n    let result: EventInput[] = [];\r\n    (tarefas || []).forEach(tarefa => {\r\n      if(!tarefa.agrupador) {\r\n        result.push({\r\n          start: tarefa.data_inicio,\r\n          end: tarefa.data_fim,\r\n          title: tarefa.nome\r\n          //color?\r\n        });\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n\r\n  public toGantt(projeto: Projeto): GanttProject {\r\n    let index = 1; /* Indice utilizado globalmente para indexar as tarefas, a tarefa referente ao projeto já inicia com 0 */\r\n    const tarefas = projeto.tarefas || [];\r\n    const toGanttStatus = (status: ProjetoStatus | ProjetoTarefaStatus): GanttTaskStatus => {\r\n      const castStatus: IIndexable = {\r\n        PLANEJADO: \"STATUS_ACTIVE\",\r\n        INICIADO: \"STATUS_ACTIVE\",\r\n        CONCLUIDO: \"STATUS_DONE\",\r\n        FALHO: \"STATUS_FAILED\",\r\n        SUSPENSO: \"STATUS_SUSPENDED\",\r\n        CANCELADO: \"STATUS_FAILED\",\r\n        AGUARDANDO: \"STATUS_WAITING\"\r\n      };\r\n      return castStatus.hasOwnProperty(status) ? castStatus[status] : \"STATUS_ACTIVE\";\r\n    }  \r\n    const toGanttAssignments = (alocacoes: ProjetoAlocacao[]): GanttAssignment[] => {\r\n      const toAssignmentDescription = (alocacao: ProjetoAlocacao): string => {\r\n        let result = alocacao.descricao;\r\n        if(!result?.length) {\r\n          const recurso = (projeto.recursos || []).find(x => x.id == alocacao.recurso_id);\r\n          result = recurso?.usuario?.nome || recurso?.unidade?.nome || \"\";\r\n        }\r\n        return result;\r\n      }\r\n      return (alocacoes || []).map(alocacao => new GanttAssignment({\r\n        id: alocacao.id,\r\n        extra: alocacao,\r\n        resource_id: alocacao.recurso_id,\r\n        roles_ids: alocacao.regras?.map(x => x.regra_id) || [],\r\n        description: toAssignmentDescription(alocacao),\r\n        quantity: (alocacao as any).quantidade || 1\r\n      }));\r\n    }\r\n    const toGanttTask = (tarefa: ProjetoTarefa): GanttTask => {\r\n      return new GanttTask({\r\n        id: tarefa.id,\r\n        index: index++,\r\n        name: tarefa.nome,\r\n        description: tarefa.descricao,\r\n        extra: tarefa,\r\n        progress: tarefa.progresso,\r\n        start: tarefa.data_inicio,\r\n        end: tarefa.data_fim,\r\n        duration: tarefa.duracao,\r\n        startIsMilestone: tarefa.inicio_marco,\r\n        endIsMilestone: tarefa.termino_marco,\r\n        hasChild: tarefa.tem_filhos,\r\n        tasks: toTreeGanttTasks(tarefas.filter(x => x.tarefa_pai_id == tarefa.id).sort((a, b) => a.indice > b.indice ? 1 : (a.indice < b.indice ? -1 : 0))),\r\n        status: toGanttStatus(tarefa.status),\r\n        dependencies_ids: [], /* Implementar depois */\r\n        assignments: toGanttAssignments(tarefa.alocacoes || []),\r\n        collapsed: tarefa.contraido\r\n      }); \r\n    }\r\n    const toGanttResource = (recurso: ProjetoRecurso): GanttResource => {\r\n      const toGanttResourceType = (tipo: ProjetoRecursoTipo): GanttResourceType => {\r\n        const castTypes: IIndexable = {\r\n          HUMANO: \"HUMAN\",\r\n          MATERIAL: \"MATERIAL\",\r\n          SERVICO: \"SERVICE\", \r\n          CUSTO: \"COST\",\r\n          DEPARTAMENTO: \"DEPARTMENT\"\r\n        };\r\n        return castTypes.hasOwnProperty(tipo) ? castTypes[tipo] : \"MATERIAL\";\r\n      };\r\n      const toGanttPicture = (recurso: ProjetoRecurso): string => {\r\n        return this.projetoService.getRecursoPicture(recurso);\r\n      };\r\n      const toGanttUnity = (unidade: MaterialServicoUnidade): GanttResourceUnity => {\r\n        const castUnity: IIndexable = {\r\n          UNIDADE: \"UNITY\",\r\n          CAIXA: \"BOX\",\r\n          METRO: \"METER\",\r\n          KILO: \"KILO\",\r\n          LITRO: \"LITER\",\r\n          DUZIA: \"DOZEN\",\r\n          MONETARIO: \"CURRENCY\",\r\n          HORAS: \"HOUR\",\r\n          DIAS: \"DAY\",\r\n          PACOTE: \"PACKAGE\"\r\n        };\r\n        return castUnity.hasOwnProperty(unidade) ? castUnity[unidade] : \"UNITY\";\r\n      };\r\n      return new GanttResource({\r\n        id: recurso.id,\r\n        name: recurso.nome,\r\n        picture: toGanttPicture(recurso),\r\n        type: toGanttResourceType(recurso.tipo),\r\n        unityCost: recurso.valor,\r\n        unity: toGanttUnity(recurso.unidade_medida),\r\n        extra: recurso\r\n      });\r\n    }\r\n    const toGanttRole = (regra: ProjetoRegra): GanttRole => {\r\n      return new GanttRole({\r\n        id: regra.id,\r\n        name: regra.nome,\r\n        extra: regra\r\n      });\r\n    }\r\n    const toTreeGanttTasks = (children: ProjetoTarefa[]): GanttTask[] => {\r\n      return children.map(child => toGanttTask(child));\r\n    }\r\n    let gantt = new GanttProject({\r\n      root: [new GanttTask({\r\n        id: projeto.id,\r\n        index: 0,\r\n        level: 0,\r\n        name: projeto.nome,\r\n        description: projeto.descricao,\r\n        extra: projeto,\r\n        progress: projeto.progresso,\r\n        start: projeto.data_inicio,\r\n        end: projeto.data_fim,\r\n        duration: projeto.duracao,\r\n        startIsMilestone: false,\r\n        endIsMilestone: false,\r\n        hasChild: true,\r\n        tasks: toTreeGanttTasks(tarefas.filter(x => !x.tarefa_pai_id).sort((a, b) => a.indice > b.indice ? 1 : (a.indice < b.indice ? -1 : 0))),\r\n        status: toGanttStatus(projeto.status),\r\n        dependencies_ids: [], /* Implementar depois */\r\n        assignments: toGanttAssignments(projeto.alocacoes || []), /* Alocações */\r\n        collapsed: false\r\n      })],\r\n      resources: (projeto.recursos || []).map(x => toGanttResource(x)),\r\n      roles: (projeto.regras || []).map(x => toGanttRole(x))\r\n    });\r\n    /* Converte de arvore para lista de tasks */\r\n    gantt.tasks = this.fromTaskTree(gantt.root, 0);\r\n    return gantt;\r\n  }\r\n\r\n  public fromGantt(project: GanttProject, update: boolean = true): Projeto {\r\n    let root = this.project.tasks[0];\r\n    let origem = root.extra as Projeto;\r\n    let index = 1;\r\n\r\n    const fromGanttRules = (roles: GanttRole[]): ProjetoRegra[] => {\r\n      let result = update ? origem.regras || [] : [];\r\n      return this.util.mergeArrayOfObject(result, roles, \"id\", true, (src) => new ProjetoRegra({\r\n        id: src.id,\r\n        nome: src.name,\r\n        projeto_id: projeto.id\r\n      }), (dst, src) => dst.nome = src.name) as ProjetoRegra[];\r\n    };\r\n    const fromGanttResources = (resources: GanttResource[]): ProjetoRecurso[] => {\r\n      const fromGanttResourceType = (resourceType: GanttResourceType): ProjetoRecursoTipo => {\r\n        const castTypes: IIndexable = {\r\n          HUMAN: \"HUMANO\",\r\n          MATERIAL: \"MATERIAL\",\r\n          SERVICE: \"SERVICO\", \r\n          COST: \"CUSTO\",\r\n          DEPARTMENT: \"DEPARTAMENTO\"\r\n        };\r\n        return castTypes.hasOwnProperty(resourceType) ? castTypes[resourceType] : \"MATERIAL\";\r\n      };\r\n      const fromGanttUnity = (unity: GanttResourceUnity): MaterialServicoUnidade => {\r\n        const castUnity: IIndexable = {\r\n          UNITY: \"UNIDADE\",\r\n          BOX: \"CAIXA\",\r\n          METER: \"METRO\",\r\n          KILO: \"KILO\",\r\n          LITER: \"LITRO\",\r\n          DOZEN: \"DUZIA\",\r\n          CURRENCY: \"MONETARIO\",\r\n          HOUR: \"HORAS\",\r\n          DAY: \"DIAS\",\r\n          PACKAGE: \"PACOTE\"\r\n        };\r\n        return castUnity.hasOwnProperty(unity) ? castUnity[unity] : \"UNITY\";\r\n      };\r\n      let result = update ? origem.recursos || [] : [];\r\n      return this.util.mergeArrayOfObject(result, resources, \"id\", true, (src) => new ProjetoRecurso({\r\n        nome: src.name,\r\n        tipo: fromGanttResourceType(src.type),\r\n        unidade_medida: fromGanttUnity(src.unity),\r\n        valor: src.unityCost,\r\n        projeto_id: projeto.id,\r\n        usuario_id: (src.extra as ProjetoRecurso).usuario_id,\r\n        unidade_id: (src.extra as ProjetoRecurso).unidade_id,\r\n        material_servico_id: (src.extra as ProjetoRecurso).material_servico_id\r\n      }), (dst, src) => Object.assign(dst, {\r\n        nome: src.name,\r\n        tipo: fromGanttResourceType(src.type),\r\n        unidade_medida: fromGanttUnity(src.unity),\r\n        valor: src.unityCost,\r\n      })) as ProjetoRecurso[];\r\n    };\r\n    const fromGanttAssignment = (origem: HasAlocacoes, assignments: GanttAssignment[]): ProjetoAlocacao[] => {\r\n      if(origem.aloca_proprios_recursos || origem.custos_proprios) {\r\n        return this.util.mergeArrayOfObject(origem.alocacoes!, assignments, \"id\", true, (src) => {\r\n          const recurso = (projeto.recursos || []).find(x => x.id == src.recurso_id);\r\n          if(src.extra && recurso) {\r\n            const isProjeto = origem.id == projeto.id;\r\n            if(origem.custos_proprios) origem.custo += src.quantity * (recurso.valor || 0);\r\n            return new ProjetoAlocacao({\r\n              id: src.id,\r\n              descricao: src.description,\r\n              quantidade: src.quantity,\r\n              recurso_id: src.resource_id,\r\n              //regra_id: assign.role_id, /* TODO: Trazer de uma lista de regras */\r\n              projeto_id: isProjeto ? origem.id : null,\r\n              tarefa_id: !isProjeto ? origem.id : null\r\n            });\r\n          }\r\n          return undefined;\r\n        }, (dst, src) => {\r\n          const recurso = (projeto.recursos || []).find(x => x.id == src.recurso_id);\r\n          if(src.extra && recurso) {\r\n            if(origem.custos_proprios) origem.custo += src.quantity * (recurso.valor || 0);\r\n            Object.assign(dst, {\r\n              descricao: src.description,\r\n              quantidade: src.quantity,\r\n              recurso_id: src.resource_id\r\n            });\r\n          }\r\n        }) as ProjetoAlocacao[];\r\n      }\r\n      return [];\r\n    };\r\n    const updateTotals = (origem: HasAlocacoes & HasTarefas, totais: TarefaTotaisFilhos) => {\r\n      if(origem.soma_progresso_filhos) origem.progresso = totais.progresso;\r\n      if(origem.calcula_intervalo) {\r\n        origem.data_inicio = totais.data_inicio || origem.data_inicio;\r\n        origem.data_fim = totais.data_fim || origem.data_fim;\r\n        origem.duracao = totais.duracao || origem.duracao;\r\n      }\r\n    }\r\n    const fromGanttTasks = (pai: HasAlocacoes & HasTarefas, tasks: GanttTask[], path: string): TarefaTotaisFilhos => {\r\n      let result: TarefaTotaisFilhos = {\r\n        custo: 0,\r\n        progresso: 0,\r\n        duracao: 0,\r\n        data_inicio: null,\r\n        data_fim: null\r\n      };\r\n      /* Adiciona caso não exista, ou atualiza caso já exista (A exclusão de tarefas que não existem mais será feita utilizando tasksIds) */\r\n      this.util.mergeArrayOfObject(projeto.tarefas!, tasks, \"id\", false, (action, dst, src) => {\r\n        let origem = src.extra as ProjetoTarefa;\r\n        let tarefa: ProjetoTarefa = dst;\r\n        if(action == \"ADD\") {\r\n          tarefa = new ProjetoTarefa({\r\n            id: src.id,\r\n            indice: index++,\r\n            path: path,\r\n            nome: src.name,\r\n            descricao: src.description,\r\n            documento_id: origem.documento_id,\r\n            documento: origem.documento,\r\n            data_inicio: src.start,\r\n            data_fim: src.end,\r\n            duracao: src.duration,\r\n            progresso: src.progress,\r\n            inicio_marco: src.startIsMilestone,\r\n            termino_marco: src.endIsMilestone,\r\n            tem_filhos: src.hasChild,\r\n            agrupador: origem.agrupador, /* Implementar o isGroup */\r\n            soma_progresso_filhos: origem.soma_progresso_filhos,\r\n            status: origem.status,\r\n            contraido: src.collapsed,\r\n            custo: 0, //origem.custo,\r\n            calcula_intervalo: src.hasChild && origem.calcula_intervalo,\r\n            aloca_proprios_recursos: !src.hasChild || origem.aloca_proprios_recursos,\r\n            soma_recusos_alocados_filhos: src.hasChild && origem.soma_recusos_alocados_filhos,\r\n            custos_proprios: !src.hasChild || origem.custos_proprios,\r\n            soma_custos_filhos: src.hasChild && origem.soma_custos_filhos\r\n          });\r\n        } else if(action == \"EDIT\") {\r\n          Object.assign(tarefa, {\r\n            indice: index++,\r\n            path: path,\r\n            nome: src.name,\r\n            descricao: src.description,\r\n            data_inicio: src.start,\r\n            data_fim: src.end,\r\n            duracao: src.duration,\r\n            progresso: src.progress,\r\n            inicio_marco: src.startIsMilestone,\r\n            termino_marco: src.endIsMilestone,\r\n            tem_filhos: src.hasChild,\r\n            contraido: src.collapsed,\r\n            custo: 0, //origem.custo,\r\n            calcula_intervalo: src.hasChild && origem.calcula_intervalo,\r\n            aloca_proprios_recursos: !src.hasChild || origem.aloca_proprios_recursos,\r\n            soma_recusos_alocados_filhos: src.hasChild && origem.soma_recusos_alocados_filhos,\r\n            custos_proprios: !src.hasChild || origem.custos_proprios,\r\n            soma_custos_filhos: src.hasChild && origem.soma_custos_filhos\r\n          });\r\n        }\r\n        /* Adiciona o ID */\r\n        tasksIds.push(tarefa.id);\r\n        /* custos e alocacoes */\r\n        fromGanttAssignment(tarefa, src.assignments);\r\n        /* Totais dos filhos (calculado recursivamente) e insere os filhos como tarefas (se tiver filhos) */\r\n        if(src.hasChild) {\r\n          let totaisFilhos = fromGanttTasks(tarefa, src.tasks || [], path + \"/\" + src.id);\r\n          /* Atualiza valores pelo total dos filhos */\r\n          updateTotals(tarefa, totaisFilhos);\r\n        }\r\n        /* Calculos feitos para serem retornados, que são utilizados logo aqui acima */\r\n        if(pai.soma_progresso_filhos) result.progresso += src.progress || 0;\r\n        if(pai.calcula_intervalo) {\r\n          result.data_inicio = !result.data_inicio || src.start.getTime() < result.data_inicio.getTime() ? src.start : result.data_inicio;\r\n          result.data_fim = !result.data_fim || src.end.getTime() > result.data_fim.getTime() ? src.end : result.data_fim;\r\n        }\r\n        //if(pai.soma_recusos_alocados_filhos)  /* Não precisa fazer nada, vai ser concatenado somente para exibição no toGantt */\r\n        if(pai.soma_custos_filhos) result.custo += tarefa.custo;\r\n        /* Adiciona a tarefa ao projeto */\r\n        //projeto.tarefas!.push(tarefa); /* Não precisa adicionar, o mergeArrayOfObject já adiciona automaticamente */\r\n        return tarefa;\r\n      });\r\n      /* progresso */\r\n      if(pai.soma_progresso_filhos) result.progresso = result.progresso / (tasks.length || 1);\r\n      return result;\r\n    }\r\n    /* Ids das tarefas, será utilizado ao fim para excluir as tarefas que foram excluídas */\r\n    let tasksIds: string[] = [];\r\n    /* Atualiza o objeto existente (origem) ou cria um novo objeto Projeto baseado no origem */\r\n    let projeto = update ? origem : new Projeto(origem);\r\n    Object.assign(projeto, {\r\n      nome: root.name,\r\n      descricao: root.description,\r\n      data_inicio: root.start,\r\n      data_fim: root.end,\r\n      duracao: root.duration,\r\n      progresso: root.progress,\r\n      regras: fromGanttRules(project.roles),\r\n      recursos: fromGanttResources(project.resources),\r\n      alocacoes: [],\r\n      tarefas: []\r\n    });\r\n    /* Refas a arvore root baseado nas tasks, para facilitar os calculos e totalizações */\r\n    project.root = this.toTaskTree(project.tasks);\r\n    /* Carrega as tarefas e alocações recursivamente */\r\n    let totais = fromGanttTasks(projeto, project.root || [], \"\");\r\n    /* Atualiza valores pelo total dos filhos */\r\n    updateTotals(projeto, totais);\r\n    return projeto;\r\n  }\r\n\r\n  public fromTaskTree(tasks: GanttTask[], level: number): GanttTask[] {\r\n    let result: GanttTask[] = [];\r\n    tasks.forEach(task => result.push(Object.assign(task, { level }), ...this.fromTaskTree(task.tasks || [], level + 1)));\r\n    return result;\r\n  }\r\n\r\n  public toTaskTree(tasks: GanttTask[]): GanttTask[] {\r\n    let levels: GanttTask[] = [tasks[0]]; /* Adiciona a raiz (que é o projeto) como sendo nível 0 */\r\n    let last: number = 0;\r\n    for(let task of tasks) {\r\n      task.tasks = []; /* Limpa a lista de tasks */\r\n      if(task.level) { /* Ignora o level 0, que o próprio projeto */\r\n        task.level = Math.min(task.level, last + 1); /* Garante que os níveis crescem em uma unidade somente */\r\n        levels[task.level-1].tasks?.push(task); /* Adiciona a task no pai */\r\n        levels[task.level] = task;\r\n      }\r\n      last = task.level;\r\n    }\r\n    return [levels[0]];\r\n  }\r\n\r\n  public titleEdit = (entity: Projeto): string => {\r\n    return \"Editando: \" + (entity?.nome || \"\");\r\n  }\r\n}\r\n\r\n","<ng-template #ticket let-card=\"card\" let-metadata=\"metadata\">\r\n    <div *ngIf=\"card.data.alocacoes?.length\" class=\"d-block\">\r\n        <separator title=\"Recursos alocados\" small></separator>\r\n        <profile-picture *ngFor=\"let recurso of getRecursos(card.data, metadata)\" [url]=\"recurso.url\" [hint]=\"recurso.hint\"></profile-picture>\r\n    </div>\r\n    <ng-container *ngIf=\"!filter?.controls?.resumido?.value\">\r\n        <div class=\"card-status-container\">\r\n            <badge *ngFor=\"let status of getStatus(card.data, metadata)\" [color]=\"getStatusColor(status)\" [icon]=\"status.icon\" [label]=\"status.value\"></badge>\r\n        </div>\r\n        <separator title=\"Comentários\" small [button]=\"addComentarioButton\"></separator>\r\n    </ng-container>\r\n</ng-template>\r\n<ng-template #editDocker>\r\n    <input-select [size]=\"12\" controlName=\"etiqueta\" [control]=\"formEdit.controls.etiqueta\" [items]=\"etiquetasEdit\"></input-select>\r\n</ng-template>\r\n<ng-template #placeholder>\r\n    <div class=\"card-body\">\r\n        <div class=\"d-flex w-100\">\r\n            <div class=\"flex-fill\">\r\n                <h5 class=\"card-title placeholder-glow\"><span class=\"placeholder col-6\"></span></h5>\r\n            </div>\r\n            <div class=\"btn-group\" role=\"group\" aria-label=\"Basic outlined example\">\r\n                <button type=\"button\" class=\"btn btn-sm btn-outline-secondary disabled placeholder\">\r\n                    <i class=\"bi bi-question\"></i>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <h6 class=\"card-subtitle mb-2 text-muted placeholder-glow\"><span class=\"placeholder col-8\"></span></h6>\r\n        <p class=\"card-text placeholder-glow\">\r\n            <span class=\"placeholder col-7\"></span>\r\n            <span class=\"placeholder col-4\"></span>\r\n            <span class=\"placeholder col-4\"></span>\r\n            <span class=\"placeholder col-6\"></span>\r\n            <span class=\"placeholder col-8\"></span>\r\n        </p>\r\n    </div>\r\n</ng-template>\r\n<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs #planejamentoTabs display right>\r\n        <tab key=\"GANTT\" label=\"Principal\" icon=\"bi bi-bar-chart-steps\"></tab>\r\n        <tab key=\"CALENDARIO\" label=\"Calendário\" icon=\"bi bi-calendar-week\"></tab>\r\n        <tab key=\"BURNDOWN\" label=\"Burndown\" icon=\"bi bi-graph-down\"></tab>\r\n        <tab key=\"KANBAN\" label=\"Quadro\" icon=\"bi bi-card-heading\"></tab>\r\n    </tabs>\r\n    <!-- Tab Gantt -->\r\n    <div [class.d-none]=\"planejamentoTabs.active != 'GANTT'\">\r\n        <gantt *ngIf=\"shown\" [project]=\"project\" [height]=\"ganttHeight\"></gantt>\r\n    </div>\r\n    <!-- Tab Calendário -->\r\n    <!--div *ngIf=\"planejamentoTabs.active == 'CALENDARIO'\" class=\"d-block text-center\" style=\"min-height: 400px; max-width: 1000px; margin: auto;\"/-->\r\n    <div *ngIf=\"planejamentoTabs.active == 'CALENDARIO'\" class=\"row\" style=\"min-height: 400px;\">\r\n        <div class=\"col-md-6\">\r\n            <projeto-tarefa-filter [projeto]=\"entity\" [change]=\"onCalendarioFilterChange.bind(this)\"></projeto-tarefa-filter>\r\n        </div>\r\n        <div class=\"col-md-6\">\r\n            <full-calendar *ngIf=\"afterLoadData\" [options]=\"calendarOptions\"></full-calendar>\r\n        </div>\r\n    </div>\r\n    <!-- Tab Burndown -->\r\n    <div *ngIf=\"planejamentoTabs.active == 'BURNDOWN'\" class=\"row\">\r\n        <div class=\"col-md-6\">\r\n            <projeto-tarefa-filter [projeto]=\"entity\" [change]=\"onCalendarioFilterChange.bind(this)\"></projeto-tarefa-filter>\r\n        </div>\r\n        <div class=\"col-md-6\">\r\n            <img [src]=\"gb.getResourcePath('assets/images/burndown-example.png')\" style=\"width: 100%\">\r\n        </div>        \r\n    </div>\r\n    <!-- Tab Kanban -->\r\n    <div *ngIf=\"planejamentoTabs.active == 'KANBAN'\">\r\n        <kanban #planejamentoKanban \r\n            [dockers]=\"labels\" \r\n            [template]=\"ticket\" \r\n            [placeholderTemplate]=\"placeholder\" \r\n            [loading]=\"loading\" \r\n            [swimlaneDrop]=\"onSwimlaneDrop.bind(this)\"\r\n            [dockerDragged]=\"onDragged.bind(this)\" \r\n            [dockerDrop]=\"onDrop.bind(this)\" \r\n            [dockerEditTemplate]=\"editDocker\" \r\n            [dockerToggle]=\"onDockerCollapse.bind(this)\" \r\n            [dockerEdit]=\"editEtiquetas.bind(this)\" \r\n            [dockerSave]=\"saveEtiquetas.bind(this)\" \r\n            [dockerDelete]=\"deleteEtiquetas.bind(this)\" \r\n            [dockerCancel]=\"cancelEtiquetas.bind(this)\" \r\n            [dockerColorStyle]=\"getLabelStyle\" \r\n            useCardData>\r\n        </kanban>\r\n    </div>\r\n</editable-form>","import { ChangeDetectorRef, Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { SeparatorComponent } from 'src/app/components/separator/separator.component';\r\nimport { MaterialServicoDaoService } from 'src/app/dao/material-servico-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { ProjetoRecurso, ProjetoRecursoTipo } from 'src/app/models/projeto-recurso.model';\r\nimport { FormHelperService } from 'src/app/services/form-helper.service';\r\nimport { LookupItem, LookupService } from 'src/app/services/lookup.service';\r\nimport { ProjetoService } from '../projeto.service';\r\n\r\n@Component({\r\n  selector: 'projeto-recurso-widget',\r\n  templateUrl: './projeto-recurso-widget.component.html',\r\n  styleUrls: ['./projeto-recurso-widget.component.scss']\r\n})\r\nexport class ProjetoRecursoWidgetComponent implements OnInit {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(\"novoRecurso\", { static: false }) public novoRecurso?: SeparatorComponent;\r\n  @ViewChild(\"selectRecurso\", { static: false }) public selectRecurso?: InputSelectComponent;\r\n  @ViewChild(\"usuario\", { static: false }) public usuario?: InputSearchComponent;\r\n  @ViewChild(\"unidade\", { static: false }) public unidade?: InputSearchComponent;\r\n  @ViewChild(\"materialServico\", { static: false }) public materialServico?: InputSearchComponent;\r\n  @ViewChild(\"tipoRecurso\", { static: false }) public tipoRecurso?: InputSelectComponent;\r\n  @Input() control: FormControl = new FormControl();\r\n  @Input() recursos: LookupItem[] = [];\r\n  @Input() change?: (tipo: ProjetoRecursoTipo | undefined) => void;\r\n\r\n  public form: FormGroup;\r\n  public fh: FormHelperService;\r\n  public cdRef: ChangeDetectorRef;\r\n  public lookup: LookupService;\r\n  public usuarioDao: UsuarioDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public projetoService: ProjetoService;\r\n  public materialServicoDao: MaterialServicoDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\r\n    this.lookup = injector.get<LookupService>(LookupService);\r\n    this.fh = injector.get<FormHelperService>(FormHelperService);\r\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.projetoService = injector.get<ProjetoService>(ProjetoService);\r\n    this.materialServicoDao = injector.get<MaterialServicoDaoService>(MaterialServicoDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      nome: { default: \"\" },\r\n      tipo: { default: \"MATERIAL\" },\r\n      unidade_medida: { default: \"UNIDADE\" },\r\n      material_servico_id: { default: null },\r\n      usuario_id: { default: null },\r\n      unidade_id: { default: null },\r\n      valor: { default: 0 }\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    const tipo = this.form?.controls.tipo.value;\r\n    if (tipo == \"HUMANO\" && controlName == \"usuario_id\" && !control.value?.length) return \"Obrigatório\";\r\n    if (tipo == \"DEPARTAMENTO\" && controlName == \"unidade_id\" && !control.value?.length) return \"Obrigatório\";\r\n    if (controlName == \"material_servico_id\" && this.materialServico?.selectedItem && this.materialServico?.selectedItem!.entity.tipo != tipo) return \"Tipo diferente\";\r\n    return null;\r\n  }\r\n\r\n  public onRecursoChange() {\r\n    const tipo = this.novoRecurso?.collapsed ? this.selectRecurso?.selectedItem?.data?.tipo : this.form.controls.tipo.value;\r\n    if(this.change) this.change(tipo);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public get collapsed(): boolean {\r\n    return !!this.novoRecurso?.collapsed;\r\n  }\r\n\r\n  public get recurso(): ProjetoRecurso | undefined {\r\n    let result = this.novoRecurso?.collapse ? this.selectRecurso?.selectedItem?.data : undefined;\r\n    this.form!.markAllAsTouched();\r\n    if (!this.novoRecurso?.collapse && this.form!.valid) {\r\n      result = new ProjetoRecurso({\r\n        id: \"NEW\",\r\n        nome: this.form.controls.nome.value,\r\n        tipo: this.form.controls.tipo.value,\r\n        unidade_medida: this.form.controls.unidade_medida.value,\r\n        material_servico_id: [\"MATERIAL\", \"SERVICO\"].includes(this.form.controls.tipo.value) ? this.form.controls.material_servico_id.value : null,\r\n        usuario_id: this.form.controls.tipo.value == \"HUMANO\" ? this.form.controls.usuario_id.value : null,\r\n        unidade_id: this.form.controls.tipo.value == \"DEPARTAMENTO\" ? this.form.controls.unidade_id.value : null,\r\n        valor: this.form.controls.valor.value,\r\n        usuario: this.usuario?.selectedEntity,\r\n        unidade: this.unidade?.selectedEntity,\r\n        material_servico: this.materialServico?.selectedEntity\r\n      });\r\n    }\r\n    return result;\r\n  }\r\n\r\n  ngOnInit(): void { }\r\n\r\n}\r\n","<input-select *ngIf=\"novoRecurso.collapsed\" [size]=\"12\" itemTodos=\"- Selecione -\" valueTodos=\"\" #selectRecurso controlName=\"recurso_id\" (change)=\"onRecursoChange()\" [control]=\"form!.controls.recurso_id\" [items]=\"recursos\"></input-select>\r\n<separator #novoRecurso [title]=\"novoRecurso.collapsed ? 'Clique aqui para adicionar novo recurso' : 'Clique aqui para selecionar recurso existente'\" collapse transparent>\r\n    <editable-form noMargin [form]=\"form\" noButtons>\r\n        <div class=\"row m-0 p-0\">\r\n            <input-select [size]=\"4\" #tipoRecurso controlName=\"tipo\" hostClass=\"p-1\" [control]=\"form!.controls.tipo\" [items]=\"lookup.PROJETO_TIPO_RECURSOS\" (change)=\"onRecursoChange()\"></input-select>\r\n            <input-select [size]=\"4\" controlName=\"unidade_medida\" hostClass=\"p-1\" [control]=\"form!.controls.unidade_medida\" [items]=\"lookup.MATERIAL_SERVICO_UNIDADE\"></input-select>\r\n            <input-number [size]=\"4\" [decimals]=\"2\" controlName=\"valor\" prefix=\"R$\" hostClass=\"p-1\" [control]=\"form!.controls.valor\"></input-number>\r\n        </div>\r\n        <div class=\"row m-0 p-0\">\r\n            <input-search *ngIf=\"projetoService.isHumanoDepartamento(tipoRecurso?.value, ['HUMANO'])\" hostClass=\"p-1\" [size]=\"12\" #usuario controlName=\"usuario_id\" [dao]=\"usuarioDao\" ></input-search>\r\n            <input-search *ngIf=\"projetoService.isHumanoDepartamento(tipoRecurso?.value, ['DEPARTAMENTO'])\" hostClass=\"p-1\" [size]=\"12\" #unidade controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n            <input-search *ngIf=\"projetoService.isMaterialServico(tipoRecurso?.value)\" hostClass=\"p-1\" [size]=\"6\" #materialServico controlName=\"material_servico_id\" [dao]=\"materialServicoDao\" [where]=\"[['tipo', '==', tipoRecurso?.value]]\"></input-search>\r\n            <input-text *ngIf=\"!projetoService.isHumanoDepartamento(tipoRecurso?.value)\" hostClass=\"p-1\" prefix=\"Descrição\" [size]=\"projetoService.isMaterialServico(tipoRecurso?.value) ? 6 : 12\" controlName=\"nome\" [control]=\"form!.controls.nome\" [attr.maxlength]=250></input-text>\r\n        </div>\r\n    </editable-form>\r\n</separator>","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { ProjetoFormRecursosComponent } from './projeto-form-recursos/projeto-form-recursos.component';\r\nimport { ProjetoFormComponent } from './projeto-form/projeto-form.component';\r\nimport { ProjetoListComponent } from './projeto-list/projeto-list.component';\r\nimport { ProjetoPlanejamentoComponent } from './projeto-planejamento/projeto-planejamento.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: ProjetoListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Projeto\" } },\r\n  { path: 'new', component: ProjetoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão\", modal: true } },\r\n  { path: ':id/edit', component: ProjetoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição\", modal: true } },\r\n  { path: ':id/consult', component: ProjetoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consultar\", modal: true } },\r\n  { path: ':id/planejamento', component: ProjetoPlanejamentoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Planejamento\", modal: true } },\r\n  { path: ':id/comentar', component: ProjetoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Comentar\", modal: true } },\r\n  { path: ':id/clonar', component: ProjetoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Clonar\", modal: true } },\r\n  { path: ':id/recurso', component: ProjetoFormRecursosComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Recurso\", modal: true } },\r\n  { path: ':id/regra', component: ProjetoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Regra\", modal: true } },\r\n  { path: ':id/alocacao', component: ProjetoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Alocação\", modal: true } }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ProjetoRoutingModule { }\r\n","import { Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { ProjetoTarefa } from 'src/app/models/projeto-tarefa.model';\r\nimport { Projeto } from 'src/app/models/projeto.model';\r\nimport { PageBase } from 'src/app/modules/base/page-base';\r\nimport { ProjetoService } from '../projeto.service';\r\n\r\n@Component({\r\n  selector: 'projeto-tarefa-filter',\r\n  templateUrl: './projeto-tarefa-filter.component.html',\r\n  styleUrls: ['./projeto-tarefa-filter.component.scss']\r\n})\r\nexport class ProjetoTarefaFilterComponent extends PageBase {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @Input() formDisabled: boolean = false;\r\n  @Input() change?: (tarefas: ProjetoTarefa[]) => void;\r\n  @Input() set projeto(value: Projeto | undefined) {\r\n    if(this._projeto != value) {\r\n      this._projeto = value;\r\n      this.loadTarefas();\r\n    }\r\n  }\r\n  get projeto(): Projeto | undefined {\r\n    return this._projeto;\r\n  }\r\n\r\n  public form: FormGroup;\r\n  public tarefas: ProjetoTarefa[] = [];\r\n  public projetoService: ProjetoService;\r\n  public usuarioDao: UsuarioDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public buttons: ToolbarButton[] = [\r\n    {\r\n      icon: \"bi bi-check-all\",\r\n      color: \"btn btn-outline-success\",\r\n      label: \"Selecionar\",\r\n      onClick: (...args: any[]) => {\r\n        this.grid?.setMultiselectSelectedItems(this.tarefas.filter(tarefa => \r\n          (this.form.controls.usuario_id?.value?.length && tarefa.alocacoes?.find(x => x.recurso?.usuario_id == this.form.controls.usuario_id?.value)) ||\r\n          (this.form.controls.unidade_id?.value?.length && tarefa.alocacoes?.find(x => x.recurso?.unidade_id == this.form.controls.unidade_id?.value))\r\n          //(this.util.isDataValid(this.form.controls.data_inicio?.value) && tarefa.data_inicio.getTime() )\r\n        ));\r\n      }\r\n    },\r\n    {\r\n      label: \"Todos\",\r\n      icon: \"bi bi-grid-fill\",\r\n      hint: \"Selecionar\",\r\n      color: \"btn-outline-danger\",\r\n      onClick: (...args: any[]) => this.grid?.onSelectAllClick()\r\n    }, {\r\n      label: \"Nenhum\",\r\n      icon: \"bi bi-grid\",\r\n      hint: \"Selecionar\",\r\n      color: \"btn-outline-danger\",\r\n      onClick: (...args: any[]) => this.grid?.onUnselectAllClick()\r\n    }\r\n  ];\r\n\r\n  private _projeto?: Projeto;\r\n  \r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.projetoService = injector.get<ProjetoService>(ProjetoService);\r\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      usuario_id: {default: null},\r\n      unidade_id: {default: null},\r\n      data_inicio: {default: null},\r\n      data_fim: {default: null}\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    super.ngAfterViewInit();\r\n    this.grid?.enableMultiselect(true);\r\n  }\r\n\r\n  public getLevel(tarefa: ProjetoTarefa) {\r\n    return (tarefa.path || \"\").split(\"/\").length;\r\n  }\r\n\r\n  public loadTarefas() {\r\n    this.grid?.onUnselectAllClick();\r\n    this.tarefas = [new ProjetoTarefa({\r\n      id: this._projeto?.id,\r\n      index: 0,\r\n      nome: this._projeto?.nome || \"PROJETO\",\r\n      descricao: this.projeto?.descricao || \"\",\r\n      data_inicio: this._projeto?.data_inicio || new Date(),\r\n      data_fim: this._projeto?.data_fim || new Date()\r\n    })];\r\n    this.tarefas.push(...(this._projeto?.tarefas?.sort((a, b) => a.indice < b.indice ? -1 : 1) || []));\r\n    this.cdRef.detectChanges();\r\n    this.grid?.onSelectAllClick();\r\n  }\r\n\r\n  public onMultiselectChange(multiselected: IIndexable) {\r\n    if(this.change) this.change(Object.values(multiselected) as ProjetoTarefa[]);\r\n  }\r\n\r\n}\r\n","<editable-form [form]=\"form!\" [buttons]=\"buttons\" [disabled]=\"formDisabled\" >\r\n    <div class=\"row\">\r\n        <input-search #usuario [size]=\"6\" controlName=\"usuario_id\" [dao]=\"usuarioDao\" ></input-search>\r\n        <input-search #unidade [size]=\"6\" controlName=\"unidade_id\" [dao]=\"unidadeDao\" ></input-search>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-datetime [size]=\"6\" date label=\"Início\" controlName=\"data_inicio\" labelInfo=\"Data de início da tarefa\"></input-datetime>\r\n        <input-datetime [size]=\"6\" date label=\"Fim\" controlName=\"data_fim\" labelInfo=\"Data fim da tarefa\"></input-datetime>\r\n    </div>\r\n</editable-form>\r\n<grid [items]=\"tarefas\" multiselect [multiselectChange]=\"onMultiselectChange.bind(this)\">\r\n    <columns>\r\n        <column title=\"Tarefa\" [template]=\"columnTarefa\">\r\n            <ng-template let-row=\"row\" #columnTarefa>\r\n                <div [style.margin-left.px]=\"10 * getLevel(row)\">\r\n                    <strong>{{row.nome}}</strong><br>\r\n                    <small>{{row.descricao}}</small>\r\n                </div>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Recursos\" [template]=\"columnRecursos\">\r\n            <ng-template let-row=\"row\" #columnRecursos>\r\n                <profile-picture *ngFor=\"let alocacao of row.alocacoes\" [url]=\"projetoService.getRecursoPicture(alocacao.recurso)\" [hint]=\"alocacao.descricao\"></profile-picture>\r\n            </ng-template>\r\n        </column>\r\n    </columns>\r\n</grid>\r\n\r\n<!--\r\n\r\nUsuario: [Genisson                  ]   \r\nUnidade: [                          ]\r\nNo pedíodo: [        ] a [          ]\r\n                           Selecionar\r\n      Ativadade            \r\n [ ]  Recurssos\r\n-------------------------------------\r\n  X   Atividade X \r\n  X     Atividade X \r\n  X   Atividade X   \r\n  X     Atividade X\r\n\r\n-->","import { ChangeDetectorRef, Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { ProjetoTarefaDaoService } from 'src/app/dao/projeto-tarefa-dao.service';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { ProjetoTarefa } from 'src/app/models/projeto-tarefa.model';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { Projeto } from 'src/app/models/projeto.model';\r\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\r\n\r\n@Component({\r\n  selector: 'projeto-tarefa-form-principal',\r\n  templateUrl: './projeto-tarefa-form-principal.component.html',\r\n  styleUrls: ['./projeto-tarefa-form-principal.component.scss']\r\n})\r\nexport class ProjetoTarefaFormPrincipalComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n  @Input() set entity(value: ProjetoTarefa | undefined) { super.entity = value; } get entity(): ProjetoTarefa | undefined { return super.entity; }\r\n  @Input() cdRef: ChangeDetectorRef;\r\n  @Input() projeto?: Projeto;\r\n\r\n  public form: FormGroup;\r\n  public atividadeDao!: AtividadeDaoService;\r\n  public tipos: LookupItem[] = [{\r\n    key: \"TAREFA\",\r\n    value: \"Tarefa\"\r\n  }, {\r\n    key: \"ATIVIDADE\",\r\n    value: \"Atividade\"\r\n  }, {\r\n    key: \"DOCUMENTO\",\r\n    value: \"Doc. SUPER/SEI\"\r\n  }, {\r\n    key: \"PROJETO\",\r\n    value: \"Projeto\"\r\n  }];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<ProjetoTarefaDaoService>(ProjetoTarefaDaoService);\r\n    this.atividadeDao = injector.get<AtividadeDaoService>(AtividadeDaoService);\r\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\r\n    this.form = this.fh.FormBuilder({\r\n      tipo: {default: \"TAREFA\"},\r\n      indice: {default: \"\"},\r\n      nome: {default: \"\"},\r\n      status_tarefa: {default: \"PLANEJADO\"},\r\n      descricao: {default: \"\"},\r\n      numero_processo: {default: \"\"},\r\n      numero_documento: {default: \"\"},\r\n      marco_inicio: {default: \"\"},\r\n      inicio_tarefa: {default: new Date()},\r\n      marco_termino: {default: \"\"},\r\n      termino_tarefa: {default: new Date()},\r\n      duracao: {default: \"\"},\r\n      progresso: {default: 0},\r\n      custo_tarefa: {default: 0.00},\r\n      possui_custos_proprios: {default: true},\r\n      soma_recursos_alocados_filhos: {default: true},\r\n      soma_progresso_filhos: {default: true},\r\n      tem_filhos: {default: true},\r\n      agrupador: {default: false},\r\n      contraido: {default: false},\r\n      aloca_recursos_proprios: {default: true},\r\n      calcula_intervalo: {default: true},\r\n    }, this.cdRef, this.validate);\r\n    this.join = [\"alocacoes\", \"atividade\"];\r\n  }\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n\r\n    if((controlName == \"nome\" && !control.value?.length) || \r\n      (controlName == \"fator_complexidade\" && !(control.value > 0)) ||\r\n      (controlName == \"data_entrega\" && !this.util.isDataValid(control.value))) {\r\n      result = \"Obrigatório\";\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  public get unitDuracao(): \"hour\" | \"day\" {\r\n    return this.form?.controls.usa_horas.value ? \"hour\" : \"day\";\r\n  }\r\n\r\n}\r\n","<editable-form [form]=\"form!\" [noButtons]=\"!entity_id ? 'true' : undefined\" [disabled]=\"formDisabled\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div class=\"row\">\r\n        <input-switch [size]=\"1\" label=\"Pai\" controlName=\"tem_filhos\" labelInfo=\"Se possui filhos, se é uma tarefa sintética (resumo)\"></input-switch>\r\n        <input-radio [size]=\"8\" [label]=\"'Tipo da '+ lex.translate('tarefa')\" controlName=\"tipo\" [control]=\"form!.controls.tipo\" [items]=\"tipos\"></input-radio>\r\n        <input-select [size]=\"3\" [label]=\"'Status da '+ lex.translate('tarefa')\" icon=\"bi bi-arrow-up-right-circle\" controlName=\"status_tarefa\" [items]=\"lookup.PROJETO_TAREFA_STATUS\"></input-select>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-text [size]=\"12\" label=\"Nome\" controlName=\"nome\" labelInfo=\"Nome da tarefa\" [attr.maxlength]=250></input-text>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-search [size]=\"12\" displayOnlySelected #atividade controlName=\"atividade_id\" [dao]=\"atividadeDao\" [displayTemplate]=\"displayAtividade\">\r\n            <ng-template #displayAtividade let-selected=\"selcted\">\r\n                Mostrar dados quando selecionar\r\n            </ng-template>\r\n        </input-search>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-button [label]=\"lex.translate('Processo')\" [size]=\"3\" #procRequisicao controlName=\"numero_processo\" [control]=\"form!.controls.numero_processo\" [disabled]=\"!gb.isEmbedded || form!.controls.numero_requisicao.value?.length ? 'true' : undefined\" labelInfo=\"Número do processo, com a formatação de origem\"></input-button>\r\n        <input-button [label]=\"lex.translate('Documento')\" [size]=\"1\" #docRequisicao controlName=\"numero_documento\" [control]=\"form!.controls.numero_requisicao\" [disabled]=\"!gb.isEmbedded ? 'true' : undefined\" labelInfo=\"Numero do documento de requisição, caso seja o Sei é o numero Sei\"></input-button>\r\n        <!--input-search label=\"Tipo processo\" [size]=\"4\" #tipoProcesso controlName=\"tipo_processo_id\" [control]=\"form!.controls.tipo_processo_id\" disabled [dao]=\"tipoProcessoDao\"></input-search/-->\r\n        <!--input-search label=\"Tipo documento\" [size]=\"4\" #tipoDocumento controlName=\"tipo_documento_id\" [control]=\"form!.controls.tipo_documento_id\" disabled [dao]=\"tipoDocumentoDao\"></input-search/-->\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-textarea [size]=\"12\" [rows]=\"2\" label=\"Descrição\" controlName=\"descricao\"></input-textarea>\r\n    </div>\r\n    <separator title=\"Cronograma e progresso\"></separator>\r\n    <div class=\"row\">\r\n        <input-switch label=\"Marco\" [size]=\"2\" controlName=\"marco_inicio\" labelInfo=\"Marco início\"></input-switch>\r\n        <input-datetime [date]=\"projeto?.usa_horas ? undefined : 'true'\" [size]=\"4\" label=\"Início\" icon=\"bi bi-calendar-date\" controlName=\"data_inicio\"></input-datetime>\r\n        <input-switch label=\"Marco\" [size]=\"2\" controlName=\"marco_termino\" labelInfo=\"Marco término\"></input-switch>\r\n        <input-datetime [date]=\"projeto?.usa_horas ? undefined : 'true'\" [size]=\"4\" label=\"Término\" icon=\"bi bi-calendar-date\" controlName=\"data_fim\"></input-datetime>\r\n        <!-- input-workload daysOrHours [size]=\"3\" [unit]=\"unitDuracao\" [disabled]=\"\" label=\"Duração\" controlName=\"duracao\" [control]=\"form!.controls.carga_horaria\" [unitChange]=\"onUnitDuracaoChange.bind(this)\" labelInfo=\"Se o projeto será calculado em horas ou dias\"></input-workload /-->\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-datetime date [size]=\"4\" label=\"Início realizado\" icon=\"bi bi-calendar-date\" controlName=\"inicio_realizado\"></input-datetime>\r\n        <input-datetime date [size]=\"4\" label=\"Término realizado\" icon=\"bi bi-calendar-date\" controlName=\"termino_relizado\"></input-datetime>\r\n        <!--input-workload daysOrHours [size]=\"3\" [unit]=\"unitDuracao\" [disabled]=\"\" label=\"Duração\" controlName=\"duracao_realizado\" [unitChange]=\"onUnitDuracaoChange.bind(this)\" labelInfo=\"Se o projeto será calculado em horas ou dias\"></input-workload/-->\r\n        <input-text number [label]=\"'Custo da '+ lex.translate('tarefa')\" prefix=\"R$\" [size]=\"4\" icon=\"bi bi-clock\" controlName=\"custo\" labelInfo=\"Custo associado à tarefa\" [attr.maxlength]=250></input-text>\r\n        <input-text number label=\"Progresso\" sufix=\"%\" [size]=\"4\" icon=\"bi bi-clock\" controlName=\"progresso\" labelInfo=\"Progresso do projeto (% Concluído)\" [attr.maxlength]=250></input-text>\r\n    </div>\r\n\r\n<!--input-switch label=\"Auto\" [size]=\"1\" controlName=\"intervalo_automatico\" (change)=\"onIntervaloAutomaticoChange($event)\" labelInfo=\"Se o período do projeto será calculado automaticamente pelas tarefas\"></input-switch>\r\n<input-datetime date [size]=\"3\" label=\"Início\" [disabled]=\"intervaloAutomatico\" icon=\"bi bi-calendar-date\" controlName=\"inicio_projeto\"></input-datetime>\r\n<input-datetime date [size]=\"3\" label=\"Término\" [disabled]=\"intervaloAutomatico\" icon=\"bi bi-calendar-date\" controlName=\"termino_projeto\"></input-datetime>\r\n<input-text number [size]=\"2\" label=\"Progresso\" sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso\" labelInfo=\"Progresso do projeto (% Concluído)\"></input-text>\r\nMarco  Inicio planejado Marco  Termino planejado Duração    \r\n[    ] __/__/____ __:__ [    ] __/__/____ __:__  ____(Dias) \r\nInicio realizado Termino realizado Duração    Custo  Progresso \r\n__/__/____ __:__ __/__/____ __:__  ____(Dias) _______  ____ %\r\n<input-number number [size]=\"4\" label=\"Duração\" sufix=\"d/h\" controlName=\"duracao\"></input-number>\r\n<input-switch label=\"Filhos\" [size]=\"1\" controlName=\"soma_progresso_filhos\" (change)=\"onIntervaloAutomaticoChange($event)\" labelInfo=\"Se o progresso é calculado pela média do progresso dos filhos\"></input-switch>\r\n<input-text number label=\"Progresso\" sufix=\"%\" [size]=\"4\" icon=\"bi bi-clock\" controlName=\"progresso\" labelInfo=\"Progresso do projeto (% Concluído)\"></input-text>\r\n<input-switch label=\"Filhos\" [size]=\"1\" controlName=\"soma_progresso_filhos\" (change)=\"onIntervaloAutomaticoChange($event)\" labelInfo=\"Se o progresso é calculado pela média do progresso dos filhos\"></input-switch/-->\r\n\r\n    <separator title=\"Configurações\">\r\n        <div class=\"row\">\r\n            <input-switch label=\"Possui custos próprios\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"ten_filhos\" labelInfo=\"Define se a tarefa tem custos pr[oprios associados\"></input-switch>\r\n            <input-switch label=\"Aloca recursos no projeto\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"aloca_recursos_proprios\" labelInfo=\"Aloca recursos próprios da tarefa\"></input-switch>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-switch [label]=\"'Possui '+ lex.translate('tarefa') +' filhas'\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"possui_custos_proprios\" labelInfo=\"Define se a tarefa tem custos pr[oprios associados\"></input-switch>\r\n            <input-switch [label]=\"'Calcula intervalo da ' + lex.translate('tarefa')\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"calcula_intervalo\" labelInfo=\"Calculo intervalo de execução da tarefa\"></input-switch>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-switch label=\"Contraída\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"contraido\" labelInfo=\"Define se a tarefa tem custos pr[oprios associados\"></input-switch>\r\n            <input-switch label=\"Agrupadora\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"agrupador\" labelInfo=\"A tarefa tem função agrupadora\"></input-switch>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-switch label=\"Soma progresso das filhas\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"soma_progresso_filhos\" labelInfo=\"Calcula o progresso das tarefas filhas\"></input-switch>\r\n            <input-switch [label]=\"'Soma recursos' + lex.translate('tarefa') +' filhas'\" scale=\"small\" labelPosition=\"right\" [size]=\"6\" controlName=\"soma_recursos_alocados_filhos\" labelInfo=\"Soma recursos das tarefas filhas\"></input-switch>\r\n        </div>\r\n    </separator>\r\n</editable-form>\r\n\r\n<!--\r\n'tem_filhos', /* tinyint; NOT NULL; */// Se é um registro sintético (resumo)\r\n\r\n'agrupador', /* tinyint; NOT NULL; */// Se é apenas um registro para agrupar tarefas filhas (somente se tem_filhos e não possui progresso)\r\n'soma_progresso_filhos', /* tinyint; NOT NULL; DEFAULT: '1'; */// Se o progresso é calculado pela média do progresso dos filhos ou lançado manual (somente se tem_filhos)\r\n'calcula_intervalo', /* tinyint; NOT NULL; DEFAULT: '1'; */// Se calcula o inicio e termino automaticamente pelos filhos (somente se tem_filhos)\r\n'aloca_proprios_recursos', /* tinyint; NOT NULL; DEFAULT: '1'; */// Se possui recursos próprios (somente se tem_filhos)\r\n'soma_recusos_alocados_filhos', /* tinyint; NOT NULL; DEFAULT: '1'; */// Mostra o somatório dos recursos filhos (somente se tem_filhos)\r\n'custos_proprios', /* tinyint; NOT NULL; DEFAULT: '1'; */// Se possui custos próprios (somente se tem_filhos), se não tem filhos sempre será true\r\n'soma_custos_filhos', /* tinyint; NOT NULL; DEFAULT: '1'; */// Se possui custos filhos (somente se tem_filhos)\r\n\r\n\r\nNumero   Nome                                                   Status\r\nXXXXXXX  XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX  XXXXXXXXXXXXX\r\nDescricao\r\nXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\nXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\nFinalidade\r\nXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n-- Cronograma e progresso ----------------------------------------------------\r\nMarco   Inicio              Marco   Termino            Duração      Progresso\r\n([]  )  xx/xx/xxxxx xx:xx   (  [])  xx/xx/xxxx xx:xx   [ xxxxx]    [xxx,xx %]\r\n-- Configurações -------------------------------------------------------------\r\n                Tempo corrido: ([]  )                    Usa horas: ([]  )\r\n          Intervalo automático: ([]  )         Progresso automático: ([]  )\r\n                    Agrupador: ([]  )                    Usa custo: ([]  )\r\n    Aloca recursos no projeto: ([]  )    Soma alocações automático: ([]  )\r\n      Possui custos no projeto: ([]  )       Soma custos automático: ([]  )\r\n\r\n-->","import { Component, Injector, OnInit } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\nimport { Projeto } from 'src/app/models/projeto.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\n\r\n@Component({\r\n  selector: 'projeto-tarefa-form',\r\n  templateUrl: './projeto-tarefa-form.component.html',\r\n  styleUrls: ['./projeto-tarefa-form.component.scss']\r\n})\r\nexport class ProjetoTarefaFormComponent extends PageFrameBase {\r\n\r\n  public projeto?: Projeto;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.form = this.fh.FormBuilder({\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    return result;\r\n  }\r\n\r\n}\r\n\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\">\r\n    <tabs display right>\r\n        <tab key=\"PRINCIPAL\" label=\"Principal\">\r\n            <projeto-tarefa-form-principal [projeto]=\"projeto\"></projeto-tarefa-form-principal>\r\n        </tab>\r\n        <tab key=\"ALOCACOES\" label=\"Alocações\">\r\n            <projeto-form-alocacoes></projeto-form-alocacoes>\r\n        </tab>\r\n        <tab key=\"COMENTARIOS\" label=\"Comentários\">\r\n            <comentarios></comentarios>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ProjetoRoutingModule } from './projeto-routing.module';\r\nimport { ProjetoListComponent } from './projeto-list/projeto-list.component';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { ProjetoFormComponent } from './projeto-form/projeto-form.component';\r\nimport { ProjetoPlanejamentoComponent } from './projeto-planejamento/projeto-planejamento.component';\r\nimport { ProjetoFormPrincipalComponent } from './projeto-form-principal/projeto-form-principal.component';\r\nimport { ProjetoFormRecursosComponent } from './projeto-form-recursos/projeto-form-recursos.component';\r\nimport { ProjetoFormAlocacoesComponent } from './projeto-form-alocacoes/projeto-form-alocacoes.component';\r\nimport { UteisModule } from '../../uteis/uteis.module';\r\nimport { FullCalendarModule } from '@fullcalendar/angular';\r\nimport { ProjetoTarefaFormComponent } from './projeto-tarefa-form/projeto-tarefa-form.component';\r\nimport { ProjetoTarefaFormPrincipalComponent } from './projeto-tarefa-form-principal/projeto-tarefa-form-principal.component';\r\nimport { ProjetoFormRegrasComponent } from './projeto-form-regras/projeto-form-regras.component';\r\nimport { ProjetoTarefaFilterComponent } from './projeto-tarefa-filter/projeto-tarefa-filter.component';\r\nimport { ProjetoFormFasesComponent } from './projeto-form-fases/projeto-form-fases.component';\r\nimport { ProjetoRecursoWidgetComponent } from './projeto-recurso-widget/projeto-recurso-widget.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProjetoListComponent,\r\n    ProjetoFormComponent,\r\n    ProjetoPlanejamentoComponent,\r\n    ProjetoFormPrincipalComponent,\r\n    ProjetoFormRecursosComponent,\r\n    ProjetoFormAlocacoesComponent,\r\n    ProjetoTarefaFormComponent,\r\n    ProjetoTarefaFormPrincipalComponent,\r\n    ProjetoFormRegrasComponent,\r\n    ProjetoTarefaFilterComponent,\r\n    ProjetoFormFasesComponent,\r\n    ProjetoRecursoWidgetComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    UteisModule,\r\n    FullCalendarModule,\r\n    ProjetoRoutingModule\r\n  ]\r\n})\r\nexport class ProjetoModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { ProjetoAlocacao } from 'src/app/models/projeto-alocacao.model';\r\nimport { ProjetoRecurso } from 'src/app/models/projeto-recurso.model';\r\nimport { Projeto } from 'src/app/models/projeto.model';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProjetoService {\r\n\r\n  constructor(public auth: AuthService) { }\r\n\r\n  public getRecursoPicture(recurso: ProjetoRecurso): string {\r\n    return (!recurso ? \"assets/images/projetos/material.png\" :\r\n           (recurso.tipo == \"HUMANO\" ? recurso.usuario?.url_foto || \"assets/images/projetos/usuario.png\" :\r\n           (recurso.tipo == \"CUSTO\" ? \"assets/images/projetos/custo.png\" :\r\n           (recurso.tipo == \"DEPARTAMENTO\" ? \"assets/images/projetos/unidade.png\" :\r\n           (recurso.tipo == \"SERVICO\" ? \"assets/images/projetos/servico.png\" : \"assets/images/projetos/material.png\")))));\r\n  }\r\n\r\n  public getNomesRegras(alocacao: ProjetoAlocacao, prefix?: string, sufix?: string) {\r\n    let result: string = alocacao.regras?.map(x => x.regra?.nome).filter(x => x).join(\", \") || \"\";\r\n    return result.length ? (prefix || \"\") + result + (sufix || \"\") : result; \r\n  }\r\n\r\n  public isHumanoDepartamento(tipo: string | undefined, tipos: string[] = ['HUMANO', 'DEPARTAMENTO']): boolean {\r\n    return tipos.includes(tipo || '');\r\n  }\r\n\r\n  public isMaterialServico(tipo: string | undefined, tipos: string[] = ['MATERIAL', 'SERVICO']): boolean {\r\n    return tipos.includes(tipo || '');\r\n  }\r\n\r\n  /* Os envolvidos são considerados os recursos humano e departamental que possuem acesso ao projeto */\r\n  public isEnvolvido(alocacao: ProjetoAlocacao, projeto: Projeto): boolean {\r\n    return !!alocacao.regras?.find(x => (x.regra || projeto.regras?.find(y => y.id == x.regra_id))?.perfis?.includes(\"ACESSAR\"));\r\n  }\r\n\r\n  public canAcessar(projeto: Projeto): boolean {\r\n    return !!(projeto.alocacoes || []).find(x => this.isEnvolvido(x, projeto) && ((x.recurso!.tipo == \"HUMANO\" && x.recurso!.usuario_id == this.auth.usuario?.id) || (x.recurso!.tipo == \"DEPARTAMENTO\" && this.auth.hasLotacao(x.recurso!.unidade_id!))));\r\n  }\r\n\r\n  /* Todas as validações realizadas aqui DEVEM ser realizadas tambem no back-end em ProjetoService->recalcular */\r\n  public recalcular(projeto: Projeto) {\r\n    let minData: Date | null = null;\r\n    let maxData: Date | null = null;\r\n    for(let tarefa of projeto.tarefas || []) {\r\n      minData = (!minData && tarefa.data_inicio) || (tarefa.data_inicio && minData && tarefa.data_inicio.getTime() < minData.getTime()) ? tarefa.data_inicio : minData;\r\n      maxData = (!maxData && tarefa.data_inicio) || (tarefa.data_fim && maxData && tarefa.data_fim?.getTime() > maxData.getTime()) ? tarefa.data_fim : maxData;\r\n    }\r\n    if(projeto.calcula_intervalo) {\r\n      projeto.data_inicio = minData || maxData || new Date();\r\n      projeto.data_fim = maxData || projeto.data_inicio;\r\n    }\r\n  }\r\n}\r\n","import * as i0 from '@angular/core';\nimport { Component, ViewEncapsulation, Input, ViewChild, ContentChild, NgModule } from '@angular/core';\nimport { Calendar } from '@fullcalendar/core';\nimport { CustomRenderingStore } from '@fullcalendar/core/internal';\nimport * as i1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\nconst OPTION_IS_DEEP = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n/*\nNOTE: keep synced with component\n*/\nconst OPTION_INPUT_NAMES = [\n    'events',\n    'eventSources',\n    'resources',\n];\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n/*\nReally simple clone utility. Only copies plain arrays, objects, and Dates. Transfers everything else as-is.\nWanted to use a third-party lib, but none did exactly this.\n*/\nfunction deepCopy(input) {\n    if (Array.isArray(input)) {\n        return input.map(deepCopy);\n    }\n    else if (input instanceof Date) {\n        return new Date(input.valueOf());\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return mapHash(input, deepCopy);\n    }\n    else { // everything else (null, function, etc)\n        return input;\n    }\n}\nfunction mapHash(input, func) {\n    const output = {};\n    for (const key in input) {\n        if (hasOwnProperty.call(input, key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n\n/*\nForked from https://github.com/epoberezkin/fast-deep-equal (also has MIT license)\nNeeded ESM support or else Angular complains about treeshaking\n(https://github.com/fullcalendar/fullcalendar-angular/issues/421)\n*/\nfunction deepEqual(a, b) {\n    if (a === b)\n        return true;\n    if (a && b && typeof a == 'object' && typeof b == 'object') {\n        if (a.constructor !== b.constructor)\n            return false;\n        var length, i, keys;\n        if (Array.isArray(a)) {\n            length = a.length;\n            if (length != b.length)\n                return false;\n            for (i = length; i-- !== 0;)\n                if (!deepEqual(a[i], b[i]))\n                    return false;\n            return true;\n        }\n        if (a.constructor === RegExp)\n            return a.source === b.source && a.flags === b.flags;\n        if (a.valueOf !== Object.prototype.valueOf)\n            return a.valueOf() === b.valueOf();\n        if (a.toString !== Object.prototype.toString)\n            return a.toString() === b.toString();\n        keys = Object.keys(a);\n        length = keys.length;\n        if (length !== Object.keys(b).length)\n            return false;\n        for (i = length; i-- !== 0;)\n            if (!Object.prototype.hasOwnProperty.call(b, keys[i]))\n                return false;\n        for (i = length; i-- !== 0;) {\n            var key = keys[i];\n            if (!deepEqual(a[key], b[key]))\n                return false;\n        }\n        return true;\n    }\n    // true if both NaN, false otherwise\n    return a !== a && b !== b;\n}\n\nconst dummyContainer$1 = document.createDocumentFragment();\nclass OffscreenFragmentComponent {\n    constructor(element) {\n        this.element = element;\n    }\n    ngAfterViewInit() {\n        dummyContainer$1.appendChild(this.element.nativeElement);\n    }\n    // invoked BEFORE component removed from DOM\n    ngOnDestroy() {\n        dummyContainer$1.removeChild(this.element.nativeElement);\n    }\n}\nOffscreenFragmentComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: OffscreenFragmentComponent, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\nOffscreenFragmentComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: OffscreenFragmentComponent, selector: \"offscreen-fragment\", ngImport: i0, template: '<ng-content></ng-content>', isInline: true, encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: OffscreenFragmentComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'offscreen-fragment',\n                    template: '<ng-content></ng-content>',\n                    encapsulation: ViewEncapsulation.None\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; } });\n\nconst dummyContainer = document.createDocumentFragment();\nclass TransportContainerComponent {\n    ngAfterViewInit() {\n        const rootEl = this.rootElRef?.nativeElement; // assumed defined\n        replaceEl(rootEl, this.inPlaceOf);\n        applyElAttrs(rootEl, undefined, this.elAttrs);\n        // insurance for if Preact recreates and reroots inPlaceOf element\n        this.inPlaceOf.style.display = 'none';\n        this.reportEl(rootEl);\n    }\n    ngOnChanges(changes) {\n        const rootEl = this.rootElRef?.nativeElement;\n        // ngOnChanges is called before ngAfterViewInit (and before DOM initializes)\n        // so make sure rootEl is defined before doing anything\n        if (rootEl) {\n            // If the ContentContainer's tagName changed, it will create a new DOM element in its\n            // original place. Detect this and re-replace.\n            if (this.inPlaceOf.parentNode !== dummyContainer) {\n                replaceEl(rootEl, this.inPlaceOf);\n                applyElAttrs(rootEl, undefined, this.elAttrs);\n                this.reportEl(rootEl);\n            }\n            else {\n                const elAttrsChange = changes['elAttrs'];\n                if (elAttrsChange) {\n                    applyElAttrs(rootEl, elAttrsChange.previousValue, elAttrsChange.currentValue);\n                }\n            }\n        }\n    }\n    // invoked BEFORE component removed from DOM\n    ngOnDestroy() {\n        // protect against Preact recreating and rerooting inPlaceOf element\n        if (this.inPlaceOf.parentNode === dummyContainer) {\n            dummyContainer.removeChild(this.inPlaceOf);\n        }\n        this.reportEl(null);\n    }\n}\nTransportContainerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TransportContainerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nTransportContainerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: TransportContainerComponent, selector: \"transport-container\", inputs: { inPlaceOf: \"inPlaceOf\", reportEl: \"reportEl\", elTag: \"elTag\", elClasses: \"elClasses\", elStyle: \"elStyle\", elAttrs: \"elAttrs\", template: \"template\", renderProps: \"renderProps\" }, viewQueries: [{ propertyName: \"rootElRef\", first: true, predicate: [\"rootEl\"], descendants: true }], usesOnChanges: true, ngImport: i0, template: \"<ng-template [ngIf]=\\\"elTag == 'div'\\\">\\n  <div #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </div>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'span'\\\">\\n  <span #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </span>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'a'\\\">\\n  <a #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </a>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'tr'\\\">\\n  <tr #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </tr>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'th'\\\">\\n  <th #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </th>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'td'\\\">\\n  <td #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </td>\\n</ng-template>\\n\", directives: [{ type: i1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i1.NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }, { type: i1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }], encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TransportContainerComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'transport-container', encapsulation: ViewEncapsulation.None, template: \"<ng-template [ngIf]=\\\"elTag == 'div'\\\">\\n  <div #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </div>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'span'\\\">\\n  <span #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </span>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'a'\\\">\\n  <a #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </a>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'tr'\\\">\\n  <tr #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </tr>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'th'\\\">\\n  <th #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </th>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'td'\\\">\\n  <td #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </td>\\n</ng-template>\\n\" }]\n        }], propDecorators: { inPlaceOf: [{\n                type: Input\n            }], reportEl: [{\n                type: Input\n            }], elTag: [{\n                type: Input\n            }], elClasses: [{\n                type: Input\n            }], elStyle: [{\n                type: Input\n            }], elAttrs: [{\n                type: Input\n            }], template: [{\n                type: Input\n            }], renderProps: [{\n                type: Input\n            }], rootElRef: [{\n                type: ViewChild,\n                args: ['rootEl']\n            }] } });\nfunction replaceEl(subject, inPlaceOf) {\n    inPlaceOf.parentNode?.insertBefore(subject, inPlaceOf.nextSibling);\n    dummyContainer.appendChild(inPlaceOf);\n}\nfunction applyElAttrs(el, previousAttrs = {}, currentAttrs = {}) {\n    // these are called \"attributes\" but they manipulate DOM node *properties*\n    for (const attrName in previousAttrs) {\n        if (!(attrName in currentAttrs)) {\n            el[attrName] = null;\n        }\n    }\n    for (const attrName in currentAttrs) {\n        el[attrName] = currentAttrs[attrName];\n    }\n}\n\nclass FullCalendarComponent {\n    constructor(element, changeDetector) {\n        this.element = element;\n        this.calendar = null;\n        this.optionSnapshot = {}; // for diffing\n        this.customRenderingMap = new Map();\n        this.templateMap = {};\n        const customRenderingStore = new CustomRenderingStore();\n        customRenderingStore.subscribe((customRenderingMap) => {\n            this.customRenderingMap = customRenderingMap;\n            this.customRenderingArray = undefined; // clear cache\n            changeDetector.detectChanges();\n        });\n        this.handleCustomRendering = customRenderingStore.handle.bind(customRenderingStore);\n        this.templateMap = this; // alias to this\n    }\n    ngAfterViewInit() {\n        const { deepChangeDetection } = this;\n        const options = {\n            ...this.options,\n            ...this.buildInputOptions(),\n        };\n        // initialize snapshot\n        this.optionSnapshot = mapHash(options, (optionVal, optionName) => ((deepChangeDetection && OPTION_IS_DEEP[optionName])\n            ? deepCopy(optionVal)\n            : optionVal));\n        const calendarEl = this.element.nativeElement;\n        const calendar = this.calendar = new Calendar(calendarEl, {\n            ...options,\n            ...this.buildExtraOptions(),\n        });\n        // Ionic dimensions hack\n        // https://github.com/fullcalendar/fullcalendar/issues/4976\n        const ionContent = calendarEl.closest('ion-content');\n        if (ionContent && ionContent.componentOnReady) {\n            ionContent.componentOnReady().then(() => {\n                window.requestAnimationFrame(() => {\n                    calendar.render();\n                });\n            });\n        }\n        else {\n            calendar.render();\n        }\n    }\n    /*\n    allows us to manually detect complex input changes, internal mutations to certain options.\n    called before ngOnChanges. called much more often than ngOnChanges.\n    */\n    ngDoCheck() {\n        if (this.calendar) { // not the initial render\n            const { deepChangeDetection, optionSnapshot } = this;\n            const newOptions = {\n                ...this.options,\n                ...this.buildInputOptions(),\n            };\n            const newProcessedOptions = {};\n            const changedOptionNames = [];\n            // detect adds and updates (and update snapshot)\n            for (const optionName in newOptions) {\n                if (newOptions.hasOwnProperty(optionName)) {\n                    let optionVal = newOptions[optionName];\n                    if (deepChangeDetection && OPTION_IS_DEEP[optionName]) {\n                        if (!deepEqual(optionSnapshot[optionName], optionVal)) {\n                            optionSnapshot[optionName] = deepCopy(optionVal);\n                            changedOptionNames.push(optionName);\n                        }\n                    }\n                    else {\n                        if (optionSnapshot[optionName] !== optionVal) {\n                            optionSnapshot[optionName] = optionVal;\n                            changedOptionNames.push(optionName);\n                        }\n                    }\n                    newProcessedOptions[optionName] = optionVal;\n                }\n            }\n            const oldOptionNames = Object.keys(optionSnapshot);\n            // detect removals (and update snapshot)\n            for (const optionName of oldOptionNames) {\n                if (!(optionName in newOptions)) { // doesn't exist in new options?\n                    delete optionSnapshot[optionName];\n                    changedOptionNames.push(optionName);\n                }\n            }\n            if (changedOptionNames.length) {\n                this.calendar.pauseRendering();\n                this.calendar.resetOptions({\n                    ...newProcessedOptions,\n                    ...this.buildExtraOptions(),\n                }, changedOptionNames);\n            }\n        }\n    }\n    ngAfterContentChecked() {\n        if (this.calendar) { // too defensive?\n            this.calendar.resumeRendering();\n        }\n    }\n    ngOnDestroy() {\n        if (this.calendar) { // too defensive?\n            this.calendar.destroy();\n            this.calendar = null;\n        }\n    }\n    get customRenderings() {\n        return this.customRenderingArray ||\n            (this.customRenderingArray = [...this.customRenderingMap.values()]);\n    }\n    getApi() {\n        return this.calendar;\n    }\n    buildInputOptions() {\n        const options = {};\n        for (const inputName of OPTION_INPUT_NAMES) {\n            const inputValue = this[inputName];\n            if (inputValue != null) { // exclude both null and undefined\n                options[inputName] = inputValue;\n            }\n        }\n        return options;\n    }\n    buildExtraOptions() {\n        return {\n            handleCustomRendering: this.handleCustomRendering,\n            customRenderingMetaMap: this.templateMap,\n            customRenderingReplacesEl: true,\n        };\n    }\n    // for `trackBy` in loop\n    trackCustomRendering(index, customRendering) {\n        return customRendering.id;\n    }\n}\nFullCalendarComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FullCalendarComponent, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });\nFullCalendarComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FullCalendarComponent, selector: \"full-calendar\", inputs: { options: \"options\", deepChangeDetection: \"deepChangeDetection\", events: \"events\", eventSources: \"eventSources\", resources: \"resources\" }, queries: [{ propertyName: \"dayHeaderContent\", first: true, predicate: [\"dayHeaderContent\"], descendants: true, static: true }, { propertyName: \"dayCellContent\", first: true, predicate: [\"dayCellContent\"], descendants: true, static: true }, { propertyName: \"weekNumberContent\", first: true, predicate: [\"weekNumberContent\"], descendants: true, static: true }, { propertyName: \"nowIndicatorContent\", first: true, predicate: [\"nowIndicatorContent\"], descendants: true, static: true }, { propertyName: \"eventContent\", first: true, predicate: [\"eventContent\"], descendants: true, static: true }, { propertyName: \"slotLaneContent\", first: true, predicate: [\"slotLaneContent\"], descendants: true, static: true }, { propertyName: \"slotLabelContent\", first: true, predicate: [\"slotLabelContent\"], descendants: true, static: true }, { propertyName: \"allDayContent\", first: true, predicate: [\"allDayContent\"], descendants: true, static: true }, { propertyName: \"moreLinkContent\", first: true, predicate: [\"moreLinkContent\"], descendants: true, static: true }, { propertyName: \"noEventsContent\", first: true, predicate: [\"noEventsContent\"], descendants: true, static: true }, { propertyName: \"resourceAreaHeaderContent\", first: true, predicate: [\"resourceAreaHeaderContent\"], descendants: true, static: true }, { propertyName: \"resourceGroupLabelContent\", first: true, predicate: [\"resourceGroupLabelContent\"], descendants: true, static: true }, { propertyName: \"resourceLabelContent\", first: true, predicate: [\"resourceLabelContent\"], descendants: true, static: true }, { propertyName: \"resourceLaneContent\", first: true, predicate: [\"resourceLaneContent\"], descendants: true, static: true }, { propertyName: \"resourceGroupLaneContent\", first: true, predicate: [\"resourceGroupLaneContent\"], descendants: true, static: true }], ngImport: i0, template: \"<offscreen-fragment>\\n  <transport-container *ngFor=\\\"let customRendering of customRenderings; trackBy:trackCustomRendering\\\"\\n    [inPlaceOf]=\\\"customRendering.containerEl\\\"\\n    [reportEl]=\\\"customRendering.reportNewContainerEl\\\"\\n    [elTag]=\\\"customRendering.elTag\\\"\\n    [elClasses]=\\\"customRendering.elClasses\\\"\\n    [elStyle]=\\\"customRendering.elStyle\\\"\\n    [elAttrs]=\\\"customRendering.elAttrs\\\"\\n    [template]=\\\"templateMap[customRendering.generatorName]!\\\"\\n    [renderProps]=\\\"customRendering.renderProps\\\"\\n  ></transport-container>\\n</offscreen-fragment>\\n\", components: [{ type: OffscreenFragmentComponent, selector: \"offscreen-fragment\" }, { type: TransportContainerComponent, selector: \"transport-container\", inputs: [\"inPlaceOf\", \"reportEl\", \"elTag\", \"elClasses\", \"elStyle\", \"elAttrs\", \"template\", \"renderProps\"] }], directives: [{ type: i1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FullCalendarComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'full-calendar', encapsulation: ViewEncapsulation.None // the styles are root-level, not scoped within the component\n                    , template: \"<offscreen-fragment>\\n  <transport-container *ngFor=\\\"let customRendering of customRenderings; trackBy:trackCustomRendering\\\"\\n    [inPlaceOf]=\\\"customRendering.containerEl\\\"\\n    [reportEl]=\\\"customRendering.reportNewContainerEl\\\"\\n    [elTag]=\\\"customRendering.elTag\\\"\\n    [elClasses]=\\\"customRendering.elClasses\\\"\\n    [elStyle]=\\\"customRendering.elStyle\\\"\\n    [elAttrs]=\\\"customRendering.elAttrs\\\"\\n    [template]=\\\"templateMap[customRendering.generatorName]!\\\"\\n    [renderProps]=\\\"customRendering.renderProps\\\"\\n  ></transport-container>\\n</offscreen-fragment>\\n\" }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { options: [{\n                type: Input\n            }], deepChangeDetection: [{\n                type: Input\n            }], events: [{\n                type: Input\n            }], eventSources: [{\n                type: Input\n            }], resources: [{\n                type: Input\n            }], dayHeaderContent: [{\n                type: ContentChild,\n                args: ['dayHeaderContent', { static: true }]\n            }], dayCellContent: [{\n                type: ContentChild,\n                args: ['dayCellContent', { static: true }]\n            }], weekNumberContent: [{\n                type: ContentChild,\n                args: ['weekNumberContent', { static: true }]\n            }], nowIndicatorContent: [{\n                type: ContentChild,\n                args: ['nowIndicatorContent', { static: true }]\n            }], eventContent: [{\n                type: ContentChild,\n                args: ['eventContent', { static: true }]\n            }], slotLaneContent: [{\n                type: ContentChild,\n                args: ['slotLaneContent', { static: true }]\n            }], slotLabelContent: [{\n                type: ContentChild,\n                args: ['slotLabelContent', { static: true }]\n            }], allDayContent: [{\n                type: ContentChild,\n                args: ['allDayContent', { static: true }]\n            }], moreLinkContent: [{\n                type: ContentChild,\n                args: ['moreLinkContent', { static: true }]\n            }], noEventsContent: [{\n                type: ContentChild,\n                args: ['noEventsContent', { static: true }]\n            }], resourceAreaHeaderContent: [{\n                type: ContentChild,\n                args: ['resourceAreaHeaderContent', { static: true }]\n            }], resourceGroupLabelContent: [{\n                type: ContentChild,\n                args: ['resourceGroupLabelContent', { static: true }]\n            }], resourceLabelContent: [{\n                type: ContentChild,\n                args: ['resourceLabelContent', { static: true }]\n            }], resourceLaneContent: [{\n                type: ContentChild,\n                args: ['resourceLaneContent', { static: true }]\n            }], resourceGroupLaneContent: [{\n                type: ContentChild,\n                args: ['resourceGroupLaneContent', { static: true }]\n            }] } });\n\nclass FullCalendarModule {\n}\nFullCalendarModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FullCalendarModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nFullCalendarModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FullCalendarModule, declarations: [FullCalendarComponent,\n        OffscreenFragmentComponent,\n        TransportContainerComponent], imports: [CommonModule], exports: [FullCalendarComponent] });\nFullCalendarModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FullCalendarModule, imports: [[\n            CommonModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FullCalendarModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [\n                        FullCalendarComponent,\n                        OffscreenFragmentComponent,\n                        TransportContainerComponent\n                    ],\n                    imports: [\n                        CommonModule\n                    ],\n                    exports: [\n                        FullCalendarComponent\n                    ]\n                }]\n        }] });\n\n/*\n * Public API Surface of lib\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FullCalendarComponent, FullCalendarModule };\n","import { m as mergeProps, g as guid, i as isArraysEqual, T as Theme, a as mapHash, B as BaseComponent, V as ViewContextType, C as ContentContainer, b as buildViewClassNames, c as greatestDurationDenominator, d as createDuration, e as BASE_OPTION_DEFAULTS, f as arrayToHash, h as filterHash, j as buildEventSourceRefiners, p as parseEventSource, k as formatWithOrdinals, u as unpromisify, l as buildRangeApiWithTimeZone, n as identity, r as requestJson, s as subtractDurations, o as intersectRanges, q as startOfDay, t as addDays, v as hashValuesToArray, w as buildEventApis, D as DelayedRunner, x as createFormatter, y as diffWholeDays, z as memoize, A as memoizeObjArg, E as isPropsEqual, F as Emitter, G as getInitialDate, H as rangeContainsMarker, I as createEmptyEventStore, J as reduceCurrentDate, K as reduceEventStore, L as rezoneEventStoreDates, M as mergeRawOptions, N as BASE_OPTION_REFINERS, O as CALENDAR_LISTENER_REFINERS, P as CALENDAR_OPTION_REFINERS, Q as COMPLEX_OPTION_COMPARATORS, R as VIEW_OPTION_REFINERS, S as DateEnv, U as DateProfileGenerator, W as createEventUi, X as parseBusinessHours, Y as setRef, Z as Interaction, _ as getElSeg, $ as elementClosest, a0 as EventImpl, a1 as listenBySelector, a2 as listenToHoverBySelector, a3 as PureComponent, a4 as buildViewContext, a5 as getUniqueDomId, a6 as parseInteractionSettings, a7 as interactionSettingsStore, a8 as getNow, a9 as CalendarImpl, aa as flushSync, ab as CalendarRoot, ac as RenderId, ad as ensureElHasStyles, ae as applyStyleProp, af as sliceEventStore } from './internal-common.js';\nexport { ag as JsonRequestError } from './internal-common.js';\nimport { createElement, createRef, Fragment, render } from 'preact';\nimport 'preact/compat';\n\nconst globalLocales = [];\n\nconst MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nconst RAW_EN_LOCALE = Object.assign(Object.assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today(buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : `This ${buttonText}`;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint(eventCnt) {\n        return `Show ${eventCnt} more event${eventCnt === 1 ? '' : 's'}`;\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    let defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    let allRawLocales = globalLocales.concat(explicitRawLocales);\n    let rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (let rawLocale of allRawLocales) {\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    let codes = [].concat(codeArg || []); // will convert to array\n    let raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (let i = 0; i < codes.length; i += 1) {\n        let parts = codes[i].toLocaleLowerCase().split('-');\n        for (let j = parts.length; j > 0; j -= 1) {\n            let simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    let merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    let { week } = merged;\n    delete merged.week;\n    return {\n        codeArg,\n        codes,\n        week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        name: input.name,\n        premiumReleaseDate: input.premiumReleaseDate ? new Date(input.premiumReleaseDate) : undefined,\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    let currentPluginIds = {};\n    let hooks = {\n        premiumReleaseDate: undefined,\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (let def of defs) {\n            const pluginName = def.name;\n            const currentId = currentPluginIds[pluginName];\n            if (currentId === undefined) {\n                currentPluginIds[pluginName] = def.id;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n            else if (currentId !== def.id) {\n                // different ID than the one already added\n                console.warn(`Duplicate plugin '${pluginName}'`);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    let currentOverrideDefs = [];\n    let currentGlobalDefs = [];\n    let currentHooks;\n    return (overrideDefs, globalDefs) => {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        premiumReleaseDate: compareOptionalDates(hooks0.premiumReleaseDate, hooks1.premiumReleaseDate),\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: Object.assign(Object.assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: Object.assign(Object.assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: Object.assign(Object.assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: Object.assign(Object.assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: Object.assign(Object.assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        listenerRefiners: Object.assign(Object.assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: Object.assign(Object.assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: Object.assign(Object.assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\nfunction compareOptionalDates(date0, date1) {\n    if (date0 === undefined) {\n        return date1;\n    }\n    if (date1 === undefined) {\n        return date0;\n    }\n    return new Date(Math.max(date0.valueOf(), date1.valueOf()));\n}\n\nclass StandardTheme extends Theme {\n}\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    let hash = {};\n    let viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    let viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    let defaultConfig = defaultConfigs[viewType];\n    let overrideConfig = overrideConfigs[viewType];\n    let queryProp = (name) => ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null));\n    let theComponent = queryProp('component');\n    let superType = queryProp('superType');\n    let superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: Object.assign(Object.assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: Object.assign(Object.assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    let rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    let { component } = rawOptions;\n    if (rawOptions.content) {\n        // TODO: remove content/classNames/didMount/etc from options?\n        component = createViewHookComponent(rawOptions);\n    }\n    else if (component && !(component.prototype instanceof BaseComponent)) {\n        // WHY?: people were using `component` property for `content`\n        // TODO: converge on one setting name\n        component = createViewHookComponent(Object.assign(Object.assign({}, rawOptions), { content: component }));\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions, // includes type and component too :(\n    };\n}\nfunction createViewHookComponent(options) {\n    return (viewProps) => (createElement(ViewContextType.Consumer, null, (context) => (createElement(ContentContainer, { elTag: \"div\", elClasses: buildViewClassNames(context.viewSpec), renderProps: Object.assign(Object.assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold }), generatorName: undefined, customGenerator: options.content, classNameGenerator: options.classNames, didMount: options.didMount, willUnmount: options.willUnmount }))));\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let defaultConfigs = parseViewConfigs(defaultInputs);\n    let overrideConfigs = parseViewConfigs(optionOverrides.views);\n    let viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, (viewDef) => buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults));\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    let duration = null;\n    let durationUnit = '';\n    let singleUnit = '';\n    let singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            let denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    let queryButtonText = (optionsSubset) => {\n        let buttonTextMap = optionsSubset.buttonText || {};\n        let buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    let queryButtonTitle = (optionsSubset) => {\n        let buttonHints = optionsSubset.buttonHints || {};\n        let buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration,\n        durationUnit,\n        singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: Object.assign(Object.assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nlet durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    let json = JSON.stringify(durationInput);\n    let res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    switch (action.type) {\n        case 'SET_OPTION':\n            return Object.assign(Object.assign({}, dynamicOptionOverrides), { [action.optionName]: action.rawOptionValue });\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    let dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (let sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    let hash = {};\n    for (let source of sources) {\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return Object.assign(Object.assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, (eventSource) => eventSource.sourceId !== sourceId);\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, (eventSource) => isSourceDirty(eventSource, fetchRange, context)), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    let nextSources = {};\n    for (let sourceId in prevSources) {\n        let source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    let { options, calendarApi } = context;\n    let sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    let fetchId = guid();\n    sourceDef.fetch({\n        eventSource,\n        range: fetchRange,\n        isRefetch,\n        context,\n    }, (res) => {\n        let { rawEvents } = res;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            rawEvents,\n        });\n    }, (error) => {\n        let errorHandled = false;\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n            errorHandled = true;\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n            errorHandled = true;\n        }\n        if (!errorHandled) {\n            console.warn(error.message, error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            error,\n        });\n    });\n    return Object.assign(Object.assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    let eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return Object.assign(Object.assign({}, sourceHash), { [sourceId]: Object.assign(Object.assign({}, eventSource), { isFetching: false, fetchRange }) });\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, (eventSource) => doesSourceNeedRange(eventSource, context));\n}\nfunction parseInitialSources(rawOptions, context) {\n    let refiners = buildEventSourceRefiners(context);\n    let rawSources = [].concat(rawOptions.eventSources || []);\n    let sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (let rawSource of rawSources) {\n        let source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    let newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    let newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    let footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header, footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let sectionWidgets = {};\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    for (let sectionName in sectionStrHash) {\n        let sectionStr = sectionStrHash[sectionName];\n        let sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push(...sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets, viewsWithButtons, hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    let isRtl = calendarOptions.direction === 'rtl';\n    let calendarCustomButtons = calendarOptions.customButtons || {};\n    let calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    let calendarButtonText = calendarOptions.buttonText || {};\n    let calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    let calendarButtonHints = calendarOptions.buttonHints || {};\n    let sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    let widgets = sectionSubstrs.map((buttonGroupStr) => (buttonGroupStr.split(',').map((buttonName) => {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName };\n        }\n        let customButtonProps;\n        let viewSpec;\n        let buttonClick;\n        let buttonIcon; // only one of these will be set\n        let buttonText; // \"\n        let buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = (ev) => {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = () => {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            let textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = () => {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                let prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = (navUnit) => formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]);\n            }\n        }\n        return { buttonName, buttonClick, buttonIcon, buttonText, buttonHint };\n    })));\n    return { widgets, viewsWithButtons, hasTitle };\n}\n\n// always represents the current view. otherwise, it'd need to change value every time date changes\nclass ViewImpl {\n    constructor(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    get calendar() {\n        return this.getCurrentData().calendarApi;\n    }\n    get title() {\n        return this.getCurrentData().viewTitle;\n    }\n    get activeStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n    }\n    get activeEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n    }\n    get currentStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n    }\n    get currentEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n    }\n    getOption(name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    }\n}\n\nlet eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta(refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback) {\n        successCallback({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nconst arrayEventSourcePlugin = createPlugin({\n    name: 'array-event-source',\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nlet eventSourceDef$1 = {\n    parseMeta(refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { dateEnv } = arg.context;\n        const func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), (rawEvents) => successCallback({ rawEvents }), errorCallback);\n    },\n};\nconst funcEventSourcePlugin = createPlugin({\n    name: 'func-event-source',\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nconst JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nlet eventSourceDef = {\n    parseMeta(refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { meta } = arg.eventSource;\n        const requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams).then(([rawEvents, response]) => {\n            successCallback({ rawEvents, response });\n        }, errorCallback);\n    },\n};\nconst jsonFeedEventSourcePlugin = createPlugin({\n    name: 'json-event-source',\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    let { dateEnv, options } = context;\n    let startParam;\n    let endParam;\n    let timeZoneParam;\n    let customRequestParams;\n    let params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    Object.assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nconst SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nlet recurring = {\n    parse(refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            let recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            let duration;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand(typeData, framingRange, dateEnv) {\n        let clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nconst simpleRecurringEventsPlugin = createPlugin({\n    name: 'simple-recurring-event',\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    let dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    let dayMarker = startOfDay(framingRange.start);\n    let endMarker = framingRange.end;\n    let instanceStarts = [];\n    while (dayMarker < endMarker) {\n        let instanceStart;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nconst changeHandlerPlugin = createPlugin({\n    name: 'change-handler',\n    optionChangeHandlers: {\n        events(events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    let unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    if (unfoundSources.length === 1 &&\n        inputs.length === 1 &&\n        Array.isArray(unfoundSources[0]._raw) &&\n        Array.isArray(inputs[0])) {\n        context.dispatch({\n            type: 'RESET_RAW_EVENTS',\n            sourceId: unfoundSources[0].sourceId,\n            rawEvents: inputs[0],\n        });\n        return;\n    }\n    let newInputs = [];\n    for (let input of inputs) {\n        let inputFound = false;\n        for (let i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (let unfoundSource of unfoundSources) {\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (let newInput of newInputs) {\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', Object.assign(Object.assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    let { emitter } = context;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nconst globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        name: 'misc',\n        isLoadingFuncs: [\n            (state) => computeEventSourcesLoading(state.eventSources),\n        ],\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\n\nclass TaskRunner {\n    constructor(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    request(task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    }\n    pause(scope) {\n        this.delayedRunner.pause(scope);\n    }\n    resume(scope, force) {\n        this.delayedRunner.resume(scope, force);\n    }\n    drain() {\n        let { queue } = this;\n        while (queue.length) {\n            let completedTasks = [];\n            let task;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    }\n    runTask(task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    }\n    drained(completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    }\n}\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    let range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    let { currentRangeUnit } = dateProfile;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    let days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nclass CalendarDataManager {\n    constructor(props) {\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv$1);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.optionsForRefining = [];\n        this.optionsForHandling = [];\n        this.getCurrentData = () => this.data;\n        this.dispatch = (action) => {\n            this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        let dynamicOptionOverrides = {};\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        let currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        let dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (let callback of optionsData.pluginHooks.contextInit) {\n            callback(calendarContext);\n        }\n        // NOT DRY\n        let eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        let initialState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), initialState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        let { props } = this;\n        if (changedOptionNames === undefined) {\n            props.optionOverrides = optionOverrides;\n        }\n        else {\n            props.optionOverrides = Object.assign(Object.assign({}, (props.optionOverrides || {})), optionOverrides);\n            this.optionsForRefining.push(...changedOptionNames);\n        }\n        if (changedOptionNames === undefined || changedOptionNames.length) {\n            this.actionRunner.request({\n                type: 'NOTHING',\n            });\n        }\n    }\n    _handleAction(action) {\n        let { props, state, emitter } = this;\n        let dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = reduceViewType(state.currentViewType, action);\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        let calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        let { currentDate, dateProfile } = state;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        let eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        let isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        let renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        let { eventUiSingleBase, selectionConfig } = this.buildViewUiProps(calendarContext); // will memoize obj\n        let eventUiBySource = this.buildEventUiBySource(eventSources);\n        let eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        let newState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            eventSources,\n            eventStore,\n            renderableEventStore,\n            selectionConfig,\n            eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), newState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        let wasLoading = computeIsLoading(state, calendarContext);\n        let isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    }\n    updateData() {\n        let { props, state } = this;\n        let oldData = this.data;\n        let optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        let currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        let data = this.data = Object.assign(Object.assign(Object.assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        let changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        let oldCalendarOptions = oldData && oldData.calendarOptions;\n        let newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n                state.renderableEventStore = data.renderableEventStore = rezoneEventStoreDates(data.renderableEventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (let optionName in changeHandlers) {\n                if (this.optionsForHandling.indexOf(optionName) !== -1 ||\n                    oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        this.optionsForHandling = [];\n        if (props.onData) {\n            props.onData(data);\n        }\n    }\n    computeOptionsData(optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        if (!this.optionsForRefining.length &&\n            optionOverrides === this.stableOptionOverrides &&\n            dynamicOptionOverrides === this.stableDynamicOptionOverrides) {\n            return this.stableCalendarOptionsData;\n        }\n        let { refinedOptions, pluginHooks, localeDefaults, availableLocaleData, extra, } = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        let viewSpecs = this.buildViewSpecs(pluginHooks.views, this.stableOptionOverrides, this.stableDynamicOptionOverrides, localeDefaults);\n        let theme = this.buildTheme(refinedOptions, pluginHooks);\n        let toolbarConfig = this.parseToolbars(refinedOptions, this.stableOptionOverrides, theme, viewSpecs, calendarApi);\n        return this.stableCalendarOptionsData = {\n            calendarOptions: refinedOptions,\n            pluginHooks,\n            dateEnv,\n            viewSpecs,\n            theme,\n            toolbarConfig,\n            localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    }\n    // always called from behind a memoizer\n    processRawCalendarOptions(optionOverrides, dynamicOptionOverrides) {\n        let { locales, locale } = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let availableLocaleData = this.organizeRawLocales(locales);\n        let availableRawLocales = availableLocaleData.map;\n        let localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        let pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        let refiners = this.currentCalendarOptionsRefiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let extra = {};\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refined = {};\n        let currentRaw = this.currentCalendarOptionsInput;\n        let currentRefined = this.currentCalendarOptionsRefined;\n        let anyChanges = false;\n        for (let optionName in raw) {\n            if (this.optionsForRefining.indexOf(optionName) === -1 && (raw[optionName] === currentRaw[optionName] || (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                (optionName in currentRaw) &&\n                COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName])))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else if (refiners[optionName]) {\n                refined[optionName] = refiners[optionName](raw[optionName]);\n                anyChanges = true;\n            }\n            else {\n                extra[optionName] = currentRaw[optionName];\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n            this.stableOptionOverrides = optionOverrides;\n            this.stableDynamicOptionOverrides = dynamicOptionOverrides;\n        }\n        this.optionsForHandling.push(...this.optionsForRefining);\n        this.optionsForRefining = [];\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks,\n            availableLocaleData,\n            localeDefaults,\n            extra,\n        };\n    }\n    _computeCurrentViewData(viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        let viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(`viewType \"${viewType}\" is not available. Please make sure you've loaded all neccessary plugins`);\n        }\n        let { refinedOptions, extra } = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        let viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec, options: refinedOptions, dateProfileGenerator, viewApi };\n    }\n    processRawViewOptions(viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let refined = {};\n        let currentRaw = this.currentViewOptionsInput;\n        let currentRefined = this.currentViewOptionsRefined;\n        let anyChanges = false;\n        let extra = {};\n        for (let optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName] ||\n                (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                    COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], currentRaw[optionName]))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], this.currentCalendarOptionsInput[optionName]))) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra,\n        };\n    }\n}\nfunction buildDateEnv$1(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    let locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale,\n        weekNumberCalculation,\n        firstDay,\n        weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    let ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    let DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewImpl(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, (eventSource) => eventSource.ui);\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    let eventUiBases = { '': eventUiSingleBase };\n    for (let defId in eventDefs) {\n        let def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    let { options } = calendarContext;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (let isLoadingFunc of context.pluginHooks.isLoadingFuncs) {\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (let optionName in options) {\n        console.warn(`Unknown option '${optionName}'` +\n            (viewName ? ` for view '${viewName}'` : ''));\n    }\n}\n\nclass ToolbarSection extends BaseComponent {\n    render() {\n        let children = this.props.widgetGroups.map((widgetGroup) => this.renderWidgetGroup(widgetGroup));\n        return createElement('div', { className: 'fc-toolbar-chunk' }, ...children);\n    }\n    renderWidgetGroup(widgetGroup) {\n        let { props } = this;\n        let { theme } = this.context;\n        let children = [];\n        let isOnlyButtons = true;\n        for (let widget of widgetGroup) {\n            let { buttonName, buttonClick, buttonText, buttonIcon, buttonHint } = widget;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                let isPressed = buttonName === props.activeButton;\n                let isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                let buttonClasses = [`fc-${buttonName}-button`, theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            let groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement('div', { className: groupClassName }, ...children);\n        }\n        return children[0];\n    }\n}\n\nclass Toolbar extends BaseComponent {\n    render() {\n        let { model, extraClassName } = this.props;\n        let forceLtr = false;\n        let startContent;\n        let endContent;\n        let sectionWidgets = model.sectionWidgets;\n        let centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        let classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    }\n    renderSection(key, widgetGroups) {\n        let { props } = this;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    }\n}\n\nclass ViewHarness extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            availableWidth: null,\n        };\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n            this.updateAvailableWidth();\n        };\n        this.handleResize = () => {\n            this.updateAvailableWidth();\n        };\n    }\n    render() {\n        let { props, state } = this;\n        let { aspectRatio } = props;\n        let classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        let height = '';\n        let paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = `${(1 / aspectRatio) * 100}%`;\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height, paddingBottom } }, props.children));\n    }\n    componentDidMount() {\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    updateAvailableWidth() {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    }\n}\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nclass EventClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handleSegClick = (ev, segEl) => {\n            let { component } = this;\n            let { context } = component;\n            let seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                let hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                let url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventImpl(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        this.handleSegClick);\n    }\n}\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nclass EventHovering extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        this.handleEventElRemove = (el) => {\n            if (el === this.currentSegEl) {\n                this.handleSegLeave(null, this.currentSegEl);\n            }\n        };\n        this.handleSegEnter = (ev, segEl) => {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                this.currentSegEl = segEl;\n                this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        this.handleSegLeave = (ev, segEl) => {\n            if (this.currentSegEl) {\n                this.currentSegEl = null;\n                this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        this.handleSegEnter, this.handleSegLeave);\n    }\n    destroy() {\n        this.removeHoverListeners();\n    }\n    triggerEvent(publicEvName, ev, segEl) {\n        let { component } = this;\n        let { context } = component;\n        let seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventImpl(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    }\n}\n\nclass CalendarContent extends PureComponent {\n    constructor() {\n        super(...arguments);\n        this.buildViewContext = memoize(buildViewContext);\n        this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        this.buildToolbarProps = memoize(buildToolbarProps);\n        this.headerRef = createRef();\n        this.footerRef = createRef();\n        this.interactionsStore = {};\n        // eslint-disable-next-line\n        this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        this.registerInteractiveComponent = (component, settingsInput) => {\n            let settings = parseInteractionSettings(component, settingsInput);\n            let DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            let interactionClasses = DEFAULT_INTERACTIONS.concat(this.props.pluginHooks.componentInteractions);\n            let interactions = interactionClasses.map((TheInteractionClass) => new TheInteractionClass(settings));\n            this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        this.unregisterInteractiveComponent = (component) => {\n            let listeners = this.interactionsStore[component.uid];\n            if (listeners) {\n                for (let listener of listeners) {\n                    listener.destroy();\n                }\n                delete this.interactionsStore[component.uid];\n            }\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        this.resizeRunner = new DelayedRunner(() => {\n            this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            this.props.emitter.trigger('windowResize', { view: this.props.viewApi });\n        });\n        this.handleWindowResize = (ev) => {\n            let { options } = this.props;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    render() {\n        let { props } = this;\n        let { toolbarConfig, options } = props;\n        let toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        let viewVGrow = false;\n        let viewHeight = '';\n        let viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        let viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        let viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : '';\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.header && (createElement(Toolbar, Object.assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n            createElement(ViewHarness, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footer && (createElement(Toolbar, Object.assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n    }\n    componentDidMount() {\n        let { props } = this;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map((CalendarInteractionClass) => new CalendarInteractionClass(props));\n        window.addEventListener('resize', this.handleWindowResize);\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        let { props } = this;\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    }\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (let interaction of this.calendarInteractions) {\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    }\n    buildAppendContent() {\n        let { props } = this;\n        let children = props.pluginHooks.viewContainerAppends.map((buildAppendContent) => buildAppendContent(props));\n        return createElement(Fragment, {}, ...children);\n    }\n    renderView(props) {\n        let { pluginHooks } = props;\n        let { viewSpec } = props;\n        let viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        let transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (let transformer of transformers) {\n            Object.assign(viewProps, transformer.transform(viewProps, props));\n        }\n        let ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, Object.assign({}, viewProps)));\n    }\n}\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    let todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    let prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    let nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map((TheClass) => new TheClass());\n}\n\nclass Calendar extends CalendarImpl {\n    constructor(el, optionOverrides = {}) {\n        super();\n        this.isRendering = false;\n        this.isRendered = false;\n        this.currentClassNames = [];\n        this.customContentRenderId = 0;\n        this.handleAction = (action) => {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    this.renderRunner.tryDrain();\n            }\n        };\n        this.handleData = (data) => {\n            this.currentData = data;\n            this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        this.handleRenderRequest = () => {\n            if (this.isRendering) {\n                this.isRendered = true;\n                let { currentData } = this;\n                flushSync(() => {\n                    render(createElement(CalendarRoot, { options: currentData.calendarOptions, theme: currentData.theme, emitter: currentData.emitter }, (classNames, height, isHeightAuto, forPrint) => {\n                        this.setClassNames(classNames);\n                        this.setHeight(height);\n                        return (createElement(RenderId.Provider, { value: this.customContentRenderId },\n                            createElement(CalendarContent, Object.assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData))));\n                    }), this.el);\n                });\n            }\n            else if (this.isRendered) {\n                this.isRendered = false;\n                render(null, this.el);\n                this.setClassNames([]);\n                this.setHeight('');\n            }\n        };\n        ensureElHasStyles(el);\n        this.el = el;\n        this.renderRunner = new DelayedRunner(this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides,\n            calendarApi: this,\n            onAction: this.handleAction,\n            onData: this.handleData,\n        });\n    }\n    render() {\n        let wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    }\n    destroy() {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    }\n    updateSize() {\n        flushSync(() => {\n            super.updateSize();\n        });\n    }\n    batchRendering(func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    }\n    pauseRendering() {\n        this.renderRunner.pause('pauseRendering');\n    }\n    resumeRendering() {\n        this.renderRunner.resume('pauseRendering', true);\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        this.currentDataManager.resetOptions(optionOverrides, changedOptionNames);\n    }\n    setClassNames(classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            let { classList } = this.el;\n            for (let className of this.currentClassNames) {\n                classList.remove(className);\n            }\n            for (let className of classNames) {\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    }\n    setHeight(height) {\n        applyStyleProp(this.el, 'height', height);\n    }\n}\n\nfunction formatDate(dateInput, options = {}) {\n    let dateEnv = buildDateEnv(options);\n    let formatter = createFormatter(options);\n    let dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    let dateEnv = buildDateEnv(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    let formatter = createFormatter(options);\n    let startMeta = dateEnv.createMarkerMeta(startInput);\n    let endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv(settings) {\n    let locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(Object.assign(Object.assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale }));\n}\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nconst version = '6.1.8';\n\nexport { Calendar, createPlugin, formatDate, formatRange, globalLocales, globalPlugins, sliceEvents, version };\n","import * as preact from 'preact';\nimport { Component, createElement, Fragment } from 'preact';\nimport { createPortal } from 'preact/compat';\n\nconst styleTexts = [];\nconst styleEls = new Map();\nfunction injectStyles(styleText) {\n    styleTexts.push(styleText);\n    styleEls.forEach((styleEl) => {\n        appendStylesTo(styleEl, styleText);\n    });\n}\nfunction ensureElHasStyles(el) {\n    if (el.isConnected) {\n        registerStylesRoot(el.getRootNode());\n    }\n}\nfunction registerStylesRoot(rootNode) {\n    let styleEl = styleEls.get(rootNode);\n    if (!styleEl || !styleEl.isConnected) {\n        styleEl = rootNode.querySelector('style[data-fullcalendar]');\n        if (!styleEl) {\n            styleEl = document.createElement('style');\n            styleEl.setAttribute('data-fullcalendar', '');\n            const nonce = getNonceValue();\n            if (nonce) {\n                styleEl.nonce = nonce;\n            }\n            const parentEl = rootNode === document ? document.head : rootNode;\n            const insertBefore = rootNode === document\n                ? parentEl.querySelector('script,link[rel=stylesheet],link[as=style],style')\n                : parentEl.firstChild;\n            parentEl.insertBefore(styleEl, insertBefore);\n        }\n        styleEls.set(rootNode, styleEl);\n        hydrateStylesRoot(styleEl);\n    }\n}\nfunction hydrateStylesRoot(styleEl) {\n    for (const styleText of styleTexts) {\n        appendStylesTo(styleEl, styleText);\n    }\n}\nfunction appendStylesTo(styleEl, styleText) {\n    const { sheet } = styleEl;\n    const ruleCnt = sheet.cssRules.length;\n    styleText.split('}').forEach((styleStr, i) => {\n        styleStr = styleStr.trim();\n        if (styleStr) {\n            sheet.insertRule(styleStr + '}', ruleCnt + i);\n        }\n    });\n}\n// nonce\n// -------------------------------------------------------------------------------------------------\nlet queriedNonceValue;\nfunction getNonceValue() {\n    if (queriedNonceValue === undefined) {\n        queriedNonceValue = queryNonceValue();\n    }\n    return queriedNonceValue;\n}\n/*\nTODO: discourage meta tag and instead put nonce attribute on placeholder <style> tag\n*/\nfunction queryNonceValue() {\n    const metaWithNonce = document.querySelector('meta[name=\"csp-nonce\"]');\n    if (metaWithNonce && metaWithNonce.hasAttribute('content')) {\n        return metaWithNonce.getAttribute('content');\n    }\n    const elWithNonce = document.querySelector('script[nonce]');\n    if (elWithNonce) {\n        return elWithNonce.nonce || '';\n    }\n    return '';\n}\n// main\n// -------------------------------------------------------------------------------------------------\nif (typeof document !== 'undefined') {\n    registerStylesRoot(document);\n}\n\nvar css_248z = \":root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\\\e900\\\"}.fc-icon-chevron-right:before{content:\\\"\\\\e901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\\\e902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\\\e903\\\"}.fc-icon-minus-square:before{content:\\\"\\\\e904\\\"}.fc-icon-plus-square:before{content:\\\"\\\\e905\\\"}.fc-icon-x:before{content:\\\"\\\\e906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}\";\ninjectStyles(css_248z);\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    let method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    let containers = container instanceof HTMLElement ? [container] : container;\n    let allMatches = [];\n    for (let i = 0; i < containers.length; i += 1) {\n        let matches = containers[i].querySelectorAll(selector);\n        for (let j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    let parents = parent instanceof HTMLElement ? [parent] : parent;\n    let allMatches = [];\n    for (let i = 0; i < parents.length; i += 1) {\n        let childNodes = parents[i].children; // only ever elements\n        for (let j = 0; j < childNodes.length; j += 1) {\n            let childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nconst PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (let propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = `${val}px`;\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Unique ID for DOM attribute\nlet guid$1 = 0;\nfunction getUniqueDomId() {\n    guid$1 += 1;\n    return 'fc-dom-' + guid$1;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return (ev) => {\n        let matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    let attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return () => {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    let currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, (mouseOverEv, matchedChild) => {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            let realOnMouseLeave = (mouseLeaveEv) => {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nconst transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    let realCallback = (ev) => {\n        callback(ev);\n        transitionEventNames.forEach((eventName) => {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach((eventName) => {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n// ARIA workarounds\n// ----------------------------------------------------------------------------------------------------------------\nfunction createAriaClickAttrs(handler) {\n    return Object.assign({ onClick: handler }, createAriaKeyboardAttrs(handler));\n}\nfunction createAriaKeyboardAttrs(handler) {\n    return {\n        tabIndex: 0,\n        onKeyDown(ev) {\n            if (ev.key === 'Enter' || ev.key === ' ') {\n                handler(ev);\n                ev.preventDefault(); // if space, don't scroll down page\n            }\n        },\n    };\n}\n\nlet guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.style.userSelect = 'none';\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.style.userSelect = '';\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    let specs = [];\n    let tokens = [];\n    let i;\n    let token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    let i;\n    let cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    let s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\nfunction formatWithOrdinals(formatter, args, fallbackText) {\n    if (typeof formatter === 'function') {\n        return formatter(...args);\n    }\n    if (typeof formatter === 'string') { // non-blank string\n        return args.reduce((str, arg, index) => (str.replace('$' + index, arg || '')), formatter);\n    }\n    return fallbackText;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    let allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    let contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nconst INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nconst PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject({ [unit || 'milliseconds']: input });\n    }\n    return null;\n}\nfunction parseString(s) {\n    let m = PARSE_RE.exec(s);\n    if (m) {\n        let sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    let duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    let weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    let res = null;\n    for (let i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        let unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            let localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    let ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\nconst { hasOwnProperty } = Object.prototype;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    let dest = {};\n    if (complexPropsMap) {\n        for (let name in complexPropsMap) {\n            if (complexPropsMap[name] === isMaybeObjectsEqual) { // implies that it's object-mergeable\n                let complexObjs = [];\n                // collect the trailing object values, stopping when a non-object is discovered\n                for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n                    let val = propObjs[i][name];\n                    if (typeof val === 'object' && val) { // non-null object\n                        complexObjs.unshift(val);\n                    }\n                    else if (val !== undefined) {\n                        dest[name] = val; // if there were no objects, this value will be used\n                        break;\n                    }\n                }\n                // if the trailing values were objects, use the merged value\n                if (complexObjs.length) {\n                    dest[name] = mergeProps(complexObjs);\n                }\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n        let props = propObjs[i];\n        for (let name in props) {\n            if (!(name in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name] = props[name];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    let filtered = {};\n    for (let key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    let newHash = {};\n    for (let key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    let hash = {};\n    for (let item of a) {\n        hash[item] = true;\n    }\n    return hash;\n}\n// TODO: reassess browser support\n// https://caniuse.com/?search=object.values\nfunction hashValuesToArray(obj) {\n    let a = [];\n    for (let key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (let key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (let key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nconst HANDLER_RE = /^on[A-Z]/;\nfunction isNonHandlerPropsEqual(obj0, obj1) {\n    const keys = getUnequalProps(obj0, obj1);\n    for (let key of keys) {\n        if (!HANDLER_RE.test(key)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    let keys = [];\n    for (let key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (let key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs = {}) {\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (let key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (let key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex = 0, endIndex, step = 1) {\n    let res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (let i = startIndex; i < endIndex; i += step) {\n        let val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    let removeCnt = 0;\n    let i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    let len = a0.length;\n    let i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nconst DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    let a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    let a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    let a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    let m0day = startOfDay(m0);\n    let m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    let d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    let y = marker.getUTCFullYear();\n    let w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    let nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    let firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    let dayStart = startOfDay(marker);\n    let days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    let fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    let fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC(...a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime = false) {\n    let s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\nfunction formatIsoMonthStr(marker) {\n    return marker.toISOString().match(/^\\d{4}-\\d{2}/)[0];\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso = false) {\n    let sign = minutes < 0 ? '-' : '+';\n    let abs = Math.abs(minutes);\n    let hours = Math.floor(abs / 60);\n    let mins = Math.round(abs % 60);\n    if (doIso) {\n        return `${sign + padStart(hours, 2)}:${padStart(mins, 2)}`;\n    }\n    return `GMT${sign}${hours}${mins ? `:${padStart(mins, 2)}` : ''}`;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    let currentArgs;\n    let currentRes;\n    return function (...newArgs) {\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            let res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    let currentArg;\n    let currentRes;\n    return (newArg) => {\n        if (!currentArg) {\n            currentRes = workerFunc.call(this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            let res = workerFunc.call(this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    let currentArgSets = [];\n    let currentResults = [];\n    return (newArgSets) => {\n        let currentLen = currentArgSets.length;\n        let newLen = newArgSets.length;\n        let i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                let res = workerFunc.apply(this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(workerFunc, resEquality, teardownFunc) {\n    let currentArgHash = {};\n    let currentResHash = {};\n    return (newArgHash) => {\n        let newResHash = {};\n        for (let key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                let res = workerFunc.apply(this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nconst EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nconst STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nconst MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nconst COMMA_RE = /,/g; // we need re for globalness\nconst MULTI_SPACE_RE = /\\s+/g;\nconst LTR_RE = /\\u200e/g; // control character\nconst UTC_RE = /UTC|GMT/;\nclass NativeFormatter {\n    constructor(formatSettings) {\n        let standardDateProps = {};\n        let extendedSettings = {};\n        let severity = 0;\n        for (let name in formatSettings) {\n            if (name in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name] = formatSettings[name];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name], severity);\n            }\n            else {\n                standardDateProps[name] = formatSettings[name];\n                if (name in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    format(date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        let { standardDateProps, extendedSettings } = this;\n        let diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        let biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        let full0 = this.format(start, context);\n        let full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        let partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        let partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        let partial0 = partialFormattingFunc(start);\n        let partial1 = partialFormattingFunc(end);\n        let insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        let separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    }\n    getLargestUnit() {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    }\n}\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    let standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return (date) => (formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return (date) => (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week));\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = Object.assign({}, standardDateProps); // copy\n    extendedSettings = Object.assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    let normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    let zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        let zeroProps = Object.assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return (date) => {\n        let { marker } = date;\n        let format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        let s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, (m0, m1) => m1.toLocaleLowerCase());\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, (m0, m1) => `${m1.toLocaleLowerCase()}m`);\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, (m0) => m0.toLocaleLowerCase());\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    let replaced = false;\n    s = s.replace(UTC_RE, () => {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += ` ${tzoStr}`;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, weekTextLong, locale, display) {\n    let parts = [];\n    if (display === 'long') {\n        parts.push(weekTextLong);\n    }\n    else if (display === 'short' || display === 'narrow') {\n        parts.push(weekText);\n    }\n    if (display === 'long' || display === 'short') {\n        parts.push(' ');\n    }\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    let partialOptions = {};\n    for (let name in options) {\n        if (!(name in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name] <= biggestUnit) {\n            partialOptions[name] = options[name];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    let i0 = 0;\n    while (i0 < full0.length) {\n        let found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        let before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        let after0 = full0.substr(i0);\n        let i1 = 0;\n        while (i1 < full1.length) {\n            let found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            let before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            let after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    let a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    let startInfo = expandZonedMarker(start, context.calendarSystem);\n    let endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nclass CmdFormatter {\n    constructor(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    format(date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    }\n}\n\nclass FuncFormatter {\n    constructor(func) {\n        this.func = func;\n    }\n    format(date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    }\n}\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nconst BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    weekTextLong: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    moreLinkHint: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    eventInteractive: Boolean,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    viewHint: identity,\n    navLinkHint: identity,\n    closeHint: String,\n    timeHint: String,\n    eventHint: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n    monthStartFormat: createFormatter,\n    // for connectors\n    // (can't be part of plugin system b/c must be provided at runtime)\n    handleCustomRendering: identity,\n    customRenderingMetaMap: identity,\n    customRenderingReplacesEl: Boolean,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nconst BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n    monthStartFormat: { month: 'long', day: 'numeric' },\n};\n// calendar listeners\n// ------------------\nconst CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nconst CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    buttonHints: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nconst COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isMaybeObjectsEqual,\n    footerToolbar: isMaybeObjectsEqual,\n    buttonText: isMaybeObjectsEqual,\n    buttonHints: isMaybeObjectsEqual,\n    buttonIcons: isMaybeObjectsEqual,\n    dateIncrement: isMaybeObjectsEqual,\n    plugins: isMaybeArraysEqual,\n    events: isMaybeArraysEqual,\n    eventSources: isMaybeArraysEqual,\n    ['resources']: isMaybeArraysEqual,\n};\nfunction isMaybeObjectsEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\nfunction isMaybeArraysEqual(a, b) {\n    if (Array.isArray(a) && Array.isArray(b)) {\n        return isArraysEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nconst VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    let refined = {};\n    let extra = {};\n    for (let propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (let propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined, extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId,\n        range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (let i = 0; i < recurringTypes.length; i += 1) {\n        let parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            let { allDay } = refined;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    let { dateEnv, pluginHooks, options } = context;\n    let { defs, instances } = eventStore;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, (instance) => !defs[instance.defId].recurringDef);\n    for (let defId in defs) {\n        let def = defs[defId];\n        if (def.recurringDef) {\n            let { duration } = def.recurringDef;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            let starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (let start of starts) {\n                let instance = createEventInstance(defId, {\n                    start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs, instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    let typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    let markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange, defIdMap, instanceIdMap) {\n    let eventStore = createEmptyEventStore();\n    let eventRefiners = buildEventRefiners(context);\n    for (let rawEvent of rawEvents) {\n        let tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners, defIdMap, instanceIdMap);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore = createEmptyEventStore()) {\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    let instance = eventStore.instances[instanceId];\n    if (instance) {\n        let def = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        let newStore = filterEventStoreDefs(eventStore, (lookDef) => isEventDefsGrouped(def, lookDef));\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def.defId] = def;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: Object.assign(Object.assign({}, store0.defs), store1.defs),\n        instances: Object.assign(Object.assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    let defs = filterHash(eventStore.defs, filterFunc);\n    let instances = filterHash(eventStore.instances, (instance) => (defs[instance.defId] // still exists?\n    ));\n    return { defs, instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    let { defs, instances } = master;\n    let filteredDefs = {};\n    let filteredInstances = {};\n    for (let defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (let instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nconst EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nconst EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    let constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nconst EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    interactive: Boolean,\n};\nconst EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nconst EVENT_REFINERS = Object.assign(Object.assign(Object.assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners = buildEventRefiners(context), defIdMap, instanceIdMap) {\n    let { refined, extra } = refineEventDef(raw, context, refiners);\n    let defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    let recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context, defIdMap);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def, instance: null };\n    }\n    let singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context, defIdMap);\n        let instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        if (instanceIdMap && def.publicId && instanceIdMap[def.publicId]) {\n            instance.instanceId = instanceIdMap[def.publicId];\n        }\n        return { def, instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners = buildEventRefiners(context)) {\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context, defIdMap) {\n    let def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: ((defIdMap && refined.id) ? defIdMap[refined.id] : '') || guid(),\n        sourceId,\n        allDay,\n        hasEnd,\n        interactive: refined.interactive,\n        ui: createEventUi(refined, context),\n        extendedProps: Object.assign(Object.assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (let memberAdder of context.pluginHooks.eventDefMemberAdders) {\n        Object.assign(def, memberAdder(refined));\n    }\n    // help out EventImpl from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    let { allDay } = refined;\n    let startMeta;\n    let startMarker = null;\n    let hasEnd = false;\n    let endMeta;\n    let endMarker = null;\n    let startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay,\n        hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    let res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\nconst DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    let rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter((rawDef) => rawDef.daysOfWeek);\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map((rawDef) => (Object.assign(Object.assign({}, DEF_DEFAULTS), rawDef)));\n    return rawDefs;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    let dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    let start = startOfDay(timedRange.start);\n    let end = addDays(start, dayCnt);\n    return { start, end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold = createDuration(0)) {\n    let startDay = null;\n    let endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        let endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    let visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    let res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nlet canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    let el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    let div = el.querySelector('div');\n    let possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nconst EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nclass Splitter {\n    constructor() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    splitProps(props) {\n        let keyInfos = this.getKeyInfo(props);\n        let defKeys = this.getKeysForEventDefs(props.eventStore);\n        let dateSelections = this.splitDateSelection(props.dateSelection);\n        let individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        let eventStores = this.splitEventStore(props.eventStore, defKeys);\n        let eventDrags = this.splitEventDrag(props.eventDrag);\n        let eventResizes = this.splitEventResize(props.eventResize);\n        let splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, (info, key) => this.eventUiBuilders[key] || memoize(buildEventUiForKey));\n        for (let key in keyInfos) {\n            let keyInfo = keyInfos[key];\n            let eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            let buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    }\n    _splitDateSpan(dateSpan) {\n        let dateSpans = {};\n        if (dateSpan) {\n            let keys = this.getKeysForDateSpan(dateSpan);\n            for (let key of keys) {\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    }\n    _getKeysForEventDefs(eventStore) {\n        return mapHash(eventStore.defs, (eventDef) => this.getKeysForEventDef(eventDef));\n    }\n    _splitEventStore(eventStore, defKeys) {\n        let { defs, instances } = eventStore;\n        let splitStores = {};\n        for (let defId in defs) {\n            for (let key of defKeys[defId]) {\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (let instanceId in instances) {\n            let instance = instances[instanceId];\n            for (let key of defKeys[instance.defId]) {\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    }\n    _splitIndividualUi(eventUiBases, defKeys) {\n        let splitHashes = {};\n        for (let defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (let key of defKeys[defId]) {\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    }\n    _splitInteraction(interaction) {\n        let splitStates = {};\n        if (interaction) {\n            let affectedStores = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            let mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            let mutatedStores = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            let populate = (key) => {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (let key in affectedStores) {\n                populate(key);\n            }\n            for (let key in mutatedStores) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    }\n}\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    let baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    let stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        Object.assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction parseRange(input, dateEnv) {\n    let start = null;\n    let end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start, end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    let invertedRanges = [];\n    let { start } = constraintRange; // the end of the previous range. the start of the new range\n    let i;\n    let dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    let { start, end } = range0;\n    let newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start, end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    let classNames = [\n        'fc-day',\n        `fc-day-${DAY_IDS[meta.dow]}`,\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    let classNames = [\n        'fc-slot',\n        `fc-slot-${DAY_IDS[meta.dow]}`,\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nconst DAY_FORMAT = createFormatter({ year: 'numeric', month: 'long', day: 'numeric' });\nconst WEEK_FORMAT = createFormatter({ week: 'long' });\nfunction buildNavLinkAttrs(context, dateMarker, viewType = 'day', isTabbable = true) {\n    const { dateEnv, options, calendarApi } = context;\n    let dateStr = dateEnv.format(dateMarker, viewType === 'week' ? WEEK_FORMAT : DAY_FORMAT);\n    if (options.navLinks) {\n        let zonedDate = dateEnv.toDate(dateMarker);\n        const handleInteraction = (ev) => {\n            let customAction = viewType === 'day' ? options.navLinkDayClick :\n                viewType === 'week' ? options.navLinkWeekClick : null;\n            if (typeof customAction === 'function') {\n                customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                calendarApi.zoomTo(dateMarker, viewType);\n            }\n        };\n        return Object.assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), 'data-navlink': '' }, (isTabbable\n            ? createAriaClickAttrs(handleInteraction)\n            : { onClick: handleInteraction }));\n    }\n    return { 'aria-label': dateStr };\n}\n\nlet _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    let outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    let innerEl = outerEl.firstChild;\n    let res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nlet _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    let el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    let res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding = false) {\n    let computedStyle = window.getComputedStyle(el);\n    let borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    let borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    let borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    let borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    let badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    let scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    let scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    let res = {\n        borderLeft,\n        borderRight,\n        borderTop,\n        borderBottom,\n        scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding = false, doFromWindowViewport) {\n    let outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    let edges = computeEdges(el, goWithinPadding);\n    let res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    let rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    let clippingParents = getClippingParents(el);\n    let rect = el.getBoundingClientRect();\n    for (let clippingParent of clippingParents) {\n        let intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\n// does not return window\nfunction getClippingParents(el) {\n    let parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        let computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n/*\ngiven a function that resolves a result asynchronously.\nthe function can either call passed-in success and failure callbacks,\nor it can return a promise.\nif you need to pass additional params to func, bind them first.\n*/\nfunction unpromisify(func, normalizedSuccessCallback, normalizedFailureCallback) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    let isResolved = false;\n    let wrappedSuccess = function (res) {\n        if (!isResolved) {\n            isResolved = true;\n            normalizedSuccessCallback(res);\n        }\n    };\n    let wrappedFailure = function (error) {\n        if (!isResolved) {\n            isResolved = true;\n            normalizedFailureCallback(error);\n        }\n    };\n    let res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nclass Emitter {\n    constructor() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    setThisContext(thisContext) {\n        this.thisContext = thisContext;\n    }\n    setOptions(options) {\n        this.options = options;\n    }\n    on(type, handler) {\n        addToHash(this.handlers, type, handler);\n    }\n    off(type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    }\n    trigger(type, ...args) {\n        let attachedHandlers = this.handlers[type] || [];\n        let optionHandler = this.options && this.options[type];\n        let handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (let handler of handlers) {\n            handler.apply(this.thisContext, args);\n        }\n    }\n    hasHandlers(type) {\n        return Boolean((this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]));\n    }\n}\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter((func) => func !== handler);\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nclass PositionCache {\n    constructor(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        let originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    buildElHorizontals(originClientLeft) {\n        let lefts = [];\n        let rights = [];\n        for (let el of this.els) {\n            let rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    }\n    // Populates the top/bottom internal coordinate arrays\n    buildElVerticals(originClientTop) {\n        let tops = [];\n        let bottoms = [];\n        for (let el of this.els) {\n            let rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    }\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    leftToIndex(leftPosition) {\n        let { lefts, rights } = this;\n        let len = lefts.length;\n        let i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    }\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    topToIndex(topPosition) {\n        let { tops, bottoms } = this;\n        let len = tops.length;\n        let i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    }\n    // Gets the width of the element at the given index\n    getWidth(leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    }\n    // Gets the height of the element at the given index\n    getHeight(topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    }\n    similarTo(otherCache) {\n        return similarNumArrays(this.tops || [], otherCache.tops || []) &&\n            similarNumArrays(this.bottoms || [], otherCache.bottoms || []) &&\n            similarNumArrays(this.lefts || [], otherCache.lefts || []) &&\n            similarNumArrays(this.rights || [], otherCache.rights || []);\n    }\n}\nfunction similarNumArrays(a, b) {\n    const len = a.length;\n    if (len !== b.length) {\n        return false;\n    }\n    for (let i = 0; i < len; i++) {\n        if (Math.round(a[i]) !== Math.round(b[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nclass ScrollController {\n    getMaxScrollTop() {\n        return this.getScrollHeight() - this.getClientHeight();\n    }\n    getMaxScrollLeft() {\n        return this.getScrollWidth() - this.getClientWidth();\n    }\n    canScrollVertically() {\n        return this.getMaxScrollTop() > 0;\n    }\n    canScrollHorizontally() {\n        return this.getMaxScrollLeft() > 0;\n    }\n    canScrollUp() {\n        return this.getScrollTop() > 0;\n    }\n    canScrollDown() {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    }\n    canScrollLeft() {\n        return this.getScrollLeft() > 0;\n    }\n    canScrollRight() {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    }\n}\nclass ElementScrollController extends ScrollController {\n    constructor(el) {\n        super();\n        this.el = el;\n    }\n    getScrollTop() {\n        return this.el.scrollTop;\n    }\n    getScrollLeft() {\n        return this.el.scrollLeft;\n    }\n    setScrollTop(top) {\n        this.el.scrollTop = top;\n    }\n    setScrollLeft(left) {\n        this.el.scrollLeft = left;\n    }\n    getScrollWidth() {\n        return this.el.scrollWidth;\n    }\n    getScrollHeight() {\n        return this.el.scrollHeight;\n    }\n    getClientHeight() {\n        return this.el.clientHeight;\n    }\n    getClientWidth() {\n        return this.el.clientWidth;\n    }\n}\nclass WindowScrollController extends ScrollController {\n    getScrollTop() {\n        return window.pageYOffset;\n    }\n    getScrollLeft() {\n        return window.pageXOffset;\n    }\n    setScrollTop(n) {\n        window.scroll(window.pageXOffset, n);\n    }\n    setScrollLeft(n) {\n        window.scroll(n, window.pageYOffset);\n    }\n    getScrollWidth() {\n        return document.documentElement.scrollWidth;\n    }\n    getScrollHeight() {\n        return document.documentElement.scrollHeight;\n    }\n    getClientHeight() {\n        return document.documentElement.clientHeight;\n    }\n    getClientWidth() {\n        return document.documentElement.clientWidth;\n    }\n}\n\nclass Theme {\n    constructor(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    setIconOverride(iconOverrideHash) {\n        let iconClassesCopy;\n        let buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = Object.assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    }\n    applyIconOverridePrefix(className) {\n        let prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    }\n    getClass(key) {\n        return this.classes[key] || '';\n    }\n    getIconClass(buttonName, isRtl) {\n        let className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return `${this.baseIconClass} ${className}`;\n        }\n        return '';\n    }\n    getCustomButtonIconClass(customButtonProps) {\n        let className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return `${this.baseIconClass} ${this.applyIconOverridePrefix(className)}`;\n            }\n        }\n        return '';\n    }\n}\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\n/*\nNOTE: this can be a public API, especially createElement for hooks.\nSee examples/typescript-scheduler/src/index.ts\n*/\nfunction flushSync(runBeforeFlush) {\n    runBeforeFlush();\n    let oldDebounceRendering = preact.options.debounceRendering; // orig\n    let callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nclass FakeComponent extends preact.Component {\n    render() { return preact.createElement('div', {}); }\n    componentDidMount() { this.setState({}); }\n}\n// TODO: use preact/compat instead?\nfunction createContext(defaultValue) {\n    let ContextType = preact.createContext(defaultValue);\n    let origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        let isNew = !this.getChildContext;\n        let children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            let subs = [];\n            this.shouldComponentUpdate = (_props) => {\n                if (this.props.value !== _props.value) {\n                    subs.forEach((c) => {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = (c) => {\n                subs.push(c);\n                let old = c.componentWillUnmount;\n                c.componentWillUnmount = () => {\n                    subs.splice(subs.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\n\nclass ScrollResponder {\n    constructor(execFunc, emitter, scrollTime, scrollTimeReset) {\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = (request) => {\n            this.queuedRequest = Object.assign({}, this.queuedRequest || {}, request);\n            this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    detach() {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    }\n    update(isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    }\n    fireInitialScroll() {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    }\n    drain() {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    }\n}\n\nconst ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv,\n        options: viewOptions,\n        pluginHooks,\n        emitter,\n        dispatch,\n        getCurrentData,\n        calendarApi,\n        viewSpec,\n        viewApi,\n        dateProfileGenerator,\n        theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler(handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler(handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder(execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent,\n        unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nclass PureComponent extends Component {\n    shouldComponentUpdate(nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    }\n    // HACK for freakin' React StrictMode\n    safeSetState(newState) {\n        if (!compareObjs(this.state, Object.assign(Object.assign({}, this.state), newState), this.stateEquality)) {\n            this.setState(newState);\n        }\n    }\n}\nPureComponent.addPropsEquality = addPropsEquality;\nPureComponent.addStateEquality = addStateEquality;\nPureComponent.contextType = ViewContextType;\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nclass BaseComponent extends PureComponent {\n}\nBaseComponent.contextType = ViewContextType;\nfunction addPropsEquality(propEquality) {\n    let hash = Object.create(this.prototype.propEquality);\n    Object.assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    let hash = Object.create(this.prototype.stateEquality);\n    Object.assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nclass DateComponent extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.uid = guid();\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    prepareHits() {\n    }\n    queryHit(positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    }\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    isValidSegDownEl(el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    }\n    isValidDateDownEl(el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    }\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    let initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nclass DateProfileGenerator {\n    constructor(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    buildPrev(currentDateProfile, currentDate, forceToValid) {\n        let { dateEnv } = this.props;\n        let prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    }\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    buildNext(currentDateProfile, currentDate, forceToValid) {\n        let { dateEnv } = this.props;\n        let nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    }\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    build(currentDate, direction, forceToValid = true) {\n        let { props } = this;\n        let validRange;\n        let currentInfo;\n        let isRangeAllDay;\n        let renderRange;\n        let activeRange;\n        let isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        // HACK: constrain to render-range so `currentDate` is more useful to view rendering\n        if (!rangeContainsMarker(renderRange, currentDate)) {\n            currentDate = renderRange.start;\n        }\n        return {\n            currentDate,\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    }\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    buildValidRange() {\n        let input = this.props.validRangeInput;\n        let simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    }\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    buildCurrentRangeInfo(date, direction) {\n        let { props } = this;\n        let duration = null;\n        let unit = null;\n        let range = null;\n        let dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration, unit, range };\n    }\n    getFallbackDuration() {\n        return createDuration({ day: 1 });\n    }\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    adjustActiveRange(range) {\n        let { dateEnv, usesMinMaxTime, slotMinTime, slotMaxTime } = this.props;\n        let { start, end } = range;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start, end };\n    }\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    buildRangeFromDuration(date, direction, duration, unit) {\n        let { dateEnv, dateAlignment } = this.props;\n        let start;\n        let end;\n        let res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            let { dateIncrement } = this.props;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start, end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    }\n    // Builds the \"current\" range when a dayCount is specified.\n    buildRangeFromDayCount(date, direction, dayCount) {\n        let { dateEnv, dateAlignment } = this.props;\n        let runningCount = 0;\n        let start = date;\n        let end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start, end };\n    }\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    buildCustomVisibleRange(date) {\n        let { props } = this;\n        let input = props.visibleRangeInput;\n        let simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        let range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    }\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    }\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    buildDateIncrement(fallback) {\n        let { dateIncrement } = this.props;\n        let customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    }\n    refineRange(rangeInput) {\n        if (rangeInput) {\n            let range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    }\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    initHiddenDays() {\n        let hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        let isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        let dayCnt = 0;\n        let i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    }\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    trimHiddenDays(range) {\n        let { start, end } = range;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start, end };\n        }\n        return null;\n    }\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    isHiddenDay(day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    }\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    skipHiddenDays(date, inc = 1, isExclusive = false) {\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    }\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', Object.assign(Object.assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    let props = {};\n    for (let transform of context.pluginHooks.dateSpanTransforms) {\n        Object.assign(props, transform(dateSpan, context));\n    }\n    Object.assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    let { dateEnv, options } = context;\n    let end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    let eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    let dest = createEmptyEventStore();\n    for (let defId in eventStore.defs) {\n        let def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (let instanceId in eventStore.instances) {\n        let instance = eventStore.instances[instanceId];\n        let def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    let standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    let copy = Object.assign(Object.assign(Object.assign({}, eventDef), standardProps), { ui: Object.assign(Object.assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = Object.assign(Object.assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (let applier of context.pluginHooks.eventDefMutationAppliers) {\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    let { dateEnv } = context;\n    let forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    let clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    let copy = Object.assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\nclass EventSourceImpl {\n    constructor(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    remove() {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    }\n    refetch() {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    }\n    get id() {\n        return this.internalEventSource.publicId;\n    }\n    get url() {\n        return this.internalEventSource.meta.url;\n    }\n    get format() {\n        return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n    }\n}\n\nclass EventImpl {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    constructor(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    setProp(name, val) {\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { [name]: val },\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            let ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = { [name]: val };\n            }\n            this.mutate({\n                standardProps: { ui },\n            });\n        }\n        else {\n            console.warn(`Could not set prop '${name}'. Use setExtendedProp instead.`);\n        }\n    }\n    setExtendedProp(name, val) {\n        this.mutate({\n            extendedProps: { [name]: val },\n        });\n    }\n    setStart(startInput, options = {}) {\n        let { dateEnv } = this._context;\n        let start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            let instanceRange = this._instance.range;\n            let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta });\n            }\n        }\n    }\n    setEnd(endInput, options = {}) {\n        let { dateEnv } = this._context;\n        let end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                let endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    }\n    setDates(startInput, endInput, options = {}) {\n        let { dateEnv } = this._context;\n        let standardProps = { allDay: options.allDay };\n        let start = dateEnv.createMarker(startInput);\n        let end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            let instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                let endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps });\n                }\n                else {\n                    this.mutate({ startDelta, endDelta, standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps });\n            }\n        }\n    }\n    moveStart(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    }\n    moveEnd(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    }\n    moveDates(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    }\n    setAllDay(allDay, options = {}) {\n        let standardProps = { allDay };\n        let { maintainDuration } = options;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps });\n    }\n    formatRange(formatInput) {\n        let { dateEnv } = this._context;\n        let instance = this._instance;\n        let formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    }\n    mutate(mutation) {\n        let instance = this._instance;\n        if (instance) {\n            let def = this._def;\n            let context = this._context;\n            let { eventStore } = context.getCurrentData();\n            let relevantEvents = getRelevantEvents(eventStore, instance.instanceId);\n            let eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context);\n            let oldEvent = new EventImpl(context, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context.emitter.trigger('eventChange', {\n                oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context, instance),\n                revert() {\n                    context.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore, // the ORIGINAL store\n                    });\n                },\n            });\n        }\n    }\n    remove() {\n        let context = this._context;\n        let asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert() {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    }\n    get source() {\n        let { sourceId } = this._def;\n        if (sourceId) {\n            return new EventSourceImpl(this._context, this._context.getCurrentData().eventSources[sourceId]);\n        }\n        return null;\n    }\n    get start() {\n        return this._instance ?\n            this._context.dateEnv.toDate(this._instance.range.start) :\n            null;\n    }\n    get end() {\n        return (this._instance && this._def.hasEnd) ?\n            this._context.dateEnv.toDate(this._instance.range.end) :\n            null;\n    }\n    get startStr() {\n        let instance = this._instance;\n        if (instance) {\n            return this._context.dateEnv.formatIso(instance.range.start, {\n                omitTime: this._def.allDay,\n                forcedTzo: instance.forcedStartTzo,\n            });\n        }\n        return '';\n    }\n    get endStr() {\n        let instance = this._instance;\n        if (instance && this._def.hasEnd) {\n            return this._context.dateEnv.formatIso(instance.range.end, {\n                omitTime: this._def.allDay,\n                forcedTzo: instance.forcedEndTzo,\n            });\n        }\n        return '';\n    }\n    // computable props that all access the def\n    // TODO: find a TypeScript-compatible way to do this at scale\n    get id() { return this._def.publicId; }\n    get groupId() { return this._def.groupId; }\n    get allDay() { return this._def.allDay; }\n    get title() { return this._def.title; }\n    get url() { return this._def.url; }\n    get display() { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n    get startEditable() { return this._def.ui.startEditable; }\n    get durationEditable() { return this._def.ui.durationEditable; }\n    get constraint() { return this._def.ui.constraints[0] || null; }\n    get overlap() { return this._def.ui.overlap; }\n    get allow() { return this._def.ui.allows[0] || null; }\n    get backgroundColor() { return this._def.ui.backgroundColor; }\n    get borderColor() { return this._def.ui.borderColor; }\n    get textColor() { return this._def.ui.textColor; }\n    // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n    get classNames() { return this._def.ui.classNames; }\n    get extendedProps() { return this._def.extendedProps; }\n    toPlainObject(settings = {}) {\n        let def = this._def;\n        let { ui } = def;\n        let { startStr, endStr } = this;\n        let res = {\n            allDay: def.allDay,\n        };\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                Object.assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    }\n    toJSON() {\n        return this.toPlainObject();\n    }\n}\nfunction eventApiToStore(eventApi) {\n    let def = eventApi._def;\n    let instance = eventApi._instance;\n    return {\n        defs: { [def.defId]: def },\n        instances: instance\n            ? { [instance.instanceId]: instance }\n            : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    let { defs, instances } = eventStore;\n    let eventApis = [];\n    let excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (let id in instances) {\n        let instance = instances[id];\n        let def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventImpl(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    let inverseBgByGroupId = {};\n    let inverseBgByDefId = {};\n    let defByGroupId = {};\n    let bgRanges = [];\n    let fgRanges = [];\n    let eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (let defId in eventStore.defs) {\n        let def = eventStore.defs[defId];\n        let ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (let instanceId in eventStore.instances) {\n        let instance = eventStore.instances[instanceId];\n        let def = eventStore.defs[instance.defId];\n        let ui = eventUis[def.defId];\n        let origRange = instance.range;\n        let normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        let slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def,\n                    ui,\n                    instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (let groupId in inverseBgByGroupId) { // BY GROUP\n        let ranges = inverseBgByGroupId[groupId];\n        let invertedRanges = invertRanges(ranges, framingRange);\n        for (let invertedRange of invertedRanges) {\n            let def = defByGroupId[groupId];\n            let ui = eventUis[def.defId];\n            bgRanges.push({\n                def,\n                ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (let defId in inverseBgByDefId) {\n        let ranges = inverseBgByDefId[defId];\n        let invertedRanges = invertRanges(ranges, framingRange);\n        for (let invertedRange of invertedRanges) {\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, (eventDef) => compileEventUi(eventDef, eventUiBases));\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    let uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    let objs = segs.map(buildSegCompareObj);\n    objs.sort((obj0, obj1) => compareByFieldSpecs(obj0, obj1, eventOrderSpecs));\n    return objs.map((c) => c._seg);\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    let { eventRange } = seg;\n    let eventDef = eventRange.def;\n    let range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    let start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    let end = range.end ? range.end.valueOf() : 0; // \"\n    return Object.assign(Object.assign(Object.assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start,\n        end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    let { pluginHooks } = context;\n    let transformers = pluginHooks.isDraggableTransformers;\n    let { def, ui } = seg.eventRange;\n    let val = ui.startEditable;\n    for (let transformer of transformers) {\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    let { dateEnv, options } = context;\n    let { displayEventTime, displayEventEnd } = options;\n    let eventDef = seg.eventRange.def;\n    let eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    let wholeEventStart = eventInstance.range.start;\n    let wholeEventEnd = eventInstance.range.end;\n    let segStart = startOverride || seg.start || seg.eventRange.range.start;\n    let segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    let isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    let isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    let segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    let classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : `${eventRange.def.defId}:${eventRange.range.start.toISOString()}`;\n    // inverse-background events don't have specific instances. TODO: better solution\n}\nfunction getSegAnchorAttrs(seg, context) {\n    let { def, instance } = seg.eventRange;\n    let { url } = def;\n    if (url) {\n        return { href: url };\n    }\n    let { emitter, options } = context;\n    let { eventInteractive } = options;\n    if (eventInteractive == null) {\n        eventInteractive = def.interactive;\n        if (eventInteractive == null) {\n            eventInteractive = Boolean(emitter.hasHandlers('eventClick'));\n        }\n    }\n    // mock what happens in EventClicking\n    if (eventInteractive) {\n        // only attach keyboard-related handlers because click handler is already done in EventClicking\n        return createAriaKeyboardAttrs((ev) => {\n            emitter.trigger('eventClick', {\n                el: ev.target,\n                event: new EventImpl(context, def, instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        });\n    }\n    return {};\n}\n\nconst STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    let span = parseOpenDateSpan(raw, dateEnv);\n    let { range } = span;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    let { refined: standardProps, extra } = refineProps(raw, STANDARD_PROPS);\n    let startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    let endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    let { allDay } = standardProps;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return Object.assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (let propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (let propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return Object.assign(Object.assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return Object.assign(Object.assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    let res = refineEventDef({ editable: false }, context);\n    let def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nlet calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nclass GregorianCalendarSystem {\n    getMarkerYear(d) {\n        return d.getUTCFullYear();\n    }\n    getMarkerMonth(d) {\n        return d.getUTCMonth();\n    }\n    getMarkerDay(d) {\n        return d.getUTCDate();\n    }\n    arrayToMarker(arr) {\n        return arrayToUtcDate(arr);\n    }\n    markerToArray(marker) {\n        return dateToUtcArray(marker);\n    }\n}\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nconst ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    let m = ISO_RE.exec(str);\n    if (m) {\n        let marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(`0.${m[12]}`) * 1000 : 0));\n        if (isValidDate(marker)) {\n            let timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nclass DateEnv {\n    constructor(settings) {\n        let timeZone = this.timeZone = settings.timeZone;\n        let isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    createMarker(input) {\n        let meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    }\n    createNowMarker() {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    }\n    createMarkerMeta(input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        let marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker, isTimeUnspecified: false, forcedTzo: null };\n    }\n    parse(s) {\n        let parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        let { marker } = parts;\n        let forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo };\n    }\n    // Accessors\n    getYear(marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    }\n    getMonth(marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    }\n    getDay(marker) {\n        return this.calendarSystem.getMarkerDay(marker);\n    }\n    // Adding / Subtracting\n    add(marker, dur) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    subtract(marker, dur) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    addYears(marker, n) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    addMonths(marker, n) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    // Diffing Whole Units\n    diffWholeYears(m0, m1) {\n        let { calendarSystem } = this;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    }\n    diffWholeMonths(m0, m1) {\n        let { calendarSystem } = this;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    }\n    // Range / Duration\n    greatestWholeUnit(m0, m1) {\n        let n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    }\n    countDurationsBetween(m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        let diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    }\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    startOf(m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    }\n    startOfYear(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    }\n    startOfMonth(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    }\n    startOfWeek(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    }\n    // Week Number\n    computeWeekNumber(marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    }\n    // TODO: choke on timeZoneName: long\n    format(marker, formatter, dateOptions = {}) {\n        return formatter.format({\n            marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    }\n    formatRange(start, end, formatter, dateOptions = {}) {\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    }\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    formatIso(marker, extraOptions = {}) {\n        let timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    }\n    // TimeZone\n    timestampToMarker(ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    }\n    offsetForMarker(m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    }\n    // Conversion\n    toDate(m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    }\n}\n\nclass NamedTimeZoneImpl {\n    constructor(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n}\n\nclass SegHierarchy {\n    constructor() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    addSegs(inputs) {\n        let hiddenEntries = [];\n        for (let input of inputs) {\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    }\n    insertEntry(entry, hiddenEntries) {\n        let insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    }\n    isInsertionValid(insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    }\n    // returns number of new entries inserted\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    }\n    splitEntry(entry, barrier, hiddenEntries) {\n        let partCnt = 0;\n        let splitHiddenEntries = [];\n        let entrySpan = entry.span;\n        let barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, splitHiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n            }, ...splitHiddenEntries);\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    }\n    insertEntryAt(entry, insertion) {\n        let { entriesByLevel, levelCoords } = this;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    }\n    findInsertion(newEntry) {\n        let { levelCoords, entriesByLevel, strictOrder, stackCnts } = this;\n        let levelCnt = levelCoords.length;\n        let candidateCoord = 0;\n        let touchingLevel = -1;\n        let touchingLateral = -1;\n        let touchingEntry = null;\n        let stackCnt = 0;\n        for (let trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            let trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + newEntry.thickness) {\n                break;\n            }\n            let trackingEntries = entriesByLevel[trackingLevel];\n            let trackingEntry;\n            let searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            let lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                let trackingEntryBottom = trackingCoord + trackingEntry.thickness;\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        let destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        let destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel,\n            touchingLateral,\n            touchingEntry,\n            stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    }\n    // sorted by levelCoord (lowest to highest)\n    toRects() {\n        let { entriesByLevel, levelCoords } = this;\n        let levelCnt = entriesByLevel.length;\n        let rects = [];\n        for (let level = 0; level < levelCnt; level += 1) {\n            let entries = entriesByLevel[level];\n            let levelCoord = levelCoords[level];\n            for (let entry of entries) {\n                rects.push(Object.assign(Object.assign({}, entry), { levelCoord }));\n            }\n        }\n        return rects;\n    }\n}\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    let merges = [];\n    for (let entry of entries) {\n        let filteredMerges = [];\n        let hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (let merge of merges) {\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    let start = Math.max(span0.start, span1.start);\n    let end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start, end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    let startIndex = 0;\n    let endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        let middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        let middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\nclass Interaction {\n    constructor(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    destroy() {\n    }\n}\nfunction parseInteractionSettings(component, input) {\n    return {\n        component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    return {\n        [settings.component.uid]: settings,\n    };\n}\n// global state\nconst interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nclass ElementDragging {\n    constructor(el, selector) {\n        this.emitter = new Emitter();\n    }\n    destroy() {\n    }\n    setMirrorIsVisible(bool) {\n        // optional if subclass doesn't want to support a mirror\n    }\n    setMirrorNeedsRevert(bool) {\n        // optional if subclass doesn't want to support a mirror\n    }\n    setAutoScrollEnabled(bool) {\n        // optional\n    }\n}\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nconst config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nconst DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    let { refined, extra } = refineProps(raw, DRAG_META_REFINERS);\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nclass CalendarRoot extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            forPrint: false,\n        };\n        this.handleBeforePrint = () => {\n            this.setState({ forPrint: true });\n        };\n        this.handleAfterPrint = () => {\n            this.setState({ forPrint: false });\n        };\n    }\n    render() {\n        let { props } = this;\n        let { options } = props;\n        let { forPrint } = this.state;\n        let isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        let height = (!isHeightAuto && options.height != null) ? options.height : '';\n        let classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            `fc-direction-${options.direction}`,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    }\n    componentDidMount() {\n        let { emitter } = this.props;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    }\n    componentWillUnmount() {\n        let { emitter } = this.props;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    }\n}\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nconst CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(renderProps) {\n    return renderProps.text;\n}\n\nclass ContentInjector extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.id = guid();\n        this.queuedDomNodes = [];\n        this.currentDomNodes = [];\n        this.handleEl = (el) => {\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n            }\n        };\n    }\n    render() {\n        const { props, context } = this;\n        const { options } = context;\n        const { customGenerator, defaultGenerator, renderProps } = props;\n        const attrs = buildElAttrs(props);\n        let useDefault = false;\n        let innerContent;\n        let queuedDomNodes = [];\n        let currentGeneratorMeta;\n        if (customGenerator != null) {\n            const customGeneratorRes = typeof customGenerator === 'function' ?\n                customGenerator(renderProps, createElement) :\n                customGenerator;\n            if (customGeneratorRes === true) {\n                useDefault = true;\n            }\n            else {\n                const isObject = customGeneratorRes && typeof customGeneratorRes === 'object'; // non-null\n                if (isObject && ('html' in customGeneratorRes)) {\n                    attrs.dangerouslySetInnerHTML = { __html: customGeneratorRes.html };\n                }\n                else if (isObject && ('domNodes' in customGeneratorRes)) {\n                    queuedDomNodes = Array.prototype.slice.call(customGeneratorRes.domNodes);\n                }\n                else if (!isObject && typeof customGeneratorRes !== 'function') {\n                    // primitive value (like string or number)\n                    innerContent = customGeneratorRes;\n                }\n                else {\n                    // an exotic object for handleCustomRendering\n                    currentGeneratorMeta = customGeneratorRes;\n                }\n            }\n        }\n        else {\n            useDefault = !hasCustomRenderingHandler(props.generatorName, options);\n        }\n        if (useDefault && defaultGenerator) {\n            innerContent = defaultGenerator(renderProps);\n        }\n        this.queuedDomNodes = queuedDomNodes;\n        this.currentGeneratorMeta = currentGeneratorMeta;\n        return createElement(props.elTag, attrs, innerContent);\n    }\n    componentDidMount() {\n        this.applyQueueudDomNodes();\n        this.triggerCustomRendering(true);\n    }\n    componentDidUpdate() {\n        this.applyQueueudDomNodes();\n        this.triggerCustomRendering(true);\n    }\n    componentWillUnmount() {\n        this.triggerCustomRendering(false); // TODO: different API for removal?\n    }\n    triggerCustomRendering(isActive) {\n        var _a;\n        const { props, context } = this;\n        const { handleCustomRendering, customRenderingMetaMap } = context.options;\n        if (handleCustomRendering) {\n            const generatorMeta = (_a = this.currentGeneratorMeta) !== null && _a !== void 0 ? _a : customRenderingMetaMap === null || customRenderingMetaMap === void 0 ? void 0 : customRenderingMetaMap[props.generatorName];\n            if (generatorMeta) {\n                handleCustomRendering(Object.assign(Object.assign({ id: this.id, isActive, containerEl: this.base, reportNewContainerEl: this.handleEl, // for customRenderingReplacesEl\n                    generatorMeta }, props), { elClasses: (props.elClasses || []).filter(isTruthy) }));\n            }\n        }\n    }\n    applyQueueudDomNodes() {\n        const { queuedDomNodes, currentDomNodes } = this;\n        const el = this.base;\n        if (!isArraysEqual(queuedDomNodes, currentDomNodes)) {\n            currentDomNodes.forEach(removeElement);\n            for (let newNode of queuedDomNodes) {\n                el.appendChild(newNode);\n            }\n            this.currentDomNodes = queuedDomNodes;\n        }\n    }\n}\nContentInjector.addPropsEquality({\n    elClasses: isArraysEqual,\n    elStyle: isPropsEqual,\n    elAttrs: isNonHandlerPropsEqual,\n    renderProps: isPropsEqual,\n});\n// Util\n/*\nDoes UI-framework provide custom way of rendering?\n*/\nfunction hasCustomRenderingHandler(generatorName, options) {\n    var _a;\n    return Boolean(options.handleCustomRendering &&\n        generatorName &&\n        ((_a = options.customRenderingMetaMap) === null || _a === void 0 ? void 0 : _a[generatorName]));\n}\nfunction buildElAttrs(props, extraClassNames) {\n    const attrs = Object.assign(Object.assign({}, props.elAttrs), { ref: props.elRef });\n    if (props.elClasses || extraClassNames) {\n        attrs.className = (props.elClasses || [])\n            .concat(extraClassNames || [])\n            .concat(attrs.className || [])\n            .filter(Boolean)\n            .join(' ');\n    }\n    if (props.elStyle) {\n        attrs.style = props.elStyle;\n    }\n    return attrs;\n}\nfunction isTruthy(val) {\n    return Boolean(val);\n}\n\nconst RenderId = createContext(0);\n\nclass ContentContainer extends Component {\n    constructor() {\n        super(...arguments);\n        this.InnerContent = InnerContentInjector.bind(undefined, this);\n        this.handleRootEl = (el) => {\n            this.rootEl = el;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n            }\n        };\n    }\n    render() {\n        const { props } = this;\n        const generatedClassNames = generateClassNames(props.classNameGenerator, props.renderProps);\n        if (props.children) {\n            const elAttrs = buildElAttrs(props, generatedClassNames);\n            const children = props.children(this.InnerContent, props.renderProps, elAttrs);\n            if (props.elTag) {\n                return createElement(props.elTag, elAttrs, children);\n            }\n            else {\n                return children;\n            }\n        }\n        else {\n            return createElement((ContentInjector), Object.assign(Object.assign({}, props), { elRef: this.handleRootEl, elTag: props.elTag || 'div', elClasses: (props.elClasses || []).concat(generatedClassNames), renderId: this.context }));\n        }\n    }\n    componentDidMount() {\n        var _a, _b;\n        (_b = (_a = this.props).didMount) === null || _b === void 0 ? void 0 : _b.call(_a, Object.assign(Object.assign({}, this.props.renderProps), { el: this.rootEl || this.base }));\n    }\n    componentWillUnmount() {\n        var _a, _b;\n        (_b = (_a = this.props).willUnmount) === null || _b === void 0 ? void 0 : _b.call(_a, Object.assign(Object.assign({}, this.props.renderProps), { el: this.rootEl || this.base }));\n    }\n}\nContentContainer.contextType = RenderId;\nfunction InnerContentInjector(containerComponent, props) {\n    const parentProps = containerComponent.props;\n    return createElement((ContentInjector), Object.assign({ renderProps: parentProps.renderProps, generatorName: parentProps.generatorName, customGenerator: parentProps.customGenerator, defaultGenerator: parentProps.defaultGenerator, renderId: containerComponent.context }, props));\n}\n// Utils\nfunction generateClassNames(classNameGenerator, renderProps) {\n    const classNames = typeof classNameGenerator === 'function' ?\n        classNameGenerator(renderProps) :\n        classNameGenerator || [];\n    return typeof classNames === 'string' ? [classNames] : classNames;\n}\n\n// BAD name for this class now. used in the Header\nclass TableDateCell extends BaseComponent {\n    render() {\n        let { dateEnv, options, theme, viewApi } = this.context;\n        let { props } = this;\n        let { date, dateProfile } = props;\n        let dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        let classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        let text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        let navLinkAttrs = (!dayMeta.isDisabled && props.colCnt > 1)\n            ? buildNavLinkAttrs(this.context, date)\n            : {};\n        let renderProps = Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraRenderProps), { text }), dayMeta);\n        return (createElement(ContentContainer, { elTag: \"th\", elClasses: classNames, elAttrs: Object.assign({ role: 'columnheader', colSpan: props.colSpan, 'data-date': !dayMeta.isDisabled ? formatDayString(date) : undefined }, props.extraDataAttrs), renderProps: renderProps, generatorName: \"dayHeaderContent\", customGenerator: options.dayHeaderContent, defaultGenerator: renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContainer) => (createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(InnerContainer, { elTag: \"a\", elAttrs: navLinkAttrs, elClasses: [\n                'fc-col-header-cell-cushion',\n                props.isSticky && 'fc-sticky',\n            ] }))))));\n    }\n}\n\nconst WEEKDAY_FORMAT = createFormatter({ weekday: 'long' });\nclass TableDowCell extends BaseComponent {\n    render() {\n        let { props } = this;\n        let { dateEnv, theme, viewApi, options } = this.context;\n        let date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        let dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        let text = dateEnv.format(date, props.dayHeaderFormat);\n        let renderProps = Object.assign(Object.assign(Object.assign(Object.assign({ // TODO: make this public?\n            date }, dateMeta), { view: viewApi }), props.extraRenderProps), { text });\n        return (createElement(ContentContainer, { elTag: \"th\", elClasses: [\n                CLASS_NAME,\n                ...getDayClassNames(dateMeta, theme),\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign({ role: 'columnheader', colSpan: props.colSpan }, props.extraDataAttrs), renderProps: renderProps, generatorName: \"dayHeaderContent\", customGenerator: options.dayHeaderContent, defaultGenerator: renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContent) => (createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n            createElement(InnerContent, { elTag: \"a\", elClasses: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky && 'fc-sticky',\n                ], elAttrs: {\n                    'aria-label': dateEnv.format(date, WEEKDAY_FORMAT),\n                } })))));\n    }\n}\n\nclass NowTimer extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        this.initialNowQueriedMs = new Date().valueOf();\n        this.state = this.computeTiming().currentState;\n    }\n    render() {\n        let { props, state } = this;\n        return props.children(state.nowDate, state.todayRange);\n    }\n    componentDidMount() {\n        this.setTimeout();\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    }\n    componentWillUnmount() {\n        this.clearTimeout();\n    }\n    computeTiming() {\n        let { props, context } = this;\n        let unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        let currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        let nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        let waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs,\n        };\n    }\n    setTimeout() {\n        let { nextState, waitMs } = this.computeTiming();\n        this.timeoutId = setTimeout(() => {\n            this.setState(nextState, () => {\n                this.setTimeout();\n            });\n        }, waitMs);\n    }\n    clearTimeout() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    }\n}\nNowTimer.contextType = ViewContextType;\nfunction buildDayRange(date) {\n    let start = startOfDay(date);\n    let end = addDays(start, 1);\n    return { start, end };\n}\n\nclass DayHeader extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n    }\n    render() {\n        let { context } = this;\n        let { dates, dateProfile, datesRepDistinctDays, renderIntro } = this.props;\n        let dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(\"tr\", { role: \"row\" },\n            renderIntro && renderIntro('day'),\n            dates.map((date) => (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))))))));\n    }\n}\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nclass DaySeriesModel {\n    constructor(range, dateProfileGenerator) {\n        let date = range.start;\n        let { end } = range;\n        let indices = [];\n        let dates = [];\n        let dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    sliceRange(range) {\n        let firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        let lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        let clippedFirstIndex = Math.max(0, firstIndex);\n        let clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    }\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    getDateDayIndex(date) {\n        let { indices } = this;\n        let dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    }\n}\n\nclass DayTableModel {\n    constructor(daySeries, breakOnWeeks) {\n        let { dates } = daySeries;\n        let daysPerRow;\n        let firstDay;\n        let rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    buildCells() {\n        let rows = [];\n        for (let row = 0; row < this.rowCnt; row += 1) {\n            let cells = [];\n            for (let col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    }\n    buildCell(row, col) {\n        let date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date,\n        };\n    }\n    buildHeaderDates() {\n        let dates = [];\n        for (let col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    }\n    sliceRange(range) {\n        let { colCnt } = this;\n        let seriesSeg = this.daySeries.sliceRange(range);\n        let segs = [];\n        if (seriesSeg) {\n            let { firstIndex, lastIndex } = seriesSeg;\n            let index = firstIndex;\n            while (index <= lastIndex) {\n                let row = Math.floor(index / colCnt);\n                let nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    }\n}\n\nclass Slicer {\n    constructor() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    sliceProps(props, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        let { eventUiBases } = props;\n        let eventSegs = this.sliceEventStore(props.eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs);\n        return {\n            dateSelectionSegs: this.sliceDateSelection(props.dateSelection, dateProfile, nextDayThreshold, eventUiBases, context, ...extraArgs),\n            businessHourSegs: this.sliceBusinessHours(props.businessHours, dateProfile, nextDayThreshold, context, ...extraArgs),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag(props.eventDrag, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n            eventResize: this.sliceEventResize(props.eventResize, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    }\n    sliceNowDate(// does not memoize\n    date, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        return this._sliceDateSpan({ range: { start: date, end: addMs(date, 1) }, allDay: false }, // add 1 ms, protect against null range\n        dateProfile, nextDayThreshold, {}, context, ...extraArgs);\n    }\n    _sliceBusinessHours(businessHours, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore(expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context), {}, dateProfile, nextDayThreshold, ...extraArgs).bg;\n    }\n    _sliceEventStore(eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n        if (eventStore) {\n            let rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    }\n    _sliceInteraction(interaction, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n        if (!interaction) {\n            return null;\n        }\n        let rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    }\n    _sliceDateSpan(dateSpan, dateProfile, nextDayThreshold, eventUiBases, context, ...extraArgs) {\n        if (!dateSpan) {\n            return [];\n        }\n        let activeRange = computeActiveRange(dateProfile, Boolean(nextDayThreshold));\n        let activeDateSpanRange = intersectRanges(dateSpan.range, activeRange);\n        if (activeDateSpanRange) {\n            dateSpan = Object.assign(Object.assign({}, dateSpan), { range: activeDateSpanRange });\n            let eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n            let segs = this.sliceRange(dateSpan.range, ...extraArgs);\n            for (let seg of segs) {\n                seg.eventRange = eventRange;\n            }\n            return segs;\n        }\n        return [];\n    }\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    sliceEventRanges(eventRanges, extraArgs) {\n        let segs = [];\n        for (let eventRange of eventRanges) {\n            segs.push(...this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    }\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    sliceEventRange(eventRange, extraArgs) {\n        let dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        let segs = this.sliceRange(dateRange, ...extraArgs);\n        for (let seg of segs) {\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    }\n}\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    let range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'RESET_RAW_EVENTS':\n            return resetRawEvents(eventStore, eventSources[action.sourceId], action.rawEvents, dateProfile.activeRange, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, (eventDef) => (!eventDef.sourceId // only keep events with no source id\n            ));\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        let subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction resetRawEvents(existingEventStore, eventSource, rawEvents, activeRange, context) {\n    const { defIdMap, instanceIdMap } = buildPublicIdMaps(existingEventStore);\n    let newEventStore = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context, false, defIdMap, instanceIdMap);\n    return expandRecurring(newEventStore, activeRange, context);\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    let calEachTransform = context.options.eventDataTransform;\n    let sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    let refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (let rawEvent of rawEvents) {\n            let refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    let { defs } = eventStore;\n    let instances = mapHash(eventStore.instances, (instance) => {\n        let def = defs[instance.defId];\n        if (def.allDay) {\n            return instance; // isn't dependent on timezone\n        }\n        return Object.assign(Object.assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs, instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, (eventDef) => eventDef.sourceId !== sourceId);\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, (instance) => !removals[instance.instanceId]),\n    };\n}\nfunction buildPublicIdMaps(eventStore) {\n    const { defs, instances } = eventStore;\n    const defIdMap = {};\n    const instanceIdMap = {};\n    for (let defId in defs) {\n        const def = defs[defId];\n        const { publicId } = def;\n        if (publicId) {\n            defIdMap[publicId] = defId;\n        }\n    }\n    for (let instanceId in instances) {\n        const instance = instances[instanceId];\n        const def = defs[instance.defId];\n        const { publicId } = def;\n        if (publicId) {\n            instanceIdMap[publicId] = instanceId;\n        }\n    }\n    return { defIdMap, instanceIdMap };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    let { instances } = interaction.mutatedEvents;\n    for (let instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    let calendarState = context.getCurrentData();\n    let props = Object.assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta = {}, filterConfig) {\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    let currentState = context.getCurrentData();\n    let interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    let subjectEventStore = interaction.mutatedEvents;\n    let subjectDefs = subjectEventStore.defs;\n    let subjectInstances = subjectEventStore.instances;\n    let subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    let otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    let otherDefs = otherEventStore.defs;\n    let otherInstances = otherEventStore.instances;\n    let otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (let subjectInstanceId in subjectInstances) {\n        let subjectInstance = subjectInstances[subjectInstanceId];\n        let subjectRange = subjectInstance.range;\n        let subjectConfig = subjectConfigs[subjectInstance.defId];\n        let subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        let { eventOverlap } = context.options;\n        let eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (let otherInstanceId in otherInstances) {\n            let otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                let otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventImpl(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventImpl(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        let calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (let subjectAllow of subjectConfig.allows) {\n            let subjectDateSpan = Object.assign(Object.assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            let origDef = calendarEventStore.defs[subjectDef.defId];\n            let origInstance = calendarEventStore.instances[subjectInstanceId];\n            let eventApi;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventImpl(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventImpl(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    let relevantEventStore = state.eventStore;\n    let relevantDefs = relevantEventStore.defs;\n    let relevantInstances = relevantEventStore.instances;\n    let selection = state.dateSelection;\n    let selectionRange = selection.range;\n    let { selectionConfig } = context.getCurrentData();\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    let { selectOverlap } = context.options;\n    let selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (let relevantInstanceId in relevantInstances) {\n        let relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventImpl(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (let selectionAllow of selectionConfig.allows) {\n        let fullDateSpan = Object.assign(Object.assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (let constraint of constraints) {\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, (eventDef) => eventDef.groupId === constraint));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    let { instances } = eventStore;\n    let ranges = [];\n    for (let instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (let outerRange of outerRanges) {\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nclass JsonRequestError extends Error {\n    constructor(message, response) {\n        super(message);\n        this.response = response;\n    }\n}\nfunction requestJson(method, url, params) {\n    method = method.toUpperCase();\n    const fetchOptions = {\n        method,\n    };\n    if (method === 'GET') {\n        url += (url.indexOf('?') === -1 ? '?' : '&') +\n            new URLSearchParams(params);\n    }\n    else {\n        fetchOptions.body = new URLSearchParams(params);\n        fetchOptions.headers = {\n            'Content-Type': 'application/x-www-form-urlencoded',\n        };\n    }\n    return fetch(url, fetchOptions).then((fetchRes) => {\n        if (fetchRes.ok) {\n            return fetchRes.json().then((parsedResponse) => {\n                return [parsedResponse, fetchRes];\n            }, () => {\n                throw new JsonRequestError('Failure parsing JSON', fetchRes);\n            });\n        }\n        else {\n            throw new JsonRequestError('Request failed', fetchRes);\n        }\n    });\n}\n\nclass DelayedRunner {\n    constructor(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    request(delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    }\n    pause(scope = '') {\n        let { pauseDepths } = this;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    }\n    resume(scope = '', force) {\n        let { pauseDepths } = this;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                let depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    }\n    isPaused() {\n        return Object.keys(this.pauseDepths).length;\n    }\n    tryDrain() {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    }\n    clear() {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    }\n    clearTimeout() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    }\n    drained() {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    }\n}\n\nconst VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nclass Scroller extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { props } = this;\n        let { liquid, liquidIsAbsolute } = props;\n        let isAbsolute = liquid && liquidIsAbsolute;\n        let className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    }\n    needsXScrolling() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        let { el } = this;\n        let realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        let { children } = el;\n        for (let i = 0; i < children.length; i += 1) {\n            let childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    }\n    needsYScrolling() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        let { el } = this;\n        let realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        let { children } = el;\n        for (let i = 0; i < children.length; i += 1) {\n            let childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getXScrollbarWidth() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    }\n    getYScrollbarWidth() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    }\n}\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nclass RefMap {\n    constructor(masterCallback) {\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = (val, key) => {\n            let { depths, currentMap } = this;\n            let removed = false;\n            let added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (this.masterCallback) {\n                if (removed) {\n                    this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    createRef(key) {\n        let refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = (val) => {\n                this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    }\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    collect(startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    }\n    getAll() {\n        return hashValuesToArray(this.currentMap);\n    }\n}\n\nfunction computeShrinkWidth(chunkEls) {\n    let shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    let largestWidth = 0;\n    for (let shrinkCell of shrinkCells) {\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {\n    let { expandRows } = arg;\n    let content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            role: 'presentation',\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement(isHeader ? 'thead' : 'tbody', {\n            role: 'presentation',\n        }, typeof chunkConfig.rowContent === 'function'\n            ? chunkConfig.rowContent(arg)\n            : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    let colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (let colProps of cols) {\n        let span = colProps.span || 1;\n        for (let i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement('colgroup', {}, ...colNodes);\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (let col of cols) {\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    let classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    let classNames = [\n        'fc-scrollgrid-section',\n        `fc-scrollgrid-section-${sectionConfig.type}`,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    let { stickyHeaderDates } = options;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    let { stickyFooterScrollbar } = options;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nclass SimpleScrollGrid extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.processCols = memoize((a) => a, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        this.renderMicroColGroup = memoize(renderMicroColGroup);\n        this.scrollerRefs = new RefMap();\n        this.scrollerElRefs = new RefMap(this._handleScrollerEl.bind(this));\n        this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        this.handleSizing = () => {\n            this.safeSetState(Object.assign({ shrinkWidth: this.computeShrinkWidth() }, this.computeScrollerDims()));\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let sectionConfigs = props.sections || [];\n        let cols = this.processCols(props.cols);\n        let microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        let classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        let configCnt = sectionConfigs.length;\n        let configI = 0;\n        let currentConfig;\n        let headSectionNodes = [];\n        let bodySectionNodes = [];\n        let footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        let isBuggy = !getCanVGrowWithinCell();\n        const roleAttrs = { role: 'rowgroup' };\n        return createElement('table', {\n            role: 'grid',\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement('thead', roleAttrs, ...headSectionNodes), Boolean(!isBuggy && bodySectionNodes.length) && createElement('tbody', roleAttrs, ...bodySectionNodes), Boolean(!isBuggy && footSectionNodes.length) && createElement('tfoot', roleAttrs, ...footSectionNodes), isBuggy && createElement('tbody', roleAttrs, ...headSectionNodes, ...bodySectionNodes, ...footSectionNodes));\n    }\n    renderSection(sectionConfig, microColGroupNode, isHeader) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, role: \"presentation\", className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader)));\n    }\n    renderChunkTd(sectionConfig, microColGroupNode, chunkConfig, isHeader) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        let { props } = this;\n        let { forceYScrollbars, scrollerClientWidths, scrollerClientHeights } = this.state;\n        let needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        let isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        let overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        let sectionKey = sectionConfig.key;\n        let content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: () => { },\n        }, isHeader);\n        return createElement(isHeader ? 'th' : 'td', {\n            ref: chunkConfig.elRef,\n            role: 'presentation',\n        }, createElement(\"div\", { className: `fc-scroller-harness${isLiquid ? ' fc-scroller-harness-liquid' : ''}` },\n            createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                : true }, content)));\n    }\n    _handleScrollerEl(scrollerEl, key) {\n        let section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    }\n    componentDidMount() {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    }\n    componentDidUpdate() {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleSizing);\n    }\n    computeShrinkWidth() {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    }\n    computeScrollerDims() {\n        let scrollbarWidth = getScrollbarWidths();\n        let { scrollerRefs, scrollerElRefs } = this;\n        let forceYScrollbars = false;\n        let scrollerClientWidths = {};\n        let scrollerClientHeights = {};\n        for (let sectionKey in scrollerRefs.currentMap) {\n            let scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (let section of this.props.sections) {\n            let sectionKey = section.key;\n            let scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                let harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars, scrollerClientWidths, scrollerClientHeights };\n    }\n}\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (let section of sections) {\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nclass EventContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.handleEl = (el) => {\n            this.el = el;\n            if (el) {\n                setElSeg(el, this.props.seg);\n            }\n        };\n    }\n    render() {\n        const { props, context } = this;\n        const { options } = context;\n        const { seg } = props;\n        const { eventRange } = seg;\n        const { ui } = eventRange;\n        const renderProps = {\n            event: new EventImpl(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        return (createElement(ContentContainer, Object.assign({}, props /* contains children */, { elRef: this.handleEl, elClasses: [\n                ...getEventClassNames(renderProps),\n                ...seg.eventRange.ui.classNames,\n                ...(props.elClasses || []),\n            ], renderProps: renderProps, generatorName: \"eventContent\", customGenerator: options.eventContent, defaultGenerator: props.defaultGenerator, classNameGenerator: options.eventClassNames, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount })));\n    }\n    componentDidUpdate(prevProps) {\n        if (this.el && this.props.seg !== prevProps.seg) {\n            setElSeg(this.el, this.props.seg);\n        }\n    }\n}\n\n// should not be a purecomponent\nclass StandardEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg } = props;\n        let { ui } = seg.eventRange;\n        let timeFormat = options.eventTimeFormat || props.defaultTimeFormat;\n        let timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventContainer, Object.assign({}, props /* includes elRef */, { elTag: \"a\", elStyle: {\n                borderColor: ui.borderColor,\n                backgroundColor: ui.backgroundColor,\n            }, elAttrs: getSegAnchorAttrs(seg, context), defaultGenerator: renderInnerContent$1, timeText: timeText }), (InnerContent, eventContentArg) => (createElement(Fragment, null,\n            createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-event-main'], elStyle: { color: eventContentArg.textColor } }),\n            Boolean(eventContentArg.isStartResizable) && (createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" })),\n            Boolean(eventContentArg.isEndResizable) && (createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))))));\n    }\n}\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\n\nconst NowIndicatorContainer = (props) => (createElement(ViewContextType.Consumer, null, (context) => {\n    let { options } = context;\n    let renderProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(ContentContainer, Object.assign({}, props /* includes children */, { elTag: props.elTag || 'div', renderProps: renderProps, generatorName: \"nowIndicatorContent\", customGenerator: options.nowIndicatorContent, classNameGenerator: options.nowIndicatorClassNames, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount })));\n}));\n\nconst DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nclass DayCellContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.refineRenderProps = memoizeObjArg(refineRenderProps);\n    }\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let renderProps = this.refineRenderProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            isMonthStart: props.isMonthStart || false,\n            showDayNumber: props.showDayNumber,\n            extraRenderProps: props.extraRenderProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n            monthStartFormat: options.monthStartFormat,\n        });\n        return (createElement(ContentContainer, Object.assign({}, props /* includes children */, { elClasses: [\n                ...getDayClassNames(renderProps, context.theme),\n                ...(props.elClasses || []),\n            ], elAttrs: Object.assign(Object.assign({}, props.elAttrs), (renderProps.isDisabled ? {} : { 'data-date': formatDayString(props.date) })), renderProps: renderProps, generatorName: \"dayCellContent\", customGenerator: options.dayCellContent, defaultGenerator: props.defaultGenerator, classNameGenerator: \n            // don't use custom classNames if disabled\n            renderProps.isDisabled ? undefined : options.dayCellClassNames, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount })));\n    }\n}\nfunction hasCustomDayCellContent(options) {\n    return Boolean(options.dayCellContent || hasCustomRenderingHandler('dayCellContent', options));\n}\nfunction refineRenderProps(raw) {\n    let { date, dateEnv, dateProfile, isMonthStart } = raw;\n    let dayMeta = getDateMeta(date, raw.todayRange, null, dateProfile);\n    let dayNumberText = raw.showDayNumber ? (dateEnv.format(date, isMonthStart ? raw.monthStartFormat : DAY_NUM_FORMAT)) : '';\n    return Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { isMonthStart,\n        dayNumberText }), raw.extraRenderProps);\n}\n\nclass BgEvent extends BaseComponent {\n    render() {\n        let { props } = this;\n        let { seg } = props;\n        return (createElement(EventContainer, { elTag: \"div\", elClasses: ['fc-bg-event'], elStyle: { backgroundColor: seg.eventRange.ui.backgroundColor }, defaultGenerator: renderInnerContent, seg: seg, timeText: \"\", isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, disableDragging: true, disableResizing: true }));\n    }\n}\nfunction renderInnerContent(props) {\n    let { title } = props.event;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: `fc-${fillType}` }));\n}\n\nconst WeekNumberContainer = (props) => (createElement(ViewContextType.Consumer, null, (context) => {\n    let { dateEnv, options } = context;\n    let { date } = props;\n    let format = options.weekNumberFormat || props.defaultFormat;\n    let num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    let text = dateEnv.format(date, format);\n    let renderProps = { num, text, date };\n    return (createElement(ContentContainer // why isn't WeekNumberContentArg being auto-detected?\n    , Object.assign({}, props /* includes children */, { renderProps: renderProps, generatorName: \"weekNumberContent\", customGenerator: options.weekNumberContent, defaultGenerator: renderInner, classNameGenerator: options.weekNumberClassNames, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount })));\n}));\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nconst PADDING_FROM_VIEWPORT = 10;\nclass Popover extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            titleId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            this.rootEl = el;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        this.handleDocumentMouseDown = (ev) => {\n            // only hide the popover if the click happened outside the popover\n            const target = getEventTargetViaRoot(ev);\n            if (!this.rootEl.contains(target)) {\n                this.handleCloseClick();\n            }\n        };\n        this.handleDocumentKeyDown = (ev) => {\n            if (ev.key === 'Escape') {\n                this.handleCloseClick();\n            }\n        };\n        this.handleCloseClick = () => {\n            let { onClose } = this.props;\n            if (onClose) {\n                onClose();\n            }\n        };\n    }\n    render() {\n        let { theme, options } = this.context;\n        let { props, state } = this;\n        let classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", Object.assign({}, props.extraAttrs, { id: props.id, className: classNames.join(' '), \"aria-labelledby\": state.titleId, ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\", id: state.titleId }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), title: options.closeHint, onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    }\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleDocumentMouseDown);\n        document.addEventListener('keydown', this.handleDocumentKeyDown);\n        this.updateSize();\n    }\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleDocumentMouseDown);\n        document.removeEventListener('keydown', this.handleDocumentKeyDown);\n    }\n    updateSize() {\n        let { isRtl } = this.context;\n        let { alignmentEl, alignGridTop } = this.props;\n        let { rootEl } = this;\n        let alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            let popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            let popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            let popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            let origin = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin.top,\n                left: popoverLeft - origin.left,\n            });\n        }\n    }\n}\n\nclass MorePopover extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.handleRootEl = (rootEl) => {\n            this.rootEl = rootEl;\n            if (rootEl) {\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n    }\n    render() {\n        let { options, dateEnv } = this.context;\n        let { props } = this;\n        let { startDate, todayRange, dateProfile } = props;\n        let title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellContainer, { elRef: this.handleRootEl, date: startDate, dateProfile: dateProfile, todayRange: todayRange }, (InnerContent, renderProps, elAttrs) => (createElement(Popover, { elRef: elAttrs.ref, id: props.id, title: title, extraClassNames: ['fc-more-popover'].concat(elAttrs.className || []), extraAttrs: elAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            hasCustomDayCellContent(options) && (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-more-popover-misc'] })),\n            props.children))));\n    }\n    queryHit(positionLeft, positionTop, elWidth, elHeight) {\n        let { rootEl, props } = this;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: Object.assign({ allDay: !props.forceTimed, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    }\n}\n\nclass MoreLinkContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            isPopoverOpen: false,\n            popoverId: getUniqueDomId(),\n        };\n        this.handleLinkEl = (linkEl) => {\n            this.linkEl = linkEl;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, linkEl);\n            }\n        };\n        this.handleClick = (ev) => {\n            let { props, context } = this;\n            let { moreLinkClick } = context.options;\n            let date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                let { def, instance, range } = seg.eventRange;\n                return {\n                    event: new EventImpl(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        this.handlePopoverClose = () => {\n            this.setState({ isPopoverOpen: false });\n        };\n    }\n    render() {\n        let { props, state } = this;\n        return (createElement(ViewContextType.Consumer, null, (context) => {\n            let { viewApi, options, calendarApi } = context;\n            let { moreLinkText } = options;\n            let { moreCnt } = props;\n            let range = computeRange(props);\n            let text = typeof moreLinkText === 'function' // TODO: eventually use formatWithOrdinals\n                ? moreLinkText.call(calendarApi, moreCnt)\n                : `+${moreCnt} ${moreLinkText}`;\n            let hint = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);\n            let renderProps = {\n                num: moreCnt,\n                shortText: `+${moreCnt}`,\n                text,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(ContentContainer, { elTag: props.elTag || 'a', elRef: this.handleLinkEl, elClasses: [\n                        ...(props.elClasses || []),\n                        'fc-more-link',\n                    ], elStyle: props.elStyle, elAttrs: Object.assign(Object.assign(Object.assign({}, props.elAttrs), createAriaClickAttrs(this.handleClick)), { title: hint, 'aria-expanded': state.isPopoverOpen, 'aria-controls': state.isPopoverOpen ? state.popoverId : '' }), renderProps: renderProps, generatorName: \"moreLinkContent\", customGenerator: options.moreLinkContent, defaultGenerator: props.defaultGenerator || renderMoreLinkInner, classNameGenerator: options.moreLinkClassNames, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, props.children)),\n                state.isPopoverOpen && (createElement(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: this.parentEl, alignmentEl: props.alignmentElRef ?\n                        props.alignmentElRef.current :\n                        this.linkEl, alignGridTop: props.alignGridTop, forceTimed: props.forceTimed, onClose: this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    }\n    componentDidMount() {\n        this.updateParentEl();\n    }\n    componentDidUpdate() {\n        this.updateParentEl();\n    }\n    updateParentEl() {\n        if (this.linkEl) {\n            this.parentEl = elementClosest(this.linkEl, '.fc-view-harness');\n        }\n    }\n}\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    let { hiddenSegs } = props;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\nclass ViewContainer extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let renderProps = { view: context.viewApi };\n        return (createElement(ContentContainer, Object.assign({}, props, { elTag: props.elTag || 'div', elClasses: [\n                ...buildViewClassNames(props.viewSpec),\n                ...(props.elClasses || []),\n            ], renderProps: renderProps, classNameGenerator: options.viewClassNames, generatorName: undefined, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount }), () => props.children));\n    }\n}\nfunction buildViewClassNames(viewSpec) {\n    return [\n        `fc-${viewSpec.type}-view`,\n        'fc-view',\n    ];\n}\n\nconst EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners = buildEventSourceRefiners(context)) {\n    let rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        let { refined, extra } = refineProps(rawObj, refiners);\n        let metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    for (let i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        let def = defs[i];\n        let meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta };\n        }\n    }\n    return null;\n}\n\nclass CalendarImpl {\n    getCurrentData() {\n        return this.currentDataManager.getCurrentData();\n    }\n    dispatch(action) {\n        this.currentDataManager.dispatch(action);\n    }\n    get view() { return this.getCurrentData().viewApi; }\n    batchRendering(callback) {\n        callback();\n    }\n    updateSize() {\n        this.trigger('_resize', true);\n    }\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    setOption(name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    }\n    getOption(name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    }\n    getAvailableLocaleCodes() {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    }\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    on(handlerName, handler) {\n        let { currentDataManager } = this;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(`Unknown listener name '${handlerName}'`);\n        }\n    }\n    off(handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    }\n    // not meant for public use\n    trigger(handlerName, ...args) {\n        this.currentDataManager.emitter.trigger(handlerName, ...args);\n    }\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    changeView(viewType, dateOrRange) {\n        this.batchRendering(() => {\n            this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType,\n                    });\n                    this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    let { dateEnv } = this.getCurrentData();\n                    this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType,\n                });\n            }\n        });\n    }\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    zoomTo(dateMarker, viewType) {\n        let state = this.getCurrentData();\n        let spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker,\n            });\n        }\n    }\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    getUnitViewSpec(unit) {\n        let { viewSpecs, toolbarConfig } = this.getCurrentData();\n        let viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);\n        let i;\n        let spec;\n        for (let viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    }\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    prev() {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    }\n    next() {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    }\n    prevYear() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    }\n    nextYear() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    }\n    today() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    }\n    gotoDate(zonedDateInput) {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    }\n    incrementDate(deltaInput) {\n        let state = this.getCurrentData();\n        let delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    }\n    getDate() {\n        let state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    }\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    formatDate(d, formatter) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    }\n    // `settings` is for formatter AND isEndExclusive\n    formatRange(d0, d1, settings) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    }\n    formatIso(d, omitTime) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime });\n    }\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    select(dateOrObj, endDate) {\n        let selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        let state = this.getCurrentData();\n        let selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection });\n            triggerDateSelect(selection, null, state);\n        }\n    }\n    unselect(pev) {\n        let state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    }\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    addEvent(eventInput, sourceInput) {\n        if (eventInput instanceof EventImpl) {\n            let def = eventInput._def;\n            let instance = eventInput._instance;\n            let currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def, instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        let state = this.getCurrentData();\n        let eventSource;\n        if (sourceInput instanceof EventSourceImpl) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                [eventSource] = hashValuesToArray(state.eventSources);\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            let sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(`Could not find an event source with ID \"${sourceInput}\"`); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        let tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            let newEventApi = new EventImpl(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    }\n    triggerEventAdd(eventApi) {\n        let { emitter } = this.getCurrentData();\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: () => {\n                this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    }\n    // TODO: optimize\n    getEventById(id) {\n        let state = this.getCurrentData();\n        let { defs, instances } = state.eventStore;\n        id = String(id);\n        for (let defId in defs) {\n            let def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventImpl(state, def, null);\n                }\n                for (let instanceId in instances) {\n                    let instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventImpl(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    }\n    getEvents() {\n        let currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    }\n    removeAllEvents() {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    }\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    getEventSources() {\n        let state = this.getCurrentData();\n        let sourceHash = state.eventSources;\n        let sourceApis = [];\n        for (let internalId in sourceHash) {\n            sourceApis.push(new EventSourceImpl(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    }\n    getEventSourceById(id) {\n        let state = this.getCurrentData();\n        let sourceHash = state.eventSources;\n        id = String(id);\n        for (let sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceImpl(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    }\n    addEventSource(sourceInput) {\n        let state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceImpl) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        let eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceImpl(state, eventSource);\n        }\n        return null;\n    }\n    removeAllEventSources() {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    }\n    refetchEvents() {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    }\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    scrollToTime(timeInput) {\n        let time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time });\n        }\n    }\n}\n\nclass Store {\n    constructor() {\n        this.handlers = [];\n    }\n    set(value) {\n        this.currentValue = value;\n        for (let handler of this.handlers) {\n            handler(value);\n        }\n    }\n    subscribe(handler) {\n        this.handlers.push(handler);\n        if (this.currentValue !== undefined) {\n            handler(this.currentValue);\n        }\n    }\n}\n\n/*\nSubscribers will get a LIST of CustomRenderings\n*/\nclass CustomRenderingStore extends Store {\n    constructor() {\n        super(...arguments);\n        this.map = new Map();\n    }\n    // for consistent order\n    handle(customRendering) {\n        const { map } = this;\n        let updated = false;\n        if (customRendering.isActive) {\n            map.set(customRendering.id, customRendering);\n            updated = true;\n        }\n        else if (map.has(customRendering.id)) {\n            map.delete(customRendering.id);\n            updated = true;\n        }\n        if (updated) {\n            this.set(map);\n        }\n    }\n}\n\nexport { elementClosest as $, memoizeObjArg as A, BaseComponent as B, ContentContainer as C, DelayedRunner as D, isPropsEqual as E, Emitter as F, getInitialDate as G, rangeContainsMarker as H, createEmptyEventStore as I, reduceCurrentDate as J, reduceEventStore as K, rezoneEventStoreDates as L, mergeRawOptions as M, BASE_OPTION_REFINERS as N, CALENDAR_LISTENER_REFINERS as O, CALENDAR_OPTION_REFINERS as P, COMPLEX_OPTION_COMPARATORS as Q, VIEW_OPTION_REFINERS as R, DateEnv as S, Theme as T, DateProfileGenerator as U, ViewContextType as V, createEventUi as W, parseBusinessHours as X, setRef as Y, Interaction as Z, getElSeg as _, mapHash as a, getSlotClassNames as a$, EventImpl as a0, listenBySelector as a1, listenToHoverBySelector as a2, PureComponent as a3, buildViewContext as a4, getUniqueDomId as a5, parseInteractionSettings as a6, interactionSettingsStore as a7, getNow as a8, CalendarImpl as a9, diffDates as aA, removeExact as aB, memoizeArraylike as aC, memoizeHashlike as aD, intersectRects as aE, pointInsideRect as aF, constrainPoint as aG, getRectCenter as aH, diffPoints as aI, translateRect as aJ, compareObjs as aK, collectFromHash as aL, findElements as aM, findDirectChildren as aN, removeElement as aO, applyStyle as aP, elementMatches as aQ, getEventTargetViaRoot as aR, parseClassNames as aS, getCanVGrowWithinCell as aT, mergeEventStores as aU, getRelevantEvents as aV, eventTupleToStore as aW, combineEventUis as aX, Splitter as aY, getDayClassNames as aZ, getDateMeta as a_, flushSync as aa, CalendarRoot as ab, RenderId as ac, ensureElHasStyles as ad, applyStyleProp as ae, sliceEventStore as af, JsonRequestError as ag, createContext as ah, refineProps as ai, createEventInstance as aj, parseEventDef as ak, refineEventDef as al, padStart as am, isInt as an, parseFieldSpecs as ao, compareByFieldSpecs as ap, flexibleCompare as aq, preventSelection as ar, allowSelection as as, preventContextMenu as at, allowContextMenu as au, compareNumbers as av, enableCursor as aw, disableCursor as ax, computeVisibleDayRange as ay, isMultiDayRange as az, buildViewClassNames as b, SimpleScrollGrid as b$, buildNavLinkAttrs as b0, preventDefault as b1, whenTransitionDone as b2, computeInnerRect as b3, computeEdges as b4, getClippingParents as b5, computeRect as b6, rangesEqual as b7, rangesIntersect as b8, rangeContainsRange as b9, SegHierarchy as bA, buildEntryKey as bB, getEntrySpanEnd as bC, binarySearch as bD, groupIntersectingEntries as bE, intersectSpans as bF, interactionSettingsToStore as bG, ElementDragging as bH, config as bI, parseDragMeta as bJ, DayHeader as bK, computeFallbackHeaderFormat as bL, TableDateCell as bM, TableDowCell as bN, DaySeriesModel as bO, hasBgRendering as bP, buildSegTimeText as bQ, sortEventSegs as bR, getSegMeta as bS, buildEventRangeKey as bT, getSegAnchorAttrs as bU, DayTableModel as bV, Slicer as bW, applyMutationToEventStore as bX, isPropsValid as bY, isInteractionValid as bZ, isDateSelectionValid as b_, PositionCache as ba, ScrollController as bb, ElementScrollController as bc, WindowScrollController as bd, DateComponent as be, isDateSpansEqual as bf, addMs as bg, addWeeks as bh, diffWeeks as bi, diffWholeWeeks as bj, diffDayAndTime as bk, diffDays as bl, isValidDate as bm, asCleanDays as bn, multiplyDuration as bo, addDurations as bp, asRoughMinutes as bq, asRoughSeconds as br, asRoughMs as bs, wholeDivideDurations as bt, formatIsoTimeString as bu, formatDayString as bv, buildIsoString as bw, formatIsoMonthStr as bx, NamedTimeZoneImpl as by, parse as bz, greatestDurationDenominator as c, hasShrinkWidth as c0, renderMicroColGroup as c1, getScrollGridClassNames as c2, getSectionClassNames as c3, getSectionHasLiquidHeight as c4, getAllowYScrolling as c5, renderChunkContent as c6, computeShrinkWidth as c7, sanitizeShrinkWidth as c8, isColPropsEqual as c9, renderScrollShim as ca, getStickyFooterScrollbar as cb, getStickyHeaderDates as cc, Scroller as cd, getScrollbarWidths as ce, RefMap as cf, getIsRtlScrollbarOnLeft as cg, NowTimer as ch, ScrollResponder as ci, StandardEvent as cj, NowIndicatorContainer as ck, DayCellContainer as cl, hasCustomDayCellContent as cm, EventContainer as cn, renderFill as co, BgEvent as cp, WeekNumberContainer as cq, MoreLinkContainer as cr, computeEarliestSegStart as cs, ViewContainer as ct, triggerDateSelect as cu, getDefaultEventEnd as cv, injectStyles as cw, buildElAttrs as cx, CustomRenderingStore as cy, createDuration as d, BASE_OPTION_DEFAULTS as e, arrayToHash as f, guid as g, filterHash as h, isArraysEqual as i, buildEventSourceRefiners as j, formatWithOrdinals as k, buildRangeApiWithTimeZone as l, mergeProps as m, identity as n, intersectRanges as o, parseEventSource as p, startOfDay as q, requestJson as r, subtractDurations as s, addDays as t, unpromisify as u, hashValuesToArray as v, buildEventApis as w, createFormatter as x, diffWholeDays as y, memoize as z };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { DayGridView as DayTableView, TableDateProfileGenerator } from './internal.js';\nimport '@fullcalendar/core/internal.js';\nimport '@fullcalendar/core/preact.js';\n\nvar index = createPlugin({\n    name: '@fullcalendar/daygrid',\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            fixedWeekCount: true,\n        },\n        dayGridYear: {\n            type: 'dayGrid',\n            duration: { years: 1 },\n        },\n    },\n});\n\nexport { index as default };\n","import { injectStyles, createFormatter, BaseComponent, StandardEvent, buildSegTimeText, EventContainer, getSegAnchorAttrs, memoize, MoreLinkContainer, getSegMeta, DateComponent, getUniqueDomId, setRef, DayCellContainer, WeekNumberContainer, buildNavLinkAttrs, hasCustomDayCellContent, addMs, intersectRanges, addDays, SegHierarchy, buildEntryKey, intersectSpans, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, formatIsoMonthStr, formatDayString, Slicer, DateProfileGenerator, addWeeks, diffWeeks, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DayHeader, DaySeriesModel, DayTableModel } from '@fullcalendar/core/internal.js';\nimport { createElement, Fragment, createRef } from '@fullcalendar/core/preact.js';\n\nvar css_248z = \":root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}\";\ninjectStyles(css_248z);\n\nfunction splitSegsByRow(segs, rowCnt) {\n    let byRow = [];\n    for (let i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (let seg of segs) {\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    let byCol = [];\n    for (let i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (let seg of segs) {\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nconst DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    let { display } = seg.eventRange.ui;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nclass TableBlockEvent extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(StandardEvent, Object.assign({}, props, { elClasses: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    }\n}\n\nclass TableListItemEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg } = props;\n        let timeFormat = options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        let timeText = buildSegTimeText(seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventContainer, Object.assign({}, props, { elTag: \"a\", elClasses: ['fc-daygrid-event', 'fc-daygrid-dot-event'], elAttrs: getSegAnchorAttrs(props.seg, context), defaultGenerator: renderInnerContent, timeText: timeText, isResizing: false, isDateSelecting: false })));\n    }\n}\nfunction renderInnerContent(renderProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: renderProps.borderColor || renderProps.backgroundColor } }),\n        renderProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, renderProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, renderProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\n\nclass TableCellMoreLink extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.compileSegs = memoize(compileSegs);\n    }\n    render() {\n        let { props } = this;\n        let { allSegs, invisibleSegs } = this.compileSegs(props.singlePlacements);\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-daygrid-more-link'], dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: () => {\n                let isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map((seg) => {\n                    let instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }));\n    }\n}\nfunction compileSegs(singlePlacements) {\n    let allSegs = [];\n    let invisibleSegs = [];\n    for (let placement of singlePlacements) {\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs, invisibleSegs };\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nclass TableCell extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.state = {\n            dayNumberId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            setRef(this.rootElRef, el);\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { context, props, state, rootElRef } = this;\n        let { options, dateEnv } = context;\n        let { date, dateProfile } = props;\n        // TODO: memoize this?\n        const isMonthStart = props.showDayNumber &&\n            shouldDisplayMonthStart(date, dateProfile.currentRange, dateEnv);\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: this.handleRootEl, elClasses: [\n                'fc-daygrid-day',\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign(Object.assign(Object.assign({}, props.extraDataAttrs), (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})), { role: 'gridcell' }), defaultGenerator: renderTopInner, date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, isMonthStart: isMonthStart, extraRenderProps: props.extraRenderProps }, (InnerContent, renderProps) => (createElement(\"div\", { ref: props.innerElRef, className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", style: { minHeight: props.minHeight } },\n            props.showWeekNumber && (createElement(WeekNumberContainer, { elTag: \"a\", elClasses: ['fc-daygrid-week-number'], elAttrs: buildNavLinkAttrs(context, date, 'week'), date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT })),\n            !renderProps.isDisabled &&\n                (props.showDayNumber || hasCustomDayCellContent(options) || props.forceDayTop) ? (createElement(\"div\", { className: \"fc-daygrid-day-top\" },\n                createElement(InnerContent, { elTag: \"a\", elClasses: [\n                        'fc-daygrid-day-number',\n                        isMonthStart && 'fc-daygrid-month-start',\n                    ], elAttrs: Object.assign(Object.assign({}, buildNavLinkAttrs(context, date)), { id: state.dayNumberId }) }))) : props.showDayNumber ? (\n            // for creating correct amount of space (see issue #7162)\n            createElement(\"div\", { className: \"fc-daygrid-day-top\", style: { visibility: 'hidden' } },\n                createElement(\"a\", { className: \"fc-daygrid-day-number\" }, \"\\u00A0\"))) : undefined,\n            createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                props.fgContent,\n                createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                    createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n            createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))));\n    }\n}\nfunction renderTopInner(props) {\n    return props.dayNumberText || createElement(Fragment, null, \"\\u00A0\");\n}\nfunction shouldDisplayMonthStart(date, currentRange, dateEnv) {\n    const { start: currentStart, end: currentEnd } = currentRange;\n    const currentEndIncl = addMs(currentEnd, -1);\n    const currentFirstYear = dateEnv.getYear(currentStart);\n    const currentFirstMonth = dateEnv.getMonth(currentStart);\n    const currentLastYear = dateEnv.getYear(currentEndIncl);\n    const currentLastMonth = dateEnv.getMonth(currentEndIncl);\n    // spans more than one month?\n    return !(currentFirstYear === currentLastYear && currentFirstMonth === currentLastMonth) &&\n        Boolean(\n        // first date in current view?\n        date.valueOf() === currentStart.valueOf() ||\n            // a month-start that's within the current range?\n            (dateEnv.getDay(date) === 1 && date.valueOf() < currentEnd.valueOf()));\n}\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    let hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    let segInputs = [];\n    let unknownHeightSegs = [];\n    for (let i = 0; i < segs.length; i += 1) {\n        let seg = segs[i];\n        let { instanceId } = seg.eventRange.instance;\n        let eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                thickness: eventHeight,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let segRects = hierarchy.toRects();\n    let { singleColPlacements, multiColPlacements, leftoverMargins } = placeRects(segRects, segs, cells);\n    let moreCnts = [];\n    let moreMarginTops = [];\n    // add segs with unknown heights\n    for (let seg of unknownHeightSegs) {\n        multiColPlacements[seg.firstCol].push({\n            seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (let col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (let hiddenEntry of hiddenEntries) {\n        let seg = segs[hiddenEntry.index];\n        let hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (let col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    let rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    let singleColPlacements = [];\n    let multiColPlacements = [];\n    let leftoverMargins = [];\n    for (let col = 0; col < cells.length; col += 1) {\n        let rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        let singlePlacements = [];\n        let currentHeight = 0;\n        let currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        let multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            let isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            let isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements, multiColPlacements, leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    let rectsByEachCol = [];\n    for (let col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (let rect of rects) {\n        for (let col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    let eventRange = seg.eventRange;\n    let origRange = eventRange.range;\n    let slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return Object.assign(Object.assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: Object.assign(Object.assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nclass DayGridSegHierarchy extends SegHierarchy {\n    constructor() {\n        super(...arguments);\n        // config\n        this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        this.forceHidden = {};\n    }\n    addSegs(segInputs) {\n        const hiddenSegs = super.addSegs(segInputs);\n        const { entriesByLevel } = this;\n        const excludeHidden = (entry) => !this.forceHidden[buildEntryKey(entry)];\n        // remove the forced-hidden segs\n        for (let level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    }\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        const { entriesByLevel, forceHidden } = this;\n        const { touchingEntry, touchingLevel, touchingLateral } = insertion;\n        if (this.hiddenConsumes && touchingEntry) {\n            const touchingEntryId = buildEntryKey(touchingEntry);\n            // if not already hidden\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    const placeholderEntry = Object.assign(Object.assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    const placeholderEntryId = buildEntryKey(placeholderEntry);\n                    forceHidden[placeholderEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n                    this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        return super.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    }\n}\n\nclass TableRow extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.cellElRefs = new RefMap(); // the <td>\n        this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        this.rootElRef = createRef();\n        this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n        this.handleResize = (isForced) => {\n            if (isForced) {\n                this.updateSizing(true); // isExternal=true\n            }\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let { options } = context;\n        let colCnt = props.cells.length;\n        let businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        let bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        let highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        let mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        let { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops } = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells);\n        let isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map((cell, col) => {\n                let normalFgNodes = this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                let mirrorFgNodes = this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), innerElRef: this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))), minHeight: props.cellMinHeight }));\n            })));\n    }\n    componentDidMount() {\n        this.updateSizing(true);\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentDidUpdate(prevProps, prevState) {\n        let currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    getHighlightSegs() {\n        let { props } = this;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    }\n    getMirrorSegs() {\n        let { props } = this;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    }\n    renderFgSegs(col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        let { context } = this;\n        let { eventSelection } = this.props;\n        let { framePositions } = this.state;\n        let defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let nodes = [];\n        if (framePositions) {\n            for (let placement of segPlacements) {\n                let { seg } = placement;\n                let { instanceId } = seg.eventRange.instance;\n                let key = instanceId + ':' + col;\n                let isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                let isAbsolute = placement.isAbsolute;\n                let left = '';\n                let right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left,\n                        right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    }\n    renderFillSegs(segs, fillType) {\n        let { isRtl } = this.context;\n        let { todayRange } = this.props;\n        let { framePositions } = this.state;\n        let nodes = [];\n        if (framePositions) {\n            for (let seg of segs) {\n                let leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement(Fragment, {}, ...nodes);\n    }\n    updateSizing(isExternalSizingChange) {\n        let { props, state, frameElRefs } = this;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                let frameEls = props.cells.map((cell) => frameElRefs.currentMap[cell.key]);\n                if (frameEls.length) {\n                    let originEl = this.rootElRef.current;\n                    let newPositionCache = new PositionCache(originEl, frameEls, true, // isHorizontal\n                    false);\n                    if (!state.framePositions || !state.framePositions.similarTo(newPositionCache)) {\n                        this.setState({\n                            framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                            false),\n                        });\n                    }\n                }\n            }\n            const oldInstanceHeights = this.state.eventInstanceHeights;\n            const newInstanceHeights = this.queryEventInstanceHeights();\n            const limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.safeSetState({\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                // Essentially, once you compute an element's height, never null-out.\n                // TODO: always display all events, as visibility:hidden?\n                eventInstanceHeights: Object.assign(Object.assign({}, oldInstanceHeights), newInstanceHeights),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    }\n    queryEventInstanceHeights() {\n        let segElMap = this.segHarnessRefs.currentMap;\n        let eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (let key in segElMap) {\n            let height = Math.round(segElMap[key].getBoundingClientRect().height);\n            let instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    }\n    computeMaxContentHeight() {\n        let firstKey = this.props.cells[0].key;\n        let cellEl = this.cellElRefs.currentMap[firstKey];\n        let fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    }\n    getCellEls() {\n        let elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map((cell) => elMap[cell.key]);\n    }\n}\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    let topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map((seg) => ({\n        seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }));\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    let topsByInstanceId = {};\n    for (let placements of colPlacements) {\n        for (let placement of placements) {\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nclass TableRows extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        this.splitBgEventSegs = memoize(splitSegsByRow);\n        this.splitFgEventSegs = memoize(splitSegsByRow);\n        this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        this.splitEventDrag = memoize(splitInteractionByRow);\n        this.splitEventResize = memoize(splitInteractionByRow);\n        this.rowRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        let rowCnt = props.cells.length;\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        // for DayGrid view with many rows, force a min-height on cells so doesn't appear squished\n        // choose 7 because a month view will have max 6 rows\n        let cellMinHeight = (rowCnt >= 7 && props.clientWidth) ?\n            props.clientWidth / context.options.aspectRatio / 6 :\n            null;\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(Fragment, null, props.cells.map((cells, row) => (createElement(TableRow, { ref: this.rowRefs.createRef(row), key: cells.length\n                ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                : row // in case there are no cells (like when resource view is loading)\n            , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: props.dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, cellMinHeight: cellMinHeight, forPrint: props.forPrint })))))));\n    }\n    componentDidMount() {\n        // HACK: need a daygrid wrapper parent to do positioning\n        // NOTE: a daygrid resource view w/o resources can have zero cells\n        const firstCellEl = this.rowRefs.currentMap[0].getCellEls()[0];\n        this.rootEl = firstCellEl ? firstCellEl.closest('.fc-daygrid-body') : null;\n        if (this.rootEl) {\n            this.context.registerInteractiveComponent(this, {\n                el: this.rootEl,\n                isHitComboAllowed: this.props.isHitComboAllowed,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.rootEl) {\n            this.context.unregisterInteractiveComponent(this);\n            this.rootEl = null;\n        }\n    }\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    prepareHits() {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map((rowObj) => rowObj.getCellEls()[0]), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    }\n    queryHit(positionLeft, positionTop) {\n        let { colPositions, rowPositions } = this;\n        let col = colPositions.leftToIndex(positionLeft);\n        let row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            let cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: Object.assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n    getCellEl(row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    }\n    getCellRange(row, col) {\n        let start = this.props.cells[row][col].date;\n        let end = addDays(start, 1);\n        return { start, end };\n    }\n}\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nclass Table extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.elRef = createRef();\n        this.needsScrollReset = false;\n    }\n    render() {\n        let { props } = this;\n        let { dayMaxEventRows, dayMaxEvents, expandRows } = props;\n        let limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        let classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { ref: this.elRef, className: classNames.join(' '), style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                    width: props.clientWidth,\n                    minWidth: props.tableMinWidth,\n                    height: expandRows ? props.clientHeight : '',\n                } },\n                props.colGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(TableRows, { dateProfile: props.dateProfile, cells: props.cells, renderRowIntro: props.renderRowIntro, showWeekNumbers: props.showWeekNumbers, clientWidth: props.clientWidth, clientHeight: props.clientHeight, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, forPrint: props.forPrint, isHitComboAllowed: props.isHitComboAllowed })))));\n    }\n    componentDidMount() {\n        this.requestScrollReset();\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.dateProfile !== this.props.dateProfile) {\n            this.requestScrollReset();\n        }\n        else {\n            this.flushScrollReset();\n        }\n    }\n    requestScrollReset() {\n        this.needsScrollReset = true;\n        this.flushScrollReset();\n    }\n    flushScrollReset() {\n        if (this.needsScrollReset &&\n            this.props.clientWidth // sizes computed?\n        ) {\n            const subjectEl = getScrollSubjectEl(this.elRef.current, this.props.dateProfile);\n            if (subjectEl) {\n                const originEl = subjectEl.closest('.fc-daygrid-body');\n                const scrollEl = originEl.closest('.fc-scroller');\n                const scrollTop = subjectEl.getBoundingClientRect().top -\n                    originEl.getBoundingClientRect().top;\n                scrollEl.scrollTop = scrollTop ? (scrollTop + 1) : 0; // overcome border\n            }\n            this.needsScrollReset = false;\n        }\n    }\n}\nfunction getScrollSubjectEl(containerEl, dateProfile) {\n    let el;\n    if (dateProfile.currentRangeUnit.match(/year|month/)) {\n        el = containerEl.querySelector(`[data-date=\"${formatIsoMonthStr(dateProfile.currentDate)}-01\"]`);\n        // even if view is month-based, first-of-month might be hidden...\n    }\n    if (!el) {\n        el = containerEl.querySelector(`[data-date=\"${formatDayString(dateProfile.currentDate)}\"]`);\n        // could still be hidden if an interior-view hidden day\n    }\n    return el;\n}\n\nclass DayTableSlicer extends Slicer {\n    constructor() {\n        super(...arguments);\n        this.forceDayIfListItem = true;\n    }\n    sliceRange(dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    }\n}\n\nclass DayTable extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.slicer = new DayTableSlicer();\n        this.tableRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(Table, Object.assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    }\n}\n\nclass TableDateProfileGenerator extends DateProfileGenerator {\n    // Computes the date range that will be rendered\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        let renderRange = super.buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay);\n        let { props } = this;\n        return buildDayTableRenderRange({\n            currentRange: renderRange,\n            snapToWeek: /^(year|month)$/.test(currentRangeUnit),\n            fixedWeekCount: props.fixedWeekCount,\n            dateEnv: props.dateEnv,\n        });\n    }\n}\nfunction buildDayTableRenderRange(props) {\n    let { dateEnv, currentRange } = props;\n    let { start, end } = currentRange;\n    let endOfWeek;\n    // year and month views should be aligned with weeks. this is already done for week\n    if (props.snapToWeek) {\n        start = dateEnv.startOfWeek(start);\n        // make end-of-week if not already\n        endOfWeek = dateEnv.startOfWeek(end);\n        if (endOfWeek.valueOf() !== end.valueOf()) {\n            end = addWeeks(endOfWeek, 1);\n        }\n    }\n    // ensure 6 weeks\n    if (props.fixedWeekCount) {\n        // TODO: instead of these date-math gymnastics (for multimonth view),\n        // compute dateprofiles of all months, then use start of first and end of last.\n        let lastMonthRenderStart = dateEnv.startOfWeek(dateEnv.startOfMonth(addDays(currentRange.end, -1)));\n        let rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n        diffWeeks(lastMonthRenderStart, end));\n        end = addWeeks(end, 6 - rowCnt);\n    }\n    return { start, end };\n}\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nclass TableView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.headerElRef = createRef();\n    }\n    renderSimpleLayout(headerRowContent, bodyContent) {\n        let { props, context } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections })));\n    }\n    renderHScrollLayout(headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { props, context } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, forPrint: props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections })));\n    }\n}\n\nclass DayTableView extends TableView {\n    constructor() {\n        super(...arguments);\n        this.buildDayTableModel = memoize(buildDayTableModel);\n        this.headerRef = createRef();\n        this.tableRef = createRef();\n        // can't override any lifecycle methods from parent\n    }\n    render() {\n        let { options, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        let bodyContent = (contentArg) => (createElement(DayTable, { ref: this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }));\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    }\n}\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableDateProfileGenerator, TableRows, TableView, buildDayTableModel, buildDayTableRenderRange };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { config, Emitter, elementClosest, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, ElementDragging, preventSelection, preventContextMenu, allowSelection, allowContextMenu, computeRect, getClippingParents, pointInsideRect, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, isDateSpansEqual, Interaction, interactionSettingsToStore, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventImpl, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS } from '@fullcalendar/core/internal.js';\n\nconfig.touchMouseIgnoreWait = 500;\nlet ignoreMouseDepth = 0;\nlet listenerCnt = 0;\nlet isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nclass PointerDragging {\n    constructor(containerEl) {\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = (ev) => {\n            if (!this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                this.tryStart(ev)) {\n                let pev = this.createEventFromMouse(ev, true);\n                this.emitter.trigger('pointerdown', pev);\n                this.initScrollWatch(pev);\n                if (!this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = (ev) => {\n            let pev = this.createEventFromMouse(ev);\n            this.recordCoords(pev);\n            this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = (ev) => {\n            document.removeEventListener('mousemove', this.handleMouseMove);\n            document.removeEventListener('mouseup', this.handleMouseUp);\n            this.emitter.trigger('pointerup', this.createEventFromMouse(ev));\n            this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = (ev) => {\n            if (this.tryStart(ev)) {\n                this.isTouchDragging = true;\n                let pev = this.createEventFromTouch(ev, true);\n                this.emitter.trigger('pointerdown', pev);\n                this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                let targetEl = ev.target;\n                if (!this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = (ev) => {\n            let pev = this.createEventFromTouch(ev);\n            this.recordCoords(pev);\n            this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = (ev) => {\n            if (this.isDragging) { // done to guard against touchend followed by touchcancel\n                let targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', this.handleTouchMove);\n                targetEl.removeEventListener('touchend', this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', this.handleTouchEnd);\n                window.removeEventListener('scroll', this.handleTouchScroll, true); // useCaptured=true\n                this.emitter.trigger('pointerup', this.createEventFromTouch(ev));\n                this.cleanup(); // call last so that pointerup has access to props\n                this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = () => {\n            this.wasTouchScroll = true;\n        };\n        this.handleScroll = (ev) => {\n            if (!this.shouldIgnoreMove) {\n                let pageX = (window.pageXOffset - this.prevScrollX) + this.prevPageX;\n                let pageY = (window.pageYOffset - this.prevScrollY) + this.prevPageY;\n                this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: this.isTouchDragging,\n                    subjectEl: this.subjectEl,\n                    pageX,\n                    pageY,\n                    deltaX: pageX - this.origPageX,\n                    deltaY: pageY - this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    destroy() {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    }\n    tryStart(ev) {\n        let subjectEl = this.querySubjectEl(ev);\n        let downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    }\n    cleanup() {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    }\n    querySubjectEl(ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    }\n    shouldIgnoreMouse() {\n        return ignoreMouseDepth || this.isTouchDragging;\n    }\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    cancelTouchScroll() {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    }\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    initScrollWatch(ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    }\n    recordCoords(ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    }\n    destroyScrollWatch() {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    }\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    createEventFromMouse(ev, isFirst) {\n        let deltaX = 0;\n        let deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX,\n            deltaY,\n        };\n    }\n    createEventFromTouch(ev, isFirst) {\n        let touches = ev.touches;\n        let pageX;\n        let pageY;\n        let deltaX = 0;\n        let deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX,\n            pageY,\n            deltaX,\n            deltaY,\n        };\n    }\n}\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(() => {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nclass ElementMirror {\n    constructor() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    start(sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    }\n    handleMove(pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    }\n    // can be called before start\n    setIsVisible(bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    }\n    // always async\n    stop(needsRevertAnimation, callback) {\n        let done = () => {\n            this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    }\n    doRevertAnimation(callback, revertDuration) {\n        let mirrorEl = this.mirrorEl;\n        let finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, () => {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    }\n    cleanup() {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    }\n    updateElPosition() {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    }\n    getMirrorEl() {\n        let sourceElRect = this.sourceElRect;\n        let mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.style.userSelect = 'none';\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    }\n}\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nclass ScrollGeomCache extends ScrollController {\n    constructor(scrollController, doesListening) {\n        super();\n        this.handleScroll = () => {\n            this.scrollTop = this.scrollController.getScrollTop();\n            this.scrollLeft = this.scrollController.getScrollLeft();\n            this.handleScrollChange();\n        };\n        this.scrollController = scrollController;\n        this.doesListening = doesListening;\n        this.scrollTop = this.origScrollTop = scrollController.getScrollTop();\n        this.scrollLeft = this.origScrollLeft = scrollController.getScrollLeft();\n        this.scrollWidth = scrollController.getScrollWidth();\n        this.scrollHeight = scrollController.getScrollHeight();\n        this.clientWidth = scrollController.getClientWidth();\n        this.clientHeight = scrollController.getClientHeight();\n        this.clientRect = this.computeClientRect(); // do last in case it needs cached values\n        if (this.doesListening) {\n            this.getEventTarget().addEventListener('scroll', this.handleScroll);\n        }\n    }\n    destroy() {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    }\n    getScrollTop() {\n        return this.scrollTop;\n    }\n    getScrollLeft() {\n        return this.scrollLeft;\n    }\n    setScrollTop(top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    }\n    setScrollLeft(top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    }\n    getClientWidth() {\n        return this.clientWidth;\n    }\n    getClientHeight() {\n        return this.clientHeight;\n    }\n    getScrollWidth() {\n        return this.scrollWidth;\n    }\n    getScrollHeight() {\n        return this.scrollHeight;\n    }\n    handleScrollChange() {\n    }\n}\n\nclass ElementScrollGeomCache extends ScrollGeomCache {\n    constructor(el, doesListening) {\n        super(new ElementScrollController(el), doesListening);\n    }\n    getEventTarget() {\n        return this.scrollController.el;\n    }\n    computeClientRect() {\n        return computeInnerRect(this.scrollController.el);\n    }\n}\n\nclass WindowScrollGeomCache extends ScrollGeomCache {\n    constructor(doesListening) {\n        super(new WindowScrollController(), doesListening);\n    }\n    getEventTarget() {\n        return window;\n    }\n    computeClientRect() {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    }\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    handleScrollChange() {\n        this.clientRect = this.computeClientRect();\n    }\n}\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nconst getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nclass AutoScroller {\n    constructor() {\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = () => {\n            if (this.isAnimating) { // wasn't cancelled between animation calls\n                let edge = this.computeBestEdge(this.pointerScreenX + window.pageXOffset, this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    let now = getTime();\n                    this.handleSide(edge, (now - this.msSinceRequest) / 1000);\n                    this.requestAnimation(now);\n                }\n                else {\n                    this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    start(pageX, pageY, scrollStartEl) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches(scrollStartEl);\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    }\n    handleMove(pageX, pageY) {\n        if (this.isEnabled) {\n            let pointerScreenX = pageX - window.pageXOffset;\n            let pointerScreenY = pageY - window.pageYOffset;\n            let yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            let xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    }\n    stop() {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (let scrollCache of this.scrollCaches) {\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    }\n    requestAnimation(now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    }\n    handleSide(edge, seconds) {\n        let { scrollCache } = edge;\n        let { edgeThreshold } = this;\n        let invDistance = edgeThreshold - edge.distance;\n        let velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        let sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    }\n    // left/top are relative to document topleft\n    computeBestEdge(left, top) {\n        let { edgeThreshold } = this;\n        let bestSide = null;\n        let scrollCaches = this.scrollCaches || [];\n        for (let scrollCache of scrollCaches) {\n            let rect = scrollCache.clientRect;\n            let leftDist = left - rect.left;\n            let rightDist = rect.right - left;\n            let topDist = top - rect.top;\n            let bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    }\n    buildCaches(scrollStartEl) {\n        return this.queryScrollEls(scrollStartEl).map((el) => {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    }\n    queryScrollEls(scrollStartEl) {\n        let els = [];\n        for (let query of this.scrollQuery) {\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push(...Array.prototype.slice.call(scrollStartEl.getRootNode().querySelectorAll(query)));\n            }\n        }\n        return els;\n    }\n}\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nclass FeaturefulElementDragging extends ElementDragging {\n    constructor(containerEl, selector) {\n        super(containerEl);\n        this.containerEl = containerEl;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        this.delay = null;\n        this.minDistance = 0;\n        this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        this.mirrorNeedsRevert = false;\n        this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        this.isDelayEnded = false;\n        this.isDistanceSurpassed = false;\n        this.delayTimeoutId = null;\n        this.onPointerDown = (ev) => {\n            if (!this.isDragging) { // so new drag doesn't happen while revert animation is going\n                this.isInteracting = true;\n                this.isDelayEnded = false;\n                this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                this.emitter.trigger('pointerdown', ev);\n                if (this.isInteracting && // not destroyed via pointerdown handler\n                    !this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    this.startDelay(ev);\n                    if (!this.minDistance) {\n                        this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        this.onPointerMove = (ev) => {\n            if (this.isInteracting) {\n                this.emitter.trigger('pointermove', ev);\n                if (!this.isDistanceSurpassed) {\n                    let minDistance = this.minDistance;\n                    let distanceSq; // current distance from the origin, squared\n                    let { deltaX, deltaY } = ev;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        this.mirror.handleMove(ev.pageX, ev.pageY);\n                        this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        this.onPointerUp = (ev) => {\n            if (this.isInteracting) {\n                this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (this.isDragging) {\n                    this.autoScroller.stop();\n                    this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (this.delayTimeoutId) {\n                    clearTimeout(this.delayTimeoutId);\n                    this.delayTimeoutId = null;\n                }\n            }\n        };\n        let pointer = this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', this.onPointerDown);\n        pointer.emitter.on('pointermove', this.onPointerMove);\n        pointer.emitter.on('pointerup', this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        this.mirror = new ElementMirror();\n        this.autoScroller = new AutoScroller();\n    }\n    destroy() {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    }\n    startDelay(ev) {\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(() => {\n                this.delayTimeoutId = null;\n                this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    }\n    handleDelayEnd(ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    }\n    handleDistanceSurpassed(ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    }\n    tryStartDrag(ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    }\n    tryStopDrag(ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    }\n    stopDrag(ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    }\n    // fill in the implementations...\n    setIgnoreMove(bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    }\n    setMirrorIsVisible(bool) {\n        this.mirror.setIsVisible(bool);\n    }\n    setMirrorNeedsRevert(bool) {\n        this.mirrorNeedsRevert = bool;\n    }\n    setAutoScrollEnabled(bool) {\n        this.autoScroller.isEnabled = bool;\n    }\n}\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nclass OffsetTracker {\n    constructor(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map((scrollEl) => new ElementScrollGeomCache(scrollEl, true));\n    }\n    destroy() {\n        for (let scrollCache of this.scrollCaches) {\n            scrollCache.destroy();\n        }\n    }\n    computeLeft() {\n        let left = this.origRect.left;\n        for (let scrollCache of this.scrollCaches) {\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    }\n    computeTop() {\n        let top = this.origRect.top;\n        for (let scrollCache of this.scrollCaches) {\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    }\n    isWithinClipping(pageX, pageY) {\n        let point = { left: pageX, top: pageY };\n        for (let scrollCache of this.scrollCaches) {\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    let tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nclass HitDragging {\n    constructor(dragging, droppableStore) {\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = (ev) => {\n            let { dragging } = this;\n            this.initialHit = null;\n            this.movingHit = null;\n            this.finalHit = null;\n            this.prepareHits();\n            this.processFirstCoord(ev);\n            if (this.initialHit || !this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = (ev) => {\n            this.emitter.trigger('dragstart', ev);\n            this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = (ev) => {\n            this.emitter.trigger('dragmove', ev);\n            this.handleMove(ev);\n        };\n        this.handlePointerUp = (ev) => {\n            this.releaseHits();\n            this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = (ev) => {\n            if (this.movingHit) {\n                this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            this.finalHit = this.movingHit;\n            this.movingHit = null;\n            this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    processFirstCoord(ev) {\n        let origPoint = { left: ev.pageX, top: ev.pageY };\n        let adjustedPoint = origPoint;\n        let subjectEl = ev.subjectEl;\n        let subjectRect;\n        if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        let initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                let slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    }\n    handleMove(ev, forceHandle) {\n        let hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    }\n    prepareHits() {\n        this.offsetTrackers = mapHash(this.droppableStore, (interactionSettings) => {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    }\n    releaseHits() {\n        let { offsetTrackers } = this;\n        for (let id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    }\n    queryHitForOffset(offsetLeft, offsetTop) {\n        let { droppableStore, offsetTrackers } = this;\n        let bestHit = null;\n        for (let id in droppableStore) {\n            let component = droppableStore[id].component;\n            let offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                let originLeft = offsetTracker.computeLeft();\n                let originTop = offsetTracker.computeTop();\n                let positionLeft = offsetLeft - originLeft;\n                let positionTop = offsetTop - originTop;\n                let { origRect } = offsetTracker;\n                let width = origRect.right - origRect.left;\n                let height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    let hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    }\n}\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    let props = {};\n    for (let transform of context.pluginHooks.datePointTransforms) {\n        Object.assign(props, transform(dateSpan, context));\n    }\n    Object.assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nclass DateClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handlePointerDown = (pev) => {\n            let { dragging } = this;\n            let downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        this.handleDragEnd = (ev) => {\n            let { component } = this;\n            let { pointer } = this.dragging;\n            if (!pointer.wasTouchScroll) {\n                let { initialHit, finalHit } = this.hitDragging;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    let { context } = component;\n                    let arg = Object.assign(Object.assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        this.dragging = new FeaturefulElementDragging(settings.el);\n        this.dragging.autoScroller.isEnabled = false;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nclass DateSelecting extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.dragSelection = null;\n        this.handlePointerDown = (ev) => {\n            let { component, dragging } = this;\n            let { options } = component.context;\n            let canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        this.handleDragStart = (ev) => {\n            this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        this.handleHitUpdate = (hit, isFinal) => {\n            let { context } = this.component;\n            let dragSelection = null;\n            let isInvalid = false;\n            if (hit) {\n                let initialHit = this.hitDragging.initialHit;\n                let disallowed = hit.componentId === initialHit.componentId\n                    && this.isHitComboAllowed\n                    && !this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        this.handlePointerUp = (pev) => {\n            if (this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(this.dragSelection, pev, this.component.context);\n                this.dragSelection = null;\n            }\n        };\n        let { component } = settings;\n        let { options } = component.context;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', this.handlePointerUp);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\nfunction getComponentTouchDelay$1(component) {\n    let { options } = component.context;\n    let delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    let dateSpan0 = hit0.dateSpan;\n    let dateSpan1 = hit1.dateSpan;\n    let ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    let props = {};\n    for (let transformer of dateSelectionTransformers) {\n        let res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            Object.assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nclass EventDragging extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // internal state\n        this.subjectEl = null;\n        this.subjectSeg = null; // the seg being selected/dragged\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null; // the events being dragged\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n        this.handlePointerDown = (ev) => {\n            let origTarget = ev.origEvent.target;\n            let { component, dragging } = this;\n            let { mirror } = dragging;\n            let { options } = component.context;\n            let initialContext = component.context;\n            this.subjectEl = ev.subjectEl;\n            let subjectSeg = this.subjectSeg = getElSeg(ev.subjectEl);\n            let eventRange = this.eventRange = subjectSeg.eventRange;\n            let eventInstanceId = eventRange.instance.instanceId;\n            this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            let isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        this.handleDragStart = (ev) => {\n            let initialContext = this.component.context;\n            let eventRange = this.eventRange;\n            let eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: this.subjectEl,\n                    event: new EventImpl(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        this.handleHitUpdate = (hit, isFinal) => {\n            if (!this.isDragging) {\n                return;\n            }\n            let relevantEvents = this.relevantEvents;\n            let initialHit = this.hitDragging.initialHit;\n            let initialContext = this.component.context;\n            // states based on new hit\n            let receivingContext = null;\n            let mutation = null;\n            let mutatedRelevantEvents = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                let receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                this.dragging.setMirrorIsVisible(!hit || !this.subjectEl.getRootNode().querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                this.receivingContext = receivingContext;\n                this.validMutation = mutation;\n                this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        this.handlePointerUp = () => {\n            if (!this.isDragging) {\n                this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        this.handleDragEnd = (ev) => {\n            if (this.isDragging) {\n                let initialContext = this.component.context;\n                let initialView = initialContext.viewApi;\n                let { receivingContext, validMutation } = this;\n                let eventDef = this.eventRange.def;\n                let eventInstance = this.eventRange.instance;\n                let eventApi = new EventImpl(initialContext, eventDef, eventInstance);\n                let relevantEvents = this.relevantEvents;\n                let mutatedRelevantEvents = this.mutatedRelevantEvents;\n                let { finalHit } = this.hitDragging;\n                this.clearDrag(); // must happen after revert animation\n                initialContext.emitter.trigger('eventDragStop', {\n                    el: this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext === initialContext) {\n                        let updatedEventApi = new EventImpl(initialContext, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                        initialContext.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents,\n                        });\n                        let eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents, initialContext, eventInstance),\n                            revert() {\n                                initialContext.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents, // the pre-change data\n                                });\n                            },\n                        };\n                        let transformed = {};\n                        for (let transformer of initialContext.getCurrentData().pluginHooks.eventDropTransformers) {\n                            Object.assign(transformed, transformer(validMutation, initialContext));\n                        }\n                        initialContext.emitter.trigger('eventDrop', Object.assign(Object.assign(Object.assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext) {\n                        let eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents, initialContext, eventInstance),\n                            revert() {\n                                initialContext.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents,\n                                });\n                            },\n                        };\n                        initialContext.emitter.trigger('eventLeave', Object.assign(Object.assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents,\n                        });\n                        initialContext.emitter.trigger('eventRemove', eventRemoveArg);\n                        let addedEventDef = mutatedRelevantEvents.defs[eventDef.defId];\n                        let addedEventInstance = mutatedRelevantEvents.instances[eventInstance.instanceId];\n                        let addedEventApi = new EventImpl(receivingContext, addedEventDef, addedEventInstance);\n                        receivingContext.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents,\n                        });\n                        let eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents, receivingContext, addedEventInstance),\n                            revert() {\n                                receivingContext.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents,\n                                });\n                            },\n                        };\n                        receivingContext.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext.emitter.trigger('eventReceive', Object.assign(Object.assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext.emitter.trigger('_noEventDrop');\n                }\n            }\n            this.cleanup();\n        };\n        let { component } = this;\n        let { options } = component.context;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', this.handlePointerUp);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n    // render a drag state on the next receivingCalendar\n    displayDrag(nextContext, state) {\n        let initialContext = this.component.context;\n        let prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state });\n        }\n    }\n    clearDrag() {\n        let initialCalendar = this.component.context;\n        let { receivingContext } = this;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    }\n    cleanup() {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    }\n}\n// TODO: test this in IE11\n// QUESTION: why do we need it on the resizable???\nEventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\nfunction computeEventMutation(hit0, hit1, massagers) {\n    let dateSpan0 = hit0.dateSpan;\n    let dateSpan1 = hit1.dateSpan;\n    let date0 = dateSpan0.range.start;\n    let date1 = dateSpan1.range.start;\n    let standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    let delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    let mutation = {\n        datesDelta: delta,\n        standardProps,\n    };\n    for (let massager of massagers) {\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    let { options } = component.context;\n    let delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nclass EventResizing extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // internal state\n        this.draggingSegEl = null;\n        this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n        this.handlePointerDown = (ev) => {\n            let { component } = this;\n            let segEl = this.querySegEl(ev);\n            let seg = getElSeg(segEl);\n            let eventRange = this.eventRange = seg.eventRange;\n            this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        this.handleDragStart = (ev) => {\n            let { context } = this.component;\n            let eventRange = this.eventRange;\n            this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, this.eventRange.instance.instanceId);\n            let segEl = this.querySegEl(ev);\n            this.draggingSegEl = segEl;\n            this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventImpl(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        this.handleHitUpdate = (hit, isFinal, ev) => {\n            let { context } = this.component;\n            let relevantEvents = this.relevantEvents;\n            let initialHit = this.hitDragging.initialHit;\n            let eventInstance = this.eventRange.instance;\n            let mutation = null;\n            let mutatedRelevantEvents = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                let disallowed = hit.componentId === initialHit.componentId\n                    && this.isHitComboAllowed\n                    && !this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                this.validMutation = mutation;\n                this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        this.handleDragEnd = (ev) => {\n            let { context } = this.component;\n            let eventDef = this.eventRange.def;\n            let eventInstance = this.eventRange.instance;\n            let eventApi = new EventImpl(context, eventDef, eventInstance);\n            let relevantEvents = this.relevantEvents;\n            let mutatedRelevantEvents = this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (this.validMutation) {\n                let updatedEventApi = new EventImpl(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                let eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert() {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', Object.assign(Object.assign({}, eventChangeArg), { el: this.draggingSegEl, startDelta: this.validMutation.startDelta || createDuration(0), endDelta: this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            this.draggingSeg = null;\n            this.relevantEvents = null;\n            this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        let { component } = settings;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n    querySegEl(ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    }\n}\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    let dateEnv = hit0.context.dateEnv;\n    let date0 = hit0.dateSpan.range.start;\n    let date1 = hit1.dateSpan.range.start;\n    let delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nclass UnselectAuto {\n    constructor(context) {\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = (selectInfo) => {\n            if (selectInfo.jsEvent) {\n                this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = (pev) => {\n            let unselectCancel = this.context.options.unselectCancel;\n            let downEl = getEventTargetViaRoot(pev.origEvent);\n            this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = (pev) => {\n            let { context } = this;\n            let { documentPointer } = this;\n            let calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    let unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            this.isRecentPointerDateSelect = false;\n        };\n        let documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    destroy() {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    }\n}\n\nconst OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nconst LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nclass ExternalElementDragging {\n    constructor(dragging, suppliedDragMeta) {\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = (ev) => {\n            this.dragMeta = this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = (hit, isFinal, ev) => {\n            let { dragging } = this.hitDragging;\n            let receivingContext = null;\n            let droppableEvent = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                this.receivingContext = receivingContext;\n                this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = (pev) => {\n            let { receivingContext, droppableEvent } = this;\n            this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                let finalHit = this.hitDragging.finalHit;\n                let finalView = finalHit.context.viewApi;\n                let dragMeta = this.dragMeta;\n                receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    let addingEvents = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventImpl(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert() {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            this.receivingContext = null;\n            this.droppableEvent = null;\n        };\n        let hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    buildDragMeta(subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    }\n    displayDrag(nextContext, state) {\n        let prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state });\n        }\n    }\n    clearDrag() {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    }\n    canDropElOnCalendar(el, receivingContext) {\n        let dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    }\n}\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    let defProps = Object.assign({}, dragMeta.leftoverProps);\n    for (let transform of context.pluginHooks.externalDefTransforms) {\n        Object.assign(defProps, transform(dateSpan, dragMeta));\n    }\n    let { refined, extra } = refineEventDef(defProps, context);\n    let def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    let start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    let end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    let instance = createEventInstance(def.defId, { start, end });\n    return { def, instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    let str = getEmbeddedElData(el, 'event');\n    let obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    let prefix = config.dataAttrPrefix;\n    let prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nclass ExternalDraggable {\n    constructor(el, settings = {}) {\n        this.handlePointerDown = (ev) => {\n            let { dragging } = this;\n            let { minDistance, longPressDelay } = this.settings;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = (ev) => {\n            if (ev.isTouch &&\n                this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        let dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nclass InferredElementDragging extends ElementDragging {\n    constructor(containerEl) {\n        super(containerEl);\n        this.shouldIgnoreMove = false;\n        this.mirrorSelector = '';\n        this.currentMirrorEl = null;\n        this.handlePointerDown = (ev) => {\n            this.emitter.trigger('pointerdown', ev);\n            if (!this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                this.emitter.trigger('dragstart', ev);\n            }\n        };\n        this.handlePointerMove = (ev) => {\n            if (!this.shouldIgnoreMove) {\n                this.emitter.trigger('dragmove', ev);\n            }\n        };\n        this.handlePointerUp = (ev) => {\n            this.emitter.trigger('pointerup', ev);\n            if (!this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                this.emitter.trigger('dragend', ev);\n            }\n        };\n        let pointer = this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', this.handlePointerDown);\n        pointer.emitter.on('pointermove', this.handlePointerMove);\n        pointer.emitter.on('pointerup', this.handlePointerUp);\n    }\n    destroy() {\n        this.pointer.destroy();\n    }\n    setIgnoreMove(bool) {\n        this.shouldIgnoreMove = bool;\n    }\n    setMirrorIsVisible(bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            let mirrorEl = this.mirrorSelector\n                // TODO: somehow query FullCalendars WITHIN shadow-roots\n                ? document.querySelector(this.mirrorSelector)\n                : null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    }\n}\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nclass ThirdPartyDraggable {\n    constructor(containerOrSettings, settings) {\n        let containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        let dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\nvar index = createPlugin({\n    name: '@fullcalendar/interaction',\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport { ExternalDraggable as Draggable, ThirdPartyDraggable, index as default };\n"],"names":["Component","n","createElement","t","options","e","toChildArray","r","Fragment","u","render","o","hydrate","i","createContext","l","createRef","c","cloneElement","f","useState","a","useId","s","useReducer","h","useEffect","v","useLayoutEffect","d","useRef","p","useImperativeHandle","m","useMemo","y","useCallback","_","useContext","b","useDebugValue","S","g","C","E","w","props","R","ref","call","current","shouldComponentUpdate","displayName","name","prototype","isReactComponent","__f","isPureReactComponent","state","x","__b","type","N","Symbol","for","k","$$typeof","A","map","O","forEach","count","length","only","toArray","T","__e","then","__","__c","__k","I","unmount","L","__H","__P","U","__v","insertBefore","__d","D","__u","F","__a","M","default","V","__R","__h","push","__O","setState","pop","forceUpdate","componentWillUnmount","document","fallback","children","W","delete","revealOrder","size","P","getChildContext","context","$","nodeType","parentNode","childNodes","appendChild","removeChild","splice","indexOf","j","containerInfo","get","Map","reverse","set","componentDidUpdate","componentDidMount","z","B","H","Z","test","Y","textContent","q","Object","defineProperty","configurable","writable","value","G","event","J","K","cancelBubble","Q","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","X","nn","class","tn","vnode","toLowerCase","replace","multiple","Array","isArray","selected","defaultValue","className","enumerable","en","__r","rn","ReactCurrentDispatcher","readContext","__n","un","on","bind","ln","cn","apply","arguments","fn","an","base","sn","hn","vn","dn","pn","mn","yn","_n","bn","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","version","Children","unmountComponentAtNode","createPortal","createFactory","isValidElement","findDOMNode","PureComponent","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","defaultProps","key","constructor","setProperty","style","cssText","slice","addEventListener","removeEventListener","removeAttribute","setAttribute","setTimeout","debounceRendering","sort","shift","ownerSVGElement","nextSibling","some","contextType","__E","sub","_sb","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getSnapshotBeforeUpdate","diffed","localName","createTextNode","createElementNS","is","data","dangerouslySetInnerHTML","attributes","__html","innerHTML","checked","firstChild","Consumer","Provider","getDerivedStateFromError","componentDidCatch","Promise","resolve","__V","__N","filter","every","concat","__m","requestAnimationFrame","clearTimeout","cancelAnimationFrame","useErrorBoundary","Base","ProjetoAlocacaoRegra","projeto_alocacao_id","regra_id","initialization","ProjetoAlocacao","descricao","quantidade","projeto_id","tarefa_id","recurso_id","ProjetoRecurso","nome","tipo","unidade_medida","valor","usuario_id","unidade_id","material_servico_id","ProjetoRegra","tipo_recurso","perfis","ProjetoTarefa","indice","path","data_inicio","Date","data_fim","data_inicio_baseline","data_fim_baseline","duracao","progresso","inicio_marco","termino_marco","tem_filhos","agrupador","soma_progresso_filhos","status","contraido","custo","calcula_intervalo","aloca_proprios_recursos","soma_recusos_alocados_filhos","custos_proprios","soma_custos_filhos","etiquetas","comentarios","tarefa_pai_id","terefa_projeto_id","atividade_id","documento_id","Projeto","numero","finalidade","calcula_custos","tempo_corrido","usa_horas","usa_baseline","expediente","tipo_projeto_id","fase_id","kanban_dockers","fases","ChangeDetectorRef","EditableFormComponent","PageFrameBase","ProjetoRecursoDaoService","ProjetoRegraDaoService","ProjetoService","GridComponent","ProjetoDaoService","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵclassMap","ctx_r19","lookup","getIcon","PROJETO_TIPO_RECURSOS","group_r18","ɵɵtextInterpolate1","getValue","ɵɵtemplate","ProjetoFormAlocacoesComponent_ng_template_3_strong_0_Template","ɵɵproperty","ctx_r22","MATERIAL_SERVICO_UNIDADE","row_r21","recurso","ctx_r23","util","formatDecimal","ProjetoFormAlocacoesComponent_ng_template_7_badge_5_Template","ProjetoFormAlocacoesComponent_ng_template_7_badge_6_Template","ctx_r3","projetoService","getRecursoPicture","ɵɵtextInterpolate","usuario","unidade","material_servico","getColor","ɵɵpureFunction0","_c2","includes","ctx_r5","getControlByName","recursos","onRecursoChange","ctx_r29","lex","translate","regra_r31","regra","ctx_r30","ProjetoFormAlocacoesComponent_ng_template_12_badge_1_Template","ProjetoFormAlocacoesComponent_ng_template_12_badge_2_Template","ctx_r7","isAcessivel","row_r28","regras","ctx_r9","form","controls","addItemHandleRegras","formRegra","row_r34","ctx_r13","ɵɵattribute","ctx_r15","row_r36","ctx_r17","isHumanoDepartamento","tipoRecurso","undefined","ProjetoFormAlocacoesComponent","control","entity","injector","_regras","validate","controlName","result","validateRegra","dao","recursoDao","regraDao","cdRef","fh","FormBuilder","id","novo_recurso","groupBy","field","label","items","gridControl","setValue","alocacoes","loadRecursos","alocacao","find","recursoNome","assign","icon","join","loadData","initializeData","saveData","_this","_asyncToGenerator","grid","confirm","addAlocacao","loadAlocacao","row","_this2","color","detectChanges","removeAlocacao","saveAlocacao","_this3","recursoWidget","markAllAsTouched","valid","generateUuid","selectedItem","validateLookupItem","clearControl","isEnvolvido","dynamicButtons","BUTTON_EDIT","onClick","onEditItem","BUTTON_DELETE","onDeleteItem","ɵɵdirectiveInject","Injector","selectors","viewQuery","ProjetoFormAlocacoesComponent_Query","rf","ctx","ProjetoFormAlocacoesComponent_ng_template_3_Template","ɵɵtemplateRefExtractor","ProjetoFormAlocacoesComponent_ng_template_7_Template","ProjetoFormAlocacoesComponent_ng_template_9_Template","ProjetoFormAlocacoesComponent_ng_template_12_Template","ProjetoFormAlocacoesComponent_ng_template_14_Template","ProjetoFormAlocacoesComponent_ng_template_17_Template","ProjetoFormAlocacoesComponent_ng_template_19_Template","ProjetoFormAlocacoesComponent_ng_template_22_Template","ProjetoFormAlocacoesComponent_ng_template_24_Template","formDisabled","isModal","title","_r0","_r2","_r4","_r6","_r8","_r10","_r12","_r14","_r16","row_r16","cor","row_r18","getDateFormatted","row_r20","ctx_r11","row_r22","ProjetoFormFasesComponent","randomColor","CORES","addFase","loadFase","removeFase","saveFase","_this4","ProjetoFormFasesComponent_Query","ProjetoFormFasesComponent_ng_template_5_Template","ProjetoFormFasesComponent_ng_template_7_Template","ProjetoFormFasesComponent_ng_template_10_Template","ProjetoFormFasesComponent_ng_template_12_Template","ProjetoFormFasesComponent_ng_template_15_Template","ProjetoFormFasesComponent_ng_template_17_Template","ProjetoFormFasesComponent_ng_template_20_Template","ProjetoFormFasesComponent_ng_template_22_Template","UnidadeDaoService","ctx_r0","unidadeDao","ProjetoFormPrincipalComponent","_fases","isDataValid","usar_escritorio","escritorio_id","formValue","escritorio","all","loadSearch","patchValue","fillForm","fill","JSON","stringify","unitDuracao","onUnitDuracaoChange","unit","recalcular","onIntervaloAutomaticoChange","onUsaBaselineChange","intervaloAutomatico","usaBaseline","usaHoras","progressoAutomatico","ProjetoFormPrincipalComponent_Query","ɵɵlistener","ProjetoFormPrincipalComponent_Template_editable_form_submit_0_listener","onSaveData","ProjetoFormPrincipalComponent_Template_editable_form_cancel_0_listener","onCancel","ProjetoFormPrincipalComponent_Template_separator_change_10_listener","ProjetoFormPrincipalComponent_Template_separator_change_14_listener","$event","ProjetoFormPrincipalComponent_Template_separator_change_19_listener","ProjetoFormPrincipalComponent_separator_39_Template","entity_id","PROJETO_STATUS","carga_horaria","MaterialServicoDaoService","UsuarioDaoService","ProjetoFormRecursosComponent_ng_template_3_strong_0_Template","ProjetoFormRecursosComponent_ng_template_9_Template_input_select_change_0_listener","ɵɵrestoreView","_r25","ctx_r24","ɵɵnextContext","ɵɵresetView","onTipoRecursoChange","row_r26","ProjetoFormRecursosComponent_ng_template_12_small_3_Template","usuarioDao","ctx_r31","ctx_r32","materialServicoDao","ɵɵpureFunction1","_c5","_c4","ctx_r33","isMaterialServico","ProjetoFormRecursosComponent_ng_template_14_input_search_1_Template","ProjetoFormRecursosComponent_ng_template_14_input_search_2_Template","ProjetoFormRecursosComponent_ng_template_14_input_search_3_Template","ProjetoFormRecursosComponent_ng_template_14_input_text_4_Template","_c6","_c7","row_r37","row_r39","ProjetoFormRecursosComponent","materialServico","tipos","addRecurso","loadRecurso","removeRecurso","saveRecurso","selectedEntity","ProjetoFormRecursosComponent_Query","ProjetoFormRecursosComponent_ng_template_3_Template","ProjetoFormRecursosComponent_ng_template_7_Template","ProjetoFormRecursosComponent_ng_template_9_Template","ProjetoFormRecursosComponent_ng_template_12_Template","ProjetoFormRecursosComponent_ng_template_14_Template","ProjetoFormRecursosComponent_ng_template_17_Template","ProjetoFormRecursosComponent_ng_template_19_Template","ProjetoFormRecursosComponent_ng_template_22_Template","ProjetoFormRecursosComponent_ng_template_24_Template","group_r14","ProjetoFormRegrasComponent_ng_template_3_strong_0_Template","row_r17","row_r19","ProjetoFormRegrasComponent_ng_template_14_Template_input_select_change_0_listener","_r22","ctx_r21","PROJETO_PERFIS","perfil_r25","ProjetoFormRegrasComponent_ng_template_17_badge_1_Template","row_r23","ɵɵelementContainerStart","ɵɵelementContainerEnd","ctx_r27","perfil_acesso","perfil_gerente","ctx_r28","perfil_escritorio","ProjetoFormRegrasComponent_ng_template_19_ng_container_0_Template","ProjetoFormRegrasComponent_ng_template_19_ng_container_1_Template","ProjetoFormRegrasComponent","addRegra","loadRegra","removeRegra","saveRegra","ProjetoFormRegrasComponent_Query","ProjetoFormRegrasComponent_ng_template_3_Template","ProjetoFormRegrasComponent_ng_template_7_Template","ProjetoFormRegrasComponent_ng_template_9_Template","ProjetoFormRegrasComponent_ng_template_12_Template","ProjetoFormRegrasComponent_ng_template_14_Template","ProjetoFormRegrasComponent_ng_template_17_Template","ProjetoFormRegrasComponent_ng_template_19_Template","Unidade","Usuario","PageFormBase","ProjetoFormComponent","titleEdit","modalWidth","regra_escritorio_id","regra_gerente_id","regra_equipe_id","recurso_gerente_id","recurso_escritorio_id","alocacao_gerente_id","alocacao_escritorio_id","alocacao_regra_escritorio_id","alocacao_regra_gerente_id","projeto","auth","email","url_foto","codigo","sigla","principal","onTabsSelect","console","log","titleProjeto","ProjetoFormComponent_Query","ProjetoFormComponent_Template_editable_form_submit_0_listener","ProjetoFormComponent_Template_editable_form_cancel_0_listener","PageListBase","envolvido_r20","url","hint","ProjetoListComponent_ng_template_17_profile_picture_2_Template","getEnvolvidos","metadata_r18","getDateTimeFormatted","ctx_r25","ProjetoListComponent_ng_template_26_badge_0_Template","ProjetoListComponent_ng_template_26_badge_1_Template","row_r27","fase","ProjetoListComponent_ng_template_32_badge_2_Template","ProjetoListComponent","filterWhere","trim","code","filterClear","metadata","envolvido","getNomesRegras","igual","envolvidos","dynamicOptions","canAcessar","BOTAO_INFORMACOES","go","navigate","route","modal","BOTAO_COMENTARIOS","modalRefreshId","BOTAO_CLONAR","modalRefresh","BOTAO_ALTERAR","BOTAO_PLANEJAR","BOTAO_EXCLUIR","BOTAO_RECURSOS","BOTAO_REGRAS","BOTAO_ALOCACOES","BOTAO_ENVOLVIDOS","ProjetoListComponent_Query","ProjetoListComponent_Template_grid_select_5_listener","onSelect","ProjetoListComponent_toolbar_6_Template","ProjetoListComponent_ng_template_14_Template","ProjetoListComponent_ng_template_17_Template","ProjetoListComponent_ng_template_20_Template","ProjetoListComponent_ng_template_23_Template","ProjetoListComponent_ng_template_26_Template","ProjetoListComponent_ng_template_29_Template","ProjetoListComponent_ng_template_32_Template","ɵɵclassProp","active","add","orderBy","selectable","hasPermissionTo","filterSubmit","filterCollapseChange","filterCollapsed","edit","rowsLimit","GanttProject","GanttAssignment","GanttTask","GanttResource","GanttRole","dayGridPlugin","interactionPlugin","recurso_r16","ProjetoPlanejamentoComponent_ng_template_0_div_0_profile_picture_2_Template","getRecursos","card_r11","metadata_r12","ctx_r18","getStatusColor","status_r19","ProjetoPlanejamentoComponent_ng_template_0_ng_container_1_badge_2_Template","ctx_r14","getStatus","addComentarioButton","ProjetoPlanejamentoComponent_ng_template_0_div_0_Template","ProjetoPlanejamentoComponent_ng_template_0_ng_container_1_Template","ctx_r1","resumido","formEdit","etiqueta","etiquetasEdit","project","ganttHeight","calendarOptions","ProjetoPlanejamentoComponent_div_15_full_calendar_4_Template","ctx_r8","onCalendarioFilterChange","afterLoadData","gb","getResourcePath","ɵɵsanitizeUrl","ctx_r10","labels","loading","onSwimlaneDrop","onDragged","onDrop","onDockerCollapse","editEtiquetas","saveEtiquetas","deleteEtiquetas","cancelEtiquetas","getLabelStyle","ProjetoPlanejamentoComponent","TITLE_OUTRAS","cardsVersion","dragDrop","outrasButtons","incluirLista","etiquetasButtons","initialView","events","plugins","screen","availWidth","Math","round","availHeight","ngOnInit","action","isOutras","docker","menu","cards","editing","collapse","planejamentoKanban","refreshDoubleScrollbar","loadKanbanDockers","dockers","reduce","loadKanbanCards","outrasIndex","findIndex","tarefas","tarefa","putCard","list","index","card","subTitle","dynamicMenu","dynamicCardMenu","dynamicItems","cardDynamicOptions","saveEtiquetasProjeto","updateEtiquetasTarefa","sourceLabel","source","destinationLabel","destination","unshift","fromIndex","element","toIndex","item","effect","dropEffect","demanda","bgColor","allUsed","loadEtiquetas","merge","config","_this5","toGantt","toCalendar","PROJETO_TAREFA_STATUS","reject","start","end","toGanttStatus","castStatus","PLANEJADO","INICIADO","CONCLUIDO","FALHO","SUSPENSO","CANCELADO","AGUARDANDO","hasOwnProperty","toGanttAssignments","toAssignmentDescription","extra","resource_id","roles_ids","description","quantity","toGanttTask","progress","duration","startIsMilestone","endIsMilestone","hasChild","tasks","toTreeGanttTasks","dependencies_ids","assignments","collapsed","toGanttResource","toGanttResourceType","castTypes","HUMANO","MATERIAL","SERVICO","CUSTO","DEPARTAMENTO","toGanttPicture","toGanttUnity","castUnity","UNIDADE","CAIXA","METRO","KILO","LITRO","DUZIA","MONETARIO","HORAS","DIAS","PACOTE","picture","unityCost","unity","toGanttRole","child","gantt","root","level","resources","roles","fromTaskTree","fromGantt","update","origem","fromGanttRules","mergeArrayOfObject","src","dst","fromGanttResources","fromGanttResourceType","resourceType","HUMAN","SERVICE","COST","DEPARTMENT","fromGanttUnity","UNITY","BOX","METER","LITER","DOZEN","CURRENCY","HOUR","DAY","PACKAGE","fromGanttAssignment","isProjeto","updateTotals","totais","fromGanttTasks","pai","documento","tasksIds","totaisFilhos","getTime","toTaskTree","task","levels","last","min","ProjetoPlanejamentoComponent_Query","ProjetoPlanejamentoComponent_ng_template_0_Template","ProjetoPlanejamentoComponent_ng_template_2_Template","ProjetoPlanejamentoComponent_ng_template_4_Template","ProjetoPlanejamentoComponent_Template_editable_form_submit_6_listener","ProjetoPlanejamentoComponent_Template_editable_form_cancel_6_listener","ProjetoPlanejamentoComponent_gantt_14_Template","ProjetoPlanejamentoComponent_div_15_Template","ProjetoPlanejamentoComponent_div_16_Template","ProjetoPlanejamentoComponent_div_17_Template","shown","FormControl","FormHelperService","LookupService","ProjetoRecursoWidgetComponent_input_select_0_Template_input_select_change_0_listener","_r9","ctx_r4","ctx_r6","ProjetoRecursoWidgetComponent","novoRecurso","selectRecurso","change","ProjetoRecursoWidgetComponent_Query","ProjetoRecursoWidgetComponent_input_select_0_Template","ProjetoRecursoWidgetComponent_Template_input_select_change_5_listener","ProjetoRecursoWidgetComponent_input_search_10_Template","ProjetoRecursoWidgetComponent_input_search_11_Template","ProjetoRecursoWidgetComponent_input_search_12_Template","ProjetoRecursoWidgetComponent_input_text_13_Template","_r1","_c8","_c9","RouterModule","AuthGuard","ConfigResolver","routes","component","canActivate","runGuardsAndResolvers","ProjetoRoutingModule","forChild","imports","i1","exports","PageBase","ɵɵstyleProp","getLevel","row_r6","alocacao_r9","ProjetoTarefaFilterComponent_ng_template_15_profile_picture_0_Template","row_r7","ProjetoTarefaFilterComponent","_projeto","loadTarefas","buttons","args","setMultiselectSelectedItems","onSelectAllClick","onUnselectAllClick","ngAfterViewInit","enableMultiselect","split","onMultiselectChange","multiselected","values","ProjetoTarefaFilterComponent_Query","ProjetoTarefaFilterComponent_ng_template_12_Template","ProjetoTarefaFilterComponent_ng_template_15_Template","ProjetoTarefaDaoService","AtividadeDaoService","ProjetoTarefaFormPrincipalComponent","atividadeDao","status_tarefa","numero_processo","numero_documento","marco_inicio","inicio_tarefa","marco_termino","termino_tarefa","custo_tarefa","possui_custos_proprios","soma_recursos_alocados_filhos","aloca_recursos_proprios","ProjetoTarefaFormPrincipalComponent_Query","ProjetoTarefaFormPrincipalComponent_Template_editable_form_submit_0_listener","ProjetoTarefaFormPrincipalComponent_Template_editable_form_cancel_0_listener","ProjetoTarefaFormPrincipalComponent_ng_template_10_Template","isEmbedded","numero_requisicao","ProjetoTarefaFormComponent","features","ɵɵInheritDefinitionFeature","decls","vars","consts","template","ProjetoTarefaFormComponent_Template","CommonModule","ComponentsModule","UteisModule","FullCalendarModule","ProjetoModule","declarations","prefix","sufix","hasLotacao","minData","maxData","ɵɵinject","AuthService","factory","ɵfac","providedIn","ViewEncapsulation","Input","ViewChild","ContentChild","NgModule","Calendar","CustomRenderingStore","_c0","_c1","a0","$implicit","TransportContainerComponent_ng_template_0_Template","ɵɵelementContainer","elClasses","elStyle","renderProps","TransportContainerComponent_ng_template_1_Template","TransportContainerComponent_ng_template_2_Template","ctx_r2","TransportContainerComponent_ng_template_3_Template","TransportContainerComponent_ng_template_4_Template","TransportContainerComponent_ng_template_5_Template","_c3","_c10","_c11","_c12","_c13","_c14","_c15","_c16","_c17","FullCalendarComponent_transport_container_1_Template","customRendering_r1","containerEl","reportNewContainerEl","elTag","elAttrs","templateMap","generatorName","OPTION_IS_DEEP","headerToolbar","footerToolbar","eventSources","OPTION_INPUT_NAMES","deepCopy","input","valueOf","mapHash","func","output","deepEqual","keys","RegExp","flags","toString","dummyContainer$1","createDocumentFragment","OffscreenFragmentComponent","nativeElement","ngOnDestroy","OffscreenFragmentComponent_Factory","ElementRef","ɵcmp","ɵɵdefineComponent","ngContentSelectors","OffscreenFragmentComponent_Template","ɵɵprojectionDef","ɵɵprojection","encapsulation","ngDevMode","ɵsetClassMetadata","selector","None","dummyContainer","TransportContainerComponent","rootEl","rootElRef","replaceEl","inPlaceOf","applyElAttrs","display","reportEl","ngOnChanges","changes","elAttrsChange","previousValue","currentValue","TransportContainerComponent_Factory","TransportContainerComponent_Query","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","first","inputs","ɵɵNgOnChangesFeature","TransportContainerComponent_Template","dependencies","NgIf","NgClass","NgStyle","NgTemplateOutlet","subject","el","previousAttrs","currentAttrs","attrName","FullCalendarComponent","changeDetector","calendar","optionSnapshot","customRenderingMap","customRenderingStore","subscribe","customRenderingArray","handleCustomRendering","handle","deepChangeDetection","buildInputOptions","optionVal","optionName","calendarEl","buildExtraOptions","ionContent","closest","componentOnReady","window","ngDoCheck","newOptions","newProcessedOptions","changedOptionNames","oldOptionNames","pauseRendering","resetOptions","ngAfterContentChecked","resumeRendering","destroy","customRenderings","getApi","inputName","inputValue","customRenderingMetaMap","customRenderingReplacesEl","trackCustomRendering","customRendering","FullCalendarComponent_Factory","contentQueries","FullCalendarComponent_ContentQueries","dirIndex","ɵɵcontentQuery","dayHeaderContent","dayCellContent","weekNumberContent","nowIndicatorContent","eventContent","slotLaneContent","slotLabelContent","allDayContent","moreLinkContent","noEventsContent","resourceAreaHeaderContent","resourceGroupLabelContent","resourceLabelContent","resourceLaneContent","resourceGroupLaneContent","FullCalendarComponent_Template","NgForOf","static","FullCalendarModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","mergeProps","guid","isArraysEqual","Theme","BaseComponent","ViewContextType","ContentContainer","buildViewClassNames","greatestDurationDenominator","createDuration","BASE_OPTION_DEFAULTS","arrayToHash","filterHash","buildEventSourceRefiners","parseEventSource","formatWithOrdinals","unpromisify","buildRangeApiWithTimeZone","identity","requestJson","subtractDurations","intersectRanges","startOfDay","addDays","hashValuesToArray","buildEventApis","DelayedRunner","createFormatter","diffWholeDays","memoize","memoizeObjArg","isPropsEqual","Emitter","getInitialDate","rangeContainsMarker","createEmptyEventStore","reduceCurrentDate","reduceEventStore","rezoneEventStoreDates","mergeRawOptions","BASE_OPTION_REFINERS","CALENDAR_LISTENER_REFINERS","CALENDAR_OPTION_REFINERS","COMPLEX_OPTION_COMPARATORS","VIEW_OPTION_REFINERS","DateEnv","DateProfileGenerator","createEventUi","parseBusinessHours","setRef","Interaction","getElSeg","elementClosest","EventImpl","a1","listenBySelector","a2","listenToHoverBySelector","a3","a4","buildViewContext","a5","getUniqueDomId","a6","parseInteractionSettings","a7","interactionSettingsStore","a8","getNow","a9","CalendarImpl","aa","ab","CalendarRoot","ac","RenderId","ad","ensureElHasStyles","ae","applyStyleProp","af","sliceEventStore","ag","JsonRequestError","globalLocales","MINIMAL_RAW_EN_LOCALE","week","dow","doy","direction","buttonText","prev","next","prevYear","nextYear","year","today","month","day","weekText","weekTextLong","closeHint","timeHint","eventHint","allDayText","moreLinkText","noEventsText","RAW_EN_LOCALE","buttonHints","viewHint","navLinkHint","moreLinkHint","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","codes","raw","queryRawLocale","parts","toLocaleLowerCase","simpleId","merged","simpleNumberFormat","Intl","NumberFormat","createPlugin","premiumReleaseDate","deps","reducers","isLoadingFuncs","contextInit","eventRefiners","eventDefMemberAdders","eventSourceRefiners","isDraggableTransformers","eventDragMutationMassagers","eventDefMutationAppliers","dateSelectionTransformers","datePointTransforms","dateSpanTransforms","views","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","eventSourceDefs","cmdFormatter","recurringTypes","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","currentPluginIds","hooks","addDefs","defs","def","pluginName","currentId","combineHooks","warn","buildBuildPluginHooks","currentOverrideDefs","currentGlobalDefs","currentHooks","overrideDefs","hooks0","hooks1","compareOptionalDates","date0","date1","max","StandardTheme","classes","tableCellShaded","buttonGroup","button","buttonActive","baseIconClass","iconClasses","close","rtlIconClasses","iconOverrideOption","iconOverrideCustomButtonOption","iconOverridePrefix","compileViewDefs","defaultConfigs","overrideConfigs","hash","viewType","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","Error","defaults","rawOptions","overrides","parseViewConfigs","parseViewConfig","content","createViewHookComponent","viewProps","viewSpec","nextDayThreshold","customGenerator","classNameGenerator","classNames","didMount","willUnmount","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","buttonTextKey","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","buttonTitleOverride","buttonHint","buttonTitleDefault","durationInputMap","json","res","reduceViewType","reduceDynamicOptionOverrides","rawOptionValue","reduceDateProfile","currentDateProfile","currentDate","dateProfileGenerator","dp","build","dateMarker","buildPrev","isValid","buildNext","initEventSources","dateProfile","activeRange","addSources","parseInitialSources","reduceEventSources","sources","removeSource","sourceId","fetchDirtySources","fetchSourcesByIds","sourceIds","excludeStaticSources","isRefetch","receiveResponse","fetchId","fetchRange","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","isFetching","eventSourceHash","eventSource","sourceHash","isSourceDirty","doesSourceNeedRange","latestFetchId","lazyFetching","prevSources","sourceIdHash","nextSources","fetchSource","calendarApi","sourceDef","pluginHooks","sourceDefId","fetch","range","rawEvents","eventSourceSuccess","response","success","dispatch","error","errorHandled","eventSourceFailure","failure","message","refiners","rawSources","initialEvents","rawSource","ignoreRange","reduceDateSelection","currentSelection","selection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","affectedEvents","mutatedEvents","isEvent","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","theme","viewSpecs","header","parseToolbar","footer","sectionStrHash","sectionWidgets","viewsWithButtons","hasTitle","sectionName","sectionStr","sectionRes","parseSection","widgets","isRtl","calendarCustomButtons","customButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonName","customButtonProps","buttonClick","buttonIcon","ev","click","target","getCustomButtonIconClass","getIconClass","text","changeView","textFallback","prevOrNext","navUnit","ViewImpl","getCurrentData","dateEnv","viewTitle","activeStart","toDate","activeEnd","currentStart","currentRange","currentEnd","getOption","eventSourceDef$2","parseMeta","refined","arg","successCallback","meta","arrayEventSourcePlugin","eventSourceDef$1","errorCallback","funcEventSourcePlugin","JSON_FEED_EVENT_SOURCE_REFINERS","method","String","extraParams","startParam","endParam","timeZoneParam","eventSourceDef","format","toUpperCase","requestParams","buildRequestParams","jsonFeedEventSourcePlugin","customRequestParams","params","formatIso","timeZone","SIMPLE_RECURRING_REFINERS","daysOfWeek","startTime","endTime","startRecur","endRecur","recurring","parse","recurringData","createMarker","allDayGuess","Boolean","typeData","expand","framingRange","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","endMarker","instanceStarts","instanceStart","getUTCDay","changeHandlerPlugin","handleEventSources","unfoundSources","_raw","newInputs","inputFound","unfoundSource","newInput","addEventSource","handleDateProfile","emitter","trigger","view","viewApi","handleEventStore","eventStore","hasHandlers","globalPlugins","TaskRunner","runTaskOption","drainedOption","queue","delayedRunner","drain","request","delay","pause","scope","resume","force","completedTasks","runTask","drained","buildTitle","viewOptions","currentRangeUnit","formatRange","titleFormat","buildTitleFormat","isEndExclusive","isRangeAllDay","defaultSeparator","titleRangeSeparator","days","CalendarDataManager","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildDateEnv$1","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsInput","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","currentCalendarOptionsRefiners","optionsForRefining","optionsForHandling","optionsData","computeOptionsData","currentViewType","currentViewData","currentDataManager","setThisContext","setOptions","calendarContext","callback","initialState","businessHours","eventUiBases","renderableEventStore","dateSelection","eventSelection","eventDrag","eventResize","selectionConfig","contextAndState","reducer","computeIsLoading","isEventsLoading","progressiveEventRendering","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","stableOptionOverrides","stableDynamicOptionOverrides","stableCalendarOptionsData","refinedOptions","availableLocaleData","processRawCalendarOptions","warnUnknownOptions","locale","weekNumberCalculation","firstDay","defaultRangeSeparator","toolbarConfig","availableRawLocales","locales","currentRaw","currentRefined","anyChanges","processRawViewOptions","dateProfileGeneratorClass","usesMinMaxTime","slotMinTime","slotMaxTime","showNonCurrentDates","dayCount","dateAlignment","dateIncrement","hiddenDays","weekends","nowInput","now","validRangeInput","validRange","visibleRangeInput","visibleRange","fixedWeekCount","explicitLocale","calendarSystem","namedTimeZoneImpl","ThemeClass","themeSystem","DateProfileGeneratorClass","ui","eventDefs","defId","eventDisplay","editable","startEditable","eventStartEditable","durationEditable","eventDurationEditable","constraint","eventConstraint","overlap","eventOverlap","allow","eventAllow","backgroundColor","eventBackgroundColor","borderColor","eventBorderColor","textColor","eventTextColor","eventColor","selectConstraint","selectOverlap","selectAllow","isLoadingFunc","viewName","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widget","titleId","isPressed","activeButton","isDisabled","isTodayEnabled","isPrevEnabled","isNextEnabled","buttonClasses","getClass","disabled","groupClassName","Toolbar","model","extraClassName","forceLtr","startContent","endContent","centerContent","center","left","right","renderSection","ViewHarness","availableWidth","handleEl","elRef","updateAvailableWidth","handleResize","aspectRatio","liquid","height","paddingBottom","labeledById","addResizeHandler","removeResizeHandler","offsetWidth","EventClicking","settings","handleSegClick","segEl","seg","isValidSegDownEl","hasUrlContainer","querySelector","href","eventRange","instance","jsEvent","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","headerRef","footerRef","interactionsStore","viewLabelId","registerInteractiveComponent","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","uid","unregisterInteractiveComponent","listeners","listener","resizeRunner","handleWindowResize","windowResizeDelay","toolbarProps","viewVGrow","viewHeight","viewAspectRatio","isHeightAuto","forPrint","contentHeight","viewContext","renderView","buildAppendContent","CalendarInteractionClass","propName","prevProps","clear","interaction","transformers","transformer","transform","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","isRendering","isRendered","currentClassNames","customContentRenderId","handleAction","renderRunner","tryDrain","handleData","currentData","rerenderDelay","handleRenderRequest","setClassNames","setHeight","wasRendering","updateSize","batchRendering","classList","remove","formatDate","dateInput","formatter","dateMeta","createMarkerMeta","marker","forcedTzo","startInput","endInput","startMeta","endMeta","forcedStartTzo","forcedEndTzo","sliceEvents","allDay","fg","preact","styleTexts","styleEls","injectStyles","styleText","styleEl","appendStylesTo","isConnected","registerStylesRoot","getRootNode","rootNode","nonce","getNonceValue","parentEl","head","hydrateStylesRoot","sheet","ruleCnt","cssRules","styleStr","insertRule","queriedNonceValue","queryNonceValue","metaWithNonce","hasAttribute","getAttribute","elWithNonce","css_248z","removeElement","documentElement","contains","elementMatches","parentElement","matches","matchesSelector","msMatchesSelector","findElements","container","containers","HTMLElement","allMatches","querySelectorAll","findDirectChildren","parent","parents","childNode","PIXEL_PROP_RE","applyStyle","val","getEventTargetViaRoot","_a","_b","composedPath","guid$1","preventDefault","buildDelegationHandler","handler","matchedChild","eventType","attachedHandler","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave","mouseLeaveEv","transitionEventNames","whenTransitionDone","realCallback","eventName","createAriaClickAttrs","createAriaKeyboardAttrs","tabIndex","onKeyDown","guidNumber","disableCursor","body","enableCursor","preventSelection","userSelect","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","token","charAt","substring","order","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","localeCompare","padStart","len","substr","fallbackText","str","compareNumbers","isInt","computeSmallestCellWidth","cellEl","allWidthEl","contentWidthEl","getBoundingClientRect","width","INTERNAL_UNITS","PARSE_RE","parseString","parseObject","exec","sign","years","months","parseInt","milliseconds","obj","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","specifiedWeeks","durationsEqual","d0","d1","asCleanDays","dur","addDurations","multiplyDuration","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","propObjs","complexPropsMap","dest","isMaybeObjectsEqual","complexObjs","filtered","newHash","HANDLER_RE","isNonHandlerPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","removeExact","array","exactVal","removeCnt","equalityFunc","DAY_IDS","addWeeks","dateToUtcArray","arrayToUtcDate","addMs","diffWeeks","m0","m1","diffDays","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","m1day","diffWholeWeeks","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","weekOfGivenYear","nextW","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","getUTCMilliseconds","UTC","isValidDate","isNaN","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","formatTimeZoneOffset","formatDayString","formatIsoMonthStr","match","formatIsoTimeString","doIso","abs","mins","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","currentArg","newArg","memoizeArraylike","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","currentArgHash","currentResHash","newArgHash","newResHash","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","buildFormattingFunc","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","buildNativeFormattingFunc","sanitizeSettings","normalFormat","DateTimeFormat","zeroFormat","zeroProps","postProcess","injectTzoStr","tzoStr","replaced","num","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","found0","before0","after0","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","FuncFormatter","navLinkDayClick","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","defaultAllDayEventDuration","defaultTimedEventDuration","scrollTime","scrollTimeReset","dayPopoverFormat","slotDuration","snapDuration","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellDidMount","dayCellWillUnmount","Number","weekNumbers","weekNumberClassNames","weekNumberDidMount","weekNumberWillUnmount","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorDidMount","nowIndicatorWillUnmount","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","longPressDelay","eventDragMinDistance","expandRows","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","initialDate","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","defaultAllDay","eventClassNames","eventDidMount","eventWillUnmount","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayClassNames","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","selectMinDistance","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","eventInteractive","moreLinkClick","moreLinkClassNames","moreLinkDidMount","moreLinkWillUnmount","monthStartFormat","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","isMaybeArraysEqual","optionSets","refineProps","createEventInstance","instanceId","parseRecurring","parsed","typeId","expandRecurring","instances","recurringDef","starts","expandRecurringRanges","eventDef","typeDef","markers","subtract","parseEvents","allowOpenRange","defIdMap","instanceIdMap","buildEventRefiners","rawEvent","tuple","parseEvent","eventTupleToStore","getRelevantEvents","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","EMPTY_EVENT_UI","constraints","allows","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","interactive","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","publicId","memberAdder","freeze","startMarker","isTimeUnspecified","DEF_DEFAULTS","refineInputs","rawDefs","rawDef","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","largeUnit","diffWholeYears","diffWholeMonths","pointInsideRect","point","rect","top","bottom","intersectRects","rect1","rect2","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","position","div","possible","offsetHeight","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventResizes","info","buildEventUiForKey","keyInfo","buildEventUi","dateSpan","dateSpans","getKeysForDateSpan","getKeysForEventDef","splitStores","splitHashes","splitStates","affectedStores","mutatedKeysByDefId","mutatedStores","populate","allUi","eventUiForKey","baseParts","stuff","parseRange","invertRanges","ranges","constraintRange","invertedRanges","dateRange","compareRanges","range0","range1","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","constrainMarkerToRange","getDateMeta","todayRange","nowDate","isOther","isToday","isPast","isFuture","getDayClassNames","getSlotClassNames","DAY_FORMAT","WEEK_FORMAT","buildNavLinkAttrs","isTabbable","dateStr","zonedDate","handleInteraction","customAction","zoomTo","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","clientHeight","clientWidth","computeEdges","getPadding","computedStyle","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","pageXOffset","pageYOffset","computeClippedClientRect","clippingParents","getClippingParents","clippingParent","intersection","overflowY","overflowX","normalizedSuccessCallback","normalizedFailureCallback","isResolved","wrappedSuccess","wrappedFailure","handlers","thisContext","addToHash","off","removeFromHash","attachedHandlers","optionHandler","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","similarTo","otherCache","similarNumArrays","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","setIconOverride","iconOverrideHash","iconClassesCopy","applyIconOverridePrefix","runBeforeFlush","oldDebounceRendering","callbackQ","execCallbackSync","FakeComponent","ContextType","origProvider","isNew","subs","_props","old","ScrollResponder","execFunc","handleScrollRequest","queuedRequest","fireInitialScroll","detach","isDatesNew","time","createScrollResponder","nextProps","nextState","debug","propEquality","stateEquality","safeSetState","addPropsEquality","addStateEquality","create","DateComponent","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidDateDownEl","initialDateInput","createNowMarker","initHiddenDays","forceToValid","prevDate","startOf","nextDate","currentInfo","renderRange","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","greatestWholeUnit","getFallbackDuration","isHiddenDay","skipHiddenDays","computeRes","runningCount","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","triggerDateSelect","pev","buildDateSpanApiWithContext","origEvent","triggerDateUnselect","buildDateSpanApi","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","compileEventUis","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","standardProps","startDelta","endDelta","copy","applier","eventInstance","forceAllDay","clearEnd","datesDelta","EventSourceImpl","internalEventSource","refetch","_context","_def","_instance","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","setDates","moveStart","deltaInput","delta","moveEnd","moveDates","setAllDay","formatInput","relevantEvents","oldEvent","relatedEvents","revert","asStore","eventApiToStore","startStr","omitTime","endStr","toPlainObject","collapseColor","collapseExtendedProps","toJSON","eventApi","excludeInstance","eventApis","excludeInstanceId","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRange","bg","hasBgRendering","setElSeg","fcSeg","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","_seg","computeSegDraggable","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","segRange","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","getSegAnchorAttrs","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildRangeApi","fabricateEventRange","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","isNamedTimeZone","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","getDay","addYears","addMonths","countDurationsBetween","diff","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","NamedTimeZoneImpl","SegHierarchy","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","hiddenEntries","insertEntry","entry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","thickness","stackCnt","touchingEntry","splitEntry","barrier","partCnt","splitHiddenEntries","entrySpan","barrierSpan","intersectSpans","lateral","insertAt","buildEntryKey","newEntry","levelCnt","candidateCoord","touchingLevel","touchingLateral","trackingLevel","trackingCoord","trackingEntries","trackingEntry","searchRes","binarySearch","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","toRects","rects","entries","groupIntersectingEntries","merges","filteredMerges","hungryMerge","joinSpans","searchVal","getItemVal","middleIndex","middleVal","isHitComboAllowed","useEventCenter","interactionSettingsToStore","ElementDragging","setMirrorIsVisible","bool","setMirrorNeedsRevert","setAutoScrollEnabled","DRAG_META_REFINERS","parseDragMeta","leftoverProps","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","ContentInjector","queuedDomNodes","currentDomNodes","defaultGenerator","attrs","buildElAttrs","useDefault","innerContent","currentGeneratorMeta","customGeneratorRes","isObject","html","domNodes","hasCustomRenderingHandler","applyQueueudDomNodes","triggerCustomRendering","isActive","generatorMeta","isTruthy","newNode","extraClassNames","InnerContent","InnerContentInjector","handleRootEl","generatedClassNames","generateClassNames","renderId","containerComponent","parentProps","TableDateCell","dayMeta","navLinkAttrs","colCnt","extraRenderProps","role","colSpan","extraDataAttrs","InnerContainer","isSticky","WEEKDAY_FORMAT","TableDowCell","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","timeoutId","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","col","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","activeDateSpanRange","eventRanges","sliceEventRange","isComponentAllDay","receiveRawEvents","resetRawEvents","addEvent","excludeEventsBySourceId","subset","transformRawEvents","existingEventStore","buildPublicIdMaps","newEventStore","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","oldDateEnv","newDateEnv","excludeInstances","removals","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","fetchOptions","URLSearchParams","headers","fetchRes","ok","parsedResponse","isRunning","isDirty","pauseDepths","isPaused","depth","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","marginBottom","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","isHeader","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","colProps","sanitizeShrinkWidth","hasShrinkWidth","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","configCnt","configI","currentConfig","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","roleAttrs","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","EventContainer","timeText","disableDragging","disableResizing","isDateSelecting","StandardEvent","defaultTimeFormat","renderInnerContent$1","eventContentArg","innerProps","NowIndicatorContainer","isAxis","DAY_NUM_FORMAT","DayCellContainer","refineRenderProps","isMonthStart","showDayNumber","hasCustomDayCellContent","dayNumberText","BgEvent","renderInnerContent","renderFill","fillType","WeekNumberContainer","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","handleDocumentMouseDown","handleCloseClick","handleDocumentKeyDown","onClose","extraAttrs","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin","offsetParent","MorePopover","startDate","forceTimed","endDate","extraDateSpan","dayEl","layer","MoreLinkContainer","isPopoverOpen","popoverId","handleLinkEl","linkEl","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","ViewContainer","EVENT_SOURCE_REFINERS","rawObj","metaRes","buildEventSourceMeta","setOption","getAvailableLocaleCodes","handlerName","dateOrRange","spec","getUnitViewSpec","viewTypes","gotoDate","zonedDateInput","incrementDate","dateOrObj","selectionInput","eventInput","sourceInput","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","getEventById","getEvents","removeAllEvents","getEventSources","sourceApis","internalId","removeAllEventSources","refetchEvents","scrollToTime","timeInput","Store","updated","has","a$","aA","aB","aC","aD","aE","aF","aG","aH","aI","aJ","aK","aL","aM","aN","aO","aP","aQ","aR","aS","aT","aU","aV","aW","aX","aY","aZ","a_","ah","ai","aj","ak","al","am","ao","ap","aq","ar","as","at","au","av","aw","ax","ay","az","b$","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","bA","bB","bC","bD","bE","bF","bG","bH","bI","bJ","bK","bL","bM","bN","bO","bP","bQ","bR","bS","bT","bU","bV","bW","bX","bY","bZ","b_","ba","bb","bc","bd","be","bf","bh","bi","bj","bk","bl","bm","bo","bp","bq","br","bs","bt","bu","bv","bw","bx","by","bz","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","cb","cc","cd","ce","cf","cg","ch","ci","cj","ck","cl","cm","co","cp","cq","cr","cs","ct","cu","cv","cw","cx","cy","DayGridView","DayTableView","TableDateProfileGenerator","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","dayGridYear","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","TableCellMoreLink","compileSegs","invisibleSegs","singlePlacements","isForcedInvisible","visibility","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","TableCell","dayNumberId","shouldDisplayMonthStart","renderTopInner","innerElRef","minHeight","showWeekNumber","forceDayTop","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","currentEndIncl","currentFirstYear","currentFirstMonth","currentLastYear","currentLastMonth","computeFgSegPlacement","eventInstanceHeights","maxContentHeight","hierarchy","DayGridSegHierarchy","hiddenConsumes","segInputs","unknownHeightSegs","eventHeight","segRects","singleColPlacements","multiColPlacements","leftoverMargins","placeRects","moreCnts","moreMarginTops","absoluteTop","resliceSeg","hiddenEntry","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","currentHeight","currentMarginTop","multiPlacements","isFirstCol","spanStart","spanEnd","forceHidden","excludeHidden","touchingEntryId","placeholderEntry","placeholderEntryId","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","isForced","updateSizing","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","cellMinHeight","prevState","currentProps","segPlacements","nodes","leftRightCss","isExternalSizingChange","frameEls","newPositionCache","oldInstanceHeights","newInstanceHeights","queryEventInstanceHeights","limitByContentHeight","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","placements","TableRows","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","renderRowIntro","isSegAllDay","firstCellEl","rowPositions","rowObj","colPositions","getCellRange","getCellEl","Table","needsScrollReset","limitViaBalanced","colGroupNode","requestScrollReset","flushScrollReset","subjectEl","getScrollSubjectEl","scrollEl","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","headerAlignElRef","buildDayTableRenderRange","snapToWeek","endOfWeek","lastMonthRenderStart","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","buildDayTableModel","headerContent","contentArg","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","origPageX","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","ctrlKey","onWindowTouchMove","ElementMirror","sourceEl","mirrorEl","sourceElRect","zIndex","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","boxSizing","margin","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","getEventTarget","ElementScrollGeomCache","WindowScrollGeomCache","performance","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","scrollCache","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","node","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","origPoint","adjustedPoint","subjectRect","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","componentId","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSpan0","dateSpan1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay","fixedMirrorParent","receivingOptions","computeEventMutation","displayDrag","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","massagers","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","OPTION_REFINERS","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents","getDragMetaFromEl","defProps","getEmbeddedElData","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","Draggable"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,36,37,38,39,40,41]}