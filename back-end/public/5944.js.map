{"version":3,"file":"5944.js","mappings":"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","sources":["./src/app/modules/gestao/atividade/atividade-dashboard/atividade-dashboard.component.ts","./src/app/modules/gestao/atividade/atividade-form-concluir/atividade-form-concluir.component.ts","./src/app/modules/gestao/atividade/atividade-form-concluir/atividade-form-concluir.component.html","./src/app/modules/gestao/atividade/atividade-form-iniciar/atividade-form-iniciar.component.ts","./src/app/modules/gestao/atividade/atividade-form-iniciar/atividade-form-iniciar.component.html","./src/app/modules/gestao/atividade/atividade-form-pausar/atividade-form-pausar.component.ts","./src/app/modules/gestao/atividade/atividade-form-pausar/atividade-form-pausar.component.html","./src/app/modules/gestao/atividade/atividade-form-prorrogar/atividade-form-prorrogar.component.ts","./src/app/modules/gestao/atividade/atividade-form-prorrogar/atividade-form-prorrogar.component.html","./src/app/modules/gestao/atividade/atividade-form-tarefa/atividade-form-tarefa.component.ts","./src/app/modules/gestao/atividade/atividade-form-tarefa/atividade-form-tarefa.component.html","./src/app/modules/gestao/atividade/atividade-form/atividade-form.component.ts","./src/app/modules/gestao/atividade/atividade-form/atividade-form.component.html","./src/app/modules/gestao/atividade/atividade-hierarquia/atividade-hierarquia.component.ts","./src/app/modules/gestao/atividade/atividade-hierarquia/atividade-hierarquia.component.html","./src/app/modules/gestao/atividade/atividade-list-kanban/atividade-list-kanban.component.ts","./src/app/modules/gestao/atividade/atividade-list-kanban/atividade-list-kanban.component.html","./src/app/modules/gestao/atividade/atividade-list-tarefa/atividade-list-tarefa.component.ts","./src/app/modules/gestao/atividade/atividade-list-tarefa/atividade-list-tarefa.component.html","./src/app/modules/gestao/atividade/atividade-list/atividade-list.component.ts","./src/app/modules/gestao/atividade/atividade-list/atividade-list.component.html","./src/app/modules/gestao/atividade/atividade-routing.module.ts","./src/app/modules/gestao/atividade/atividade.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, HostBinding, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { InputSwitchComponent } from 'src/app/components/input/input-switch/input-switch.component';\r\nimport { FormHelperService } from 'src/app/services/form-helper.service';\r\nimport { AtividadeListBase } from '../atividade-list-base';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ActivatedRouteSnapshot } from '@angular/router';\r\n\r\n\r\n@Component({\r\n  selector: 'atividade-dashboard',\r\n  templateUrl: './atividade-dashboard.component.html',\r\n  styleUrls: ['./atividade-dashboard.component.scss']\r\n})\r\nexport class AtividadeDashboardComponent extends AtividadeListBase implements OnInit {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild('programa', { static: false }) public programa?: InputSearchComponent;\r\n  @ViewChild('unidadesSubordinadas', { static: false }) public unidadesSubordinadas?: InputSwitchComponent;\r\n  @Input() snapshot?: ActivatedRouteSnapshot;\r\n  @Input() fixedFilter?: any[];\r\n\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    /* Inicializações */\r\n    //this.programaDao = injector.get<ProgramaDaoService>(ProgramaDaoService);\r\n    this.title = this.lex.translate(\"Atividades\");\r\n    this.code = \"MOD_DMD\";\r\n    this.fh = this.injector.get<FormHelperService>(FormHelperService);\r\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\r\n    this.filter = this.fh.FormBuilder({\r\n      programa_id: {default: \"\"},\r\n      unidadesSubordinadas: {default: false}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    /*if(controlName == 'programa_id' && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }*/\r\n    return result;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n  }\r\n\r\n}","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { SelectItem } from 'src/app/components/input/input-base';\r\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\r\nimport { Atividade } from 'src/app/models/atividade.model';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { CalendarService, Efemerides } from 'src/app/services/calendar.service';\r\nimport { InputButtonComponent } from 'src/app/components/input/input-button/input-button.component';\r\nimport { TipoDocumentoDaoService } from 'src/app/dao/tipo-documento-dao.service';\r\nimport { TipoAtividadeDaoService } from 'src/app/dao/tipo-atividade-dao.service';\r\nimport { TipoAtividade } from 'src/app/models/tipo-atividade.model';\r\nimport { Documento } from 'src/app/models/documento.model';\r\n\r\n@Component({\r\n  selector: 'app-atividade-form-concluir',\r\n  templateUrl: './atividade-form-concluir.component.html',\r\n  styleUrls: ['./atividade-form-concluir.component.scss']\r\n})\r\nexport class AtividadeFormConcluirComponent extends PageFormBase<Atividade, AtividadeDaoService> implements OnInit {\r\n  @ViewChild('tipoAtividade', { static: false }) public tipoAtividade?: InputSearchComponent;\r\n  @ViewChild('docEntregue', { static: false }) public docEntregue?: InputButtonComponent;\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n\r\n  public tipoAtividadeDao: TipoAtividadeDaoService;\r\n  public tipoDocumentoDao: TipoDocumentoDaoService;\r\n  public form: FormGroup;\r\n  public efemerides?: Efemerides;\r\n  public modalWidth: number = 800;\r\n  public calendar: CalendarService;\r\n  public entregas: LookupItem[] = [];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Atividade, AtividadeDaoService);\r\n    this.tipoAtividadeDao = injector.get<TipoAtividadeDaoService>(TipoAtividadeDaoService);\r\n    this.tipoDocumentoDao = injector.get<TipoDocumentoDaoService>(TipoDocumentoDaoService);\r\n    this.calendar = injector.get<CalendarService>(CalendarService);\r\n    this.title = 'Conclusão de ' + this.lex.translate('atividade');\r\n    this.form = this.fh.FormBuilder({\r\n      tipo_atividade_id: {default: null},\r\n      data_distribuicao: {default: null},\r\n      esforco: {default: 0},\r\n      progresso: {default: 0},\r\n      data_estipulada_entrega: {default: null},\r\n      data_inicio: {default: null},\r\n      tempo_despendido: {default: 0},\r\n      data_entrega: {default: null},\r\n      arquivar: {default: false},\r\n      descricao_tecnica: {default: \"\"},\r\n      documento_entrega: {default: new Documento()},\r\n      documento_entrega_id: {default: null},\r\n      plano_trabalho_entrega_id: {default: null}\r\n    }, this.cdRef, this.validate);\r\n    this.join = [\"plano_trabalho.tipo_modalidade\", \"unidade\", \"plano_trabalho.entregas.plano_entrega_entrega:id,descricao\"];\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n\r\n    if((controlName == \"plano_trabalho_entrega_id\" && !control.value?.length) || \r\n      (controlName == \"data_entrega\" && !this.util.isDataValid(control.value))) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    \r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: Atividade, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    formValue = this.util.fillForm(formValue, entity);\r\n    formValue.data_entrega = this.auth.hora;\r\n    formValue.progresso = 100;\r\n    await this.tipoAtividade!.loadSearch(entity.tipo_atividade || formValue.tipo_atividade_id);\r\n    if(entity.unidade_id != this.auth.unidade!.id) {\r\n      await this.auth.selecionaUnidade(entity.unidade_id);\r\n    }\r\n    this.entregas = entity.plano_trabalho?.entregas?.map(x => Object.assign({}, {\r\n      key: x.id,\r\n      value: x.descricao + (x.plano_entrega_entrega ? \" (\" + x.plano_entrega_entrega?.descricao + \")\" : \"\"),\r\n      data: x\r\n    })) || [];\r\n    formValue.arquivar = false;  \r\n    form.patchValue(formValue);\r\n    this.onDataEntregaChange();\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity = (await this.dao!.getAtividade(this.urlParams!.get(\"id\")!))!;\r\n    await this.loadData(this.entity, form);\r\n  }\r\n\r\n  public onDataEntregaChange(event?: Event) {\r\n    const entrega = this.form.controls.data_entrega.value;\r\n    const inicio = this.entity!.data_inicio!;\r\n    const cargaHoraria = this.entity!.carga_horaria;\r\n    const unidade = this.entity!.unidade!;\r\n    const pausas = this.entity!.pausas || [];\r\n    const afastamentos = this.entity!.usuario?.afastamentos || [];\r\n    this.efemerides = this.util.isDataValid(entrega) ? this.calendar.calculaDataTempoUnidade(inicio, entrega, cargaHoraria, unidade, \"ENTREGA\", pausas, afastamentos) : undefined;\r\n    if(this.efemerides) {\r\n      this.form.controls.tempo_despendido.setValue(this.efemerides.tempoUtil);\r\n      this.cdRef.detectChanges(); \r\n    } \r\n  }\r\n\r\n  public onTipoAtividadeSelect(item: SelectItem) {\r\n    const tipoAtividade: TipoAtividade | undefined = item.entity as TipoAtividade;\r\n    this.form.controls.esforco.setValue(tipoAtividade?.esforco || 0);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<boolean> {\r\n    return new Promise<boolean>((resolve, reject) => {\r\n      let atividade = this.util.fill(new Atividade(), this.entity!);\r\n      atividade = this.util.fillForm(atividade, this.form!.value);\r\n      atividade.id = this.entity!.id;\r\n      atividade.descricao_tecnica = this.form!.controls.descricao_tecnica.value;\r\n      atividade.data_arquivamento = this.form!.controls.arquivar.value ? new Date() : null;\r\n      atividade.progresso = this.form!.controls.progresso.value;\r\n      atividade.produtividade = this.entity?.plano_trabalho?.tipo_modalidade?.atividade_tempo_despendido ? this.calendar.produtividade(atividade.esforco, atividade.tempo_despendido) : null;\r\n      this.dao!.concluir(atividade).then(saved => resolve(saved)).catch(reject);\r\n    });\r\n  }\r\n\r\n}","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" initialFocus=\"tipo_atividade_id\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n  <documento-link [documento]=\"form!.controls.documento_entrega.value\"></documento-link>\r\n  <div class=\"row\">\r\n    <input-search [label]=\"'Tipo de' + lex.translate('Atividade')\" #tipoAtividade [emptyValue]=\"null\" [size]=\"5\" controlName=\"tipo_atividade_id\" [dao]=\"tipoAtividadeDao\" (select)=\"onTipoAtividadeSelect($event)\"></input-search>\r\n    <input-select [label]=\"lex.translate('Entrega do plano')\" [size]=\"5\" controlName=\"plano_trabalho_entrega_id\" #entrega [control]=\"form!.controls.plano_trabalho_entrega_id\" [items]=\"entregas\" [labelInfo]=\"lex.translate('Entrega do plano') + ' que a ' + lex.translate('atividade') + ' é referente'\" required></input-select>\r\n    <input-switch label=\"Arquivar\" [size]=\"2\" controlName=\"arquivar\" [control]=\"form!.controls.arquivar\" labelInfo=\"Arquivar automaticamente após a conclusão (Somente se o plano dispensar avaliação)\"></input-switch>\r\n  </div>\r\n  <!--div class=\"row\">\r\n    <input-textarea [size]=\"12\" [rows]=\"2\" label=\"Descrição técnica\" controlName=\"descricao_tecnica\" [control]=\"form!.controls.descricao_tecnica\"></input-textarea>\r\n  </div-->\r\n  <separator [title]=\"'Tarefa da ' + lex.translate('atividade')\" collapse [collapsed]=\"false\">\r\n    <atividade-list-tarefa persist [atividade]=\"entity\"></atividade-list-tarefa>\r\n  </separator>\r\n  <div *ngIf=\"!entity?.plano_trabalho?.tipo_modalidade?.atividade_esforco; else comEsforco\" class=\"row\">\r\n    <!--input-datetime noIcon [size]=\"4\" [label]=\"lex.translate('Distribuição')\" controlName=\"data_distribuicao\" [control]=\"form!.controls.data_distribuicao\" labelInfo=\"Data de inclusão/distribuição/lançamento\"></input-datetime-->\r\n    <input-number [size]=\"6\" [decimals]=\"2\" label=\"Progresso\" disabled sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso\" labelInfo=\"Progresso de execução (% Concluído). Sempre será 100% na conclusão!\"></input-number>\r\n    <input-datetime noIcon [size]=\"6\" [label]=\"lex.translate('Prazo de entrega')\" controlName=\"data_estipulada_entrega\" [control]=\"form!.controls.data_estipulada_entrega\" [labelInfo]=\"'Data estipulada para entrega da '+ lex.translate('atividade')\"></input-datetime>\r\n  </div>\r\n  <ng-template #comEsforco>\r\n    <div class=\"row\">\r\n      <!--input-datetime noIcon [size]=\"3\" disabled [label]=\"lex.translate('Distribuição')\" controlName=\"data_distribuicao\" [control]=\"form!.controls.data_distribuicao\" labelInfo=\"Data de inclusão/distribuição/lançamento\"></input-datetime-->\r\n      <input-timer [size]=\"4\" [label]=\"lex.translate('Esforço')\" icon=\"bi bi-stopwatch\" onlyHours controlName=\"esforco\" [control]=\"form!.controls.esforco\" labelInfo=\"Tempo estimado de execução\"></input-timer>\r\n      <input-number [size]=\"4\" [decimals]=\"2\" label=\"Progresso\" disabled sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso\" labelInfo=\"Progresso de execução (% Concluído). Sempre será 100% na conclusão!\"></input-number>\r\n      <input-datetime noIcon [size]=\"4\" disabled [label]=\"lex.translate('Prazo de entrega')\" controlName=\"data_estipulada_entrega\" [control]=\"form!.controls.data_estipulada_entrega\" [labelInfo]=\"'Data estipulada para entrega da '+ lex.translate('atividade')\"></input-datetime>\r\n    </div>\r\n  </ng-template>\r\n  <separator title=\"Conclusão\">\r\n    <div *ngIf=\"!entity?.plano_trabalho?.tipo_modalidade?.atividade_tempo_despendido; else comTempoDespendido\" class=\"row\">\r\n      <input-datetime noIcon [size]=\"6\" label=\"Inicio\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" disabled [labelInfo]=\"'Data em que o usuário iniciou a '+ lex.translate('atividade')\"></input-datetime>\r\n      <input-datetime noIcon [size]=\"6\" label=\"Conclusão\" controlName=\"data_entrega\" [control]=\"form!.controls.data_entrega\" (change)=\"onDataEntregaChange($event)\" [labelInfo]=\"'Data da conclusão da '+ lex.translate('atividade')\" required></input-datetime>\r\n      <!--input-datetime [size]=\"4\" label=\"Data de arquivamento\" controlName=\"data_arquivamento\" [control]=\"form!.controls.data_inicio\" disabled [labelInfo]=\"'Data de arquivamento da '+ lex.translate('atividade')\"></input-datetime-->\r\n    </div>\r\n    <ng-template #comTempoDespendido>\r\n      <div class=\"row\">\r\n        <input-datetime noIcon [size]=\"4\" label=\"Inicio\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" disabled [labelInfo]=\"'Data em que o usuário iniciou a '+ lex.translate('atividade')\"></input-datetime>\r\n        <input-datetime noIcon [size]=\"4\" label=\"Conclusão\" controlName=\"data_entrega\" [control]=\"form!.controls.data_entrega\" (change)=\"onDataEntregaChange($event)\" [labelInfo]=\"'Data da conclusão da '+ lex.translate('atividade')\"></input-datetime>\r\n        <input-timer [size]=\"4\" label=\"Tempo despendido\" icon=\"bi bi-hourglass-bottom\" controlName=\"tempo_despendido\" [control]=\"form!.controls.tempo_despendido\" disabled [labelInfo]=\"'Calculado no fim da '+ lex.translate('atividade')+', sendo o tempo líquido (considerando pausas)'\"></input-timer>\r\n        <!--input-datetime [size]=\"3\" label=\"Data de arquivamento\" controlName=\"data_arquivamento\" [control]=\"form!.controls.data_inicio\" disabled [labelInfo]=\"'Data de arquivamento da '+ lex.translate('atividade')\"></input-datetime-->\r\n      </div>\r\n    </ng-template>\r\n    <documento-link [documento]=\"form!.controls.documento_entrega.value\"></documento-link>\r\n  </separator>\r\n  <separator *ngIf=\"efemerides && entity?.plano_trabalho?.tipo_modalidade?.atividade_tempo_despendido\" title=\"Cálculos das horas\" collapse>\r\n    <calendar-efemerides [efemerides]=\"efemerides\"></calendar-efemerides>\r\n  </separator>\r\n</editable-form>","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Atividade } from 'src/app/models/atividade.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { SelectItem } from 'src/app/components/input/input-base';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { CalendarService } from 'src/app/services/calendar.service';\r\nimport { InputTimerComponent } from 'src/app/components/input/input-timer/input-timer.component';\r\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\r\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\r\n\r\n@Component({\r\n  selector: 'app-atividade-form-iniciar',\r\n  templateUrl: './atividade-form-iniciar.component.html',\r\n  styleUrls: ['./atividade-form-iniciar.component.scss']\r\n})\r\nexport class AtividadeFormIniciarComponent extends PageFormBase<Atividade, AtividadeDaoService> implements OnInit {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\r\n  @ViewChild('planoTrabalho', { static: false }) public planoTrabalho?: InputSelectComponent;\r\n  @ViewChild('planejado', { static: false }) public planejado?: InputTimerComponent;\r\n  \r\n  public usuarioDao: UsuarioDaoService;\r\n  public planoTrabalhoDao: PlanoTrabalhoDaoService;\r\n  public calendar: CalendarService;\r\n  public form: FormGroup;\r\n  public modalWidth: number = 600;\r\n  public iniciadas: string[] = []; \r\n  public planoTrabalhoSelecionado?: PlanoTrabalho | null = null;\r\n  public planosTrabalhos: LookupItem[] = [];\r\n  public planosTrabalhosEntregas: LookupItem[] = [];\r\n  public planoTrabalhoJoin: string[] = [\"entregas.plano_entrega_entrega:id,descricao\", \"tipo_modalidade:id,nome\"];\r\n  public get labelInfoSuspender(): string {\r\n    const n = this.iniciadas.length > 1 ? this.lex.translate(\"tarefas\"): this.lex.translate(\"tarefa\");\r\n    const s = this.iniciadas.length == 1 ? \"\" : \"s\";\r\n    const q = this.iniciadas.length == 1 ? \"\" : \" \" + this.iniciadas.length.toString();\r\n    return this.iniciadas.length ? `Suspender a${s}${q} ${n} já iniciada${s}?` : \"Não há outras atividades iniciadas pelo usuário!\";\r\n  }\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Atividade, AtividadeDaoService);\r\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\r\n    this.calendar = injector.get<CalendarService>(CalendarService);\r\n    this.form = this.fh.FormBuilder({\r\n      usuario_id: {default: undefined},\r\n      plano_trabalho_id: {default: undefined},\r\n      plano_trabalho_entrega_id: {default: undefined},\r\n      data_distribuicao: {default: new Date()},\r\n      data_estipulada_entrega: {default: new Date()},\r\n      carga_horaria: {default: 0},\r\n      tempo_planejado: {default: 0},\r\n      esforco: {default: 0},\r\n      data_inicio: {default: null},\r\n      suspender: {default: false}\r\n    }, this.cdRef, this.validate);\r\n    this.join = [\"unidade\", \"atividade\", \"usuario.planos_trabalho.tipo_modalidade\"];\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n\r\n    if([\"usuario_id\", \"plano_trabalho_id\", \"plano_trabalho_entrega_id\"].includes(controlName) && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    } else if(controlName == \"data_inicio\" && !control.value){\r\n      result = \"Obrigatório\";\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  public formValidation = (form?: FormGroup) => {\r\n    let result = undefined;\r\n    /* (RN_ATV_6) Somente será permitido iniciar a atividade dentro do período do plano de trabalho. */\r\n    if(this.planoTrabalhoSelecionado && (this.util.asTimestamp(this.form.controls.data_inicio.value) < this.util.asTimestamp(this.planoTrabalhoSelecionado.data_inicio) || this.util.asTimestamp(this.form.controls.data_inicio.value) > this.util.asTimestamp(this.planoTrabalhoSelecionado.data_fim))) {\r\n      result = \"Data de início fora do período do plano de trabalho (\" + this.util.getDateFormatted(this.planoTrabalhoSelecionado.data_inicio) + \" até \" + this.util.getDateFormatted(this.planoTrabalhoSelecionado.data_fim) + \") [RN_ATV_6]\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public loadIniciadas(usuario_id?: string) {\r\n    this.iniciadas = [];\r\n    if(usuario_id?.length) {\r\n      this.dao!.iniciadas(usuario_id).then(idsIniciadas => {\r\n        this.iniciadas = idsIniciadas;\r\n        this.cdRef.detectChanges();\r\n      });\r\n    }\r\n  }\r\n\r\n  public onUsuarioSelect(item: SelectItem) {\r\n    const usuario: Usuario | undefined = item.entity as Usuario;\r\n    const planosTrabalhos = usuario?.planos_trabalho || [];\r\n    this.planosTrabalhos = planosTrabalhos.filter(x => x.unidade_id == this.entity!.unidade_id).map(x => {\r\n      return {\r\n        key: x.id,\r\n        value: (x.tipo_modalidade?.nome || \"\") + \" - \" + this.dao!.getDateFormatted(x.data_inicio)+ \" à \" + this.dao!.getDateFormatted(x.data_fim),\r\n        data: x\r\n      };\r\n    });\r\n    this.cdRef.detectChanges();\r\n    if(!this.form.controls.plano_trabalho_id.value?.length && this.planosTrabalhos.length == 1) {\r\n      this.form.controls.plano_trabalho_id.setValue(this.planosTrabalhos[0].key);\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onPlanoChange(event: Event) {\r\n    (async () => {\r\n      if(this.entity && this.planoTrabalho?.selectedItem?.data) {\r\n        const planoTrabalho = this.planoTrabalho?.selectedItem?.data as PlanoTrabalho;\r\n        if(this.planoTrabalhoSelecionado?.id != planoTrabalho.id) {\r\n          this.planoTrabalhoSelecionado = await this.planoTrabalhoDao.getById(planoTrabalho.id, this.planoTrabalhoJoin);\r\n        }\r\n        const cargaHoraria = planoTrabalho?.carga_horaria || this.calendar.expedienteMedio(this.entity!.unidade);\r\n        const tempo_planejado = this.calendar.horasUteis(this.form.controls.data_distribuicao.value, this.form.controls.data_estipulada_entrega.value, cargaHoraria, this.entity!.unidade!, \"DISTRIBUICAO\");\r\n        this.form.controls.carga_horaria.setValue(cargaHoraria);\r\n        this.form.controls.tempo_planejado.setValue(tempo_planejado);\r\n        this.form.controls.esforco.setValue(this.form.controls.esforco.value || this.entity?.tipo_atividade?.esforco || 0);\r\n        /* Carrega entregas */\r\n        const planoTrabalhoEntregaId = this.form.controls.plano_trabalho_entrega_id.value;\r\n        this.planosTrabalhosEntregas = this.planoTrabalhoSelecionado?.entregas?.map(x => Object.assign({}, {\r\n          key: x.id,\r\n          value: x.descricao + (x.plano_entrega_entrega ? \" (\" + x.plano_entrega_entrega?.descricao + \")\" : \"\"),\r\n          data: x\r\n        })) || [];\r\n        this.cdRef.detectChanges();\r\n        this.form.controls.plano_trabalho_entrega_id.setValue(!planoTrabalhoEntregaId?.length && this.planosTrabalhos.length > 0 ? this.planosTrabalhos[0].key : planoTrabalhoEntregaId);\r\n      }\r\n    })();\r\n  }\r\n\r\n  public async loadData(entity: Atividade, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    formValue = this.util.fillForm(formValue, entity);\r\n    if(!formValue.usuario_id?.length) {\r\n      formValue.usuario_id = this.auth.usuario?.id;\r\n    }\r\n    formValue.data_inicio = formValue.data_inicio || this.util.setStrTime(new Date(), this.auth.unidadeHora);\r\n    await this.usuario!.loadSearch(entity.usuario || formValue.usuario_id);\r\n    this.loadIniciadas(formValue.usuario_id);\r\n    if(entity.unidade_id != this.auth.unidade!.id) {\r\n      await this.auth.selecionaUnidade(entity.unidade_id);\r\n    }\r\n    form.patchValue(formValue);\r\n    this.onPlanoChange(new Event('change'));\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity = (await this.dao!.getById(this.urlParams!.get(\"id\")!, this.join))!;\r\n    await this.loadData(this.entity, form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<boolean> {\r\n    return new Promise<boolean>((resolve, reject) => {\r\n      let atividade = this.util.fill(new Atividade(), this.entity!);\r\n      atividade = this.util.fillForm(atividade, this.form!.value);\r\n      atividade.id = this.entity!.id;\r\n      atividade.suspender = this.form!.controls.suspender.value;\r\n      this.dao!.iniciar(atividade).then(saved => resolve(saved)).catch(reject);\r\n    });\r\n  }\r\n\r\n}\r\n\r\n\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" initialFocus=\"data_distribuicao\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div class=\"row\">\r\n        <input-datetime [size]=\"6\" [label]=\"lex.translate('Data de distribuição')\" controlName=\"data_distribuicao\" [control]=\"form!.controls.data_distribuicao\" disabled labelInfo=\"Data de cadastro da atividade\"></input-datetime>\r\n        <input-datetime [size]=\"6\" [label]=\"lex.translate('Prazo de entrega')\" controlName=\"data_estipulada_entrega\" [control]=\"form!.controls.data_estipulada_entrega\" disabled labelInfo=\"Data estipulada para entrega da atividade\"></input-datetime>\r\n    </div>\r\n    <separator></separator>\r\n    <div class=\"row\">\r\n        <input-search label=\"Responsável\" #usuario [size]=\"12\" controlName=\"usuario_id\" [dao]=\"usuarioDao\" [join]=\"['planos_trabalho.tipo_modalidade:id,nome', 'planos_trabalho.entregas.entrega:id,nome']\" labelInfo=\"Responsável por executar a atividade\" (select)=\"onUsuarioSelect($event)\" required></input-search>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-select [label]=\"lex.translate('Plano de trabalho')\" [size]=\"7\" controlName=\"plano_trabalho_id\" #planoTrabalho [control]=\"form!.controls.plano_trabalho_id\" [items]=\"planosTrabalhos\" (change)=\"onPlanoChange($event)\" [labelInfo]=\"lex.translate('Plano de trabalho')\" required></input-select>\r\n        <input-select [label]=\"lex.translate('Entrega do plano')\" [size]=\"5\" controlName=\"plano_trabalho_entrega_id\" #entrega [control]=\"form!.controls.plano_trabalho_entrega_id\" [items]=\"planosTrabalhosEntregas\" [labelInfo]=\"lex.translate('Entrega') + ' do ' + lex.translate('plano de trabalho') + ' que a ' + lex.translate('atividade') + ' é referente'\" required></input-select>\r\n    </div>\r\n    <separator></separator>\r\n    <div class=\"row\">\r\n        <input-datetime [size]=\"6\" label=\"Inicio\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" labelInfo=\"Data em que o usuário iniciou a atividade\" required></input-datetime>\r\n        <input-switch label=\"Suspender as demais\" [size]=\"6\" controlName=\"suspender\" [control]=\"form!.controls.suspender\" [disabled]=\"!iniciadas.length ? '' : undefined\" [labelInfo]=\"labelInfoSuspender\"></input-switch>\r\n    </div>\r\n</editable-form>\r\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Atividade } from 'src/app/models/atividade.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\n\r\n@Component({\r\n  selector: 'app-atividade-form-pausar',\r\n  templateUrl: './atividade-form-pausar.component.html',\r\n  styleUrls: ['./atividade-form-pausar.component.scss']\r\n})\r\nexport class AtividadeFormPausarComponent extends PageFormBase<Atividade, AtividadeDaoService> implements OnInit {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  \r\n  public form: FormGroup;\r\n  public reiniciar: boolean = false;\r\n  public modalWidth: number = 400;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Atividade, AtividadeDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      data_inicio: {default: undefined},\r\n      data: {default: new Date()}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    let pausado = this.entity?.pausas?.find(x => !x.data_fim);\r\n\r\n    if(controlName == \"data\") {\r\n      if(this.reiniciar && !pausado) {\r\n        result = \"Não á pausa!\"; \r\n      } else if(!this.util.isDataValid(control.value)) {\r\n        result = \"Obrigatório\";\r\n      } else if(pausado && this.entity && (control.value as Date).getTime() < this.entity!.data_inicio!.getTime()) {\r\n        result = \"Menor que início!\";\r\n      } \r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.reiniciar = !!this.queryParams?.reiniciar;\r\n    this.title = this.reiniciar ? \"Reiniciar\" : \"Suspender\";\r\n    super.ngAfterViewInit();\r\n  }\r\n\r\n  public async loadData(entity: Atividade, form: FormGroup) {\r\n    //this.reiniciar = !!this.queryParams?.reiniciar;\r\n    let pausado = this.entity?.pausas?.find(x => !x.data_fim);\r\n    if(this.reiniciar && !pausado) {\r\n      this.error(\"Não há pausa ativa para ser reiniciada.\");\r\n    }\r\n    let formValue = {\r\n      inicio: this.reiniciar ? pausado?.data_inicio : undefined, \r\n      data: this.util.setStrTime(new Date(), this.auth.unidadeHora)\r\n    };\r\n    if(entity.unidade_id != this.auth.unidade!.id) {\r\n      await this.auth.selecionaUnidade(entity.unidade_id);\r\n    }\r\n    form.patchValue(formValue);\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity = (await this.dao!.getAtividade(this.urlParams!.get(\"id\")!))!;\r\n    await this.loadData(this.entity, form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<boolean> {\r\n    return new Promise<boolean>((resolve, reject) => {\r\n      let pausa = {\r\n        atividade_id: this.entity!.id,\r\n        data: this.form.controls.data.value \r\n      };\r\n      if(this.reiniciar) {\r\n        this.dao!.reiniciar(pausa).then(saved => resolve(saved)).catch(reject);\r\n      } else {\r\n        this.dao!.pausar(pausa).then(saved => resolve(saved)).catch(reject);\r\n      }\r\n    });\r\n  }\r\n\r\n}","<top-alert *ngIf=\"!reiniciar\" type=\"warning\" message=\"Dica: Não é necessário suspender a tarefa entre as jornadas de trabalho!\"></top-alert>\r\n<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" initialFocus=\"data\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div *ngIf=\"reiniciar\" class=\"row\">\r\n        <input-datetime [size]=\"12\" label=\"Início da pausa\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" disabled labelInfo=\"Data de início da última pausa\"></input-datetime>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-datetime [size]=\"12\" [label]=\"reiniciar ? 'Data de reinício' : 'Data da pausa'\" controlName=\"data\" [control]=\"form!.controls.data\" [labelInfo]=\"reiniciar ? 'Data e hora do reinício da atividade' : 'Data e hora do início da pausa/suspensão'\" required></input-datetime>\r\n    </div>\r\n</editable-form>\r\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Atividade } from 'src/app/models/atividade.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\n\r\n@Component({\r\n  selector: 'app-atividade-form-prorrogar',\r\n  templateUrl: './atividade-form-prorrogar.component.html',\r\n  styleUrls: ['./atividade-form-prorrogar.component.scss']\r\n})\r\nexport class AtividadeFormProrrogarComponent extends PageFormBase<Atividade, AtividadeDaoService> implements OnInit {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  \r\n  public form: FormGroup;\r\n  public modalWidth: number = 400;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Atividade, AtividadeDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      data_distribuicao: {default: new Date()},\r\n      data_estipulada_entrega: {default: new Date()}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n\r\n    if(controlName == \"data_estipulada_entrega\") {\r\n      if(!this.util.isDataValid(control.value)) {\r\n        result = \"Obrigatório\";\r\n      } else if(this.entity?.data_distribuicao && (control.value as Date).getTime() < this.entity!.data_distribuicao!.getTime()) {\r\n        result = \"Menor que distribuição!\";\r\n      } \r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: Atividade, form: FormGroup) {\r\n    let formValue = {\r\n      data_distribuicao: entity.data_distribuicao, \r\n      data_estipulada_entrega: entity.data_estipulada_entrega \r\n    };\r\n    if(entity.unidade_id != this.auth.unidade!.id) {\r\n      await this.auth.selecionaUnidade(entity.unidade_id);\r\n    }\r\n    form.patchValue(formValue);\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity = (await this.dao!.getAtividade(this.urlParams!.get(\"id\")!))!;\r\n    await this.loadData(this.entity, form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<boolean> {\r\n    return new Promise<boolean>((resolve, reject) => {\r\n      let prorrogar = {\r\n        id: this.entity!.id,\r\n        data_estipulada_entrega: this.form.controls.data_estipulada_entrega.value \r\n      };\r\n      this.dao!.prorrogar(prorrogar).then(saved => resolve(saved)).catch(reject);\r\n    });\r\n  }\r\n\r\n}","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" initialFocus=\"data_estipulada_entrega\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div class=\"row\">\r\n        <input-datetime [size]=\"12\" label=\"Data da distribuição\" controlName=\"data_distribuicao\" [control]=\"form!.controls.data_distribuicao\" disabled labelInfo=\"Data de distribuição da atividade\"></input-datetime>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-datetime [size]=\"12\" [label]=\"lex.translate('Prazo de entrega')\" controlName=\"data_estipulada_entrega\" [control]=\"form!.controls.data_estipulada_entrega\" labelInfo=\"Prazo para entrega da atividade\" required></input-datetime>\r\n    </div>\r\n</editable-form>\r\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Atividade } from 'src/app/models/atividade.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\r\nimport { TipoDocumentoDaoService } from 'src/app/dao/tipo-documento-dao.service';\r\nimport { TipoTarefaDaoService } from 'src/app/dao/tipo-tarefa-dao.service';\r\nimport { AtividadeTarefaDaoService } from 'src/app/dao/atividade-tarefa-dao.service';\r\nimport { AtividadeTarefa } from 'src/app/models/atividade-tarefa.model';\r\nimport { TipoProcessoDaoService } from 'src/app/dao/tipo-processo-dao.service';\r\nimport { NavigateResult } from 'src/app/services/navigate.service';\r\nimport { SelectItem } from 'src/app/components/input/input-base';\r\nimport { TipoTarefa } from 'src/app/models/tipo-tarefa.model';\r\nimport { SeiKeys } from 'src/app/listeners/procedimento-trabalhar/procedimento-trabalhar.component';\r\nimport { ComentarioService } from 'src/app/services/comentario.service';\r\nimport { ComentariosComponent } from 'src/app/modules/uteis/comentarios/comentarios.component';\r\nimport { DocumentosLinkComponent } from 'src/app/modules/uteis/documentos/documentos-link/documentos-link.component';\r\n\r\n@Component({\r\n  selector: 'app-atividade-form-tarefa',\r\n  templateUrl: './atividade-form-tarefa.component.html',\r\n  styleUrls: ['./atividade-form-tarefa.component.scss']\r\n})\r\nexport class AtividadeFormTarefaComponent extends PageFormBase<AtividadeTarefa, AtividadeTarefaDaoService> implements OnInit {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('documento', { static: false }) public documento?: DocumentosLinkComponent;\r\n  @ViewChild('comentarios', { static: false }) public comentarios?: ComentariosComponent;\r\n  @ViewChild('tipoTarefa', { static: false }) public tipoTarefa?: InputSearchComponent;\r\n\r\n  public tipoTarefaDao: TipoTarefaDaoService;\r\n  public tipoDocumentoDao: TipoDocumentoDaoService;\r\n  public tipoProcessoDao: TipoProcessoDaoService;\r\n  public atividade?: Atividade;\r\n  public sei?: SeiKeys;\r\n  public allPages: ListenerAllPagesService;\r\n  public comentario: ComentarioService;\r\n  public form: FormGroup;\r\n  public modalWidth: number = 800;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, AtividadeTarefa, AtividadeTarefaDaoService);\r\n    this.tipoTarefaDao = injector.get<TipoTarefaDaoService>(TipoTarefaDaoService);\r\n    this.tipoDocumentoDao = injector.get<TipoDocumentoDaoService>(TipoDocumentoDaoService);\r\n    this.tipoProcessoDao = injector.get<TipoProcessoDaoService>(TipoProcessoDaoService);\r\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\r\n    this.comentario = injector.get<ComentarioService>(ComentarioService);\r\n    this.title = this.lex.translate(\"Tarefa da atividade\");\r\n    this.form = this.fh.FormBuilder({\r\n      descricao: {default: \"\"},\r\n      tipo_tarefa_id: {default: null},\r\n      tempo_estimado: {default: 0},\r\n      concluido: {default: true},\r\n      id_processo: {default: 0},\r\n      numero_processo: {default: \"\"},\r\n      documento: {default: null},\r\n      comentarios: {default: []}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if([\"descricao\"].includes(controlName) && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public formValidation = (form?: FormGroup) => {\r\n    const values = form!.value;\r\n    if(values.tipo_tarefa_id?.length && !this.tipoTarefa?.selectedEntity) {\r\n      return \"Aguarde o carregamento \" + this.lex.translate(\"tipo de tarefa\") + \". Caso demore, selecione novamente!\";\r\n    }\r\n    if(values.concluido && (this.tipoTarefa?.selectedEntity as TipoTarefa)?.documental && this.documento?.isEmpty()) {\r\n      return this.gb.isEmbedded ? \"Obrigatório selecionar um arquivo para a tarefa selecionada!\" : \"Utilize o sistema como extensão para concluir!\";\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n    const segment = (this.url ? this.url[this.url.length-1]?.path : \"\") || \"\";\r\n    this.action = segment == \"comentar\" ? segment : this.action;\r\n  }\r\n\r\n  public async loadData(entity: AtividadeTarefa, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    formValue = this.util.fillForm(formValue, entity);\r\n    await this.tipoTarefa?.loadSearch(entity.tipo_tarefa || formValue.tipo_tarefa_id);\r\n    //formValue.concluido = !!entity.data_conclusao;\r\n    formValue.comentarios = this.comentario.orderComentarios(formValue.comentarios || []);\r\n    form.patchValue(formValue);\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity = this.metadata.tarefa;\r\n    this.atividade = this.metadata.atividade;\r\n    this.sei = this.metadata.sei;\r\n    await this.loadData(this.entity!, form);\r\n  }\r\n\r\n  public async saveData(form: IIndexable) {\r\n    this.comentarios?.confirm();\r\n    this.util.fillForm(this.entity, this.form!.value);\r\n    this.entity!.tipo_tarefa = this.tipoTarefa?.selectedEntity;\r\n    this.entity!.data_conclusao = this.form!.controls.concluido.value && !this.entity!.data_conclusao ? this.auth.hora : this.entity!.data_conclusao;\r\n    return new NavigateResult(this.entity);\r\n  }\r\n\r\n  public onTipoTarefaSelect(item: SelectItem) {\r\n    const tipoTarefa: TipoTarefa | undefined = item.entity as TipoTarefa;\r\n    this.form!.controls.tempo_estimado.setValue(tipoTarefa?.tempo_estimado || 0);\r\n  }\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" initialFocus=\"descricao\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right [title]=\"!isModal ? title : ''\">\r\n        <tab key=\"TAREFA\" [label]=\"lex.translate('Tarefa da Atividade')\">\r\n            <div class=\"row\">\r\n                <input-textarea label=\"Descrição\" [size]=\"12\" [rows]=\"2\" controlName=\"descricao\" [control]=\"form!.controls.descricao\" required></input-textarea>\r\n            </div>\r\n            <div class=\"row\">\r\n                <input-search [label]=\"lex.translate('Tipo de Tarefa')\" #tipoTarefa [size]=\"10\" controlName=\"tipo_tarefa_id\" [control]=\"form!.controls.tipo_tarefa_id\" [dao]=\"tipoTarefaDao\" (select)=\"onTipoTarefaSelect($event)\"></input-search>\r\n                <!--<input-timer onlyHours label=\"Tempo estimado\" [size]=\"3\" controlName=\"tempo_estimado\" [control]=\"form!.controls.tempo_estimado\" labelInfo=\"Tempo estimado de execução\"></input-timer>-->\r\n                <input-switch label=\"Concluído\" [size]=\"2\" controlName=\"concluido\" [control]=\"form!.controls.concluido\" labelInfo=\"Se foi concluída\"></input-switch>\r\n            </div>\r\n            <documento-link #documento [sei]=\"sei\" [documento]=\"form!.controls.documento.value\"></documento-link>\r\n        </tab>\r\n        <tab key=\"COMENTARIOS\" label=\"Comentarios\">\r\n            <div clss=\"row\">\r\n                <comentarios #comentarios origem=\"ATIVIDADE_TAREFA\" [control]=\"form!.controls.comentarios\"></comentarios>\r\n            </div>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>\r\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Atividade, Checklist } from 'src/app/models/atividade.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { SelectItem } from 'src/app/components/input/input-base';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { CalendarService } from 'src/app/services/calendar.service';\r\nimport { Comentario } from 'src/app/models/comentario';\r\nimport { AtividadeTarefa } from 'src/app/models/atividade-tarefa.model';\r\nimport { ComentarioService } from 'src/app/services/comentario.service';\r\nimport { ComentariosComponent } from 'src/app/modules/uteis/comentarios/comentarios.component';\r\nimport { TipoAtividadeDaoService } from 'src/app/dao/tipo-atividade-dao.service';\r\nimport { Documento } from 'src/app/models/documento.model';\r\nimport { AtividadePausa } from 'src/app/models/atividade-pausa.model';\r\nimport { TipoAtividade } from 'src/app/models/tipo-atividade.model';\r\nimport { SeiKeys } from 'src/app/listeners/procedimento-trabalhar/procedimento-trabalhar.component';\r\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\r\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\r\nimport { AtividadeService } from '../atividade.service';\r\nimport { DocumentosLinkComponent } from 'src/app/modules/uteis/documentos/documentos-link/documentos-link.component';\r\nimport { UnidadeService } from 'src/app/services/unidade.service';\r\n\r\n@Component({\r\n  selector: 'app-atividade-form',\r\n  templateUrl: './atividade-form.component.html',\r\n  styleUrls: ['./atividade-form.component.scss']\r\n})\r\nexport class AtividadeFormComponent extends PageFormBase<Atividade, AtividadeDaoService> implements OnInit {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('etiqueta', { static: false }) public etiqueta?: InputSelectComponent;\r\n  @ViewChild('tipoAtividade', { static: false }) public tipoAtividade?: InputSearchComponent;\r\n  @ViewChild('planoTrabalho', { static: false }) public planoTrabalho?: InputSelectComponent;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\r\n  @ViewChild('comentarios', { static: false }) public comentarios?: ComentariosComponent;\r\n  @ViewChild('requisicao', { static: false }) public requisicao?: DocumentosLinkComponent;\r\n\r\n  public sei?: SeiKeys;\r\n  public form: FormGroup;\r\n  public formChecklist: FormGroup;\r\n  public planoTrabalhoDao: PlanoTrabalhoDaoService;\r\n  public tipoAtividadeDao: TipoAtividadeDaoService;\r\n  public atividadeService: AtividadeService;\r\n  public unidadeService: UnidadeService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public usuarioDao: UsuarioDaoService;\r\n  public calendar: CalendarService;\r\n  public comentario: ComentarioService;\r\n  public etiquetas: LookupItem[] = [];\r\n  public checklist: Checklist[] = [];//public checklist: LookupItem[] = [];\r\n  public planosTrabalhos: LookupItem[] = [];\r\n  public planoTrabalhoJoin: string[] = [\"entregas.plano_entrega_entrega:id,descricao\", \"tipo_modalidade:id,nome\"];\r\n  public planoTrabalhoSelecionado?: PlanoTrabalho | null = null;\r\n  public usuarioJoin: string[] = ['planos_trabalho.entregas.plano_entrega_entrega:id,descricao', 'planos_trabalho.tipo_modalidade:id,nome'];\r\n  public entregas: LookupItem[] = [];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Atividade, AtividadeDaoService);\r\n    const horaInicial = this.auth.hora;\r\n    this.tipoAtividadeDao = injector.get<TipoAtividadeDaoService>(TipoAtividadeDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\r\n    this.atividadeService = injector.get<AtividadeService>(AtividadeService);\r\n    this.unidadeService = injector.get<UnidadeService>(UnidadeService);\r\n    this.calendar = injector.get<CalendarService>(CalendarService);\r\n    this.comentario = injector.get<ComentarioService>(ComentarioService);\r\n    this.title = \"Inclusão de \" + this.lex.translate('Atividade');\r\n    this.form = this.fh.FormBuilder({\r\n      numero: {default: 0},\r\n      descricao: {default: \"\"},\r\n      data_distribuicao: {default: horaInicial},\r\n      carga_horaria: {default: 0},\r\n      tempo_planejado: {default: 0},\r\n      data_estipulada_entrega: {default: horaInicial},\r\n      data_inicio: {default: null},\r\n      data_entrega: {default: null},\r\n      esforco: {default: 0},\r\n      tempo_despendido: {default: 0},\r\n      data_arquivamento: {default: null},\r\n      etiquetas: {default: []},\r\n      checklist: {default: []},\r\n      prioridade: {default: 0},\r\n      progresso: {default: 0},\r\n      plano_trabalho_id: {default: null},\r\n      plano_trabalho_entrega_id: {default: null},\r\n      tipo_atividade_id: {default: null},\r\n      demandante_id: {default: \"\"},\r\n      usuario_id: {default: null},\r\n      unidade_id: {default: \"\"},\r\n      documento_requisicao_id: {default: null},\r\n      documento_entrega_id: {default: null},\r\n      comentarios: {default: []},\r\n      pausas: {default: []},\r\n      etiqueta: {default: \"\"},\r\n      tarefas: {default: []},\r\n      iniciado: {default: false},\r\n      concluido: {default: false},\r\n      documento_requisicao: {default: undefined},\r\n      documento_entrega: {default: undefined}\r\n    }, this.cdRef, this.validate);\r\n    this.formChecklist = this.fh.FormBuilder({\r\n      id: {default: \"\"},\r\n      texto: {default: \"\"},\r\n      checked: {default: false}\r\n    }, this.cdRef, this.validateChecklist);\r\n    this.join = [\r\n      \"usuario.planos_trabalho.tipo_modalidade:id,nome\", \r\n      \"pausas\", \r\n      \"tipo_atividade\", \r\n      \"unidade\", \r\n      \"comentarios.usuario\", \r\n      \"tarefas.tipo_tarefa\", \r\n      \"tarefas.comentarios.usuario\", \r\n      \"documento_requisicao\", \r\n      \"documento_entrega\"\r\n    ];\r\n  }\r\n//\"usuario.planos_trabalho.entregas.plano_entrega_entrega:id,descricao\", \r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n    const segment = (this.url ? this.url[this.url.length-1]?.path : \"\") || \"\";\r\n    this.action = [\"comentar\", \"clonar\"].includes(segment) ? segment : this.action;\r\n  }\r\n\r\n  public get isClonar(): boolean {\r\n    return this.action == \"clonar\";\r\n  }\r\n\r\n  public get titleAtividade(): string {\r\n    return this.form?.controls.numero?.value ? \"#\" + this.form?.controls.numero?.value : \"\";\r\n  }\r\n\r\n  public validateChecklist = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    return result;\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if([\"unidade_id\", \"descricao\"].includes(controlName) && !control?.value?.length) {\r\n      result = \"Obrigatório\";\r\n    } else if(controlName == \"tipo_atividade_id\" && !control?.value?.length && !this.auth.hasPermissionTo(\"MOD_ATV_TIPO_ATV_VAZIO\")) {\r\n      result = \"Obrigatório\";\r\n    } else if([\"data_distribuicao\", \"data_estipulada_entrega\"].includes(controlName)) {\r\n      let prazoEntrega = this.form?.controls.data_estipulada_entrega?.value;\r\n      let dataDistribuicao = this.form?.controls.data_distribuicao?.value;\r\n      if (!this.util.isDataValid(control.value)) {\r\n        result = \"Data inválida\";\r\n      } else if(controlName == \"data_distribuicao\" && control.value && this.util.isDataValid(prazoEntrega) && control.value.getTime() > prazoEntrega.getTime()) {\r\n        result = \"Maior que entrega\";\r\n      } else if(controlName == \"data_estipulada_entrega\" && control.value && this.util.isDataValid(dataDistribuicao) && control.value.getTime() < dataDistribuicao.getTime()) {\r\n        result = \"Menor que distribuição\";\r\n      }\r\n    } else if(controlName == \"plano_trabalho_id\" && !control.value?.length && this.form?.controls?.usuario_id.value?.length) {\r\n      result = \"Obrigatório\";\r\n    } else if(controlName == \"plano_trabalho_entrega_id\") {\r\n      if(this.form?.controls?.plano_trabalho_id.value?.length && !control.value?.length) {\r\n        result = \"Obrigatório\";\r\n      } else if(control.value?.length && !this.entregas.find(x => x.key == control.value)) {\r\n        result = \"Selecione\";\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public formValidation = (form?: FormGroup) => {\r\n    let result = undefined;\r\n    this.loadEtiquetas();\r\n    if (this.form.controls.tipo_atividade_id.value) {\r\n      let checkAtividade = this.tipoAtividade?.selectedEntity.checklist;\r\n      if (checkAtividade && this.form.controls.checklist.value.length == checkAtividade.length) this.loadChecklist();// this.loadChecklist();\r\n    }\r\n    const etiquetasKeys = this.etiquetas.map(x => x.key);\r\n    const checklistKeys = this.checklist.map(x => x.id);//const checklistKeys = this.checklist.map(x => x.key);\r\n    const etiqueta = (this.form.controls.etiquetas.value || []).find((x: LookupItem) => !etiquetasKeys.includes(x.key)) as LookupItem;\r\n    const checklst = (this.form.controls.checklist.value || []).find((x: Checklist) => !checklistKeys.includes(x.id) && x.checked) as Checklist;\r\n    if(etiqueta) result = \"Etiqueta \" + etiqueta.value + \"não pode ser utilizada!\";\r\n    if(checklst) result = \"Checklist \" + checklst.texto + \"não pode ser utilizado!\";\r\n    /* (RN_ATV_5) A atividade deverá ter perído compatível com o do plano de trabalho (Data de distribuição e Prazo de entrega devem estar dentro do período do plano de trabalho); */\r\n    if(this.planoTrabalhoSelecionado && (this.util.asTimestamp(this.form.controls.data_distribuicao.value) < this.util.asTimestamp(this.planoTrabalhoSelecionado.data_inicio) || this.util.asTimestamp(this.form.controls.data_estipulada_entrega.value) > this.util.asTimestamp(this.planoTrabalhoSelecionado.data_fim))) {\r\n      result = \"A atividade deverá ter perído compatível com o do plano de trabalho (\" + this.util.getDateFormatted(this.planoTrabalhoSelecionado.data_inicio) + \" até \" + this.util.getDateFormatted(this.planoTrabalhoSelecionado.data_fim) + \") [RN_ATV_5]\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public addItemHandleEtiquetas(): LookupItem | undefined {\r\n    let result = undefined;\r\n    if(this.etiqueta && this.etiqueta.selectedItem) {\r\n      const item = this.etiqueta.selectedItem;\r\n      const key = item.key?.length ? item.key : this.util.textHash(item.value);\r\n      if(this.util.validateLookupItem(this.form.controls.etiquetas.value, key)) {\r\n        result = {\r\n          key: key,\r\n          value: item.value,\r\n          color: item.color,\r\n          icon: item.icon\r\n        };\r\n        this.form.controls.etiqueta.setValue(\"\");\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  public onUnidadeChange(event: Event) {\r\n    this.loadEtiquetas();\r\n  }\r\n\r\n  public onDataDistribuicaoChange(event: Event) {\r\n    this.loadUsuario(this.usuario?.selectedEntity); /* Atualiza a lista de planos de trabalho válidos no período */\r\n    this.form?.controls.data_estipulada_entrega.updateValueAndValidity();\r\n  }\r\n\r\n  public onPrazoEntregaChange(event: Event) {\r\n    this.form?.controls.data_distribuicao.updateValueAndValidity();\r\n  }\r\n\r\n  public onPlanoTrabalhoChange(event: Event) {\r\n    (async () => {\r\n      if(this.entity) {\r\n        const planoTrabalho = (this.usuario?.selectedEntity as Usuario)?.planos_trabalho?.find(x => x.id == this.form!.controls.plano_trabalho_id.value);\r\n        if(planoTrabalho) {\r\n          if(this.planoTrabalhoSelecionado?.id != planoTrabalho.id) {\r\n            this.planoTrabalhoSelecionado = await this.planoTrabalhoDao.getById(planoTrabalho.id, this.planoTrabalhoJoin);\r\n          }\r\n          if(this.form!.controls.unidade_id.value != planoTrabalho.unidade_id) {\r\n            const unidade = await this.unidadeDao.getById(planoTrabalho.unidade_id);\r\n            if(unidade) {\r\n              await this.unidade?.loadSearch(unidade);\r\n              await this.auth.selecionaUnidade(unidade.id);\r\n            }\r\n          }\r\n          const planoTrabalhoEntregaId = this.form.controls.plano_trabalho_entrega_id.value;\r\n          this.entregas = this.planoTrabalhoSelecionado?.entregas?.map(x => Object.assign({}, {\r\n            key: x.id,\r\n            value: x.descricao + (x.plano_entrega_entrega ? \" (\" + x.plano_entrega_entrega?.descricao + \")\" : \"\"),\r\n            data: x\r\n          })) || [];\r\n          this.cdRef.detectChanges();\r\n          this.form.controls.plano_trabalho_entrega_id.setValue(!planoTrabalhoEntregaId?.length && this.entregas.length > 0 ? this.entregas[0].key : planoTrabalhoEntregaId);\r\n        } else {\r\n          this.entregas = [];\r\n          this.form.controls.plano_trabalho_entrega_id.setValue(null);\r\n        }\r\n      }\r\n    })();\r\n  }\r\n\r\n  public loadEtiquetas() {\r\n    this.etiquetas = this.atividadeService.buildEtiquetas(this.unidade?.selectedEntity, this.tipoAtividade?.selectedEntity);\r\n  }\r\n\r\n  public loadChecklist() {\r\n    const tipoAtividade = this.tipoAtividade?.selectedEntity as TipoAtividade;\r\n    let checkAdd: Checklist[] = tipoAtividade.checklist?.map((a: { key: any; value: any; }) => {\r\n      return {\r\n        id: a.key,\r\n        texto: a.value,\r\n        checked: false\r\n      } as Checklist;\r\n    });\r\n    this.checklist = checkAdd || [];//this.checklist = tipoAtividade?.checklist || [];\r\n    this.form.controls.checklist.setValue(checkAdd);\r\n    this.atividadeService.buildChecklist(tipoAtividade, this.form.controls.checklist);\r\n  }\r\n\r\n  public loadTipoAtividade(tipoAtividade: TipoAtividade | undefined) {\r\n    if(tipoAtividade) {\r\n      this.loadEtiquetas();\r\n      this.loadChecklist();\r\n    } else {\r\n      this.etiquetas = [];\r\n      this.form.controls.esforco.setValue(0);\r\n      this.form.controls.tempo_planejado.setValue(0);\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public getPlanosTrabalhos(usuario: Usuario, data_distribuicao: Date, plano_trabalho_id: string | null): LookupItem[] {\r\n    return usuario.planos_trabalho?.filter(x => x.id == plano_trabalho_id || (this.util.between(data_distribuicao, {start: x.data_inicio, end: x.data_fim}) && x.status == \"ATIVO\")).map(x => Object.assign({\r\n      key: x.id, \r\n      value: (x.tipo_modalidade?.nome || \"\") + \" - \" + this.usuarioDao.getDateFormatted(x.data_inicio)+ \" a \" + this.usuarioDao.getDateFormatted(x.data_fim), data: x\r\n    })) || [];\r\n  }\r\n\r\n  public loadUsuario(usuario: Usuario | undefined) {\r\n    if(usuario) {\r\n      const planoTrabalhoId = this.form.controls.plano_trabalho_id.value;\r\n      const dataDistribuicao = this.form.controls.data_distribuicao.value || new Date();\r\n      this.planosTrabalhos = this.getPlanosTrabalhos(usuario, dataDistribuicao, planoTrabalhoId); //usuario?.planos?.map(x => Object.assign({key: x.id, value: (x.tipo_modalidade?.nome || \"\") + \" - \" + this.usuarioDao.getDateFormatted(x.data_inicio)+ \" a \" + this.usuarioDao.getDateFormatted(x.data_fim), data: x})) || [];\r\n      if(this.hasUsuarioActionNew && this.auth.usuario!.id == this.form.controls.usuario_id.value) this.form!.controls.iniciado.setValue(true);\r\n      this.cdRef.detectChanges();\r\n      this.form.controls.plano_trabalho_id.setValue(!planoTrabalhoId?.length && this.planosTrabalhos.length > 0 ? this.planosTrabalhos[0].key : planoTrabalhoId);\r\n    } else {\r\n      this.planosTrabalhos = [];\r\n      this.form.controls.plano_trabalho_id.setValue(null);\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public get hasUsuarioActionNew(): boolean {\r\n    return this.form?.controls.usuario_id?.value?.length && this.action == \"new\";\r\n  }\r\n\r\n  public onTipoAtividadeSelect(item: SelectItem) {\r\n    const tipoAtividade: TipoAtividade | undefined = item.entity as TipoAtividade;\r\n    this.loadTipoAtividade(tipoAtividade);\r\n    this.atividadeService.comentarioAtividade(tipoAtividade, this.form!.controls.comentarios);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  /*public comentarioAtividade(tipoAtividade?: TipoAtividade) {\r\n    const comentarios: Comentario[] = this.form.controls.comentarios.value || [];\r\n    const index = comentarios.findIndex(x => x.tipo == \"TIPO_ATIVIDADE\");\r\n    if(index >= 0) {\r\n      if(comentarios[index]._status == \"ADD\") {\r\n        comentarios.splice(index, 1);\r\n      } else {\r\n        comentarios[index]._status == \"DELETE\";\r\n      }\r\n    }\r\n    if(tipoAtividade?.comentario?.length) {\r\n      const comentario = new Comentario();\r\n      comentario.id = this.dao!.generateUuid();\r\n      comentario.path = \"\";\r\n      comentario.texto = tipoAtividade.comentario;\r\n      comentario.data_comentario = this.auth.hora;\r\n      comentario.usuario_id = this.auth.usuario!.id;\r\n      comentario.comentario_id = null;\r\n      comentario.tipo = \"TIPO_ATIVIDADE\";\r\n      comentario.usuario = this.auth.usuario;\r\n      comentario._status = \"ADD\";\r\n      comentarios.push(comentario);\r\n      this.form.controls.comentarios.setValue(this.comentario.orderComentarios(comentarios));\r\n      this.cdRef.detectChanges();\r\n    }\r\n  }*/\r\n\r\n  public onTipoAtividadeChange(event: Event) {\r\n    if(!this.form?.controls.tipo_atividade_id.value?.length) this.loadTipoAtividade(undefined);\r\n  }\r\n\r\n  public onUsuarioSelect(item: SelectItem) {\r\n    const usuario: Usuario | undefined = item.entity as Usuario;\r\n    this.loadUsuario(usuario);\r\n  }\r\n\r\n  public onUsuarioChange(event: Event) {\r\n    if(!this.form?.controls.usuario_id.value?.length) this.loadUsuario(undefined);\r\n  }\r\n\r\n  public onConcluidoChange(event: Event) {\r\n    if(this.hasUsuarioActionNew && this.form!.controls.concluido.value) {\r\n      this.form!.controls.iniciado.setValue(true);\r\n      this.form!.controls.progresso.setValue(100);\r\n    } else {\r\n      this.form!.controls.progresso.setValue(0);\r\n    }\r\n  }\r\n\r\n  public orderPausas(pausas: AtividadePausa[]) {\r\n    return pausas.sort((a: AtividadePausa, b: AtividadePausa) => {\r\n      return a.data_inicio < b.data_inicio ? -1 : 1;\r\n    });\r\n  }\r\n\r\n  public async loadData(entity: Atividade, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    formValue = this.util.fillForm(formValue, entity);\r\n    this.planoTrabalhoSelecionado = entity.plano_trabalho;\r\n    await Promise.all([\r\n      this.unidade?.loadSearch(entity.unidade || formValue.unidade_id, false),\r\n      this.usuario?.loadSearch(entity.usuario || formValue.usuario_id, false),\r\n      this.tipoAtividade?.loadSearch(entity.tipo_atividade || formValue.tipo_atividade_id, false)\r\n    ]);\r\n    form.patchValue(formValue, {emitEvent: false}); /* Carrega valores iniciais no form e previne que o plano_id seja sobrescrito */\r\n    if(entity.usuario) this.loadUsuario(entity.usuario);\r\n    if(entity.tipo_atividade) this.loadTipoAtividade(entity.tipo_atividade);\r\n    if(entity.unidade_id != this.auth.unidade!.id) await this.auth.selecionaUnidade(entity.unidade_id);\r\n    entity.comentarios = this.comentario.orderComentarios(entity.comentarios || []);\r\n    entity.pausas = this.orderPausas(entity.pausas || []);\r\n    form.patchValue(this.util.fillForm(formValue, this.form.value)); /* Carrega os valores e dispara os eventos */\r\n    this.loadEtiquetas();\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    if (this.isClonar) {\r\n      const source = (await this.dao!.getAtividade(this.urlParams!.get(\"id\")!))!;\r\n      this.entity = new Atividade();\r\n      Object.assign(this.entity, {\r\n        tipo_atividade: source.tipo_atividade,\r\n        unidade: source.unidade,\r\n        usuario: source.usuario,\r\n        plano_trabalho: source.plano_trabalho,\r\n        descricao: source.descricao,\r\n        data_distribuicao: source.data_distribuicao,\r\n        tempo_planejado: source.tempo_planejado,\r\n        carga_horaria: source.carga_horaria,\r\n        data_estipulada_entrega: source.data_estipulada_entrega,\r\n        esforco: source.esforco,\r\n        tipo_atividade_id: source.tipo_atividade_id,\r\n        demandante_id: this.auth.usuario?.id,\r\n        usuario_id: source.usuario_id,\r\n        unidade_id: source.unidade_id,\r\n        plano_trabalho_id: source.plano_trabalho_id,\r\n        etiquetas: source.etiquetas,\r\n        checklist: source.checklist,\r\n        metadados: source.metadados,\r\n        plano_trabalho_entrega_id: source.plano_trabalho_entrega_id,\r\n        progresso: source.progresso,\r\n        tarefas: (source.tarefas || []).map((tarefa: AtividadeTarefa) => new AtividadeTarefa(Object.assign({}, tarefa, {\r\n          id: this.dao!.generateUuid(),\r\n          comentarios: [],\r\n          _status: \"ADD\"\r\n        }))),\r\n        documento_requisicao: !source.documento_requisicao ? undefined : Object.assign({}, new Documento(Object.assign({}, source.documento_requisicao, {\r\n          id: this.dao!.generateUuid(),\r\n          _status: \"ADD\"\r\n        }))),\r\n        documento_entrega: !source.documento_entrega ? undefined : Object.assign({}, new Documento(Object.assign({}, source.documento_entrega, {\r\n          id: this.dao!.generateUuid(),\r\n          _status: \"ADD\"\r\n        })))\r\n      });\r\n    } else {\r\n      this.sei = this.metadata?.sei;\r\n      this.entity = new Atividade();\r\n      this.entity.data_distribuicao = this.auth.hora;\r\n      this.entity.data_estipulada_entrega = this.entity.data_distribuicao;\r\n      this.entity.demandante_id = this.auth.usuario?.id || \"\";\r\n      this.entity.unidade_id = this.auth.unidade?.id || \"\";\r\n      this.entity.unidade = this.auth.unidade;\r\n      this.entity.metadados = {\r\n        atrasado: false,\r\n        tempo_despendido: 0, \r\n        tempo_atraso: 0,\r\n        pausado: false,\r\n        iniciado: false,\r\n        concluido: false,\r\n        avaliado: false,\r\n        arquivado: false,\r\n        produtividade: 0,\r\n        consolidacoes: []\r\n      };\r\n      if(!this.unidadeService.isGestorUnidade(this.entity.unidade_id)) {\r\n        let usuario = await this.usuarioDao.getById(this.auth.usuario!.id, this.usuarioJoin);\r\n        this.entity.usuario_id = usuario?.id || null;\r\n        this.entity.usuario = usuario || undefined;\r\n      }\r\n    }\r\n    await this.loadData(this.entity, form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<Atividade | boolean> {\r\n    return new Promise<Atividade | boolean>((resolve, reject) => {\r\n      let atividade = this.util.fill(new Atividade(), this.entity!) as Atividade;\r\n      this.comentarios?.confirm();\r\n      atividade = this.util.fillForm(atividade, this.form!.value);\r\n      if(this.hasUsuarioActionNew) {\r\n        if(this.form!.controls.iniciado.value) {\r\n          atividade.data_inicio = atividade.data_distribuicao;\r\n          atividade.status = 'INICIADO';\r\n          if(this.form!.controls.concluido.value) {\r\n            let efemerides = this.calendar.calculaDataTempoUnidade(atividade.data_inicio, atividade.data_estipulada_entrega, this.planoTrabalhoSelecionado!.carga_horaria, this.unidade?.selectedEntity, \"ENTREGA\");\r\n            atividade.data_entrega = atividade.data_estipulada_entrega;\r\n            atividade.progresso = 100;\r\n            atividade.tempo_despendido = efemerides?.tempoUtil || 0;\r\n            atividade.status = 'CONCLUIDO';\r\n          }\r\n        }\r\n      }\r\n      atividade.documento_requisicao = this.requisicao?.documento;\r\n      atividade.comentarios = atividade.comentarios.filter((x: Comentario) => [\"ADD\", \"EDIT\", \"DELETE\"].includes(x._status || \"\") && x.texto?.length);\r\n      atividade.tarefas = atividade.tarefas.filter((tarefa: AtividadeTarefa) => {\r\n        tarefa.comentarios = tarefa.comentarios.filter((x: Comentario) => [\"ADD\", \"EDIT\", \"DELETE\"].includes(x._status || \"\") && x.texto?.length);\r\n        return [\"ADD\", \"EDIT\", \"DELETE\"].includes(tarefa._status || \"\");\r\n      });\r\n      resolve(atividade);\r\n    });\r\n  }\r\n}\r\n\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" initialFocus=\"descricao\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n  <tabs display right [title]=\"titleAtividade\">\r\n    <tab key=\"ATIVIDADE\" [label]=\"lex.translate('Atividade')\">\r\n      <documento-link #requisicao [sei]=\"sei\" [documento]=\"form!.controls.documento_requisicao.value\"></documento-link>\r\n      <div class=\"row\">\r\n        <input-textarea label=\"Descrição\" [size]=\"12\" [rows]=\"2\" controlName=\"descricao\" [control]=\"form!.controls.descricao\" required></input-textarea>\r\n      </div>\r\n      <div class=\"row\">\r\n        <input-search [label]=\"lex.translate('Unidade')\" [size]=\"hasUsuarioActionNew ? 5 : 6\" #unidade controlName=\"unidade_id\" [dao]=\"unidadeDao\" (change)=\"onUnidadeChange($event)\" required></input-search>\r\n        <input-search [label]=\"'Tipo de ' + lex.translate('atividade')\" #tipoAtividade [emptyValue]=\"null\" [size]=\"hasUsuarioActionNew ? 5 : 6\" controlName=\"tipo_atividade_id\" [dao]=\"tipoAtividadeDao\" (select)=\"onTipoAtividadeSelect($event)\" (change)=\"onTipoAtividadeChange($event)\" [labelInfo]=\"lex.translate('Tipo de atividade') + ' utilizado para classificar a atividade'\" [required]=\"!auth.hasPermissionTo('MOD_ATV_TIPO_ATV_VAZIO') ? 'true' : undefined\"></input-search>\r\n        <input-switch *ngIf=\"hasUsuarioActionNew\" [size]=\"1\" label=\"Iniciado\" controlName=\"iniciado\" [disabled]=\"form.controls.concluido.value ? 'true' : undefined\"></input-switch>\r\n        <input-switch *ngIf=\"hasUsuarioActionNew\" [size]=\"1\" label=\"Concluído\" controlName=\"concluido\" (change)=\"onConcluidoChange($event)\"></input-switch>\r\n      </div>\r\n      <div class=\"row\">\r\n        <input-search [label]=\"lex.translate('Responsável')\" [size]=\"6\" [emptyValue]=\"null\" #usuario controlName=\"usuario_id\" [dao]=\"usuarioDao\" [join]=\"usuarioJoin\" labelInfo=\"Participante responsável pela execução\" (select)=\"onUsuarioSelect($event)\" (change)=\"onUsuarioChange($event)\"></input-search>\r\n        <input-select [label]=\"lex.translate('Plano de trabalho')\" [size]=\"6\" controlName=\"plano_trabalho_id\" #planoTrabalho [control]=\"form!.controls.plano_trabalho_id\" [items]=\"planosTrabalhos\" (change)=\"onPlanoTrabalhoChange($event)\" [labelInfo]=\"lex.translate('Plano de trabalho')\"></input-select>\r\n      </div>\r\n      <div class=\"row\">\r\n        <input-select [label]=\"lex.translate('Entrega') + ' (Descrição dos trabalhos)'\" [size]=\"12\" controlName=\"plano_trabalho_entrega_id\" #entrega [control]=\"form!.controls.plano_trabalho_entrega_id\" [items]=\"entregas\" [labelInfo]=\"lex.translate('Entrega') + lex.translate(' plano de trabalho') + ' que a ' + lex.translate('atividade') + ' é referente'\"></input-select>\r\n      </div>\r\n      <div *ngIf=\"!planoTrabalho?.selectedItem?.data?.tipo_modalidade?.atividade_esforco; else comEsforco\" class=\"row\">\r\n        <input-datetime noIcon [size]=\"4\" [label]=\"lex.translate('Data de distribuição')\" controlName=\"data_distribuicao\" [control]=\"form!.controls.data_distribuicao\" (change)=\"onDataDistribuicaoChange($event)\" labelInfo=\"Data de inclusão/distribuição/lançamento\"></input-datetime>\r\n        <input-number [size]=\"4\" [decimals]=\"2\" label=\"Progresso\" disabled sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso\" labelInfo=\"Progresso de execução (% Concluído)\"></input-number>\r\n        <input-datetime noIcon [size]=\"4\" [label]=\"lex.translate('Prazo de entrega')\" controlName=\"data_estipulada_entrega\" [control]=\"form!.controls.data_estipulada_entrega\" (change)=\"onPrazoEntregaChange($event)\" labelInfo=\"Data estipulada para entrega da atividade\"></input-datetime>\r\n      </div>\r\n      <ng-template #comEsforco>\r\n        <div class=\"row\">\r\n          <input-datetime noIcon [size]=\"3\" [label]=\"lex.translate('Data de distribuição')\" controlName=\"data_distribuicao\" [control]=\"form!.controls.data_distribuicao\" (change)=\"onDataDistribuicaoChange($event)\" labelInfo=\"Data de inclusão/distribuição/lançamento\"></input-datetime>\r\n          <input-timer [size]=\"3\" [label]=\"lex.translate('Esforço')\" icon=\"bi bi-stopwatch\" onlyHours controlName=\"esforco\" [control]=\"form!.controls.esforco\" labelInfo=\"Tempo estimado de execução\"></input-timer>\r\n          <input-number [size]=\"3\" [decimals]=\"2\" label=\"Progresso\" disabled sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso\" labelInfo=\"Progresso de execução (% Concluído)\"></input-number>\r\n          <input-datetime noIcon [size]=\"3\" [label]=\"lex.translate('Prazo de entrega')\" controlName=\"data_estipulada_entrega\" [control]=\"form!.controls.data_estipulada_entrega\" (change)=\"onPrazoEntregaChange($event)\" labelInfo=\"Data estipulada para entrega da atividade\"></input-datetime>\r\n        </div>\r\n      </ng-template>\r\n      <separator *ngIf=\"form!.controls.data_entrega.value\" title=\"Conclusão\">\r\n        <div *ngIf=\"!planoTrabalho?.selectedItem?.data?.tipo_modalidade?.atividade_tempo_despendido; else comTempoDespendido\" class=\"row\">\r\n          <input-datetime noIcon [size]=\"4\" label=\"Inicio\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" disabled labelInfo=\"Data em que o usuário iniciou a atividade\"></input-datetime>\r\n          <input-datetime noIcon [size]=\"4\" label=\"Conclusão\" controlName=\"data_entrega\" [control]=\"form!.controls.data_entrega\" disabled labelInfo=\"Data da conclusão da atividade\"></input-datetime>\r\n          <input-datetime [size]=\"4\" label=\"Data de arquivamento\" controlName=\"data_arquivamento\" [control]=\"form!.controls.data_inicio\" disabled labelInfo=\"Data de arquivamento da atividade\"></input-datetime>\r\n        </div>\r\n        <ng-template #comTempoDespendido>\r\n          <div class=\"row\">\r\n            <input-datetime noIcon [size]=\"4\" label=\"Inicio\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" disabled labelInfo=\"Data em que o usuário iniciou a atividade\"></input-datetime>\r\n            <input-datetime noIcon [size]=\"4\" label=\"Conclusão\" controlName=\"data_entrega\" [control]=\"form!.controls.data_entrega\" disabled labelInfo=\"Data da conclusão da atividade\"></input-datetime>\r\n            <input-timer [size]=\"4\" label=\"Tempo despendido\" icon=\"bi bi-hourglass-bottom\" controlName=\"tempo_despendido\" [control]=\"form!.controls.tempo_despendido\" disabled labelInfo=\"Calculado no fim da atividade, sendo o tempo líquido (considerando pausas)\"></input-timer>\r\n            <input-datetime [size]=\"4\" label=\"Data de arquivamento\" controlName=\"data_arquivamento\" [control]=\"form!.controls.data_inicio\" disabled labelInfo=\"Data de arquivamento da atividade\"></input-datetime>\r\n          </div>\r\n        </ng-template>\r\n        <documento-link [documento]=\"form!.controls.documento_entrega.value\"></documento-link>\r\n      </separator>\r\n    </tab>\r\n    <!--<tab key=\"TAREFAS\" [label]=\"lex.translate('Tarefas')\">\r\n            <atividade-list-tarefa [control]=\"form!.controls.tarefas\" [atividade]=\"entity\" [disabled]=\"formDisabled\"></atividade-list-tarefa>\r\n        </tab>\r\n        <tab key=\"CARACTERIZACAO\" label=\"Caracterização\">\r\n            <div class=\"row\">\r\n                <input-multiselect label=\"Etiquetas\" controlName=\"etiquetas\" [size]=\"6\" [control]=\"form!.controls.etiquetas\" [addItemHandle]=\"addItemHandleEtiquetas.bind(this)\">\r\n                    <input-select [size]=\"12\" #etiqueta controlName=\"etiqueta\" [control]=\"form!.controls.etiqueta\" [items]=\"etiquetas\"></input-select>\r\n                </input-multiselect>\r\n                <div class=\"col-md-6\">\r\n                   <br><h5>Checklist</h5>\r\n                   <grid [control]=\"form!.controls.checklist\" [form]=\"formChecklist\" [hasAdd]=\"true\" [hasDelete]=\"true\" editable>\r\n                        <columns>\r\n                            <column type=\"switch\" title=\"Check\" field=\"checked\"></column>\r\n                            <column type=\"text\" title=\"Texto\" field=\"texto\"></column>\r\n                            <column type=\"options\"></column>\r\n                        </columns>\r\n                   </grid>\r\n                </div>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"COMENTARIOS\" label=\"Comentários\">\r\n            <div clss=\"row\">\r\n                <comentarios #comentarios origem=\"ATIVIDADE\" [control]=\"form!.controls.comentarios\"></comentarios>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"COMPLEMENTARES\" label=\"Complementares\">\r\n            <div class=\"row\">\r\n                <input-search label=\"Demandante\" [size]=\"12\" controlName=\"demandante_id\" [dao]=\"usuarioDao\" disabled></input-search>\r\n            </div>\r\n            <div clss=\"row\">\r\n                <div class=\"card col-md-4 mt-4\">\r\n                    <h5 class=\"card-header\">\r\n                        <i class=\"bi bi-pause-circle\"></i>\r\n                        Suspensões/Pausas\r\n                    </h5>\r\n                    <div class=\"card-body\">\r\n                        <grid [control]=\"form!.controls.pausas\" #pausas [hasEdit]=\"false\" [hasDelete]=\"false\" [minHeight]=\"0\" disabled>\r\n                            <columns>\r\n                                <column title=\"Início\" type=\"datetime\" field=\"data_inicio\"></column>\r\n                                <column title=\"Fim\" type=\"datetime\" field=\"data_fim\"></column>\r\n                            </columns>\r\n                        </grid>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </tab>-->\r\n  </tabs>\r\n</editable-form>","import { Component, Injector, Input, OnInit } from '@angular/core';\r\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\r\nimport { AtividadeHierarquia } from 'src/app/models/atividade-hierarquia.model';\r\n\r\nimport { PageBase } from 'src/app/modules/base/page-base';\r\nimport { PlanoEntregaService } from '../../plano-entrega/plano-entrega.service';\r\n\r\n@Component({\r\n  selector: 'atividade-hierarquia',\r\n  templateUrl: './atividade-hierarquia.component.html',\r\n  styleUrls: ['./atividade-hierarquia.component.scss']\r\n})\r\nexport class AtividadeHierarquiaComponent extends PageBase implements OnInit {\r\n  public atividade!: AtividadeHierarquia;\r\n  public atividadeDao: AtividadeDaoService;\r\n  public planoEntregaService: PlanoEntregaService;\r\n\r\n\r\n  constructor(public injector: Injector){\r\n    super(injector);\r\n    this.atividadeDao = injector.get<AtividadeDaoService>(AtividadeDaoService);\r\n    this.planoEntregaService = injector.get<PlanoEntregaService>(PlanoEntregaService);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    if(this.urlParams!.get(\"id\")) {\r\n      this.loadAtividade(this.urlParams!.get(\"id\")!)\r\n    }\r\n  }\r\n\r\n  public async loadAtividade(atividade_id: string){\r\n    const result = await this.atividadeDao.getHierarquia(atividade_id)\r\n    if(result){\r\n      this.atividade = result\r\n    }\r\n  }\r\n}\r\n","<ng-container *ngIf=\"atividade\">\r\n  <div class=\"d-flex align-items-stretch\">\r\n    <planejamento-show [planejamento]=\"atividade.planejamento\" *ngIf=\"atividade.planejamento\"></planejamento-show>\r\n\r\n    <div class=\"cadeiaValor arrow_box first-box w-100 ms-3\" *ngIf=\"atividade.cadeiaValor\">\r\n      <h6>Cadeia de valor:</h6>\r\n      <h4>{{atividade.cadeiaValor.nome}}</h4>    \r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"d-flex align-items-stretch\">\r\n\r\n    <div class=\"objetivos arrow_box w-100\" *ngIf=\"atividade.objetivos\">\r\n      <h6>Objetivos:</h6>\r\n      <div *ngFor=\"let objetivo of atividade.objetivos; index as i\">\r\n        <div class=\"d-flex justify-content-start align-items-center\">\r\n          <ng-container *ngFor=\"let j of [].constructor(i); let k = index\">\r\n            <i class=\"bi bi-chevron-right\"></i>\r\n          </ng-container>\r\n          <h5>{{objetivo.nome}}</h5>  \r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"procesos arrow_box w-100 ms-3\" *ngIf=\"atividade.processos?.length\">\r\n      <h6>Processos:</h6>\r\n      <div *ngFor=\"let processo of atividade.processos\">\r\n        <h5>{{processo.nome}}</h5>  \r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class=\"plano_entrega_entrega arrow_box\" *ngIf=\"atividade.entregasPlanoEntrega\">\r\n    <h6>Entrega do plano de entregas:</h6>\r\n\r\n    <div *ngFor=\"let entrega of atividade.entregasPlanoEntrega; index as i\">\r\n      <div class=\"d-flex justify-content-start align-items-center\">\r\n        <ng-container *ngFor=\"let j of [].constructor(i); let k = index\">\r\n          <i class=\"bi bi-chevron-right\"></i>\r\n        </ng-container>\r\n\r\n        <div class=\"ms-3 flex-grow-1 d-flex flex-column\">\r\n          <h5 class=\"mb-2\">          \r\n            {{entrega.descricao}}\r\n          </h5>       \r\n          <div class=\"d-flex justify-content-start align-items-center m-0\">\r\n            <span class=\"text-center\"><b  class=\"d-block\">Meta:</b><badge icon=\"bi bi-graph-up-arrow\" [label]=\"planoEntregaService.getValorMeta(entrega)\" color=\"light\"></badge></span>\r\n            <span class=\"text-center ms-3\"><b class=\"d-block\">Realizado:</b><badge icon=\"bi bi-check-lg\" [label]=\"planoEntregaService.getValorRealizado(entrega)\" color=\"light\"></badge></span>\r\n            <span class=\"ms-3 flex-fill\"><b class=\"\">Progresso:</b><progress-bar [value]=\"entrega.progresso_realizado\" [goal]=\"entrega.progresso_esperado\" color=\"success\"></progress-bar></span>\r\n          </div>\r\n        </div>  \r\n      </div>\r\n      <hr>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"plano_trabalho_entrega arrow_box\">\r\n    <h6>Alocação:</h6>\r\n    <h5 class=\"mb-2\">{{atividade.entregaPlanoTrabalho.descricao}}</h5>    \r\n    <p>Força de trabalho: <b>{{atividade.entregaPlanoTrabalho.forca_trabalho}}%</b></p>\r\n  </div>\r\n  <div class=\"atividade arrow_box\">\r\n    <h6>Atividade:</h6>\r\n    <h5 class=\"mb-2\">{{atividade.atividade.descricao}}</h5>\r\n    <p>Data estipulada para entrega: <b>{{util.getDateTimeFormatted(atividade.atividade.data_estipulada_entrega)}}</b></p>\r\n  </div>\r\n</ng-container>","import { Component, Injector, Input, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { ActivatedRouteSnapshot } from '@angular/router';\r\nimport { DndDropEvent, DropEffect } from 'ngx-drag-drop';\r\nimport { FilterComponent } from 'src/app/components/grid/filter/filter.component';\r\nimport { CardItem, DockerComponent } from 'src/app/components/kanban/docker/docker.component';\r\nimport { KanbanComponent, KanbanDocker } from 'src/app/components/kanban/kanban.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { QueryOptions } from 'src/app/dao/query-options';\r\nimport { Atividade } from 'src/app/models/atividade.model';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { RouteMetadata } from 'src/app/services/navigate.service';\r\nimport { AtividadeListBase } from '../atividade-list-base';\r\nimport { BadgeButton } from 'src/app/components/badge/badge.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\n\r\nexport type StatusDockerConfig = {\r\n  naoIniciado: boolean,\r\n  pausado: boolean,\r\n  iniciado: boolean,\r\n  concluido: boolean\r\n}\r\n\r\n@Component({\r\n  selector: 'atividade-list-kanban',\r\n  templateUrl: './atividade-list-kanban.component.html',\r\n  styleUrls: ['./atividade-list-kanban.component.scss']\r\n})\r\nexport class AtividadeListKanbanComponent extends AtividadeListBase {\r\n  @ViewChild(\"filterRef\", { static: false }) filterRef?: FilterComponent;\r\n  @ViewChild(\"kanbanEtiquetas\", { static: false }) kanbanEtiquetas?: KanbanComponent;\r\n  @ViewChild(\"dockerNaoIniciado\", { static: false }) dockerNaoIniciado?: DockerComponent;\r\n  @ViewChild(\"dockerPausado\", { static: false }) dockerPausado?: DockerComponent;\r\n  @ViewChild(\"dockerIniciado\", { static: false }) dockerIniciado?: DockerComponent;\r\n  @ViewChild(\"dockerConcluido\", { static: false }) dockerConcluido?: DockerComponent;\r\n  @ViewChild('planoEntrega', { static: false }) public planoEntrega?: InputSelectComponent;\r\n  @ViewChild('planoEntregaEntrega', { static: false }) public planoEntregaEntrega?: InputSelectComponent;\r\n  @Input() snapshot?: ActivatedRouteSnapshot;\r\n  @Input() fixedFilter?: any[];\r\n\r\n  public TITLE_OUTRAS = \"Outras\";\r\n  public NAOINICIADO: number = 0;\r\n  public PAUSADO: number = 1;\r\n  public INICIADO: number = 2;\r\n  public CONCLUIDO: number = 3;\r\n  public AVALIADO: number = 4;\r\n  public DOCKERS: string[] = [\"NAOINICIADO\", \"PAUSADO\", \"INICIADO\", \"CONCLUIDO\"];\r\n  public cards: (CardItem[])[] = [[], [], [], []];\r\n  public cardsConfig: StatusDockerConfig = { naoIniciado: false, pausado: false, iniciado: false, concluido: false };\r\n  public labels: KanbanDocker[] = [];\r\n  public cardsVersion: number = 0;\r\n  public dragDrop: any = {};\r\n  public rowsLimit = 500;\r\n  public kanbanQueryOptions: QueryOptions = {};\r\n  public formEdit: FormGroup;\r\n  public etiquetasEdit: LookupItem[] = [];\r\n  public planosEntregas: LookupItem[] = [];\r\n  public planosEntregasEntregas: LookupItem[] = [];\r\n  public toolbarButtons: ToolbarButton[] = [\r\n    {\r\n      icon: \"bi bi-search\",\r\n      label: \"Filtrar\",\r\n      onClick: () => this.filterRef?.toggle()\r\n    },\r\n    {\r\n      icon: \"bi bi-plus-circle\",\r\n      color: \"btn-outline-success\",\r\n      label: \"Incluir\",\r\n      onClick: async () => await this.add()\r\n    }\r\n  ];\r\n  public outrasButtons: ToolbarButton[] = [\r\n    {\r\n      icon: \"bi bi-plus-circle\",\r\n      color: \"btn-outline-success\",\r\n      hint: \"Incluir nova lista a direita\",\r\n      onClick: this.incluirLista.bind(this)\r\n    }\r\n  ];\r\n  public etiquetasButtons: ToolbarButton[] = [\r\n    {\r\n      icon: \"bi bi-plus-circle\",\r\n      color: \"btn-outline-success\",\r\n      hint: \"Incluir nova lista a direita\",\r\n      onClick: this.incluirLista.bind(this)\r\n    }\r\n  ];\r\n  public menuDockerNaoIniciado: ToolbarButton[] = [\r\n    {\r\n      icon: \"bi bi-plus-circle\",\r\n      color: \"btn-outline-primary\",\r\n      hint: \"Incluir\",\r\n      onClick: async () => await this.add()\r\n    }\r\n  ];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    /* Inicializações */\r\n    this.code = \"MOD_DMD\";\r\n    this.filter = this.fh.FormBuilder({\r\n      atribuidas_para_mim: { default: false },\r\n      usuario_id: { default: \"\" },\r\n      somente_unidade_atual: { default: false },\r\n      unidades_subordinadas: { default: false },\r\n      unidade_id: { default: \"\" },\r\n      numero_processo: { default: \"\" },\r\n      status: { default: \"\" },\r\n      usarEtiquetas: { default: !!this.usuarioConfig?.kanban_usar_etiquetas },\r\n      resumido: { default: !!this.usuarioConfig?.kanban_resumido },\r\n      etiquetas: { default: [] },\r\n      plano_entrega_id: { default: null },\r\n      plano_entrega_entrega_id: { default: null },\r\n    });\r\n    this.formEdit = this.fh.FormBuilder({\r\n      etiqueta: { default: null }\r\n    });\r\n    this.cardsConfig = Object.assign(this.cardsConfig, this.usuarioConfig?.kanban_status_dockers);\r\n    this.groupBy = [];\r\n    this.loadEtiquetas();\r\n    this.loadLabel();\r\n  }\r\n\r\n  public defaultUsuarioConfig() {\r\n    return Object.assign(super.defaultUsuarioConfig(), {\r\n      active_tab: \"TABELA\",\r\n      kanban_resumido: false,\r\n      kanban_usar_etiquetas: false,\r\n      kanban_status_dockers: { naoIniciado: false, pausado: false, iniciado: false, concluido: false },\r\n      kanban_etiquetas_dockers: []\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    super.ngAfterViewInit();\r\n    this.query!.onLoadingChange = (loading) => {\r\n      this.loading = loading;\r\n      this.cdRef.detectChanges();\r\n    }\r\n    this.loading = this.query!.loading;\r\n    this.query!.subject.asObservable().subscribe(this.onQueryLoad.bind(this));\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public isOutras(x: KanbanDocker): boolean {\r\n    return x.title == this.TITLE_OUTRAS && !x.labels.length;\r\n  }\r\n\r\n  public loadLabel() {\r\n    const dockers: any[] = [...(this.usuarioConfig?.kanban_etiquetas_dockers || [])];\r\n    if (!dockers.find(this.isOutras.bind(this))) dockers.splice(0, 0, { title: this.TITLE_OUTRAS, labels: [], collapse: false });\r\n    this.labels = dockers.reduce((a, v) => {\r\n      if (!a.find((x: any) => (x.title?.length && x.title == v.title) || (x.labels?.length && v.labels?.length && x.labels[0].key == v.labels[0].key))) {\r\n        a.push({\r\n          labels: this.isOutras(v) ? [] : v.labels,\r\n          title: v.title,\r\n          menu: this.isOutras(v) ? this.outrasButtons : this.etiquetasButtons,\r\n          cards: [],\r\n          editing: false,\r\n          collapse: v.collapse\r\n        });\r\n      }\r\n      return a;\r\n    }, []);\r\n    /*this.labels = dockers.map(x => {\r\n      return {\r\n        labels: this.isOutras(x) ? [] : x.labels,\r\n        title: x.title,\r\n        menu: this.isOutras(x) ? this.outrasButtons : this.etiquetasButtons,\r\n        cards: [],\r\n        editing: false,\r\n        collapse: x.collapse\r\n      }        \r\n    });*/\r\n  }\r\n\r\n  public get isEtiquetas(): boolean {\r\n    return !!this.filter?.controls?.usarEtiquetas?.value;\r\n  }\r\n\r\n  public onUsarEtiquetasChange(event: Event) {\r\n    this.saveUsuarioConfig({ kanban_usar_etiquetas: this.filter!.controls.usarEtiquetas.value });\r\n    if (this.query) this.onQueryLoad(this.query!.rows);\r\n  }\r\n\r\n  public incluirLista(docker: DockerComponent) {\r\n    this.labels.splice(docker.key + 1, 0, {\r\n      labels: [],\r\n      menu: this.etiquetasButtons,\r\n      cards: [],\r\n      editing: true,\r\n      collapse: false\r\n    });\r\n\r\n    this.kanbanEtiquetas?.refreshDoubleScrollbar();\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onResumidoChange(event: Event) {\r\n    this.saveUsuarioConfig({ kanban_resumido: this.filter!.controls.resumido.value });\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public loadEtiquetas() {\r\n    //this.etiquetas = this.util.merge(row.tipo_atividade?.etiquetas, row.unidade?.etiquetas, (a, b) => a.key == b.key); \r\n    this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\r\n  }\r\n\r\n  public getLabelStyle(label: KanbanDocker) {\r\n    const bgColor = label.labels.length == 1 ? label.labels[0].color || \"#000000\" : \"#000000\";\r\n    //const txtColor = this.util.contrastColor(bgColor);\r\n    return `border-color: ${bgColor} !important;`;\r\n  }\r\n\r\n  public onDockerCollapse(docker: DockerComponent, collapse: boolean) {\r\n    if (this.isEtiquetas) {\r\n      this.labels[docker.key].collapse = collapse;\r\n      this.saveEtiquetasUsuarioConfig();\r\n    } else {\r\n      this.cardsConfig = {\r\n        naoIniciado: !!this.dockerNaoIniciado?.collapse,\r\n        pausado: !!this.dockerPausado?.collapse,\r\n        iniciado: !!this.dockerIniciado?.collapse,\r\n        concluido: !!this.dockerConcluido?.collapse\r\n      };\r\n      this.saveUsuarioConfig({ kanban_status_dockers: this.cardsConfig });\r\n    }\r\n    this.kanbanEtiquetas?.refreshDoubleScrollbar();\r\n  }\r\n\r\n  public async editEtiquetas(docker: DockerComponent) {\r\n    const label = this.labels[docker.key!];\r\n    const allUsed = this.labels.reduce((a: string[], v: KanbanDocker, i: number) => {\r\n      if (v.labels.length && i != docker.key) a.push(v.labels[0].key);\r\n      return a;\r\n    }, []);\r\n    this.etiquetasEdit = this.etiquetas.filter(x => !allUsed.includes(x.key));\r\n    this.formEdit.controls.etiqueta.setValue(label.labels.length ? label.labels[0].key : null);\r\n  }\r\n\r\n  public saveEtiquetasUsuarioConfig() {\r\n    const dockers = this.labels.reduce((a: any[], v: any) => {\r\n      if (!a.find((x: any) => (x.title?.length && x.title == v.title) || (x.labels?.length && v.labels?.length && x.labels[0].key == v.labels[0].key))) {\r\n        a.push({\r\n          title: v.title,\r\n          labels: v.labels,\r\n          collapse: v.collapse\r\n        });\r\n      }\r\n      return a;\r\n    }, []);\r\n    /*const dockers = this.labels.map(x => {\r\n      return {\r\n        title: x.title,\r\n        labels: x.labels,\r\n        collapse: x.collapse\r\n      }\r\n    });*/\r\n    this.saveUsuarioConfig({ kanban_etiquetas_dockers: dockers });\r\n  }\r\n\r\n  public async saveEtiquetas(docker: DockerComponent) {\r\n    const key = this.formEdit.controls.etiqueta.value;\r\n    if (key?.length) {\r\n      const label = this.labels[docker.key!];\r\n      const etiqueta = this.etiquetasEdit.find(x => x.key == key);\r\n      if (etiqueta) label.labels = [etiqueta];\r\n      if (this.query) this.onQueryLoad(this.query!.rows);\r\n      this.saveEtiquetasUsuarioConfig();\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public async cancelEtiquetas(docker: DockerComponent) {\r\n    const label = this.labels[docker.key!];\r\n    if (!label.labels?.length) {\r\n      this.labels.splice(docker.key!, 1);\r\n      this.kanbanEtiquetas?.refreshDoubleScrollbar();\r\n    }\r\n  }\r\n\r\n  public async deleteEtiquetas(docker: DockerComponent) {\r\n    this.labels.splice(docker.key!, 1);\r\n    this.kanbanEtiquetas?.refreshDoubleScrollbar();\r\n    if (this.query) this.onQueryLoad(this.query!.rows);\r\n    this.saveEtiquetasUsuarioConfig();\r\n  }\r\n\r\n  public getNomes(context: any) {\r\n    return Object.getOwnPropertyNames(context.filter.controls || {}).join(\",\");\r\n  }\r\n\r\n  public modalRefreshId(atividade: Atividade): RouteMetadata {\r\n    return {\r\n      modal: true,\r\n      modalClose: (modalResult?: string) => {\r\n        const destination = this.dragDrop.destination;\r\n        const source = this.dragDrop.source;\r\n        if (modalResult) {\r\n          if (destination && source) {\r\n            destination.list.splice(destination.index, 0, destination.card);\r\n            source.list.splice(source.index, 1);\r\n          }\r\n          (this.grid?.query || this.query!).refreshId(atividade.id);\r\n        }\r\n        this.dragDrop = {};\r\n      }\r\n    };\r\n  }\r\n\r\n  public mergeEtiqueta(etiqueta: LookupItem) {\r\n    if (!this.etiquetas.find(x => x.key == etiqueta.key)) {\r\n      this.etiquetas.push(etiqueta);\r\n    }\r\n  }\r\n\r\n  public filterSubmit(filter: FormGroup): QueryOptions {\r\n    super.filterSubmit(filter);\r\n    this.cards = [[], [], [], []];\r\n    this.labels.forEach(x => x.cards = []);\r\n    return this.queryOptions;\r\n  }\r\n\r\n  public onQueryLoad(rows?: any[]) {\r\n    super.onGridLoad(rows);\r\n    this.cardsVersion++;\r\n    if (!this.filter?.controls?.usarEtiquetas?.value) {\r\n      rows?.forEach(row => {\r\n        const atividade: Atividade = row as Atividade;\r\n        let status = this.lookup.ATIVIDADE_STATUS.find(x => x.key == atividade.status)?.key;\r\n        switch (status || \"INCLUIDO\") {\r\n          case \"PAUSADO\": this.putCard(this.cards[this.PAUSADO], atividade); break;\r\n          case \"INICIADO\": this.putCard(this.cards[this.INICIADO], atividade); break;\r\n          case \"CONCLUIDO\": this.putCard(this.cards[this.CONCLUIDO], atividade); break;\r\n          default: this.putCard(this.cards[this.NAOINICIADO], atividade);\r\n        }\r\n      });\r\n      for (let cards of this.cards) {\r\n        for (let i = 0; i < cards.length; cards[i].version != this.cardsVersion ? cards.splice(i, 1) : i++);\r\n      }\r\n    } else {\r\n      const outrasIndex = this.labels.findIndex(this.isOutras.bind(this));\r\n      rows?.forEach(row => {\r\n        let atividade: Atividade = row as Atividade;\r\n        let docker: KanbanDocker | undefined = undefined;\r\n        atividade.etiquetas = atividade.etiquetas || [];\r\n        for (let i = 0; i < atividade.etiquetas.length; i++) {\r\n          for (let j = 1; j < this.labels.length && !docker; j++) {\r\n            if (this.labels[j].labels[0].key == atividade.etiquetas[i].key) docker = this.labels[j];\r\n          }\r\n          if (!this.etiquetas.some(x => x.key == atividade.etiquetas[i].key)) this.etiquetas.push(atividade.etiquetas[i]);\r\n        }\r\n        this.putCard(docker?.cards || this.labels[outrasIndex]?.cards || [], atividade);\r\n      });\r\n      for (let cards of this.labels.map(x => x.cards || [])) {\r\n        for (let i = 0; i < cards.length; cards[i].version != this.cardsVersion ? cards.splice(i, 1) : i++);\r\n      }\r\n      /*this.labels[0].labels = [];\r\n      this.etiquetas.forEach(x => {\r\n        if(!this.labels.find(y => y.labels.find(z => z.key == x.key))) this.labels[0].labels.push(x)\r\n      });*/\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public putCard(list: CardItem[], atividade: Atividade) {\r\n    const index = list.findIndex(x => x.id == atividade.id);\r\n    const card = {\r\n      id: atividade.id,\r\n      title: atividade.tipo_atividade?.nome || \"(\" + this.lex.translate('Atividade') + \" sem tipo de registro de execução atribuído)\",\r\n      subTitle: atividade.descricao || \"\",\r\n      data: atividade,\r\n      version: this.cardsVersion,\r\n      menu: undefined,\r\n      dynamicMenu: this.dynamicCardMenu.bind(this)\r\n    };\r\n    if (index >= 0) {\r\n      list[index] = Object.assign(list[index], card);\r\n    } else {\r\n      list.push(card);\r\n    }\r\n  }\r\n\r\n  public dynamicCardMenu(card: CardItem): ToolbarButton[] | undefined {\r\n    const menu: ToolbarButton[] | undefined = this.atividadeService.dynamicButtons.bind(this)(card.data, this.optionsMetadata);\r\n    menu.push({\r\n      icon: \"bi bi-three-dots\",\r\n      hint: \"Opções\",\r\n      dynamicItems: this.cardDynamicOptions.bind(this)\r\n    });\r\n    if (!card.menu || card.menu.map(x => x.hint).join() != menu.map(x => x.hint).join()) card.menu = menu;\r\n    return card.menu;\r\n  }\r\n\r\n  public cardDynamicOptions(card: CardItem): ToolbarButton[] | undefined {\r\n    const olders = card.menu?.find(x => x.hint == \"Opções\");\r\n    if (olders) {\r\n      const options = this.atividadeService.dynamicOptions.bind(this)(card.data, this.optionsMetadata);\r\n      if (!olders.items || olders?.items.map(x => x.label).join() != options.map(x => x.label).join()) olders.items = options;\r\n    }\r\n    return olders?.items;\r\n  }\r\n\r\n  public canDrop(status: string) {\r\n    let self = this;\r\n    return (drag: CardItem) => {\r\n      if (self.isEtiquetas) {\r\n        return true;\r\n      } else {\r\n        const buttons = self.atividadeService.dynamicOptions.bind(self)(drag.data, self.optionsMetadata);\r\n        return !!buttons.find(x => x.id == status);\r\n      }\r\n    }\r\n  }\r\n\r\n  public updateEtiquetasAtividade(dragDrop: any) {\r\n    const sourceLabel = this.labels.find(x => x.cards == dragDrop.source.list)?.labels[0];\r\n    const destinationLabel = this.labels.find(x => x.cards == dragDrop.destination.list)?.labels[0];\r\n    const atividade = dragDrop.destination.atividade as Atividade;\r\n    if (sourceLabel && destinationLabel && sourceLabel.key == destinationLabel.key) return;\r\n    if (sourceLabel) atividade.etiquetas.splice(atividade.etiquetas.findIndex(x => x.key == sourceLabel.key), 1);\r\n    if (destinationLabel) atividade.etiquetas.unshift(destinationLabel);\r\n    this.loading = true;\r\n    this.dao!.update(atividade.id, { etiquetas: atividade.etiquetas }).then(atividade => this.modalRefreshId(atividade).modalClose!.bind(this)(atividade.id)).finally(() => this.loading = false);\r\n  }\r\n\r\n  public onDragged(item: any, list: any[], effect: DropEffect) {\r\n    if ([\"copy\", \"move\"].includes(effect)) {\r\n      const index = list.indexOf(item);\r\n      this.dragDrop.source = { list, index };\r\n      if (this.isEtiquetas) this.updateEtiquetasAtividade(this.dragDrop);\r\n    }\r\n  }\r\n\r\n  public onDrop(event: DndDropEvent, list?: any[]) {\r\n    if (list && [\"copy\", \"move\"].includes(event.dropEffect)) {\r\n      const atividade = event.data.data;\r\n      const card = event.data;\r\n      let index = typeof event.index === \"undefined\" ? list.length : event.index;\r\n      this.dragDrop = { destination: { list, index, card, atividade } };\r\n      if (!this.isEtiquetas) {\r\n        const buttons = this.atividadeService.dynamicOptions.bind(this)(atividade, this.optionsMetadata);\r\n        const docker = this.cards.indexOf(list);\r\n        if (docker >= 0) {\r\n          const action = buttons.find(x => x.id == this.DOCKERS[docker]);\r\n          if (action?.onClick) action?.onClick(atividade);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public onStatusClick(status: BadgeButton) {\r\n    this.filter?.controls.status.setValue(status.data?.status);\r\n    this.filterCollapsed = false;\r\n    this.filterRef?.onButtonFilterClick();\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onEtiquetaClick(etiqueta: LookupItem) {\r\n    let etiquetas = this.filter!.controls.etiquetas.value;\r\n    etiquetas.push(etiqueta);\r\n    this.filter?.controls.etiquetas.setValue(etiquetas);\r\n    this.filterCollapsed = false;\r\n    this.filterRef?.onButtonFilterClick();\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = this.fixedFilter || [];\r\n    let form: any = filter.value;\r\n    if (form.usuario_id?.length) {\r\n      result.push([\"usuario_id\", \"==\", form.usuario_id]);\r\n    }\r\n    if (form.unidade_id?.length) {\r\n      result.push([\"unidade_id\", \"==\", form.unidade_id]);\r\n    }\r\n    if (form.unidades_subordinadas) {\r\n      result.push([\"unidades_subordinadas\", \"==\", true]);\r\n    }\r\n    if (form.etiquetas?.length) {\r\n      result.push([\"etiquetas\", \"in\", form.etiquetas.map((x: LookupItem) => x.value)]);\r\n    }\r\n    if (form.numero_processo?.length) {\r\n      result.push([\"numero_processo\", \"==\", form.numero_processo]);\r\n    }\r\n    if (form.status?.length && !result.find(x => x[0] == \"status\")) {\r\n      result.push([\"status\", \"==\", form.status]);\r\n    }\r\n    if (form.plano_entrega_id?.length) {\r\n      result.push([\"plano_entrega_id\", \"==\", form.plano_entrega_id]);\r\n    }\r\n    if (form.plano_entrega_entrega_id?.length) {\r\n      result.push([\"plano_entrega_entrega_id\", \"==\", form.plano_entrega_entrega_id]);\r\n    }\r\n    result.push([\"data_arquivamento\", \"==\", null]); /* Não trazer as arquivadas */\r\n    return result;\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    this.filter!.controls.atribuidas_para_mim.setValue(false);\r\n    this.filter!.controls.usuario_id.setValue(\"\");\r\n    this.filter!.controls.somente_unidade_atual.setValue(false);\r\n    this.filter!.controls.unidades_subordinadas.setValue(false);\r\n    this.filter!.controls.unidade_id.setValue(\"\");\r\n    this.filter!.controls.numero_processo.setValue(\"\");\r\n    this.filter!.controls.plano_entrega_id.setValue(null);\r\n    this.filter!.controls.plano_entrega_entrega_id.setValue(null);\r\n    if (!this.fixedFilter?.length || !this.fixedFilter.find(x => x[0] == \"status\")) this.filter!.controls.status.setValue(null);\r\n    this.filter!.controls.etiquetas.setValue([]);\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public onSwimlaneDrop(event: DndDropEvent, fromIndex: number) {\r\n    const element = this.labels[fromIndex];\r\n    const toIndex = fromIndex < event.index! ? event.index! - 1 : event.index!;\r\n    this.labels.splice(fromIndex, 1);\r\n    this.labels.splice(toIndex, 0, element);\r\n    this.saveEtiquetasUsuarioConfig();\r\n  }\r\n\r\n  public onEntregaClick(atividade: Atividade) {\r\n    this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'hierarquia'] }, { metadata: { atividade: atividade } })\r\n  }\r\n\r\n  public async onUnidadeChange(event: Event) {\r\n    let unidade_selecionada = await this.unidadeDao.getById(this.filter?.controls.unidade_id.value, ['planos_entrega']);\r\n    this.planosEntregas = unidade_selecionada?.planos_entrega?.map(x => Object.assign({\r\n      key: x.id,\r\n      value: x.nome\r\n    })) || [];\r\n  }\r\n\r\n  public async onPlanoEntregaChange(event: Event) {\r\n    let plano_entrega_selecionado: any[] = [];\r\n    let unidade_selecionada = await this.unidadeDao.getById(this.filter?.controls.unidade_id.value, ['planos_entrega.entregas']);\r\n    unidade_selecionada?.planos_entrega?.forEach(element => {\r\n      if (element.id == this.filter!.controls.plano_entrega_id.value) plano_entrega_selecionado.push(element.entregas);\r\n    });\r\n    this.planosEntregasEntregas = plano_entrega_selecionado[0]!.map((x: { id: any; descricao: any; }) => Object.assign({\r\n      key: x.id,\r\n      value: x.descricao\r\n    })) || [];\r\n  }\r\n}\r\n\r\n","<!--top-alert type=\"warning\" message=\"ATENÇÃO: O módulo Quadro ainda está em desenvolvimento, utilize apenas a Lista!\"></top-alert/-->\r\n<toolbar [buttons]=\"toolbarButtons\">\r\n  <input-switch [size]=\"2\" labelPosition=\"left\" label=\"Resumido\" controlName=\"resumido\" [control]=\"filter!.controls.resumido\" (change)=\"onResumidoChange($event)\"></input-switch>\r\n  <input-switch [size]=\"2\" labelPosition=\"left\" label=\"Usar etiquetas\" class=\"me-2\" controlName=\"usarEtiquetas\" [control]=\"filter!.controls.usarEtiquetas\" (change)=\"onUsarEtiquetasChange($event)\"></input-switch>\r\n</toolbar>\r\n<filter [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\" [form]=\"filter\" #filterRef [where]=\"filterWhere\" [query]=\"query\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"filterCollapsed\">\r\n  <div class=\"row\">\r\n    <input-switch [size]=\"1\" label=\"Minhas\" controlName=\"atribuidas_para_mim\" [control]=\"filter!.controls.atribuidas_para_mim\" (change)=\"onAtribuidasParaMimChange($event)\"></input-switch>\r\n    <input-search [size]=\"4\" [label]=\"lex.translate('Usuário')\" #usuario [control]=\"filter!.controls.usuario_id\" controlName=\"usuario_id\" [disabled]=\"filter!.controls.atribuidas_para_mim.value ? 'true' : undefined\" [dao]=\"usuarioDao\"></input-search>\r\n    <input-switch [size]=\"1\" label=\"Atual\" controlName=\"somente_unidade_atual\" [control]=\"filter!.controls.somente_unidade_atual\" (change)=\"onSomenteUnidadeAtualChange($event)\" labelInfo=\"Somente as atividades da unidade selecionada\"></input-switch>\r\n    <input-text [size]=\"3\" [label]=\"'Nº '+ lex.translate('Processo')+' (Sei)'\" maskFormat=\"00000.000000/0000-00\" controlName=\"numero_processo\" [control]=\"filter!.controls.numero_processo\" labelInfo=\"Pesquisa no documento de requisição, conclusão e nos documentos das tarefas\" [attr.maxlength]=250></input-text>\r\n    <input-select [size]=\"3\" label=\"Status\" itemTodos=\"- Todos -\" [valueTodos]=\"null\" [disabled]=\"fixedFilter?.length && fixedFilter![0]![0] == 'status' ? 'true' : undefined\" controlName=\"status\" [control]=\"filter!.controls.status\" [items]=\"lookup.ATIVIDADE_STATUS\"></input-select>\r\n  </div>\r\n  <div class=\"row\">\r\n    <input-search [size]=\"3\" [label]=\"lex.translate('Unidade')\" #unidade [control]=\"filter!.controls.unidade_id\" controlName=\"unidade_id\" [disabled]=\"filter!.controls.somente_unidade_atual.value ? 'true' : undefined\" [dao]=\"unidadeDao\" (change)=\"onUnidadeChange($event)\"></input-search>\r\n    <input-switch [size]=\"1\" label=\"Sub.\" controlName=\"unidades_subordinadas\" [control]=\"filter!.controls.unidades_subordinadas\" labelInfo=\"Incluir as unidades subordinadas\"></input-switch>\r\n    <input-select [size]=\"3\" [label]=\"lex.translate('Plano de Entrega')\" #planoEntrega itemTodos=\"- Todos -\" [valueTodos]=\"null\" controlName=\"plano_entrega_id\" [control]=\"filter!.controls.plano_entrega_id\" [items]=\"planosEntregas\" (change)=\"onPlanoEntregaChange($event)\"></input-select>\r\n    <input-select [size]=\"2\" [label]=\"lex.translate('Entrega do Plano de Entrega')\" #planoEntregaEntrega itemTodos=\"- Todos -\" [valueTodos]=\"null\" controlName=\"plano_entrega_entrega_id\" [control]=\"filter!.controls.plano_entrega_entrega_id\" [items]=\"planosEntregasEntregas\"></input-select>\r\n    <input-multiselect noForm noBox [size]=\"3\" label=\"Etiquetas\" controlName=\"etiquetas\" [control]=\"filter!.controls.etiquetas\"></input-multiselect>\r\n  </div>\r\n</filter>\r\n<ng-template #ticket let-card=\"card\">\r\n  <badge *ngIf=\"card.data.plano_trabalho_entrega\" [icon]=\"entityService.getIcon('Entrega')\" [label]=\"card.data.plano_trabalho_entrega.descricao\" color=\"info\" (click)=\"onEntregaClick(card.data)\" role=\"button\"></badge>\r\n  <div class=\"d-flex w-100\">\r\n    <div class=\"flex-fill\">\r\n      <div class=\"text-nowrap\">\r\n        <span class=\"badge bg-light text-dark\">\r\n          #{{card.data.numero}}\r\n        </span>\r\n        <span class=\"badge bg-light text-dark\">\r\n          <i class=\"bi bi-briefcase\"></i>\r\n          {{card.data.unidade.sigla}}\r\n        </span>\r\n        <span class=\"badge bg-light text-dark\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Responsável: {{card.data.usuario?.nome || 'Não atribuido a nenhum usuário'}}\">\r\n          <i [class]=\"'bi ' + (card.data.usuario?.nome?.length ? 'bi-person-check' : 'bi-person-x')\"></i>\r\n          {{util.apelidoOuNome(card.data.usuario, true) || \"(Não atribuído)\"}}\r\n        </span>\r\n      </div>\r\n      <span class=\"badge bg-light text-dark fw-light\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Demandante: {{card.data.demandante?.nome || 'Desconhecido'}}\">\r\n        <i class=\"bi bi-cursor\"></i>\r\n        {{util.apelidoOuNome(card.data.demandante, true) || \"Desconhecido\"}}\r\n      </span>\r\n    </div>\r\n    <div *ngIf=\"card.data.usuario\">\r\n      <profile-picture [url]=\"card.data.usuario.url_foto\" [hint]=\"'Responsável: ' + (card.data.usuario?.nome || 'Não atribuido a nenhum usuário')\"></profile-picture>\r\n    </div>\r\n  </div>\r\n  <ng-container *ngIf=\"!filter?.controls?.resumido?.value\">\r\n    <div class=\"card-status-container\">\r\n      <documentos-badge [documento]=\"card.data.documento_requisicao\"></documentos-badge>\r\n      <!--badge *ngIf=\"card.data.numero_processo?.length\" [label]=\"card.data.numero_processo\" color=\"light\" icon=\"bi-folder-symlink\" [data]=\"card.data\" [click]=\"documentoService.onProcessoClick.bind(this)\" [hint]=\"documentoService.processoHint(card.data)\">\r\n                <small *ngIf=\"card.data.numero_requisicao?.length\"><br>Sei nº {{card.data.numero_requisicao}}</small>\r\n            </badge/-->\r\n      <badge *ngFor=\"let status of atividadeService.getStatus(card.data)\" class=\"ms-1\" [color]=\"status.color\" [label]=\"status.label\" [icon]=\"status.icon\" [data]=\"status\" [click]=\"status.data.filter ? onStatusClick.bind(this) : undefined\"></badge>\r\n      <badge *ngFor=\"let etiqueta of card.data.etiquetas\" class=\"ms-1\" [color]=\"etiqueta.color\" [label]=\"etiqueta.value\" [icon]=\"etiqueta.icon\" [data]=\"etiqueta\" [click]=\"onEtiquetaClick.bind(this)\"></badge>\r\n    </div>\r\n    <separator *ngIf=\"card.data.checklist?.length\" small title=\"Checklist\"></separator>\r\n    <table *ngIf=\"card.data.checklist?.length\">\r\n      <tr *ngFor=\"let check of card.data.checklist\">\r\n        <td><i *ngIf=\"check.checked\" class=\"bi bi-check-circle\"></i></td>\r\n        <td class=\"micro-text fw-ligh\">{{check.texto}}</td>\r\n      </tr>\r\n    </table>\r\n    <reaction [entity]=\"card.data\" origem=\"ATIVIDADE\"></reaction>\r\n    <separator *ngIf=\"card.data.tarefas?.length\" [title]=\"'Tarefas (' + card.data.tarefas?.length + ')'\" collapse [collapsed]=\"true\">\r\n      <small *ngFor=\"let tarefa of card.data.tarefas\">{{tarefa.descricao}}</small>\r\n    </separator>\r\n    <comentarios-widget [entity]=\"card.data\" [selectable]=\"false\" origem=\"ATIVIDADE\" [query]=\"query\"></comentarios-widget>\r\n  </ng-container>\r\n</ng-template>\r\n<ng-template #editDocker>\r\n  <input-select [size]=\"12\" controlName=\"etiqueta\" [control]=\"formEdit.controls.etiqueta\" [items]=\"etiquetasEdit\"></input-select>\r\n</ng-template>\r\n<ng-template #placeholder>\r\n  <div class=\"card-body\">\r\n    <div class=\"d-flex w-100\">\r\n      <div class=\"flex-fill\">\r\n        <h5 class=\"card-title placeholder-glow\"><span class=\"placeholder col-6\"></span></h5>\r\n      </div>\r\n      <div class=\"btn-group\" role=\"group\" aria-label=\"Basic outlined example\">\r\n        <button type=\"button\" class=\"btn btn-sm btn-outline-secondary disabled placeholder\">\r\n          <i class=\"bi bi-question\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <h6 class=\"card-subtitle mb-2 text-muted placeholder-glow\"><span class=\"placeholder col-8\"></span></h6>\r\n    <p class=\"card-text placeholder-glow\">\r\n      <span class=\"placeholder col-7\"></span>\r\n      <span class=\"placeholder col-4\"></span>\r\n      <span class=\"placeholder col-4\"></span>\r\n      <span class=\"placeholder col-6\"></span>\r\n      <span class=\"placeholder col-8\"></span>\r\n    </p>\r\n  </div>\r\n</ng-template>\r\n<!-- Kanban por status: Não iniciado, Iniciado, Pausado, Concluido, Avaliado -->\r\n<kanban *ngIf=\"!isEtiquetas\" [template]=\"ticket\" [placeholderTemplate]=\"placeholder\" [loading]=\"loading\" useCardData [dragSwimlanes]=\"false\">\r\n  <swimlane>\r\n    <docker #dockerNaoIniciado icon=\"bi bi-hourglass-split\" title=\"Não iniciado\" color=\"border-warning\" [collapse]=\"cardsConfig.naoIniciado\" [toggle]=\"onDockerCollapse.bind(this)\" [menu]=\"menuDockerNaoIniciado\" [dragged]=\"onDragged.bind(this)\" [drop]=\"onDrop.bind(this)\" [dropIf]=\"canDrop(DOCKERS[NAOINICIADO])\" [cards]=\"cards[NAOINICIADO]\"></docker>\r\n  </swimlane>\r\n  <swimlane>\r\n    <docker #dockerIniciado icon=\"bi bi-play-circle\" title=\"Iniciadas\" color=\"border-info\" [collapse]=\"cardsConfig.iniciado\" [toggle]=\"onDockerCollapse.bind(this)\" [dragged]=\"onDragged.bind(this)\" [drop]=\"onDrop.bind(this)\" [dropIf]=\"canDrop(DOCKERS[INICIADO])\" [cards]=\"cards[INICIADO]\"></docker>\r\n    <docker #dockerPausado icon=\"bi bi-pause-circle\" title=\"Pausadas\" color=\"border-danger\" [collapse]=\"cardsConfig.pausado\" [toggle]=\"onDockerCollapse.bind(this)\" [dragged]=\"onDragged.bind(this)\" [drop]=\"onDrop.bind(this)\" [dropIf]=\"canDrop(DOCKERS[PAUSADO])\" [cards]=\"cards[PAUSADO]\"></docker>\r\n  </swimlane>\r\n  <swimlane>\r\n    <docker #dockerConcluido icon=\"bi bi-check-circle\" title=\"Concluídas\" color=\"border-primary\" [collapse]=\"cardsConfig.concluido\" [toggle]=\"onDockerCollapse.bind(this)\" [dragged]=\"onDragged.bind(this)\" [drop]=\"onDrop.bind(this)\" [dropIf]=\"canDrop(DOCKERS[CONCLUIDO])\" [cards]=\"cards[CONCLUIDO]\"></docker>\r\n  </swimlane>\r\n  <!--swimlane>\r\n        <docker #dockerAvaliado icon=\"bi bi-star-half\" title=\"Avaliadas\" color=\"border-success\" [collapse]=\"cardsConfig.avaliado\" [toggle]=\"onDockerCollapse.bind(this)\" [dragged]=\"onDragged.bind(this)\" [drop]=\"onDrop.bind(this)\" [dropIf]=\"canDrop(DOCKERS[AVALIADO])\" [cards]=\"cards[AVALIADO]\"></docker>\r\n    </swimlane//-->\r\n</kanban>\r\n<!-- Kanban por label (definido polo usuário) -->\r\n<kanban #kanbanEtiquetas *ngIf=\"isEtiquetas\" [dockers]=\"labels\" [template]=\"ticket\" [placeholderTemplate]=\"placeholder\" [loading]=\"loading\" [swimlaneDrop]=\"onSwimlaneDrop.bind(this)\" [dockerDragged]=\"onDragged.bind(this)\" [dockerDrop]=\"onDrop.bind(this)\" [dockerEditTemplate]=\"editDocker\" [dockerToggle]=\"onDockerCollapse.bind(this)\" [dockerEdit]=\"editEtiquetas.bind(this)\" [dockerSave]=\"saveEtiquetas.bind(this)\" [dockerDelete]=\"deleteEtiquetas.bind(this)\" [dockerCancel]=\"cancelEtiquetas.bind(this)\" [dockerColorStyle]=\"getLabelStyle\" useCardData>\r\n</kanban>","import { Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormControl, FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { AtividadeTarefaDaoService } from 'src/app/dao/atividade-tarefa-dao.service';\r\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\r\nimport { Comentario } from 'src/app/models/comentario';\r\nimport { AtividadeTarefa } from 'src/app/models/atividade-tarefa.model';\r\nimport { Atividade } from 'src/app/models/atividade.model';\r\nimport { PageBase } from 'src/app/modules/base/page-base';\r\nimport { AtividadeService } from '../atividade.service';\r\n\r\n@Component({\r\n  selector: 'atividade-list-tarefa',\r\n  templateUrl: './atividade-list-tarefa.component.html',\r\n  styleUrls: ['./atividade-list-tarefa.component.scss']\r\n})\r\nexport class AtividadeListTarefaComponent extends PageBase {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @Input() control: AbstractControl = new FormControl();\r\n  @Input() persist?: string;\r\n  @Input() disabled: boolean = false;\r\n  @Input() editable: boolean = true;\r\n  @Input() selectable: boolean = false;\r\n  @Input() id_processo: number = 0;\r\n  @Input() consolidacao: boolean = true;//\r\n  @Input() set atividade(value: Atividade | undefined) {\r\n    if (this._atividade != value) {\r\n      this._atividade = value;\r\n      if (this.isPersist && value?.tarefas) {\r\n        this.control.setValue(value?.tarefas);\r\n      }\r\n    }\r\n  }\r\n  get atividade(): Atividade | undefined {\r\n    return this._atividade;\r\n  }\r\n\r\n  public formEdit: FormGroup;\r\n  public dao: AtividadeTarefaDaoService;\r\n  public atividadeService: AtividadeService;\r\n  public allPages: ListenerAllPagesService;\r\n  public join: string[];\r\n  public addComentarioButton: ToolbarButton = {\r\n    icon: \"bi bi-plus-circle\",\r\n    hint: \"Incluir comentário\"\r\n  }\r\n\r\n  private _atividade?: Atividade;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<AtividadeTarefaDaoService>(AtividadeTarefaDaoService);\r\n    this.atividadeService = injector.get<AtividadeService>(AtividadeService);\r\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\r\n    this.formEdit = this.fh.FormBuilder({\r\n      concluido: { default: false }\r\n    });\r\n    this.join = [\"tipo_tarefa\", \"comentarios.usuario\"];\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    if (this.queryParams?.id_processo) {\r\n      this.id_processo = this.queryParams?.id_processo;\r\n    }\r\n    if (this.isPersist && this.atividade?.tarefas) {\r\n      this.control.setValue(this.atividade?.tarefas);\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    if (this.id_processo) {\r\n      this.loading = true;\r\n      this.dao!.query({ where: [[\"id_processo\", \"==\", this.id_processo]] }).asPromise().then(tarefas => {\r\n        this.control.setValue(tarefas || []);\r\n        this.cdRef.detectChanges();\r\n      }).finally(() => {\r\n        this.loading = false;\r\n      })\r\n    }\r\n  }\r\n\r\n  public get isPersist(): boolean {\r\n    return this.persist != undefined;\r\n  }\r\n\r\n  public async addTarefa() {\r\n    const tarefa = new AtividadeTarefa();\r\n    tarefa.id = this.dao!.generateUuid();\r\n    tarefa.usuario = this.auth.usuario;\r\n    tarefa.usuario_id = this.auth.usuario!.id;\r\n    tarefa.atividade_id = this.atividade?.id || \"\";\r\n    tarefa.comentarios = [];\r\n    tarefa._status = \"ADD\";\r\n    this.go.navigate({ route: ['gestao', 'atividade', 'tarefa'] }, {\r\n      metadata: { tarefa: tarefa, atividade: this.atividade }, modalClose: (modalResult) => {\r\n        if (modalResult) {\r\n          (async () => {\r\n            const tarefas = (this.control!.value || []) as AtividadeTarefa[];\r\n            if (this.isPersist && this.atividade?.tarefas) {\r\n              this.grid!.error = undefined;\r\n              try {\r\n                this.dialog.showSppinerOverlay(\"Salvando dados do formulário\");\r\n                modalResult = await this.dao.save(modalResult, this.join);\r\n              } catch (error: any) {\r\n                this.grid!.error = error.message ? error.message : error;\r\n                modalResult = undefined;\r\n              } finally {\r\n                this.dialog.closeSppinerOverlay();\r\n              }\r\n            }\r\n            if (modalResult) {\r\n              tarefas.push(modalResult);\r\n              this.control!.setValue(tarefas);\r\n            }\r\n            this.cdRef.detectChanges();\r\n          })();\r\n        }\r\n      }\r\n    });\r\n    return undefined;\r\n  }\r\n\r\n  public editTarefa = async (row: any) => {\r\n    this.go.navigate({ route: ['gestao', 'atividade', 'tarefa'] }, {\r\n      metadata: { tarefa: row, atividade: this.atividade }, modalClose: (modalResult) => {\r\n        if (modalResult) {\r\n          (async () => {\r\n            const tarefas = this.control!.value as AtividadeTarefa[];\r\n            const index = tarefas.findIndex(x => x.id == row.id);\r\n            if (index >= 0) {\r\n              modalResult._status = modalResult._status == \"ADD\" ? \"ADD\" : \"EDIT\";\r\n              if (this.isPersist && this.atividade?.tarefas) {\r\n                this.grid!.error = undefined;\r\n                try {\r\n                  this.dialog.showSppinerOverlay(\"Salvando dados do formulário\");\r\n                  modalResult = await this.dao.save(modalResult, this.join);\r\n                } catch (error: any) {\r\n                  this.grid!.error = error.message ? error.message : error;\r\n                  modalResult = undefined;\r\n                } finally {\r\n                  this.dialog.closeSppinerOverlay();\r\n                }\r\n              }\r\n              if (modalResult) {\r\n                tarefas[index] = modalResult;\r\n                this.control!.setValue(tarefas);\r\n              }\r\n            }\r\n            this.cdRef.detectChanges();\r\n          })();\r\n        }\r\n      }\r\n    });\r\n    return undefined;\r\n  }\r\n\r\n  public async deleteTarefa(row: any) {\r\n    const confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\r\n    this.grid!.error = undefined;\r\n    if (confirm) {\r\n      try {\r\n        if ((this.isPersist && this.atividade?.tarefas) || row._status == \"ADD\") {\r\n          const tarefas = this.control!.value as AtividadeTarefa[];\r\n          const index = tarefas.findIndex(x => x.id == row.id);\r\n          if (this.isPersist && this.atividade?.tarefas) await this.dao!.delete(row);\r\n          if (index >= 0) {\r\n            tarefas.splice(index, 1);\r\n            this.control!.setValue(tarefas);\r\n          }\r\n        } else {\r\n          row._status = \"DELETE\";\r\n        }\r\n        this.dialog.alert(\"Sucesso\", \"Registro excluído com sucesso!\");\r\n        this.cdRef.detectChanges();\r\n      } catch (error: any) {\r\n        this.grid!.error = error?.message ? error?.message : error;\r\n      }\r\n    }\r\n  }\r\n\r\n  /*public comentarioClick(element: HTMLSpanElement) {\r\n    const value = element.getAttribute(\"data-expanded\");\r\n    element.setAttribute(\"data-expanded\", value == \"true\" ? \"false\" : \"true\");\r\n  }*/\r\n\r\n  /*public addComentarioClick(row: any) {\r\n    this.go.navigate({route: ['gestao', 'atividade', 'entrega', row.id, 'comentar']}, {modal: true, metadata: {entrega: row, atividade: this.atividade}, modalClose: this.addComentarioResult.bind(this)});\r\n  }*/\r\n\r\n  public async onColumnConcluidoEdit(row: any) {\r\n    this.formEdit.controls.concluido.setValue(!!row.data_conclusao);\r\n  }\r\n\r\n  public async onColumnConcluidoSave(row: any) {\r\n    try {\r\n      const data_conclusao = this.formEdit.controls.concluido.value ? this.auth.hora : null; //&& !!row.data_conclusao \r\n      const saved = await this.dao!.update(row.id, {\r\n        data_conclusao: data_conclusao,\r\n      });\r\n      row.concluido = this.formEdit.controls.concluido.value;\r\n      row.data_conclusao = row.concluido ? data_conclusao : null;\r\n      return !!saved;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addComentarioResult(modalResult: AtividadeTarefa) {\r\n    if (modalResult) {\r\n      if (this.isPersist) {\r\n        this.dao!.getById(modalResult.id, this.join).then(tarefa => {\r\n          if (tarefa) {\r\n            const tarefas = this.control.value || [];\r\n            const index = tarefas.findIndex((x: AtividadeTarefa) => x.id = tarefa.id);\r\n            if (index >= 0) {\r\n              tarefas[index] = tarefa;\r\n              this.control.setValue(tarefas);\r\n              this.cdRef.detectChanges();\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        const changed = modalResult.comentarios.filter((x: Comentario) => [\"ADD\", \"EDIT\", \"DELETE\"].includes(x._status || \"\")).length > 0;\r\n        modalResult._status = changed && ![\"ADD\", \"EDIT\", \"DELETE\"].includes(modalResult._status || \"\") ? \"EDIT\" : modalResult._status;\r\n      }\r\n    }\r\n  }\r\n\r\n  public dynamicButtons(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let tarefa: AtividadeTarefa = row as AtividadeTarefa;\r\n    let lastConsolidacao = this.atividadeService.lastConsolidacao(this.atividade!.metadados!.consolidacoes);\r\n    /* (RN_CSLD_12) Tarefas concluidas de atividades em consolidação CONCLUIDO ou AVALIADO não poderão mais ser alteradas/excluidas, nem Remover conclusão.\r\n       (RN_CSLD_13) Tarefas de atividades em consolidação CONCLUIDO ou AVALIADO não poderão mais ser alteradas/excluidas, somente a opção de Concluir ficará disponível. */\r\n    if (!lastConsolidacao || lastConsolidacao.status == \"INCLUIDO\" || this.util.asTimestamp(lastConsolidacao.data_conclusao) < this.util.asTimestamp(tarefa.created_at)) {\r\n      //result.push(Object.assign(this.grid!.BUTTON_EDIT, { onClick: this.editTarefa.bind(this) }));\r\n      //result.push(Object.assign(this.grid!.BUTTON_DELETE, { onClick: this.deleteTarefa.bind(this) }));\r\n      result.push({ label: \"Alterar\", icon: \"bi bi-pencil-square\", hint: \"Alterar\", color: \"btn-outline-info\", onClick: this.editTarefa.bind(this) });\r\n      result.push({ label: \"Excluir\", icon: \"bi bi-trash\", hint: \"Excluir\", color: \"btn-outline-danger\", onClick: this.deleteTarefa.bind(this) });\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public canConcluidoEdit(row: any): boolean {\r\n    let tarefa: AtividadeTarefa = row as AtividadeTarefa;\r\n    let lastConsolidacao = this.atividadeService.lastConsolidacao(this.atividade!.metadados!.consolidacoes);\r\n    /* (RN_CSLD_12) e (RN_CSLD_13) */\r\n    return !lastConsolidacao || lastConsolidacao.status == \"INCLUIDO\" || this.util.asTimestamp(lastConsolidacao.data_conclusao) < this.util.asTimestamp(tarefa.data_conclusao);\r\n  }\r\n\r\n}\r\n","<grid [control]=\"control\" [add]=\"addTarefa.bind(this)\" [disabled]=\"disabled ? 'true' : undefined\" [minHeight]=\"50\" [hasEdit]=\"false\" [hasDelete]=\"false\" [editable]=\"editable ? 'true' : undefined\">\r\n    <columns>\r\n        <column [title]=\"lex.translate('Tipo de Tarefa') + ' e Descrição'\" [template]=\"tipoTarefaDescricao\">\r\n            <ng-template let-row=\"row\" #tipoTarefaDescricao>\r\n                <strong *ngIf=\"row.tipo_tarefa?.nome?.length\" class=\"d-block\">{{row.tipo_tarefa?.nome || \"\"}}</strong>\r\n                {{row.descricao}}\r\n            </ng-template>\r\n        </column>\r\n        <!--<column type=\"timer\" title=\"Tempo estimado\" onlyHours field=\"tempo_estimado\"></column>-->\r\n        <column *ngIf=\"consolidacao\" title=\"Documento\" [template]=\"documento\">\r\n            <ng-template let-row=\"row\" #documento>\r\n                <documentos-badge [documento]=\"row.documento\"></documentos-badge>\r\n                <!--span class=\"badge bg-light text-dark\" [attr.role]=\"row.numero_processo?.length ? 'button' : undefined\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" (click)=\"documentoService.onProcessoClick(row)\" [title]=\"allPages.getButtonTitle(row.numero_processo, row.numero_documento)\">\r\n                    <i [class]=\"'bi ' + (row.numero_processo?.length ? 'bi bi-folder-symlink' : 'bi bi-x-lg')\"></i>\r\n                    {{row.numero_processo?.length ? row.numero_processo : \"Não atribuído\"}}\r\n                    <small *ngIf=\"row.numero_documento?.length\"><br>Sei nº {{row.numero_documento}}</small>\r\n                </span/-->\r\n            </ng-template>\r\n        </column>\r\n        <column *ngIf=\"consolidacao\" title=\"Concluído\" [align]=\"'center'\" [template]=\"concluido\" [columnEditTemplate]=\"editConcluido\" [canEdit]=\"canConcluidoEdit.bind(this)\" [edit]=\"editable ? onColumnConcluidoEdit.bind(this) : undefined\" [save]=\"editable ? onColumnConcluidoSave.bind(this) : undefined\">\r\n            <ng-template let-row=\"row\" #concluido>\r\n                <div class=\"text-center\"><i *ngIf=\"row.data_conclusao\" class=\"bi bi-check-circle\"></i></div>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #editConcluido>\r\n                <input-switch [size]=\"12\" controlName=\"concluido\" [control]=\"formEdit!.controls.concluido\"></input-switch>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Informações adicionais\" [template]=\"tarefaComentarios\">\r\n            <ng-template let-row=\"row\" #tarefaComentarios>\r\n                <comentarios-widget [entity]=\"row\" [noPersist]=\"isPersist ? undefined : 'true'\" [selectable]=\"selectable\" origem=\"ATIVIDADE_TAREFA\" [grid]=\"grid\" [save]=\"addComentarioResult.bind(this)\"></comentarios-widget>\r\n            </ng-template>\r\n        </column>\r\n        <column *ngIf=\"editable && !selectable && !id_processo\" type=\"options\" [dynamicButtons]=\"dynamicButtons.bind(this)\"></column>\r\n    </columns>\r\n</grid>\r\n","import { Component, Injector, OnInit } from '@angular/core';\r\nimport { PageBase } from 'src/app/modules/base/page-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\n\r\n@Component({\r\n  selector: 'app-atividade-list',\r\n  templateUrl: './atividade-list.component.html',\r\n  styleUrls: ['./atividade-list.component.scss']\r\n})\r\nexport class AtividadeListComponent extends PageBase implements OnInit {\r\n  public activeTab: string = \"TABELA\";\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    /* Inicializações */\r\n    this.title = this.lex.translate(\"Atividades\");\r\n    this.code = \"MOD_DMD\";\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.activeTab = this.usuarioConfig.active_tab || \"TABELA\";\r\n  }\r\n\r\n  public async onSelectTab(tab: LookupItem) {\r\n    this.activeTab = tab.key;\r\n    if(this.viewInit) this.saveUsuarioConfig({active_tab: this.activeTab});\r\n  }\r\n\r\n}","<tabs right [title]=\"isModal ? '' : title\" [select]=\"onSelectTab.bind(this)\" [active]=\"activeTab\">\r\n    <tab key=\"TABELA\" icon=\"bi bi-table\" label=\"Lista\" [template]=\"grid\">\r\n        <ng-template #grid>\r\n            <atividade-list-grid [snapshot]=\"snapshot || modalRoute || route.snapshot\"></atividade-list-grid>\r\n        </ng-template>\r\n    </tab>\r\n    <tab key=\"KANBAN\" icon=\"bi bi-card-heading\" label=\"Quadro\" [template]=\"kanban\">\r\n        <ng-template #kanban>\r\n            <atividade-list-kanban [snapshot]=\"snapshot || modalRoute || route.snapshot\"></atividade-list-kanban>\r\n        </ng-template>\r\n    </tab>\r\n    <tab *ngIf=\"false && auth.hasPermissionTo('MOD_ATV_DASH')\" key=\"DASHBOARD\" icon=\"bi bi-file-earmark-bar-graph\" label=\"Dashboard\" [template]=\"dashboard\">\r\n        <ng-template #dashboard>\r\n            <atividade-dashboard [snapshot]=\"snapshot || modalRoute || route.snapshot\"></atividade-dashboard>\r\n        </ng-template>\r\n    </tab>\r\n</tabs>","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { AtividadeFormConcluirComponent } from './atividade-form-concluir/atividade-form-concluir.component';\r\nimport { AtividadeFormTarefaComponent } from './atividade-form-tarefa/atividade-form-tarefa.component';\r\nimport { AtividadeFormIniciarComponent } from './atividade-form-iniciar/atividade-form-iniciar.component';\r\nimport { AtividadeFormPausarComponent } from './atividade-form-pausar/atividade-form-pausar.component';\r\nimport { AtividadeFormProrrogarComponent } from './atividade-form-prorrogar/atividade-form-prorrogar.component';\r\nimport { AtividadeFormComponent } from './atividade-form/atividade-form.component';\r\nimport { AtividadeListTarefaComponent } from './atividade-list-tarefa/atividade-list-tarefa.component';\r\nimport { AtividadeListGridComponent } from './atividade-list-grid/atividade-list-grid.component';\r\nimport { AtividadeListComponent } from './atividade-list/atividade-list.component';\r\nimport { AtividadeHierarquiaComponent } from './atividade-hierarquia/atividade-hierarquia.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: AtividadeListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Atividades\" } },\r\n  { path: 'grid', component: AtividadeListGridComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Atividades\" } },\r\n  { path: 'new', component: AtividadeFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"\", modal: true } },\r\n  { path: 'tarefa', component: AtividadeFormTarefaComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Tarefa da Atividade\", modal: true } },\r\n  { path: 'tarefa/concluir', component: AtividadeListTarefaComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Concluir Tarefa\", modal: true } },\r\n  { path: 'tarefa/:tarefa_id/comentar', component: AtividadeFormTarefaComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Comentários\", modal: true } },\r\n  { path: ':id/edit', component: AtividadeFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Edição da Atividade\", modal: true } },\r\n  { path: ':id/consult', component: AtividadeFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Consulta a Atividade\", modal: true } },\r\n  { path: ':id/clonar', component: AtividadeFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Clone de Atividade\", modal: true } },\r\n  { path: ':id/iniciar', component: AtividadeFormIniciarComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Início de Atividade\", modal: true } },\r\n  { path: ':id/concluir', component: AtividadeFormConcluirComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Conclusão de Atividade\", modal: true } },\r\n  { path: ':id/pausar', component: AtividadeFormPausarComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Suspensão de Atividade\", modal: true } },\r\n  { path: ':id/prorrogar', component: AtividadeFormProrrogarComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Prorrogação de Atividade\", modal: true } },\r\n  { path: ':id/comentar', component: AtividadeFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Comentários de Atividade\", modal: true } },\r\n  { path: ':id/hierarquia', component: AtividadeHierarquiaComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Hierarquia da Atividade\", modal: true } }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AtividadeRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AtividadeRoutingModule } from './atividade-routing.module';\r\nimport { AtividadeListComponent } from './atividade-list/atividade-list.component';\r\nimport { AtividadeFormComponent } from './atividade-form/atividade-form.component';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { AtividadeListGridComponent } from './atividade-list-grid/atividade-list-grid.component';\r\nimport { AtividadeFormIniciarComponent } from './atividade-form-iniciar/atividade-form-iniciar.component';\r\nimport { AtividadeFormConcluirComponent } from './atividade-form-concluir/atividade-form-concluir.component';\r\nimport { AtividadeFormPausarComponent } from './atividade-form-pausar/atividade-form-pausar.component';\r\nimport { AtividadeFormProrrogarComponent } from './atividade-form-prorrogar/atividade-form-prorrogar.component';\r\nimport { UteisModule } from '../../uteis/uteis.module';\r\nimport { AtividadeListKanbanComponent } from './atividade-list-kanban/atividade-list-kanban.component';\r\nimport { AtividadeDashboardComponent } from './atividade-dashboard/atividade-dashboard.component';\r\nimport { AtividadeFormTarefaComponent } from './atividade-form-tarefa/atividade-form-tarefa.component';\r\nimport { AtividadeListTarefaComponent } from './atividade-list-tarefa/atividade-list-tarefa.component';\r\nimport { AtividadeHierarquiaComponent } from './atividade-hierarquia/atividade-hierarquia.component';\r\nimport { OrganizationChartModule } from 'primeng/organizationchart';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AtividadeListComponent,\r\n    AtividadeFormComponent,\r\n    AtividadeListGridComponent,\r\n    AtividadeFormIniciarComponent,\r\n    AtividadeFormConcluirComponent,\r\n    AtividadeFormPausarComponent,\r\n    AtividadeDashboardComponent,\r\n    AtividadeFormProrrogarComponent,\r\n    AtividadeFormTarefaComponent,\r\n    AtividadeListTarefaComponent,\r\n    AtividadeListKanbanComponent,\r\n    AtividadeHierarquiaComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    AtividadeRoutingModule,\r\n    ComponentsModule,\r\n    UteisModule,\r\n    OrganizationChartModule\r\n  ],\r\n  exports: [\r\n    AtividadeListGridComponent,\r\n    AtividadeListTarefaComponent\r\n  ]\r\n})\r\nexport class AtividadeModule { }\r\n"],"names":["ChangeDetectorRef","FormHelperService","AtividadeListBase","GridComponent","AtividadeDashboardComponent","constructor","injector","validate","control","controlName","result","title","lex","translate","code","fh","get","cdRef","filter","FormBuilder","programa_id","default","unidadesSubordinadas","ngOnInit","_","i0","ɵɵdirectiveInject","Injector","_2","selectors","viewQuery","AtividadeDashboardComponent_Query","rf","ctx","EditableFormComponent","PageFormBase","AtividadeDaoService","Atividade","CalendarService","TipoDocumentoDaoService","TipoAtividadeDaoService","Documento","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ctx_r2","form","controls","data_estipulada_entrega","ctx_r4","esforco","ɵɵlistener","AtividadeFormConcluirComponent_div_14_Template_input_datetime_change_2_listener","$event","ɵɵrestoreView","_r10","ctx_r9","ɵɵnextContext","ɵɵresetView","onDataEntregaChange","ctx_r5","data_inicio","data_entrega","AtividadeFormConcluirComponent_ng_template_15_Template_input_datetime_change_2_listener","_r12","ctx_r11","ctx_r7","tempo_despendido","ctx_r8","efemerides","AtividadeFormConcluirComponent","modalWidth","entregas","value","length","util","isDataValid","tipoAtividadeDao","tipoDocumentoDao","calendar","tipo_atividade_id","data_distribuicao","progresso","arquivar","descricao_tecnica","documento_entrega","documento_entrega_id","plano_trabalho_entrega_id","join","loadData","entity","_this","_asyncToGenerator","formValue","Object","assign","fillForm","auth","hora","tipoAtividade","loadSearch","tipo_atividade","unidade_id","unidade","id","selecionaUnidade","plano_trabalho","map","x","key","descricao","plano_entrega_entrega","data","patchValue","initializeData","_this2","dao","getAtividade","urlParams","event","entrega","inicio","cargaHoraria","carga_horaria","pausas","afastamentos","usuario","calculaDataTempoUnidade","undefined","setValue","tempoUtil","detectChanges","onTipoAtividadeSelect","item","saveData","Promise","resolve","reject","atividade","fill","data_arquivamento","Date","produtividade","tipo_modalidade","atividade_tempo_despendido","concluir","then","saved","catch","AtividadeFormConcluirComponent_Query","AtividadeFormConcluirComponent_Template_editable_form_submit_0_listener","onSaveData","AtividadeFormConcluirComponent_Template_editable_form_cancel_0_listener","onCancel","AtividadeFormConcluirComponent_Template_input_search_select_3_listener","ɵɵtemplate","AtividadeFormConcluirComponent_div_10_Template","AtividadeFormConcluirComponent_ng_template_11_Template","ɵɵtemplateRefExtractor","AtividadeFormConcluirComponent_div_14_Template","AtividadeFormConcluirComponent_ng_template_15_Template","AtividadeFormConcluirComponent_separator_18_Template","formDisabled","atividade_esforco","_r3","_r6","UsuarioDaoService","PlanoTrabalhoDaoService","AtividadeFormIniciarComponent","labelInfoSuspender","n","iniciadas","s","q","toString","planoTrabalhoSelecionado","planosTrabalhos","planosTrabalhosEntregas","planoTrabalhoJoin","includes","formValidation","asTimestamp","data_fim","getDateFormatted","usuarioDao","planoTrabalhoDao","usuario_id","plano_trabalho_id","tempo_planejado","suspender","loadIniciadas","idsIniciadas","onUsuarioSelect","planos_trabalho","nome","onPlanoChange","planoTrabalho","selectedItem","getById","expedienteMedio","horasUteis","planoTrabalhoEntregaId","setStrTime","unidadeHora","Event","_this3","iniciar","AtividadeFormIniciarComponent_Query","AtividadeFormIniciarComponent_Template_editable_form_submit_0_listener","AtividadeFormIniciarComponent_Template_editable_form_cancel_0_listener","AtividadeFormIniciarComponent_Template_input_search_select_6_listener","AtividadeFormIniciarComponent_Template_input_select_change_9_listener","ɵɵpureFunction0","_c3","ctx_r1","AtividadeFormPausarComponent","reiniciar","pausado","find","getTime","ngAfterViewInit","queryParams","error","pausa","atividade_id","pausar","AtividadeFormPausarComponent_Query","AtividadeFormPausarComponent_top_alert_0_Template","AtividadeFormPausarComponent_Template_editable_form_submit_1_listener","AtividadeFormPausarComponent_Template_editable_form_cancel_1_listener","AtividadeFormPausarComponent_div_2_Template","AtividadeFormProrrogarComponent","prorrogar","AtividadeFormProrrogarComponent_Query","AtividadeFormProrrogarComponent_Template_editable_form_submit_0_listener","AtividadeFormProrrogarComponent_Template_editable_form_cancel_0_listener","ListenerAllPagesService","TipoTarefaDaoService","AtividadeTarefaDaoService","AtividadeTarefa","TipoProcessoDaoService","NavigateResult","ComentarioService","AtividadeFormTarefaComponent","values","tipo_tarefa_id","tipoTarefa","selectedEntity","concluido","documental","documento","isEmpty","gb","isEmbedded","tipoTarefaDao","tipoProcessoDao","allPages","comentario","tempo_estimado","id_processo","numero_processo","comentarios","segment","url","path","action","tipo_tarefa","orderComentarios","metadata","tarefa","sei","confirm","data_conclusao","onTipoTarefaSelect","AtividadeFormTarefaComponent_Query","AtividadeFormTarefaComponent_Template_editable_form_submit_0_listener","AtividadeFormTarefaComponent_Template_editable_form_cancel_0_listener","AtividadeFormTarefaComponent_Template_input_search_select_6_listener","isModal","UnidadeDaoService","AtividadeService","UnidadeService","ctx_r3","AtividadeFormComponent_input_switch_13_Template_input_switch_change_0_listener","_r13","ctx_r12","onConcluidoChange","AtividadeFormComponent_div_22_Template_input_datetime_change_1_listener","_r15","ctx_r14","onDataDistribuicaoChange","AtividadeFormComponent_div_22_Template_input_datetime_change_3_listener","ctx_r16","onPrazoEntregaChange","AtividadeFormComponent_ng_template_23_Template_input_datetime_change_1_listener","_r18","ctx_r17","AtividadeFormComponent_ng_template_23_Template_input_datetime_change_4_listener","ctx_r19","ctx_r10","ctx_r20","ctx_r22","AtividadeFormComponent_separator_25_div_1_Template","AtividadeFormComponent_separator_25_ng_template_2_Template","_r21","AtividadeFormComponent","etiquetas","checklist","usuarioJoin","validateChecklist","hasPermissionTo","prazoEntrega","dataDistribuicao","loadEtiquetas","checkAtividade","loadChecklist","etiquetasKeys","checklistKeys","etiqueta","checklst","checked","texto","horaInicial","unidadeDao","atividadeService","unidadeService","numero","prioridade","demandante_id","documento_requisicao_id","tarefas","iniciado","documento_requisicao","formChecklist","isClonar","titleAtividade","addItemHandleEtiquetas","textHash","validateLookupItem","color","icon","onUnidadeChange","loadUsuario","updateValueAndValidity","onPlanoTrabalhoChange","buildEtiquetas","checkAdd","a","buildChecklist","loadTipoAtividade","getPlanosTrabalhos","between","start","end","status","planoTrabalhoId","hasUsuarioActionNew","comentarioAtividade","onTipoAtividadeChange","onUsuarioChange","orderPausas","sort","b","all","emitEvent","source","metadados","generateUuid","_status","atrasado","tempo_atraso","avaliado","arquivado","consolidacoes","isGestorUnidade","requisicao","AtividadeFormComponent_Query","AtividadeFormComponent_Template_editable_form_submit_0_listener","AtividadeFormComponent_Template_editable_form_cancel_0_listener","AtividadeFormComponent_Template_input_search_change_8_listener","AtividadeFormComponent_Template_input_search_select_10_listener","AtividadeFormComponent_Template_input_search_change_10_listener","AtividadeFormComponent_input_switch_12_Template","AtividadeFormComponent_input_switch_13_Template","AtividadeFormComponent_Template_input_search_select_15_listener","AtividadeFormComponent_Template_input_search_change_15_listener","AtividadeFormComponent_Template_input_select_change_17_listener","AtividadeFormComponent_div_22_Template","AtividadeFormComponent_ng_template_23_Template","AtividadeFormComponent_separator_25_Template","_r9","PageBase","PlanoEntregaService","planejamento","ɵɵtext","ɵɵtextInterpolate","cadeiaValor","ɵɵelementContainerStart","ɵɵelementContainerEnd","AtividadeHierarquiaComponent_ng_container_0_div_5_div_3_ng_container_2_Template","_c0","i_r8","objetivo_r7","AtividadeHierarquiaComponent_ng_container_0_div_5_div_3_Template","objetivos","processo_r13","AtividadeHierarquiaComponent_ng_container_0_div_6_div_3_Template","processos","AtividadeHierarquiaComponent_ng_container_0_div_7_div_3_ng_container_2_Template","i_r16","ɵɵtextInterpolate1","entrega_r15","planoEntregaService","getValorMeta","getValorRealizado","progresso_realizado","progresso_esperado","AtividadeHierarquiaComponent_ng_container_0_div_7_div_3_Template","entregasPlanoEntrega","AtividadeHierarquiaComponent_ng_container_0_planejamento_show_2_Template","AtividadeHierarquiaComponent_ng_container_0_div_3_Template","AtividadeHierarquiaComponent_ng_container_0_div_5_Template","AtividadeHierarquiaComponent_ng_container_0_div_6_Template","AtividadeHierarquiaComponent_ng_container_0_div_7_Template","ctx_r0","entregaPlanoTrabalho","forca_trabalho","getDateTimeFormatted","AtividadeHierarquiaComponent","atividadeDao","loadAtividade","getHierarquia","features","ɵɵInheritDefinitionFeature","decls","vars","consts","template","AtividadeHierarquiaComponent_Template","AtividadeHierarquiaComponent_ng_container_0_Template","AtividadeListKanbanComponent_ng_template_21_badge_0_Template_badge_click_0_listener","_r19","card_r13","card","onEntregaClick","entityService","getIcon","plano_trabalho_entrega","url_foto","status_r27","label","onStatusClick","bind","etiqueta_r28","ctx_r23","onEtiquetaClick","AtividadeListKanbanComponent_ng_template_21_ng_container_16_table_6_tr_1_i_2_Template","check_r30","AtividadeListKanbanComponent_ng_template_21_ng_container_16_table_6_tr_1_Template","tarefa_r34","AtividadeListKanbanComponent_ng_template_21_ng_container_16_separator_8_small_1_Template","AtividadeListKanbanComponent_ng_template_21_ng_container_16_badge_3_Template","AtividadeListKanbanComponent_ng_template_21_ng_container_16_badge_4_Template","AtividadeListKanbanComponent_ng_template_21_ng_container_16_separator_5_Template","AtividadeListKanbanComponent_ng_template_21_ng_container_16_table_6_Template","AtividadeListKanbanComponent_ng_template_21_ng_container_16_separator_8_Template","getStatus","query","AtividadeListKanbanComponent_ng_template_21_badge_0_Template","AtividadeListKanbanComponent_ng_template_21_div_15_Template","AtividadeListKanbanComponent_ng_template_21_ng_container_16_Template","sigla","ɵɵpropertyInterpolate1","ɵɵclassMap","ctx_r6","apelidoOuNome","demandante","resumido","formEdit","etiquetasEdit","_r5","loading","cardsConfig","naoIniciado","onDockerCollapse","menuDockerNaoIniciado","onDragged","onDrop","canDrop","DOCKERS","NAOINICIADO","cards","INICIADO","PAUSADO","CONCLUIDO","labels","onSwimlaneDrop","_r7","editEtiquetas","saveEtiquetas","deleteEtiquetas","cancelEtiquetas","getLabelStyle","AtividadeListKanbanComponent","this","TITLE_OUTRAS","AVALIADO","cardsVersion","dragDrop","rowsLimit","kanbanQueryOptions","planosEntregas","planosEntregasEntregas","toolbarButtons","onClick","filterRef","toggle","_ref","add","apply","arguments","outrasButtons","hint","incluirLista","etiquetasButtons","_ref2","filterWhere","fixedFilter","push","unidades_subordinadas","plano_entrega_id","plano_entrega_entrega_id","atribuidas_para_mim","somente_unidade_atual","usarEtiquetas","usuarioConfig","kanban_usar_etiquetas","kanban_resumido","kanban_status_dockers","groupBy","loadLabel","defaultUsuarioConfig","active_tab","kanban_etiquetas_dockers","onLoadingChange","subject","asObservable","subscribe","onQueryLoad","isOutras","dockers","splice","collapse","reduce","v","menu","editing","isEtiquetas","onUsarEtiquetasChange","saveUsuarioConfig","rows","docker","kanbanEtiquetas","refreshDoubleScrollbar","onResumidoChange","merge","config","bgColor","saveEtiquetasUsuarioConfig","dockerNaoIniciado","dockerPausado","dockerIniciado","dockerConcluido","allUsed","i","_this4","_this5","getNomes","context","getOwnPropertyNames","modalRefreshId","modal","modalClose","modalResult","destination","list","index","grid","refreshId","mergeEtiqueta","filterSubmit","forEach","queryOptions","onGridLoad","row","lookup","ATIVIDADE_STATUS","putCard","version","outrasIndex","findIndex","j","some","subTitle","dynamicMenu","dynamicCardMenu","dynamicButtons","optionsMetadata","dynamicItems","cardDynamicOptions","olders","options","dynamicOptions","items","self","drag","buttons","updateEtiquetasAtividade","sourceLabel","destinationLabel","unshift","update","finally","effect","indexOf","dropEffect","filterCollapsed","onButtonFilterClick","filterClear","fromIndex","element","toIndex","go","navigate","route","_this6","unidade_selecionada","planos_entrega","onPlanoEntregaChange","_this7","plano_entrega_selecionado","AtividadeListKanbanComponent_Query","AtividadeListKanbanComponent_Template_input_switch_change_1_listener","AtividadeListKanbanComponent_Template_input_switch_change_2_listener","AtividadeListKanbanComponent_Template_input_switch_change_6_listener","onAtribuidasParaMimChange","AtividadeListKanbanComponent_Template_input_switch_change_9_listener","onSomenteUnidadeAtualChange","AtividadeListKanbanComponent_Template_input_search_change_13_listener","AtividadeListKanbanComponent_Template_input_select_change_16_listener","AtividadeListKanbanComponent_ng_template_21_Template","AtividadeListKanbanComponent_ng_template_23_Template","AtividadeListKanbanComponent_ng_template_25_Template","AtividadeListKanbanComponent_kanban_27_Template","AtividadeListKanbanComponent_kanban_28_Template","filterCollapseChange","ɵɵattribute","FormControl","row_r7","AtividadeListTarefaComponent_ng_template_3_strong_0_Template","row_r12","AtividadeListTarefaComponent_column_5_ng_template_1_Template","AtividadeListTarefaComponent_column_6_ng_template_1_i_1_Template","row_r17","AtividadeListTarefaComponent_column_6_ng_template_1_Template","AtividadeListTarefaComponent_column_6_ng_template_3_Template","canConcluidoEdit","editable","onColumnConcluidoEdit","onColumnConcluidoSave","row_r20","isPersist","selectable","addComentarioResult","AtividadeListTarefaComponent","_atividade","disabled","consolidacao","addComentarioButton","editTarefa","dialog","showSppinerOverlay","save","message","closeSppinerOverlay","_x","where","asPromise","persist","addTarefa","deleteTarefa","delete","alert","changed","lastConsolidacao","created_at","AtividadeListTarefaComponent_Query","AtividadeListTarefaComponent_ng_template_3_Template","AtividadeListTarefaComponent_column_5_Template","AtividadeListTarefaComponent_column_6_Template","AtividadeListTarefaComponent_ng_template_8_Template","AtividadeListTarefaComponent_column_10_Template","_r0","_r4","snapshot","modalRoute","AtividadeListComponent_tab_7_ng_template_1_Template","AtividadeListComponent","activeTab","onSelectTab","tab","viewInit","AtividadeListComponent_Template","AtividadeListComponent_ng_template_2_Template","AtividadeListComponent_ng_template_5_Template","AtividadeListComponent_tab_7_Template","_r2","RouterModule","AuthGuard","ConfigResolver","AtividadeListGridComponent","routes","component","canActivate","AtividadeRoutingModule","_3","forChild","imports","i1","exports","CommonModule","ComponentsModule","UteisModule","OrganizationChartModule","AtividadeModule","declarations","NgIf","i2","TabsComponent","i3","TabComponent","NgForOf","i4","i5","ColumnsComponent","i6","ColumnComponent","i7","FilterComponent","i8","ToolbarComponent","i9","PaginationComponent","i10","InputSwitchComponent","i11","InputSearchComponent","i12","InputTextComponent","i13","InputTextareaComponent","i14","InputDatetimeComponent","i15","InputSelectComponent","i16","InputMultiselectComponent","i17","SeparatorComponent","i18","OrderComponent","i19","BadgeComponent","i20","ProgressBarComponent","i21","InputNumberComponent","i22","ReactionComponent","i23","CalendarEfemeridesComponent","i24","ComentariosWidgetComponent","i25","DocumentosBadgeComponent","i26","KanbanComponent","i27","SwimlaneComponent","i28","DockerComponent","i29","ProfilePictureComponent"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}