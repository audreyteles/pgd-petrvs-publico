"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[8592],{959:(O,C,s)=>{s.d(C,{t:()=>I});var l=s(8239),d=s(55736),i=s(92307),E=s(91454),u=s(20755),v=s(43232),b=s(76733);const f=function(a){return{cursor:a}};class I extends d.V{set imgIcon(e){this._imgIcon!=e&&(this._imgIcon=e,this.loadSvg())}get imgIcon(){return this._imgIcon}constructor(e,o){super(e),this.injector=e,this.sanitizer=o,this.title="",this.textColor="#ddd",this.borderColor="#000",this.externalLink=!1,this._imgIcon=!1,this.go=e.get(i.o),this.server=e.get(E.N)}ngOnInit(){}loadSvg(){var e=this;return(0,l.Z)(function*(){e.seuCodigoSvg$=yield e.server.getSvg(e.imgIcon)})()}onClick(){this.route&&(this.externalLink?window.open(this.route.route.toString(),"_blank"):this.go.navigate(this.route,this.metadata))}static#e=this.\u0275fac=function(o){return new(o||I)(u.Y36(u.zs3),u.Y36(v.H7))};static#t=this.\u0275cmp=u.Xpm({type:I,selectors:[["app-button-dashboard"]],inputs:{title:"title",textColor:"textColor",borderColor:"borderColor",route:"route",metadata:"metadata",externalLink:"externalLink",imgIcon:"imgIcon"},features:[u.qOj],decls:6,vars:7,consts:[[1,"card","h-100",3,"ngStyle","click"],[1,"card-body","text-center","buttons-home"],[3,"innerHTML"],[1,"fs-5","fw-semibold","mt-3"]],template:function(o,t){if(1&o&&(u.TgZ(0,"div",0),u.NdJ("click",function(){return t.onClick()}),u.TgZ(1,"div",1),u._UZ(2,"div",2),u.ALo(3,"async"),u.TgZ(4,"h2",3),u._uU(5),u.qZA()()()),2&o){let n;u.Q6J("ngStyle",u.VKq(5,f,t.route?"pointer":"inherit")),u.xp6(2),u.Q6J("innerHTML",t.sanitizer.bypassSecurityTrustHtml(null!==(n=u.lcZ(3,3,t.seuCodigoSvg$))&&void 0!==n?n:""),u.oJD),u.xp6(3),u.Oqu(t.title)}},dependencies:[b.PC,b.Ov],styles:[".card[_ngcontent-%COMP%]:hover{box-shadow:inset 5px -8px 9px #a5a5a554}"]})}},43417:(O,C,s)=>{s.d(C,{S:()=>f});var l=s(20755),d=s(72133),i=s(70645),E=s(76733),u=s(38544);const v=["inputElement"];function b(I,a){if(1&I){const e=l.EpF();l.TgZ(0,"input",4,5),l.NdJ("change",function(t){l.CHM(e);const n=l.oxw();return l.KtG(n.onChange(t))}),l.qZA()}if(2&I){const e=l.oxw();l.ekj("is-invalid",e.isInvalid()),l.Q6J("formControl",e.workControl)("id",e.generatedId(e.controlName))("readonly",e.isDisabled),l.uIk("aria-describedby",e.controlName+"_button")("max",e.isDaysOrHours?void 0:e.maxValue)}}class f extends i.M{set unit(a){this._unit!=a&&(this._unit=a,this.maxValue="day"==this.unit?24:"week"==this.unit?120:480,this.valueToWork(),this.detectChanges())}get unit(){return this._unit}set control(a){this._control=a}get control(){return this.getControl()}set size(a){this.setSize(a)}get size(){return this.getSize()}constructor(a){super(a),this.injector=a,this.class="form-group",this.change=new l.vpe,this.hostClass="",this.labelPosition="top",this.controlName=null,this.icon="",this.label="",this.labelInfo="",this.bold=!1,this.value=0,this.loading=!1,this.workControl=new d.NI,this.maxValue=24,this._unit="day"}ngAfterViewInit(){super.ngAfterViewInit(),this.control&&(this.control.valueChanges.subscribe(a=>this.valueToWork()),this.valueToWork())}onButtonClick(a){const e=this.isDaysOrHours?"day"==this.unit?"hour":"day":"day"==this.unit?"week":"week"==this.unit?"mouth":"day";console.log(this.unit,e),this.unit=e,this.unitChange&&this.unitChange(e)}get isDaysOrHours(){return null!=this.daysOrHours}get iconWork(){return"hour"==this.unit?"bi bi-clock":"day"==this.unit?"bi bi-calendar3-event":"week"==this.unit?"bi bi-calendar3-week":"bi bi-calendar3"}get unitWork(){return"hour"==this.unit?"horas":"day"==this.unit?this.isDaysOrHours?"dias":"h/dia":"week"==this.unit?"h/semana":"h/m\xeas"}onChange(a){this.workToValue(),this.change&&this.change.emit(a)}valueToWork(){const a=["hour","day"].includes(this.unit)?1:"week"==this.unit?5:20,e=this.control?this.control.value*a:this.value*a;this.workControl.value!=e&&this.workControl.setValue(e)}workToValue(){const a=["hour","day"].includes(this.unit)?1:"week"==this.unit?5:20,e=this.workControl.value/a;this.control?this.control.value!=e&&this.control.setValue(e):this.value!=e&&(this.value=e)}static#e=this.\u0275fac=function(e){return new(e||f)(l.Y36(l.zs3))};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["input-workload"]],viewQuery:function(e,o){if(1&e&&l.Gf(v,5),2&e){let t;l.iGM(t=l.CRH())&&(o.inputElement=t.first)}},hostVars:2,hostBindings:function(e,o){2&e&&l.Tol(o.class)},inputs:{hostClass:"hostClass",labelPosition:"labelPosition",controlName:"controlName",disabled:"disabled",icon:"icon",label:"label",labelInfo:"labelInfo",labelClass:"labelClass",bold:"bold",value:"value",loading:"loading",form:"form",source:"source",path:"path",daysOrHours:"daysOrHours",maxLength:"maxLength",required:"required",unitChange:"unitChange",unit:"unit",control:"control",size:"size"},outputs:{change:"change"},features:[l._Bn([],[{provide:d.gN,useExisting:d.sg}]),l.qOj],decls:6,vars:18,consts:[[3,"labelPosition","labelClass","controlName","required","control","loading","disabled","label","labelInfo","icon","bold"],[1,"input-group"],["type","number","class","form-control","min","0",3,"formControl","id","is-invalid","readonly","change",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"id","click"],["type","number","min","0",1,"form-control",3,"formControl","id","readonly","change"],["inputElement",""]],template:function(e,o){1&e&&(l.TgZ(0,"input-container",0)(1,"div",1),l.YNc(2,b,2,7,"input",2),l.TgZ(3,"button",3),l.NdJ("click",function(n){return o.onButtonClick(n)}),l._UZ(4,"i"),l._uU(5),l.qZA()()()),2&e&&(l.Q6J("labelPosition",o.labelPosition)("labelClass",o.labelClass)("controlName",o.controlName)("required",o.required)("control",o.control)("loading",!1)("disabled",o.disabled)("label",o.label)("labelInfo",o.labelInfo)("icon",o.icon)("bold",o.bold),l.xp6(2),l.Q6J("ngIf",o.viewInit),l.xp6(1),l.ekj("disabled",o.isDisabled),l.Q6J("id",o.generatedId(o.controlName)+"_button"),l.xp6(1),l.Tol(o.iconWork),l.xp6(1),l.hij(" ",o.unitWork," "))},dependencies:[E.O5,d.Fj,d.wV,d.JJ,d.qQ,d.oH,u.h],styles:["input[type=number][_ngcontent-%COMP%]:read-only, input[type=number][_ngcontent-%COMP%]:disabled{background-color:#e9ecef}"]})}},65296:(O,C,s)=>{s.d(C,{H:()=>d});var l=s(64368);class d extends l.X{constructor(E){super(),this.nome="",this.initialization(E)}}},34269:(O,C,s)=>{s.d(C,{O:()=>t});var l=s(8239),d=s(20755),i=s(32333),E=s(49193),u=s(35255),v=s(81214),b=s(84971),f=s(15908),I=s(92307),a=s(91547),e=s(79084),o=s(55579);class t{constructor(r,c,_,p,g,m,h,P,D,T){this.auth=r,this.utils=c,this.usuarioDao=_,this.unidadeDao=p,this.atividadeDao=g,this.injector=m,this.lex=h,this.go=P,this.gb=D,this.allPages=T}ngOnInit(){this.gb.isEmbedded&&this.allPages.visibilidadeMenuSei(!this.auth.usuario.config.ocultar_menu_sei)}ngAfterViewInit(){return(0,l.Z)(function*(){})()}mensagemSaudacao(){const r=parseInt(this.auth.unidadeHora.replace(":","")),c=this.auth.usuario?.apelido;this.auth.usuario?.email;return r<1200?"Bom dia, "+c:r<1800?"Boa tarde, "+c:"Boa noite, "+c}emailUsuario(){return this.auth.usuario?.email}tokenGAPI(){this.auth.googleApi.getAccessToken().then(r=>{})}getLastDayOfMonth(r,c){return new Date(r,c+1,0)}static#e=this.\u0275fac=function(c){return new(c||t)(d.Y36(i.e),d.Y36(E.f),d.Y36(u.q),d.Y36(v.J),d.Y36(b.P),d.Y36(d.zs3),d.Y36(f.E),d.Y36(I.o),d.Y36(a.d),d.Y36(e.T))};static#t=this.\u0275cmp=d.Xpm({type:t,selectors:[["app-home"]],decls:5,vars:1,consts:[[1,"container-fluid"],[1,"saudacao"],[1,""]],template:function(c,_){1&c&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),d._uU(3),d.qZA()(),d._UZ(4,"router-outlet"),d.qZA()),2&c&&(d.xp6(3),d.Oqu(_.mensagemSaudacao()))},dependencies:[o.lC],styles:['@import"https://fonts.cdnfonts.com/css/neutra-text-alt";.card[_ngcontent-%COMP%]{box-shadow:0 .1875rem .1875rem #0e223812;margin-bottom:1.875rem}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:600}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-weight:200}.card.atrasadas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a00d0d}.card.concluidas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0e8554}.minhas[_ngcontent-%COMP%]{padding:15px;color:#adadad}.minhas[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .minhas[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0}.avaliacoes[_ngcontent-%COMP%]{color:#fff}.avaliacoes.acima[_ngcontent-%COMP%]{background:#ffc100}.avaliacoes.abaixo[_ngcontent-%COMP%]{background:#ff4000}.dashGestor[_ngcontent-%COMP%]   .usuario[_ngcontent-%COMP%]{border-bottom:1px solid #dcdcdc;padding:10px 0}.dashGestor[_ngcontent-%COMP%]   .usuario[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;margin:0 20px}.dashGestor[_ngcontent-%COMP%]   .usuario[_ngcontent-%COMP%]   .w-30[_ngcontent-%COMP%]{width:30%}.dashGestor[_ngcontent-%COMP%]   .usuario[_ngcontent-%COMP%]:last-child{border:none}.saudacao[_ngcontent-%COMP%]{font-family:neutra text;font-weight:700}']})}},75007:(O,C,s)=>{s.d(C,{Z:()=>I});var l=s(8239),d=s(22559),i=s(20755),E=s(38720),u=s(49193),v=s(88820),b=s(84495),f=s(17819);class I{set disabled(e){this._disabled!=e&&(this._disabled=e,this.loadExpediente())}get disabled(){return this._disabled}set control(e){var o=this;this._control!=e&&(this._control=e,this.expediente=this.control?.value,e?.valueChanges.subscribe(function(){var t=(0,l.Z)(function*(n){o.expediente=n});return function(n){return t.apply(this,arguments)}}()))}get control(){return this._control}set expediente(e){this._expediente!=e&&(this._expediente=e,this.loadExpediente())}get expediente(){return this._expediente}constructor(e,o,t){this.fh=e,this.cdRef=o,this.util=t,this.diasSemana=["domingo","segunda","terca","quarta","quinta","sexta","sabado"],this.validate=(n,r)=>{for(let _ of this.diasSemana)if(r.startsWith(_)&&r.endsWith("_fim")&&n?.value?.length){let p=this.form?.controls[_+"_inicio"]?.value;if(!this.util.isTimeValid(p)||!this.util.isTimeValid(n.value)||this.util.getStrTimeHours(p)>this.util.getStrTimeHours(n.value))return"Inv\xe1lido"}return null},this.form=e.FormBuilder({domingo:{default:[]},segunda:{default:[]},terca:{default:[]},quarta:{default:[]},quinta:{default:[]},sexta:{default:[]},sabado:{default:[]},especial:{default:[]},domingo_inicio:{default:""},domingo_fim:{default:""},segunda_inicio:{default:""},segunda_fim:{default:""},terca_inicio:{default:""},terca_fim:{default:""},quarta_inicio:{default:""},quarta_fim:{default:""},quinta_inicio:{default:""},quinta_fim:{default:""},sexta_inicio:{default:""},sexta_fim:{default:""},sabado_inicio:{default:""},sabado_fim:{default:""},especial_inicio:{default:""},especial_fim:{default:""},especial_data:{default:null},especial_sem:{default:!1}},this.cdRef,this.validate)}ngOnInit(){}get isDisabled(){return null!=this._disabled}loadExpediente(){let e=(this.isDisabled?this.expedienteDisabled:this._expediente)||new d.z;const o=(t,n)=>t.map(r=>Object.assign({},{key:this.util.textHash(("especial"==n?this.util.getDateFormatted(r.data):"")+n+r.inicio+r.fim),value:("especial"==n?this.util.getDateFormatted(r.data)+" - ":"")+r.inicio+" at\xe9 "+r.fim,data:{inicio:r.inicio,fim:r.fim,data:r.data,sem:r.sem}}));this.isDisabled||(this._expediente=e),this.form.controls.domingo.setValue(o(e.domingo,"domingo")),this.form.controls.segunda.setValue(o(e.segunda,"segunda")),this.form.controls.terca.setValue(o(e.terca,"terca")),this.form.controls.quarta.setValue(o(e.quarta,"quarta")),this.form.controls.quinta.setValue(o(e.quinta,"quinta")),this.form.controls.sexta.setValue(o(e.sexta,"sexta")),this.form.controls.sabado.setValue(o(e.sabado,"sabado")),this.form.controls.especial.setValue(o(e.especial,"especial"))}saveExpediente(){this.isDisabled||(this._expediente=this._expediente||new d.z,this._expediente.domingo=this.form.controls.domingo.value.map(e=>e.data),this._expediente.segunda=this.form.controls.segunda.value.map(e=>e.data),this._expediente.terca=this.form.controls.terca.value.map(e=>e.data),this._expediente.quarta=this.form.controls.quarta.value.map(e=>e.data),this._expediente.quinta=this.form.controls.quinta.value.map(e=>e.data),this._expediente.sexta=this.form.controls.sexta.value.map(e=>e.data),this._expediente.sabado=this.form.controls.sabado.value.map(e=>e.data),this._expediente.especial=this.form.controls.especial.value.map(e=>e.data),this.control&&(this.control.setValue(this._expediente),this.cdRef.detectChanges()))}isEmpty(){return!1}addItemHandleDomingo(){return this.addItemHandle("domingo")}addItemHandleSegunda(){return this.addItemHandle("segunda")}addItemHandleTerca(){return this.addItemHandle("terca")}addItemHandleQuarta(){return this.addItemHandle("quarta")}addItemHandleQuinta(){return this.addItemHandle("quinta")}addItemHandleSexta(){return this.addItemHandle("sexta")}addItemHandleSabado(){return this.addItemHandle("sabado")}addItemHandleEspecial(){return this.addItemHandle("especial")}onChange(){this.saveExpediente()}addItemHandle(e){let o;const t=this.form.controls[e+"_inicio"].value,n=this.form.controls[e+"_fim"].value,r=this.form.controls.especial_data.value,c=this.form.controls.especial_sem.value,_=this.util.textHash(("especial"==e?this.util.getDateFormatted(r):"")+e+t+n),p=this.form.controls[e].value;return this.util.isTimeValid(t)&&this.util.isTimeValid(n)&&this.util.getStrTimeHours(t)<this.util.getStrTimeHours(n)&&("especial"!=e||r)&&this.util.validateLookupItem(this.form.controls[e].value,_)&&(o={key:_,value:("especial"==e?this.util.getDateFormatted(r)+" - ":"")+t+" at\xe9 "+n,data:{inicio:t,fim:n,data:r,sem:c}}),p.length>0&&p.forEach(g=>{const m=g.data.inicio,h=g.data.fim;(t>=m&&n<=m||t<=m&&n>=m||t>=m&&n<=m||t<=m&&n>=h||t>=m&&t<=h||n>=m&&n<=h||t==h||n==m)&&(console.log("Conflitante"),o=void 0)}),this.form.controls[e+"_inicio"].setValue(""),this.form.controls[e+"_fim"].setValue(""),"especial"==e&&(this.form.controls[e+"_data"].setValue(null),this.form.controls[e+"_sem"].setValue(!1)),o}static#e=this.\u0275fac=function(o){return new(o||I)(i.Y36(E.k),i.Y36(i.sBO),i.Y36(u.f))};static#t=this.\u0275cmp=i.Xpm({type:I,selectors:[["calendar-expediente"]],inputs:{expedienteDisabled:"expedienteDisabled",disabled:"disabled",control:"control",expediente:"expediente"},decls:28,vars:76,consts:[[1,"row"],["label","Domingo","hostClass","col-12 col-md-3",3,"disabled","control","size","addItemHandle","change"],["noIcon","","noIndicator","","time","","time24hours","","label","In\xedcio","hostClass","pe-0","controlName","domingo_inicio",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","Fim","hostClass","ps-0","controlName","domingo_fim",3,"size","control"],["label","Segunda","hostClass","col-12 col-md-3",3,"disabled","control","size","addItemHandle","change"],["noIcon","","noIndicator","","time","","time24hours","","label","In\xedcio","hostClass","pe-0","controlName","segunda_inicio",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","Fim","hostClass","ps-0","controlName","segunda_fim",3,"size","control"],["label","Ter\xe7a","hostClass","col-12 col-md-3",3,"disabled","control","size","addItemHandle","change"],["noIcon","","noIndicator","","time","","time24hours","","label","In\xedcio","hostClass","pe-0","controlName","terca_inicio",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","Fim","hostClass","ps-0","controlName","terca_fim",3,"size","control"],["label","Quarta","hostClass","col-12 col-md-3",3,"disabled","control","size","addItemHandle","change"],["noIcon","","noIndicator","","time","","time24hours","","label","In\xedcio","hostClass","pe-0","controlName","quarta_inicio",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","Fim","hostClass","ps-0","controlName","quarta_fim",3,"size","control"],["label","Quinta","hostClass","col-12 col-md-3",3,"disabled","control","size","addItemHandle","change"],["noIcon","","noIndicator","","time","","time24hours","","label","In\xedcio","hostClass","pe-0","controlName","quinta_inicio",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","Fim","hostClass","ps-0","controlName","quinta_fim",3,"size","control"],["label","Sexta","hostClass","col-12 col-md-3",3,"disabled","control","size","addItemHandle","change"],["noIcon","","noIndicator","","time","","time24hours","","label","In\xedcio","hostClass","pe-0","controlName","sexta_inicio",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","Fim","hostClass","ps-0","controlName","sexta_fim",3,"size","control"],["label","Sabado","hostClass","col-12 col-md-3",3,"disabled","control","size","addItemHandle","change"],["noIcon","","noIndicator","","time","","time24hours","","label","In\xedcio","hostClass","pe-0","controlName","sabado_inicio",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","Fim","hostClass","ps-0","controlName","sabado_fim",3,"size","control"],["label","Especial","hostClass","col-12 col-md-3",3,"disabled","control","size","addItemHandle","change"],["noIcon","","date","","label","Dia","controlName","especial_data",3,"size","control"],["label","Sem","controlName","especial_sem","labelInfo","Sem expediente. Se o hor\xe1rio ir\xe1 representar um per\xedodo que n\xe1o haver\xe1 expediente.",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","In\xedcio","hostClass","pe-0","controlName","especial_inicio",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","Fim","hostClass","ps-0","controlName","especial_fim",3,"size","control"]],template:function(o,t){1&o&&(i.TgZ(0,"div",0)(1,"input-multiselect",1),i._UZ(2,"input-datetime",2)(3,"input-datetime",3),i.qZA(),i.TgZ(4,"input-multiselect",4),i._UZ(5,"input-datetime",5)(6,"input-datetime",6),i.qZA(),i.TgZ(7,"input-multiselect",7),i._UZ(8,"input-datetime",8)(9,"input-datetime",9),i.qZA(),i.TgZ(10,"input-multiselect",10),i._UZ(11,"input-datetime",11)(12,"input-datetime",12),i.qZA()(),i.TgZ(13,"div",0)(14,"input-multiselect",13),i._UZ(15,"input-datetime",14)(16,"input-datetime",15),i.qZA(),i.TgZ(17,"input-multiselect",16),i._UZ(18,"input-datetime",17)(19,"input-datetime",18),i.qZA(),i.TgZ(20,"input-multiselect",19),i._UZ(21,"input-datetime",20)(22,"input-datetime",21),i.qZA(),i.TgZ(23,"input-multiselect",22),i._UZ(24,"input-datetime",23)(25,"input-switch",24)(26,"input-datetime",25)(27,"input-datetime",26),i.qZA()()),2&o&&(i.xp6(1),i.Q6J("disabled",t.disabled)("control",t.form.controls.domingo)("size",3)("addItemHandle",t.addItemHandleDomingo.bind(t))("change",t.onChange.bind(t)),i.xp6(1),i.Q6J("size",6)("control",t.form.controls.domingo_inicio),i.xp6(1),i.Q6J("size",6)("control",t.form.controls.domingo_fim),i.xp6(1),i.Q6J("disabled",t.disabled)("control",t.form.controls.segunda)("size",3)("addItemHandle",t.addItemHandleSegunda.bind(t))("change",t.onChange.bind(t)),i.xp6(1),i.Q6J("size",6)("control",t.form.controls.segunda_inicio),i.xp6(1),i.Q6J("size",6)("control",t.form.controls.segunda_fim),i.xp6(1),i.Q6J("disabled",t.disabled)("control",t.form.controls.terca)("size",3)("addItemHandle",t.addItemHandleTerca.bind(t))("change",t.onChange.bind(t)),i.xp6(1),i.Q6J("size",6)("control",t.form.controls.terca_inicio),i.xp6(1),i.Q6J("size",6)("control",t.form.controls.terca_fim),i.xp6(1),i.Q6J("disabled",t.disabled)("control",t.form.controls.quarta)("size",3)("addItemHandle",t.addItemHandleQuarta.bind(t))("change",t.onChange.bind(t)),i.xp6(1),i.Q6J("size",6)("control",t.form.controls.quarta_inicio),i.xp6(1),i.Q6J("size",6)("control",t.form.controls.quarta_fim),i.xp6(2),i.Q6J("disabled",t.disabled)("control",t.form.controls.quinta)("size",3)("addItemHandle",t.addItemHandleQuinta.bind(t))("change",t.onChange.bind(t)),i.xp6(1),i.Q6J("size",6)("control",t.form.controls.quinta_inicio),i.xp6(1),i.Q6J("size",6)("control",t.form.controls.quinta_fim),i.xp6(1),i.Q6J("disabled",t.disabled)("control",t.form.controls.sexta)("size",3)("addItemHandle",t.addItemHandleSexta.bind(t))("change",t.onChange.bind(t)),i.xp6(1),i.Q6J("size",6)("control",t.form.controls.sexta_inicio),i.xp6(1),i.Q6J("size",6)("control",t.form.controls.sexta_fim),i.xp6(1),i.Q6J("disabled",t.disabled)("control",t.form.controls.sabado)("size",3)("addItemHandle",t.addItemHandleSabado.bind(t))("change",t.onChange.bind(t)),i.xp6(1),i.Q6J("size",6)("control",t.form.controls.sabado_inicio),i.xp6(1),i.Q6J("size",6)("control",t.form.controls.sabado_fim),i.xp6(1),i.Q6J("disabled",t.disabled)("control",t.form.controls.especial)("size",3)("addItemHandle",t.addItemHandleEspecial.bind(t))("change",t.onChange.bind(t)),i.xp6(1),i.Q6J("size",8)("control",t.form.controls.especial_data),i.xp6(1),i.Q6J("size",4)("control",t.form.controls.especial_sem),i.xp6(1),i.Q6J("size",6)("control",t.form.controls.especial_inicio),i.xp6(1),i.Q6J("size",6)("control",t.form.controls.especial_fim))},dependencies:[v.a,b.k,f.p]})}},27918:(O,C,s)=>{s.d(C,{X:()=>f});var l=s(8239),d=s(39702),i=s(49193),E=s(15545),u=s(15908),v=s(26898),b=s(20755);class f{constructor(a){this.injector=a,this.lookup=this.injector.get(d.W),this.lex=this.injector.get(u.E),this.dialog=this.injector.get(E.x),this.util=this.injector.get(i.f)}converterAtribuicoes(a){return a.map(e=>Object.assign({},{key:e,value:this.lookup.getValue(this.lookup.UNIDADE_INTEGRANTE_TIPO,e),icon:this.lookup.getIcon(this.lookup.UNIDADE_INTEGRANTE_TIPO,e),color:this.lookup.getColor(this.lookup.UNIDADE_INTEGRANTE_TIPO,e)}))}haAlteracaoGestor(a,e,o,t){let n="",r=this.util.array_diff(e.atribuicoes,a).includes("GESTOR"),c=this.util.array_diff(a,e.atribuicoes).includes("GESTOR");if(!r&&!c)return["nenhuma",-1,"",!1];let _=this.lookup.getValue(this.lookup.UNIDADE_INTEGRANTE_TIPO,"GESTOR")+" "+this.lex.translate("da Unidade")+" ";if(r)return n=t.toUpperCase()+" deixar\xe1 de ser "+_+e.unidade_sigla?.toUpperCase()+".",["perda",-1,n,!1];let p=e.atribuicoes.includes("LOTADO");n=t.toUpperCase()+" passar\xe1 a ser "+_+e.unidade_sigla?.toUpperCase();let g=o.find(h=>h.atribuicoes.includes("GESTOR")),m=o.findIndex((h,P,D)=>h.atribuicoes.includes("LOTADO"));return n=g?.id.length?n+" e deixar\xe1 de ser "+_+g.unidade_sigla+". ":n+". ",!p&&m>=0&&(n+="Por consequ\xeancia, sua lota\xe7\xe3o ser\xe1 alterada de "+o[m].unidade_sigla?.toUpperCase()+" para "+e.unidade_sigla?.toUpperCase()+"."),g?.id.length?["troca",o.findIndex(h=>h.id==g?.id),n,!0]:["ganho",-1,n,!p]}haAlteracaoGerencia(a,e,o,t){let n="",r=this.util.array_diff(e.atribuicoes,a).includes("GESTOR"),c=this.util.array_diff(a,e.atribuicoes).includes("GESTOR");if(!r&&!c)return["nenhuma",-1,"",!1];let _=this.lookup.getValue(this.lookup.UNIDADE_INTEGRANTE_TIPO,"GESTOR")+" "+this.lex.translate("da Unidade")+" ";if(r)return n=e.usuario_nome?.toUpperCase()+" deixar\xe1 de ser "+_+t.toUpperCase()+".",["perda",-1,n,!1];let p=e.atribuicoes.includes("LOTADO");n=e.usuario_nome?.toUpperCase()+" passar\xe1 a ser "+_+t.toUpperCase();let g=o.find(h=>h.atribuicoes.includes("GESTOR"));n=(g?.id.length?n+" em substitui\xe7\xe3o a "+g.usuario_nome?.toUpperCase():n)+". ";let m=o.findIndex((h,P,D)=>h.atribuicoes.includes("LOTADO"));return!p&&m>=0&&(n+="Como \xe9 lotado em outra unidade, a lota\xe7\xe3o de "+e.usuario_nome?.toUpperCase()+" ser\xe1 alterada para "+this.lex.translate("a Unidade")+" - "+t.toUpperCase()+"."),g?.id.length?["troca",o.findIndex(h=>h.id==g?.id),n,!0]:["ganho",-1,n,!p]}haAlteracaoLotacao(a,e,o,t){let n=a.controls.atribuicoes.value.map(p=>p.key),r=o.findIndex((p,g,m)=>p.atribuicoes.includes("LOTADO"));if(!n.includes("LOTADO")||-1==r)return[!1,-1,"",""];let c=this.lex.translate("A lota\xe7\xe3o")+" de "+t.toUpperCase()+" passar\xe1 de "+o[r].unidade_sigla?.toUpperCase()+" para "+e.unidade_sigla?.toUpperCase()+".",_="N\xe3o \xe9 poss\xedvel alterar a lota\xe7\xe3o de "+t.toUpperCase()+" porque \xe9 Chefe da sua atual unidade de lota\xe7\xe3o - "+o[r].unidade_sigla?.toUpperCase()+".";return a.controls.unidade_id.value!=o[r].unidade_id?[!0,r,c,_]:[!1,-1,"",""]}inserirAtribuicao(a,e){let o=this.lookup.getLookup(this.lookup.UNIDADE_INTEGRANTE_TIPO,e);return o&&a.push(o),this.lookup.uniqueLookupItem(a)}ordenarIntegrantes(a){return a.sort((e,o)=>{let t=(e.usuario_nome||e.unidade_nome)?.toLowerCase(),n=(o.usuario_nome||o.unidade_nome)?.toLowerCase();return t<n?-1:t>n?1:0}),a.forEach(e=>{e.atribuicoes.sort()}),a}completarIntegrante(a,e,o,t){return Object.assign({},a,{unidade_id:e,usuario_id:o,atribuicoes:t})}ehPermitidoApagar(a){var e=this;let t=!["LOTADO"].includes(a),n="LOTADO"==a?"A lota\xe7\xe3o do servidor n\xe3o pode ser apagada. Para alter\xe1-la, lote-o em outra Unidade.":"";return(0,l.Z)(function*(){t||(yield e.dialog.alert("N\xc3O PERMITIDO!",n))})(),t}substituirItem(a,e,o){let t=a.itens.findIndex(c=>c.id==a.id),n=o instanceof v.b,r=n?{id:a.id,unidade_sigla:a.apelidoOuSigla,unidade_nome:a.nome,unidade_codigo:a.codigo}:{id:a.id,usuario_apelido:a.apelidoOuSigla,usuario_nome:a.nome};return a.itens[t]=this.completarIntegrante(r,n?a.id:o.id,n?o.id:a.id,e),a.itens}static#e=this.\u0275fac=function(e){return new(e||f)(b.LFG(b.zs3))};static#t=this.\u0275prov=b.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}}}]);