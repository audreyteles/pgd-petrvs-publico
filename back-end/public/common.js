"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[8592],{959:(D,v,a)=>{a.d(v,{t:()=>p});var _,l=a(8239),d=a(55736),o=a(92307),O=a(91454),u=a(20755),C=a(43232),E=a(76733);const I=function(i){return{cursor:i}};class p extends d.V{set imgIcon(e){this._imgIcon!=e&&(this._imgIcon=e,this.loadSvg())}get imgIcon(){return this._imgIcon}constructor(e,t){super(e),this.injector=e,this.sanitizer=t,this.title="",this.textColor="#ddd",this.borderColor="#000",this.externalLink=!1,this._imgIcon=!1,this.go=e.get(o.o),this.server=e.get(O.N)}ngOnInit(){}loadSvg(){var e=this;return(0,l.Z)(function*(){e.seuCodigoSvg$=yield e.server.getSvg(e.imgIcon)})()}onClick(){this.route&&(this.externalLink?window.open(this.route.route.toString(),"_blank"):this.go.navigate(this.route,this.metadata))}}(_=p).\u0275fac=function(e){return new(e||_)(u.Y36(u.zs3),u.Y36(C.H7))},_.\u0275cmp=u.Xpm({type:_,selectors:[["app-button-dashboard"]],inputs:{title:"title",textColor:"textColor",borderColor:"borderColor",route:"route",metadata:"metadata",externalLink:"externalLink",imgIcon:"imgIcon"},features:[u.qOj],decls:6,vars:7,consts:[[1,"card","h-100",3,"ngStyle","click"],[1,"card-body","text-center","buttons-home"],[3,"innerHTML"],[1,"fs-5","fw-semibold","mt-3"]],template:function(e,t){if(1&e&&(u.TgZ(0,"div",0),u.NdJ("click",function(){return t.onClick()}),u.TgZ(1,"div",1),u._UZ(2,"div",2),u.ALo(3,"async"),u.TgZ(4,"h2",3),u._uU(5),u.qZA()()()),2&e){let s;u.Q6J("ngStyle",u.VKq(5,I,t.route?"pointer":"inherit")),u.xp6(2),u.Q6J("innerHTML",t.sanitizer.bypassSecurityTrustHtml(null!==(s=u.lcZ(3,3,t.seuCodigoSvg$))&&void 0!==s?s:""),u.oJD),u.xp6(3),u.Oqu(t.title)}},dependencies:[E.PC,E.Ov],styles:[".card[_ngcontent-%COMP%]:hover{box-shadow:inset 5px -8px 9px #a5a5a554}"]})},43417:(D,v,a)=>{a.d(v,{S:()=>I});var C,l=a(20755),d=a(72133),o=a(70645),O=a(76733),u=a(38544);const E=["inputElement"];function _(p,i){if(1&p){const e=l.EpF();l.TgZ(0,"input",4,5),l.NdJ("change",function(s){l.CHM(e);const n=l.oxw();return l.KtG(n.onChange(s))}),l.qZA()}if(2&p){const e=l.oxw();l.ekj("is-invalid",e.isInvalid()),l.Q6J("formControl",e.workControl)("id",e.generatedId(e.controlName))("readonly",e.isDisabled),l.uIk("aria-describedby",e.controlName+"_button")("max",e.isDaysOrHours?void 0:e.maxValue)}}class I extends o.M{set unit(i){this._unit!=i&&(this._unit=i,this.maxValue="day"==this.unit?24:"week"==this.unit?120:480,this.valueToWork(),this.detectChanges())}get unit(){return this._unit}set control(i){this._control=i}get control(){return this.getControl()}set size(i){this.setSize(i)}get size(){return this.getSize()}constructor(i){super(i),this.injector=i,this.class="form-group",this.change=new l.vpe,this.hostClass="",this.labelPosition="top",this.controlName=null,this.icon="",this.label="",this.labelInfo="",this.bold=!1,this.value=0,this.loading=!1,this.workControl=new d.NI,this.maxValue=24,this._unit="day"}ngAfterViewInit(){super.ngAfterViewInit(),this.control&&(this.control.valueChanges.subscribe(i=>this.valueToWork()),this.valueToWork())}onButtonClick(i){const e=this.isDaysOrHours?"day"==this.unit?"hour":"day":"day"==this.unit?"week":"week"==this.unit?"mouth":"day";console.log(this.unit,e),this.unit=e,this.unitChange&&this.unitChange(e)}get isDaysOrHours(){return null!=this.daysOrHours}get iconWork(){return"hour"==this.unit?"bi bi-clock":"day"==this.unit?"bi bi-calendar3-event":"week"==this.unit?"bi bi-calendar3-week":"bi bi-calendar3"}get unitWork(){return"hour"==this.unit?"horas":"day"==this.unit?this.isDaysOrHours?"dias":"h/dia":"week"==this.unit?"h/semana":"h/m\xeas"}onChange(i){this.workToValue(),this.change&&this.change.emit(i)}valueToWork(){const i=["hour","day"].includes(this.unit)?1:"week"==this.unit?5:20,e=this.control?this.control.value*i:this.value*i;this.workControl.value!=e&&this.workControl.setValue(e)}workToValue(){const i=["hour","day"].includes(this.unit)?1:"week"==this.unit?5:20,e=this.workControl.value/i;this.control?this.control.value!=e&&this.control.setValue(e):this.value!=e&&(this.value=e)}}(C=I).\u0275fac=function(i){return new(i||C)(l.Y36(l.zs3))},C.\u0275cmp=l.Xpm({type:C,selectors:[["input-workload"]],viewQuery:function(i,e){if(1&i&&l.Gf(E,5),2&i){let t;l.iGM(t=l.CRH())&&(e.inputElement=t.first)}},hostVars:2,hostBindings:function(i,e){2&i&&l.Tol(e.class)},inputs:{hostClass:"hostClass",labelPosition:"labelPosition",controlName:"controlName",disabled:"disabled",icon:"icon",label:"label",labelInfo:"labelInfo",labelClass:"labelClass",bold:"bold",value:"value",loading:"loading",form:"form",source:"source",path:"path",daysOrHours:"daysOrHours",maxLength:"maxLength",required:"required",unitChange:"unitChange",unit:"unit",control:"control",size:"size"},outputs:{change:"change"},features:[l._Bn([],[{provide:d.gN,useExisting:d.sg}]),l.qOj],decls:6,vars:18,consts:[[3,"labelPosition","labelClass","controlName","required","control","loading","disabled","label","labelInfo","icon","bold"],[1,"input-group"],["type","number","class","form-control","min","0",3,"formControl","id","is-invalid","readonly","change",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"id","click"],["type","number","min","0",1,"form-control",3,"formControl","id","readonly","change"],["inputElement",""]],template:function(i,e){1&i&&(l.TgZ(0,"input-container",0)(1,"div",1),l.YNc(2,_,2,7,"input",2),l.TgZ(3,"button",3),l.NdJ("click",function(s){return e.onButtonClick(s)}),l._UZ(4,"i"),l._uU(5),l.qZA()()()),2&i&&(l.Q6J("labelPosition",e.labelPosition)("labelClass",e.labelClass)("controlName",e.controlName)("required",e.required)("control",e.control)("loading",!1)("disabled",e.disabled)("label",e.label)("labelInfo",e.labelInfo)("icon",e.icon)("bold",e.bold),l.xp6(2),l.Q6J("ngIf",e.viewInit),l.xp6(1),l.ekj("disabled",e.isDisabled),l.Q6J("id",e.generatedId(e.controlName)+"_button"),l.xp6(1),l.Tol(e.iconWork),l.xp6(1),l.hij(" ",e.unitWork," "))},dependencies:[O.O5,d.Fj,d.wV,d.JJ,d.qQ,d.oH,u.h],styles:["input[type=number][_ngcontent-%COMP%]:read-only, input[type=number][_ngcontent-%COMP%]:disabled{background-color:#e9ecef}"]})},65296:(D,v,a)=>{a.d(v,{H:()=>d});var l=a(64368);class d extends l.X{constructor(O){super(),this.nome="",this.initialization(O)}}},34269:(D,v,a)=>{a.d(v,{O:()=>s});var t,l=a(8239),d=a(20755),o=a(32333),O=a(49193),u=a(35255),C=a(81214),E=a(84971),_=a(15908),I=a(92307),p=a(91547),i=a(79084),e=a(55579);class s{constructor(r,c,g,f,b,m,h,P,T,M){this.auth=r,this.utils=c,this.usuarioDao=g,this.unidadeDao=f,this.atividadeDao=b,this.injector=m,this.lex=h,this.go=P,this.gb=T,this.allPages=M}ngOnInit(){this.gb.isEmbedded&&this.allPages.visibilidadeMenuSei(!this.auth.usuario.config.ocultar_menu_sei)}ngAfterViewInit(){return(0,l.Z)(function*(){})()}mensagemSaudacao(){const r=parseInt(this.auth.unidadeHora.replace(":","")),c=this.auth.usuario?.apelido;this.auth.usuario?.email;return r<1200?"Bom dia, "+c:r<1800?"Boa tarde, "+c:"Boa noite, "+c}emailUsuario(){return this.auth.usuario?.email}tokenGAPI(){this.auth.googleApi.getAccessToken().then(r=>{})}getLastDayOfMonth(r,c){return new Date(r,c+1,0)}}(t=s).\u0275fac=function(r){return new(r||t)(d.Y36(o.e),d.Y36(O.f),d.Y36(u.q),d.Y36(C.J),d.Y36(E.P),d.Y36(d.zs3),d.Y36(_.E),d.Y36(I.o),d.Y36(p.d),d.Y36(i.T))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-home"]],decls:5,vars:1,consts:[[1,"container-fluid"],[1,"saudacao"],[1,""]],template:function(r,c){1&r&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),d._uU(3),d.qZA()(),d._UZ(4,"router-outlet"),d.qZA()),2&r&&(d.xp6(3),d.Oqu(c.mensagemSaudacao()))},dependencies:[e.lC],styles:['@import"https://fonts.cdnfonts.com/css/neutra-text-alt";.card[_ngcontent-%COMP%]{box-shadow:0 .1875rem .1875rem #0e223812;margin-bottom:1.875rem}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:600}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-weight:200}.card.atrasadas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a00d0d}.card.concluidas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0e8554}.minhas[_ngcontent-%COMP%]{padding:15px;color:#adadad}.minhas[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .minhas[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0}.avaliacoes[_ngcontent-%COMP%]{color:#fff}.avaliacoes.acima[_ngcontent-%COMP%]{background:#ffc100}.avaliacoes.abaixo[_ngcontent-%COMP%]{background:#ff4000}.dashGestor[_ngcontent-%COMP%]   .usuario[_ngcontent-%COMP%]{border-bottom:1px solid #dcdcdc;padding:10px 0}.dashGestor[_ngcontent-%COMP%]   .usuario[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;margin:0 20px}.dashGestor[_ngcontent-%COMP%]   .usuario[_ngcontent-%COMP%]   .w-30[_ngcontent-%COMP%]{width:30%}.dashGestor[_ngcontent-%COMP%]   .usuario[_ngcontent-%COMP%]:last-child{border:none}.saudacao[_ngcontent-%COMP%]{font-family:neutra text;font-weight:700}']})},75007:(D,v,a)=>{a.d(v,{Z:()=>p});var I,l=a(8239),d=a(22559),o=a(20755),O=a(38720),u=a(49193),C=a(88820),E=a(84495),_=a(17819);class p{set disabled(e){this._disabled!=e&&(this._disabled=e,this.loadExpediente())}get disabled(){return this._disabled}set control(e){var t=this;this._control!=e&&(this._control=e,this.expediente=this.control?.value,e?.valueChanges.subscribe(function(){var s=(0,l.Z)(function*(n){t.expediente=n});return function(n){return s.apply(this,arguments)}}()))}get control(){return this._control}set expediente(e){this._expediente!=e&&(this._expediente=e,this.loadExpediente())}get expediente(){return this._expediente}constructor(e,t,s){this.fh=e,this.cdRef=t,this.util=s,this.diasSemana=["domingo","segunda","terca","quarta","quinta","sexta","sabado"],this.validate=(n,r)=>{for(let g of this.diasSemana)if(r.startsWith(g)&&r.endsWith("_fim")&&n?.value?.length){let f=this.form?.controls[g+"_inicio"]?.value;if(!this.util.isTimeValid(f)||!this.util.isTimeValid(n.value)||this.util.getStrTimeHours(f)>this.util.getStrTimeHours(n.value))return"Inv\xe1lido"}return null},this.form=e.FormBuilder({domingo:{default:[]},segunda:{default:[]},terca:{default:[]},quarta:{default:[]},quinta:{default:[]},sexta:{default:[]},sabado:{default:[]},especial:{default:[]},domingo_inicio:{default:""},domingo_fim:{default:""},segunda_inicio:{default:""},segunda_fim:{default:""},terca_inicio:{default:""},terca_fim:{default:""},quarta_inicio:{default:""},quarta_fim:{default:""},quinta_inicio:{default:""},quinta_fim:{default:""},sexta_inicio:{default:""},sexta_fim:{default:""},sabado_inicio:{default:""},sabado_fim:{default:""},especial_inicio:{default:""},especial_fim:{default:""},especial_data:{default:null},especial_sem:{default:!1}},this.cdRef,this.validate)}ngOnInit(){}get isDisabled(){return null!=this._disabled}loadExpediente(){let e=(this.isDisabled?this.expedienteDisabled:this._expediente)||new d.z;const t=(s,n)=>s.map(r=>Object.assign({},{key:this.util.textHash(("especial"==n?this.util.getDateFormatted(r.data):"")+n+r.inicio+r.fim),value:("especial"==n?this.util.getDateFormatted(r.data)+" - ":"")+r.inicio+" at\xe9 "+r.fim,data:{inicio:r.inicio,fim:r.fim,data:r.data,sem:r.sem}}));this.isDisabled||(this._expediente=e),this.form.controls.domingo.setValue(t(e.domingo,"domingo")),this.form.controls.segunda.setValue(t(e.segunda,"segunda")),this.form.controls.terca.setValue(t(e.terca,"terca")),this.form.controls.quarta.setValue(t(e.quarta,"quarta")),this.form.controls.quinta.setValue(t(e.quinta,"quinta")),this.form.controls.sexta.setValue(t(e.sexta,"sexta")),this.form.controls.sabado.setValue(t(e.sabado,"sabado")),this.form.controls.especial.setValue(t(e.especial,"especial"))}saveExpediente(){this.isDisabled||(this._expediente=this._expediente||new d.z,this._expediente.domingo=this.form.controls.domingo.value.map(e=>e.data),this._expediente.segunda=this.form.controls.segunda.value.map(e=>e.data),this._expediente.terca=this.form.controls.terca.value.map(e=>e.data),this._expediente.quarta=this.form.controls.quarta.value.map(e=>e.data),this._expediente.quinta=this.form.controls.quinta.value.map(e=>e.data),this._expediente.sexta=this.form.controls.sexta.value.map(e=>e.data),this._expediente.sabado=this.form.controls.sabado.value.map(e=>e.data),this._expediente.especial=this.form.controls.especial.value.map(e=>e.data),this.control&&(this.control.setValue(this._expediente),this.cdRef.detectChanges()))}isEmpty(){return!1}addItemHandleDomingo(){return this.addItemHandle("domingo")}addItemHandleSegunda(){return this.addItemHandle("segunda")}addItemHandleTerca(){return this.addItemHandle("terca")}addItemHandleQuarta(){return this.addItemHandle("quarta")}addItemHandleQuinta(){return this.addItemHandle("quinta")}addItemHandleSexta(){return this.addItemHandle("sexta")}addItemHandleSabado(){return this.addItemHandle("sabado")}addItemHandleEspecial(){return this.addItemHandle("especial")}onChange(){this.saveExpediente()}addItemHandle(e){let t;const s=this.form.controls[e+"_inicio"].value,n=this.form.controls[e+"_fim"].value,r=this.form.controls.especial_data.value,c=this.form.controls.especial_sem.value,g=this.util.textHash(("especial"==e?this.util.getDateFormatted(r):"")+e+s+n),f=this.form.controls[e].value;return this.util.isTimeValid(s)&&this.util.isTimeValid(n)&&this.util.getStrTimeHours(s)<this.util.getStrTimeHours(n)&&("especial"!=e||r)&&this.util.validateLookupItem(this.form.controls[e].value,g)&&(t={key:g,value:("especial"==e?this.util.getDateFormatted(r)+" - ":"")+s+" at\xe9 "+n,data:{inicio:s,fim:n,data:r,sem:c}}),f.length>0&&f.forEach(b=>{const m=b.data.inicio,h=b.data.fim;(s>=m&&n<=m||s<=m&&n>=m||s>=m&&n<=m||s<=m&&n>=h||s>=m&&s<=h||n>=m&&n<=h||s==h||n==m)&&(console.log("Conflitante"),t=void 0)}),this.form.controls[e+"_inicio"].setValue(""),this.form.controls[e+"_fim"].setValue(""),"especial"==e&&(this.form.controls[e+"_data"].setValue(null),this.form.controls[e+"_sem"].setValue(!1)),t}}(I=p).\u0275fac=function(e){return new(e||I)(o.Y36(O.k),o.Y36(o.sBO),o.Y36(u.f))},I.\u0275cmp=o.Xpm({type:I,selectors:[["calendar-expediente"]],inputs:{expedienteDisabled:"expedienteDisabled",disabled:"disabled",control:"control",expediente:"expediente"},decls:28,vars:76,consts:[[1,"row"],["label","Domingo","hostClass","col-12 col-md-3",3,"disabled","control","size","addItemHandle","change"],["noIcon","","noIndicator","","time","","time24hours","","label","In\xedcio","hostClass","pe-0","controlName","domingo_inicio",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","Fim","hostClass","ps-0","controlName","domingo_fim",3,"size","control"],["label","Segunda","hostClass","col-12 col-md-3",3,"disabled","control","size","addItemHandle","change"],["noIcon","","noIndicator","","time","","time24hours","","label","In\xedcio","hostClass","pe-0","controlName","segunda_inicio",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","Fim","hostClass","ps-0","controlName","segunda_fim",3,"size","control"],["label","Ter\xe7a","hostClass","col-12 col-md-3",3,"disabled","control","size","addItemHandle","change"],["noIcon","","noIndicator","","time","","time24hours","","label","In\xedcio","hostClass","pe-0","controlName","terca_inicio",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","Fim","hostClass","ps-0","controlName","terca_fim",3,"size","control"],["label","Quarta","hostClass","col-12 col-md-3",3,"disabled","control","size","addItemHandle","change"],["noIcon","","noIndicator","","time","","time24hours","","label","In\xedcio","hostClass","pe-0","controlName","quarta_inicio",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","Fim","hostClass","ps-0","controlName","quarta_fim",3,"size","control"],["label","Quinta","hostClass","col-12 col-md-3",3,"disabled","control","size","addItemHandle","change"],["noIcon","","noIndicator","","time","","time24hours","","label","In\xedcio","hostClass","pe-0","controlName","quinta_inicio",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","Fim","hostClass","ps-0","controlName","quinta_fim",3,"size","control"],["label","Sexta","hostClass","col-12 col-md-3",3,"disabled","control","size","addItemHandle","change"],["noIcon","","noIndicator","","time","","time24hours","","label","In\xedcio","hostClass","pe-0","controlName","sexta_inicio",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","Fim","hostClass","ps-0","controlName","sexta_fim",3,"size","control"],["label","Sabado","hostClass","col-12 col-md-3",3,"disabled","control","size","addItemHandle","change"],["noIcon","","noIndicator","","time","","time24hours","","label","In\xedcio","hostClass","pe-0","controlName","sabado_inicio",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","Fim","hostClass","ps-0","controlName","sabado_fim",3,"size","control"],["label","Especial","hostClass","col-12 col-md-3",3,"disabled","control","size","addItemHandle","change"],["noIcon","","date","","label","Dia","controlName","especial_data",3,"size","control"],["label","Sem","controlName","especial_sem","labelInfo","Sem expediente. Se o hor\xe1rio ir\xe1 representar um per\xedodo que n\xe1o haver\xe1 expediente.",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","In\xedcio","hostClass","pe-0","controlName","especial_inicio",3,"size","control"],["noIcon","","noIndicator","","time","","time24hours","","label","Fim","hostClass","ps-0","controlName","especial_fim",3,"size","control"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0)(1,"input-multiselect",1),o._UZ(2,"input-datetime",2)(3,"input-datetime",3),o.qZA(),o.TgZ(4,"input-multiselect",4),o._UZ(5,"input-datetime",5)(6,"input-datetime",6),o.qZA(),o.TgZ(7,"input-multiselect",7),o._UZ(8,"input-datetime",8)(9,"input-datetime",9),o.qZA(),o.TgZ(10,"input-multiselect",10),o._UZ(11,"input-datetime",11)(12,"input-datetime",12),o.qZA()(),o.TgZ(13,"div",0)(14,"input-multiselect",13),o._UZ(15,"input-datetime",14)(16,"input-datetime",15),o.qZA(),o.TgZ(17,"input-multiselect",16),o._UZ(18,"input-datetime",17)(19,"input-datetime",18),o.qZA(),o.TgZ(20,"input-multiselect",19),o._UZ(21,"input-datetime",20)(22,"input-datetime",21),o.qZA(),o.TgZ(23,"input-multiselect",22),o._UZ(24,"input-datetime",23)(25,"input-switch",24)(26,"input-datetime",25)(27,"input-datetime",26),o.qZA()()),2&e&&(o.xp6(1),o.Q6J("disabled",t.disabled)("control",t.form.controls.domingo)("size",3)("addItemHandle",t.addItemHandleDomingo.bind(t))("change",t.onChange.bind(t)),o.xp6(1),o.Q6J("size",6)("control",t.form.controls.domingo_inicio),o.xp6(1),o.Q6J("size",6)("control",t.form.controls.domingo_fim),o.xp6(1),o.Q6J("disabled",t.disabled)("control",t.form.controls.segunda)("size",3)("addItemHandle",t.addItemHandleSegunda.bind(t))("change",t.onChange.bind(t)),o.xp6(1),o.Q6J("size",6)("control",t.form.controls.segunda_inicio),o.xp6(1),o.Q6J("size",6)("control",t.form.controls.segunda_fim),o.xp6(1),o.Q6J("disabled",t.disabled)("control",t.form.controls.terca)("size",3)("addItemHandle",t.addItemHandleTerca.bind(t))("change",t.onChange.bind(t)),o.xp6(1),o.Q6J("size",6)("control",t.form.controls.terca_inicio),o.xp6(1),o.Q6J("size",6)("control",t.form.controls.terca_fim),o.xp6(1),o.Q6J("disabled",t.disabled)("control",t.form.controls.quarta)("size",3)("addItemHandle",t.addItemHandleQuarta.bind(t))("change",t.onChange.bind(t)),o.xp6(1),o.Q6J("size",6)("control",t.form.controls.quarta_inicio),o.xp6(1),o.Q6J("size",6)("control",t.form.controls.quarta_fim),o.xp6(2),o.Q6J("disabled",t.disabled)("control",t.form.controls.quinta)("size",3)("addItemHandle",t.addItemHandleQuinta.bind(t))("change",t.onChange.bind(t)),o.xp6(1),o.Q6J("size",6)("control",t.form.controls.quinta_inicio),o.xp6(1),o.Q6J("size",6)("control",t.form.controls.quinta_fim),o.xp6(1),o.Q6J("disabled",t.disabled)("control",t.form.controls.sexta)("size",3)("addItemHandle",t.addItemHandleSexta.bind(t))("change",t.onChange.bind(t)),o.xp6(1),o.Q6J("size",6)("control",t.form.controls.sexta_inicio),o.xp6(1),o.Q6J("size",6)("control",t.form.controls.sexta_fim),o.xp6(1),o.Q6J("disabled",t.disabled)("control",t.form.controls.sabado)("size",3)("addItemHandle",t.addItemHandleSabado.bind(t))("change",t.onChange.bind(t)),o.xp6(1),o.Q6J("size",6)("control",t.form.controls.sabado_inicio),o.xp6(1),o.Q6J("size",6)("control",t.form.controls.sabado_fim),o.xp6(1),o.Q6J("disabled",t.disabled)("control",t.form.controls.especial)("size",3)("addItemHandle",t.addItemHandleEspecial.bind(t))("change",t.onChange.bind(t)),o.xp6(1),o.Q6J("size",8)("control",t.form.controls.especial_data),o.xp6(1),o.Q6J("size",4)("control",t.form.controls.especial_sem),o.xp6(1),o.Q6J("size",6)("control",t.form.controls.especial_inicio),o.xp6(1),o.Q6J("size",6)("control",t.form.controls.especial_fim))},dependencies:[C.a,E.k,_.p]})},27918:(D,v,a)=>{a.d(v,{X:()=>I});var _,l=a(8239),d=a(39702),o=a(49193),O=a(15545),u=a(15908),C=a(26898),E=a(20755);class I{constructor(i){this.injector=i,this.lookup=this.injector.get(d.W),this.lex=this.injector.get(u.E),this.dialog=this.injector.get(O.x),this.util=this.injector.get(o.f)}converterAtribuicoes(i){return i.map(e=>Object.assign({},{key:e,value:this.lookup.getValue(this.lookup.UNIDADE_INTEGRANTE_TIPO,e),icon:this.lookup.getIcon(this.lookup.UNIDADE_INTEGRANTE_TIPO,e),color:this.lookup.getColor(this.lookup.UNIDADE_INTEGRANTE_TIPO,e)}))}haAlteracaoGestor(i,e,t,s){let n="",r=this.util.array_diff(e.atribuicoes,i).includes("GESTOR"),c=this.util.array_diff(i,e.atribuicoes).includes("GESTOR");if(!r&&!c)return["nenhuma",-1,"",!1];let g=this.lookup.getValue(this.lookup.UNIDADE_INTEGRANTE_TIPO,"GESTOR")+" "+this.lex.translate("da Unidade")+" ";if(r)return n=s.toUpperCase()+" deixar\xe1 de ser "+g+e.unidade_sigla?.toUpperCase()+".",["perda",-1,n,!1];let f=e.atribuicoes.includes("LOTADO");n=s.toUpperCase()+" passar\xe1 a ser "+g+e.unidade_sigla?.toUpperCase();let b=t.find(h=>h.atribuicoes.includes("GESTOR")),m=t.findIndex((h,P,T)=>h.atribuicoes.includes("LOTADO"));return n=b?.id.length?n+" e deixar\xe1 de ser "+g+b.unidade_sigla+". ":n+". ",!f&&m>=0&&(n+="Por consequ\xeancia, sua lota\xe7\xe3o ser\xe1 alterada de "+t[m].unidade_sigla?.toUpperCase()+" para "+e.unidade_sigla?.toUpperCase()+"."),b?.id.length?["troca",t.findIndex(h=>h.id==b?.id),n,!0]:["ganho",-1,n,!f]}haAlteracaoGerencia(i,e,t,s){let n="",r=this.util.array_diff(e.atribuicoes,i).includes("GESTOR"),c=this.util.array_diff(i,e.atribuicoes).includes("GESTOR");if(!r&&!c)return["nenhuma",-1,"",!1];let g=this.lookup.getValue(this.lookup.UNIDADE_INTEGRANTE_TIPO,"GESTOR")+" "+this.lex.translate("da Unidade")+" ";if(r)return n=e.usuario_nome?.toUpperCase()+" deixar\xe1 de ser "+g+s.toUpperCase()+".",["perda",-1,n,!1];let f=e.atribuicoes.includes("LOTADO");n=e.usuario_nome?.toUpperCase()+" passar\xe1 a ser "+g+s.toUpperCase();let b=t.find(h=>h.atribuicoes.includes("GESTOR"));n=(b?.id.length?n+" em substitui\xe7\xe3o a "+b.usuario_nome?.toUpperCase():n)+". ";let m=t.findIndex((h,P,T)=>h.atribuicoes.includes("LOTADO"));return!f&&m>=0&&(n+="Como \xe9 lotado em outra unidade, a lota\xe7\xe3o de "+e.usuario_nome?.toUpperCase()+" ser\xe1 alterada para "+this.lex.translate("a Unidade")+" - "+s.toUpperCase()+"."),b?.id.length?["troca",t.findIndex(h=>h.id==b?.id),n,!0]:["ganho",-1,n,!f]}haAlteracaoLotacao(i,e,t,s){let n=i.controls.atribuicoes.value.map(f=>f.key),r=t.findIndex((f,b,m)=>f.atribuicoes.includes("LOTADO"));if(!n.includes("LOTADO")||-1==r)return[!1,-1,"",""];let c=this.lex.translate("A lota\xe7\xe3o")+" de "+s.toUpperCase()+" passar\xe1 de "+t[r].unidade_sigla?.toUpperCase()+" para "+e.unidade_sigla?.toUpperCase()+".",g="N\xe3o \xe9 poss\xedvel alterar a lota\xe7\xe3o de "+s.toUpperCase()+" porque \xe9 Chefe da sua atual unidade de lota\xe7\xe3o - "+t[r].unidade_sigla?.toUpperCase()+".";return i.controls.unidade_id.value!=t[r].unidade_id?[!0,r,c,g]:[!1,-1,"",""]}inserirAtribuicao(i,e){let t=this.lookup.getLookup(this.lookup.UNIDADE_INTEGRANTE_TIPO,e);return t&&i.push(t),this.lookup.uniqueLookupItem(i)}ordenarIntegrantes(i){return i.sort((e,t)=>{let s=(e.usuario_nome||e.unidade_nome)?.toLowerCase(),n=(t.usuario_nome||t.unidade_nome)?.toLowerCase();return s<n?-1:s>n?1:0}),i.forEach(e=>{e.atribuicoes.sort()}),i}completarIntegrante(i,e,t,s){return Object.assign({},i,{unidade_id:e,usuario_id:t,atribuicoes:s})}ehPermitidoApagar(i){var e=this;let s=!["LOTADO"].includes(i),n="LOTADO"==i?"A lota\xe7\xe3o do servidor n\xe3o pode ser apagada. Para alter\xe1-la, lote-o em outra Unidade.":"";return(0,l.Z)(function*(){s||(yield e.dialog.alert("N\xc3O PERMITIDO!",n))})(),s}substituirItem(i,e,t){let s=i.itens.findIndex(c=>c.id==i.id),n=t instanceof C.b,r=n?{id:i.id,unidade_sigla:i.apelidoOuSigla,unidade_nome:i.nome,unidade_codigo:i.codigo}:{id:i.id,usuario_apelido:i.apelidoOuSigla,usuario_nome:i.nome};return i.itens[s]=this.completarIntegrante(r,n?i.id:t.id,n?t.id:i.id,e),i.itens}}(_=I).\u0275fac=function(i){return new(i||_)(E.LFG(E.zs3))},_.\u0275prov=E.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}}]);