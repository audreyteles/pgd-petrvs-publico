{"version":3,"file":"9502.js","mappings":"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","sources":["./src/app/modules/configuracoes/unidade/unidade-form/unidade-form.component.ts","./src/app/modules/configuracoes/unidade/unidade-form/unidade-form.component.html","./src/app/modules/configuracoes/unidade/unidade-integrante/unidade-integrante.component.ts","./src/app/modules/configuracoes/unidade/unidade-integrante/unidade-integrante.component.html","./src/app/modules/configuracoes/unidade/unidade-list-grid/unidade-list-grid.component.ts","./src/app/modules/configuracoes/unidade/unidade-list-grid/unidade-list-grid.component.html","./src/app/modules/configuracoes/unidade/unidade-list-map/unidade-list-map.component.ts","./src/app/modules/configuracoes/unidade/unidade-list-map/unidade-list-map.component.html","./src/app/modules/configuracoes/unidade/unidade-list/unidade-list.component.ts","./src/app/modules/configuracoes/unidade/unidade-list/unidade-list.component.html","./src/app/modules/configuracoes/unidade/unidade-merge/unidade-merge.component.ts","./src/app/modules/configuracoes/unidade/unidade-merge/unidade-merge.component.html","./src/app/modules/configuracoes/unidade/unidade-routing.module.ts","./src/app/modules/configuracoes/unidade/unidade.module.ts"],"sourcesContent":["import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { CidadeDaoService } from 'src/app/dao/cidade-dao.service';\r\nimport { EntidadeDaoService } from 'src/app/dao/entidade-dao.service';\r\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Expediente } from 'src/app/models/expediente.model';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { NotificacaoService } from 'src/app/modules/uteis/notificacoes/notificacao.service';\r\nimport { NotificacoesConfigComponent } from 'src/app/modules/uteis/notificacoes/notificacoes-config/notificacoes-config.component';\r\nimport { TemplateDataset } from 'src/app/modules/uteis/templates/template.service';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\n\r\n@Component({\r\n  selector: 'app-unidade-form',\r\n  templateUrl: './unidade-form.component.html',\r\n  styleUrls: ['./unidade-form.component.scss']\r\n})\r\n\r\nexport class UnidadeFormComponent extends PageFormBase<Unidade, UnidadeDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('unidade_pai', { static: false }) public unidadePai?: InputSearchComponent;\r\n  @ViewChild('cidade', { static: false }) public cidade?: InputSearchComponent;\r\n  @ViewChild('gestor', { static: false }) public gestor?: InputSearchComponent;\r\n  @ViewChild('gestorSubstituto', { static: false }) public gestorSubstituto?: InputSearchComponent;\r\n  @ViewChild('gestorDelegado', { static: false }) public gestorDelegado?: InputSearchComponent;\r\n  @ViewChild('entidade', { static: false }) public entidade?: InputSearchComponent;\r\n  @ViewChild('notificacoes', { static: false }) public notificacoes?: NotificacoesConfigComponent;\r\n\r\n  public entidadeDao: EntidadeDaoService;\r\n  public cidadeDao: CidadeDaoService;\r\n  public usuarioDao: UsuarioDaoService;\r\n  public planoTrabalhoDao: PlanoTrabalhoDaoService;\r\n  public notificacao: NotificacaoService;\r\n  public planoDataset: TemplateDataset[];\r\n  public unidadeRaiz: boolean = false;\r\n  public informal: boolean = true;\r\n\r\n  public get informalIsDisabled() {\r\n    //return this.action != 'new' ? 'true' : undefined;\r\n    return 'true';\r\n  }\r\n\r\n  public get instituidoraIsDisabled() {\r\n    return this.informal ? 'true' : undefined;\r\n  }\r\n\r\n  public get codigoIsDisabled() {\r\n    return !this.informal && this.action == 'new' ? undefined : 'true';\r\n  }\r\n\r\n  public get unidadePaiIsDisabled() {\r\n    return this.unidadeRaiz || (!this.informal && this.action == 'edit') ? 'true' : undefined\r\n  }\r\n\r\n  public get isDisabled() {\r\n    return !this.informal && this.action == 'edit' ? 'true' : undefined;\r\n  }\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Unidade, UnidadeDaoService);\r\n    this.entidadeDao = injector.get<EntidadeDaoService>(EntidadeDaoService);\r\n    this.cidadeDao = injector.get<CidadeDaoService>(CidadeDaoService);\r\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\r\n    this.notificacao = injector.get<NotificacaoService>(NotificacaoService);\r\n    this.modalWidth = 1200;\r\n    this.planoDataset = this.planoTrabalhoDao.dataset();\r\n    this.form = this.fh.FormBuilder({\r\n      codigo: { default: \"\" },\r\n      sigla: { default: \"\" },\r\n      nome: { default: \"\" },\r\n      path: { default: \"\" },\r\n      cidade_id: { default: \"\" },\r\n      uf: { default: \"\" },\r\n      instituidora: { default: false },\r\n      informal: { default: true },\r\n      atividades_arquivamento_automatico: { default: 0 },\r\n      distribuicao_forma_contagem_prazos: { default: \"DIAS_UTEIS\" },\r\n      entrega_forma_contagem_prazos: { default: \"HORAS_UTEIS\" },\r\n      notificacoes: { default: {} },\r\n      etiquetas: { default: [] },\r\n      unidade_pai_id: { default: \"\" },\r\n      entidade_id: { default: this.auth.unidade?.entidade_id },\r\n      etiqueta_texto: { default: \"\" },\r\n      etiqueta_icone: { default: null },\r\n      etiqueta_cor: { default: null },\r\n      expediente24: { default: true },\r\n      expediente: { default: null },\r\n      usar_expediente_unidade: { default: false },\r\n      texto_complementar_plano: { default: \"\" },\r\n    }, this.cdRef, this.validate);\r\n    this.join = [\"cidade\", \"entidade\", \"unidade_pai\", \"gestor.usuario:id,nome\", \"gestores_substitutos.usuario:id,nome\", \"gestores_delegados.usuario:id,nome\", \"notificacoes_templates\", \"gestor.gestor:id\", \"gestores_substitutos.gestor_substituto:id\", \"gestores_delegados.gestor_delegado:id\"];\r\n  }\r\n\r\n  public async loadData(entity: Unidade, form: FormGroup) {\r\n    this.informal = !!entity.informal;\r\n    this.cdRef.detectChanges();\r\n    let formValue = Object.assign({}, form.value);\r\n    this.form!.patchValue(this.util.fillForm(formValue, entity));\r\n    await Promise.all([\r\n      this.unidadePai!.loadSearch(entity.unidade_pai || entity.unidade_pai_id),\r\n      this.cidade!.loadSearch(entity.cidade || entity.cidade_id),\r\n      this.entidade!.loadSearch(entity.entidade || entity.entidade_id)\r\n    ]);\r\n    entity.etiquetas = entity.etiquetas || [];\r\n    this.form!.controls.informal.setValue(entity.informal);\r\n    this.unidadeRaiz = this.action == 'edit' && !entity.unidade_pai_id;\r\n    this.form!.controls.usar_expediente_unidade.setValue(entity.expediente ? true : false);\r\n    this.fh.revalidate(this.form!);\r\n  }\r\n\r\n  public initializeData(form: FormGroup): void {\r\n    this.entity = new Unidade({\r\n      entidade_id: this.auth.unidade?.entidade_id,\r\n      entidade: this.auth.unidade?.entidade,\r\n      informal: 1\r\n    });\r\n    this.loadData(this.entity, form);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if (controlName == 'unidade_pai_id' && !control.value?.length && !this.unidadeRaiz) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    if (controlName == 'codigo' && !this.form?.controls.informal.value && !parseInt(control.value)) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public addItemHandle(): LookupItem | undefined {\r\n    let result = undefined;\r\n    const value = this.form!.controls.etiqueta_texto.value;\r\n    const key = this.util.textHash(value);\r\n    if (value?.length && this.util.validateLookupItem(this.form!.controls.etiquetas.value, key)) {\r\n      result = {\r\n        key: key,\r\n        value: this.form!.controls.etiqueta_texto.value,\r\n        color: this.form!.controls.etiqueta_cor.value,\r\n        icon: this.form!.controls.etiqueta_icone.value\r\n      };\r\n      this.form!.controls.etiqueta_texto.setValue(\"\");\r\n      this.form!.controls.etiqueta_icone.setValue(null);\r\n      this.form!.controls.etiqueta_cor.setValue(null);\r\n    }\r\n    return result;\r\n  };\r\n\r\n  public saveData(form: IIndexable): Promise<Unidade> {\r\n    return new Promise<Unidade>(async (resolve, reject) => {\r\n      this.notificacoes!.saveData();\r\n      let unidade: Unidade = this.util.fill(new Unidade(), this.entity!);\r\n      unidade = this.util.fillForm(unidade, this.form!.value);\r\n      unidade.notificacoes = this.entity!.notificacoes;\r\n      unidade.notificacoes_templates = this.entity!.notificacoes_templates;\r\n      if (!this.form!.controls.usar_expediente_unidade) unidade.expediente = null;\r\n      resolve(unidade);\r\n    });\r\n  }\r\n\r\n  public titleEdit = (entity: Unidade): string => {\r\n    return \"Editando \" + this.lex.translate(\"Unidade\") + ': ' + (entity?.sigla || \"\");\r\n  }\r\n\r\n  public onInformalChange(event: Event) {\r\n    this.informal = this.form!.controls.informal.value;\r\n    this.form!.controls.codigo.setValue(\"\");\r\n    this.form!.controls.instituidora.setValue(false);\r\n    this.form!.controls.codigo.updateValueAndValidity();\r\n  }\r\n\r\n  public onUsarExpedienteEntidadeChange() {\r\n    this.form!.controls.expediente.setValue(this.form!.controls.usar_expediente_unidade.value ? this.form!.controls.expediente.value || new Expediente() : null);\r\n  }\r\n\r\n}\r\n","<editable-form [title]=\"isModal ? '' : title\" [form]=\"form!\" [disabled]=\"formDisabled\" initialFocus=\"sigla\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n  <tabs display right>\r\n    <tab key=\"PRINCIPAL\" label=\"Principal\">\r\n      <div class=\"row\">\r\n        <input-switch [disabled]=\"informalIsDisabled\" [size]=\"1\" label=\"Informal\" labelClass=\"text-nowrap\" controlName=\"informal\" (change)=\"onInformalChange($event)\" [labelInfo]=\"'Definir se ' + lex.translate('a unidade') + ' é informal ou não.' + lex.translate(' Unidades') + ' informais são, por exemplo: times volantes, comissões, grupos de trabalho, etc.' + lex.translate(' Unidades') + ' informais não podem mudar para formais, ou vice-versa.'\"></input-switch>\r\n        <input-switch [disabled]=\"instituidoraIsDisabled\" [size]=\"1\" label=\"Instit.\" labelClass=\"text-nowrap\" controlName=\"instituidora\" [labelInfo]=\"'Se a ' + lex.translate('unidade') + ' é instituidora de Programas. Unidade administrativa prevista no art. 4º do Decreto nº 11.072, de 2022.'\"></input-switch>\r\n        <input-text [disabled]=\"codigoIsDisabled\" [size]=\"2\" label=\"Código\" controlName=\"codigo\"></input-text>\r\n        <input-text [disabled]=\"isDisabled\" [size]=\"2\" label=\"Sigla\" controlName=\"sigla\" required></input-text>\r\n        <input-text [disabled]=\"isDisabled\" [size]=\"6\" label=\"Nome\" controlName=\"nome\" required></input-text>\r\n      </div>\r\n      <div class=\"row\">\r\n        <input-search [disabled]=\"isDisabled\" #cidade [size]=\"4\" controlName=\"cidade_id\" [dao]=\"cidadeDao\" required></input-search>\r\n        <input-search [disabled]=\"unidadePaiIsDisabled\" #unidade_pai [size]=\"4\" [label]=\"lex.translate('Unidade') + ' pai'\" controlName=\"unidade_pai_id\" [where]=\"[['entidade_id', '==', form!.controls.entidade_id.value]]\" [dao]=\"dao!\"></input-search>\r\n        <input-search #entidade [size]=\"4\" disabled controlName=\"entidade_id\" [dao]=\"entidadeDao\" required></input-search>\r\n      </div>\r\n    </tab>\r\n    <tab key=\"CONFIGURACOES\" label=\"Configurações\">\r\n      <!--div class=\"row\">\r\n        <input-select [size]=\"4\" [label]=\"'Contagem ' + lex.translate('Prazo de Distribuição')\" controlName=\"distribuicao_forma_contagem_prazos\" [items]=\"lookup.DIA_HORA_CORRIDOS_OU_UTEIS\" labelInfo=\"A forma da contagem dos prazos para a distribuição (lançamento da demanda).\"></input-select>\r\n        <input-select [size]=\"4\" [label]=\"'Contagem ' + lex.translate('Prazo de Entrega')\" controlName=\"entrega_forma_contagem_prazos\" [items]=\"lookup.HORAS_CORRIDAS_OU_UTEIS\" labelInfo=\"A forma da contagem dos prazos na entrega da demanda (data da entrega e tempo despendido)\"></input-select>\r\n        <input-radio [size]=\"4\" label=\"Arquivamento automático\" controlName=\"atividades_arquivamento_automatico\" [items]=\"lookup.SIMNAO\" labelInfo=\"Se após a avaliação, arquivará automaticamente a atividade.\"></input-radio>\r\n      </div-->\r\n      <separator></separator>\r\n      <div clss=\"row\">\r\n        <input-multiselect label=\"Etiquetas\" multiselectStyle=\"inline\" [maxItemWidth]=\"250\" controlName=\"etiquetas\" [size]=\"12\" [addItemHandle]=\"addItemHandle.bind(this)\">\r\n          <input-text [size]=\"6\" label=\"Texto\" controlName=\"etiqueta_texto\" [attr.maxlength]=250></input-text>\r\n          <input-select [size]=\"3\" label=\"Ícone\" controlName=\"etiqueta_icone\" [items]=\"lookup.ICONES\"></input-select>\r\n          <input-color [size]=\"3\" label=\"Cor\" controlName=\"etiqueta_cor\"></input-color>\r\n        </input-multiselect>\r\n      </div>\r\n      <separator></separator>\r\n      <div class=\"row\">\r\n        <input-editor [label]=\"'Texto complementar ' + lex.translate('Plano de Trabalho')\" controlName=\"texto_complementar_plano\" [dataset]=\"planoDataset\"></input-editor>\r\n      </div>\r\n    </tab>\r\n    <tab key=\"EXPEDIENTE\" label=\"Expediente\">\r\n      <div class=\"row\">\r\n        <input-switch #usarExpedienteEntidade label=\"Usar calendário próprio\" labelPosition=\"right\" icon=\"bi bi-check2\" [size]=\"12\" (change)=\"onUsarExpedienteEntidadeChange()\" controlName=\"usar_expediente_unidade\" labelInfo=\"Se o expediente da {{lex.translate('unidade')}} não for definido usaremos o da {{lex.translate('entidade')}}\"></input-switch>\r\n      </div>\r\n      <calendar-expediente #expediente [disabled]=\"form!.controls.usar_expediente_unidade.value ? undefined : 'true'\" [expedienteDisabled]=\"entity?.entidade?.expediente\" [control]=\"form!.controls.expediente\"></calendar-expediente>\r\n    </tab>\r\n    <tab *ngIf=\"entity\" key=\"NOTIFICACOES\" label=\"Notificações\">\r\n      <notificacoes-config #notificacoes [unidadeId]=\"entity.id.length ? entity!.id : 'ADD'\" [entity]=\"entity!\" [disabled]=\"formDisabled\"></notificacoes-config>\r\n    </tab>\r\n  </tabs>\r\n</editable-form>","import { Component, Injector, Input, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { UnidadeIntegranteDaoService } from 'src/app/dao/unidade-integrante-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { IIndexable, IntegranteAtribuicao } from 'src/app/models/base.model';\r\nimport { IntegranteConsolidado } from 'src/app/models/unidade-integrante.model';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { IntegranteService } from 'src/app/services/integrante.service';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PerfilDaoService } from 'src/app/dao/perfil-dao.service';\r\n\r\n@Component({\r\n  selector: 'unidade-integrante',\r\n  templateUrl: './unidade-integrante.component.html',\r\n  styleUrls: ['./unidade-integrante.component.scss']\r\n})\r\nexport class UnidadeIntegranteComponent extends PageFrameBase {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\r\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n  @Input() set entity(value: Unidade | undefined) { super.entity = value; } get entity(): Unidade | undefined { return super.entity; }\r\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\r\n\r\n  public items: IntegranteConsolidado[] = [];\r\n  public perfis: Usuario[] = [];//\r\n  public integranteService: IntegranteService;\r\n  public integranteDao: UnidadeIntegranteDaoService;\r\n  public usuarioDao: UsuarioDaoService;\r\n  public tiposAtribuicao: LookupItem[] = [];\r\n  public perfilDao: PerfilDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.integranteService = injector.get<IntegranteService>(IntegranteService);\r\n    this.integranteDao = injector.get<UnidadeIntegranteDaoService>(UnidadeIntegranteDaoService);\r\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.perfilDao = injector.get<PerfilDaoService>(PerfilDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      usuario_id: { default: \"\" },\r\n      atribuicoes: { default: undefined },\r\n      atribuicao: { default: \"\" },\r\n      perfil_id: { default: null }\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  ngOnInit() {\r\n    super.ngOnInit();\r\n    this.entity = this.metadata?.unidade;\r\n    this.tiposAtribuicao = this.lookup.UNIDADE_INTEGRANTE_TIPO;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    (async () => {\r\n      await this.loadData(this.entity!, this.form);\r\n    })();\r\n  }\r\n\r\n  /**\r\n   * Método chamado na inicialização do componente para carregar todos os integrantes da unidade.\r\n   * @param entity \r\n   * @param form \r\n   */\r\n  public async loadData(entity: IIndexable, form?: FormGroup | undefined) {\r\n    if (entity.id) {\r\n      let integrantes: IntegranteConsolidado[] = [];\r\n      let usuarioIds: string[] = [];\r\n      this.loading = true;\r\n      try {\r\n        await this.integranteDao!.carregarIntegrantes(entity.id, \"\").then(resposta => integrantes = resposta.integrantes.filter(x => x.atribuicoes?.length > 0));\r\n        integrantes.forEach(integrante => usuarioIds.push(integrante.id))\r\n        this.perfis = await this.usuarioDao.query({ where: [\"id\", \"in\", usuarioIds] }).asPromise();\r\n      } finally {\r\n        this.loading = false;\r\n        this.items = [];\r\n        integrantes.forEach(i => this.items?.push(this.integranteService.completarIntegrante(i, entity.id, i.id, i.atribuicoes)));\r\n        this.items = this.integranteService.ordenarIntegrantes(this.items);\r\n        this.cdRef.detectChanges();\r\n        this.grid!.loading = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  public getPerfil(id: string) {\r\n    let perfil = this.perfis.find(p => p.id == id);\r\n    return perfil?.perfil?.nome;\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if ([\"usuario_id\", \"atribuicoes\"].includes(controlName) && !control.value?.length) result = \"Obrigatório\";\r\n    if ((controlName == \"usuario_id\") && this.grid?.adding && this.items.map(i => i.id).includes(control.value)) result = \"O usuário já é integrante desta unidade. Edite-o, ao invés de incluí-lo novamente!\";\r\n    return result;\r\n  }\r\n\r\n  public formValidation = (form?: FormGroup) => {\r\n    let atribuicoes: LookupItem[] = form!.controls.atribuicoes.value;\r\n    if (this.util.array_diff(['GESTOR', 'GESTOR_SUBSTITUTO', 'GESTOR_DELEGADO'], atribuicoes.map(x => x.key) || []).length < 2) {\r\n      return \"A um mesmo servidor só pode ser atribuída uma função de gestor (titular, substituto ou delegado), para uma mesma Unidade!\";\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  public addItemHandle(): LookupItem | undefined {\r\n    let result = undefined;\r\n    const value = this.lookup.getValue(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\r\n    const key = this.form!.controls.atribuicao.value;\r\n    if (value?.length && this.util.validateLookupItem(this.form!.controls.atribuicoes.value, key)) {\r\n      const icon = this.lookup.getIcon(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\r\n      const color = this.lookup.getColor(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\r\n      result = {\r\n        key: key,\r\n        value: value,\r\n        icon: icon,\r\n        color: color\r\n      };\r\n      this.form!.controls.atribuicao.setValue(\"\");\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Garante que não será possível excluir atribuições que possam gerar inconsistências\r\n   * @param row Atribuição do servidor na unidade\r\n   * @returns \r\n   */\r\n  public deleteItemHandle(row: LookupItem): boolean | undefined | void {\r\n    return this.integranteService.ehPermitidoApagar(row.key);\r\n  };\r\n\r\n  /**\r\n   * Método chamado na edição de um integrante da Unidade.\r\n   * @param form \r\n   * @param row \r\n   */\r\n  public async carregarIntegrante(form: FormGroup, row: any) {\r\n    form.controls.usuario_id.setValue(this.grid?.adding ? row.usuario_id : row.id);\r\n    form.controls.atribuicoes.setValue(this.integranteService.converterAtribuicoes(row.atribuicoes));\r\n    form.controls.atribuicao.setValue(\"\");\r\n  }\r\n\r\n  /**\r\n* Método chamado para inserir uma atribuição no grid, seja este componente persistente ou não.\r\n* @returns \r\n*/\r\n  public async adicionarIntegrante() {\r\n    if (this.grid) this.grid.error = '';\r\n    let novo = {\r\n      id: this.integranteDao!.generateUuid(),\r\n      usuario_id: \"\",\r\n      atribuicoes: []\r\n    } as IIndexable;\r\n    return novo;\r\n  }\r\n\r\n  /**\r\n   * Método chamado para a exclusão de um integrante do grid, seja este componente persistente ou não. \r\n   * @param row \r\n   * @returns \r\n   */\r\n  public async removerIntegrante(row: IntegranteConsolidado) {\r\n    if (row.atribuicoes[0].includes(\"LOTADO\")) {\r\n      await this.dialog.alert(\"IMPOSSÍVEL EXCLUIR !\", \"O vínculo que inclui \" + this.lex.translate('a lotação') + \" \" + this.lex.translate('do servidor') + \" não pode ser excluído. Se desejar excluir as demais atribuições, edite o vínculo. Se deseja alterar \" + this.lex.translate('a lotação') + \", lote-o em outra \" + this.lex.translate('Unidade') + \".\");\r\n    } else {\r\n      let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir todas as atribuições \" + this.lex.translate('do servidor') + row.usuario_nome?.toUpperCase() + \" \" + this.lex.translate('na unidade') + \" \" + this.entity!.sigla.toUpperCase() + \" ?\");\r\n      if (confirm) {\r\n        let msg: string | undefined;\r\n        try {\r\n          if (!this.isNoPersist) {    // se persistente\r\n            this.loading = true;\r\n            await this.integranteDao.salvarIntegrantes([this.integranteService.completarIntegrante(row, this.entity!.id, row.id, [])]).then(resposta => {\r\n              if (msg = resposta.find(v => v._metadata.msg?.length)?._metadata.msg) { if (this.grid) this.grid.error = msg; };\r\n            });\r\n            await this.loadData({ id: this.entity!.id }, this.form);\r\n          } else {                    // se não persistente\r\n            Object.assign(row, { '_status': \"DELETE\", 'atribuicoes': [] });\r\n            return false;\r\n          }\r\n        } finally {\r\n          this.loading = false;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Método chamado no salvamento de um usuário-integrante (new/edit), seja este componente persistente ou não.\r\n   * @param form \r\n   * @param row \r\n   * @returns \r\n   */\r\n  public async salvarIntegrante(form: FormGroup, row: IntegranteConsolidado) {\r\n    let novasAtribuicoes = this.lookup.uniqueLookupItem(form!.controls.atribuicoes.value);\r\n    form.controls.atribuicoes.setValue(novasAtribuicoes);\r\n    if (this.grid) this.grid.error = \"\";\r\n    this.cdRef.detectChanges();\r\n    let error = this.formValidation(form);\r\n    if (!error) {\r\n      let confirm = true;\r\n      let alteracaoGestor = this.integranteService.haAlteracaoGerencia(novasAtribuicoes.map(x => x.key), Object.assign(row, { usuario_nome: this.usuario?.selectedItem?.entity.nome }), (this.grid?.items as IntegranteConsolidado[]) || [], this.entity?.sigla || \"\");\r\n      if (alteracaoGestor[0] != 'nenhuma') {\r\n        confirm = await this.dialog.confirm(\"CONFIRMA A ALTERAÇÃO DA CHEFIA ?\", alteracaoGestor[2]);\r\n        if (confirm) {\r\n          switch (alteracaoGestor[0]) {\r\n            case 'troca':\r\n              // Garante que o outro usuário, ex-chefe da unidade, perderá a atribuição de GESTOR\r\n              this.grid!.items[alteracaoGestor[1]].atribuicoes = (this.grid!.items[alteracaoGestor[1]].atribuicoes as string[]).filter(x => !['GESTOR'].includes(x));\r\n              break;\r\n          }\r\n          // Insere a atribuição de LOTADO para o novo Gerente, apenas para fins de atualização da tela, pois o back-end já fará isso automaticamente.\r\n          novasAtribuicoes = this.integranteService.inserirAtribuicao(novasAtribuicoes, 'LOTADO');\r\n          form.controls.atribuicoes.setValue(novasAtribuicoes);\r\n          this.loading = true;\r\n        } else return undefined;\r\n      }\r\n      try {\r\n        if (!this.isNoPersist) { // se persistente\r\n          await this.integranteDao.salvarIntegrantes([Object.assign({ _metadata: { perfil_id: form!.controls.perfil_id.value } }, this.integranteService.completarIntegrante(row, this.entity!.id, form!.controls.usuario_id.value, novasAtribuicoes.map(x => x.key)))]).then(resposta => {\r\n            let msg: string | undefined;\r\n            if (msg = resposta?.find(v => v._metadata.msg?.length)?._metadata.msg) { if (this.grid) this.grid!.error = msg; };\r\n          });\r\n          // TODO: se retornar uma mensagem de erro, ela será exibida?\r\n          await this.loadData({ id: this.entity!.id }, this.form);\r\n          if (this.grid) this.grid!.error = \"\";\r\n        } else {                // se não persistente\r\n          row.id = this.usuario?.selectedEntity.id;\r\n          this.grid!.items = this.integranteService.substituirItem({\r\n            id: row.id,\r\n            itens: this.grid?.items || [],\r\n            apelidoOuSigla: this.usuario?.selectedItem?.entity.apelido,\r\n            nome: this.usuario?.selectedItem?.entity.nome,\r\n            codigo: \"\"\r\n          }, novasAtribuicoes.map((x: LookupItem) => x.key), new Unidade(this.entity!))\r\n        }\r\n        this.cdRef.detectChanges();\r\n      } catch (error: any) {\r\n        if (this.grid) this.grid.error = error;\r\n        await this.loadData({ id: this.entity!.id }, this.form);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    } else {\r\n      await this.dialog.alert(\"IMPOSSÍVEL INCLUIR/ALTERAR O SERVIDOR !\", error);\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n\r\n  /* \r\n  \r\n  TESTES MÍNIMOS RECOMENDADOS PARA A VALIDAÇÃO DO COMPONENTE - UNIDADE-INTEGRANTE\r\n\r\n  CENÁRIO: CAMINHO FELIZ\r\n  Formulário das preferências da unidade - aba 'Integrantes'\r\n  1. Destituir o gestor\r\n  2. Atribuir a gerência da unidade a um servidor que já está lotado nela\r\n  3. Atribuir a gerência da unidade a um servidor que ainda não está lotado nela, mas já consta no grid\r\n  4. Atribuir a gerência da unidade a um servidor que ainda não está lotado nela, nem consta no grid\r\n  5. Trocar de gerente, assumindo um servidor que já existe no grid\r\n  6. Trocar de gerente, assumindo um servidor que ainda não existe no grid\r\n  7. Alterar atribuições (exceto gerência e lotação) de um servidor que já existe no grid\r\n  8. Alterar atribuições (exceto gerência e lotação) de um servidor que ainda não existe no grid\r\n  9. Lotar na unidade um usuário que já existe no grid\r\n  10. Lotar na unidade um usuário que ainda não existe no grid\r\n  11. Realizar várias das ações acima ao mesmo tempo (ações que sejam coerentes e não conflitantes), antes de salvar o formulário\r\n  12. Excluir o vínculo completo com um servidor que não seja lotado na unidade\r\n\r\n  CENÁRIO: CAMINHO FELIZ\r\n  Formulário de Integrantes da unidade - grupo de botões opcionais (...)\r\n  1. Destituir o gestor\r\n  2. Atribuir a gerência da unidade a um servidor que já está lotado nela\r\n  3. Atribuir a gerência da unidade a um servidor que ainda não está lotado nela, mas já consta no grid\r\n  4. Atribuir a gerência da unidade a um servidor que ainda não está lotado nela, nem consta no grid\r\n  5. Trocar de gerente, assumindo um servidor que já existe no grid e é lotado na unidade\r\n  6. Trocar de gerente, assumindo um servidor que já existe no grid mas não é lotado na unidade\r\n  7. Trocar de gerente, assumindo um servidor que ainda não existe no grid\r\n  8. Alterar atribuições (exceto gerência e lotação) de um servidor que já existe no grid\r\n  9. Alterar atribuições (exceto gerência e lotação) de um servidor que ainda não existe no grid\r\n  10. Lotar na unidade um usuário que já existe no grid\r\n  11. Lotar na unidade um usuário que ainda não existe no grid\r\n  12. Excluir o vínculo completo com um servidor que não seja lotado na unidade\r\n  \r\n  */\r\n}","<grid #grid [items]=\"items\" [minHeight]=\"500\" [form]=\"form!\" [hasDelete]=\"true\" editable [add]=\"adicionarIntegrante.bind(this)\" [load]=\"carregarIntegrante.bind(this)\" [remove]=\"removerIntegrante.bind(this)\" [save]=\"salvarIntegrante.bind(this)\">\r\n  <span *ngIf=\"!isNoPersist\"><strong>{{ 'Unidade: ' + (entity?.nome || \"\")}}</strong></span>\r\n  <columns>\r\n    <column [title]=\"lex.translate('Usuários')\" [template]=\"columnUsuario\" [editTemplate]=\"editUsuario\" [maxWidth]=\"150\">\r\n      <ng-template let-row=\"row\" #columnUsuario>\r\n        <div class=\"d-flex\">\r\n          <div class=\"ms-3\">\r\n            <profile-picture [url]=\"row.usuario_url_foto || ''\" [size]=\"40\" [hint]=\"row.usuario_nome || ''\"></profile-picture>\r\n          </div>\r\n          <div class=\"flex-fill ms-3\">\r\n            <strong>{{row.usuario_nome || \"\"}}</strong><br>\r\n            <small>{{row.usuario_apelido || \"\"}}</small>\r\n          </div>\r\n        </div>\r\n      </ng-template>\r\n      <ng-template let-row=\"row\" #editUsuario>\r\n        <input-search #usuario [disabled]=\"grid?.adding ? undefined : 'true'\" [size]=\"12\" label icon controlName=\"usuario_id\" [dao]=\"usuarioDao\"></input-search>\r\n      </ng-template>\r\n    </column>\r\n    <column [title]=\"lex.translate('Atribuições')\" [template]=\"columnAtribuicoes\" [editTemplate]=\"editAtribuicoes\" [maxWidth]=\"200\">\r\n      <ng-template let-row=\"row\" #columnAtribuicoes>\r\n        <div *ngFor=\"let atribuicao of row.atribuicoes\">\r\n          <badge [color]=\"lookup.getColor(lookup.UNIDADE_INTEGRANTE_TIPO, atribuicao || '')\" [icon]=\"lookup.getIcon(lookup.UNIDADE_INTEGRANTE_TIPO, atribuicao || '')\" [label]=\"lookup.getValue(lookup.UNIDADE_INTEGRANTE_TIPO, atribuicao || '')\"></badge><br>\r\n        </div>\r\n      </ng-template>\r\n      <ng-template let-row=\"row\" #editAtribuicoes>\r\n        <input-multiselect controlName=\"atribuicoes\" [size]=\"8\" [addItemHandle]=\"addItemHandle.bind(this)\" [deleteItemHandle]=\"deleteItemHandle.bind(this)\">\r\n          <input-select [size]=\"12\" label=\"\" icon=\"fas fa-sign-out-alt\" controlName=\"atribuicao\" [items]=\"tiposAtribuicao\"></input-select>\r\n        </input-multiselect>\r\n      </ng-template>\r\n    </column>\r\n    <column [title]=\"lex.translate('Perfil')\" [template]=\"columnPerfil\" [editTemplate]=\"editPerfil\" [maxWidth]=\"300\">\r\n      <ng-template let-row=\"row\" #columnPerfil>\r\n        <badge color=\"gray\" [label]=\"getPerfil(row.id) || ''\"></badge><br>\r\n      </ng-template>\r\n      <ng-template let-row=\"row\" #editPerfil>\r\n        <input-select [size]=\"12\" [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_PERFIL') ? 'true' : undefined\" [label]=\"lex.translate('Perfil')\" controlName=\"perfil_id\" [dao]=\"perfilDao\" required></input-select>\r\n      </ng-template>\r\n    </column>\r\n    <column type=\"options\"></column>\r\n  </columns>\r\n</grid>","import { Component, Injector, Input, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { ActivatedRouteSnapshot } from '@angular/router';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputSwitchComponent } from 'src/app/components/input/input-switch/input-switch.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { CidadeDaoService } from 'src/app/dao/cidade-dao.service';\r\nimport { EntidadeDaoService } from 'src/app/dao/entidade-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\n\r\n@Component({\r\n  selector: 'unidade-list-grid',\r\n  templateUrl: './unidade-list-grid.component.html',\r\n  styleUrls: ['./unidade-list-grid.component.scss']\r\n})\r\nexport class UnidadeListGridComponent extends PageListBase<Unidade, UnidadeDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @Input() selectable: boolean = false;\r\n  @Input() snapshot?: ActivatedRouteSnapshot;\r\n  @ViewChild('instituidora', { static: false }) public instituidora?: InputSwitchComponent;\r\n\r\n  public cidadeDao: CidadeDaoService;\r\n  public entidadeDao: EntidadeDaoService;\r\n  public buttons: ToolbarButton[] = [];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Unidade, UnidadeDaoService);\r\n    this.join = [\"cidade\", \"unidade_pai:id,sigla\", \"entidade:id,sigla\", \"gestor.usuario:id\", \"gestores_substitutos.usuario:id\"];\r\n    this.cidadeDao = injector.get<CidadeDaoService>(CidadeDaoService);\r\n    this.entidadeDao = injector.get<EntidadeDaoService>(EntidadeDaoService);\r\n    /* Inicializações */\r\n    this.code = \"MOD_CFG_UND\";\r\n    this.filter = this.fh.FormBuilder({\r\n      entidade_id: { default: this.auth.unidade?.entidade_id },\r\n      inativos: { default: false },\r\n      instituidora: { default: false },\r\n      nome: { default: \"\" }\r\n    });\r\n    this.groupBy = [{ field: \"entidade.sigla\", label: \"Entidade\" }];\r\n    // Testa se o usuário possui permissão unificar unidade\r\n    if (this.auth.hasPermissionTo(\"MOD_UND_UNIR\")) {\r\n      this.buttons.push({\r\n        icon: \"bi bi-arrows-collapse\",\r\n        color: \"btn-outline-danger\",\r\n        label: \"Unificar\",\r\n        onClick: (unidade: Unidade) => this.go.navigate({ route: ['configuracoes', 'unidade', 'merge'] }, this.modalRefresh())\r\n      });\r\n    }\r\n    this.addOption(this.OPTION_INFORMACOES, \"MOD_UND\");\r\n    this.addOption(this.OPTION_EXCLUIR, \"MOD_UND_EXCL\");\r\n  }\r\n\r\n  public dynamicOptions(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let unidade: Unidade = row as Unidade;\r\n    // Testa se o usuário logado possui permissão de inativar a unidade do grid\r\n    if (this.auth.hasPermissionTo(\"MOD_UND_INATV\")) result.push({icon: unidade.data_inativacao ? \"bi bi-check-circle\" : \"bi bi-x-circle\", label: unidade.data_inativacao ? 'Reativar' : 'Inativar', onClick: async (unidade: Unidade) => await this.inativo(unidade, !unidade.data_inativacao)});\r\n    // Testa se o usuário logado possui permissão para gerenciar integrantes da unidade do grid\r\n    if (this.auth.hasPermissionTo(\"MOD_UND_INTG\")) result.push({ label: \"Integrantes\", icon: \"bi bi-people\", onClick: (unidade: Unidade) => this.go.navigate({ route: ['configuracoes', 'unidade', '', unidade.id, 'integrante'] }, { metadata: { unidade: row } })});\r\n    return result;\r\n  }\r\n\r\n  public async inativo(unidade: Unidade, inativo: boolean) {\r\n    if (await this.dialog.confirm(inativo ? \"Inativar\" : \"Reativar\", inativo ? \"Deseja realmente inativar essa unidade (\" + unidade.nome + \")?\" : \"Deseja reativar essa unidade (\" + unidade.nome + \")?\")) {\r\n      try {\r\n        this.submitting = true;\r\n        await this.dao!.inativar(unidade.id, inativo);\r\n        await this.modalRefreshId(unidade).modalClose!(undefined);\r\n      } finally {\r\n        this.submitting = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let form: any = filter.value;\r\n    let result: any[] = [];\r\n    /* Se for selectable trás somente os inativos ou os não inativos, se não for então trás juntamente os inativos se form.inativos */\r\n    result.push(this.selectable ? [\"data_inativacao\", form.inativos ? \"!=\" : \"==\", null] : [\"inativos\", \"==\", form.inativos]);\r\n    if (form.entidade_id?.length) result.push([\"entidade_id\", \"==\", form.entidade_id]);\r\n    if (form.nome?.length) result.push([\"or\", [\"nome\", \"like\", \"%\" + form.nome.trim().replace(\" \", \"%\") + \"%\"], [\"sigla\", \"like\", \"%\" + form.nome.trim().replace(\" \", \"%\") + \"%\"]]);\r\n    if (form.instituidora) result.push([\"instituidora\", \"==\", 1]);\r\n    return result;\r\n  }\r\n\r\n  public get labelInfoInativas(): string {\r\n    return this.selectable ? 'Se lista só as unidades inativas' : 'Se lista também as unidades inativas';\r\n  }\r\n}","<h3 *ngIf=\"isModal\" class=\"my-2\">{{title}}</h3>\r\n<grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\" [selectable]=\"selectable\" (select)=\"onSelect($event)\" [hasAdd]=\"auth.hasPermissionTo('MOD_UND_INCL')\" [hasEdit]=\"auth.hasPermissionTo('MOD_UND_EDT')\">\r\n  <toolbar *ngIf=\"!selectable\" [buttons]=\"buttons\"></toolbar>\r\n  <filter [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\" [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n    <div class=\"row\">\r\n      <!-- <input-search #entidade [size]=\"5\" [control]=\"filter!.controls.entidade_id\" controlName=\"entidade_id\" [control]=\"filter!.controls.entidade_id\" [dao]=\"entidadeDao\"></input-search> -->\r\n      <input-text [size]=\"10\" label=\"Nome\" controlName=\"nome\" [control]=\"filter!.controls.nome\" placeholder=\"Nome ou sigla...\" [attr.maxlength]=250></input-text>\r\n      <input-switch #instituidora [size]=\"1\" label=\"Instit.\" labelClass=\"text-nowrap\" controlName=\"instituidora\" [control]=\"filter!.controls.instituidora\" [labelInfo]=\"'Se lista SOMENTE as ' + lex.translate('unidades') + ' instituidoras de ' + lex.translate('programas')\"></input-switch>\r\n      <input-switch [size]=\"1\" label=\"Inativos\" controlName=\"inativos\" [control]=\"filter!.controls.inativos\" [labelInfo]=\"labelInfoInativas\"></input-switch>\r\n    </div>\r\n  </filter>\r\n  <columns>\r\n    <column title=\"Sigla\" field=\"sigla\"></column>\r\n    <column title=\"Nome\" [template]=\"columnNome\" orderBy=\"nome\">\r\n      <ng-template let-row=\"row\" #columnNome>\r\n        <span class=\"d-block\">{{row.nome}}</span>\r\n        <span *ngIf=\"row.unidade\" class=\"badge bg-light text-dark\">\r\n          <i class=\"bi bi-arrow-return-right\"></i>\r\n          {{row.unidade.sigla}}\r\n        </span>\r\n      </ng-template>\r\n    </column>\r\n    <column title=\"Código\" field=\"codigo\"></column>\r\n    <column [title]=\"lex.translate('Cidade')\" [template]=\"columnCidade\">\r\n      <ng-template let-row=\"row\" #columnCidade>\r\n        <span>{{(row.cidade?.nome || \"\") + \"/\" + (row.cidade?.uf || \"\")}}</span>\r\n      </ng-template>\r\n    </column>\r\n    <column title=\"Situação\" [template]=\"columnSituacao\">\r\n      <ng-template let-row=\"row\" #columnSituacao>\r\n        <div class=\"one-per-line\">\r\n          <badge *ngIf=\"row.instituidora\" color=\"primary\" icon=\"bi bi-star\" label=\"Instituidora\"></badge>\r\n          <badge [color]=\"!row.data_inativacao ? 'success' : 'danger'\" [icon]=\"!row.data_inativacao ? 'bi bi-check-circle' : 'bi bi-x-circle'\" [label]=\"!row.data_inativacao ? 'Ativo' : 'Inativo'\"></badge>\r\n        </div>\r\n      </ng-template>\r\n    </column>\r\n    <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\" [dynamicOptions]=\"dynamicOptions.bind(this)\"></column>\r\n  </columns>\r\n  <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>","import { Component, Injector } from '@angular/core';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { TreeNode } from 'primeng/api';\r\nimport { QueryContext } from 'src/app/dao/query-context';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { OrganizationChartNodeExpandEvent } from 'primeng/organizationchart';\r\n\r\n@Component({\r\n  selector: 'unidade-mapa',\r\n  templateUrl: './unidade-list-map.component.html',\r\n  styleUrls: ['./unidade-list-map.component.scss']\r\n})\r\nexport class UnidadeListMapComponent extends PageListBase<Unidade, UnidadeDaoService>{\r\n  public query?: QueryContext<Unidade>;\r\n  public data: TreeNode[] = []\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Unidade, UnidadeDaoService);\r\n    this.dao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    this.carregaUnidades()\r\n  }\r\n\r\n  public async carregaUnidades(){\r\n    let minhaUnidade = this.auth.usuario?.lotacao?.unidade_id\r\n    let unidades = await this.dao!.hierarquiaUnidades(minhaUnidade);\r\n\r\n    let caminhoAteARaiz: string[] = [];\r\n    let unidadeAtualId = minhaUnidade;\r\n\r\n    while (unidadeAtualId) {\r\n        let unidadeAtual = unidades.find(x => x.id === unidadeAtualId);\r\n        if (unidadeAtual) {\r\n            caminhoAteARaiz.unshift(unidadeAtualId);\r\n            unidadeAtualId = unidadeAtual.unidade_pai_id || undefined;\r\n        } else {\r\n            break;\r\n        }\r\n    }\r\n\r\n    let filhos = (unidadeId: string | null): any => {\r\n        return unidades\r\n            .filter(x => x.unidade_pai_id === unidadeId)\r\n            .map(x => ({\r\n                type: 'unidade',\r\n                label: x.sigla,                \r\n                expanded: minhaUnidade === x.id ? false : caminhoAteARaiz.includes(x.id),\r\n                styleClass: minhaUnidade == x.id ? 'text-bg-primary' : '',                \r\n                data: {\r\n                  hint: x.nome,\r\n                  unidade: x,\r\n                },\r\n                children: temFilhos(x.id) ? filhos(x.id) : [{ type: 'fake', expanded: false, label: 'Carregando...' }]\r\n            }));\r\n    };\r\n    let temFilhos = (unidadeId: string) => {\r\n      return unidades.some(x => x.unidade_pai_id === unidadeId);\r\n    };    \r\n    \r\n    this.data = filhos(null);\r\n  }\r\n\r\n  expandeUnidade(event: OrganizationChartNodeExpandEvent){   \r\n    this.carregaFilhas(event.node.data.unidade.id, event.node)   \r\n  }\r\n\r\n\r\n  async carregaFilhas(unidade_id: string, node: TreeNode){\r\n    let unidades = await this.dao!.unidadesFilhas(unidade_id);\r\n    node.children = unidades.map(x => ({\r\n      type: 'unidade',\r\n      label: x.sigla,\r\n      expanded: false,\r\n      data: {\r\n        unidade: x,\r\n        hint: x.nome\r\n      },\r\n      children: [{ type: 'fake', expanded: false, label: 'Carregando...' }]\r\n    }));\r\n  }\r\n\r\n}\r\n","<ng-scrollbar autoHeightDisabled=\"false\" track=\"all\">\r\n  <div class=\"my-3\">\r\n    <p-organizationChart [value]=\"data\" (onNodeExpand)=\"expandeUnidade($event)\">\r\n      <ng-template let-node pTemplate=\"unidade\">\r\n        <div class=\"font-bold\">{{ node.label }}</div>\r\n      </ng-template>\r\n    </p-organizationChart>\r\n  </div>\r\n</ng-scrollbar>","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { TabsComponent } from 'src/app/components/tabs/tabs.component';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\n\r\n@Component({\r\n  selector: 'app-unidade-list',\r\n  templateUrl: './unidade-list.component.html',\r\n  styleUrls: ['./unidade-list.component.scss']\r\n})\r\nexport class UnidadeListComponent extends PageListBase<Unidade, UnidadeDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild(TabsComponent, { static: false }) public tabs?: TabsComponent;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Unidade, UnidadeDaoService);\r\n    this.title = this.lex.translate(\"Unidades\");\r\n    this.code = \"MOD_CFG_UND\";\r\n    this.filter = this.fh.FormBuilder({});\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    this.tabs!.active = [\"TABELA\", \"MAPA\"].includes(this.usuarioConfig.active_tab) ? this.usuarioConfig.active_tab : \"TABELA\";\r\n  }\r\n\r\n  public async onSelectTab(tab: LookupItem) {\r\n    if(this.viewInit) this.saveUsuarioConfig({active_tab: tab.key});\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    filter.controls.nome.setValue(\"\");\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n    return result;\r\n  }\r\n\r\n}","<tabs right [title]=\"isModal ? '' : title\" [select]=\"onSelectTab.bind(this)\">\r\n    <tab key=\"TABELA\" icon=\"bi bi-table\" label=\"Lista\" [template]=\"grid\">\r\n        <ng-template #grid>\r\n            <unidade-list-grid [selectable]=\"selectable\" [snapshot]=\"snapshot || modalRoute || route.snapshot\"></unidade-list-grid>\r\n        </ng-template>\r\n    </tab>\r\n    <tab *ngIf=\"!selectable\" key=\"MAPA\" icon=\"bi bi-card-heading\" label=\"Mapa\" [template]=\"mapa\">\r\n        <ng-template #mapa>\r\n            <unidade-mapa></unidade-mapa>\r\n        </ng-template>\r\n    </tab>\r\n</tabs>","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\n\r\nexport type UnidadeMerge = {\r\n  id: string,\r\n  unidade_origem_id: string,\r\n  unidade_destino_id: string,\r\n  unidade_origem?: Unidade,\r\n  unidade_destino?: Unidade\r\n}\r\n\r\n@Component({\r\n  selector: 'app-unidade-merge',\r\n  templateUrl: './unidade-merge.component.html',\r\n  styleUrls: ['./unidade-merge.component.scss']\r\n})\r\nexport class UnidadeMergeComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('unidadeOrigem', { static: false }) public unidadeOrigem?: InputSearchComponent;\r\n  @ViewChild('unidadeDestino', { static: false }) public unidadeDestino?: InputSearchComponent;\r\n\r\n  public items: UnidadeMerge[] = [];\r\n  public toolbarButtons: ToolbarButton[] = [\r\n    {\r\n      icon: \"bi bi-yin-yang\",\r\n      label: \"Mesma sigla\",\r\n      hint: \"Unificar todos que tenham a mesma sigla. Sendo a inativa considerada como origem.\",\r\n      onClick: this.onMesmaSiglaClick.bind(this)\r\n    }\r\n  ];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      exclui_origem: {default: false},\r\n      origem_inativo: {default: true},\r\n      unidade_origem_id: {default: \"\"},\r\n      unidade_destino_id: {default: \"\"}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    return result;\r\n  }\r\n\r\n  public onMesmaSiglaClick() {\r\n    this.loading = true;\r\n    (this.dao as UnidadeDaoService).mesmaSigla().then(unidades => {\r\n      let destinos: Unidade[] = [];\r\n      destinos = unidades.reduce((acumulador, valor) => {\r\n        if(!valor.data_inativacao && !acumulador.find(x => x.sigla == valor.sigla)) acumulador.push(valor);\r\n        return acumulador; \r\n      }, destinos);\r\n      let destinosIds = destinos.map(x => x.id);\r\n      let origens = unidades.filter(x => !destinosIds.includes(x.id) && !!x.data_inativacao);\r\n      let origensIds = origens.map(x => x.id);\r\n      this.items = [];\r\n      for(let origem of origens) {\r\n        let destino = destinos.find(x => x.sigla == origem.sigla);\r\n        if(destino) {\r\n          this.items.push({\r\n            id: this.dao!.generateUuid(),\r\n            unidade_origem_id: origem.id,\r\n            unidade_destino_id: destino.id,\r\n            unidade_origem: origem,\r\n            unidade_destino: destino\r\n          });\r\n        }\r\n      }\r\n      /* Pegas as unidade que tem a Sigla repetida mas que não estão inativas */\r\n      let error: string[] = [];\r\n      for(let unidade of unidades) {\r\n        if(!destinosIds.includes(unidade.id) && !origensIds.includes(unidade.id)) error.push(unidade.codigo + \" - \" + unidade.sigla + \" - \" + unidade.nome);\r\n      }\r\n      if(error.length) this.editableForm!.error = (error.length == 1 ? \"A unidade abaixo possui duplicidade de SIGLA, mas não está inativa:\" : \"As unidades abaixo possuem duplicidade de SIGLA, mas não estão inativas:\") + \"\\n\" + error.join(\"\\n\");\r\n    }).finally(() => {\r\n      this.loading = false;\r\n    });\r\n  }\r\n\r\n  public async addMerge() {\r\n    return {\r\n      id: this.dao!.generateUuid(),\r\n      unidade_origem_id: \"\",\r\n      unidade_destino_id: \"\",\r\n      unidade_origem: undefined,\r\n      unidade_destino: undefined\r\n    } as IIndexable;\r\n  }\r\n\r\n  public async loadMerge(form: FormGroup, row: any) {\r\n    form.controls.unidade_origem_id.setValue(row.unidade_origem_id);\r\n    form.controls.unidade_destino_id.setValue(row.unidade_destino_id);\r\n  }\r\n\r\n  public async removeMerge(row: any) {\r\n    return true;\r\n  }\r\n\r\n  public async saveMerge(form: FormGroup, row: any) {\r\n    let result = undefined;\r\n    if(this.form!.controls.unidade_origem_id.value?.length || this.form!.controls.unidade_destino_id.value?.length) {\r\n      row.unidade_origem_id = form.controls.unidade_origem_id.value;\r\n      row.unidade_origem = this.unidadeOrigem?.selectedEntity || await this.dao?.getById(row.unidade_origem_id);\r\n      row.unidade_destino_id = form.controls.unidade_destino_id.value;\r\n      row.unidade_destino = this.unidadeDestino?.selectedEntity || await this.dao?.getById(row.unidade_destino_id);\r\n      result = row;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public onMerge() {\r\n    let error: string | undefined = undefined;\r\n    for(let row of this.items) error = error || (!row.unidade_origem_id?.length || !row.unidade_destino_id?.length ? \"A origem e o destino precisam estar preenchidos em todos\" : undefined);\r\n    this.editableForm!.error = error;\r\n    if(!error?.length) {\r\n      this.loading = true;\r\n      (this.dao as UnidadeDaoService).unificar(this.items.map(x => Object.assign({}, {unidade_origem_id: x.unidade_origem_id, unidade_destino_id: x.unidade_destino_id})), this.form!.controls.exclui_origem.value).then(result => {\r\n        if(result) this.close();\r\n      }).finally(() => {\r\n        this.loading = false;\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n","<editable-form [form]=\"form!\" [title]=\"isModal ? '' : title\" confirmLabel=\"Unificar\" (submit)=\"onMerge()\" (cancel)=\"onCancel()\">\r\n    <top-alert type=\"warning\" message=\"Por motivos de segurança será permitido somente unificar unidades inativas para unidade ativas. E caso [Exclui origem] não esteja habilitado, a unidade de origem continuará na lista (como inativa).\"></top-alert>\r\n    <toolbar [buttons]=\"toolbarButtons\">\r\n        <input-switch [size]=\"4\" labelPosition=\"left\" label=\"Exclui origem\" controlName=\"exclui_origem\"></input-switch>\r\n    </toolbar>\r\n    <grid [items]=\"items\" [form]=\"form!\" [add]=\"addMerge.bind(this)\" [load]=\"loadMerge.bind(this)\" [remove]=\"removeMerge.bind(this)\" [save]=\"saveMerge.bind(this)\" editable>\r\n        <columns>\r\n            <column [title]=\"lex.translate('Unidade') + ' origem'\" titleHint=\"Unidade que será substituída pela outra\" [template]=\"columnUnidadeOrigem\" [editTemplate]=\"editUnidadeOrigem\">\r\n                <ng-template let-row=\"row\" #columnUnidadeOrigem>\r\n                    <span>{{row.unidade_origem?.nome || \"\"}}</span><br>\r\n                    <small>{{row.unidade_origem?.codigo || \"\"}} - {{row.unidade_origem?.sigla || \"\"}}</small>\r\n                </ng-template>\r\n                <ng-template let-row=\"row\" #editUnidadeOrigem>\r\n                    <input-search #unidade_origem [size]=\"12\" label icon controlName=\"unidade_origem_id\" [dao]=\"dao\" [where]=\"[['inativo', '!=', null]]\" [selectRoute]=\"{route: ['configuracoes', 'unidade'], params: {filter: {inativos: true}}}\"></input-search>\r\n                </ng-template>\r\n            </column>\r\n            <column [title]=\"lex.translate('Unidade') + ' destino'\" titleHint=\"Unidade que sobrará após a unificação\" [template]=\"columnUnidadeDestino\" [editTemplate]=\"editUnidadeDestino\">\r\n                <ng-template let-row=\"row\" #columnUnidadeDestino>\r\n                    <span>{{row.unidade_destino?.nome || \"\"}}</span><br>\r\n                    <small>{{row.unidade_destino?.codigo || \"\"}} - {{row.unidade_destino?.sigla || \"\"}}</small>\r\n                </ng-template>\r\n                <ng-template let-row=\"row\" #editUnidadeDestino>\r\n                    <input-search #unidade_destino [size]=\"12\" label icon controlName=\"unidade_destino_id\" [dao]=\"dao\" [where]=\"[['inativo', '==', null]]\" [selectRoute]=\"{route: ['configuracoes', 'unidade'], params: {filter: {inativos: false}}}\"></input-search>\r\n                </ng-template>\r\n            </column>\r\n            <column type=\"options\"></column>\r\n        </columns>\r\n    </grid>\r\n</editable-form>","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { UnidadeFormComponent } from './unidade-form/unidade-form.component';\r\nimport { UnidadeListComponent } from './unidade-list/unidade-list.component';\r\nimport { UnidadeMergeComponent } from './unidade-merge/unidade-merge.component';\r\nimport { UnidadeIntegranteComponent } from './unidade-integrante/unidade-integrante.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: UnidadeListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Unidades\" } },\r\n  { path: 'new', component: UnidadeFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Unidade\", modal: true } },\r\n  { path: ':id/edit', component: UnidadeFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição de Unidade\", modal: true } },\r\n  { path: ':id/consult', component: UnidadeFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Unidade\", modal: true } },\r\n  { path: ':id/:idUnidade/integrante', component: UnidadeIntegranteComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Integrantes da Unidade\", modal: true } },\r\n  { path: ':id/subordinadas', component: UnidadeListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Unidades subordinadas\" } },\r\n  { path: 'merge', component: UnidadeMergeComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Unificação\", modal: true } }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class UnidadeRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { UnidadeRoutingModule } from './unidade-routing.module';\r\nimport { UnidadeFormComponent } from './unidade-form/unidade-form.component';\r\nimport { UnidadeListComponent } from './unidade-list/unidade-list.component';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { OrganizationChartModule } from 'primeng/organizationchart';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { UnidadeMergeComponent } from './unidade-merge/unidade-merge.component';\r\nimport { UteisModule } from '../../uteis/uteis.module';\r\nimport { NgScrollbarModule } from 'ngx-scrollbar';\r\nimport { UnidadeIntegranteComponent } from './unidade-integrante/unidade-integrante.component';\r\nimport { UnidadeListGridComponent } from './unidade-list-grid/unidade-list-grid.component';\r\nimport { UnidadeListMapComponent } from './unidade-list-map/unidade-list-map.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    UnidadeFormComponent,\r\n    UnidadeListComponent,\r\n    UnidadeMergeComponent,\r\n    UnidadeIntegranteComponent,\r\n    UnidadeListGridComponent,\r\n    UnidadeListMapComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    UteisModule,\r\n    ReactiveFormsModule,\r\n    UnidadeRoutingModule,\r\n    OrganizationChartModule,\r\n    NgScrollbarModule\r\n  ]\r\n})\r\nexport class UnidadeModule { }\r\n"],"names":["EditableFormComponent","CidadeDaoService","EntidadeDaoService","PlanoTrabalhoDaoService","UnidadeDaoService","UsuarioDaoService","Expediente","Unidade","PageFormBase","NotificacaoService","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ctx_r5","entity","id","length","formDisabled","UnidadeFormComponent","informalIsDisabled","instituidoraIsDisabled","informal","undefined","codigoIsDisabled","action","unidadePaiIsDisabled","unidadeRaiz","isDisabled","constructor","injector","validate","control","controlName","result","value","form","controls","parseInt","titleEdit","lex","translate","sigla","entidadeDao","get","cidadeDao","usuarioDao","planoTrabalhoDao","notificacao","modalWidth","planoDataset","dataset","fh","FormBuilder","codigo","default","nome","path","cidade_id","uf","instituidora","atividades_arquivamento_automatico","distribuicao_forma_contagem_prazos","entrega_forma_contagem_prazos","notificacoes","etiquetas","unidade_pai_id","entidade_id","auth","unidade","etiqueta_texto","etiqueta_icone","etiqueta_cor","expediente24","expediente","usar_expediente_unidade","texto_complementar_plano","cdRef","join","loadData","_this","_asyncToGenerator","detectChanges","formValue","Object","assign","patchValue","util","fillForm","Promise","all","unidadePai","loadSearch","unidade_pai","cidade","entidade","setValue","revalidate","initializeData","addItemHandle","key","textHash","validateLookupItem","color","icon","saveData","_this2","_ref","resolve","reject","fill","notificacoes_templates","_x","_x2","apply","arguments","onInformalChange","event","updateValueAndValidity","onUsarExpedienteEntidadeChange","_","ɵɵdirectiveInject","Injector","_2","selectors","viewQuery","UnidadeFormComponent_Query","rf","ctx","ɵɵlistener","UnidadeFormComponent_Template_editable_form_submit_0_listener","onSaveData","UnidadeFormComponent_Template_editable_form_cancel_0_listener","onCancel","UnidadeFormComponent_Template_input_switch_change_4_listener","$event","UnidadeFormComponent_Template_input_switch_change_28_listener","ɵɵtemplate","UnidadeFormComponent_tab_32_Template","isModal","title","ɵɵpureFunction1","_c8","_c7","dao","bind","ɵɵattribute","lookup","ICONES","ɵɵpropertyInterpolate2","GridComponent","UnidadeIntegranteDaoService","PageFrameBase","IntegranteService","PerfilDaoService","ɵɵtext","ɵɵtextInterpolate","ctx_r1","row_r14","usuario_url_foto","usuario_nome","usuario_apelido","_r0","adding","ctx_r18","getColor","UNIDADE_INTEGRANTE_TIPO","atribuicao_r19","getIcon","getValue","UnidadeIntegranteComponent_ng_template_10_div_0_Template","row_r17","atribuicoes","ctx_r9","deleteItemHandle","tiposAtribuicao","ctx_r11","getPerfil","row_r21","ctx_r13","hasPermissionTo","perfilDao","UnidadeIntegranteComponent","noPersist","items","perfis","includes","grid","map","i","formValidation","array_diff","x","integranteService","integranteDao","usuario_id","atribuicao","perfil_id","ngOnInit","metadata","ngAfterViewInit","integrantes","usuarioIds","loading","carregarIntegrantes","then","resposta","filter","forEach","integrante","push","query","where","asPromise","completarIntegrante","ordenarIntegrantes","perfil","find","p","row","ehPermitidoApagar","carregarIntegrante","_this3","converterAtribuicoes","adicionarIntegrante","_this4","error","novo","generateUuid","removerIntegrante","_this5","dialog","alert","confirm","toUpperCase","msg","isNoPersist","salvarIntegrantes","v","_metadata","salvarIntegrante","_this6","novasAtribuicoes","uniqueLookupItem","alteracaoGestor","haAlteracaoGerencia","usuario","selectedItem","inserirAtribuicao","selectedEntity","substituirItem","itens","apelidoOuSigla","apelido","UnidadeIntegranteComponent_Query","UnidadeIntegranteComponent_span_2_Template","UnidadeIntegranteComponent_ng_template_5_Template","ɵɵtemplateRefExtractor","UnidadeIntegranteComponent_ng_template_7_Template","UnidadeIntegranteComponent_ng_template_10_Template","UnidadeIntegranteComponent_ng_template_12_Template","UnidadeIntegranteComponent_ng_template_15_Template","UnidadeIntegranteComponent_ng_template_17_Template","_r2","_r4","_r6","_r8","_r10","_r12","PageListBase","ctx_r0","buttons","ɵɵtextInterpolate1","row_r9","UnidadeListGridComponent_ng_template_12_span_2_Template","row_r12","UnidadeListGridComponent_ng_template_19_badge_1_Template","row_r13","data_inativacao","UnidadeListGridComponent","selectable","filterWhere","inativos","trim","replace","code","groupBy","field","label","onClick","go","navigate","route","modalRefresh","addOption","OPTION_INFORMACOES","OPTION_EXCLUIR","dynamicOptions","inativo","submitting","inativar","modalRefreshId","modalClose","filterClear","labelInfoInativas","UnidadeListGridComponent_Query","UnidadeListGridComponent_h3_0_Template","UnidadeListGridComponent_Template_grid_select_1_listener","onSelect","UnidadeListGridComponent_toolbar_2_Template","UnidadeListGridComponent_ng_template_12_Template","UnidadeListGridComponent_ng_template_16_Template","UnidadeListGridComponent_ng_template_19_Template","add","orderBy","filterSubmit","filterCollapseChange","filterCollapsed","_r3","_r5","_r7","edit","options","rowsLimit","node_r1","UnidadeListMapComponent","data","carregaUnidades","minhaUnidade","lotacao","unidade_id","unidades","hierarquiaUnidades","caminhoAteARaiz","unidadeAtualId","unidadeAtual","unshift","filhos","unidadeId","type","expanded","styleClass","hint","children","temFilhos","some","expandeUnidade","carregaFilhas","node","unidadesFilhas","features","ɵɵInheritDefinitionFeature","decls","vars","consts","template","UnidadeListMapComponent_Template","UnidadeListMapComponent_Template_p_organizationChart_onNodeExpand_2_listener","UnidadeListMapComponent_ng_template_3_Template","TabsComponent","snapshot","modalRoute","UnidadeListComponent_tab_4_ng_template_1_Template","UnidadeListComponent","tabs","active","usuarioConfig","active_tab","onSelectTab","tab","viewInit","saveUsuarioConfig","UnidadeListComponent_Query","UnidadeListComponent_ng_template_2_Template","UnidadeListComponent_tab_4_Template","row_r8","unidade_origem","ɵɵtextInterpolate2","ctx_r3","_c3","ɵɵpureFunction0","_c2","ɵɵpureFunction2","_c4","_c6","_c5","row_r11","unidade_destino","ctx_r7","_c9","UnidadeMergeComponent","toolbarButtons","onMesmaSiglaClick","exclui_origem","origem_inativo","unidade_origem_id","unidade_destino_id","mesmaSigla","destinos","reduce","acumulador","valor","destinosIds","origens","origensIds","origem","destino","editableForm","finally","addMerge","loadMerge","removeMerge","saveMerge","unidadeOrigem","getById","unidadeDestino","onMerge","unificar","close","UnidadeMergeComponent_Query","UnidadeMergeComponent_Template_editable_form_submit_0_listener","UnidadeMergeComponent_Template_editable_form_cancel_0_listener","UnidadeMergeComponent_ng_template_7_Template","UnidadeMergeComponent_ng_template_9_Template","UnidadeMergeComponent_ng_template_12_Template","UnidadeMergeComponent_ng_template_14_Template","RouterModule","AuthGuard","ConfigResolver","routes","component","canActivate","config","runGuardsAndResolvers","modal","UnidadeRoutingModule","_3","forChild","imports","i1","exports","CommonModule","ComponentsModule","OrganizationChartModule","ReactiveFormsModule","UteisModule","NgScrollbarModule","UnidadeModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}