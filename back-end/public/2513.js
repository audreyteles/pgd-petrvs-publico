"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[2513],{52513:(S,h,l)=>{l.r(h),l.d(h,{FuncaoModule:()=>y});var v=l(76733),N=l(58568),I=l(72133),g=l(55579),m=l(1391),d=l(2314),F=l(73150),J=l(78509),D=l(64368);class p extends D.X{constructor(t){super(),this.nome="",this.nivel="",this.descricao="",this.siape="",this.cbo="",this.ativo=1,this.initialization(t)}}var u,b=l(37598),e=l(20755),T=l(57224),M=l(83351),O=l(57765),B=l(45512),Z=l(42704),E=l(88820),C=l(92392);function R(i,t){1&i&&e._UZ(0,"toolbar")}function P(i,t){if(1&i&&e._uU(0),2&i){const o=t.row,n=e.oxw();e.hij(" ",n.lookup.getValue(n.lookup.SIMNAO,o.ativo)," ")}}class z extends J.E{constructor(t){super(t,p,b.B),this.injector=t,this.filterWhere=o=>{let n=[],a=o.value;return a.nome?.length&&n.push(["nome","like","%"+a.nome.trim().replace(" ","%")+"%"]),a.descricao?.length&&n.push(["descricao","like","%"+a.descricao.trim().replace(" ","%")+"%"]),a.nivel?.length&&n.push(["nivel","like","%"+a.nivel.trim().replace(" ","%")+"%"]),a.siape?.length&&n.push(["siape","like","%"+a.siape.trim().replace(" ","%")+"%"]),a.cbo?.length&&n.push(["cbo","like","%"+a.cbo.trim().replace(" ","%")+"%"]),n},this.title=this.lex.translate("Fun\xe7\xf5es"),this.code="MOD_RX",this.filter=this.fh.FormBuilder({nome:{default:""},descricao:{default:""},nivel:{default:""},siape:{default:""},cbo:{default:""},ativo:{default:1}}),this.auth.hasPermissionTo("MOD_RX_VIS_DPE")&&this.options.push({icon:"bi bi-info-circle",label:"Informa\xe7\xf5es",onClick:this.consult.bind(this)}),this.auth.hasPermissionTo("MOD_RX_VIS_DPE")&&this.options.push({icon:"bi bi-trash",label:"Excluir",onClick:this.delete.bind(this)})}filterClear(t){t.controls.nome.setValue(""),t.controls.descri\u00e7\u00e3o.setValue(""),t.controls.nivel.setValue(""),t.controls.siape.setValue(""),t.controls.cbo.setValue(""),super.filterClear(t)}}(u=z).\u0275fac=function(t){return new(t||u)(e.Y36(e.zs3))},u.\u0275cmp=e.Xpm({type:u,selectors:[["funcao-list"]],viewQuery:function(t,o){if(1&t&&e.Gf(F.M,5),2&t){let n;e.iGM(n=e.CRH())&&(o.grid=n.first)}},features:[e.qOj],decls:21,vars:38,consts:[[3,"dao","add","title","orderBy","groupBy","join","selectable","hasAdd","hasEdit","select"],[4,"ngIf"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["label","Nome da Fun\xe7\xe3o","controlName","nome","placeholder","Nome da \xe1rea de conhecimento",3,"size","control"],["label","N\xedvel","controlName","nivel","placeholder","",3,"size","control"],["label","Descri\xe7\xe3o","controlName","descricao","placeholder","",3,"size","control"],["label","C\xf3digo SIAPE","controlName","siape","placeholder","",3,"size","control"],["label","C\xf3digo CBO","controlName","cbo","placeholder","",3,"size","control"],["label","Ativo","controlName","ativo","placeholder","",3,"size","control"],["title","Fun\xe7\xf5es","field","nome","orderBy","nome"],["title","N\xedvel","field","nivel"],["title","Descri\xe7\xe3o","field","descricao"],["title","SIAPE","field","siape"],["title","CBO","field","cbo"],["title","Ativo",3,"template"],["columnAtivo",""],["type","options",3,"onEdit","options"],[3,"rows"]],template:function(t,o){if(1&t&&(e.TgZ(0,"grid",0),e.NdJ("select",function(a){return o.onSelect(a)}),e.YNc(1,R,1,0,"toolbar",1),e.TgZ(2,"filter",2)(3,"div",3),e._UZ(4,"input-text",4)(5,"input-text",5)(6,"input-text",6)(7,"input-text",7)(8,"input-text",8)(9,"input-switch",9),e.qZA()(),e.TgZ(10,"columns"),e._UZ(11,"column",10)(12,"column",11)(13,"column",12)(14,"column",13)(15,"column",14),e.TgZ(16,"column",15),e.YNc(17,P,1,1,"ng-template",null,16,e.W1O),e.qZA(),e._UZ(19,"column",17),e.qZA(),e._UZ(20,"pagination",18),e.qZA()),2&t){const n=e.MAs(18);e.Q6J("dao",o.dao)("add",o.add)("title",o.isModal?"":o.title)("orderBy",o.orderBy)("groupBy",o.groupBy)("join",o.join)("selectable",o.selectable)("hasAdd",o.auth.hasPermissionTo("MOD_RX_OUT_INCL"))("hasEdit",o.auth.hasPermissionTo("MOD_RX_OUT_EDT")),e.xp6(1),e.Q6J("ngIf",!o.selectable),e.xp6(1),e.Q6J("deleted",o.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",o.filter)("where",o.filterWhere)("submit",o.filterSubmit.bind(o))("clear",o.filterClear.bind(o))("collapseChange",o.filterCollapseChange.bind(o))("collapsed",!o.selectable&&o.filterCollapsed),e.xp6(2),e.Q6J("size",3)("control",o.filter.controls.nome),e.uIk("maxlength",250),e.xp6(1),e.Q6J("size",3)("control",o.filter.controls.nivel),e.uIk("maxlength",250),e.xp6(1),e.Q6J("size",3)("control",o.filter.controls.descricao),e.uIk("maxlength",250),e.xp6(1),e.Q6J("size",3)("control",o.filter.controls.siape),e.uIk("maxlength",250),e.xp6(1),e.Q6J("size",3)("control",o.filter.controls.cbo),e.uIk("maxlength",250),e.xp6(1),e.Q6J("size",3)("control",o.filter.controls.ativo),e.xp6(7),e.Q6J("template",n),e.xp6(3),e.Q6J("onEdit",o.edit)("options",o.options),e.xp6(1),e.Q6J("rows",o.rowsLimit)}},dependencies:[v.O5,F.M,T.a,M.b,O.z,B.n,Z.Q,E.a,C.m]});var c,s,A=l(74040),x=l(1184);class f extends x.F{constructor(t){super(t,p,b.B),this.injector=t,this.titulos=[],this.validate=(o,n)=>{let a=null;return["nome"].indexOf(n)>=0&&!o.value?.length&&(a="Obrigat\xf3rio"),a},this.titleEdit=o=>"Editando "+(o?.nome||""),this.form=this.fh.FormBuilder({nome:{default:""},nivel:{default:""},siape:{default:""},cbo:{default:""},descricao:{default:""},ativo:{default:!0}},this.cdRef,this.validate)}loadData(t,o){let n=Object.assign({},o.value);o.patchValue(this.util.fillForm(n,t))}initializeData(t){t.patchValue(new p)}saveData(t){return new Promise((o,n)=>{const a=this.util.fill(new p,this.entity);o(this.util.fillForm(a,this.form.value))})}}(c=f).\u0275fac=function(t){return new(t||c)(e.Y36(e.zs3))},c.\u0275cmp=e.Xpm({type:c,selectors:[["funcao-form"]],viewQuery:function(t,o){if(1&t&&e.Gf(A.Q,5),2&t){let n;e.iGM(n=e.CRH())&&(o.editableForm=n.first)}},features:[e.qOj],decls:8,vars:15,consts:[["initialFocus","nome",3,"form","disabled","title","submit","cancel"],[1,"row"],["label","Nome da Fun\xe7\xe3o","controlName","nome","required","",3,"size"],["label","N\xedvel da Fun\xe7\xe3o","controlName","nivel",3,"size"],["label","C\xf3digo SIAPE da Fun\xe7\xe3o","controlName","siape",3,"size"],["label","C\xf3digo CBO da Fun\xe7\xe3o","controlName","cbo",3,"size"],["label","Descri\xe7\xe3o da Fun\xe7\xe3o","controlName","descricao",3,"size"],["labelPosition","left","label","Ativo","controlName","ativo",3,"size"]],template:function(t,o){1&t&&(e.TgZ(0,"editable-form",0),e.NdJ("submit",function(){return o.onSaveData()})("cancel",function(){return o.onCancel()}),e.TgZ(1,"div",1),e._UZ(2,"input-text",2)(3,"input-text",3)(4,"input-text",4)(5,"input-text",5)(6,"input-text",6)(7,"input-switch",7),e.qZA()()),2&t&&(e.Q6J("form",o.form)("disabled",o.formDisabled)("title",o.isModal?"":o.title),e.xp6(2),e.Q6J("size",3),e.uIk("maxlength",250),e.xp6(1),e.Q6J("size",3),e.uIk("maxlength",250),e.xp6(1),e.Q6J("size",3),e.uIk("maxlength",250),e.xp6(1),e.Q6J("size",3),e.uIk("maxlength",250),e.xp6(1),e.Q6J("size",8),e.uIk("maxlength",250),e.xp6(1),e.Q6J("size",2),e.uIk("maxlength",250))},dependencies:[A.Q,E.a,C.m]});const L=[{path:"",component:z,canActivate:[m.a],resolve:{config:d.o},runGuardsAndResolvers:"always",data:{title:"Lista",modal:!1}},{path:"new",component:f,canActivate:[m.a],resolve:{config:d.o},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o",modal:!0}},{path:":id/edit",component:f,canActivate:[m.a],resolve:{config:d.o},runGuardsAndResolvers:"always",data:{title:"Edi\xe7\xe3o",modal:!0}},{path:":id/consult",component:f,canActivate:[m.a],resolve:{config:d.o},runGuardsAndResolvers:"always",data:{title:"Consultar",modal:!0}}];class Q{}var r;(s=Q).\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[g.Bz.forChild(L),g.Bz]});class y{}(r=y).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[v.ez,N.K,I.UX,Q]})}}]);