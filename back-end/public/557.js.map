{"version":3,"file":"557.js","mappings":"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","sources":["./src/app/models/atividade-tarefa.model.ts","./src/app/models/atividade.model.ts","./src/app/modules/gestao/atividade/atividade-list-base.ts","./src/app/modules/gestao/atividade/atividade-list-grid/atividade-list-grid.component.ts","./src/app/modules/gestao/atividade/atividade-list-grid/atividade-list-grid.component.html"],"sourcesContent":["import { Base } from './base.model';\r\nimport { Comentario, HasComentarios } from './comentario';\r\nimport { Atividade } from './atividade.model';\r\nimport { TipoTarefa } from './tipo-tarefa.model';\r\nimport { Usuario } from './usuario.model';\r\nimport { Documento } from './documento.model';\r\n\r\nexport class AtividadeTarefa extends Base implements HasComentarios {\r\n    public atividade?: Atividade;\r\n    public usuario?: Usuario;\r\n    public tipo_tarefa?: TipoTarefa;\r\n    public documento: Documento | null = null ; /* Documento de entrga */ \r\n    public comentarios: Comentario[] = []; /* Comentarios da tarefa */\r\n\r\n    public descricao: string | null = null; /* Descrição da tarefa */\r\n    public data_hora: Date = new Date(); /* Data hora do lançamento da tarefa */\r\n    public tempo_estimado: number = 0; /* Tempo estimado para a execução da tarefa (Horas decimais) */\r\n    public concluido: boolean = false; /* Se a tarefa foi concluída */\r\n\r\n    public documento_id: string | null = null ; /* Documento de entrga */ \r\n    public atividade_id: string = \"\"; /* Atividade */\r\n    public usuario_id: string = \"\"; /* Usuário */\r\n    public tipo_tarefa_id: string | null = null; /* Tarefa */\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}\r\n","import { LookupItem } from '../services/lookup.service';\r\nimport { TipoAtividade } from './tipo-atividade.model';\r\nimport { Base } from './base.model';\r\nimport { Comentario, HasComentarios } from './comentario';\r\nimport { AtividadeTarefa } from './atividade-tarefa.model';\r\nimport { PlanoTrabalhoEntrega } from './plano-trabalho-entrega.model';\r\nimport { PlanoTrabalho } from './plano-trabalho.model';\r\nimport { TipoProcesso } from './tipo-processo.model';\r\nimport { Unidade } from './unidade.model';\r\nimport { Usuario } from './usuario.model';\r\nimport { BadgeButton } from '../components/badge/badge.component';\r\nimport { Documento } from './documento.model';\r\nimport { AtividadePausa } from './atividade-pausa.model';\r\nimport { Status } from './status.model';\r\n\r\nexport type AtividadeStatus = \"CONCLUIDO\" | \"INICIADO\" | \"LANCADO\";\r\n\r\nexport type AtividadeMetadados = {\r\n    atrasado: boolean,\r\n    tempo_despendido: number,\r\n    tempo_atraso: number,\r\n    suspenso: boolean,\r\n    iniciado: boolean,\r\n    concluido: boolean,\r\n    avaliado: boolean,\r\n    arquivado: boolean,\r\n    produtividade: number,\r\n    status: string,\r\n    extra?: any\r\n    _status?: BadgeButton[],\r\n}\r\n\r\nexport type AtividadeChecklist = {\r\n    id: string,\r\n    texto: string,\r\n    checked: boolean\r\n}\r\n\r\nexport class Atividade extends Base implements HasComentarios {\r\n    public plano_trabalho?: PlanoTrabalho;\r\n    public plano_trabalho_entrega?: PlanoTrabalhoEntrega;\r\n    public tipo_atividade?: TipoAtividade;\r\n    public demandante?: Usuario;\r\n    public usuario?: Usuario;\r\n    public unidade?: Unidade;\r\n    public documento_requisicao?: Documento;\r\n    public documento_entrega?: Documento;\r\n    public statusAtual?: Status;\r\n    public statusHistorico: Status[] = [];                             // Mudanças de status sofridas pela atividade (histórico)\r\n\r\n    public numero: number = 0; /* Numero da atividade */\r\n    public descricao: string | null = null; /* Assunto da atividade */\r\n    public data_distribuicao: Date = new Date(); /* Data de cadastro da atividade */\r\n    public tempo_planejado: number = 0.0; /* Diferença entre data_distribuicao e prazo_entrega em horas (úteis ou corridas, configurada na unidade) */\r\n    public carga_horaria: number = 0.0; /* Carga horária diária (vinda do plano de trabalho) */\r\n    public prazo_entrega: Date = new Date(); /* Data estipulada para entrega da atividade */\r\n    public data_inicio: Date | null = null; /* Data em que o usuário iniciou a atividade */\r\n    public data_entrega: Date | null = null; /* Data da entrega */\r\n    public esforco: number = 0.0; /* Tempo calculado a partir da atividade e utilizando o fator_complexidade */\r\n    public tempo_despendido: number | null = null; /* Calculado no fim da atividade, sendo o tempo líquido (considerando pausas) */\r\n    public data_arquivamento: Date | null = null; /* Data de arquivamento da atividade */\r\n    public etiquetas: LookupItem[] = []; /* Etiquetas */\r\n    public checklist: AtividadeChecklist[] = []; /* Checklist */\r\n    public prioridade: number | null = null; /* Nível de prioridade */\r\n    public progresso: number = 0; /* Progresso a execução da atividade */\r\n    public metadados: AtividadeMetadados | undefined = undefined; /* Campo virtual contendo informações calculadas pelo servidor */\r\n    public comentarios: Comentario[] = []; /* Comentarios da atividade */\r\n    public pausas: AtividadePausa[] = []; /* Pausas da atividade */\r\n    public tarefas: AtividadeTarefa[] = []; /* Tarefas da atividade */\r\n\r\n    public plano_trabalho_id: string | null = null;\r\n    public plano_trabalho_entrega_id: string | null = null;\r\n    public tipo_atividade_id: string | null = null;\r\n    public demandante_id: string = \"\";\r\n    public usuario_id: string | null = null;\r\n    public unidade_id: string = \"\";\r\n    public documento_requisicao_id: string | null = null;\r\n    public documento_entrega_id: string | null = null;\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}","import { Injector, TemplateRef } from '@angular/core';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { Atividade, AtividadeChecklist } from 'src/app/models/atividade.model';\r\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\r\nimport { CalendarService, Efemerides, FeriadoList } from 'src/app/services/calendar.service';\r\nimport { Afastamento } from 'src/app/models/afastamento.model';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\r\nimport { TipoProcessoDaoService } from 'src/app/dao/tipo-processo-dao.service';\r\nimport { ComentarioService } from 'src/app/services/comentario.service';\r\nimport { BadgeButton } from 'src/app/components/badge/badge.component';\r\nimport { TipoAtividadeDaoService } from 'src/app/dao/tipo-atividade-dao.service';\r\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\r\n\r\nexport type ExtraAtividade = {\r\n  planos_trabalho: { [plano_id: string]: PlanoTrabalho },\r\n  afastamentos: { [usuario_id: string]: Afastamento[] },\r\n  feriados?: { [unidade_id: string]: FeriadoList }\r\n}\r\n\r\nexport abstract class AtividadeListBase extends PageListBase<Atividade, AtividadeDaoService> {\r\n  public calendarEfemerides?: TemplateRef<any>;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public usuarioDao: UsuarioDaoService;\r\n  public tipoAtividadeDao: TipoAtividadeDaoService;\r\n  public tipoProcessoDao: TipoProcessoDaoService;\r\n  public allPages: ListenerAllPagesService;\r\n  public calendar: CalendarService;\r\n  public comentario: ComentarioService;\r\n  public extra: ExtraAtividade;\r\n  public etiquetas: LookupItem[] = [];\r\n  public checklist?: AtividadeChecklist[];\r\n  public efemerides?: Efemerides;\r\n  public addComentarioButton: ToolbarButton = {\r\n    icon: \"bi bi-plus-circle\",\r\n    hint: \"Incluir comentário\"\r\n  }\r\n  public DATAS_FILTRO: LookupItem[] = [\r\n    { key: \"DISTRIBUICAO\", value: \"Distribuição\", icon: \"bi bi-file-earmark-plus\", color: \"badge rounded-pill bg-warning text-dark\" },\r\n    { key: \"PRAZO\", value: \"Prazo\", icon: \"bi bi-calendar-check\", color: \"badge rounded-pill bg-info text-dark\" },\r\n    { key: \"CONCLUSAO\", value: \"Conclusão\", icon: \"bi bi-check-circle\", color: \"badge rounded-pill bg-info text-dark\" }\r\n    //{ key: \"AVALIACAO\", value: \"Avaliação\", icon: \"bi bi-star-half\", color: \"badge rounded-pill bg-success\" }\r\n  ];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Atividade, AtividadeDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.tipoAtividadeDao = injector.get<TipoAtividadeDaoService>(TipoAtividadeDaoService);\r\n    this.tipoProcessoDao = injector.get<TipoProcessoDaoService>(TipoProcessoDaoService);\r\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\r\n    this.calendar = injector.get<CalendarService>(CalendarService);\r\n    this.comentario = injector.get<ComentarioService>(ComentarioService);\r\n    this.join = [\"tipo_atividade\", \"demandante\", \"pausas\", \"usuario\", \"unidade\", \"comentarios.usuario\", \"tarefas.tarefa\", \"tarefas.comentarios.usuario\"];\r\n    /* Inicializações */\r\n    this.extra = { planos_trabalho: {}, afastamentos: {} };\r\n  }\r\n\r\n  /*public orderComentarios(comentarios?: Comentario[]) {\r\n    let ordered = comentarios?.sort((a: Comentario, b: Comentario) => {\r\n      if(a.path == b.path) { /* Situação 1: Paths iguais \r\n        return a.data_hora.getTime() < b.data_hora.getTime() ? -1 : 1;\r\n      } else { /* Situação 2: Paths diferentes, deverá ser encontrado o menor nível comum entre eles para poder comparar \r\n        let pathA = a.path.split(\"/\");\r\n        let pathB = b.path.split(\"/\");\r\n        let common = this.util.commonBegin(pathA, pathB);\r\n        let dataHoraA = (comentarios.find(x => x.id == (pathA[common.length] || a.id)) || a).data_hora.getTime();\r\n        let dataHoraB = (comentarios.find(x => x.id == (pathB[common.length] || b.id)) || b).data_hora.getTime();\r\n        return dataHoraA == dataHoraB ? 0 : (dataHoraA < dataHoraB ? -1 : 1);\r\n      }\r\n    }) || [];\r\n    return ordered;\r\n  }*/\r\n\r\n  public onGridLoad(rows?: any[]) {\r\n    /* Ordena os comentários */\r\n    rows?.forEach((atividade: Atividade) => {\r\n      atividade.comentarios = this.comentario.orderComentarios(atividade.comentarios);\r\n    });\r\n    /* Recebe informações extra da query para auxiliar em cálculos e melhorar performace da consulta */\r\n    const extra = (this.grid?.query || this.query!).extra;\r\n    if (extra) {\r\n      //this.extra.avaliadores = Object.assign(this.extra.avaliadores, extra.avaliadores || {});\r\n      this.extra.planos_trabalho = Object.assign(this.extra.planos_trabalho, extra.planos || {});\r\n      for (let [key, value] of Object.entries(extra.afastamentos || {})) {\r\n        this.extra.afastamentos[key] = (value as Array<Afastamento>).reduce((a, v) => {\r\n          if (!a.find(x => x.id == v.id)) a.push(v);\r\n          return a;\r\n        }, this.extra.afastamentos[key] || []);\r\n      }\r\n      Object.entries(extra.feriados || {}).forEach(([key, value]) => {\r\n        if (!this.calendar.feriadosCadastrados[key]) this.calendar.feriadosCadastrados[key] = value as FeriadoList;\r\n      });\r\n      this.cdRef.detectChanges();\r\n    }\r\n  }\r\n\r\n  public onAtribuidasParaMimChange(event: Event) {\r\n    if (this.filter!.controls.atribuidas_para_mim.value) {\r\n      this.filter!.controls.usuario_id.setValue(this.auth.usuario!.id);\r\n    } else {\r\n      this.filter!.controls.usuario_id.setValue(undefined);\r\n    }\r\n  }\r\n\r\n  public onSomenteUnidadeAtualChange(event: Event) {\r\n    if (this.filter!.controls.somente_unidade_atual.value) {\r\n      this.filter!.controls.unidade_id.setValue(this.auth.unidade!.id);\r\n    } else {\r\n      this.filter!.controls.unidade_id.setValue(undefined);\r\n    }\r\n  }\r\n\r\n  public onDespendidoClick(row: Atividade) {\r\n    if (row.metadados && !row.metadados.concluido) {\r\n      const cargaHoraria = this.extra?.planos_trabalho[row.plano_trabalho_id!]?.carga_horaria || 0;\r\n      const afastamentos = this.extra?.afastamentos[row.usuario_id!] || [];\r\n      this.efemerides = this.calendar.calculaDataTempoUnidade(row.data_inicio!, this.auth.hora, cargaHoraria, row.unidade!, \"ENTREGA\", row.pausas, afastamentos);\r\n      this.dialog.template({ title: \"Cálculos do tempo despendido\" }, this.calendarEfemerides!, []);\r\n    }\r\n  }\r\n\r\n  public temposAtividade(row: Atividade): BadgeButton[] {\r\n    /* Atualiza somente a cada mudança de minuto da unidade atual */\r\n    if (row.metadados && row.metadados.extra?.lastUpdate != this.auth.unidadeHora) {\r\n      let planoTrabalho = this.extra?.planos_trabalho[row.plano_trabalho_id!];\r\n      let tempos: BadgeButton[] = [\r\n        { color: \"light\", hint: this.lex.translate(\"Data de distribuição\"), icon: \"bi bi-file-earmark-plus\", label: this.dao!.getDateTimeFormatted(row.data_distribuicao) },\r\n        { color: \"light\", hint: this.lex.translate(\"Prazo de entrega\"), icon: \"bi bi-calendar-check\", label: this.dao!.getDateTimeFormatted(row.prazo_entrega) }\r\n      ];\r\n      if (planoTrabalho?.tipo_modalidade?.atividade_esforco) tempos.push({ color: \"light\", hint: this.lex.translate(\"Esforço\"), icon: \"bi bi-stopwatch\", label: (row.esforco ? this.util.decimalToTimerFormated(row.esforco, true) + \" \" + this.lex.translate(\"esforço\") : \"Sem \" + this.lex.translate(\"esforço\"))});\r\n      if (row.metadados.concluido) tempos.push({ color: \"light\", hint: \"Data de entrega realizada\", icon: \"bi bi-check-circle\", label: this.dao!.getDateTimeFormatted(row.data_entrega) });\r\n      if (row.metadados.iniciado && !!planoTrabalho?.tipo_modalidade?.atividade_tempo_despendido) {\r\n        const cargaHoraria = planoTrabalho?.carga_horaria || 0;\r\n        const afastamentos = this.extra?.afastamentos[row.usuario_id!] || [];\r\n        const despendido = row.metadados.concluido ? (row.tempo_despendido || 0) : this.calendar.horasUteis(row.data_inicio!, this.auth.hora, cargaHoraria, row.unidade!, \"ENTREGA\", row.pausas, afastamentos);\r\n        tempos.push({ color: (despendido > row.esforco ? \"warning\" : \"light\"), hint: \"Tempo despendido\", icon: \"bi bi-hourglass-split\", label: this.util.decimalToTimerFormated(despendido, true) + \" despendido\", click: !row.metadados.concluido ? this.onDespendidoClick.bind(this) : undefined, data: row });\r\n      }\r\n      if (!row.metadados.concluido && row.prazo_entrega.getTime() < this.auth.hora.getTime()) {\r\n        const atrasado = this.calendar.horasAtraso(row.prazo_entrega, row.unidade!);\r\n        tempos.push({ color: \"danger\", hint: \"Tempo de atraso\", icon: \"bi bi-alarm\", label: this.util.decimalToTimerFormated(atrasado, true) + \" atrasado\" });\r\n      }\r\n      row.metadados.extra = row.metadados.extra || {};\r\n      row.metadados.extra.lastUpdate = this.auth.unidadeHora;\r\n      row.metadados.extra.tempos = tempos;\r\n    }\r\n    return row.metadados?.extra?.tempos || [];\r\n  }\r\n\r\n  public desarquivar(atividade: Atividade) {\r\n    this.dao!.arquivar(atividade.id, false).then(() => {\r\n      this.grid!.query!.refreshId(atividade.id);\r\n    }).catch(error => this.dialog.alert(\"Erro\", \"Erro ao cancelar inicio: \" + error?.message ? error?.message : error));\r\n  }\r\n\r\n  public arquivar(atividade: Atividade) {\r\n    this.dialog.confirm(\"Arquivar?\", \"Deseja realmente arquivar a atividade?\").then(confirm => {\r\n      if (confirm) {\r\n        this.dao!.arquivar(atividade.id, true).then(() => {\r\n          if (this.filter?.controls.arquivadas?.value) {\r\n            this.grid!.query!.refreshId(atividade.id);\r\n          } else {\r\n            (this.grid?.query || this.query!).removeId(atividade.id);\r\n          }\r\n        }).catch(error => this.dialog.alert(\"Erro\", \"Erro ao cancelar inicio: \" + error?.message ? error?.message : error));\r\n      }\r\n    });\r\n  }\r\n\r\n  public dynamicOptions(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let atividade: Atividade = row as Atividade;\r\n    //const isAvaliador = isGestor || (this.extra.avaliadores[atividade.unidade_id] || []).includes(this.auth.usuario?.id || \"\"); //|| atividade.unidade\r\n    const isGestor = this.auth.usuario?.id == atividade.unidade?.gestor?.id || this.auth.usuario?.id == atividade.unidade?.gestor_substituto?.id;\r\n    const isDemandante = this.auth.usuario?.id == atividade.demandante_id;\r\n    const isResponsavel = this.auth.usuario?.id == atividade.usuario_id;\r\n    const BOTAO_INFORMACOES = { label: \"Informações\", icon: \"bi bi-info-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'consult'] }, { modal: true }) };\r\n    const BOTAO_COMENTARIOS = { label: \"Comentários\", icon: \"bi bi-chat-left-quote\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['uteis', 'comentarios', 'ATIVIDADE', atividade.id, 'new'] }, this.modalRefreshId(atividade)) };\r\n    const BOTAO_CLONAR = { label: \"Clonar\", icon: \"bi bi-stickies\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'clonar'] }, this.modalRefresh()) };\r\n    const BOTAO_ALTERAR = { label: \"Alterar atividade\", icon: \"bi bi-pencil-square\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'edit'] }, this.modalRefreshId(atividade)) };\r\n    const BOTAO_EXCLUIR = { label: \"Excluir atividade\", icon: \"bi bi-trash\", onClick: this.delete.bind(this) };\r\n    const BOTAO_PRORROGAR_PRAZO = { label: \"Prorrogar prazo\", icon: \"bi bi-skip-end-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'prorrogar'] }, this.modalRefreshId(atividade))};\r\n    const BOTAO_INICIAR = { label: \"Iniciar\", id: \"INICIADO\", icon: \"bi bi-play-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'iniciar'] }, this.modalRefreshId(atividade)) };\r\n    const BOTAO_CANCELAR_INICIO = { label: \"Cancelar inicio\", id: \"NAOINICIADO\", icon: \"bi bi-backspace\", onClick: this.cancelarInicio.bind(this) };\r\n    const BOTAO_ALTERAR_INICIO = { label: \"Alterar inicio\", icon: \"bi bi-play-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'iniciar'] }, this.modalRefreshId(atividade)) };\r\n    const BOTAO_SUSPENDER = { label: \"Suspender\", id: \"PAUSADO\", icon: \"bi bi-pause-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'pausar'] }, this.modalRefreshId(atividade)) };\r\n    const BOTAO_REINICIAR = { label: \"Reiniciar\", id: \"INICIADO\", icon: \"bi bi-play-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'pausar'], params: { reiniciar: true } }, this.modalRefreshId(atividade)) };\r\n    const BOTAO_CONCLUIR = { label: \"Concluir\", id: \"CONCLUIDO\", icon: \"bi bi-check-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'concluir'] }, this.modalRefreshId(atividade)) };\r\n    const BOTAO_ALTERAR_CONCLUSAO = { label: \"Alterar conclusão\", icon: \"bi bi-check-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'concluir'] }, this.modalRefreshId(atividade)) };\r\n    const BOTAO_CANCELAR_CONCLUSAO = { label: \"Cancelar conclusão\", id: \"INICIADO\", icon: \"bi bi-backspace\", onClick: this.cancelarConclusao.bind(this) };\r\n    //const BOTAO_AVALIAR = { label: \"Avaliar\", id: \"AVALIADO\", icon: \"bi bi-star-half\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'avaliar'] }, this.modalRefreshId(atividade)) };\r\n    //const BOTAO_ALTERAR_AVALIACAO = { label: \"Alterar avaliação\", hint: \"Alterar avaliação\", icon: \"bi bi-check-all\", color: \"btn-outline-danger\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'avaliar'] }, this.modalRefreshId(atividade)) };\r\n    //const BOTAO_CANCELAR_AVALIACAO = { label: \"Cancelar avaliação\", id: \"CONCLUIDO\", icon: \"bi bi-backspace\", onClick: this.cancelarAvaliacao.bind(this) };\r\n    const BOTAO_ARQUIVAR = { label: \"Arquivar\", icon: \"bi bi-inboxes\", onClick: this.arquivar.bind(this) };\r\n    const BOTAO_DESARQUIVAR = { label: \"Desarquivar\", icon: \"bi bi-reply\", onClick: this.desarquivar.bind(this) };\r\n\r\n    result.push(BOTAO_INFORMACOES);\r\n    if (isResponsavel || isGestor || isDemandante) result.push(BOTAO_COMENTARIOS);\r\n    result.push(BOTAO_CLONAR);\r\n    if (atividade.metadados?.arquivado) { /* Arquivado*/\r\n      if (isGestor || isResponsavel) result.push(BOTAO_DESARQUIVAR);\r\n    } else if (!atividade.metadados?.iniciado) {\r\n      if (isResponsavel || (atividade.usuario_id == null) || this.auth.hasPermissionTo('MOD_DMD_USERS_INICIAR')) { /* Não iniciado */\r\n        result.push(BOTAO_INICIAR);\r\n      }\r\n      if (isGestor || isDemandante || this.auth.hasPermissionTo('MOD_DMD_USERS_ALT')) {\r\n        result.push(BOTAO_ALTERAR);\r\n      }\r\n      if (isGestor || isDemandante || this.auth.hasPermissionTo('MOD_DMD_USERS_EXCL') || this.auth.hasPermissionTo('MOD_DMD_NI_EXCL')) {\r\n        if (result.length) result.push({ divider: true });\r\n        result.push(BOTAO_EXCLUIR);\r\n      }\r\n    } else if (atividade.metadados?.concluido) { /* Concluído -> Gestor ou substituto pode avaliar */\r\n      if (isGestor || isResponsavel) result.push(BOTAO_ARQUIVAR);\r\n      if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_ALT_CONCL')) {\r\n        result.push(BOTAO_ALTERAR_CONCLUSAO);\r\n      }\r\n      if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_CANC_CONCL') ) {\r\n        if (result.length) result.push({ divider: true });\r\n        result.push(BOTAO_CANCELAR_CONCLUSAO);\r\n      }\r\n    } else if (atividade.metadados?.iniciado) { /* Iniciado */\r\n      if (atividade.metadados?.suspenso) {\r\n        if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_INICIAR')) { /* Iniciada e Suspensa */\r\n          result.push(BOTAO_REINICIAR);\r\n        }\r\n      } else { /* Iniciada e não Suspensa */\r\n        if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_CONCL')) result.push(BOTAO_CONCLUIR);\r\n        if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_PAUSA')) result.push(BOTAO_SUSPENDER);\r\n        if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_CANC_INICIAR')) result.push(BOTAO_CANCELAR_INICIO);\r\n        if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_INICIAR')) result.push(BOTAO_ALTERAR_INICIO);\r\n      }\r\n      if (isGestor || isDemandante || this.auth.hasPermissionTo('MOD_DMD_USERS_PPRZO')) {\r\n        result.push(BOTAO_PRORROGAR_PRAZO);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public cancelarInicio(atividade: Atividade) {\r\n    const self = this;\r\n    this.dialog.confirm(\"Cancelar inicio ?\", \"Deseja realmente cancelar a inicialização?\").then(confirm => {\r\n      if (confirm) {\r\n        this.dao!.cancelarInicio(atividade.id).then(function () {\r\n          (self.grid?.query || self.query!).refreshId(atividade.id);\r\n          self.dialog.alert(\"Sucesso\", \"Cancelado com sucesso!\");\r\n        }).catch(function (error) {\r\n          self.dialog.alert(\"Erro\", \"Erro ao cancelar inicio: \" + error?.message ? error?.message : error);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  public cancelarConclusao(atividade: Atividade) {\r\n    const self = this;\r\n    this.dialog.confirm(\"Cancelar conclusão ?\", \"Deseja realmente cancelar a conclusão?\").then(confirm => {\r\n      if (confirm) {\r\n        this.dao!.cancelarConclusao(atividade.id).then(function () {\r\n          (self.grid?.query || self.query!).refreshId(atividade.id);\r\n          self.dialog.alert(\"Sucesso\", \"Cancelado com sucesso!\");\r\n        }).catch(function (error) {\r\n          self.dialog.alert(\"Erro\", \"Erro ao cancelar conclusão: \" + error?.message ? error?.message : error);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /*public cancelarAvaliacao(atividade: Atividade) {\r\n    const self = this;\r\n    this.dialog.confirm(\"Cancelar avaliacao ?\", \"Deseja realmente cancelar a avaliacao?\").then(confirm => {\r\n      if (confirm) {\r\n        this.dao!.cancelarAvaliacao(atividade.id).then(function () {\r\n          (self.grid?.query || self.query!).refreshId(atividade.id);\r\n          self.dialog.alert(\"Sucesso\", \"Cancelado com sucesso!\");\r\n        }).catch(function (error) {\r\n          self.dialog.alert(\"Erro\", \"Erro ao cancelar avaliacao: \" + error?.message ? error?.message : error);\r\n        });\r\n      }\r\n    });\r\n  }*/\r\n\r\n  public dynamicButtons(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let atividade: Atividade = row as Atividade;\r\n    const isGestor = this.auth.usuario?.id == atividade.unidade?.gestor?.id || this.auth.usuario?.id == atividade.unidade?.gestor_substituto?.id;\r\n    //const isAvaliador = isGestor || (this.extra.avaliadores[atividade.unidade_id] || []).includes(this.auth.usuario?.id || \"\"); //|| atividade.unidade\r\n    //const isDemandante = this.auth.usuario?.id == atividade.demandante_id;\r\n    const isResponsavel = this.auth.usuario?.id == atividade.usuario_id;\r\n    const BOTAO_ALTERAR_AVALIACAO = { hint: \"Alterar avaliação\", icon: \"bi bi-check-all\", color: \"btn-outline-danger\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'avaliar'] }, this.modalRefreshId(atividade)) };\r\n    const BOTAO_INFORMACOES = { label: \"Informações\", icon: \"bi bi-info-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'consult'] }, { modal: true }) };\r\n    const BOTAO_INICIAR = { hint: \"Iniciar\", icon: \"bi bi-play-circle\", color: \"btn-outline-secondary\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'iniciar'] }, this.modalRefreshId(atividade)) };\r\n    //const BOTAO_AVALIAR = { hint: \"Avaliar\", icon: \"bi bi-star-half\", color: \"btn-outline-success\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'avaliar'] }, this.modalRefreshId(atividade)) };\r\n    const BOTAO_REINICIAR = { hint: \"Reiniciar\", icon: \"bi bi-play-circle\", color: \"btn-outline-secondary\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'pausar'], params: { reiniciar: true } }, this.modalRefreshId(atividade)) };\r\n    const BOTAO_CONCLUIR = { hint: \"Concluir\", icon: \"bi bi-check\", color: \"btn-outline-success\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'concluir'] }, this.modalRefreshId(atividade)) };\r\n    const BOTAO_ARQUIVAR = { hint: \"Arquivar\", icon: \"bi bi-inboxes\", onClick: this.arquivar.bind(this) };\r\n    const BOTAO_DESARQUIVAR = { hint: \"Desarquivar\", icon: \"bi bi-reply\", onClick: this.desarquivar.bind(this) };\r\n    const BOTAO_ALTERAR_CONCLUSAO = { hint: \"Alterar conclusão\", icon: \"bi bi-check-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'concluir'] }, this.modalRefreshId(atividade)) };\r\n\r\n    /*if (atividade.metadados?.avaliado) { /* Arquivado *\r\n      if (isAvaliador || this.auth.hasPermissionTo('MOD_DMD_USERS_AVAL')) { /* Usuário logado é gestor da Unidade ou substituto*\r\n        result.push(BOTAO_ALTERAR_AVALIACAO);\r\n      } else if (atividade.metadados?.arquivado && (isGestor || isResponsavel)) { //Somente se gestor ou com capacidade para essa operação\r\n        result.push(BOTAO_DESARQUIVAR);\r\n      }\r\n    } else*/ \r\n    if (!atividade.metadados?.iniciado) { /* Não iniciado */\r\n      if (isResponsavel || (atividade.usuario_id == null) || this.auth.hasPermissionTo('MOD_DMD_USERS_INICIAR')) { /* Usuário da atividade é o mesmo logado */\r\n        result.push(BOTAO_INICIAR);\r\n      }\r\n    } else if (atividade.metadados?.concluido) { /* Concluído */\r\n      /*if (isAvaliador || this.auth.hasPermissionTo('MOD_DMD_USERS_AVAL')) { /* Usuário logado é gestor da Unidade ou substituto * /\r\n          result.push(BOTAO_AVALIAR);\r\n      }*/\r\n      if (isGestor || isResponsavel) {\r\n        result.push(atividade.metadados?.arquivado ? BOTAO_DESARQUIVAR : BOTAO_ARQUIVAR);\r\n      } else if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_ALT_CONCL')) {\r\n        result.push(BOTAO_ALTERAR_CONCLUSAO);\r\n      }\r\n    } else if (atividade.metadados?.avaliado) { /* Avaliado */\r\n      if (isGestor) { /* Usuário logado é gestor da Unidade ou substituto */\r\n        result.push(BOTAO_ALTERAR_AVALIACAO);\r\n      }\r\n    } else if (atividade.metadados?.iniciado) { /* Iniciado */\r\n      if (atividade.metadados?.suspenso && isResponsavel) { /* Iniciada e Suspensa */\r\n        result.push(BOTAO_REINICIAR);\r\n      } else if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_CONCL')) { /* Iniciada e não Suspensa */\r\n        result.push(BOTAO_CONCLUIR);\r\n      }\r\n    }\r\n    if(!result.length) result.push(BOTAO_INFORMACOES);\r\n    return result;\r\n  }\r\n\r\n  public getStatus(row: any): BadgeButton[] {\r\n    const atividade: Atividade = row as Atividade;\r\n    const status = this.lookup.ATIVIDADE_STATUS.find(x => x.key == atividade.metadados?.status) || { key: \"DESCONHECIDO\", value: \"Desconhecido\", icon: \"bi bi-question-circle\", color: \"light\" };\r\n    let result: BadgeButton[] = [{ data: {status: status.key, filter: true}, label: status.value, icon: status.icon!, color: status.color! }];\r\n    if (atividade.metadados?.atrasado) result.push({ data: {status: \"ATRASADO\", filter: false}, label: \"Atrasado\", icon: \"bi bi-alarm\", color: \"danger\" });\r\n    if (atividade.metadados?.suspenso) result.push({ data: {status: \"SUSPENSO\", filter: false}, label: \"Suspenso\", icon: \"bi bi-pause-circle\", color: \"danger\" });\r\n    if (atividade.metadados?.arquivado) result.push({ data: {status: \"ARQUIVADO\", filter: false}, label: \"Arquivado\", icon: \"bi bi-inboxes\", color: \"danger\" });\r\n    if (atividade.metadados && JSON.stringify(atividade.metadados._status) != JSON.stringify(result)) atividade.metadados._status = result;\r\n    return atividade.metadados?._status || result;\r\n  }\r\n\r\n  /*public getEtiquetaStyle(etiqueta: any) {\r\n    const bgColor = etiqueta.color || \"#000000\";\r\n    const txtColor = this.util.contrastColor(bgColor);\r\n    return `background-color: ${bgColor}; color: ${txtColor};`;\r\n  }*/\r\n\r\n  public onEtiquetaConfigClick() {\r\n    this.go.navigate({ route: [\"configuracoes\", \"preferencia\", \"usuario\", this.auth.usuario!.id], params: { etiquetas: true } }, {\r\n      modal: true, modalClose: (modalResult) => {\r\n        this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\r\n        this.cdRef.detectChanges();\r\n      }\r\n    });\r\n  }\r\n\r\n  public comentarioClick(element: HTMLSpanElement) {\r\n    const value = element.getAttribute(\"data-expanded\");\r\n    element.setAttribute(\"data-expanded\", value == \"true\" ? \"false\" : \"true\");\r\n  }\r\n\r\n  public addComentarioClick(row: any) {\r\n    this.go.navigate({ route: ['gestao', 'atividade', row.id, 'comentar'] }, { modal: true, modalClose: modalResult => { if (modalResult) (this.grid?.query || this.query!).refreshId(row.id); } });\r\n  }\r\n\r\n}\r\n\r\n","import { Component, ElementRef, Injector, Input, TemplateRef, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { ActivatedRouteSnapshot } from '@angular/router';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { Atividade } from 'src/app/models/atividade.model';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { FullRoute, RouteMetadata } from 'src/app/services/navigate.service';\r\nimport { AtividadeListBase } from '../atividade-list-base';\r\nimport { BadgeButton } from 'src/app/components/badge/badge.component';\r\n\r\n@Component({\r\n  selector: 'atividade-list-grid',\r\n  templateUrl: './atividade-list-grid.component.html',\r\n  styleUrls: ['./atividade-list-grid.component.scss']\r\n})\r\nexport class AtividadeListGridComponent extends AtividadeListBase {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild('calendarEfemerides', { static: false }) public calendarEfemerides?: TemplateRef<any>;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\r\n  @ViewChild('etiqueta', { static: false }) public etiqueta?: InputSelectComponent;\r\n  @Input() snapshot?: ActivatedRouteSnapshot;\r\n  @Input() fixedFilter?: any[];\r\n\r\n  public static selectRoute?: FullRoute = { route: [\"gestao\", \"atividade\", \"grid\"] };\r\n  public formEdit: FormGroup;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    /* Inicializações */\r\n    this.title = this.lex.translate(\"Atividades\");\r\n    this.code = \"MOD_DMD\";\r\n    this.modalWidth = 1100;\r\n    this.filter = this.fh.FormBuilder({\r\n      agrupar: { default: true },\r\n      atribuidas_para_mim: { default: false },\r\n      usuario_id: { default: null },\r\n      numero: { default: \"\" },\r\n      somente_unidade_atual: { default: false },\r\n      unidades_subordinadas: { default: false },\r\n      unidade_id: { default: null },\r\n      numero_processo: { default: \"\" },\r\n      status: { default: null },\r\n      etiquetas: { default: [] },\r\n      arquivadas: { default: false },\r\n      tipo_atividade_id: { default: null },\r\n      tipo_processo_id: { default: null },\r\n      data_filtro: { default: null },\r\n      data_inicio: { default: null },\r\n      data_fim: { default: null }\r\n    });\r\n    this.formEdit = this.fh.FormBuilder({\r\n      progresso: { default: 0 },\r\n      etiquetas: { default: [] },\r\n      etiqueta: { default: null }\r\n    });\r\n    this.groupBy = [{ field: \"unidade.sigla\", label: \"Unidade\" }];\r\n  }\r\n\r\n  public storeFilter = (filter?: FormGroup) => {\r\n    const form = filter?.value;\r\n    return {\r\n      atribuidas_para_mim: form.atribuidas_para_mim,\r\n      usuario_id: form.usuario_id,\r\n      somente_unidade_atual: form.somente_unidade_atual,\r\n      unidades_subordinadas: form.unidades_subordinadas,\r\n      unidade_id: form.somente_unidade_atual ? null : form.unidade_id\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    super.ngAfterViewInit();\r\n    if (this.fixedFilter) {\r\n      const status = this.fixedFilter.find(x => x[0] == \"status\");\r\n      if (status) this.filter?.controls.status.setValue(status[2]);\r\n    }\r\n  }\r\n\r\n  public onAgruparChange(event: Event) {\r\n    const agrupar = this.filter!.controls.agrupar.value;\r\n    if ((agrupar && !this.groupBy?.length) || (!agrupar && this.groupBy?.length)) {\r\n      this.groupBy = agrupar ? [{ field: \"unidade.sigla\", label: \"Unidade\" }] : [];\r\n      this.grid!.reloadFilter();\r\n    }\r\n  }\r\n\r\n  public onStatusClick(status: BadgeButton) {\r\n    this.filter?.controls.status.setValue(status.data?.status);\r\n    this.grid!.showFilter();\r\n    this.grid!.reloadFilter();\r\n  }\r\n\r\n  public onEtiquetaClick(etiqueta: LookupItem) {\r\n    let etiquetas = this.filter!.controls.etiquetas.value;\r\n    etiquetas.push(etiqueta);\r\n    this.filter?.controls.etiquetas.setValue(etiquetas);\r\n    this.grid!.showFilter();\r\n    this.grid!.reloadFilter();\r\n  }\r\n\r\n  public async onColumnProgressoEtiquetasChecklistEdit(row: any) {\r\n    this.formEdit.controls.progresso.setValue(row.progresso);\r\n    this.formEdit.controls.etiquetas.setValue(row.etiquetas);\r\n    this.formEdit.controls.etiqueta.setValue(null);\r\n    this.etiquetas = this.util.merge(row.atividade?.etiquetas, row.unidade?.etiquetas, (a, b) => a.key == b.key);\r\n    this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\r\n    this.checklist = this.util.clone(row.checklist);\r\n  }\r\n\r\n  public async onColumnProgressoEtiquetasChecklistSave(row: any) {\r\n    try {\r\n      const saved = await this.dao!.update(row.id, {\r\n        progresso: this.formEdit.controls.progresso.value,\r\n        etiquetas: this.formEdit.controls.etiquetas.value,\r\n        checklist: this.checklist\r\n      });\r\n      row.progresso = this.formEdit.controls.progresso.value;\r\n      row.checklist = this.checklist;\r\n      return !!saved;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = this.fixedFilter || [];\r\n    let form: any = filter.value;\r\n\r\n    /* Verifica se estiver marcado Atual e a Unidade for diferente da Lotacao da barra superior */\r\n    if (form.somente_unidade_atual && form.unidade_id != this.auth.unidade?.id) {\r\n      filter.controls.unidade_id.setValue(this.auth.unidade?.id);\r\n      form.unidade_id = this.auth.unidade?.id;\r\n    }\r\n    /* Verifica se Minhas está selecionado e o usuário está diferente do logado (vazio) */\r\n    if (form.atribuidas_para_mim && form.usuario_id != this.auth.usuario?.id) {\r\n      filter.controls.usuario_id.setValue(this.auth.usuario?.id);\r\n      form.usuario_id = this.auth.usuario?.id;\r\n    }\r\n    /* Filtros */\r\n    if (form.usuario_id?.length) {\r\n      result.push([\"usuario_id\", \"==\", form.usuario_id]);\r\n    }\r\n    if (form.unidade_id?.length) {\r\n      result.push([\"unidade_id\", \"==\", form.unidade_id]);\r\n    }\r\n    if (form.unidades_subordinadas) {\r\n      result.push([\"unidades_subordinadas\", \"==\", true]);\r\n    }\r\n    if (form.etiquetas?.length) {\r\n      result.push([\"etiquetas\", \"in\", form.etiquetas.map((x: LookupItem) => x.value)]);\r\n    }\r\n    if (form.numero_processo?.length) {\r\n      result.push([\"numero_processo\", \"==\", form.numero_processo]);\r\n    }\r\n    if (form.numero?.length) {\r\n      result.push([\"numero\", \"==\", form.numero]);\r\n    }\r\n    if (form.status?.length && !result.find(x => x[0] == \"status\")) {\r\n      result.push([\"status\", \"==\", form.status]);\r\n      if (form.status == \"ARQUIVADO\") this.filter!.controls.arquivadas.setValue(true);\r\n    }\r\n    if (!this.filter!.controls.arquivadas.value) {\r\n      result.push([\"data_arquivamento\", \"==\", null]);\r\n    }\r\n    if (form.tipo_atividade_id?.length) {\r\n      result.push([\"tipo_atividade_id\", \"==\", form.tipo_atividade_id]);\r\n    }\r\n    if (form.tipo_processo_id?.length) {\r\n      result.push([\"tipo_processo_id\", \"==\", form.tipo_processo_id]);\r\n    }\r\n    if (form.data_filtro?.length) {\r\n      const field = form.data_filtro == \"DISTRIBUICAO\" ? \"data_distribuicao\" : form.data_filtro == \"PRAZO\" ? \"prazo_entrega\" : \"data_entrega\";\r\n      if (form.data_inicio) {\r\n        result.push([field, \">=\", form.data_inicio]);\r\n      }\r\n      if (form.data_fim) {\r\n        result.push([field, \"<=\", form.data_fim]);\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    this.filter!.controls.atribuidas_para_mim.setValue(false);\r\n    this.filter!.controls.usuario_id.setValue(null);\r\n    this.filter!.controls.somente_unidade_atual.setValue(false);\r\n    this.filter!.controls.unidades_subordinadas.setValue(false);\r\n    this.filter!.controls.unidade_id.setValue(null);\r\n    this.filter!.controls.numero_processo.setValue(\"\");\r\n    this.filter!.controls.atividade_id.setValue(null);\r\n    this.filter!.controls.tipo_processo_id.setValue(null);\r\n    this.filter!.controls.data_filtro.setValue(null);\r\n    this.filter!.controls.data_inicio.setValue(null);\r\n    this.filter!.controls.data_fim.setValue(null);\r\n    if (!this.fixedFilter?.length || !this.fixedFilter.find(x => x[0] == \"status\")) this.filter!.controls.status.setValue(null);\r\n    this.filter!.controls.etiquetas.setValue([]);\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public addItemHandleEtiquetas(): LookupItem | undefined {\r\n    let result = undefined;\r\n    if (this.etiqueta && this.etiqueta.selectedItem) {\r\n      const item = this.etiqueta.selectedItem;\r\n      const key = item.key?.length ? item.key : this.util.textHash(item.value);\r\n      if (this.util.validateLookupItem(this.formEdit.controls.etiquetas.value, key)) {\r\n        result = {\r\n          key: key,\r\n          value: item.value,\r\n          color: item.color,\r\n          icon: item.icon\r\n        };\r\n        this.formEdit.controls.etiqueta.setValue(null);\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n}\r\n\r\n","<ng-template #calendarEfemerides>\r\n    <calendar-efemerides [efemerides]=\"efemerides\"></calendar-efemerides>\r\n</ng-template>\r\n<grid [dao]=\"dao\" [add]=\"add\" [form]=\"formEdit\" [hasEdit]=\"false\" [hasDelete]=\"false\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\" [loadList]=\"onGridLoad.bind(this)\" [selectable]=\"selectable\" (select)=\"onSelect($event)\">\r\n    <toolbar *ngIf=\"!fixedFilter && !selectable\">\r\n        <input-switch [size]=\"4\" labelPosition=\"left\" label=\"Agrupar por Un.\" controlName=\"agrupar\" [control]=\"filter!.controls.agrupar\" (change)=\"onAgruparChange($event)\"></input-switch>\r\n    </toolbar>\r\n    <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && !queryParams?.filter && filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-switch [size]=\"1\" label=\"Minhas\" controlName=\"atribuidas_para_mim\" [control]=\"filter!.controls.atribuidas_para_mim\" (change)=\"onAtribuidasParaMimChange($event)\"></input-switch>\r\n            <input-search [size]=\"5\" label=\"Usuário\" #usuario controlName=\"usuario_id\"  [disabled]=\"filter!.controls.atribuidas_para_mim.value ? 'true' : undefined\" [dao]=\"usuarioDao\" ></input-search>\r\n            <input-switch [size]=\"1\" label=\"Atual\" controlName=\"somente_unidade_atual\" [control]=\"filter!.controls.somente_unidade_atual\" (change)=\"onSomenteUnidadeAtualChange($event)\" labelInfo=\"Somente as atividades da unidade selecionada\"></input-switch>\r\n            <input-search [size]=\"4\" label=\"Unidade\" #unidade controlName=\"unidade_id\" [disabled]=\"filter!.controls.somente_unidade_atual.value ? 'true' : undefined\" [dao]=\"unidadeDao\" ></input-search>\r\n            <input-switch [size]=\"1\" label=\"Sub.\" controlName=\"unidades_subordinadas\" [control]=\"filter!.controls.unidades_subordinadas\" labelInfo=\"Incluir as unidades subordinadas\"></input-switch>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-text [size]=\"1\" label=\"#ID\" controlName=\"numero\" maskFormat=\"999999\" [control]=\"filter!.controls.numero\" [labelInfo]=\"'Número ' + lex.translate('atividade')\"></input-text>\r\n            <input-text [size]=\"3\" [label]=\"'Nº '+ lex.translate('Processo') +' (Sei)'\" maskFormat=\"00000.000000/0000-00\" controlName=\"numero_processo\" [control]=\"filter!.controls.numero_processo\" labelInfo=\"Pesquisa no documento de requisição, conclusão e nos documentos das tarefas\"></input-text>\r\n            <input-select [size]=\"3\" label=\"Status\" itemTodos=\"- Todos -\" [valueTodos]=\"null\" [disabled]=\"fixedFilter?.length && fixedFilter![0]![0] == 'status' ? 'true' : undefined\" controlName=\"status\" [control]=\"filter!.controls.status\" [items]=\"lookup.ATIVIDADE_STATUS_COM_ARQUIVADAS\"></input-select>\r\n            <input-multiselect noForm noBox [size]=\"4\" label=\"Etiquetas\" controlName=\"etiquetas\" [control]=\"filter!.controls.etiquetas\"></input-multiselect>\r\n            <input-switch [size]=\"1\" label=\"Arq.\" controlName=\"arquivadas\" [control]=\"filter!.controls.arquivadas\" labelInfo=\"Listar também atividades arquivadas\"></input-switch>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-search [size]=\"3\" [label]=\"lex.translate('Tipo de Atividade')\" controlName=\"tipo_atividade_id\" [dao]=\"tipoAtividadeDao\"></input-search>\r\n            <input-search [size]=\"3\" [label]=\"lex.translate('Tipo de Processo')\" controlName=\"tipo_processo_id\" [dao]=\"tipoProcessoDao\" ></input-search>\r\n            <input-select [size]=\"2\" label=\"Data\" itemTodos=\"- Todos -\" [valueTodos]=\"null\" controlName=\"data_filtro\" [control]=\"filter!.controls.data_filtro\" [items]=\"DATAS_FILTRO\"></input-select>\r\n            <input-datetime [size]=\"2\" noIcon [disabled]=\"filter!.controls.data_filtro.value == null ? 'true' : undefined\" label=\"Início\" controlName=\"data_inicio\" [control]=\"filter!.controls.data_inicio\" labelInfo=\"Data início do período\"></input-datetime>\r\n            <input-datetime [size]=\"2\" noIcon [disabled]=\"filter!.controls.data_filtro.value == null ? 'true' : undefined\" label=\"Fim\" controlName=\"data_fim\" [control]=\"filter!.controls.data_fim\" labelInfo=\"Data fim do período\"></input-datetime>\r\n        </div>\r\n    </filter>\r\n    <columns>\r\n        <column *ngIf=\"!selectable\" type=\"expand\" icon=\"bi bi-boxes\" [align]=\"'center'\" [hint]=\"lex.translate('Tarefas da atividade')\" [template]=\"columnTarefas\" [expandTemplate]=\"columnExpandedTarefas\">\r\n            <ng-template let-row=\"row\" #columnTarefas>\r\n                <span *ngIf=\"row.tarefas?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-boxes\"></i> {{row.tarefas?.length}}</span>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnExpandedTarefas>\r\n                <atividade-list-tarefa persist [selectable]=\"selectable\" [editable]=\"!row.metadados.concluido\" [atividade]=\"row\"></atividade-list-tarefa>\r\n            </ng-template>\r\n        </column>\r\n        <column [titleTemplate]=\"titleIdNumeroStatus\" [template]=\"columnNumero\">\r\n            <ng-template let-header=\"header\" #titleIdNumeroStatus>\r\n                <order by=\"numero\" [header]=\"header\">#ID</order>/nº Processo<br>\r\n                Status\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnNumero>\r\n                <span class=\"text-nowrap\">\r\n                    <small class=\"micro-text fw-ligh\">#{{row.numero}}</small>\r\n                    <documentos-badge [documento]=\"row.documento_requisicao\"></documentos-badge>\r\n                    <!--span class=\"badge bg-light text-dark\" [attr.role]=\"row.numero_processo?.length ? 'button' : undefined\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" (click)=\"onProcessoClick(row)\" [title]=\"allPages.getButtonTitle(row.numero_processo, row.numero_requisicao)\">\r\n                        <i [class]=\"'bi ' + (row.numero_processo?.length ? 'bi bi-folder-symlink' : 'bi bi-x-lg')\"></i>\r\n                        {{row.numero_processo?.length ? row.numero_processo : \"Não processual\"}}\r\n                        <small *ngIf=\"row.numero_requisicao?.length\"><br>Sei nº {{row.numero_requisicao}}</small>\r\n                    </span//-->\r\n                </span>\r\n                <div class=\"one-per-line\">\r\n                    <badge *ngFor=\"let status of getStatus(row)\" [data]=\"status\" [color]=\"status.color\" [icon]=\"status.icon\" [label]=\"status.label\" [click]=\"status.data?.filter ? onStatusClick.bind(this) : undefined\"></badge>\r\n                    <!--span *ngFor=\"let status of getStatus(row)\" [class]=\"status.class\" [attr.role]=\"status.filter ? 'button' : undefined\" (click)=\"onStatusClick(status)\">\r\n                        <i [class]=\"status.icon\"></i>\r\n                        {{status.text}}\r\n                    </span/-->\r\n                </div>\r\n            </ng-template>\r\n        </column>\r\n        <column [titleTemplate]=\"titleUnResponsavelDemandante\" [template]=\"columnPessoas\">\r\n            <ng-template let-header=\"header\" #titleUnResponsavelDemandante>\r\n                Un./<order by=\"usuario.nome\" [header]=\"header\">Responsável</order><br>\r\n                <order by=\"demandante.nome\" [header]=\"header\">Demandante</order>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnPessoas>\r\n                <div class=\"text-nowrap\">\r\n                    <badge icon=\"bi bi-briefcase\" color=\"light\" [label]=\"row.unidade.sigla\"></badge>\r\n                    <badge [icon]=\"'bi ' + (row.usuario?.nome?.length ? 'bi-person-check' : 'bi-person-x')\" color=\"light\" [label]=\"util.apelidoOuNome(row.usuario, true) || '(Não atribuído)'\" [hint]=\"'Responsável: ' + (row.usuario?.nome || 'Não atribuido a nenhum usuário')\"></badge>\r\n                </div>\r\n                <badge icon=\"bi bi-cursor\" color=\"light\" [label]=\"util.apelidoOuNome(row.demandante, true) || 'Desconhecido'\" [hint]=\"'Demandante: ' + (row.demandante?.nome || 'Desconhecido')\"></badge>\r\n            </ng-template>\r\n        </column>\r\n        <column [titleTemplate]=\"titleTempos\" [template]=\"columnTempos\">\r\n            <ng-template let-header=\"header\" #titleTempos>\r\n                Tempos\r\n                <order by=\"data_distribuicao\" [header]=\"header\">Distribuição</order><br>\r\n                <order by=\"prazo_entrega\" [header]=\"header\">Prazo</order>\r\n                <order by=\"data_entrega\" [header]=\"header\">Entrega</order>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnTempos>\r\n                <div class=\"one-per-line\">\r\n                    <badge *ngFor=\"let tempo of temposAtividade(row)\" [badge]=\"tempo\"></badge>\r\n                </div>\r\n            </ng-template>\r\n        </column>\r\n        <column [title]=\"'Progresso\\nEtiquetas/Checklist'\" [editTemplate]=\"selectable ? undefined : columnProgressoEtiquetasChecklistEdit\" [template]=\"columnProgressoEtiquetasChecklist\" [edit]=\"selectable ? undefined : onColumnProgressoEtiquetasChecklistEdit.bind(this)\" [save]=\"selectable ? undefined : onColumnProgressoEtiquetasChecklistSave.bind(this)\">\r\n            <ng-template let-row=\"row\" #columnProgressoEtiquetasChecklist>\r\n                <progress-bar [value]=\"row.progresso\" color=\"success\"></progress-bar>\r\n                <badge *ngFor=\"let etiqueta of row.etiquetas\" [lookup]=\"etiqueta\" [click]=\"onEtiquetaClick.bind(this)\"></badge>\r\n                <separator *ngIf=\"row.checklist?.length\" small title=\"Checklist\"></separator>\r\n                <table *ngIf=\"row.checklist?.length\">\r\n                    <tr *ngFor=\"let check of row.checklist\">\r\n                        <td><i *ngIf=\"check.checked\" class=\"bi bi-check-circle\"></i></td>\r\n                        <td class=\"micro-text fw-ligh\">{{check.texto}}</td>\r\n                    </tr>\r\n                </table>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnProgressoEtiquetasChecklistEdit>\r\n                <input-number [size]=\"12\" [decimals]=\"2\" label=\"Progresso\" sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso\" [control]=\"formEdit.controls.progresso\" labelInfo=\"Progresso de execução (% Concluído)\"></input-number>\r\n                <input-multiselect controlName=\"etiquetas\" [size]=\"12\" [control]=\"formEdit.controls.etiquetas\" [addItemHandle]=\"addItemHandleEtiquetas.bind(this)\">\r\n                    <input-select [size]=\"12\" #etiqueta controlName=\"etiqueta\" nullable itemNull=\"- Selecione -\" detailsButton detailsButtonIcon=\"bi bi-tools\" (details)=\"onEtiquetaConfigClick()\" [control]=\"formEdit.controls.etiqueta\" [items]=\"etiquetas\"></input-select>\r\n                </input-multiselect>\r\n                <separator *ngIf=\"row.checklist?.length\" small title=\"Checklist\"></separator>\r\n                <table *ngIf=\"row.checklist?.length\">\r\n                    <tr *ngFor=\"let check of checklist; let i = index\">\r\n                        <td>\r\n                            <input-switch [size]=\"12\" scale=\"small\" [source]=\"checklist\" [path]=\"i + '.checked'\"></input-switch>\r\n                        </td>\r\n                        <td class=\"micro-text fw-ligh\">{{check.texto}}</td>\r\n                    </tr>\r\n                </table>\r\n            </ng-template>\r\n        </column>\r\n        <column [title]=\"'Tipo de Atividade\\nDescrição'\" [template]=\"columnTitulo\">\r\n            <ng-template let-row=\"row\" #columnTitulo>\r\n                <small *ngIf=\"row.atividade\" class=\"atividade-atividade\"><strong>{{row.tipo_atividade.nome || \"\"}}</strong><br></small>\r\n                <span class=\"micro-text fw-ligh atividade-descricao\">{{row.descricao}}</span>\r\n                <comentarios-widget [entity]=\"row\" [selectable]=\"selectable\" origem=\"ATIVIDADE\" [grid]=\"grid\"></comentarios-widget>\r\n            </ng-template>\r\n        </column>\r\n        <column *ngIf=\"!selectable\" type=\"options\" [onEdit]=\"edit\" [onDelete]=\"delete\" [dynamicOptions]=\"dynamicOptions.bind(this)\" [dynamicButtons]=\"dynamicButtons.bind(this)\"></column>\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>\r\n"],"names":["Base","AtividadeTarefa","constructor","data","documento","comentarios","descricao","data_hora","Date","tempo_estimado","concluido","documento_id","atividade_id","usuario_id","tipo_tarefa_id","initialization","Atividade","statusHistorico","numero","data_distribuicao","tempo_planejado","carga_horaria","prazo_entrega","data_inicio","data_entrega","esforco","tempo_despendido","data_arquivamento","etiquetas","checklist","prioridade","progresso","metadados","undefined","pausas","tarefas","plano_trabalho_id","plano_trabalho_entrega_id","tipo_atividade_id","demandante_id","unidade_id","documento_requisicao_id","documento_entrega_id","PageListBase","UsuarioDaoService","UnidadeDaoService","ListenerAllPagesService","CalendarService","AtividadeDaoService","TipoProcessoDaoService","ComentarioService","TipoAtividadeDaoService","AtividadeListBase","injector","addComentarioButton","icon","hint","DATAS_FILTRO","key","value","color","unidadeDao","get","usuarioDao","tipoAtividadeDao","tipoProcessoDao","allPages","calendar","comentario","join","extra","planos_trabalho","afastamentos","onGridLoad","rows","forEach","atividade","orderComentarios","grid","query","Object","assign","planos","entries","reduce","a","v","find","x","id","push","feriados","feriadosCadastrados","cdRef","detectChanges","onAtribuidasParaMimChange","event","filter","controls","atribuidas_para_mim","setValue","auth","usuario","onSomenteUnidadeAtualChange","somente_unidade_atual","unidade","onDespendidoClick","row","cargaHoraria","efemerides","calculaDataTempoUnidade","hora","dialog","template","title","calendarEfemerides","temposAtividade","lastUpdate","unidadeHora","planoTrabalho","tempos","lex","translate","label","dao","getDateTimeFormatted","tipo_modalidade","atividade_esforco","util","decimalToTimerFormated","iniciado","atividade_tempo_despendido","despendido","horasUteis","click","bind","getTime","atrasado","horasAtraso","desarquivar","arquivar","then","refreshId","catch","error","alert","message","confirm","arquivadas","removeId","dynamicOptions","result","isGestor","gestor","gestor_substituto","isDemandante","isResponsavel","BOTAO_INFORMACOES","onClick","go","navigate","route","modal","BOTAO_COMENTARIOS","modalRefreshId","BOTAO_CLONAR","modalRefresh","BOTAO_ALTERAR","BOTAO_EXCLUIR","delete","BOTAO_PRORROGAR_PRAZO","BOTAO_INICIAR","BOTAO_CANCELAR_INICIO","cancelarInicio","BOTAO_ALTERAR_INICIO","BOTAO_SUSPENDER","BOTAO_REINICIAR","params","reiniciar","BOTAO_CONCLUIR","BOTAO_ALTERAR_CONCLUSAO","BOTAO_CANCELAR_CONCLUSAO","cancelarConclusao","BOTAO_ARQUIVAR","BOTAO_DESARQUIVAR","arquivado","hasPermissionTo","length","divider","suspenso","self","dynamicButtons","BOTAO_ALTERAR_AVALIACAO","avaliado","getStatus","status","lookup","ATIVIDADE_STATUS","JSON","stringify","_status","onEtiquetaConfigClick","modalClose","modalResult","merge","config","b","comentarioClick","element","getAttribute","setAttribute","addComentarioClick","GridComponent","i0","ɵɵelement","ɵɵproperty","ctx_r1","ɵɵelementStart","ɵɵlistener","AtividadeListGridComponent_toolbar_3_Template_input_switch_change_1_listener","$event","ɵɵrestoreView","_r26","ctx_r25","ɵɵnextContext","ɵɵresetView","onAgruparChange","ɵɵelementEnd","ɵɵadvance","ctx_r2","agrupar","ɵɵtext","ɵɵtextInterpolate1","row_r31","ɵɵtemplate","AtividadeListGridComponent_column_26_ng_template_1_span_0_Template","ctx_r30","selectable","row_r34","AtividadeListGridComponent_column_26_ng_template_1_Template","ɵɵtemplateRefExtractor","AtividadeListGridComponent_column_26_ng_template_3_Template","ctx_r5","_r27","_r29","header_r35","status_r38","ctx_r37","onStatusClick","AtividadeListGridComponent_ng_template_30_badge_5_Template","row_r36","documento_requisicao","ctx_r9","header_r39","row_r40","sigla","nome","ctx_r13","apelidoOuNome","demandante","header_r41","tempo_r44","AtividadeListGridComponent_ng_template_40_badge_1_Template","ctx_r17","row_r42","etiqueta_r49","ctx_r46","onEtiquetaClick","AtividadeListGridComponent_ng_template_43_table_3_tr_1_i_2_Template","check_r51","checked","ɵɵtextInterpolate","texto","AtividadeListGridComponent_ng_template_43_table_3_tr_1_Template","row_r45","AtividadeListGridComponent_ng_template_43_badge_1_Template","AtividadeListGridComponent_ng_template_43_separator_2_Template","AtividadeListGridComponent_ng_template_43_table_3_Template","ctx_r58","i_r60","check_r59","AtividadeListGridComponent_ng_template_45_table_5_tr_1_Template","ctx_r57","AtividadeListGridComponent_ng_template_45_Template_input_select_details_2_listener","_r62","ctx_r61","AtividadeListGridComponent_ng_template_45_separator_4_Template","AtividadeListGridComponent_ng_template_45_table_5_Template","ctx_r21","formEdit","addItemHandleEtiquetas","etiqueta","row_r54","row_r63","tipo_atividade","AtividadeListGridComponent_ng_template_48_small_0_Template","ctx_r23","ctx_r24","edit","AtividadeListGridComponent","storeFilter","form","unidades_subordinadas","filterWhere","fixedFilter","map","numero_processo","tipo_processo_id","data_filtro","field","data_fim","code","modalWidth","fh","FormBuilder","default","groupBy","ngAfterViewInit","reloadFilter","showFilter","onColumnProgressoEtiquetasChecklistEdit","_this","_asyncToGenerator","clone","onColumnProgressoEtiquetasChecklistSave","_this2","saved","update","filterClear","selectedItem","item","textHash","validateLookupItem","_class","selectRoute","ɵɵdirectiveInject","Injector","selectors","viewQuery","AtividadeListGridComponent_Query","rf","ctx","AtividadeListGridComponent_ng_template_0_Template","AtividadeListGridComponent_Template_grid_select_2_listener","onSelect","AtividadeListGridComponent_toolbar_3_Template","AtividadeListGridComponent_Template_input_switch_change_6_listener","AtividadeListGridComponent_Template_input_switch_change_9_listener","AtividadeListGridComponent_column_26_Template","AtividadeListGridComponent_ng_template_28_Template","AtividadeListGridComponent_ng_template_30_Template","AtividadeListGridComponent_ng_template_33_Template","AtividadeListGridComponent_ng_template_35_Template","AtividadeListGridComponent_ng_template_38_Template","AtividadeListGridComponent_ng_template_40_Template","AtividadeListGridComponent_ng_template_43_Template","AtividadeListGridComponent_ng_template_45_Template","AtividadeListGridComponent_ng_template_48_Template","AtividadeListGridComponent_column_50_Template","add","orderBy","filterSubmit","filterCollapseChange","queryParams","filterCollapsed","ATIVIDADE_STATUS_COM_ARQUIVADAS","_r6","_r8","_r10","_r12","_r14","_r16","_r20","_r18","_r22","rowsLimit"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}