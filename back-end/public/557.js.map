{"version":3,"file":"557.js","mappings":"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","sources":["./src/app/models/atividade-tarefa.model.ts","./src/app/modules/gestao/atividade/atividade-list-base.ts","./src/app/modules/gestao/atividade/atividade-list-grid/atividade-list-grid.component.ts","./src/app/modules/gestao/atividade/atividade-list-grid/atividade-list-grid.component.html","./src/app/modules/gestao/atividade/atividade.service.ts"],"sourcesContent":["import { Base } from './base.model';\nimport { Comentario, HasComentarios } from './comentario';\nimport { Atividade } from './atividade.model';\nimport { TipoTarefa } from './tipo-tarefa.model';\nimport { Usuario } from './usuario.model';\nimport { Documento } from './documento.model';\n\nexport class AtividadeTarefa extends Base implements HasComentarios {\n    public atividade?: Atividade;\n    public usuario?: Usuario;\n    public tipo_tarefa?: TipoTarefa;\n    public documento: Documento | null = null ; /* Documento de entrga */ \n    public comentarios: Comentario[] = []; /* Comentarios da tarefa */\n\n    public descricao: string | null = null; /* Descrição da tarefa */\n    public data_lancamento: Date = new Date(); /* Data hora do lançamento da tarefa */\n    public tempo_estimado: number = 0; /* Tempo estimado para a execução da tarefa (Horas decimais) */\n    public concluido: boolean = false; /* Se a tarefa foi concluída */\n\n    public documento_id: string | null = null ; /* Documento de entrga */ \n    public atividade_id: string = \"\"; /* Atividade */\n    public usuario_id: string = \"\"; /* Usuário */\n    public tipo_tarefa_id: string | null = null; /* Tarefa */\n\n    public constructor(data?: any) { super(); this.initialization(data); }\n}\n","import { Injector, TemplateRef } from '@angular/core';\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { Atividade, AtividadeChecklist } from 'src/app/models/atividade.model';\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\nimport { CalendarService, Efemerides, FeriadoList } from 'src/app/services/calendar.service';\nimport { Afastamento } from 'src/app/models/afastamento.model';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\nimport { TipoProcessoDaoService } from 'src/app/dao/tipo-processo-dao.service';\nimport { ComentarioService } from 'src/app/services/comentario.service';\nimport { BadgeButton } from 'src/app/components/badge/badge.component';\nimport { TipoAtividadeDaoService } from 'src/app/dao/tipo-atividade-dao.service';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { AtividadeService, ExtraAtividade } from './atividade.service';\n\nexport abstract class AtividadeListBase extends PageListBase<Atividade, AtividadeDaoService> {\n  public calendarEfemerides?: TemplateRef<any>;\n  public unidadeDao: UnidadeDaoService;\n  public usuarioDao: UsuarioDaoService;\n  public tipoAtividadeDao: TipoAtividadeDaoService;\n  public tipoProcessoDao: TipoProcessoDaoService;\n  public allPages: ListenerAllPagesService;\n  public atividadeService: AtividadeService;\n  public calendar: CalendarService;\n  public comentario: ComentarioService;\n  public extra: ExtraAtividade;\n  public etiquetas: LookupItem[] = [];\n  public checklist?: AtividadeChecklist[];\n  public efemerides?: Efemerides;\n  public addComentarioButton: ToolbarButton = {\n    icon: \"bi bi-plus-circle\",\n    hint: \"Incluir comentário\"\n  }\n  public DATAS_FILTRO: LookupItem[] = [\n    { key: \"DISTRIBUICAO\", value: \"Distribuição\", icon: \"bi bi-file-earmark-plus\", color: \"badge rounded-pill bg-warning text-dark\" },\n    { key: \"PRAZO\", value: \"Prazo\", icon: \"bi bi-calendar-check\", color: \"badge rounded-pill bg-info text-dark\" },\n    { key: \"CONCLUSAO\", value: \"Conclusão\", icon: \"bi bi-check-circle\", color: \"badge rounded-pill bg-info text-dark\" }\n  ];\n\n  constructor(public injector: Injector) {\n    super(injector, Atividade, AtividadeDaoService);\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\n    this.tipoAtividadeDao = injector.get<TipoAtividadeDaoService>(TipoAtividadeDaoService);\n    this.tipoProcessoDao = injector.get<TipoProcessoDaoService>(TipoProcessoDaoService);\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\n    this.atividadeService = injector.get<AtividadeService>(AtividadeService);\n    this.calendar = injector.get<CalendarService>(CalendarService);\n    this.comentario = injector.get<ComentarioService>(ComentarioService);\n    this.join = [\"tipo_atividade\", \"demandante\", \"pausas\", \"usuario\", \"unidade\", \"comentarios.usuario\", \"tarefas.tipo_tarefa\", \"tarefas.comentarios.usuario\"];\n    /* Inicializações */\n    this.extra = { planos_trabalho: {}, afastamentos: {} };\n  }\n\n  public onGridLoad(rows?: any[]) {\n    /* Ordena os comentários */\n    rows?.forEach((atividade: Atividade) => {\n      atividade.comentarios = this.comentario.orderComentarios(atividade.comentarios);\n    });\n    /* Recebe informações extra da query para auxiliar em cálculos e melhorar performace da consulta */\n    const extra = (this.grid?.query || this.query!).extra;\n    if (extra) {\n      //this.extra.avaliadores = Object.assign(this.extra.avaliadores, extra.avaliadores || {});\n      this.extra.planos_trabalho = Object.assign(this.extra.planos_trabalho, extra.planos || {});\n      for (let [key, value] of Object.entries(extra.afastamentos || {})) {\n        this.extra.afastamentos[key] = (value as Array<Afastamento>).reduce((a, v) => {\n          if (!a.find(x => x.id == v.id)) a.push(v);\n          return a;\n        }, this.extra.afastamentos[key] || []);\n      }\n      Object.entries(extra.feriados || {}).forEach(([key, value]) => {\n        if (!this.calendar.feriadosCadastrados[key]) this.calendar.feriadosCadastrados[key] = value as FeriadoList;\n      });\n      this.cdRef.detectChanges();\n    }\n  }\n\n  public onAtribuidasParaMimChange(event: Event) {\n    if (this.filter!.controls.atribuidas_para_mim.value) {\n      this.filter!.controls.usuario_id.setValue(this.auth.usuario!.id);\n    } else {\n      this.filter!.controls.usuario_id.setValue(undefined);\n    }\n  }\n\n  public onSomenteUnidadeAtualChange(event: Event) {\n    if (this.filter!.controls.somente_unidade_atual.value) {\n      this.filter!.controls.unidade_id.setValue(this.auth.unidade!.id);\n    } else {\n      this.filter!.controls.unidade_id.setValue(undefined);\n    }\n  }\n\n  public onDespendidoClick(row: Atividade) {\n    if (row.metadados && !row.metadados.concluido) {\n      const cargaHoraria = this.extra?.planos_trabalho[row.plano_trabalho_id!]?.carga_horaria || 0;\n      const afastamentos = this.extra?.afastamentos[row.usuario_id!] || [];\n      this.efemerides = this.calendar.calculaDataTempoUnidade(row.data_inicio!, this.auth.hora, cargaHoraria, row.unidade!, \"ENTREGA\", row.pausas, afastamentos);\n      this.dialog.template({ title: \"Cálculos do tempo despendido\" }, this.calendarEfemerides!, []);\n    }\n  }\n\n/*   public temposAtividade(row: Atividade): BadgeButton[] {\n    // Atualiza somente a cada mudança de minuto da unidade atual\n    if (row.metadados && row.metadados.extra?.lastUpdate != this.auth.unidadeHora) {\n      let planoTrabalho = this.extra?.planos_trabalho[row.plano_trabalho_id!];\n      let tempos: BadgeButton[] = [\n        { color: \"light\", hint: this.lex.translate(\"Data de distribuição\"), icon: \"bi bi-file-earmark-plus\", label: this.dao!.getDateTimeFormatted(row.data_distribuicao) },\n        { color: \"light\", hint: this.lex.translate(\"Prazo de entrega\"), icon: \"bi bi-calendar-check\", label: this.dao!.getDateTimeFormatted(row.data_estipulada_entrega) }\n      ];\n      if (planoTrabalho?.tipo_modalidade?.atividade_esforco) tempos.push({ color: \"light\", hint: this.lex.translate(\"Esforço\"), icon: \"bi bi-stopwatch\", label: (row.esforco ? this.util.decimalToTimerFormated(row.esforco, true) + \" \" + this.lex.translate(\"esforço\") : \"Sem \" + this.lex.translate(\"esforço\"))});\n      if (row.metadados.concluido) tempos.push({ color: \"light\", hint: \"Data de entrega realizada\", icon: \"bi bi-check-circle\", label: this.dao!.getDateTimeFormatted(row.data_entrega) });\n      if (row.metadados.iniciado && !!planoTrabalho?.tipo_modalidade?.atividade_tempo_despendido) {\n        const cargaHoraria = planoTrabalho?.carga_horaria || 0;\n        const afastamentos = this.extra?.afastamentos[row.usuario_id!] || [];\n        const despendido = row.metadados.concluido ? (row.tempo_despendido || 0) : this.calendar.horasUteis(row.data_inicio!, this.auth.hora, cargaHoraria, row.unidade!, \"ENTREGA\", row.pausas, afastamentos);\n        tempos.push({ color: (despendido > row.esforco ? \"warning\" : \"light\"), hint: \"Tempo despendido\", icon: \"bi bi-hourglass-split\", label: this.util.decimalToTimerFormated(despendido, true) + \" despendido\", click: !row.metadados.concluido ? this.onDespendidoClick.bind(this) : undefined, data: row });\n      }\n      if (!row.metadados.concluido && row.data_estipulada_entrega.getTime() < this.auth.hora.getTime()) {\n        const atrasado = this.calendar.horasAtraso(row.data_estipulada_entrega, row.unidade!);\n        tempos.push({ color: \"danger\", hint: \"Tempo de atraso\", icon: \"bi bi-alarm\", label: this.util.decimalToTimerFormated(atrasado, true) + \" atrasado\" });\n      }\n      row.metadados.extra = row.metadados.extra || {};\n      row.metadados.extra.lastUpdate = this.auth.unidadeHora;\n      row.metadados.extra.tempos = tempos;\n    }\n    return row.metadados?.extra?.tempos || [];\n  } */\n\n  public desarquivar(atividade: Atividade) {\n    this.dao!.arquivar(atividade.id, false).then(() => {\n      this.grid!.query!.refreshId(atividade.id);\n    }).catch(error => this.dialog.alert(\"Erro\", \"Erro ao cancelar inicio: \" + error?.message ? error?.message : error));\n  }\n\n  public arquivar(atividade: Atividade) {\n    this.dialog.confirm(\"Arquivar?\", \"Deseja realmente arquivar a atividade?\").then(confirm => {\n      if (confirm) {\n        this.dao!.arquivar(atividade.id, true).then(() => {\n          if (this.filter?.controls.arquivadas?.value) {\n            this.grid!.query!.refreshId(atividade.id);\n          } else {\n            (this.grid?.query || this.query!).removeId(atividade.id);\n          }\n        }).catch(error => this.dialog.alert(\"Erro\", \"Erro ao cancelar inicio: \" + error?.message ? error?.message : error));\n      }\n    });\n  }\n\n  public dynamicOptions(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    let atividade: Atividade = row as Atividade;\n    //const isAvaliador = isGestor || (this.extra.avaliadores[atividade.unidade_id] || []).includes(this.auth.usuario?.id || \"\"); //|| atividade.unidade\n    const isGestor = this.auth.usuario?.id == atividade.unidade?.gestor?.id || this.auth.usuario?.id == atividade.unidade?.gestor_substituto?.id;\n    const isDemandante = this.auth.usuario?.id == atividade.demandante_id;\n    const isResponsavel = this.auth.usuario?.id == atividade.usuario_id;\n    const BOTAO_INFORMACOES = { label: \"Informações\", icon: \"bi bi-info-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'consult'] }, { modal: true }) };\n    const BOTAO_COMENTARIOS = { label: \"Comentários\", icon: \"bi bi-chat-left-quote\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['uteis', 'comentarios', 'ATIVIDADE', atividade.id, 'new'] }, this.modalRefreshId(atividade)) };\n    const BOTAO_CLONAR = { label: \"Clonar\", icon: \"bi bi-stickies\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'clonar'] }, this.modalRefresh()) };\n    const BOTAO_ALTERAR = { label: \"Alterar atividade\", icon: \"bi bi-pencil-square\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'edit'] }, this.modalRefreshId(atividade)) };\n    const BOTAO_EXCLUIR = { label: \"Excluir atividade\", icon: \"bi bi-trash\", onClick: this.delete.bind(this) };\n    const BOTAO_PRORROGAR_PRAZO = { label: \"Prorrogar prazo\", icon: \"bi bi-skip-end-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'prorrogar'] }, this.modalRefreshId(atividade))};\n    const BOTAO_INICIAR = { label: \"Iniciar\", id: \"INICIADO\", icon: \"bi bi-play-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'iniciar'] }, this.modalRefreshId(atividade)) };\n    const BOTAO_CANCELAR_INICIO = { label: \"Cancelar inicio\", id: \"NAOINICIADO\", icon: \"bi bi-backspace\", onClick: this.cancelarInicio.bind(this) };\n    const BOTAO_ALTERAR_INICIO = { label: \"Alterar inicio\", icon: \"bi bi-play-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'iniciar'] }, this.modalRefreshId(atividade)) };\n    const BOTAO_PAUSAR = { label: \"Pausar\", id: \"PAUSADO\", icon: \"bi bi-pause-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'pausar'] }, this.modalRefreshId(atividade)) };\n    const BOTAO_REINICIAR = { label: \"Reiniciar\", id: \"INICIADO\", icon: \"bi bi-play-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'pausar'], params: { reiniciar: true } }, this.modalRefreshId(atividade)) };\n    const BOTAO_CONCLUIR = { label: \"Concluir\", id: \"CONCLUIDO\", icon: \"bi bi-check-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'concluir'] }, this.modalRefreshId(atividade)) };\n    const BOTAO_ALTERAR_CONCLUSAO = { label: \"Alterar conclusão\", icon: \"bi bi-check-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'concluir'] }, this.modalRefreshId(atividade)) };\n    const BOTAO_CANCELAR_CONCLUSAO = { label: \"Cancelar conclusão\", id: \"INICIADO\", icon: \"bi bi-backspace\", onClick: this.cancelarConclusao.bind(this) };\n    //const BOTAO_AVALIAR = { label: \"Avaliar\", id: \"AVALIADO\", icon: \"bi bi-star-half\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'avaliar'] }, this.modalRefreshId(atividade)) };\n    //const BOTAO_ALTERAR_AVALIACAO = { label: \"Alterar avaliação\", hint: \"Alterar avaliação\", icon: \"bi bi-check-all\", color: \"btn-outline-danger\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'avaliar'] }, this.modalRefreshId(atividade)) };\n    //const BOTAO_CANCELAR_AVALIACAO = { label: \"Cancelar avaliação\", id: \"CONCLUIDO\", icon: \"bi bi-backspace\", onClick: this.cancelarAvaliacao.bind(this) };\n    const BOTAO_ARQUIVAR = { label: \"Arquivar\", icon: \"bi bi-inboxes\", onClick: this.arquivar.bind(this) };\n    const BOTAO_DESARQUIVAR = { label: \"Desarquivar\", icon: \"bi bi-reply\", onClick: this.desarquivar.bind(this) };\n\n    result.push(BOTAO_INFORMACOES);\n    if (isResponsavel || isGestor || isDemandante) result.push(BOTAO_COMENTARIOS);\n    result.push(BOTAO_CLONAR);\n    if (atividade.metadados?.arquivado) { /* Arquivado*/\n      if (isGestor || isResponsavel) result.push(BOTAO_DESARQUIVAR);\n    } else if (!atividade.metadados?.iniciado) {\n      if (isResponsavel || (atividade.usuario_id == null) || this.auth.hasPermissionTo('MOD_DMD_USERS_INICIAR')) { /* Não iniciado */\n        result.push(BOTAO_INICIAR);\n      }\n      if (isGestor || isDemandante || this.auth.hasPermissionTo('MOD_DMD_USERS_ALT')) {\n        result.push(BOTAO_ALTERAR);\n      }\n      if (isGestor || isDemandante || this.auth.hasPermissionTo('MOD_DMD_USERS_EXCL') || this.auth.hasPermissionTo('MOD_DMD_NI_EXCL')) {\n        if (result.length) result.push({ divider: true });\n        result.push(BOTAO_EXCLUIR);\n      }\n    } else if (atividade.metadados?.concluido) { /* Concluído -> Gestor ou substituto pode avaliar */\n      if (isGestor || isResponsavel) result.push(BOTAO_ARQUIVAR);\n      if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_ALT_CONCL')) {\n        result.push(BOTAO_ALTERAR_CONCLUSAO);\n      }\n      if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_CANC_CONCL') ) {\n        if (result.length) result.push({ divider: true });\n        result.push(BOTAO_CANCELAR_CONCLUSAO);\n      }\n    } else if (atividade.metadados?.iniciado) { /* Iniciado */\n      if (atividade.metadados?.pausado) {\n        if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_INICIAR')) { /* Iniciada e Pausada */\n          result.push(BOTAO_REINICIAR);\n        }\n      } else { /* Iniciada e não Suspensa */\n        if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_CONCL')) result.push(BOTAO_CONCLUIR);\n        if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_PAUSA')) result.push(BOTAO_PAUSAR);\n        if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_CANC_INICIAR')) result.push(BOTAO_CANCELAR_INICIO);\n        if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_INICIAR')) result.push(BOTAO_ALTERAR_INICIO);\n      }\n      if (isGestor || isDemandante || this.auth.hasPermissionTo('MOD_DMD_USERS_PPRZO')) {\n        result.push(BOTAO_PRORROGAR_PRAZO);\n      }\n    }\n    return result;\n  }\n\n  public cancelarInicio(atividade: Atividade) {\n    const self = this;\n    this.dialog.confirm(\"Cancelar inicio ?\", \"Deseja realmente cancelar a inicialização?\").then(confirm => {\n      if (confirm) {\n        this.dao!.cancelarInicio(atividade.id).then(function () {\n          (self.grid?.query || self.query!).refreshId(atividade.id);\n          self.dialog.alert(\"Sucesso\", \"Cancelado com sucesso!\");\n        }).catch(function (error) {\n          self.dialog.alert(\"Erro\", \"Erro ao cancelar inicio: \" + error?.message ? error?.message : error);\n        });\n      }\n    });\n  }\n\n  public cancelarConclusao(atividade: Atividade) {\n    const self = this;\n    this.dialog.confirm(\"Cancelar conclusão ?\", \"Deseja realmente cancelar a conclusão?\").then(confirm => {\n      if (confirm) {\n        this.dao!.cancelarConclusao(atividade.id).then(function () {\n          (self.grid?.query || self.query!).refreshId(atividade.id);\n          self.dialog.alert(\"Sucesso\", \"Cancelado com sucesso!\");\n        }).catch(function (error) {\n          self.dialog.alert(\"Erro\", \"Erro ao cancelar conclusão: \" + error?.message ? error?.message : error);\n        });\n      }\n    });\n  }\n\n  public dynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    let atividade: Atividade = row as Atividade;\n    const isGestor = this.auth.usuario?.id == atividade.unidade?.gestor?.id || this.auth.usuario?.id == atividade.unidade?.gestor_substituto?.id;\n    const isResponsavel = this.auth.usuario?.id == atividade.usuario_id;\n    const BOTAO_ALTERAR_AVALIACAO = { hint: \"Alterar avaliação\", icon: \"bi bi-check-all\", color: \"btn-outline-danger\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'avaliar'] }, this.modalRefreshId(atividade)) };\n    const BOTAO_INFORMACOES = { label: \"Informações\", icon: \"bi bi-info-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'consult'] }, { modal: true }) };\n    const BOTAO_INICIAR = { hint: \"Iniciar\", icon: \"bi bi-play-circle\", color: \"btn-outline-secondary\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'iniciar'] }, this.modalRefreshId(atividade)) };\n    const BOTAO_REINICIAR = { hint: \"Reiniciar\", icon: \"bi bi-play-circle\", color: \"btn-outline-secondary\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'pausar'], params: { reiniciar: true } }, this.modalRefreshId(atividade)) };\n    const BOTAO_CONCLUIR = { hint: \"Concluir\", icon: \"bi bi-check\", color: \"btn-outline-success\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'concluir'] }, this.modalRefreshId(atividade)) };\n    const BOTAO_ARQUIVAR = { hint: \"Arquivar\", icon: \"bi bi-inboxes\", onClick: this.arquivar.bind(this) };\n    const BOTAO_DESARQUIVAR = { hint: \"Desarquivar\", icon: \"bi bi-reply\", onClick: this.desarquivar.bind(this) };\n    const BOTAO_ALTERAR_CONCLUSAO = { hint: \"Alterar conclusão\", icon: \"bi bi-check-circle\", onClick: (atividade: Atividade) => this.go.navigate({ route: ['gestao', 'atividade', atividade.id, 'concluir'] }, this.modalRefreshId(atividade)) };\n\n    if (!atividade.metadados?.iniciado) { /* Não iniciado */\n      if (isResponsavel || (atividade.usuario_id == null) || this.auth.hasPermissionTo('MOD_DMD_USERS_INICIAR')) { /* Usuário da atividade é o mesmo logado */\n        result.push(BOTAO_INICIAR);\n      }\n    } else if (atividade.metadados?.concluido) { /* Concluído */\n      if (isGestor || isResponsavel) {\n        result.push(atividade.metadados?.arquivado ? BOTAO_DESARQUIVAR : BOTAO_ARQUIVAR);\n      } else if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_ALT_CONCL')) {\n        result.push(BOTAO_ALTERAR_CONCLUSAO);\n      }\n    } else if (atividade.metadados?.avaliado) { /* Avaliado */\n      if (isGestor) { /* Usuário logado é gestor da Unidade ou substituto */\n        result.push(BOTAO_ALTERAR_AVALIACAO);\n      }\n    } else if (atividade.metadados?.iniciado) { /* Iniciado */\n      if (atividade.metadados?.pausado && isResponsavel) { /* Iniciada e Pausada */\n        result.push(BOTAO_REINICIAR);\n      } else if (isResponsavel || this.auth.hasPermissionTo('MOD_DMD_USERS_CONCL')) { /* Iniciada e não Suspensa */\n        result.push(BOTAO_CONCLUIR);\n      }\n    }\n    if(!result.length) result.push(BOTAO_INFORMACOES);\n    return result;\n  }\n\n  public onEtiquetaConfigClick() {\n    this.go.navigate({ route: [\"configuracoes\", \"preferencia\", \"usuario\", this.auth.usuario!.id], params: { etiquetas: true } }, {\n      modal: true, modalClose: (modalResult) => {\n        this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\n        this.cdRef.detectChanges();\n      }\n    });\n  }\n\n  public comentarioClick(element: HTMLSpanElement) {\n    const value = element.getAttribute(\"data-expanded\");\n    element.setAttribute(\"data-expanded\", value == \"true\" ? \"false\" : \"true\");\n  }\n\n  public addComentarioClick(row: any) {\n    this.go.navigate({ route: ['gestao', 'atividade', row.id, 'comentar'] }, { modal: true, modalClose: modalResult => { if (modalResult) (this.grid?.query || this.query!).refreshId(row.id); } });\n  }\n\n}\n\n","import { Component, ElementRef, Injector, Input, TemplateRef, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { ActivatedRouteSnapshot } from '@angular/router';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\nimport { Atividade } from 'src/app/models/atividade.model';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { FullRoute, RouteMetadata } from 'src/app/services/navigate.service';\nimport { AtividadeListBase } from '../atividade-list-base';\nimport { BadgeButton } from 'src/app/components/badge/badge.component';\n\n@Component({\n  selector: 'atividade-list-grid',\n  templateUrl: './atividade-list-grid.component.html',\n  styleUrls: ['./atividade-list-grid.component.scss']\n})\nexport class AtividadeListGridComponent extends AtividadeListBase {\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  @ViewChild('calendarEfemerides', { static: false }) public calendarEfemerides?: TemplateRef<any>;\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\n  @ViewChild('etiqueta', { static: false }) public etiqueta?: InputSelectComponent;\n  @Input() snapshot?: ActivatedRouteSnapshot;\n  @Input() fixedFilter?: any[];\n  @Input() minhas: boolean = false;\n\n  public static selectRoute?: FullRoute = { route: [\"gestao\", \"atividade\", \"grid\"] };\n  public formEdit: FormGroup;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    /* Inicializações */\n    this.title = this.lex.translate(\"Atividades\");\n    this.code = \"MOD_DMD\";\n    this.modalWidth = 1100;\n    this.filter = this.fh.FormBuilder({\n      agrupar: { default: true },\n      atribuidas_para_mim: { default: false },\n      usuario_id: { default: null },\n      numero: { default: \"\" },\n      somente_unidade_atual: { default: false },\n      unidades_subordinadas: { default: false },\n      unidade_id: { default: null },\n      numero_processo: { default: \"\" },\n      status: { default: null },\n      etiquetas: { default: [] },\n      arquivadas: { default: false },\n      tipo_atividade_id: { default: null },\n      tipo_processo_id: { default: null },\n      data_filtro: { default: null },\n      data_inicio: { default: null },\n      data_fim: { default: null }\n    });\n    this.formEdit = this.fh.FormBuilder({\n      progresso: { default: 0 },\n      etiquetas: { default: [] },\n      etiqueta: { default: null }\n    });\n    this.groupBy = [{ field: \"unidade.sigla\", label: \"Unidade\" }];\n  }\n\n  public storeFilter = (filter?: FormGroup) => {\n    const form = filter?.value;\n    return {\n      atribuidas_para_mim: form.atribuidas_para_mim,\n      usuario_id: form.usuario_id,\n      somente_unidade_atual: form.somente_unidade_atual,\n      unidades_subordinadas: form.unidades_subordinadas,\n      unidade_id: form.somente_unidade_atual ? null : form.unidade_id\n    }\n  }\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n\n    if(this.metadata?.atribuidas_para_mim){\n      this.filter?.controls.atribuidas_para_mim.setValue(true);\n      this.filter?.controls.usuario_id.setValue(this.auth.usuario?.id);\n    }\n\n    if (this.fixedFilter) {\n      const status = this.fixedFilter.find(x => x[0] == \"status\");\n      if (status) this.filter?.controls.status.setValue(status[2]);\n    }\n  }\n\n  public onAgruparChange(event: Event) {\n    const agrupar = this.filter!.controls.agrupar.value;\n    if ((agrupar && !this.groupBy?.length) || (!agrupar && this.groupBy?.length)) {\n      this.groupBy = agrupar ? [{ field: \"unidade.sigla\", label: \"Unidade\" }] : [];\n      this.grid!.reloadFilter();\n    }\n  }\n\n  public onStatusClick(status: BadgeButton) {\n    this.filter?.controls.status.setValue(status.data?.status);\n    this.grid!.showFilter();\n    this.grid!.reloadFilter();\n  }\n\n  public onEtiquetaClick(etiqueta: LookupItem) {\n    let etiquetas = this.filter!.controls.etiquetas.value;\n    etiquetas.push(etiqueta);\n    this.filter?.controls.etiquetas.setValue(etiquetas);\n    this.grid!.showFilter();\n    this.grid!.reloadFilter();\n  }\n\n  public async onColumnProgressoEtiquetasChecklistEdit(row: any) {\n    this.formEdit.controls.progresso.setValue(row.progresso);\n    this.formEdit.controls.etiquetas.setValue(row.etiquetas);\n    this.formEdit.controls.etiqueta.setValue(null);\n    this.etiquetas = this.util.merge(row.atividade?.etiquetas, row.unidade?.etiquetas, (a, b) => a.key == b.key);\n    this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\n    this.checklist = this.util.clone(row.checklist);\n  }\n\n  public async onColumnProgressoEtiquetasChecklistSave(row: any) {\n    try {\n      const saved = await this.dao!.update(row.id, {\n        progresso: this.formEdit.controls.progresso.value,\n        etiquetas: this.formEdit.controls.etiquetas.value,\n        checklist: this.checklist\n      });\n      row.progresso = this.formEdit.controls.progresso.value;\n      row.checklist = this.checklist;\n      return !!saved;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  public filterWhere = (filter: FormGroup) => {\n    let result: any[] = this.fixedFilter || [];\n    let form: any = filter.value;\n\n    /* Verifica se estiver marcado Atual e a Unidade for diferente da Lotacao da barra superior */\n    if (form.somente_unidade_atual && form.unidade_id != this.auth.unidade?.id) {\n      filter.controls.unidade_id.setValue(this.auth.unidade?.id);\n      form.unidade_id = this.auth.unidade?.id;\n    }\n    /* Verifica se Minhas está selecionado e o usuário está diferente do logado (vazio) */\n    if (form.atribuidas_para_mim && form.usuario_id != this.auth.usuario?.id) {\n      filter.controls.usuario_id.setValue(this.auth.usuario?.id);\n      form.usuario_id = this.auth.usuario?.id;\n    }\n    /* Filtros */\n    if (form.usuario_id?.length) {\n      result.push([\"usuario_id\", \"==\", form.usuario_id]);\n    }\n    if (form.unidade_id?.length) {\n      result.push([\"unidade_id\", \"==\", form.unidade_id]);\n    }\n    if (form.unidades_subordinadas) {\n      result.push([\"unidades_subordinadas\", \"==\", true]);\n    }\n    if (form.etiquetas?.length) {\n      result.push([\"etiquetas\", \"in\", form.etiquetas.map((x: LookupItem) => x.value)]);\n    }\n    if (form.numero_processo?.length) {\n      result.push([\"numero_processo\", \"==\", form.numero_processo]);\n    }\n    if (form.numero?.length) {\n      result.push([\"numero\", \"==\", form.numero]);\n    }\n    if (form.status?.length && !result.find(x => x[0] == \"status\")) {\n      result.push([\"status\", \"==\", form.status]);\n      if (form.status == \"ARQUIVADO\") this.filter!.controls.arquivadas.setValue(true);\n    }\n    if (!this.filter!.controls.arquivadas.value) {\n      result.push([\"data_arquivamento\", \"==\", null]);\n    }\n    if (form.tipo_atividade_id?.length) {\n      result.push([\"tipo_atividade_id\", \"==\", form.tipo_atividade_id]);\n    }\n    if (form.tipo_processo_id?.length) {\n      result.push([\"tipo_processo_id\", \"==\", form.tipo_processo_id]);\n    }\n    if (form.data_filtro?.length) {\n      const field = form.data_filtro == \"DISTRIBUICAO\" ? \"data_distribuicao\" : form.data_filtro == \"PRAZO\" ? \"data_estipulada_entrega\" : \"data_entrega\";\n      if (form.data_inicio) {\n        result.push([field, \">=\", form.data_inicio]);\n      }\n      if (form.data_fim) {\n        result.push([field, \"<=\", form.data_fim]);\n      }\n    }\n\n    return result;\n  }\n\n  public filterClear(filter: FormGroup) {\n    this.filter!.controls.atribuidas_para_mim.setValue(false);\n    this.filter!.controls.usuario_id.setValue(null);\n    this.filter!.controls.somente_unidade_atual.setValue(false);\n    this.filter!.controls.unidades_subordinadas.setValue(false);\n    this.filter!.controls.unidade_id.setValue(null);\n    this.filter!.controls.numero_processo.setValue(\"\");\n    this.filter!.controls.atividade_id.setValue(null);\n    this.filter!.controls.tipo_processo_id.setValue(null);\n    this.filter!.controls.data_filtro.setValue(null);\n    this.filter!.controls.data_inicio.setValue(null);\n    this.filter!.controls.data_fim.setValue(null);\n    if (!this.fixedFilter?.length || !this.fixedFilter.find(x => x[0] == \"status\")) this.filter!.controls.status.setValue(null);\n    this.filter!.controls.etiquetas.setValue([]);\n    super.filterClear(filter);\n  }\n\n  public addItemHandleEtiquetas(): LookupItem | undefined {\n    let result = undefined;\n    if (this.etiqueta && this.etiqueta.selectedItem) {\n      const item = this.etiqueta.selectedItem;\n      const key = item.key?.length ? item.key : this.util.textHash(item.value);\n      if (this.util.validateLookupItem(this.formEdit.controls.etiquetas.value, key)) {\n        result = {\n          key: key,\n          value: item.value,\n          color: item.color,\n          icon: item.icon\n        };\n        this.formEdit.controls.etiqueta.setValue(null);\n      }\n    }\n    return result;\n  };\n\n}\n\n","<ng-template #calendarEfemerides>\n    <calendar-efemerides [efemerides]=\"efemerides\"></calendar-efemerides>\n</ng-template>\n<grid [dao]=\"dao\" [add]=\"add\" [form]=\"formEdit\" [hasEdit]=\"false\" [hasDelete]=\"false\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\" [loadList]=\"onGridLoad.bind(this)\" [selectable]=\"selectable\" (select)=\"onSelect($event)\">\n    <toolbar *ngIf=\"!fixedFilter && !selectable\">\n        <input-switch [size]=\"4\" labelPosition=\"left\" label=\"Agrupar por Un.\" controlName=\"agrupar\" [control]=\"filter!.controls.agrupar\" (change)=\"onAgruparChange($event)\"></input-switch>\n    </toolbar>\n    <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && !queryParams?.filter && filterCollapsed\">\n        <div class=\"row\">\n            <input-switch [size]=\"1\" label=\"Minhas\" controlName=\"atribuidas_para_mim\" [control]=\"filter!.controls.atribuidas_para_mim\" (change)=\"onAtribuidasParaMimChange($event)\"></input-switch>\n            <input-search [size]=\"5\" label=\"Usuário\" #usuario controlName=\"usuario_id\"  [disabled]=\"filter!.controls.atribuidas_para_mim.value ? 'true' : undefined\" [dao]=\"usuarioDao\" ></input-search>\n            <input-switch [size]=\"1\" label=\"Atual\" controlName=\"somente_unidade_atual\" [control]=\"filter!.controls.somente_unidade_atual\" (change)=\"onSomenteUnidadeAtualChange($event)\" labelInfo=\"Somente as atividades da unidade selecionada\"></input-switch>\n            <input-search [size]=\"4\" label=\"Unidade\" #unidade controlName=\"unidade_id\" [disabled]=\"filter!.controls.somente_unidade_atual.value ? 'true' : undefined\" [dao]=\"unidadeDao\" ></input-search>\n            <input-switch [size]=\"1\" label=\"Sub.\" controlName=\"unidades_subordinadas\" [control]=\"filter!.controls.unidades_subordinadas\" labelInfo=\"Incluir as unidades subordinadas\"></input-switch>\n        </div>\n        <div class=\"row\">\n            <input-text [size]=\"1\" label=\"#ID\" controlName=\"numero\" maskFormat=\"999999\" [control]=\"filter!.controls.numero\" [labelInfo]=\"'Número ' + lex.translate('atividade')\"></input-text>\n            <input-text [size]=\"3\" [label]=\"'Nº '+ lex.translate('Processo') +' (Sei)'\" maskFormat=\"00000.000000/0000-00\" controlName=\"numero_processo\" [control]=\"filter!.controls.numero_processo\" labelInfo=\"Pesquisa no documento de requisição, conclusão e nos documentos das tarefas\"></input-text>\n            <input-select [size]=\"3\" label=\"Status\" itemTodos=\"- Todos -\" [valueTodos]=\"null\" [disabled]=\"fixedFilter?.length && fixedFilter![0]![0] == 'status' ? 'true' : undefined\" controlName=\"status\" [control]=\"filter!.controls.status\" [items]=\"lookup.ATIVIDADE_STATUS_COM_ARQUIVADAS\"></input-select>\n            <input-multiselect noForm noBox [size]=\"4\" label=\"Etiquetas\" controlName=\"etiquetas\" [control]=\"filter!.controls.etiquetas\"></input-multiselect>\n            <input-switch [size]=\"1\" label=\"Arq.\" controlName=\"arquivadas\" [control]=\"filter!.controls.arquivadas\" labelInfo=\"Listar também atividades arquivadas\"></input-switch>\n        </div>\n        <div class=\"row\">\n            <input-search [size]=\"3\" [label]=\"lex.translate('Tipo de Atividade')\" controlName=\"tipo_atividade_id\" [dao]=\"tipoAtividadeDao\"></input-search>\n            <input-search [size]=\"3\" [label]=\"lex.translate('Tipo de Processo')\" controlName=\"tipo_processo_id\" [dao]=\"tipoProcessoDao\" ></input-search>\n            <input-select [size]=\"2\" label=\"Data\" itemTodos=\"- Todos -\" [valueTodos]=\"null\" controlName=\"data_filtro\" [control]=\"filter!.controls.data_filtro\" [items]=\"DATAS_FILTRO\"></input-select>\n            <input-datetime [size]=\"2\" noIcon [disabled]=\"filter!.controls.data_filtro.value == null ? 'true' : undefined\" label=\"Início\" controlName=\"data_inicio\" [control]=\"filter!.controls.data_inicio\" labelInfo=\"Data início do período\"></input-datetime>\n            <input-datetime [size]=\"2\" noIcon [disabled]=\"filter!.controls.data_filtro.value == null ? 'true' : undefined\" label=\"Fim\" controlName=\"data_fim\" [control]=\"filter!.controls.data_fim\" labelInfo=\"Data fim do período\"></input-datetime>\n        </div>\n    </filter>\n    <columns>\n        <column *ngIf=\"!selectable\" type=\"expand\" icon=\"bi bi-boxes\" [align]=\"'center'\" [hint]=\"lex.translate('Tarefas da atividade')\" [template]=\"columnTarefas\" [expandTemplate]=\"columnExpandedTarefas\">\n            <ng-template let-row=\"row\" #columnTarefas>\n                <span *ngIf=\"row.tarefas?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-boxes\"></i> {{row.tarefas?.length}}</span>\n            </ng-template>\n            <ng-template let-row=\"row\" #columnExpandedTarefas>\n                <atividade-list-tarefa persist [selectable]=\"selectable\" [editable]=\"!row.metadados.concluido\" [atividade]=\"row\"></atividade-list-tarefa>\n            </ng-template>\n        </column>\n        <column [titleTemplate]=\"titleIdNumeroStatus\" [template]=\"columnNumero\">\n            <ng-template let-header=\"header\" #titleIdNumeroStatus>\n                <order by=\"numero\" [header]=\"header\">#ID</order>/nº Processo<br>\n                Status\n            </ng-template>\n            <ng-template let-row=\"row\" #columnNumero>\n                <span class=\"text-nowrap\">\n                    <small class=\"micro-text fw-ligh\">#{{row.numero}}</small>\n                    <documentos-badge [documento]=\"row.documento_requisicao\"></documentos-badge>\n                </span>\n                <div class=\"one-per-line\">\n                    <badge *ngFor=\"let status of atividadeService.getStatus(row)\" [data]=\"status\" [color]=\"status.color\" [icon]=\"status.icon\" [label]=\"status.label\" [click]=\"status.data?.filter ? onStatusClick.bind(this) : undefined\"></badge>\n                </div>\n            </ng-template>\n        </column>\n        <column [titleTemplate]=\"titleUnResponsavelDemandante\" [template]=\"columnPessoas\">\n            <ng-template let-header=\"header\" #titleUnResponsavelDemandante>\n                Un./<order by=\"usuario.nome\" [header]=\"header\">Responsável</order><br>\n                <order by=\"demandante.nome\" [header]=\"header\">Demandante</order>\n            </ng-template>\n            <ng-template let-row=\"row\" #columnPessoas>\n                <div class=\"text-nowrap\">\n                    <badge icon=\"bi bi-briefcase\" color=\"light\" [label]=\"row.unidade.sigla\"></badge>\n                    <badge [icon]=\"'bi ' + (row.usuario?.nome?.length ? 'bi-person-check' : 'bi-person-x')\" color=\"light\" [label]=\"util.apelidoOuNome(row.usuario, true) || '(Não atribuído)'\" [hint]=\"'Responsável: ' + (row.usuario?.nome || 'Não atribuido a nenhum usuário')\"></badge>\n                </div>\n                <badge icon=\"bi bi-cursor\" color=\"light\" [label]=\"util.apelidoOuNome(row.demandante, true) || 'Desconhecido'\" [hint]=\"'Demandante: ' + (row.demandante?.nome || 'Desconhecido')\"></badge>\n            </ng-template>\n        </column>\n        <column [titleTemplate]=\"titleTempos\" [template]=\"columnTempos\">\n            <ng-template let-header=\"header\" #titleTempos>\n                Tempos\n                <order by=\"data_distribuicao\" [header]=\"header\">Distribuição</order><br>\n                <order by=\"data_estipulada_entrega\" [header]=\"header\">Prazo</order>\n                <order by=\"data_entrega\" [header]=\"header\">Entrega</order>\n            </ng-template>\n            <ng-template let-row=\"row\" #columnTempos>\n                <div class=\"one-per-line\">\n                    <badge *ngFor=\"let tempo of atividadeService.temposAtividade(row, extra, onDespendidoClick.bind(this))\" [badge]=\"tempo\"></badge>\n                </div>\n            </ng-template>\n        </column>\n        <column [title]=\"'Progresso\\nEtiquetas/Checklist'\" [editTemplate]=\"selectable ? undefined : columnProgressoEtiquetasChecklistEdit\" [template]=\"columnProgressoEtiquetasChecklist\" [edit]=\"selectable ? undefined : onColumnProgressoEtiquetasChecklistEdit.bind(this)\" [save]=\"selectable ? undefined : onColumnProgressoEtiquetasChecklistSave.bind(this)\">\n            <ng-template let-row=\"row\" #columnProgressoEtiquetasChecklist>\n                <progress-bar [value]=\"row.progresso\" color=\"success\"></progress-bar>\n                <badge *ngFor=\"let etiqueta of row.etiquetas\" [lookup]=\"etiqueta\" [click]=\"onEtiquetaClick.bind(this)\"></badge>\n                <separator *ngIf=\"row.checklist?.length\" small title=\"Checklist\"></separator>\n                <table *ngIf=\"row.checklist?.length\">\n                    <tr *ngFor=\"let check of row.checklist\">\n                        <td><i *ngIf=\"check.checked\" class=\"bi bi-check-circle\"></i></td>\n                        <td class=\"micro-text fw-ligh\">{{check.texto}}</td>\n                    </tr>\n                </table>\n            </ng-template>\n            <ng-template let-row=\"row\" #columnProgressoEtiquetasChecklistEdit>\n                <input-number [size]=\"12\" [decimals]=\"2\" label=\"Progresso\" sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso\" [control]=\"formEdit.controls.progresso\" labelInfo=\"Progresso de execução (% Concluído)\"></input-number>\n                <input-multiselect controlName=\"etiquetas\" [size]=\"12\" [control]=\"formEdit.controls.etiquetas\" [addItemHandle]=\"addItemHandleEtiquetas.bind(this)\">\n                    <input-select [size]=\"12\" #etiqueta controlName=\"etiqueta\" nullable itemNull=\"- Selecione -\" detailsButton detailsButtonIcon=\"bi bi-tools\" (details)=\"onEtiquetaConfigClick()\" [control]=\"formEdit.controls.etiqueta\" [items]=\"etiquetas\"></input-select>\n                </input-multiselect>\n                <separator *ngIf=\"row.checklist?.length\" small title=\"Checklist\"></separator>\n                <table *ngIf=\"row.checklist?.length\">\n                    <tr *ngFor=\"let check of checklist; let i = index\">\n                        <td>\n                            <input-switch [size]=\"12\" scale=\"small\" [source]=\"checklist\" [path]=\"i + '.checked'\"></input-switch>\n                        </td>\n                        <td class=\"micro-text fw-ligh\">{{check.texto}}</td>\n                    </tr>\n                </table>\n            </ng-template>\n        </column>\n        <column [title]=\"'Tipo de Atividade\\nDescrição'\" [template]=\"columnTitulo\">\n            <ng-template let-row=\"row\" #columnTitulo>\n                <small *ngIf=\"row.atividade\" class=\"atividade-atividade\"><strong>{{row.tipo_atividade.nome || \"\"}}</strong><br></small>\n                <span class=\"micro-text fw-ligh atividade-descricao\">{{row.descricao}}</span>\n                <comentarios-widget [entity]=\"row\" [selectable]=\"selectable\" origem=\"ATIVIDADE\" [grid]=\"grid\"></comentarios-widget>\n            </ng-template>\n        </column>\n        <column *ngIf=\"!selectable\" type=\"options\" [onEdit]=\"edit\" [onDelete]=\"delete\" [dynamicOptions]=\"dynamicOptions.bind(this)\" [dynamicButtons]=\"dynamicButtons.bind(this)\"></column>\n    </columns>\n    <pagination [rows]=\"rowsLimit\"></pagination>\n</grid>\n","import { Injectable } from '@angular/core';\nimport { BadgeButton } from 'src/app/components/badge/badge.component';\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\nimport { Afastamento } from 'src/app/models/afastamento.model';\nimport { Atividade } from 'src/app/models/atividade.model';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { CalendarService, FeriadoList } from 'src/app/services/calendar.service';\nimport { LexicalService } from 'src/app/services/lexical.service';\nimport { LookupService } from 'src/app/services/lookup.service';\nimport { UtilService } from 'src/app/services/util.service';\n\nexport type ExtraAtividade = {\n  planos_trabalho: { [plano_id: string]: PlanoTrabalho },\n  afastamentos: { [usuario_id: string]: Afastamento[] },\n  feriados?: { [unidade_id: string]: FeriadoList }\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AtividadeService {\n\n  constructor(\n    public lookup: LookupService,\n    public lex: LexicalService,\n    public calendar: CalendarService,\n    public auth: AuthService,\n    public util: UtilService,\n    public dao: AtividadeDaoService\n  ) { }\n\n  public getStatus(row: any): BadgeButton[] {\n    const atividade: Atividade = row as Atividade;\n    const status = this.lookup.ATIVIDADE_STATUS.find(x => x.key == atividade.status) || { key: \"DESCONHECIDO\", value: \"Desconhecido\", icon: \"bi bi-question-circle\", color: \"light\" };\n    let result: BadgeButton[] = [{ data: {status: status.key, filter: true}, label: status.value, icon: status.icon!, color: status.color! }];\n    if (atividade.metadados?.atrasado) result.push({ data: {status: \"ATRASADO\", filter: false}, label: \"Atrasado\", icon: \"bi bi-alarm\", color: \"danger\" });\n    if (atividade.metadados?.arquivado) result.push({ data: {status: \"ARQUIVADO\", filter: false}, label: \"Arquivado\", icon: \"bi bi-inboxes\", color: \"danger\" });\n    if (atividade.metadados && JSON.stringify(atividade.metadados._status) != JSON.stringify(result)) atividade.metadados._status = result;\n    return atividade.metadados?._status || result;\n  }\n\n  public temposAtividade(row: Atividade, extra?: ExtraAtividade, despendidoClick?: (atividade: Atividade) => void): BadgeButton[] {\n    /* Atualiza somente a cada mudança de minuto da unidade atual */\n    if (row.metadados && row.metadados.extra?.lastUpdate != this.auth.unidadeHora) {\n      let planoTrabalho = extra?.planos_trabalho[row.plano_trabalho_id!];\n      let tempos: BadgeButton[] = [\n        { color: \"light\", hint: this.lex.translate(\"Data de distribuição\"), icon: \"bi bi-file-earmark-plus\", label: this.dao.getDateTimeFormatted(row.data_distribuicao) },\n        { color: \"light\", hint: this.lex.translate(\"Prazo de entrega\"), icon: \"bi bi-calendar-check\", label: this.dao.getDateTimeFormatted(row.data_estipulada_entrega) }\n      ];\n      if (planoTrabalho?.tipo_modalidade?.atividade_esforco) tempos.push({ color: \"light\", hint: this.lex.translate(\"Esforço\"), icon: \"bi bi-stopwatch\", label: (row.esforco ? this.util.decimalToTimerFormated(row.esforco, true) + \" \" + this.lex.translate(\"esforço\") : \"Sem \" + this.lex.translate(\"esforço\"))});\n      if (row.metadados.concluido) tempos.push({ color: \"light\", hint: \"Data de entrega realizada\", icon: \"bi bi-check-circle\", label: this.dao.getDateTimeFormatted(row.data_entrega) });\n      if (row.metadados.iniciado && !!planoTrabalho?.tipo_modalidade?.atividade_tempo_despendido) {\n        const cargaHoraria = planoTrabalho?.carga_horaria || 0;\n        const afastamentos = extra?.afastamentos[row.usuario_id!] || [];\n        const despendido = row.metadados.concluido ? (row.tempo_despendido || 0) : this.calendar.horasUteis(row.data_inicio!, this.auth.hora, cargaHoraria, row.unidade!, \"ENTREGA\", row.pausas, afastamentos);\n        tempos.push({ color: (despendido > row.esforco ? \"warning\" : \"light\"), hint: \"Tempo despendido\", icon: \"bi bi-hourglass-split\", label: this.util.decimalToTimerFormated(despendido, true) + \" despendido\", click: !row.metadados.concluido ? despendidoClick : undefined, data: row });\n      }\n      if (!row.metadados.concluido && row.data_estipulada_entrega.getTime() < this.auth.hora.getTime()) {\n        const atrasado = this.calendar.horasAtraso(row.data_estipulada_entrega, row.unidade!);\n        tempos.push({ color: \"danger\", hint: \"Tempo de atraso\", icon: \"bi bi-alarm\", label: this.util.decimalToTimerFormated(atrasado, true) + \" atrasado\" });\n      }\n      row.metadados.extra = row.metadados.extra || {};\n      row.metadados.extra.lastUpdate = this.auth.unidadeHora;\n      row.metadados.extra.tempos = tempos;\n    }\n    return row.metadados?.extra?.tempos || [];\n  }\n\n}\n"],"names":["Base","AtividadeTarefa","constructor","data","documento","comentarios","descricao","data_lancamento","Date","tempo_estimado","concluido","documento_id","atividade_id","usuario_id","tipo_tarefa_id","initialization","PageListBase","UsuarioDaoService","UnidadeDaoService","Atividade","ListenerAllPagesService","CalendarService","AtividadeDaoService","TipoProcessoDaoService","ComentarioService","TipoAtividadeDaoService","AtividadeService","AtividadeListBase","injector","etiquetas","addComentarioButton","icon","hint","DATAS_FILTRO","key","value","color","unidadeDao","get","usuarioDao","tipoAtividadeDao","tipoProcessoDao","allPages","atividadeService","calendar","comentario","join","extra","planos_trabalho","afastamentos","onGridLoad","rows","forEach","atividade","orderComentarios","grid","query","Object","assign","planos","entries","reduce","a","v","find","x","id","push","feriados","feriadosCadastrados","cdRef","detectChanges","onAtribuidasParaMimChange","event","filter","controls","atribuidas_para_mim","setValue","auth","usuario","undefined","onSomenteUnidadeAtualChange","somente_unidade_atual","unidade_id","unidade","onDespendidoClick","row","metadados","cargaHoraria","plano_trabalho_id","carga_horaria","efemerides","calculaDataTempoUnidade","data_inicio","hora","pausas","dialog","template","title","calendarEfemerides","desarquivar","dao","arquivar","then","refreshId","catch","error","alert","message","confirm","arquivadas","removeId","dynamicOptions","result","isGestor","gestor","gestor_substituto","isDemandante","demandante_id","isResponsavel","BOTAO_INFORMACOES","label","onClick","go","navigate","route","modal","BOTAO_COMENTARIOS","modalRefreshId","BOTAO_CLONAR","modalRefresh","BOTAO_ALTERAR","BOTAO_EXCLUIR","delete","bind","BOTAO_PRORROGAR_PRAZO","BOTAO_INICIAR","BOTAO_CANCELAR_INICIO","cancelarInicio","BOTAO_ALTERAR_INICIO","BOTAO_PAUSAR","BOTAO_REINICIAR","params","reiniciar","BOTAO_CONCLUIR","BOTAO_ALTERAR_CONCLUSAO","BOTAO_CANCELAR_CONCLUSAO","cancelarConclusao","BOTAO_ARQUIVAR","BOTAO_DESARQUIVAR","arquivado","iniciado","hasPermissionTo","length","divider","pausado","self","dynamicButtons","BOTAO_ALTERAR_AVALIACAO","avaliado","onEtiquetaConfigClick","modalClose","modalResult","util","merge","config","b","comentarioClick","element","getAttribute","setAttribute","addComentarioClick","GridComponent","i0","ɵɵelement","ɵɵproperty","ctx_r1","ɵɵelementStart","ɵɵlistener","AtividadeListGridComponent_toolbar_3_Template_input_switch_change_1_listener","$event","ɵɵrestoreView","_r26","ctx_r25","ɵɵnextContext","ɵɵresetView","onAgruparChange","ɵɵelementEnd","ɵɵadvance","ctx_r2","agrupar","ɵɵtext","ɵɵtextInterpolate1","row_r31","tarefas","ɵɵtemplate","AtividadeListGridComponent_column_26_ng_template_1_span_0_Template","ctx_r30","selectable","row_r34","AtividadeListGridComponent_column_26_ng_template_1_Template","ɵɵtemplateRefExtractor","AtividadeListGridComponent_column_26_ng_template_3_Template","ctx_r5","lex","translate","_r27","_r29","header_r35","status_r38","ctx_r37","onStatusClick","AtividadeListGridComponent_ng_template_30_badge_5_Template","row_r36","numero","documento_requisicao","ctx_r9","getStatus","header_r39","row_r40","sigla","nome","ctx_r13","apelidoOuNome","demandante","header_r41","tempo_r44","AtividadeListGridComponent_ng_template_40_badge_1_Template","ctx_r17","temposAtividade","row_r42","etiqueta_r49","ctx_r46","onEtiquetaClick","AtividadeListGridComponent_ng_template_43_table_3_tr_1_i_2_Template","check_r51","checked","ɵɵtextInterpolate","texto","AtividadeListGridComponent_ng_template_43_table_3_tr_1_Template","row_r45","checklist","AtividadeListGridComponent_ng_template_43_badge_1_Template","AtividadeListGridComponent_ng_template_43_separator_2_Template","AtividadeListGridComponent_ng_template_43_table_3_Template","progresso","ctx_r58","i_r60","check_r59","AtividadeListGridComponent_ng_template_45_table_5_tr_1_Template","ctx_r57","AtividadeListGridComponent_ng_template_45_Template_input_select_details_2_listener","_r62","ctx_r61","AtividadeListGridComponent_ng_template_45_separator_4_Template","AtividadeListGridComponent_ng_template_45_table_5_Template","ctx_r21","formEdit","addItemHandleEtiquetas","etiqueta","row_r54","row_r63","tipo_atividade","AtividadeListGridComponent_ng_template_48_small_0_Template","ctx_r23","ctx_r24","edit","AtividadeListGridComponent","minhas","storeFilter","form","unidades_subordinadas","filterWhere","fixedFilter","map","numero_processo","status","tipo_atividade_id","tipo_processo_id","data_filtro","field","data_fim","code","modalWidth","fh","FormBuilder","default","groupBy","ngAfterViewInit","metadata","reloadFilter","showFilter","onColumnProgressoEtiquetasChecklistEdit","_this","_asyncToGenerator","clone","onColumnProgressoEtiquetasChecklistSave","_this2","saved","update","filterClear","selectedItem","item","textHash","validateLookupItem","_class","selectRoute","ɵɵdirectiveInject","Injector","selectors","viewQuery","AtividadeListGridComponent_Query","rf","ctx","AtividadeListGridComponent_ng_template_0_Template","AtividadeListGridComponent_Template_grid_select_2_listener","onSelect","AtividadeListGridComponent_toolbar_3_Template","AtividadeListGridComponent_Template_input_switch_change_6_listener","AtividadeListGridComponent_Template_input_switch_change_9_listener","AtividadeListGridComponent_column_26_Template","AtividadeListGridComponent_ng_template_28_Template","AtividadeListGridComponent_ng_template_30_Template","AtividadeListGridComponent_ng_template_33_Template","AtividadeListGridComponent_ng_template_35_Template","AtividadeListGridComponent_ng_template_38_Template","AtividadeListGridComponent_ng_template_40_Template","AtividadeListGridComponent_ng_template_43_Template","AtividadeListGridComponent_ng_template_45_Template","AtividadeListGridComponent_ng_template_48_Template","AtividadeListGridComponent_column_50_Template","add","orderBy","filterSubmit","filterCollapseChange","queryParams","filterCollapsed","lookup","ATIVIDADE_STATUS_COM_ARQUIVADAS","_r6","_r8","_r10","_r12","_r14","_r16","_r20","_r18","_r22","rowsLimit","ATIVIDADE_STATUS","atrasado","JSON","stringify","_status","despendidoClick","lastUpdate","unidadeHora","planoTrabalho","tempos","getDateTimeFormatted","data_distribuicao","data_estipulada_entrega","tipo_modalidade","atividade_esforco","esforco","decimalToTimerFormated","data_entrega","atividade_tempo_despendido","despendido","tempo_despendido","horasUteis","click","getTime","horasAtraso","ɵɵinject","i1","LookupService","i2","LexicalService","i3","i4","AuthService","i5","UtilService","i6","factory","ɵfac","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}