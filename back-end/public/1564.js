"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[1564],{51564:(w,v,a)=>{a.r(v),a.d(v,{TipoMotivoAfastamentoModule:()=>F});var h=a(76733),g=a(55579),u=a(1391),p=a(2314),T=a(74040),A=a(94002),Z=a(64368);class c extends Z.X{constructor(e){super(),this.codigo=null,this.nome="",this.icone="",this.cor="",this.horas=0,this.integracao=0,this.initialization(e)}}var m,I=a(1184),o=a(20755),M=a(92392),y=a(48877),z=a(64603),E=a(66848);class f extends I.F{constructor(e){super(e,c,A.n),this.injector=e,this.validate=(t,n)=>{let s=null;return["nome"].indexOf(n)>=0&&!t.value?.length?s="Obrigat\xf3rio":["integracao"].indexOf(n)>=0&&1==t.value&&(s="A integra\xe7\xe3o \xe9 feita automaticamente."),s},this.titleEdit=t=>"Editando "+this.lex.translate("Tipo de Motivo de Afastamento")+": "+(t?.nome||""),this.title=this.lex.translate("Motivos de Afastamento"),this.form=this.fh.FormBuilder({codigo:{default:null},nome:{default:""},icone:{default:""},cor:{default:""},horas:{default:1},integracao:{default:0}},this.cdRef,this.validate)}checkIntegracao(){const e=!this.form?.controls.integracao.value;return e&&null!=this.form?.controls.codigo.value&&(this.form?.controls.codigo.setValue(null),this.cdRef.markForCheck()),e?"disable":void 0}loadData(e,t){let n=Object.assign({},t.value);t.patchValue(this.util.fillForm(n,e))}initializeData(e){e.patchValue(new c)}saveData(e){return new Promise((t,n)=>{const s=this.util.fill(new c,this.entity);t(this.util.fillForm(s,this.form.value))})}}(m=f).\u0275fac=function(e){return new(e||m)(o.Y36(o.zs3))},m.\u0275cmp=o.Xpm({type:m,selectors:[["app-tipo-motivo-afastamento-form"]],viewQuery:function(e,t){if(1&e&&o.Gf(T.Q,5),2&e){let n;o.iGM(n=o.CRH())&&(t.editableForm=n.first)}},features:[o.qOj],decls:9,vars:15,consts:[["initialFocus","nome",3,"form","disabled","title","submit","cancel"],[1,"row"],["label","Descri\xe7\xe3o","controlName","nome","required","",3,"size"],["label","Integra\xe7\xe3o","controlName","integracao","labelInfo","Se esse motivo \xe9 integrado a outro sistema. ","required","",3,"size","items"],["label","C\xf3digo","controlName","codigo","labelInfo","C\xf3digo do Motivo de Afastamento vindo de outro sistema. ",3,"size","disabled"],["label","Formato","controlName","horas","labelInfo","Se o afastamento ser\xe1 contado em Dias ou em Horas. ",3,"size","items"],["label","\xcdcone","controlName","icone",3,"size","items"],["label","Cor","controlName","cor",3,"size"]],template:function(e,t){1&e&&(o.TgZ(0,"editable-form",0),o.NdJ("submit",function(){return t.onSaveData()})("cancel",function(){return t.onCancel()}),o.TgZ(1,"div",1),o._UZ(2,"input-text",2)(3,"input-radio",3)(4,"input-text",4),o.qZA(),o.TgZ(5,"div",1),o._UZ(6,"input-radio",5)(7,"input-select",6)(8,"input-color",7),o.qZA()()),2&e&&(o.Q6J("form",t.form)("disabled",t.formDisabled)("title",t.isModal?"":t.title),o.xp6(2),o.Q6J("size",7),o.uIk("maxlength",250),o.xp6(1),o.Q6J("size",2)("items",t.lookup.SIMNAO),o.xp6(1),o.Q6J("size",3)("disabled",t.checkIntegracao()),o.uIk("maxlength",250),o.xp6(2),o.Q6J("size",3)("items",t.lookup.FORMATO_HORA),o.xp6(1),o.Q6J("size",5)("items",t.lookup.ICONES),o.xp6(1),o.Q6J("size",4))},dependencies:[T.Q,M.m,y.f,z.p,E.z]});var d,l,C=a(73150),Q=a(78509),D=a(57224),J=a(83351),N=a(57765),L=a(45512),U=a(42704);function B(i,e){1&i&&o._UZ(0,"toolbar")}function P(i,e){if(1&i&&(o._UZ(0,"i"),o.TgZ(1,"span"),o._uU(2),o.qZA()),2&i){const t=e.row;o.Tol(t.icone),o.Udp("color",t.cor),o.xp6(1),o.Udp("color",t.cor),o.xp6(1),o.hij(" ",t.nome,"")}}function R(i,e){if(1&i&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&i){const t=e.row;o.xp6(1),o.Oqu(t.horas?"Horas":"Dias")}}function _(i,e){if(1&i&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&i){const t=e.row;o.xp6(1),o.Oqu(t.integracao?"Sim (c\xf3d. "+t.codigo+")":"N\xe3o")}}class b extends Q.E{constructor(e){super(e,c,A.n),this.injector=e,this.filterWhere=t=>{let n=[],s=t.value;return s.nome?.length&&n.push(["nome","like","%"+s.nome.trim().replace(" ","%")+"%"]),n},this.title=this.lex.translate("Motivos de Afastamento"),this.code="MOD_TIPO_MTV_AFT",this.filter=this.fh.FormBuilder({codigo:{default:null},nome:{default:""},icone:{default:""},cor:{default:""},horas:{default:""},integracao:{default:""},data_inicio:{default:""},data_fim:{default:""}}),this.auth.hasPermissionTo("MOD_TIPO_MTV_AFT")&&this.options.push({icon:"bi bi-info-circle",label:"Informa\xe7\xf5es",onClick:this.consult.bind(this)}),this.auth.hasPermissionTo("MOD_TIPO_MTV_AFT_EXCL")&&this.options.push({icon:"bi bi-trash",label:"Excluir",onClick:this.delete.bind(this)}),this.addOption(this.OPTION_LOGS,"MOD_AUDIT_LOG")}filterClear(e){e.controls.nome.setValue(""),super.filterClear(e)}}(d=b).\u0275fac=function(e){return new(e||d)(o.Y36(o.zs3))},d.\u0275cmp=o.Xpm({type:d,selectors:[["app-tipo-motivo-afastamento-list"]],viewQuery:function(e,t){if(1&e&&o.Gf(C.M,5),2&e){let n;o.iGM(n=o.CRH())&&(t.grid=n.first)}},features:[o.qOj],decls:17,vars:27,consts:[[3,"dao","add","title","orderBy","groupBy","join","selectable","hasAdd","hasEdit","select"],[4,"ngIf"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["controlName","nome","placeholder","Nome...",3,"size","label","control"],["title","Descri\xe7\xe3o",3,"template"],["columnDescricao",""],["title","Formato",3,"template"],["columnEmHoras",""],["title","Integrado",3,"template"],["columnIntegrado",""],["type","options",3,"onEdit","options"],[3,"rows"]],template:function(e,t){if(1&e&&(o.TgZ(0,"grid",0),o.NdJ("select",function(s){return t.onSelect(s)}),o.YNc(1,B,1,0,"toolbar",1),o.TgZ(2,"filter",2)(3,"div",3),o._UZ(4,"input-text",4),o.qZA()(),o.TgZ(5,"columns")(6,"column",5),o.YNc(7,P,3,7,"ng-template",null,6,o.W1O),o.qZA(),o.TgZ(9,"column",7),o.YNc(10,R,2,1,"ng-template",null,8,o.W1O),o.qZA(),o.TgZ(12,"column",9),o.YNc(13,_,2,1,"ng-template",null,10,o.W1O),o.qZA(),o._UZ(15,"column",11),o.qZA(),o._UZ(16,"pagination",12),o.qZA()),2&e){const n=o.MAs(8),s=o.MAs(11),V=o.MAs(14);o.Q6J("dao",t.dao)("add",t.add)("title",t.isModal?"":t.title)("orderBy",t.orderBy)("groupBy",t.groupBy)("join",t.join)("selectable",t.selectable)("hasAdd",t.auth.hasPermissionTo("MOD_TIPO_MTV_AFT_INCL"))("hasEdit",t.auth.hasPermissionTo("MOD_TIPO_MTV_AFT_EDT")),o.xp6(1),o.Q6J("ngIf",!t.selectable),o.xp6(1),o.Q6J("deleted",t.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",t.filter)("where",t.filterWhere)("submit",t.filterSubmit.bind(t))("clear",t.filterClear.bind(t))("collapseChange",t.filterCollapseChange.bind(t))("collapsed",!t.selectable&&t.filterCollapsed),o.xp6(2),o.Q6J("size",12)("label","Nome "+t.lex.translate("motivo de afastamento"))("control",t.filter.controls.nome),o.uIk("maxlength",250),o.xp6(2),o.Q6J("template",n),o.xp6(3),o.Q6J("template",s),o.xp6(3),o.Q6J("template",V),o.xp6(3),o.Q6J("onEdit",t.edit)("options",t.options),o.xp6(1),o.Q6J("rows",t.rowsLimit)}},dependencies:[h.O5,C.M,D.a,J.b,N.z,L.n,U.Q,M.m]});const S=[{path:"",component:b,canActivate:[u.a],resolve:{config:p.o},runGuardsAndResolvers:"always",data:{title:"Motivos de Afastamento"}},{path:"new",component:f,canActivate:[u.a],resolve:{config:p.o},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o de Motivos de Afastamento",modal:!0}},{path:":id/edit",component:f,canActivate:[u.a],resolve:{config:p.o},runGuardsAndResolvers:"always",data:{title:"Edi\xe7\xe3o de Motivos de Afastamento",modal:!0}},{path:":id/consult",component:f,canActivate:[u.a],resolve:{config:p.o},runGuardsAndResolvers:"always",data:{title:"Consulta a Motivos de Afastamento",modal:!0}}];class O{}(l=O).\u0275fac=function(e){return new(e||l)},l.\u0275mod=o.oAB({type:l}),l.\u0275inj=o.cJS({imports:[g.Bz.forChild(S),g.Bz]});var r,j=a(58568),G=a(72133);class F{}(r=F).\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[h.ez,j.K,G.UX,O]})}}]);