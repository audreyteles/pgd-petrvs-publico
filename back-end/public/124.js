"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[124],{70124:(V,h,i)=>{i.r(h),i.d(h,{EixoTematicoModule:()=>Z});var v=i(76733),A=i(72133),M=i(58568),T=i(55579),d=i(1391),u=i(2314),Q=i(8239),E=i(74040),g=i(1240),z=i(64368);class p extends z.X{constructor(t){super(),this.nome="",this.icone="",this.cor="",this.descricao="",this.initialization(t)}}var m,F=i(1184),o=i(20755),C=i(92392),D=i(74508),J=i(64603),N=i(66848);class f extends F.F{constructor(t){super(t,p,g.e),this.injector=t,this.validate=(e,n)=>null,this.titleEdit=e=>"Editando "+this.lex.translate("Eixo Tem\xe1tico")+": "+(e?.nome||""),this.form=this.fh.FormBuilder({nome:{default:""},icone:{default:""},cor:{default:""},descricao:{default:""}},this.cdRef,this.validate)}loadData(t,e){let n=Object.assign({},e.value);e.patchValue(this.util.fillForm(n,t))}initializeData(t){t.patchValue(new p)}saveData(t){var e=this;return(0,Q.Z)(function*(){return new Promise((n,r)=>{const j=e.util.fill(new p,e.entity);n(e.util.fillForm(j,e.form.value))})})()}}(m=f).\u0275fac=function(t){return new(t||m)(o.Y36(o.zs3))},m.\u0275cmp=o.Xpm({type:m,selectors:[["app-eixo-tematico-form"]],viewQuery:function(t,e){if(1&t&&o.Gf(E.Q,5),2&t){let n;o.iGM(n=o.CRH())&&(e.editableForm=n.first)}},features:[o.qOj],decls:10,vars:12,consts:[["initialFocus","nome",3,"form","disabled","title","submit","cancel"],[1,"row"],["controlName","nome","required","",3,"size","label"],[1,"col"],["label","Descri\xe7\xe3o","controlName","descricao","required","",3,"size","rows"],["label","\xcdcone","icon","fas fa-sign-out-alt","controlName","icone","required","",3,"size","items"],["background","","label","Cor","controlName","cor","required","",3,"size"]],template:function(t,e){1&t&&(o.TgZ(0,"editable-form",0),o.NdJ("submit",function(){return e.onSaveData()})("cancel",function(){return e.onCancel()}),o.TgZ(1,"div",1)(2,"div",1),o._UZ(3,"input-text",2),o.qZA(),o.TgZ(4,"div",1)(5,"div",3),o._UZ(6,"input-textarea",4),o.qZA(),o.TgZ(7,"div",3),o._UZ(8,"input-select",5)(9,"input-color",6),o.qZA()()()()),2&t&&(o.Q6J("form",e.form)("disabled",e.formDisabled)("title",e.isModal?"":e.title),o.xp6(3),o.Q6J("size",12)("label","Nome "+e.lex.translate("do eixo tem\xe1tico")),o.uIk("maxlength",250),o.xp6(3),o.Q6J("size",8)("rows",4),o.uIk("maxlength",250),o.xp6(2),o.Q6J("size",3)("items",e.lookup.ICONES),o.xp6(1),o.Q6J("size",3))},dependencies:[E.Q,C.m,D.Q,J.p,N.z]});var c,l,x=i(73150),O=i(78509),L=i(57224),I=i(83351),B=i(57765),G=i(45512),U=i(42704),R=i(95489);function X(a,t){1&a&&o._UZ(0,"toolbar")}function P(a,t){if(1&a&&o._UZ(0,"badge",9),2&a){const e=t.row;o.Q6J("color",e.cor)("icon",e.icone)("label",e.nome)("hint",e.nome)}}class b extends O.E{constructor(t){super(t,p,g.e),this.injector=t,this.filterWhere=e=>{let n=[],r=e.value;return r.nome?.length&&n.push(["nome","like","%"+r.nome.trim().replace(" ","%")+"%"]),n},this.title=this.lex.translate("Eixos Tem\xe1ticos"),this.orderBy=[["nome","asc"]],this.filter=this.fh.FormBuilder({nome:{default:""}}),this.auth.hasPermissionTo("MOD_EXTM")&&this.options.push({icon:"bi bi-info-circle",label:"Informa\xe7\xf5es",onClick:this.consult.bind(this)}),this.auth.hasPermissionTo("MOD_EXTM_EXCL")&&this.options.push({icon:"bi bi-trash",label:"Excluir",onClick:this.delete.bind(this)}),this.addOption(this.OPTION_LOGS,"MOD_AUDIT_LOG")}filterClear(t){t.controls.nome.setValue(""),super.filterClear(t)}}(c=b).\u0275fac=function(t){return new(t||c)(o.Y36(o.zs3))},c.\u0275cmp=o.Xpm({type:c,selectors:[["app-eixo-tematico-list"]],viewQuery:function(t,e){if(1&t&&o.Gf(x.M,5),2&t){let n;o.iGM(n=o.CRH())&&(e.grid=n.first)}},features:[o.qOj],decls:11,vars:24,consts:[[3,"dao","add","title","hasAdd","hasEdit","selectable","orderBy","select"],[4,"ngIf"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["controlName","nome",3,"size","label","control","placeholder"],["title","Nome","orderBy","nome",3,"template"],["columnNome",""],["type","options",3,"onEdit","options"],[3,"rows"],[3,"color","icon","label","hint"]],template:function(t,e){if(1&t&&(o.TgZ(0,"grid",0),o.NdJ("select",function(r){return e.onSelect(r)}),o.YNc(1,X,1,0,"toolbar",1),o.TgZ(2,"filter",2)(3,"div",3),o._UZ(4,"input-text",4),o.qZA()(),o.TgZ(5,"columns")(6,"column",5),o.YNc(7,P,1,4,"ng-template",null,6,o.W1O),o.qZA(),o._UZ(9,"column",7),o.qZA(),o._UZ(10,"pagination",8),o.qZA()),2&t){const n=o.MAs(8);o.Q6J("dao",e.dao)("add",e.add)("title",e.isModal?"":e.title)("hasAdd",e.auth.hasPermissionTo("MOD_EXTM_INCL"))("hasEdit",e.auth.hasPermissionTo("MOD_EXTM_EDT"))("selectable",e.selectable)("orderBy",e.orderBy),o.xp6(1),o.Q6J("ngIf",!e.selectable),o.xp6(1),o.Q6J("deleted",e.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",e.filter)("where",e.filterWhere)("submit",e.filterSubmit.bind(e))("clear",e.filterClear.bind(e))("collapseChange",e.filterCollapseChange.bind(e))("collapsed",!e.selectable&&e.filterCollapsed),o.xp6(2),o.Q6J("size",12)("label",e.lex.translate("Eixo tem\xe1tico"))("control",e.filter.controls.nome)("placeholder","Nome "+e.lex.translate("eixo tem\xe1tico")+"..."),o.uIk("maxlength",250),o.xp6(2),o.Q6J("template",n),o.xp6(3),o.Q6J("onEdit",e.edit)("options",e.options),o.xp6(1),o.Q6J("rows",e.rowsLimit)}},dependencies:[v.O5,x.M,L.a,I.b,B.z,G.n,U.Q,C.m,R.F]});const S=[{path:"",component:b,canActivate:[d.a],resolve:{config:u.o},runGuardsAndResolvers:"always",data:{title:"Eixos Tem\xe1ticos"}},{path:"new",component:f,canActivate:[d.a],resolve:{config:u.o},runGuardsAndResolvers:"always",data:{title:"Incluir Eixo Tem\xe1tico",modal:!0}},{path:":id/edit",component:f,canActivate:[d.a],resolve:{config:u.o},runGuardsAndResolvers:"always",data:{title:"Editar Eixo Tem\xe1tico",modal:!0}},{path:":id/consult",component:f,canActivate:[d.a],resolve:{config:u.o},runGuardsAndResolvers:"always",data:{title:"Consultar Eixo Tem\xe1tico",modal:!0}}];class y{}var s;(l=y).\u0275fac=function(t){return new(t||l)},l.\u0275mod=o.oAB({type:l}),l.\u0275inj=o.cJS({imports:[T.Bz.forChild(S),T.Bz]});class Z{}(s=Z).\u0275fac=function(t){return new(t||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({imports:[v.ez,M.K,A.UX,y]})}}]);