{"version":3,"file":"205.js","mappings":"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","sources":["./src/app/dao/query-options.ts","./src/app/models/capacidade.model.ts","./src/app/models/perfil.model.ts","./src/app/modules/configuracoes/perfil/perfil-form/perfil-form.component.ts","./src/app/modules/configuracoes/perfil/perfil-form/perfil-form.component.html","./src/app/modules/configuracoes/perfil/perfil-list/perfil-list.component.ts","./src/app/modules/configuracoes/perfil/perfil-list/perfil-list.component.html","./src/app/modules/configuracoes/perfil/perfil-routing.module.ts","./src/app/modules/configuracoes/perfil/perfil.module.ts"],"sourcesContent":["import { QueryOrderBy } from \"./dao-base.service\";\r\n\r\nexport class QueryOptions {\r\n    public where?: any;\r\n    public orderBy?: QueryOrderBy[];\r\n    public limit?: number;\r\n    public join?: string[];\r\n    \r\n    constructor(data?: any) {\r\n        if(data) Object.assign(this, data);\r\n    }\r\n}","import { Base } from './base.model';\r\nimport { Perfil } from './perfil.model';\r\nimport { TipoCapacidade } from './tipo-capacidade.model';\r\n\r\nexport class Capacidade extends Base {\r\n    public perfil?: Perfil;\r\n    public tipo_capacidade?: TipoCapacidade;\r\n\r\n    public perfil_id: string | null = null; /* ID do Perfil */\r\n    public tipo_capacidade_id: string = \"\"; /* ID do Tipo_capacidade  */\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}\r\n","import { Base } from './base.model';\r\nimport { Capacidade } from './capacidade.model';\r\n\r\nexport class Perfil extends Base {\r\n    public capacidades?: Capacidade[]; /* Objecto com lista de capacidades */\r\n\r\n    public nivel: number = 0; /* Nível de permissões */\r\n    public nome: string = \"\"; /* Nome do perfil */\r\n    public descricao: string = \"\"; /* Descrição sobre o perfil */\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { PerfilDaoService } from 'src/app/dao/perfil-dao.service';\r\nimport { QueryOptions } from 'src/app/dao/query-options';\r\nimport { TipoCapacidadeDaoService } from 'src/app/dao/tipo-capacidade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Capacidade } from 'src/app/models/capacidade.model';\r\nimport { Perfil } from 'src/app/models/perfil.model';\r\nimport { TipoCapacidade } from 'src/app/models/tipo-capacidade.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\n\r\n@Component({\r\n  selector: 'app-perfil-form',\r\n  templateUrl: './perfil-form.component.html',\r\n  styleUrls: ['./perfil-form.component.scss']\r\n})\r\nexport class PerfilFormComponent extends PageFormBase<Perfil, PerfilDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(GridComponent, { static: false }) public gridPai?: GridComponent;  \r\n\r\n  public tiposCapacidades: TipoCapacidade[] = [];\r\n  public tipoCapacidadeDao: TipoCapacidadeDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Perfil, PerfilDaoService);\r\n    this.tipoCapacidadeDao = injector.get<TipoCapacidadeDaoService>(TipoCapacidadeDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      nome: {default: \"\"},\r\n      descricao: {default: \"\"},\r\n      nivel: {default: \"\"},\r\n      data_inicio: {default: \"\"},\r\n      data_fim: {default: \"\"}\r\n    }, this.cdRef, this.validate);\r\n    this.join = [\"capacidades.tipo_capacidade\"];\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n\r\n    if(['nome', 'descricao'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: Perfil, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    this.entity = entity;\r\n    var queryOptions: QueryOptions = new QueryOptions({\r\n      where: [[\"grupo_id\", \"==\", null]],\r\n      orderBy: [[\"codigo\", \"asc\"]],\r\n      join: [\"grupos\"]\r\n    });\r\n    this.tiposCapacidades = await this.tipoCapacidadeDao.query(queryOptions).asPromise();\r\n    formValue = this.util.fillForm(formValue, entity);\r\n    for(let tipoCapacidade of this.tiposCapacidades) {\r\n      const capacidade = entity.capacidades?.find(x => (x.tipo_capacidade?.codigo == tipoCapacidade.codigo));\r\n      tipoCapacidade._metadata = Object.assign(tipoCapacidade._metadata || {}, {habilitado: !!capacidade});\r\n      if (capacidade) console.log(capacidade.tipo_capacidade?.codigo)\r\n      for (let tipoCapacidadeFilha of tipoCapacidade.grupos) {\r\n        const capacidadeFilha = entity.capacidades?.find(x => (x.tipo_capacidade?.codigo == tipoCapacidadeFilha.codigo));\r\n        tipoCapacidadeFilha._metadata = Object.assign(tipoCapacidadeFilha._metadata || {}, {habilitado: !!capacidadeFilha});\r\n      }\r\n    }\r\n    form.patchValue(formValue);\r\n  }\r\n\r\n  public onHabilitadoChange(row: TipoCapacidade, habilitado: boolean) {\r\n    let capacidade = this.entity!.capacidades?.find(x => x.tipo_capacidade_id == row.id);\r\n    if(habilitado) {\r\n      if(capacidade && capacidade._status == \"DELETE\") capacidade._status = undefined;\r\n      if(!capacidade) this.entity!.capacidades!.push(new Capacidade({\r\n        tipo_capacidade_id: row.id,\r\n        perfil_id: this.entity!.id,\r\n        _status: \"ADD\"\r\n      }));\r\n    } else {\r\n      if(capacidade && !capacidade._status) capacidade._status = \"DELETE\";\r\n      if(capacidade && capacidade._status == \"ADD\") this.entity!.capacidades!.splice(this.entity!.capacidades!.findIndex(x => x.tipo_capacidade_id == row.id), 1);\r\n      for(let grupo of row.grupos) {\r\n        grupo._metadata = Object.assign(grupo._metadata || {}, {habilitado: false});\r\n        let subCapacidade = this.entity!.capacidades?.find(x => x.tipo_capacidade_id == grupo.id);\r\n        if(subCapacidade && !subCapacidade._status) subCapacidade._status = \"DELETE\";\r\n        if(subCapacidade && subCapacidade._status == \"ADD\") this.entity!.capacidades!.splice(this.entity!.capacidades!.findIndex(x => x.tipo_capacidade_id == grupo.id), 1);\r\n      }\r\n    }\r\n    this.refreshCapacidadesHabilitadas()\r\n  }\r\n  public async refreshCapacidadesHabilitadas() {\r\n    let formValue = Object.assign({}, this.form!.value);\r\n    formValue = this.util.fillForm(formValue, this.entity);\r\n    this.form!.patchValue(formValue);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onHabilitadoChangeFilha(row: TipoCapacidade, habilitado: boolean) {\r\n    let capacidade = this.entity!.capacidades?.find(x => x.tipo_capacidade_id == row.id);\r\n    let pai = this.tiposCapacidades.find(x => x.id == row.grupo_id);\r\n    if(habilitado) {\r\n      if(!pai!._metadata.habilitado) {\r\n        pai!._metadata = Object.assign(pai!._metadata || {}, {habilitado: true});\r\n        let capacidadePai = this.entity!.capacidades?.find(x => x.tipo_capacidade_id == pai!.id);\r\n        if(capacidadePai && capacidadePai._status == \"DELETE\") capacidadePai._status = undefined;\r\n        if(!capacidadePai) this.entity!.capacidades!.push(new Capacidade({\r\n          tipo_capacidade_id: pai!.id,\r\n          perfil_id: this.entity!.id,\r\n          _status: \"ADD\"\r\n        }));\r\n      }\r\n      if(capacidade && capacidade._status == \"DELETE\") capacidade._status = undefined;\r\n      if(!capacidade) this.entity!.capacidades!.push(new Capacidade({\r\n        tipo_capacidade_id: row.id,\r\n        perfil_id: this.entity!.id,\r\n        _status: \"ADD\"\r\n      }));\r\n    } else {\r\n      if(capacidade && !capacidade._status) capacidade._status = \"DELETE\";\r\n      if(capacidade && capacidade._status == \"ADD\") this.entity!.capacidades!.splice(this.entity!.capacidades!.findIndex(x => x.tipo_capacidade_id == row.id), 1);\r\n    }\r\n    this.refreshCapacidadesHabilitadas();\r\n  }\r\n  public initializeData(form: FormGroup): void {\r\n    form.patchValue(new Perfil());\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<Perfil> {\r\n    return new Promise<Perfil>((resolve, reject) => {\r\n      let perfil: Perfil = this.util.fill(new Perfil(), this.entity!);\r\n      perfil = this.util.fillForm(perfil, this.form!.value);\r\n      perfil.capacidades = perfil.capacidades!.filter(x => [\"ADD\", \"DELETE\"].includes(x._status || \"\"));\r\n      resolve(perfil);\r\n    });\r\n  }\r\n\r\n  public titleEdit = (entity: Perfil): string => {\r\n    return \"Editando \" + this.lex.translate(\"Perfil\") + ': ' + (entity?.nome || \"\");\r\n  }\r\n}","<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>\r\n<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" initialFocus=\"nome\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right>\r\n        <tab key=\"PRINCIPAL\" label=\"Principal\">\r\n            <div class=\"row\">\r\n                <input-text [size]=\"10\" label=\"Nome\" controlName=\"nome\" [attr.maxlength]=250 required></input-text>\r\n                <input-text numbers [size]=\"2\" label=\"Nível\" controlName=\"nivel\" [attr.maxlength]=250></input-text>\r\n            </div>\r\n            <div class=\"row\">\r\n                <input-text [size]=\"12\" label=\"Descrição\" controlName=\"descricao\" [attr.maxlength]=250 required></input-text>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"CAPACIDADES\" *ngIf=\"auth.hasPermissionTo('MOD_TIPO_CAP_CONS')\" [label]=\"lex.noun('Capacidade',true)\">\r\n            <grid #gridPai [items]=\"tiposCapacidades\" [scrollable]=\"true\">\r\n                <columns>\r\n                    <column type=\"expand\" icon=\"bi bi-shield-lock\" [align]=\"'center'\" [hint]=\"'Lista das capacidades com status módulo'\" [template]=\"columnCapacidades\" [expandTemplate]=\"columnExpandedCapacidades\" [minWidth]=\"50\">\r\n                        <ng-template let-row=\"row\" #columnCapacidades>\r\n                            <span *ngIf=\"row.grupos?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-grid\"></i> {{row.grupos?.length}}</span>\r\n                        </ng-template>\r\n                        <ng-template let-row=\"row\" #columnExpandedCapacidades style=\"justify-content: inherit;\">\r\n                            <table class=\"table table-hover\" >\r\n                                <tbody>\r\n                                    <tr *ngFor=\"let row of row.grupos\">\r\n                                        <td>\r\n                                            <div style=\"width: 220px;\">\r\n                                            <span class=\"text-wrap text-center\">\r\n                                                <small class=\"micro-text fw-light\"><i class=\"bi bi-key\"></i>  {{ row.codigo }}</small>\r\n                                                <span class=\"badge bg-light text-dark\">\r\n                                                </span>\r\n                                            </span>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td>\r\n                                            <div style=\"width: 450px;\">\r\n                                                <span class=\"badge bg-light text-dark text-wrap\">{{ row.descricao }}</span>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td style=\"text-align: right;\">\r\n                                            <div style=\"width: 60px; margin-left: 40px;\">\r\n                                                <span class=\"text-align\">\r\n                                                    <input-switch scale=\"medium\" [size]=\"1\" class=\"text-align\" [size]=\"2\" #habilitado [disabled]=\"action == 'consult' ? 'true' : undefined\" [source]=\"row\" path=\"_metadata.habilitado\" (change)=\"onHabilitadoChangeFilha(row, habilitado.value)\" style=\"right: 10px;\"></input-switch>\r\n                                                </span>\r\n                                            </div> \r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </ng-template>\r\n                    </column> \r\n                    <column title=\"Código\" [template]=\"columnCodCapacidade\" orderBy = \"codigo\" [minWidth]=160 [maxWidth]=160>\r\n                        <ng-template let-row=\"row\" #columnCodCapacidade>                            \r\n                                <span class=\"text-wrap\"> \r\n                                    <strong class=\"grid-group-text\">{{row.codigo}}</strong>\r\n                                </span>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column [title]=\"lex.noun('Módulo/Capacidade')\" [template]=\"columnTipoCapacidade\" [minWidth]=\"600\">\r\n                        <ng-template let-row=\"row\" #columnTipoCapacidade>\r\n                            <span class=\"badge bg-light text-dark\"> {{row.descricao}}</span>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Habilitado\" [template]=\"columnSelecionado\">\r\n                        <ng-template let-row=\"row\" #columnSelecionado>\r\n                            <input-switch style=\"width: 45px; margin-right: 70px;\" #habilitado [disabled]=\"action == 'consult' ? 'true' : undefined\" [source]=\"row\" path=\"_metadata.habilitado\" (change)=\"onHabilitadoChange(row, habilitado.value)\"></input-switch>\r\n                        </ng-template>\r\n                    </column>\r\n                </columns>\r\n            </grid>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PerfilDaoService } from 'src/app/dao/perfil-dao.service';\r\nimport { Perfil } from 'src/app/models/perfil.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\n\r\n@Component({\r\n  selector: 'app-perfil-list',\r\n  templateUrl: './perfil-list.component.html',\r\n  styleUrls: ['./perfil-list.component.scss']\r\n})\r\nexport class PerfilListComponent extends PageListBase<Perfil, PerfilDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n\r\n  public options: ToolbarButton[] = [];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Perfil, PerfilDaoService);\r\n    /* Inicializações */\r\n    this.title = this.lex.translate(\"Perfis\");\r\n    this.code = \"MOD_CFG_PERFS\";\r\n    this.filter = this.fh.FormBuilder({\r\n      nome: {default: \"\"}\r\n    });\r\n    this.addOption(this.OPTION_INFORMACOES);\r\n    this.addOption(this.OPTION_EXCLUIR, \"MOD_PERF_EXCL\");\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n\r\n    if(form.nome?.length) {\r\n      result.push([\"nome\", \"like\", \"%\" + form.nome.trim().replace(\" \", \"%\") + \"%\"]);\r\n    }\r\n\r\n    return result;\r\n  }\r\n}\r\n\r\n","<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>\r\n<grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\"\r\n    [hasAdd]=\"auth.hasPermissionTo('MOD_PERF_INCL')\"\r\n    [hasEdit]=\"auth.hasPermissionTo('MOD_PERF_EDT')\">\r\n    <toolbar></toolbar>\r\n    <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-text [size]=\"12\" [label]=\"'Nome ' + lex.translate('Perfil')\" controlName=\"nome\"\r\n                [control]=\"filter!.controls.nome\" placeholder=\"Nome...\" [attr.maxlength]=250></input-text>\r\n        </div>\r\n    </filter>\r\n    <columns>\r\n        <column title=\"Nome\" field=\"nome\"></column>\r\n        <column title=\"Descrição\" field=\"descricao\"></column>\r\n        <column title=\"Nível de acesso\" [template]=\"columnNivel\">\r\n            <ng-template let-row=\"row\" #columnNivel><span>{{row.nivel}}</span></ng-template>\r\n        </column>\r\n        <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { PerfilFormComponent } from './perfil-form/perfil-form.component';\r\nimport { PerfilListComponent } from './perfil-list/perfil-list.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: PerfilListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Perfils\" } },\r\n  { path: 'new', component: PerfilFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Perfil\", modal: true } },\r\n  { path: ':id/edit', component: PerfilFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição de Perfil\", modal: true } },\r\n  { path: ':perfil_id/capacidade', loadChildren: () => import('./capacidade/capacidade.module').then(m => m.CapacidadeModule), canActivate: [AuthGuard] },\r\n  { path: ':id/consult', component: PerfilFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Perfil\", modal: true } }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PerfilRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { PerfilRoutingModule } from './perfil-routing.module';\r\nimport { PerfilFormComponent } from './perfil-form/perfil-form.component';\r\nimport { PerfilListComponent } from './perfil-list/perfil-list.component';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PerfilFormComponent,\r\n    PerfilListComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    ReactiveFormsModule,\r\n    PerfilRoutingModule\r\n  ]\r\n})\r\nexport class PerfilModule { }\r\n"],"names":["QueryOptions","constructor","data","Object","assign","Base","Capacidade","perfil_id","tipo_capacidade_id","initialization","Perfil","nivel","nome","descricao","EditableFormComponent","GridComponent","PerfilDaoService","TipoCapacidadeDaoService","PageFormBase","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","title","ɵɵelement","ɵɵtextInterpolate1","row_r13","grupos","length","ɵɵtemplate","PerfilFormComponent_tab_9_ng_template_5_span_0_Template","ɵɵproperty","ɵɵlistener","PerfilFormComponent_tab_9_ng_template_7_tr_2_Template_input_switch_change_15_listener","restoredCtx","ɵɵrestoreView","_r21","row_r18","$implicit","_r19","ɵɵreference","ctx_r20","ɵɵnextContext","ɵɵresetView","onHabilitadoChangeFilha","value","codigo","ctx_r17","action","undefined","PerfilFormComponent_tab_9_ng_template_7_tr_2_Template","row_r16","row_r22","row_r23","PerfilFormComponent_tab_9_ng_template_16_Template_input_switch_change_0_listener","_r27","row_r24","row","_r25","ctx_r26","onHabilitadoChange","ctx_r12","PerfilFormComponent_tab_9_ng_template_5_Template","ɵɵtemplateRefExtractor","PerfilFormComponent_tab_9_ng_template_7_Template","PerfilFormComponent_tab_9_ng_template_10_Template","PerfilFormComponent_tab_9_ng_template_13_Template","PerfilFormComponent_tab_9_ng_template_16_Template","ctx_r1","lex","noun","tiposCapacidades","_r3","_r5","_r7","_r9","_r11","PerfilFormComponent","injector","validate","control","controlName","result","indexOf","titleEdit","entity","translate","tipoCapacidadeDao","get","form","fh","FormBuilder","default","data_inicio","data_fim","cdRef","join","loadData","_this","_asyncToGenerator","formValue","queryOptions","where","orderBy","query","asPromise","util","fillForm","tipoCapacidade","capacidade","capacidades","find","x","tipo_capacidade","_metadata","habilitado","console","log","tipoCapacidadeFilha","capacidadeFilha","patchValue","id","_status","push","splice","findIndex","grupo","subCapacidade","refreshCapacidadesHabilitadas","_this2","detectChanges","pai","grupo_id","capacidadePai","initializeData","saveData","Promise","resolve","reject","perfil","fill","filter","includes","ɵɵdirectiveInject","Injector","selectors","viewQuery","PerfilFormComponent_Query","rf","ctx","PerfilFormComponent_h3_0_Template","PerfilFormComponent_Template_editable_form_submit_1_listener","onSaveData","PerfilFormComponent_Template_editable_form_cancel_1_listener","onCancel","PerfilFormComponent_tab_9_Template","isModal","formDisabled","ɵɵattribute","auth","hasPermissionTo","PageListBase","row_r3","PerfilListComponent","options","filterWhere","trim","replace","code","addOption","OPTION_INFORMACOES","OPTION_EXCLUIR","PerfilListComponent_Query","PerfilListComponent_h3_0_Template","PerfilListComponent_ng_template_10_Template","dao","add","groupBy","filterSubmit","bind","filterCollapseChange","filterCollapsed","controls","_r1","edit","rowsLimit","RouterModule","AuthGuard","ConfigResolver","routes","path","component","canActivate","config","runGuardsAndResolvers","modal","loadChildren","then","m","CapacidadeModule","PerfilRoutingModule","forChild","imports","i1","exports","CommonModule","ComponentsModule","ReactiveFormsModule","PerfilModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}