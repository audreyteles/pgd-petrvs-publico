{"version":3,"file":"5177.js","mappings":"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","sources":["./src/app/dao/plano-entrega-entrega-progresso-dao.service.ts","./src/app/models/plano-entrega-entrega-progresso.model.ts","./src/app/models/plano-entrega.model.ts","./src/app/modules/gestao/plano-entrega/plano-entrega-entrega-detalhes/plano-entrega-entrega-detalhes.component.ts","./src/app/modules/gestao/plano-entrega/plano-entrega-entrega-detalhes/plano-entrega-entrega-detalhes.component.html","./src/app/modules/gestao/plano-entrega/plano-entrega-entregas-plano-trabalho/plano-entrega-entregas-plano-trabalho.component.ts","./src/app/modules/gestao/plano-entrega/plano-entrega-entregas-plano-trabalho/plano-entrega-entregas-plano-trabalho.component.html","./src/app/modules/gestao/plano-entrega/plano-entrega-entregas-vinculadas/plano-entrega-entregas-vinculadas.component.ts","./src/app/modules/gestao/plano-entrega/plano-entrega-entregas-vinculadas/plano-entrega-entregas-vinculadas.component.html","./src/app/modules/gestao/plano-entrega/plano-entrega-form-adesao/plano-entrega-form-adesao.component.ts","./src/app/modules/gestao/plano-entrega/plano-entrega-form-adesao/plano-entrega-form-adesao.component.html","./src/app/modules/gestao/plano-entrega/plano-entrega-form-entrega/plano-entrega-form-entrega.component.ts","./src/app/modules/gestao/plano-entrega/plano-entrega-form-entrega/plano-entrega-form-entrega.component.html","./src/app/modules/gestao/plano-entrega/plano-entrega-form-progresso/plano-entrega-form-progresso.component.ts","./src/app/modules/gestao/plano-entrega/plano-entrega-form-progresso/plano-entrega-form-progresso.component.html","./src/app/modules/gestao/plano-entrega/plano-entrega-form/plano-entrega-form.component.ts","./src/app/modules/gestao/plano-entrega/plano-entrega-form/plano-entrega-form.component.html","./src/app/modules/gestao/plano-entrega/plano-entrega-list-entrega-list/plano-entrega-list-entrega-list.component.ts","./src/app/modules/gestao/plano-entrega/plano-entrega-list-entrega-list/plano-entrega-list-entrega-list.component.html","./src/app/modules/gestao/plano-entrega/plano-entrega-list-entrega/plano-entrega-list-entrega.component.ts","./src/app/modules/gestao/plano-entrega/plano-entrega-list-entrega/plano-entrega-list-entrega.component.html","./src/app/modules/gestao/plano-entrega/plano-entrega-list-logs/plano-entrega-list-logs.component.ts","./src/app/modules/gestao/plano-entrega/plano-entrega-list-logs/plano-entrega-list-logs.component.html","./src/app/modules/gestao/plano-entrega/plano-entrega-list-progresso/plano-entrega-list-progresso.component.ts","./src/app/modules/gestao/plano-entrega/plano-entrega-list-progresso/plano-entrega-list-progresso.component.html","./src/app/modules/gestao/plano-entrega/plano-entrega-list/plano-entrega-list.component.ts","./src/app/modules/gestao/plano-entrega/plano-entrega-list/plano-entrega-list.component.html","./src/app/modules/gestao/plano-entrega/plano-entrega-mapa-entregas/plano-entrega-mapa-entregas.component.ts","./src/app/modules/gestao/plano-entrega/plano-entrega-mapa-entregas/plano-entrega-mapa-entregas.component.html","./src/app/modules/gestao/plano-entrega/plano-entrega-routing.module.ts","./src/app/modules/gestao/plano-entrega/plano-entrega-valor-meta-input/plano-entrega-valor-meta-input.component.ts","./src/app/modules/gestao/plano-entrega/plano-entrega-valor-meta-input/plano-entrega-valor-meta-input.component.html","./src/app/modules/gestao/plano-entrega/plano-entrega.module.ts","./src/app/modules/gestao/plano-entrega/plano-trabalho-entrega-atividades/plano-trabalho-entrega-atividades.component.ts","./src/app/modules/gestao/plano-entrega/plano-trabalho-entrega-atividades/plano-trabalho-entrega-atividades.component.html"],"sourcesContent":["import { Injectable, Injector } from '@angular/core';\r\nimport { DaoBaseService } from './dao-base.service';\r\nimport { PlanoEntregaEntregaProgresso } from '../models/plano-entrega-entrega-progresso.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PlanoEntregaEntregaProgressoDaoService extends DaoBaseService<PlanoEntregaEntregaProgresso> {\r\n\r\n  constructor(protected injector: Injector) { \r\n    super(\"PlanoEntregaEntregaProgresso\", injector);\r\n    this.inputSearchConfig.searchFields = [\"data_progresso\"];\r\n  }\r\n\r\n}\r\n\r\n","\r\nimport { Base } from './base.model';\r\nimport { Entrega, EntregaValor } from './entrega.model';\r\nimport { HasMetaRealizado, PlanoEntregaEntrega } from './plano-entrega-entrega.model';\r\nimport { Usuario } from './usuario.model';\r\n\r\nexport class PlanoEntregaEntregaProgresso extends Base implements HasMetaRealizado  {\r\n  public plano_entrega_entrega?: PlanoEntregaEntrega;\r\n  public entrega?: Entrega;\r\n  public usuario?: Usuario;\r\n\r\n  public data_inicio: Date = new Date();\r\n  public data_fim: Date | null = null;\r\n  public data_progresso: Date | null = null;\r\n  public homologado: boolean = false;\r\n  public meta: EntregaValor = {};\r\n  public realizado: EntregaValor = {};\r\n  public progresso_esperado: number = 100;\r\n  public progresso_realizado: number = 0;\r\n\r\n  public plano_entrega_entrega_id: string = '';\r\n  public usuario_id: string = '';                  \r\n  \r\n  public constructor(data?: any) { super(); this.initialization(data); }\r\n}","import { StatusDockerConfig } from '../modules/gestao/atividade/atividade-list-kanban/atividade-list-kanban.component';\r\nimport { Avaliacao, HasAvaliacao } from './avaliacao.model';\r\nimport { Base } from './base.model';\r\nimport { CadeiaValor } from './cadeia-valor.model';\r\nimport { Planejamento } from './planejamento.model';\r\nimport { PlanoEntregaEntrega } from './plano-entrega-entrega.model';\r\nimport { Programa } from './programa.model';\r\nimport { HasStatus, StatusJustificativa } from './status-justificativa.model';\r\nimport { Unidade } from './unidade.model';\r\nimport { Usuario } from './usuario.model';\r\n\r\nexport type PlanoEntregaStatus = 'INCLUIDO' | 'HOMOLOGANDO' | 'ATIVO' | 'CONCLUIDO' | 'AVALIADO' | 'SUSPENSO' | 'CANCELADO';\r\n\r\nexport type PlanoEntregaMetadados = {\r\n  incluido: boolean,\r\n  homologando: boolean,\r\n  ativo: boolean,\r\n  suspenso: boolean,\r\n  concluido: boolean,\r\n  avaliado: boolean,\r\n  arquivado: boolean\r\n}\r\n\r\nexport class PlanoEntrega extends Base implements HasStatus, HasAvaliacao {\r\n  public avaliacao?: Avaliacao;\r\n  public unidade?: Unidade;\r\n  public planejamento?: Planejamento;\r\n  public cadeia_valor?: CadeiaValor;\r\n  public programa?: Programa;\r\n  public plano_entrega?: PlanoEntrega;                              // Plano de Entrega ao qual aderiu\r\n  public criacao_usuario?: Usuario;                                 // Usuário que criou o plano de entregas\r\n  public cancelamento_usuario?: Usuario;                            // Usuário que cancelou o plano de entregas\r\n  public entregas: PlanoEntregaEntrega[] = [];                      // Entregas que compõem o plano de entregas\r\n  public status_historico: StatusJustificativa[] = [];              // Mudanças de status sofridas pelo plano de entregas (histórico)\r\n\r\n  public data_inicio: Date = new Date();                            // Data inicial do plano de entrega\r\n  public data_fim: Date | null = null;                              // Data final do plano de entrega\r\n  public nome: string = \"\";                                         // Nome do plano de entrega\r\n  public numero?: number;                                           // Número do plano de entrega (Gerado pelo sistema)\r\n  public data_arquivamento?: Date | null;\r\n  public metadados: PlanoEntregaMetadados | undefined = undefined;  // Campo virtual contendo informações calculadas pelo servidor\r\n  public arquivar: boolean = false;                                 // Campo virtual utilizado pelos métodos arquivar/desarquivar/avaliar\r\n  public status: PlanoEntregaStatus = \"INCLUIDO\";                   // Status atual do plano de entregas\r\n  public avaliacoes: Avaliacao[] = [];\r\n\r\n  public unidade_id: string = '';\r\n  public avaliacao_id: string | null = null;\r\n  public plano_entrega_id: string | null = null;\r\n  public planejamento_id: string | null = null;\r\n  public cadeia_valor_id: string | null = null;\r\n  public programa_id: string | null = null;\r\n    \r\n  public constructor(data?: any) { super(); this.initialization(data); }\r\n}","import { Component, Injector } from \"@angular/core\";\r\nimport { PlanoEntregaEntregaDaoService } from \"src/app/dao/plano-entrega-entrega-dao.service\";\r\nimport { PlanoEntregaEntrega } from \"src/app/models/plano-entrega-entrega.model\";\r\nimport { PlanoEntrega } from \"src/app/models/plano-entrega.model\";\r\nimport { PageFrameBase } from \"src/app/modules/base/page-frame-base\";\r\nimport { PlanoEntregaService } from \"../plano-entrega.service\";\r\n\r\n@Component({\r\n  selector: 'plano-entrega-entrega-detalhes',\r\n  templateUrl: './plano-entrega-entrega-detalhes.component.html',\r\n  styleUrls: ['./plano-entrega-entrega-detalhes.component.scss']\r\n})\r\nexport class PlanoEntregaEntregaDetalhesComponent extends PageFrameBase {\r\n  public planoEntrega?: PlanoEntrega;\r\n  public entrega?: PlanoEntregaEntrega;\r\n  public planoEntregaEntregaDao: PlanoEntregaEntregaDaoService;\r\n  public planoEntregaService: PlanoEntregaService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.planoEntregaEntregaDao = injector.get<PlanoEntregaEntregaDaoService>(PlanoEntregaEntregaDaoService);\r\n    this.planoEntregaService = injector.get<PlanoEntregaService>(PlanoEntregaService);\r\n  }\r\n  \r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n    this.entrega = this.metadata?.entrega;\r\n  }\r\n\r\n  public async showPlanejamento(objetivo_id: string){\r\n    this.go.navigate({route: ['gestao', 'plano-entrega', 'entrega', 'objetivos', objetivo_id]}, { modal: true });\r\n  }\r\n\r\n  public async showCadeiaValor(processo_id: string){\r\n    this.go.navigate({route: ['gestao', 'plano-entrega', 'entrega', 'processos', processo_id]}, {modal: true});  \r\n  }\r\n\r\n}","<tabs #detalhesEntrega right [title]=\"isModal ? '' : title\">\r\n  <tab key=\"INFOS\" icon=\"bi bi-info-lg\" label=\"Informações\"></tab>\r\n  <tab key=\"VINCULOS\" icon=\"bi bi-arrow-down-up\" label=\"Vínculos\"></tab>\r\n  <tab key=\"PARTICIPANTES\" icon=\"bi bi-people\" label=\"Participantes\"></tab>\r\n</tabs>\r\n\r\n\r\n\r\n<div *ngIf=\"detalhesEntrega.active == 'INFOS'\" class=\"\" style=\"min-height: 400px;\">\r\n  <div class=\"mb-2\">\r\n    <badge *ngFor=\"let etiqueta of entrega?.etiquetas\" [lookup]=\"etiqueta\"></badge>\r\n  </div>\r\n  <h5>{{entrega?.descricao}}</h5>\r\n  <small>{{entrega?.descricao_entrega}}</small>\r\n  <hr>\r\n  \r\n  <p>Período: <small>{{planoEntregaEntregaDao!.getDateFormatted(entrega?.data_inicio)}} até {{planoEntregaEntregaDao!.getDateFormatted(entrega?.data_fim)}}</small></p>\r\n  <div class=\"d-flex\">\r\n    <p class=\"me-2\">Demandante: <badge *ngIf=\"entrega?.unidade\" color=\"light\" [icon]=\"entityService.getIcon('Unidade')\" [label]=\"entrega?.unidade?.sigla\"></badge></p>\r\n    <p>Destinatário: <badge *ngIf=\"entrega?.destinatario?.length\" color=\"light\" icon=\"bi bi-mailbox\" [label]=\"entrega?.destinatario\"></badge></p>\r\n  </div>\r\n\r\n  <h5 class=\"text-center\">{{lex.translate('Meta')}}</h5>\r\n  <small class=\"d-block text-center mb-2\">{{entrega?.descricao_meta}}</small>\r\n  <div class=\"d-flex justify-content-center\" *ngIf=\"entrega\">\r\n    <div>\r\n      <b>Planejada</b><br>\r\n      <badge icon=\"bi bi-graph-up-arrow\" [textValue]=\"planoEntregaService.getValorMeta(entrega)\" color=\"light\" hint=\"Planejada\"></badge>\r\n    </div>\r\n    \r\n    <div class=\"vr mx-5\"></div>\r\n\r\n    <div>\r\n      <b>Executada</b><br>\r\n      <badge icon=\"bi bi-check-lg\" [textValue]=\"planoEntregaService.getValorRealizado(entrega)\" color=\"light\" hint=\"Realizada\"></badge>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"mt-3\" *ngIf=\"entrega?.objetivos?.length\">\r\n    <h5 class=\"text-center mb-2\">{{lex.translate('Objetivos')}}</h5>\r\n    <div class=\"card\">\r\n      <ul class=\"list-group list-group-flush\">\r\n        <li *ngFor=\"let pObjetivo of entrega?.objetivos\" class=\"list-group-item\">\r\n            <div class=\"d-flex justify-content-between align-items-center\" *ngIf=\"pObjetivo.objetivo\">\r\n              <small>{{pObjetivo.objetivo.nome}}</small>\r\n              <button class=\"btn btn-sm btn-outline-info me-2\" (click)=\"showPlanejamento(pObjetivo.objetivo.id)\"><i class=\"bi bi-eye\"></i></button>\r\n            </div>\r\n          </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div class=\"mt-3\" *ngIf=\"entrega?.processos?.length\">\r\n    <h5 class=\"text-center mb-2\">{{lex.translate('Processos')}}</h5>\r\n    <div class=\"card\">\r\n      <ul class=\"list-group list-group-flush\">\r\n        <li *ngFor=\"let pProcesso of entrega?.processos\" class=\"list-group-item\">\r\n            <div class=\"d-flex justify-content-between align-items-center\" *ngIf=\"pProcesso.processo\">\r\n              <small>{{pProcesso.processo.nome}}</small>\r\n              <button class=\"btn btn-sm btn-outline-info me-2\" (click)=\"showCadeiaValor(pProcesso.processo.id)\"><i class=\"bi bi-eye\"></i></button>\r\n            </div>\r\n          </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n\r\n    \r\n\r\n</div>\r\n\r\n<div *ngIf=\"detalhesEntrega.active == 'VINCULOS' && entrega\" style=\"min-height: 400px;\">\r\n  <plano-entrega-entregas-vinculadas [entregaId]=\"entrega.id\"></plano-entrega-entregas-vinculadas>  \r\n</div>\r\n\r\n<div *ngIf=\"detalhesEntrega.active == 'PARTICIPANTES' && entrega\" class=\"row\" style=\"min-height: 400px;\">\r\n  <plano-entrega-entregas-plano-trabalho [entregaId]=\"entrega.id\"></plano-entrega-entregas-plano-trabalho>\r\n</div>","import { Component, Injector, Input, ViewChild } from '@angular/core';\r\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\r\nimport { PlanoTrabalhoEntregaDaoService } from 'src/app/dao/plano-trabalho-entrega-dao.service';\r\nimport { PlanoTrabalhoEntrega } from 'src/app/models/plano-trabalho-entrega.model';\r\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { PlanoTrabalhoService } from '../../plano-trabalho/plano-trabalho.service';\r\nimport { AccordionComponent } from 'src/app/components/accordion/accordion.component';\r\n\r\n@Component({\r\n  selector: 'plano-entrega-entregas-plano-trabalho',\r\n  templateUrl: './plano-entrega-entregas-plano-trabalho.component.html',\r\n  styleUrls: ['./plano-entrega-entregas-plano-trabalho.component.scss']\r\n})\r\nexport class PlanoEntregaEntregasPlanoTrabalhoComponent extends PageFrameBase {  \r\n  @ViewChild('accordionUser', { static: false }) public accordionUser?: AccordionComponent;\r\n\r\n  @Input() set entregaId(value: string) {\r\n    if(this._entregaId != value) {\r\n      this._entregaId = value;\r\n    }\r\n  }  \r\n  get entregaId(): string {\r\n    return this._entregaId;\r\n  }\r\n\r\n  private _entregaId!: string;\r\n  public PlanoTrabalhoDao: PlanoTrabalhoDaoService;\r\n  public PlanoTrabalhoEntregaDao: PlanoTrabalhoEntregaDaoService;\r\n  public planoTrabalhoService: PlanoTrabalhoService;\r\n\r\n  public PlanosTrabalho!: PlanoTrabalho[];\r\n  public items: Usuario[] = [];\r\n  public loader: boolean = false;\r\n  \r\n\r\n  constructor(public injector: Injector){\r\n    super(injector);\r\n    this.PlanoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\r\n    this.PlanoTrabalhoEntregaDao = injector.get<PlanoTrabalhoEntregaDaoService>(PlanoTrabalhoEntregaDaoService);\r\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\r\n    this.join = [\"plano_trabalho.usuario\",\"plano_entrega_entrega.plano_entrega.unidade\"];\r\n    this.groupBy = [{ field: \"plano_trabalho.usuario\", label: \"Usuário\"}];\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.loadData();\r\n  }\r\n\r\n  public loadData() {\r\n    this.loader = true;\r\n    this.cdRef.detectChanges();\r\n    try {\r\n      this.PlanoTrabalhoEntregaDao.query({where: [[\"plano_entrega_entrega_id\", \"==\", this._entregaId], ['planoTrabalho.status', 'in', ['ATIVO', 'CONCLUIDO', 'AVALIADO']]], join: this.join}).asPromise().then(response => {\r\n\r\n        response.forEach((item) => {\r\n          const usuario: Usuario = item.plano_trabalho!.usuario!;\r\n          if (usuario) {\r\n            const usuarioId = usuario.id;\r\n            let usuarioExistente = this.items.find((u) => u.id === usuarioId);\r\n            if (!usuarioExistente) {\r\n              usuarioExistente = {\r\n                ...usuario,\r\n                planos_trabalho: [],\r\n                initialization(data) {                  \r\n                },\r\n              };\r\n              this.items.push(usuarioExistente);\r\n            }\r\n\r\n            const planoTrabalhoId = item.plano_trabalho!.id;\r\n            let planoTrabalho = usuarioExistente.planos_trabalho!.find(\r\n              (pt) => pt.id === planoTrabalhoId\r\n            );\r\n\r\n            if (!planoTrabalho) {\r\n              planoTrabalho = {\r\n                ...item.plano_trabalho!,\r\n                entregas: [],\r\n                initialization(data) {                  \r\n                },\r\n              };\r\n              usuarioExistente.planos_trabalho!.push(planoTrabalho);\r\n            }\r\n            const entrega: PlanoTrabalhoEntrega = {\r\n              ...item,\r\n              initialization(data) {\r\n                \r\n              },\r\n            };\r\n            planoTrabalho.entregas.push(entrega);\r\n          }\r\n        });\r\n\r\n      }).finally(() => {\r\n        this.loader = false;\r\n        this.cdRef.detectChanges();\r\n      })\r\n    } catch  (e){\r\n      console.log(\"Erro\")\r\n    }\r\n  }\r\n\r\n  public totalForcaTrabalho(entregas: PlanoTrabalhoEntrega[] = []): number {\r\n    const forca = entregas.map(x => x.forca_trabalho * 1).reduce((a, b) => a + b, 0);\r\n    return Math.round(forca * 100) / 100;\r\n  }\r\n\r\n  public planoAtivo(planos: PlanoTrabalho[]): PlanoTrabalho {\r\n    const planoAtivo = planos.find((plano) => plano.status === \"ATIVO\");\r\n    return planoAtivo || {} as PlanoTrabalho;\r\n  }\r\n}\r\n","<grid #accordionUser [items]=\"items\" [loading]=\"loader\">\r\n  <columns>\r\n    <column type=\"expand\"  [expandTemplate]=\"columnExpandeEntregas\" [template]=\"usuarioSectionTitle\" [width]=\"40\">\r\n      \r\n      <ng-template let-row=\"row\" #usuarioSectionTitle>        \r\n      </ng-template>\r\n\r\n      <ng-template let-item=\"row\" #columnExpandeEntregas>\r\n        <h5>Entregas do plano:</h5> \r\n        <hr>\r\n        <div *ngFor=\"let plano of item.planos_trabalho\" class=\"card mb-2\">\r\n          <div class=\"card-body\">\r\n            <grid [items]=\"plano.entregas\">\r\n              <columns>\r\n\r\n                <column type=\"expand\"  [expandTemplate]=\"columnExpandedAtividades\" [style]=\"'vertical-align:middle'\">\r\n                  <ng-template let-row=\"row\" #columnExpandedAtividades>\r\n                    <plano-trabalho-entrega-atividades [entregaId]=\"row.id\"></plano-trabalho-entrega-atividades>\r\n                  </ng-template>\r\n                </column>\r\n\r\n                <column  [template]=\"columnPlano\" [titleTemplate]=\"titlePlano\" >\r\n                  <ng-template let-header=\"header\" #titlePlano><div class=\"text-center\"><span><strong>Plano de trabalho</strong></span></div></ng-template>\r\n                  <ng-template let-row=\"row\" #columnPlano>\r\n                    <span class=\"d-block text-center\">{{PlanoTrabalhoDao!.getDateFormatted(plano.data_inicio)}} <br>{{ \" até \"+PlanoTrabalhoDao!.getDateFormatted(plano.data_fim)}}</span>\r\n                  </ng-template>\r\n                </column>\r\n\r\n                <column [titleTemplate]=\"titleOrigem\" [template]=\"columnOrigem\" [verticalAlign]=\"'middle'\" [width]=\"300\" [align]=\"'center'\">\r\n                  <ng-template let-header=\"header\" #titleOrigem><div class=\"text-center\"><span><strong>Origem</strong></span></div></ng-template>\r\n                  <ng-template let-row=\"row\" #columnOrigem>\r\n                      <div class=\"w-100 d-flex justify-content-center\">\r\n                          <div class=\"one-per-line\">\r\n                              <badge [label]=\"planoTrabalhoService.tipoEntrega(row, entity).titulo\" [color]=\"planoTrabalhoService.tipoEntrega(row, entity).cor\"></badge>\r\n                              <badge *ngIf=\"row.plano_entrega_entrega_id?.length\" [label]=\"row.plano_entrega_entrega?.plano_entrega?.unidade?.sigla || 'Desconhecido'\" [icon]=\"entityService.getIcon('Unidade')\" color=\"primary\"></badge>\r\n                              <badge *ngIf=\"row.orgao?.length\" [label]=\"row.orgao\" icon=\"bi bi-box-arrow-down-left\" color=\"warning\"></badge>\r\n                          </div>\r\n                      </div>\r\n                  </ng-template>\r\n                  \r\n\r\n              </column>\r\n\r\n\r\n                <column [titleTemplate]=\"titleForcaTrabalho\" [title]=\"'% CHD'\" [template]=\"columnForcaTrabalho\" [width]=\"125\" [align]=\"'center'\" [titleHint]=\"'% Carga Horária Disponível'\">\r\n                  <ng-template let-header=\"header\" #titleForcaTrabalho>\r\n                      <div class=\"text-center\">\r\n                          <!--<small><strong>% Força Trab.</strong></small><br>-->\r\n                          <small><badge icon=\"bi bi-calculator\" [color]=\"totalForcaTrabalho(plano.entregas) == 100 ? 'success' : 'warning'\" [label]=\"totalForcaTrabalho(plano.entregas) + '%'\"></badge></small>\r\n                      </div>\r\n                  </ng-template>\r\n                  <ng-template let-row=\"row\" #columnForcaTrabalho><small>{{  row.forca_trabalho + '%' }}</small></ng-template>\r\n                </column>\r\n\r\n                <column [maxWidth]=\"250\" [titleTemplate]=\"titleDescricao\" [template]=\"columnDescricao\" [verticalAlign]=\"'middle'\" [align]=\"'center'\">\r\n                  <ng-template let-header=\"header\" #titleDescricao><div class=\"text-center\"><span><strong>Detalhamento/Descrição dos Trabalhos</strong></span></div></ng-template>\r\n                  <ng-template let-row=\"row\" #columnDescricao><small class=\"text-center\">{{ row.descricao }}</small></ng-template>\r\n                </column>\r\n\r\n                <column title=\"Status\" [template]=\"columnStatus\">\r\n                  <ng-template let-row=\"row\" #columnStatus>\r\n                      <badge [color]=\"lookup.getColor(lookup.PLANO_TRABALHO_STATUS, plano.status)\" [icon]=\"lookup.getIcon(lookup.PLANO_TRABALHO_STATUS, plano.status)\" [label]=\"lookup.getValue(lookup.PLANO_TRABALHO_STATUS, plano.status)\"></badge>\r\n                  </ng-template>\r\n                </column>\r\n\r\n              </columns>\r\n            </grid>\r\n          </div>\r\n        </div>\r\n      </ng-template>\r\n    </column>  \r\n\r\n    <column [titleTemplate]=\"titleParticipante\" [template]=\"columnParticipante\">\r\n      <ng-template let-header=\"header\" #titleParticipante>\r\n          <b>Participante</b>\r\n      </ng-template>\r\n      <ng-template let-row=\"row\" #columnParticipante>\r\n        <b>{{row.nome}}</b><br>\r\n        <small>{{row.apelido || \"\"}}</small>\r\n      </ng-template>\r\n    </column>\r\n\r\n    <column [titleTemplate]=\"titleForcaTrabalho\" [template]=\"columnForcaTrabalho\" [title]=\"'% CHD'\" [titleHint]=\"'% Carga Horária Disponível'\">\r\n      <ng-template let-header=\"header\" #titleForcaTrabalho>\r\n          <!--<b>% Força Trab.</b>-->\r\n      </ng-template>\r\n      <ng-template let-row=\"row\" #columnForcaTrabalho>\r\n        <small><badge icon=\"bi bi-calculator\" [color]=\"totalForcaTrabalho(planoAtivo(row.planos_trabalho).entregas) == 100 ? 'success' : 'warning'\" [label]=\"totalForcaTrabalho(planoAtivo(row.planos_trabalho).entregas) + '%'\"></badge></small>\r\n      </ng-template>\r\n    </column>\r\n  \r\n  </columns>\r\n</grid>","import { Component, Injector, Input } from \"@angular/core\";\r\nimport { TreeNode } from \"primeng/api\";\r\nimport { PlanoEntregaEntregaDaoService } from \"src/app/dao/plano-entrega-entrega-dao.service\";\r\nimport { PlanoEntregaEntrega } from \"src/app/models/plano-entrega-entrega.model\";\r\nimport { PageFrameBase } from \"src/app/modules/base/page-frame-base\";\r\n\r\n@Component({\r\n  selector: 'plano-entrega-entregas-vinculadas',\r\n  templateUrl: './plano-entrega-entregas-vinculadas.component.html',\r\n  styleUrls: ['./plano-entrega-entregas-vinculadas.component.scss']\r\n})\r\nexport class PlanoEntregaEntregasVinculadasComponent extends PageFrameBase { \r\n  @Input() set entregaId(value: string) {\r\n    if(this._entregaId != value) {\r\n      this._entregaId = value;\r\n    }\r\n  }  \r\n  get entregaId(): string {\r\n    return this._entregaId;\r\n  }\r\n\r\n  public loader: boolean = false;\r\n  private _entregaId!: string;\r\n  public planoEntregaEntregaDao: PlanoEntregaEntregaDaoService;\r\n  public entregasVinculadas: TreeNode[] = [];\r\n\r\n  constructor(public injector: Injector){\r\n    super(injector);\r\n    this.planoEntregaEntregaDao = injector.get<PlanoEntregaEntregaDaoService>(PlanoEntregaEntregaDaoService);\r\n    this.join = [\"unidade\"];\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.loadData();\r\n  }\r\n\r\n  public async loadData() {\r\n    this.loader = true;\r\n    try {\r\n      this.entregasVinculadas = await this.planoEntregaEntregaDao.hierarquia(this._entregaId)\r\n      this.cdRef.detectChanges();\r\n      this.loader = false;      \r\n    } catch  (e){\r\n      console.log(\"Erro\")\r\n    }\r\n  }\r\n\r\n  public async showDetalhes(entrega: PlanoEntregaEntrega){\r\n    this.go.navigate({route: ['gestao', 'plano-entrega', 'entrega', entrega.id, \"detalhes\"]}, {\r\n      metadata: {\r\n        entrega: entrega\r\n      }\r\n    });    \r\n  }\r\n}","<p-organizationChart [value]=\"entregasVinculadas\" *ngIf=\"entregasVinculadas.length\">\r\n  <ng-template let-node pTemplate=\"default\">\r\n    <div class=\"p-2\">{{ node.label }}</div>\r\n    <badge *ngIf=\"node.data?.unidade\" color=\"light\" [icon]=\"entityService.getIcon('Unidade')\" [label]=\"node.data?.unidade?.sigla\"></badge><br>\r\n    <button class=\"btn btn-sm\" (click)=\"showDetalhes(node.data)\" title=\"Detalhes da entrega\"><i class=\"bi bi-eye\"></i></button>\r\n  </ng-template>\r\n</p-organizationChart>\r\n\r\n<div class=\"d-flex justify-content-center my-2\" *ngIf=\"loader\">\r\n  <div class=\"spinner-border\" role=\"status\">\r\n      <span class=\"visually-hidden\"></span>\r\n  </div>\r\n</div>","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { CadeiaValorDaoService } from 'src/app/dao/cadeia-valor-dao.service';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanoEntregaDaoService } from 'src/app/dao/plano-entrega-dao.service';\r\nimport { ProgramaDaoService } from 'src/app/dao/programa-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PlanoEntrega } from 'src/app/models/plano-entrega.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\n\r\n@Component({\r\n  selector: 'plano-entrega-adesao',\r\n  templateUrl: './plano-entrega-form-adesao.component.html',\r\n  styleUrls: ['./plano-entrega-form-adesao.component.scss']\r\n})\r\n\r\nexport class PlanoEntregaFormAdesaoComponent extends PageFormBase<PlanoEntrega, PlanoEntregaDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(GridComponent, { static: true }) public grid?: GridComponent;\r\n  @ViewChild(InputSearchComponent, { static: true}) public planoEntrega?: InputSearchComponent;\r\n\r\n  public unidadeDao: UnidadeDaoService;\r\n  public planoEntregaDao: PlanoEntregaDaoService;\r\n  public programaDao: ProgramaDaoService;\r\n  public cadeiaValorDao: CadeiaValorDaoService;\r\n  public planejamentoInstitucionalDao: PlanejamentoDaoService;\r\n  public form: FormGroup;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, PlanoEntrega, PlanoEntregaDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.programaDao = injector.get<ProgramaDaoService>(ProgramaDaoService);\r\n    this.planoEntregaDao = injector.get<PlanoEntregaDaoService>(PlanoEntregaDaoService);\r\n    this.cadeiaValorDao = injector.get<CadeiaValorDaoService>(CadeiaValorDaoService);\r\n    this.planejamentoInstitucionalDao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.join = [];\r\n    this.modalWidth = 1000;\r\n    this.form = this.fh.FormBuilder({\r\n      nome: { default: \"\" },\r\n      data_inicio: { default: \"\" },\r\n      data_fim: { default: \"\" },\r\n      planejamento_id: { default: null },\r\n      cadeia_valor_id: { default: null },\r\n      unidade_id: { default: this.auth.unidade?.id },\r\n      plano_entrega_id: { default: null },\r\n      programa_id: { default: null },\r\n      status: { default: \"HOMOLOGANDO\" }\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    let planoEntrega = this.metadata?.planoEntrega ? this.metadata?.planoEntrega as PlanoEntrega : null;\r\n    if(planoEntrega){\r\n      this.form.controls.plano_entrega_id.setValue(planoEntrega.id);\r\n      this.form.controls.nome.setValue(planoEntrega.nome);\r\n      this.form.controls.data_inicio.setValue(planoEntrega.data_inicio);\r\n      this.form.controls.data_fim.setValue(planoEntrega.data_fim);\r\n      this.form.controls.planejamento_id.setValue(planoEntrega.planejamento_id);\r\n      this.form.controls.cadeia_valor_id.setValue(planoEntrega.cadeia_valor_id);\r\n    }\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if (['nome', 'plano_entrega_id'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    return result; \r\n  }\r\n\r\n  public async loadData(entity: PlanoEntrega, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.loadData(this.entity!, this.form!);\r\n  }\r\n\r\n  public async saveData(form: IIndexable): Promise<PlanoEntrega> {\r\n    return new Promise<PlanoEntrega>((resolve, reject) => {\r\n      let planoEntrega = this.util.fill(new PlanoEntrega(), this.entity!);\r\n      planoEntrega = this.util.fillForm(planoEntrega, this.form!.value);\r\n      resolve(planoEntrega);\r\n    });\r\n  }\r\n\r\n  public titleEdit = (entity: PlanoEntrega): string => {\r\n    return \"Editando \" + this.lex.translate(\"Plano de Entregas\") + ': ' + (entity?.nome || \"\");\r\n  }\r\n\r\n  public onPlanoEntregaChange(event: Event){\r\n    if(this.form.controls.plano_entrega_id.value){\r\n      this.form.controls.nome.setValue(this.planoEntrega?.selectedEntity.nome);\r\n      this.form.controls.data_inicio.setValue(this.planoEntrega?.selectedEntity.data_inicio);\r\n      this.form.controls.data_fim.setValue(this.planoEntrega?.selectedEntity.data_fim);\r\n      this.form.controls.planejamento_id.setValue(this.planoEntrega?.selectedEntity.planejamento_id);\r\n      this.form.controls.cadeia_valor_id.setValue(this.planoEntrega?.selectedEntity.cadeia_valor_id);\r\n      this.form.controls.programa_id.setValue(this.planoEntrega?.selectedEntity.programa_id);\r\n    }\r\n  }\r\n}","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"plano_entrega_id\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div>\r\n        <div class=\"row mb-4\">\r\n            <input-search #planoEntrega [size]=\"12\" controlName=\"plano_entrega_id\" label=\"Plano de Entregas da Unidade-pai\" [dao]=\"planoEntregaDao\" \r\n            [selectRoute]=\"{route: ['gestao', 'plano-entrega'], params: {showFilter: false, filter: {unidade_id: auth.unidade!.unidade_pai_id, status: 'ATIVO'}}}\"\r\n            [where]=\"[['unidade_id', '=', auth.unidade!.unidade_pai_id], ['status', '=', 'ATIVO']]\" (change)=\"onPlanoEntregaChange($event)\" required></input-search>\r\n            <!--    (RI_PENT_6) Na adesão a um plano de entregas:\r\n                    - o input-search dos planos de entregas exibirá apenas os ativos da unidade-pai da unidade selecionada; \r\n                    - a listagem dos planos de entrega não exibirá as opções de filtro.\r\n            -->\r\n            <separator></separator>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-text [size]=\"12\" label=\"Nome deste Plano de Entregas\" controlName=\"nome\" [attr.maxlength]=250 required></input-text>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-search disabled [size]=\"9\" [label]=\"lex.translate('Unidade')\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n            <input-text disabled [size]=\"3\" label=\"Status\" controlName=\"status\" [attr.maxlength]=250></input-text>\r\n        </div>\r\n        <div class=\"row mt-4\">\r\n            <separator title=\"Dados herdados do Plano de Entregas da Unidade-pai\" [collapse]=\"'collapse'\">\r\n                <div class=\"row\">\r\n                    <input-search disabled [size]=\"12\" label=\"Programa de Gestão\" controlName=\"programa_id\" [dao]=\"programaDao\"></input-search>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <input-search disabled [size]=\"9\" label=\"Planejamento Institucional\" controlName=\"planejamento_id\" [dao]=\"planejamentoInstitucionalDao\"></input-search>\r\n                    <input-datetime disabled [size]=\"3\" controlName=\"data_inicio\" label=\"Início\" [labelInfo]=\"'Início ' + lex.translate('Plano de Entrega')\"></input-datetime>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <input-search disabled [size]=\"9\" label=\"Cadeia de Valor\" controlName=\"cadeia_valor_id\" [dao]=\"cadeiaValorDao\"></input-search>\r\n                    <input-datetime disabled [size]=\"3\" controlName=\"data_fim\" label=\"Fim\" [labelInfo]=\"'Fim ' + lex.translate('Plano de Entrega')\"></input-datetime>\r\n                </div>\r\n            </separator>\r\n        </div>\r\n    </div>\r\n</editable-form>","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { CadeiaValorDaoService } from 'src/app/dao/cadeia-valor-dao.service';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanoEntregaEntregaDaoService } from 'src/app/dao/plano-entrega-entrega-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { PlanoEntregaEntrega } from 'src/app/models/plano-entrega-entrega.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { EntregaFormComponent } from 'src/app/modules/cadastros/entrega/entrega-form/entrega-form.component';\r\nimport { EntregaDaoService } from 'src/app/dao/entrega-dao.service';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { CadeiaValorProcessoDaoService } from 'src/app/dao/cadeia-valor-processo-dao.service';\r\nimport { NavigateResult } from 'src/app/services/navigate.service';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { CadeiaValorProcesso } from 'src/app/models/cadeia-valor-processo.model';\r\nimport { PlanoEntregaEntregaObjetivo } from 'src/app/models/plano-entrega-entrega-objetivo.model';\r\nimport { PlanoEntregaEntregaProcesso } from 'src/app/models/plano-entrega-entrega-processo.model';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { Entrega } from 'src/app/models/entrega.model';\r\nimport { TabsComponent } from 'src/app/components/tabs/tabs.component';\r\nimport { PlanoEntrega } from 'src/app/models/plano-entrega.model';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { PlanoEntregaService } from '../plano-entrega.service';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { QueryOrderBy } from 'src/app/dao/dao-base.service';\r\nimport { Checklist } from 'src/app/models/atividade.model';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { PlanoEntregaDaoService } from 'src/app/dao/plano-entrega-dao.service';\r\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\r\n\r\n@Component({\r\n  selector: 'plano-entrega-form-entrega',\r\n  templateUrl: './plano-entrega-form-entrega.component.html',\r\n  styleUrls: ['./plano-entrega-form-entrega.component.scss']\r\n})\r\nexport class PlanoEntregaFormEntregaComponent extends PageFormBase<PlanoEntregaEntrega, PlanoEntregaEntregaDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('gridProcessos', { static: false }) public gridProcessos?: GridComponent;\r\n  @ViewChild('gridObjetivos', { static: false }) public gridObjetivos?: GridComponent;\r\n  @ViewChild('entregas', { static: false }) public entregas?: EntregaFormComponent;\r\n  @ViewChild('planejamento', { static: false }) public planejamento?: InputSearchComponent;\r\n  @ViewChild('cadeiaValor', { static: false }) public cadeiaValor?: InputSearchComponent;\r\n  @ViewChild('inputObjetivo', { static: false }) public inputObjetivo?: InputSearchComponent;\r\n  @ViewChild('inputProcesso', { static: false }) public inputProcesso?: InputSearchComponent;\r\n  @ViewChild('entrega', { static: false }) public entrega?: InputSearchComponent;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  @ViewChild('tabs', { static: false }) public tabs?: TabsComponent;\r\n  @ViewChild('etiqueta', { static: false }) public etiqueta?: InputSelectComponent;\r\n\r\n  public planoEntrega?: PlanoEntrega;\r\n  public planejamentoDao: PlanejamentoDaoService;\r\n  public planejamentoId?: string;\r\n  public cadeiaValorId?: string;\r\n  public unidadeId?: string;\r\n  public orderBy?: QueryOrderBy[];\r\n  public formObjetivos: FormGroup;\r\n  public formProcessos: FormGroup;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public entregaDao: EntregaDaoService;\r\n  public itensQualitativo: LookupItem[] = [];\r\n  public planejamentoInstitucionalDao: PlanejamentoDaoService;\r\n  public planoEntregaEntregaDao: PlanoEntregaEntregaDaoService;\r\n  public planoEntregaDao: PlanoEntregaDaoService;\r\n  public cadeiaValorDao: CadeiaValorDaoService;\r\n  public cadeiaValorProcessoDao: CadeiaValorProcessoDaoService;\r\n  public planejamentoObjetivoDao: PlanejamentoObjetivoDaoService;\r\n  public planoEntregaService: PlanoEntregaService;\r\n  public idsUnidadesAscendentes: string[] = [];\r\n  public checklist: Checklist[] = [];\r\n  public formChecklist: FormGroup;\r\n  public etiquetas: LookupItem[] = [];\r\n  public etiquetasAscendentes: LookupItem[] = [];\r\n  public dataFim?: Date;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, PlanoEntregaEntrega, PlanoEntregaEntregaDaoService);\r\n    this.planejamentoDao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.entregaDao = injector.get<EntregaDaoService>(EntregaDaoService);\r\n    this.planoEntregaDao = injector.get<PlanoEntregaDaoService>(PlanoEntregaDaoService);\r\n    this.planejamentoInstitucionalDao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.planoEntregaEntregaDao = injector.get<PlanoEntregaEntregaDaoService>(PlanoEntregaEntregaDaoService);\r\n    this.cadeiaValorDao = injector.get<CadeiaValorDaoService>(CadeiaValorDaoService);\r\n    this.cadeiaValorProcessoDao = injector.get<CadeiaValorProcessoDaoService>(CadeiaValorProcessoDaoService);\r\n    this.planejamentoObjetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\r\n    this.planoEntregaService = injector.get<PlanoEntregaService>(PlanoEntregaService);\r\n    this.modalWidth = 700;\r\n    this.join = [\"entrega\", \"objetivos.objetivo\", \"processos.processo\"];\r\n    this.form = this.fh.FormBuilder({\r\n      descricao: { default: \"\" },\r\n      descricao_entrega: { default: \"\" },\r\n      data_inicio: { default: new Date() },\r\n      data_fim: { default: new Date() },\r\n      meta: { default: 100 },\r\n      descricao_meta: { default: \"\" },\r\n      realizado: { default: null },\r\n      plano_entrega_id: { default: \"\" },\r\n      entrega_pai_id: { default: null },\r\n      entrega_id: { default: null },\r\n      progresso_esperado: { default: 100 },\r\n      progresso_realizado: { default: null },\r\n      unidade_id: { default: null },\r\n      destinatario: { default: null },\r\n      objetivos: { default: [] },\r\n      processos: { default: [] },\r\n      listaQualitativo: { default: [] },\r\n      planejamento_id: { default: null },\r\n      cadeia_valor_id: { default: null },\r\n      objetivo_id: { default: null },\r\n      objetivo: { default: null },\r\n      checklist: { default: [] },\r\n      etiquetas: { default: [] },\r\n      etiqueta: { default: \"\" },\r\n    }, this.cdRef, this.validate);\r\n    this.formObjetivos = this.fh.FormBuilder({\r\n      planejamento_objetivo_id: { default: null },\r\n    }, this.cdRef, this.validate);\r\n    this.formProcessos = this.fh.FormBuilder({\r\n      cadeia_processo_id: { default: null },\r\n    }, this.cdRef, this.validate);\r\n    this.formChecklist = this.fh.FormBuilder({\r\n      id: { default: \"\" },\r\n      texto: { default: \"\" },\r\n      checked: { default: false }\r\n    }, this.cdRef);\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n    let unidade: Unidade | null = null;\r\n    this.planoEntrega = this.metadata?.plano_entrega;\r\n    this.planejamentoId = this.metadata?.planejamento_id;\r\n    this.cadeiaValorId = this.metadata?.cadeia_valor_id;\r\n    this.unidadeId = this.metadata?.unidade_id;\r\n    if (this.metadata?.data_fim) this.dataFim = this.metadata?.data_fim;\r\n    this.entity = this.metadata?.entrega as PlanoEntregaEntrega;\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if (['descricao', 'destinatario'].indexOf(controlName) >= 0) {\r\n      if (!control.value?.length) {\r\n        result = \"Obrigatório\";\r\n      } else if (this.entrega!.selectedEntity && (this.entrega!.selectedEntity as Entrega).descricao == control.value) {\r\n        result = \"É necessário incrementar ou modificar a descrição da entrega\";\r\n      }\r\n    } else if (['progresso_realizado', 'realizado'].indexOf(controlName) >= 0 && !(control.value >= 0 || control.value?.length > 0)) {\r\n      result = \"Obrigatório\";\r\n    } else if (['progresso_esperado', 'meta'].indexOf(controlName) >= 0 && !(control.value > 0 || control.value?.length > 0)) {\r\n      result = \"Obrigatório\";\r\n    } else if (['unidade_id'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"A unidade demandante é obrigatória\";\r\n    } else if (['entrega_id'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"A entrega é obrigatória\";\r\n    } else if (['data_inicio'].indexOf(controlName) >= 0 && !this.dao?.validDateTime(control.value)) {\r\n      result = \"Inválido\";\r\n    } else if (['data_fim'].indexOf(controlName) >= 0 && !this.dao?.validDateTime(control.value)) {\r\n      result = \"Inválido\";\r\n    } else if (['planejamento_objetivo_id'].indexOf(controlName) >= 0) {\r\n      if (!control.value?.length) result = \"O objetivo do planejamento é obrigatório\";\r\n      if (control.value?.length && this.gridObjetivos?.items.filter(x => x._status == \"ADD\").map(x => x.planejamento_objetivo_id).includes(this.formObjetivos.controls.planejamento_objetivo_id.value)) result = \"Este objetivo está em duplicidade!\";\r\n    } else if (['cadeia_processo_id'].indexOf(controlName) >= 0) {\r\n      if (!control.value?.length) result = \"O processo da cadeia de valor é obrigatório\";\r\n      if (control.value?.length && this.gridProcessos?.items.map(x => x.cadeia_processo_id).includes(this.formProcessos.controls.cadeia_processo_id.value)) result = \"Este processo está em duplicidade!\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public formValidation = (form?: FormGroup) => {\r\n    let inicio = this.form?.controls.data_inicio.value;\r\n    let fim = this.form?.controls.data_fim.value;\r\n    if (this.gridObjetivos?.editing) {\r\n      this.tabs!.active = \"OBJETIVOS\";\r\n      return \"Salve ou cancele o registro atual em edição\";\r\n    }\r\n    if (this.gridProcessos?.editing) {\r\n      this.tabs!.active = \"PROCESSOS\";\r\n      return \"Salve ou cancele o registro atual em edição\";\r\n    }\r\n    if (!this.dao?.validDateTime(inicio)) {\r\n      return \"Data de início inválida\";\r\n    } else if (!this.dao?.validDateTime(fim)) {\r\n      return \"Data de fim inválida\";\r\n    } else if (inicio > fim) {\r\n      return \"A data do fim não pode ser anterior à data do início!\";\r\n    } else if (!this.auth.hasPermissionTo(\"MOD_PENT_ENTR_EXTRPL\") && this.planoEntrega && inicio < this.planoEntrega.data_inicio) {\r\n      return \"Data de inicio menor que a data de inicio \" + this.lex.translate(\"do Plano de Entrega\") + \": \" + this.util.getDateFormatted(this.planoEntrega.data_inicio);\r\n    } else if (!this.auth.hasPermissionTo(\"MOD_PENT_ENTR_EXTRPL\") && this.planoEntrega && this.planoEntrega.data_fim && fim > this.planoEntrega.data_fim) {\r\n      return \"Data de fim maior que a data de fim \" + this.lex.translate(\"do Plano de Entrega\") + \": \" + this.util.getDateFormatted(this.planoEntrega.data_fim);\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  public async loadData(entity: PlanoEntregaEntrega, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    this.onEntregaChange(form.value);\r\n    let { meta, realizado, ...entityWithout } = entity;\r\n    await this.entrega?.loadSearch(entity.entrega || formValue.entrega_id, false);\r\n    await this.unidade?.loadSearch(this.unidadeId);\r\n    await this.planejamento?.loadSearch(this.planejamentoId);\r\n    await this.cadeiaValor?.loadSearch(this.cadeiaValorId);\r\n    let unidade = this.unidadeId?.length ? (await this.unidadeDao.getById(this.unidadeId!) as Unidade) : null;\r\n    this.idsUnidadesAscendentes = unidade?.path?.split('/').slice(1) || [];\r\n    if(unidade) this.idsUnidadesAscendentes.push(unidade.id);\r\n    form.patchValue(this.util.fillForm(formValue, entityWithout));\r\n    form.controls.meta.setValue(this.planoEntregaService.getValor(entity.meta));\r\n    form.controls.realizado.setValue(this.planoEntregaService.getValor(entity.realizado));\r\n    form.controls.objetivos.setValue(entity.objetivos);\r\n    form.controls.processos.setValue(entity.processos);\r\n    if (this.dataFim) form.controls.data_fim.setValue(this.dataFim);\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity!.unidade_id = this.auth.unidade!.id;\r\n    this.entity!.unidade = this.auth.unidade;\r\n    await this.loadData(this.entity!, form);\r\n  }\r\n\r\n  public async onSaveEntrega() {\r\n    let error: any = undefined;\r\n    let save: boolean = true;\r\n    if(this.formValidation) {\r\n      try {\r\n        error = await this.formValidation(this.form!);\r\n      } catch (e: any) {\r\n        error = e; \r\n      }\r\n    }\r\n    if(this.form!.valid && !error){\r\n      if(this.action == \"edit\") {\r\n        let entity = (await this.saveData(this.form!.value)).modalResult as PlanoEntregaEntrega;\r\n        let planosImpactados: PlanoTrabalho[] = [];\r\n        entity._status = \"EDIT\";\r\n        this.loading = true;\r\n        try {\r\n          planosImpactados = await this.planoEntregaDao.planosImpactadosPorAlteracaoEntrega(entity);\r\n        } finally {\r\n          this.loading = false;\r\n        }\r\n        if(planosImpactados.length) {\r\n          let planos = planosImpactados.map(x => this.util.getDateFormatted(x.data_inicio) + \" - \" + this.util.getDateFormatted(x.data_fim) + \" - \" + x.unidade?.sigla + \": \" + x.usuario?.nome + \"\\n\");\r\n          save = await this.dialog.confirm(\"Altera assim mesmo?\", \"Caso prossiga com essa modificação os seguintes planos de trabalho serão repactuados automaticamente:\\n\\n\" + planos + \"\\n\" + \"Deseja prosseguir?\");\r\n        }\r\n    }\r\n      if(save) await this.onSaveData();\r\n    } else {\r\n      this.form!.markAllAsTouched();\r\n      if(error) this.error(error);\r\n    }\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<NavigateResult> {\r\n    return new Promise<NavigateResult>((resolve, reject) => {\r\n      let entrega: PlanoEntregaEntrega = this.util.fill(new PlanoEntregaEntrega(), this.entity!);\r\n      this.gridObjetivos?.confirm();\r\n      this.gridProcessos?.confirm();\r\n      let { meta, realizado, ...valueWithout } = this.form!.value;\r\n      entrega = this.util.fillForm(entrega, valueWithout);\r\n      entrega.unidade = this.unidade?.selectedEntity;\r\n      entrega.entrega = this.entrega?.selectedEntity;\r\n      entrega.meta = this.planoEntregaService.getEntregaValor(entrega.entrega!, meta);\r\n      entrega.realizado = this.planoEntregaService.getEntregaValor(entrega.entrega!, realizado);\r\n      resolve(new NavigateResult(entrega));\r\n    });\r\n  }\r\n\r\n  public onRealizadoChange(value: any, entrega?: Entrega) {\r\n    this.calculaRealizado();\r\n  }\r\n\r\n  public calculaRealizado() {\r\n    const meta = this.form?.controls.meta.value;\r\n    const realizado = this.form?.controls.realizado.value;\r\n    if (meta && realizado) {\r\n      let totalRealizado = !isNaN(realizado) ? ((realizado / meta) * 100).toFixed(0) || 0 : 0;\r\n      this.form?.controls.progresso_realizado.setValue(totalRealizado);\r\n    }\r\n  }\r\n\r\n  public dynamicOptionsObjetivos(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let objetivo: PlanejamentoObjetivo = row as PlanejamentoObjetivo;\r\n    result.push({ label: \"Excluir\", icon: \"bi bi-trash\", color: \"btn-outline-danger\", onClick: (objetivo: PlanejamentoObjetivo) => { this.removeObjetivo(objetivo); } });\r\n    return result;\r\n  }\r\n\r\n  public dynamicButtonsObjetivos(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let objetivo: PlanejamentoObjetivo = row as PlanejamentoObjetivo;\r\n    return result;\r\n  }\r\n\r\n  public dynamicButtonsProcessos(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let processo: CadeiaValorProcesso = row as CadeiaValorProcesso;\r\n    return result;\r\n  }\r\n\r\n  public async addObjetivo() {\r\n    return {\r\n      id: this.dao!.generateUuid(),\r\n      _status: \"ADD\"\r\n    } as IIndexable;\r\n  }\r\n\r\n  public async removeObjetivo(row: any) {\r\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\r\n    if (confirm) row._status = \"DELETE\";\r\n    return false;\r\n  }\r\n\r\n  public async saveObjetivo(form: FormGroup, row: any) {\r\n    let consolidado = row as PlanoEntregaEntregaObjetivo;\r\n    if (form!.controls.planejamento_objetivo_id.value.length && this.inputObjetivo!.selectedItem) {\r\n      consolidado.planejamento_objetivo_id = form!.controls.planejamento_objetivo_id.value;\r\n      consolidado.objetivo = this.inputObjetivo!.selectedItem!.entity;\r\n      return consolidado;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  public async addProcesso() {\r\n    return {\r\n      id: this.dao!.generateUuid(),\r\n      _status: \"ADD\"\r\n    } as IIndexable;\r\n  }\r\n\r\n  public async removeProcesso(row: any) {\r\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\r\n    if (confirm) row._status = \"DELETE\";\r\n    return false;\r\n  }\r\n\r\n  public async saveProcesso(form: FormGroup, row: any) {\r\n    let consolidado = row as PlanoEntregaEntregaProcesso;\r\n    if (form!.controls.cadeia_processo_id.value.length && this.inputProcesso!.selectedItem) {\r\n      consolidado.cadeia_processo_id = form!.controls.cadeia_processo_id.value;\r\n      consolidado.processo = this.inputProcesso!.selectedItem!.entity;\r\n      return consolidado;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  public async onEntregaChange(row: any) {\r\n    if (this.entrega && this.entrega.selectedItem) {\r\n      const entregaItem = this.entrega?.selectedEntity as Entrega;\r\n      const tipoIndicador = entregaItem.tipo_indicador;\r\n      /**if(!this.form!.controls.descricao.value.length) {\r\n        this.form!.controls.descricao.setValue(entregaItem?.descricao || \"\");\r\n      }*/\r\n      switch (tipoIndicador) {\r\n        case 'QUALITATIVO':\r\n          this.itensQualitativo = entregaItem.lista_qualitativos || [];\r\n          this.form?.controls.meta.setValue(this.itensQualitativo.length ? this.itensQualitativo[0].key : null);\r\n          this.form?.controls.realizado.setValue(this.itensQualitativo.length ? this.itensQualitativo[0].key : null);\r\n          break;\r\n        case 'VALOR':\r\n          this.form?.controls.meta.setValue('');\r\n          this.form?.controls.realizado.setValue(0);\r\n          break;\r\n        case 'QUANTIDADE':\r\n          this.form?.controls.meta.setValue('');\r\n          this.form?.controls.realizado.setValue(0);\r\n          break;\r\n        case 'PORCENTAGEM':\r\n          this.form?.controls.meta.setValue(100);\r\n          this.form?.controls.realizado.setValue(0);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      //if (entregaItem.etiquetas) this.loadEtiquetas();\r\n      this.loadEtiquetas();\r\n      if (entregaItem.checklist) this.loadChecklist();\r\n      this.calculaRealizado();\r\n    }\r\n  }\r\n\r\n  public async loadEtiquetas() {\r\n    if (!this.etiquetasAscendentes.filter(e => e.data == this.unidade?.selectedEntity.id).length) {\r\n      let ascendentes =  await this.carregaEtiquetasUnidadesAscendentes(this.unidade?.selectedEntity);\r\n      this.etiquetasAscendentes.push(...ascendentes);\r\n    }\r\n    this.etiquetas = this.util.merge(this.entrega?.selectedEntity.etiquetas, this.unidade?.selectedEntity.etiquetas, (a, b) => a.key == b.key);\r\n    this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\r\n    this.etiquetas = this.util.merge(this.etiquetas, this.etiquetasAscendentes.filter(x => x.data == this.unidade?.selectedEntity.id), (a, b) => a.key == b.key);\r\n  }\r\n\r\n  public async carregaEtiquetasUnidadesAscendentes(unidadeAtual: Unidade) {\r\n    let etiquetasUnidades: LookupItem[] = [];\r\n    let path = unidadeAtual.path.split(\"/\");\r\n    let unidades = await this.unidadeDao.query({ where: [[\"id\", \"in\", path]] }).asPromise();\r\n    unidades.forEach(un => {\r\n      etiquetasUnidades = this.util.merge(etiquetasUnidades, un.etiquetas, (a, b) => a.key == b.key);\r\n    });\r\n    etiquetasUnidades.forEach(e => e.data = unidadeAtual.id);\r\n    return etiquetasUnidades;\r\n  }\r\n\r\n  public loadChecklist() {\r\n    const modeloEntrega = this.entrega?.selectedEntity as Entrega;\r\n    let checkAdd: Checklist[] = modeloEntrega.checklist.map(a => {\r\n      return {\r\n        id: a.id,\r\n        texto: a.texto,\r\n        checked: false\r\n      } as Checklist;\r\n    });\r\n    this.checklist = checkAdd || [];\r\n    this.form!.controls.checklist.setValue(checkAdd);\r\n  }\r\n\r\n  public addItemHandleEtiquetas(): LookupItem | undefined {\r\n    let result = undefined;\r\n    if (this.etiqueta && this.etiqueta.selectedItem) {\r\n      const item = this.etiqueta.selectedItem;\r\n      const key = item.key?.length ? item.key : this.util.textHash(item.value);\r\n      if (this.util.validateLookupItem(this.form!.controls.etiquetas.value, key)) {\r\n        result = {\r\n          key: key,\r\n          value: item.value,\r\n          color: item.color,\r\n          icon: item.icon\r\n        };\r\n        this.form!.controls.etiqueta.setValue(\"\");\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"descricao\" (submit)=\"onSaveEntrega()\" (cancel)=\"onCancel()\">\r\n  <tabs #tabs display right [title]=\"!isModal ? title : ''\">\r\n    <tab key=\"ENTREGAS\" label=\"Entregas\">\r\n      <div class=\"row\">\r\n        <separator [title]=\"'Informações gerais da ' + lex.translate('entrega')\" collapse [collapsed]=\"false\">\r\n          <div class=\"row\">\r\n            <input-text [size]=\"12\" label=\"Título\" controlName=\"descricao\" [placeholder]=\"'Título da ' + lex.translate('entrega')\" [attr.maxlength]=250 required></input-text>\r\n          </div>\r\n          <div class=\"row\">\r\n            <input-textarea [size]=\"12\" [label]=\"'Descrição da ' + lex.translate('entrega')\" controlName=\"descricao_entrega\" [placeholder]=\"'Descreva a ' + lex.translate('entrega')\"></input-textarea>\r\n          </div>\r\n          <div class=\"row\">\r\n            <input-search [size]=\"12\" [label]=\"'Vínculo com ' + lex.translate('entrega') + ' de ' + lex.translate('plano de entrega') + ' superior'\" controlName=\"entrega_pai_id\" [dao]=\"planoEntregaEntregaDao\" [where]=\"['plano_entrega.unidade_id', 'in', idsUnidadesAscendentes]\" [selectRoute]=\"{route: ['gestao', 'plano-entrega', 'entregaList']}\" [metadata]=\"{'idsUnidadesAscendentes': idsUnidadesAscendentes}\"></input-search>\r\n          </div>\r\n          <separator [title]=\"'Etapas da ' + lex.translate('entrega')\" collapse [collapsed]=\"true\">\r\n            <div class=\"row mt-4\">\r\n              <!--div class=\"col-md-6\"-->\r\n              <h5>Etapas</h5>\r\n              <grid [control]=\"form!.controls.checklist\" [form]=\"formChecklist\" [hasAdd]=\"true\" [hasDelete]=\"true\" editable>\r\n                <columns>\r\n                  <!--<column type=\"switch\" title=\"Check\" field=\"checked\"></column>-->\r\n                  <column type=\"text\" title=\"Texto\" field=\"texto\"></column>\r\n                  <column type=\"options\"></column>\r\n                </columns>\r\n              </grid>\r\n              <!--/div-->\r\n            </div>\r\n          </separator>\r\n        </separator>\r\n        <separator [title]=\"'Especificações da ' + lex.translate('entrega')\" collapse [collapsed]=\"false\">\r\n          <div class=\"row\">\r\n            <input-datetime date [size]=\"6\" label=\"Início\" controlName=\"data_inicio\" [labelInfo]=\"'Início ' + lex.translate('Plano de Entregas')\" required></input-datetime>\r\n            <input-datetime date [size]=\"6\" label=\"Fim\" controlName=\"data_fim\" [labelInfo]=\"'Fim ' + lex.translate('Plano de Entregas') + '(Estimativa Inicial)'\" required></input-datetime>\r\n          </div>\r\n          <div class=\"row\">\r\n            <input-search [size]=\"6\" #unidade label=\"Demandante\" controlName=\"unidade_id\" [dao]=\"unidadeDao\" required></input-search>\r\n            <input-text [size]=\"6\" label=\"Destinatário\" controlName=\"destinatario\" [attr.maxlength]=250 required></input-text>\r\n          </div>\r\n        </separator>\r\n        <separator title=\"Planejamento\"></separator>\r\n        <div class=\"row\">\r\n          <input-search #entrega [size]=\"12\" [label]=\"lex.translate('Tipo de Meta')\" controlName=\"entrega_id\" [dao]=\"entregaDao\" (change)=\"onEntregaChange($event)\" placeholder=\"Selecione ou cadastre uma meta do catálogo usando a lupa\" required></input-search>\r\n        </div>\r\n        <div class=\"row\">\r\n          <input-textarea [size]=\"12\" label=\"Descrição da meta\" controlName=\"descricao_meta\" placeholder=\"Descreva a meta\"></input-textarea>\r\n        </div>\r\n        <div *ngIf=\"this.entrega?.selectedEntity; else naoSelecionou\" class=\"row\">\r\n          <plano-entrega-valor-meta-input icon=\"bi bi-graph-up-arrow\" [entrega]=\"entrega?.selectedEntity\" [size]=\"6\" [control]=\"form!.controls.meta\" label=\"Meta\" labelInfo=\"Onde quero chegar ao final da entrega. Evolução total da entrega, podendo ultrapassar o período do plano de entregas\"></plano-entrega-valor-meta-input>\r\n          <input-number [size]=\"6\" label=\"Parcela da entrega no plano\" controlName=\"progresso_esperado\" sufix=\"%\" labelInfo=\"Quanto vou caminhar nesse plano de entregas. Percentual do total da entrega que será realizado durante a vigência desse plano\"></input-number>\r\n          <div class=\"row\">\r\n            <plano-entrega-valor-meta-input icon=\"bi bi-check-lg\" [entrega]=\"entrega?.selectedEntity\" [size]=\"6\" [control]=\"form!.controls.realizado\" label=\"Progresso ao início do plano\" [change]=\"onRealizadoChange.bind(this)\" labelInfo=\"De onde estou saindo nesse plano. Valor correspondente ao progresso verificado no planejamento do plano de entregas\"></plano-entrega-valor-meta-input>\r\n            <input-number [size]=\"6\" label=\"Progresso já realizado\" [stepValue]=\"0.01\" controlName=\"progresso_realizado\" sufix=\"%\" disabled labelInfo=\"Quanto caminhei no plano atual Evolução já realizada para a meta. No ato da criação do plano, é o percentual de progresso ao início do plano em relação à meta\"></input-number>\r\n          </div>\r\n        </div>\r\n        <ng-template #naoSelecionou>\r\n          <div class=\"row\">\r\n            <input-number [size]=\"6\" label=\"Parcela da entrega no plano\" controlName=\"progresso_esperado\" sufix=\"%\" labelInfo=\"Quanto vou caminhar nesse plano de entregas. Percentual do total da entrega que será realizado durante a vigência desse plano\"></input-number>\r\n            <input-number [size]=\"6\" label=\"Progresso já realizado\" [stepValue]=\"0.01\" controlName=\"progresso_realizado\" sufix=\"%\" disabled labelInfo=\"Quanto caminhei no plano atual Evolução já realizada para a meta. No ato da criação do plano, é o percentual de progresso ao início do plano em relação à meta\"></input-number>\r\n          </div>\r\n        </ng-template>\r\n        <separator [title]=\"'Caracterização da ' +  lex.translate('entrega')\" collapse [collapsed]=\"false\">\r\n          <div class=\"row\">\r\n            <input-multiselect label=\"Etiquetas\" controlName=\"etiquetas\" [size]=\"12\" [control]=\"form!.controls.etiquetas\" [addItemHandle]=\"addItemHandleEtiquetas.bind(this)\">\r\n              <input-select [size]=\"12\" #etiqueta controlName=\"etiqueta\" [control]=\"form!.controls.etiqueta\" [items]=\"etiquetas\"></input-select>\r\n            </input-multiselect>\r\n          </div>\r\n        </separator>\r\n      </div>\r\n    </tab>\r\n    <tab *ngIf=\"planejamentoId?.length\" key=\"OBJETIVOS\" label=\"Objetivos\">\r\n      <input-search [size]=\"12\" #planejamento controlName=\"planejamento_id\" [dao]=\"planejamentoDao\" disabled></input-search>\r\n      <grid [control]=\"form!.controls.objetivos\" [form]=\"formObjetivos\" #gridObjetivos editable [orderBy]=\"orderBy\" [hasDelete]=\"true\" [hasEdit]=\"true\" [add]=\"addObjetivo.bind(this)\" [remove]=\"removeObjetivo.bind(this)\" [save]=\"saveObjetivo.bind(this)\">\r\n        <columns>\r\n          <column [titleTemplate]=\"titleObjetivo\" [template]=\"columnObjetivo\" [editTemplate]=\"editObjetivo\">\r\n            <ng-template let-header=\"header\" #titleObjetivo>\r\n              <order by=\"objetivo.nome\" [header]=\"header\">Objetivos</order>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnObjetivo>\r\n              <span>{{row.objetivo?.nome}}</span>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #editObjetivo>\r\n              <input-search [size]=\"12\" #inputObjetivo controlName=\"planejamento_objetivo_id\" [where]=\"[['planejamento_id', '==', planejamentoId]]\" [dao]=\"planejamentoObjetivoDao\" [selectRoute]=\"{route: ['gestao', 'planejamento', 'objetivoList'], params: {filter: {planejamento_id: planejamentoId}}}\"></input-search>\r\n            </ng-template>\r\n          </column>\r\n          <column type=\"options\"></column>\r\n        </columns>\r\n      </grid>\r\n    </tab>\r\n    <tab *ngIf=\"cadeiaValorId?.length\" key=\"PROCESSOS\" label=\"Processos\">\r\n      <input-search [size]=\"12\" #cadeiaValor controlName=\"cadeia_valor_id\" [dao]=\"cadeiaValorDao\" disabled></input-search>\r\n      <grid [control]=\"form!.controls.processos\" [form]=\"formProcessos\" #gridProcessos editable [orderBy]=\"orderBy\" [hasDelete]=\"true\" [hasEdit]=\"true\" [add]=\"addProcesso.bind(this)\" [remove]=\"removeProcesso.bind(this)\" [save]=\"saveProcesso.bind(this)\">\r\n        <columns>\r\n          <column [titleTemplate]=\"titleProcessos\" [template]=\"processo\" [editTemplate]=\"editProcesso\">\r\n            <ng-template let-header=\"header\" #titleProcessos>\r\n              <order by=\"processo.nome\" [header]=\"header\">Processos</order>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #processo>\r\n              <span>{{row.processo?.nome}}</span>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #editProcesso>\r\n              <input-search [size]=\"12\" #inputProcesso label icon controlName=\"cadeia_processo_id\" label [where]=\"[['cadeia_valor_id', '==', cadeiaValorId]]\" [dao]=\"cadeiaValorProcessoDao\" [selectRoute]=\"{route: ['gestao', 'cadeia-valor', 'processoList'], params: {filter: {cadeia_valor_id: cadeiaValorId}}}\"></input-search>\r\n            </ng-template>\r\n          </column>\r\n          <column type=\"options\" [dynamicButtons]=\"dynamicButtonsProcessos.bind(this)\"></column>\r\n        </columns>\r\n      </grid>\r\n    </tab>\r\n  </tabs>\r\n</editable-form>","import { Component, Injector, ViewChild } from \"@angular/core\";\r\nimport { AbstractControl, FormGroup } from \"@angular/forms\";\r\nimport { EditableFormComponent } from \"src/app/components/editable-form/editable-form.component\";\r\nimport { PlanoEntregaEntregaProgressoDaoService } from \"src/app/dao/plano-entrega-entrega-progresso-dao.service\";\r\nimport { IIndexable } from \"src/app/models/base.model\";\r\nimport { PlanoEntregaEntregaProgresso } from \"src/app/models/plano-entrega-entrega-progresso.model\";\r\nimport { PageFormBase } from \"src/app/modules/base/page-form-base\";\r\nimport { NavigateResult } from \"src/app/services/navigate.service\";\r\nimport { PlanoEntregaService } from \"../plano-entrega.service\";\r\nimport { PlanoEntregaEntregaDaoService } from \"src/app/dao/plano-entrega-entrega-dao.service\";\r\nimport { PlanoEntregaEntrega } from \"src/app/models/plano-entrega-entrega.model\";\r\n\r\n@Component({\r\n  selector: 'plano-entrega-form-progresso',\r\n  templateUrl: './plano-entrega-form-progresso.component.html',\r\n  styleUrls: ['./plano-entrega-form-progresso.component.scss']\r\n})\r\nexport class PlanoEntregaFormProgressoComponent extends PageFormBase<PlanoEntregaEntregaProgresso, PlanoEntregaEntregaProgressoDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n\r\n  public planoEntregaService: PlanoEntregaService;\r\n  public planoEntregaEntregaDao: PlanoEntregaEntregaDaoService;\r\n  public planoEntregaEntregaId?: string;\r\n  public planoEntregaEntrega?: PlanoEntregaEntrega | undefined;\r\n  \r\n  constructor(public injector: Injector) {   \r\n    super(injector, PlanoEntregaEntregaProgresso, PlanoEntregaEntregaProgressoDaoService);\r\n    this.planoEntregaService = injector.get<PlanoEntregaService>(PlanoEntregaService);\r\n    this.planoEntregaEntregaDao = injector.get<PlanoEntregaEntregaDaoService>(PlanoEntregaEntregaDaoService);\r\n    this.join = [\"plano_entrega_entrega.entrega\"];\r\n    \r\n    this.form = this.fh.FormBuilder({\r\n      data_progresso: { default: new Date() },\r\n      data_inicio: { default: new Date() },\r\n      data_fim: { default: new Date() },\r\n      meta: { default: 100 },\r\n      realizado: { default: null },\r\n      progresso_esperado: { default: 100 },\r\n      progresso_realizado: { default: null }, \r\n      usuario_id: {default: null},\r\n      plano_entrega_entrega_id: {default: null},     \r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n    this.planoEntregaEntregaId = this.urlParams!.get(\"entrega_id\")!;\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if (['progresso_realizado', 'realizado'].indexOf(controlName) >= 0 && !(control.value >= 0 || control.value?.length > 0)) {\r\n      result = \"Obrigatório\";\r\n    } else if (['progresso_esperado', 'meta'].indexOf(controlName) >= 0 && !(control.value > 0 || control.value?.length > 0)) {\r\n      result = \"Obrigatório\";\r\n    } else if (['data_inicio'].indexOf(controlName) >= 0 && !this.dao?.validDateTime(control.value)) {\r\n      result = \"Inválido\";\r\n    } else if (['data_fim'].indexOf(controlName) >= 0 && !this.dao?.validDateTime(control.value)) {\r\n      result = \"Inválido\";\r\n    } \r\n\r\n    return result\r\n  }\r\n\r\n  public async loadData(entity: PlanoEntregaEntregaProgresso, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    let {meta, realizado, ...entityWithout} = entity;\r\n    form.patchValue(this.util.fillForm(formValue, entityWithout));\r\n    form.controls.meta.setValue(this.planoEntregaService.getValor(entity.meta));\r\n    form.controls.realizado.setValue(this.planoEntregaService.getValor(entity.realizado));\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity = new PlanoEntregaEntregaProgresso();\r\n    this.planoEntregaEntrega = this.planoEntregaEntregaId ? (await this.planoEntregaEntregaDao.getById(this.planoEntregaEntregaId, ['entrega']) as PlanoEntregaEntrega) : undefined;\r\n\r\n\r\n    this.entity!.usuario_id = this.auth.usuario!.id;\r\n    this.entity!.plano_entrega_entrega_id = this.planoEntregaEntrega?.id!;\r\n    this.entity!.plano_entrega_entrega = this.planoEntregaEntrega;\r\n    this.entity!.meta = this.planoEntregaEntrega?.meta!;\r\n    this.entity!.realizado = this.planoEntregaEntrega?.realizado!;\r\n    this.entity!.progresso_esperado = this.planoEntregaEntrega?.progresso_esperado!;\r\n    this.entity!.progresso_realizado = this.planoEntregaEntrega?.progresso_realizado!;\r\n    this.entity!.data_inicio = this.planoEntregaEntrega?.data_inicio!;\r\n    this.entity!.data_fim = this.planoEntregaEntrega?.data_fim!;\r\n    await this.loadData(this.entity!, form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<PlanoEntregaEntregaProgresso> {\r\n    return new Promise<PlanoEntregaEntregaProgresso>((resolve, reject) => {\r\n      let progresso: PlanoEntregaEntregaProgresso = this.util.fill(new PlanoEntregaEntregaProgresso(), this.entity!);\r\n      let {meta, realizado, ...valueWithout} = this.form!.value;\r\n\r\n      progresso = this.util.fillForm(progresso, valueWithout);\r\n      progresso.meta = this.planoEntregaService.getEntregaValor(this.entity!.plano_entrega_entrega?.entrega!, meta);\r\n      progresso.realizado = this.planoEntregaService.getEntregaValor(this.entity!.plano_entrega_entrega?.entrega!, realizado);\r\n      \r\n      resolve(progresso);\r\n    });\r\n  }\r\n\r\n  public titleEdit = (entity: PlanoEntregaEntregaProgresso): string => {\r\n    return \"Editando \" + this.lex.translate(\"Progresso da entrega\") + ': ' + (entity?.entrega?.descricao || \"\");\r\n  }\r\n\r\n}","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"data_progresso\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n  <div class=\"row\">\r\n    <input-datetime date [size]=\"4\" label=\"Data do progresso\" controlName=\"data_progresso\" required></input-datetime>\r\n    <input-datetime date [size]=\"4\" label=\"Início\" controlName=\"data_inicio\" [labelInfo]=\"'Início ' + lex.translate('Plano de Entregas')\" required></input-datetime>\r\n    <input-datetime date [size]=\"4\" label=\"Fim\" controlName=\"data_fim\" [labelInfo]=\"'Fim ' + lex.translate('Plano de Entregas') + '(Estimativa Inicial)'\" required></input-datetime>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <plano-entrega-valor-meta-input icon=\"bi bi-graph-up-arrow\" [entrega]=\"entity?.plano_entrega_entrega?.entrega\" [size]=\"6\" [control]=\"form!.controls.meta\" label=\"Meta\"></plano-entrega-valor-meta-input>\r\n    <plano-entrega-valor-meta-input icon=\"bi bi-check-lg\" [entrega]=\"entity?.plano_entrega_entrega?.entrega\" [size]=\"6\" [control]=\"form!.controls.realizado\" label=\"Valor Inicial\" labelInfo=\"Valor da meta verificado no início do plano de entrega\"></plano-entrega-valor-meta-input>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <input-number [size]=\"6\" label=\"Progresso Esperado\" controlName=\"progresso_esperado\" sufix=\"%\"></input-number>\r\n    <input-number [size]=\"6\" label=\"Progresso Realizado\" controlName=\"progresso_realizado\" sufix=\"%\"></input-number>\r\n  </div>\r\n\r\n</editable-form>","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputDatetimeComponent } from 'src/app/components/input/input-datetime/input-datetime.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { InputTextComponent } from 'src/app/components/input/input-text/input-text.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { CadeiaValorDaoService } from 'src/app/dao/cadeia-valor-dao.service';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanoEntregaDaoService } from 'src/app/dao/plano-entrega-dao.service';\r\nimport { ProgramaDaoService } from 'src/app/dao/programa-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PlanoEntrega } from 'src/app/models/plano-entrega.model';\r\nimport { Programa } from 'src/app/models/programa.model';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\n\r\n\r\n@Component({\r\n  selector: 'app-plano-entrega-form',\r\n  templateUrl: './plano-entrega-form.component.html',\r\n  styleUrls: ['./plano-entrega-form.component.scss']\r\n})\r\n\r\nexport class PlanoEntregaFormComponent extends PageFormBase<PlanoEntrega, PlanoEntregaDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(GridComponent, { static: true }) public grid?: GridComponent;\r\n  @ViewChild('programa', { static: true }) public programa?: InputSearchComponent;\r\n  @ViewChild('unidade', { static: true }) public unidade?: InputSearchComponent;\r\n  @ViewChild('nome', { static: true }) public nomePE?: InputTextComponent;\r\n  @ViewChild('data_fim', { static: true }) public dataFim?: InputDatetimeComponent;\r\n\r\n  public unidadeDao: UnidadeDaoService;\r\n  public programaDao: ProgramaDaoService;\r\n  public cadeiaValorDao: CadeiaValorDaoService;\r\n  public planoEntregaDao: PlanoEntregaDaoService;\r\n  public planejamentoInstitucionalDao: PlanejamentoDaoService;\r\n  public form: FormGroup;\r\n  public maxPE: Number | undefined;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, PlanoEntrega, PlanoEntregaDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.programaDao = injector.get<ProgramaDaoService>(ProgramaDaoService);\r\n    this.cadeiaValorDao = injector.get<CadeiaValorDaoService>(CadeiaValorDaoService);\r\n    this.planoEntregaDao = injector.get<PlanoEntregaDaoService>(PlanoEntregaDaoService);\r\n    this.planejamentoInstitucionalDao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.join = [\"entregas.entrega\", \"entregas.objetivos.objetivo\", \"entregas.processos.processo\", \"entregas.unidade\", \"unidade\", 'entregas.reacoes.usuario:id,nome,apelido'];\r\n    this.modalWidth = 1200;\r\n    this.form = this.fh.FormBuilder({\r\n      nome: { default: \"\" },\r\n      data_inicio: { default: new Date()},\r\n      data_fim: { default: new Date() },\r\n      unidade_id: { default: \"\" },\r\n      plano_entrega_id: { default: null },  // até o momento, um plano de entrega não poderá estar vinculado a outro (adesão de Plano de Entrega)\r\n      planejamento_id: { default: null },\r\n      cadeia_valor_id: { default: null },\r\n      programa_id: { default: null },\r\n      entregas: { default: [] },\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if (['nome', 'unidade_id', 'programa_id'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    if (['data_inicio'].indexOf(controlName) >= 0 && !this.dao?.validDateTime(control.value)) {\r\n      result = \"Inválido\";\r\n    }\r\n    if (['data_fim'].indexOf(controlName) >= 0 && !this.dao?.validDateTime(control.value)) {\r\n      result = \"Inválido\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public formValidation = (form?: FormGroup) => {\r\n    const inicio = this.form?.controls.data_inicio.value;\r\n    const fim = this.form?.controls.data_fim.value;\r\n    const programa = this.programa?.selectedEntity as Programa;\r\n    if (!programa) {\r\n      return \"Obrigatório selecionar o programa\";\r\n    } else if (!this.dao?.validDateTime(inicio)) {\r\n      return \"Data de início inválida\";\r\n    } else if (!this.dao?.validDateTime(fim)) {\r\n      return \"Data de fim inválida\";\r\n    } else if (inicio > fim) {\r\n      return \"A data do fim não pode ser menor que a data do início!\";\r\n    } else {\r\n      const entregas = this.form!.controls.entregas.value || [];\r\n      for (let entrega of entregas) {\r\n        if (!this.auth.hasPermissionTo(\"MOD_PENT_ENTR_EXTRPL\") && entrega.data_inicio < inicio) return \"A \" + this.lex.translate(\"entrega\") + \" '\" + entrega.descricao + \"' possui data inicial anterior à \" + this.lex.translate(\"do Plano de Entrega\") + \": \" + this.util.getDateFormatted(inicio);\r\n        if (!this.auth.hasPermissionTo(\"MOD_PENT_ENTR_EXTRPL\") && entrega.data_fim > fim) return \"A \" + this.lex.translate(\"entrega\") + \" '\" + entrega.descricao + \"' possui data fim posterior à \" + this.lex.translate(\"do Plano de Entrega\") + \": \" + this.util.getDateFormatted(fim);\r\n      }\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  public async loadData(entity: PlanoEntrega, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity = new PlanoEntrega();\r\n    this.entity.unidade_id = this.auth.unidade?.id || \"\";\r\n    this.entity.unidade = this.auth.unidade;\r\n    const di = new Date(this.entity.data_inicio).toLocaleDateString();\r\n    const df= this.entity.data_fim ? new Date(this.entity.data_fim).toLocaleDateString() : new Date().toLocaleDateString();\r\n    this.entity.nome = this.auth.unidade!.sigla + \" - \" + di + \" - \" + df;\r\n    this.loadData(this.entity!, this.form!);\r\n  }\r\n\r\n  public async saveData(form: IIndexable): Promise<PlanoEntrega> {\r\n    return new Promise<PlanoEntrega>((resolve, reject) => {\r\n      let planoEntrega: PlanoEntrega = this.util.fill(new PlanoEntrega(), this.entity!);\r\n      planoEntrega = this.util.fillForm(planoEntrega, this.form!.value);\r\n      planoEntrega.entregas = planoEntrega.entregas?.filter(x => x._status) || [];\r\n      resolve(planoEntrega);\r\n    });\r\n  }\r\n\r\n  public titleEdit = (entity: PlanoEntrega): string => {\r\n    return \"Editando \" + this.lex.translate(\"Plano de Entregas\") + ': ' + (entity?.nome || \"\");\r\n  }\r\n\r\n  public dynamicButtons(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    return result;\r\n  }\r\n\r\n  public onDataChange(){ this.sugereNome(); }\r\n\r\n  public async onUnidadeChange(){\r\n   \r\n    const unidadeIdValue = this.form.controls['unidade_id'].value;\r\n    let unidade_id = unidadeIdValue? unidadeIdValue :  this.auth.unidade?.id ;\r\n    if(unidade_id){\r\n      try {\r\n        const permissaoIncluir = await this.planoEntregaDao.permissaoIncluir( unidade_id );\r\n      } catch (error: any) {\r\n        this.error(error);\r\n      }\r\n\r\n    }\r\n    this.sugereNome();\r\n}\r\n\r\n  public sugereNome() {\r\n    //if(this.action == 'new') {\r\n      const sigla = this.unidade?.selectedItem ? this.unidade?.selectedItem?.entity.sigla : this.auth.unidade?.sigla;\r\n      const di = new Date(this.form!.controls.data_inicio.value).toLocaleDateString();\r\n      const df = this.form!.controls.data_fim.value ? \" - \" + new Date(this.form!.controls.data_fim.value).toLocaleDateString() : '';\r\n      this.form!.controls.nome.setValue(sigla + \" - \" + di + df);\r\n    //}\r\n  }\r\n\r\n  public somaDia(date: Date, days: number){\r\n    let result = new Date(date);\r\n    result.setDate(result.getDate() + days);\r\n    return result;\r\n  }\r\n\r\n  public onProgramaChange(){\r\n    const dias=(this.programa?.selectedEntity as Programa)?.prazo_max_plano_entrega;\r\n    const data=this.somaDia(this.entity!.data_inicio,dias);\r\n    if (!this.entity?.data_fim) {\r\n      this.form!.controls.data_fim.setValue(new Date(data));\r\n      this.dataFim?.change.emit();\r\n    }\r\n  }\r\n\r\n}\r\n\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"entregas\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div>\r\n        <div class=\"row\">\r\n            <input-search #unidade [size]=\"4\" [disabled]=\"entity?.id ? 'disabled' : undefined\" controlName=\"unidade_id\" [dao]=\"unidadeDao\" (change)=\"onUnidadeChange()\" required></input-search>\r\n            <input-search #programa [size]=\"4\" [disabled]=\"entity?.id ? 'disabled' : undefined\" controlName=\"programa_id\" [dao]=\"programaDao\" (change)=\"onProgramaChange()\" required></input-search>\r\n            <input-datetime date [size]=\"2\" label=\"Início\" controlName=\"data_inicio\" [labelInfo]=\"'Início ' + lex.translate('Plano de Entrega')\" (change)=\"onDataChange()\" required></input-datetime>\r\n            <input-datetime date [size]=\"2\" #data_fim label=\"Fim\" controlName=\"data_fim\" [labelInfo]=\"'Fim ' + lex.translate('Plano de Entrega')\" (change)=\"onDataChange()\" required></input-datetime>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-text #nome [size]=\"4\" label=\"Nome\" controlName=\"nome\" [attr.maxlength]=250 required></input-text>\r\n            <input-search #planejamento [size]=\"4\" [emptyValue]=\"null\" controlName=\"planejamento_id\" label=\"Planejamento Institucional\" [dao]=\"planejamentoInstitucionalDao\"></input-search>\r\n            <input-search #cadeiaValor [size]=\"4\" [emptyValue]=\"null\" controlName=\"cadeia_valor_id\" label=\"Cadeia de Valor\" [dao]=\"cadeiaValorDao\"></input-search>\r\n        </div>\r\n        <separator title=\"Entregas\"></separator>\r\n        <plano-entrega-list-entrega #entregas noPersist [disabled]=\"formDisabled\" [control]=\"form!.controls.entregas\" [planejamentoId]=\"form!.controls.planejamento_id.value\" [cadeiaValorId]=\"form!.controls.cadeia_valor_id.value\" [unidadeId]=\"form!.controls.unidade_id.value\" [dataFim]=\"form!.controls.data_fim.value\"></plano-entrega-list-entrega>\r\n    </div>\r\n</editable-form>","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PlanoEntregaEntregaDaoService } from 'src/app/dao/plano-entrega-entrega-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { PlanoEntregaEntrega } from 'src/app/models/plano-entrega-entrega.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { PlanoEntregaService } from '../plano-entrega.service';\r\n\r\n@Component({\r\n  selector: 'app-plano-entrega-list-entrega-list',\r\n  templateUrl: './plano-entrega-list-entrega-list.component.html',\r\n  styleUrls: ['./plano-entrega-list-entrega-list.component.scss']\r\n})\r\nexport class PlanoEntregaListEntregaListComponent extends PageListBase<PlanoEntregaEntrega,PlanoEntregaEntregaDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n\r\n  public planoEntregaDao: PlanoEntregaEntregaDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public buttons: ToolbarButton[] = [];\r\n  public idsUnidadesAscendentes: string[] = [];\r\n  public planoEntregaService: PlanoEntregaService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, PlanoEntregaEntrega, PlanoEntregaEntregaDaoService);\r\n    this.planoEntregaDao = injector.get<PlanoEntregaEntregaDaoService>(PlanoEntregaEntregaDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.planoEntregaService = injector.get<PlanoEntregaService>(PlanoEntregaService);\r\n    this.title = this.lex.translate(\"Entregas\");\r\n    this.filter = this.fh.FormBuilder({\r\n      descricao: { default: \"\" },\r\n      descricao_entrega: { default: \"\" },\r\n      unidade_id: { default: \"\" },\r\n      destinatario: { default: \"\" },\r\n    });\r\n    this.join = [\"entrega:id,nome\",\"entrega_pai:id,descricao\",\"unidade:id,sigla\"];\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.idsUnidadesAscendentes = this.metadata?.idsUnidadesAscendentes || this.idsUnidadesAscendentes;\r\n    this.filter?.controls.unidade_id.setValue(this.idsUnidadesAscendentes[0]);\r\n  }\r\n\r\n  public dynamicOptions(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    result.push({ label: \"Informações\", icon: \"bi bi-info-circle\", onClick: (objetivo: PlanejamentoObjetivo) => this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo', objetivo.id, 'consult'] }, { modal: true }) });\r\n    return result;\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let form: any = filter.value;\r\n    let result: any[] = [];\r\n    if(this.idsUnidadesAscendentes.length) result.push([\"plano_entrega.unidade_id\", \"in\", this.idsUnidadesAscendentes]);\r\n    if (form.unidade_id?.length) {  // unidade demandante\r\n      result.push([\"unidade_id\", \"==\", form.unidade_id]);\r\n    }\r\n    if (form.descricao?.length) {\r\n      result.push([\"descricao\", \"like\", \"%\" + form.descricao.trim().replace(\" \", \"%\") + \"%\"]);\r\n    }\r\n    if (form.descricao?.length) {\r\n      result.push([\"descricao_entrega\", \"like\", \"%\" + form.descricao_entrega.trim().replace(\" \", \"%\") + \"%\"]);\r\n    }\r\n    if (form.destinatario?.length) {\r\n      result.push([\"destinatario\", \"like\", \"%\" + form.destinatario.trim().replace(\" \", \"%\") + \"%\"]);\r\n    }\r\n    return result;\r\n  }\r\n}\r\n","<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>\r\n<grid [dao]=\"dao\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\" [selectable]=\"selectable\"\r\n    (select)=\"onSelect($event)\">\r\n    <toolbar *ngIf=\"!selectable\" [buttons]=\"buttons\"></toolbar>\r\n    <filter [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\" [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\"\r\n        [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-search [size]=\"4\" label=\"Unidade\" [control]=\"filter!.controls.unidade_id\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n            <input-text [size]=\"4\" label=\"Título da entrega\" controlName=\"descricao\" [control]=\"filter!.controls.descricao\"\r\n                placeholder=\"Título\" [attr.maxlength]=250></input-text>\r\n            <input-text [size]=\"4\" label=\"Descrição da entrega\" controlName=\"descricao_entrega\" [control]=\"filter!.controls.descricao_entrega\"\r\n                placeholder=\"Descrição\" [attr.maxlength]=250></input-text>\r\n        </div>\r\n        <!--div class=\"row\">\r\n                <input-search [size]=\"6\" label=\"Unidade demandante\" [control]=\"filter!.controls.unidade_id\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search> \r\n                <input-text [size]=\"6\" label=\"Destinatário\" controlName=\"destinatario\" [control]=\"filter!.controls.destinatario\"\r\n                placeholder=\"Destinatário\" [attr.maxlength]=250></input-text>\r\n        </div-->\r\n    </filter>\r\n    <columns>\r\n        <column [title]=\"'Entrega\\nDemandante\\nDestinatário'\" [template]=\"columnEntregaCliente\">\r\n            <ng-template let-row=\"row\" #columnEntregaCliente>\r\n                <badge icon=\"bi bi-textarea-t\" [label]=\"row.descricao || '(não informado)'\" color=\"light\"></badge><br>\r\n                <badge [icon]=\"entityService.getIcon('Unidade')\" [label]=\"row.unidade.sigla || '(não informado)'\" color=\"success\"></badge><br>\r\n                <badge icon=\"bi bi-mailbox\" [label]=\"row.destinatario || '(não informado)'\" color=\"light\"></badge>\r\n            </ng-template>\r\n        </column>\r\n        <column [title]=\"'Data Início\\nData Fim'\" [template]=\"columnDatas\" >\r\n            <ng-template let-row=\"row\" #columnDatas>\r\n                <span>{{dao!.getDateFormatted(row.data_inicio)}}<br>{{dao!.getDateFormatted(row.data_fim)}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Entrega\" [template]=\"columnIndicador\">\r\n            <ng-template let-row=\"row\" #columnIndicador>\r\n                <span *ngIf=\"row.entrega\" class=\"badge bg-light text-dark\">\r\n                    <i class=\"bi bi-list-check\"></i>\r\n                    {{row.entrega.nome || row.entrega_pai.descricao}}\r\n                </span>\r\n            </ng-template>\r\n        </column>\r\n        <column [title]=\"'Meta\\nRealizado'\" [template]=\"columnMetaRealizado\">\r\n            <ng-template let-row=\"row\" #columnMetaRealizado>\r\n                <badge [label]=\"planoEntregaService.getValorMeta(row)\" color=\"light\"></badge><br>\r\n                <badge [label]=\"planoEntregaService.getValorRealizado(row)\" color=\"light\"></badge>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Progresso\" [template]=\"columnProgresso\">\r\n            <ng-template let-row=\"row\" #columnProgresso>\r\n                <progress-bar [value]=\"row.progresso_realizado\" color=\"success\"></progress-bar>\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"options\"></column>\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>","import { ChangeDetectorRef, Component, Injector, Input, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PlanoEntregaEntregaDaoService } from 'src/app/dao/plano-entrega-entrega-dao.service';\r\nimport { PlanoEntregaEntrega } from 'src/app/models/plano-entrega-entrega.model';\r\nimport { PlanoEntrega } from 'src/app/models/plano-entrega.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { PlanoEntregaService } from '../plano-entrega.service';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { Checklist } from 'src/app/models/atividade.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { Base } from 'src/app/models/base.model';\r\nimport { DaoBaseService } from 'src/app/dao/dao-base.service';\r\nimport { PlanoEntregaDaoService } from 'src/app/dao/plano-entrega-dao.service';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\n\r\n@Component({\r\n  selector: 'plano-entrega-list-entrega',\r\n  templateUrl: './plano-entrega-list-entrega.component.html',\r\n  styleUrls: ['./plano-entrega-list-entrega.component.scss']\r\n})\r\nexport class PlanoEntregaListEntregaComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild('etiqueta', { static: false }) public etiqueta?: InputSelectComponent;\r\n  @Input() cdRef: ChangeDetectorRef;\r\n  @Input() disabled: boolean = false;\r\n  @Input() parent?: PageListBase<PlanoEntrega, PlanoEntregaDaoService>;\r\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\r\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n  @Input() set entity(value: PlanoEntrega | undefined) { super.entity = value; } get entity(): PlanoEntrega | undefined { return super.entity; }\r\n  @Input() set planejamentoId(value: string | undefined) {\r\n    if(this._planejamentoId != value) {\r\n      this._planejamentoId = value;\r\n      // TODO: verificar nas entregas quais objetivos não são desse planjemaneot e remove-los\r\n      // será remvido somente da lista de itens (em memória), independente de persistente ou não, MAS NO BACKEND HAVERÀ ESSA VALIDAÇÂO!\r\n    }\r\n  } get planejamentoId(): string | undefined {\r\n    return this._planejamentoId;\r\n  }\r\n  @Input() set cadeiaValorId(value: string | undefined) {\r\n    if(this._cadeiaValorId != value) {\r\n      this._cadeiaValorId = value;\r\n      // TODO: verificar nas entregas quais objetivos não são desse planejamento e remove-los\r\n      // será removido somente da lista de itens (em memória), independente de persistente ou não, MAS NO BACKEND HAVERÀ ESSA VALIDAÇÂO!\r\n    }\r\n  } get cadeiaValorId(): string | undefined {\r\n    return this._cadeiaValorId;\r\n  }\r\n  @Input() set unidadeId(value: string | undefined) {\r\n    if(this._unidadeId != value) {\r\n      this._unidadeId = value;\r\n      // TODO: verificar nas entregas quais objetivos não são desse planjemaneot e remove-los\r\n      // será remvido somente da lista de itens (em memória), independente de persistente ou não, MAS NO BACKEND HAVERÀ ESSA VALIDAÇÂO!\r\n    }\r\n  } get unidadeId(): string | undefined {\r\n    return this._unidadeId;\r\n  }\r\n  @Input() set dataFim(value: Date | undefined) {\r\n    if(this._dataFim != value) {\r\n      this._dataFim = value;\r\n  }\r\n  } get dataFim(): Date | undefined {\r\n    return this._dataFim;\r\n  }\r\n  @Input() execucao: boolean = false;\r\n\r\n  public get items(): PlanoEntregaEntrega[] {\r\n    if (!this.gridControl.value) this.gridControl.setValue([]);\r\n    return this.gridControl.value;\r\n  }\r\n\r\n  private _cadeiaValorId?: string;\r\n  private _planejamentoId?: string;\r\n  private _unidadeId?: string;\r\n  private _dataFim?: Date;\r\n\r\n  public entityToControl = (value: any) => (value as PlanoEntrega).entregas || [];\r\n  public options: ToolbarButton[] = [];\r\n  public planoEntregaId: string = \"\";\r\n  public dao: PlanoEntregaEntregaDaoService;\r\n  public planoEntregaService: PlanoEntregaService;\r\n  public formEdit: FormGroup;\r\n  public etiquetas: LookupItem[] = [];\r\n  public etiquetasAscendentes: LookupItem[] = [];\r\n  public checklist?: Checklist[];\r\n  public selectable: boolean = false;\r\n  public unidadeDao: UnidadeDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.title = this.lex.translate(\"Entregas\");\r\n    this.join = [\"unidade\", \"entrega\", \"reacoes.usuario:id,nome,apelido\"];\r\n    this.code = \"MOD_PENT\";\r\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\r\n    this.dao = injector.get<PlanoEntregaEntregaDaoService>(PlanoEntregaEntregaDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.planoEntregaService = injector.get<PlanoEntregaService>(PlanoEntregaService);\r\n    this.form = this.fh.FormBuilder({\r\n      descricao: { default: \"\" },\r\n      data_inicio: { default: new Date() },\r\n      data_fim: { default: new Date() },\r\n      meta: { default: \"\" },\r\n      realizado: { default: null },\r\n      entrega_id: { default: null },\r\n      unidade_id: { default: null },\r\n      progresso_esperado: { default: null },\r\n      progresso_realizado: { default: null },\r\n      destinatario: { default: null },\r\n      etiquetas: { default: [] },\r\n    }, this.cdRef, this.validate);\r\n    this.formEdit = this.fh.FormBuilder({\r\n      progresso_realizado: { default: 0 },\r\n      etiquetas: { default: [] },\r\n      etiqueta: { default: null }\r\n    });\r\n    // Testa se o usuário possui permissão para exibir dados da entrega do plano de entregas\r\n    this.addOption(Object.assign({ onClick: this.consult.bind(this) }, this.OPTION_INFORMACOES), \"MOD_PENT\");\r\n    this.addOption(Object.assign({ onClick: this.delete.bind(this) }, this.OPTION_EXCLUIR), \"MOD_PENT_ENTR_EXCL\");\r\n    this.addOption(Object.assign({ onClick: this.showLogs.bind(this) }, this.OPTION_LOGS), \"MOD_AUDIT_LOG\");\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if (['nome'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n    this.planoEntregaId = this.urlParams!.get(\"id\") || \"\";\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n    result.push([\"plano_entrega_id\", \"==\", this.planoEntregaId]);\r\n    return result;\r\n  }\r\n\r\n  public get isDisabled(): boolean {\r\n    return this.formDisabled || this.disabled;\r\n  }\r\n\r\n  public async add() {\r\n    let entrega = new PlanoEntregaEntrega({\r\n      _status: \"ADD\",\r\n      id: this.dao!.generateUuid(),\r\n      plano_entrega_id: this.entity?.id\r\n    });\r\n    this.go.navigate({ route: ['gestao', 'plano-entrega', 'entrega'] }, {\r\n      metadata: {\r\n        plano_entrega: this.entity!,\r\n        planejamento_id: this.planejamentoId,\r\n        cadeia_valor_id: this.cadeiaValorId,\r\n        unidade_id: this.unidadeId,\r\n        data_fim: this.dataFim,\r\n        entrega: entrega,\r\n      },\r\n      modalClose: async (modalResult) => {\r\n        if (modalResult) {\r\n          try {\r\n            this.isNoPersist ? this.items.push(modalResult) : this.items.push(await this.dao!.save(modalResult, this.join));\r\n            this.cdRef.detectChanges();\r\n          } catch (error: any) {\r\n            this.error(error?.error || error?.message || error);\r\n          }\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public dynamicOptions(row: any): ToolbarButton[] {\r\n    return !this.execucao && !this.isDisabled ? this.options : [];\r\n  }\r\n\r\n  public dynamicButtons(row: any): ToolbarButton[] {\r\n    const btns = [];\r\n    if(this.isDisabled) btns.push(Object.assign({ onClick: this.consult.bind(this) }, this.OPTION_INFORMACOES));\r\n    if(this.execucao) btns.push({ label: \"Histórico de execução\", icon: \"bi bi-activity\", color: 'btn-outline-info', onClick: this.showProgresso.bind(this) });   \r\n    btns.push({ label: \"Detalhes\", icon: \"bi bi-eye\", color: 'btn-outline-success', onClick: this.showDetalhes.bind(this) });   \r\n    return btns;\r\n  }\r\n\r\n  public async edit(entrega: PlanoEntregaEntrega) {\r\n    if(this.execucao) {\r\n      this.grid!.edit(entrega);\r\n    } else {\r\n      entrega._status = entrega._status == \"ADD\" ? \"ADD\" : \"EDIT\";\r\n      let index = this.items.indexOf(entrega);\r\n      this.go.navigate({ route: ['gestao', 'plano-entrega', 'entrega'] }, {\r\n        metadata: {\r\n          plano_entrega: this.entity!,\r\n          planejamento_id: this.planejamentoId,\r\n          cadeia_valor_id: this.cadeiaValorId,\r\n          unidade_id: this.unidadeId,\r\n          entrega: entrega,\r\n        },\r\n        modalClose: async (modalResult) => {\r\n          if (modalResult) {\r\n            if (!this.isNoPersist) await this.dao?.save(modalResult);\r\n            this.items[index] = modalResult;\r\n          };\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public async load(form: FormGroup, row: any) {\r\n    this.form!.patchValue(row);\r\n    this.form!.controls.meta.setValue(this.planoEntregaService.getValor(row.meta));\r\n    this.form!.controls.realizado.setValue(this.planoEntregaService.getValor(row.realizado));\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async save(form: FormGroup, row: any) {    \r\n    let result = undefined;\r\n    this.form!.markAllAsTouched();\r\n    if (form.valid) {\r\n      this.submitting = true;\r\n      try {\r\n        result = await this.dao?.update(row.id, {\r\n          realizado: this.planoEntregaService.getEntregaValor(row.entrega, form.controls.realizado.value),\r\n          progresso_realizado: form.controls.progresso_realizado.value\r\n        }, this.join);\r\n      } finally {\r\n        this.submitting = false;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public async delete(entrega: PlanoEntregaEntrega) {\r\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\r\n    if (confirm) {\r\n      let index = this.items.indexOf(entrega);\r\n      if (this.isNoPersist) {\r\n        entrega._status = \"DELETE\";\r\n      } else {\r\n        this.dao!.delete(entrega).then(() => {\r\n          //this.grid!.query!.removeId(entrega.id);\r\n          this.items.splice(index, 1);\r\n          this.cdRef.detectChanges();\r\n          this.dialog.topAlert(\"Registro excluído com sucesso!\", 5000);\r\n        }).catch((error) => {\r\n          this.dialog.alert(\"Erro\", \"Erro ao excluir: \" + (error?.message ? error?.message : error));\r\n        });;\r\n      };\r\n    }\r\n    \r\n  }\r\n\r\n  public async consult(entrega: PlanoEntregaEntrega) {\r\n    this.go.navigate({route: ['gestao', 'plano-entrega', 'entrega', entrega.id, \"consult\"]}, {\r\n      metadata: {\r\n        plano_entrega: this.entity!,\r\n        planejamento_id: this.planejamentoId,\r\n        cadeia_valor_id: this.cadeiaValorId,\r\n        unidade_id: this.unidadeId,\r\n        entrega: entrega\r\n      }\r\n    });\r\n  }\r\n\r\n  public async showLogs(entrega: PlanoEntregaEntrega){\r\n    this.go.navigate({ route: ['logs', 'change', entrega.id, 'consult'] })\r\n  }\r\n\r\n  public async showPlanejamento(objetivo_id: string){\r\n    this.go.navigate({route: ['gestao', 'plano-entrega', 'entrega', 'objetivos', objetivo_id]}, { modal: true });\r\n  }\r\n\r\n  public async showCadeiaValor(processo_id: string){\r\n    this.go.navigate({route: ['gestao', 'plano-entrega', 'entrega', 'processos', processo_id]}, {modal: true});  \r\n  }\r\n\r\n  public async showProgresso(entrega: PlanoEntregaEntrega){\r\n    this.go.navigate({route: ['gestao', 'plano-entrega', 'entrega', 'progresso', entrega.id]}, {\r\n      modal: true, \r\n      modalClose: (modalResult) => { \r\n        this.parent?.refresh(this.entity?.id);\r\n      }\r\n    });\r\n  }\r\n\r\n  public async showDetalhes(entrega: PlanoEntregaEntrega){\r\n    this.go.navigate({route: ['gestao', 'plano-entrega', 'entrega', entrega.id, \"detalhes\"]}, {\r\n      metadata: {\r\n        plano_entrega: this.entity!,\r\n        planejamento_id: this.planejamentoId,\r\n        cadeia_valor_id: this.cadeiaValorId,\r\n        unidade_id: this.unidadeId,\r\n        entrega: entrega\r\n      }\r\n    });    \r\n  }\r\n\r\n  public refreshComentarios(modalResult: any) {\r\n    /* Atualiza os comentários após ser salvo pela própria tela de comentarios (persistent) */\r\n    let row: PlanoEntregaEntrega | undefined = this.items.find(x => x.id == modalResult.id);\r\n    if(row) row.comentarios = modalResult.comentarios || [];\r\n  }\r\n\r\n  public onRealizadaChange() {\r\n    const meta = this.form?.controls.meta.value;\r\n    const realizado = this.form?.controls.realizado.value;\r\n    if (meta && realizado) {\r\n      let totalRealizado = !isNaN(realizado) ? ((realizado / meta) * 100).toFixed(0) || 0 : 0;\r\n      this.form?.controls.progresso_realizado.setValue(totalRealizado);\r\n    }\r\n  }\r\n\r\n  public addItemHandleEtiquetas(): LookupItem | undefined {\r\n    let result = undefined;\r\n    if (this.etiqueta && this.etiqueta.selectedItem) {\r\n      const item = this.etiqueta.selectedItem;\r\n      const key = item.key?.length ? item.key : this.util.textHash(item.value);\r\n      if (this.util.validateLookupItem(this.formEdit.controls.etiqueta.value, key)) {\r\n        result = {\r\n          key: key,\r\n          value: item.value,\r\n          color: item.color,\r\n          icon: item.icon\r\n        };\r\n        this.formEdit.controls.etiqueta.setValue(null);\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  public async onColumnEtiquetasEdit(row: any) {\r\n    if (!this.etiquetasAscendentes.filter(e => e.data == row.unidade.id).length) {\r\n      let ascendentes =  await this.carregaEtiquetasUnidadesAscendentes(row.unidade);\r\n      this.etiquetasAscendentes.push(...ascendentes);\r\n    }\r\n    this.formEdit.controls.etiquetas.setValue(row.etiquetas);\r\n    this.formEdit.controls.etiqueta.setValue(null);\r\n    this.etiquetas = this.util.merge(row.tipo_atividade?.etiquetas, row.unidade?.etiquetas, (a, b) => a.key == b.key);\r\n    this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\r\n    this.etiquetas = this.util.merge(this.etiquetas, this.etiquetasAscendentes.filter(x => x.data == row.unidade.id), (a, b) => a.key == b.key);\r\n  }\r\n\r\n  public async carregaEtiquetasUnidadesAscendentes(unidadeAtual: Unidade) {\r\n    let etiquetasUnidades: LookupItem[] = [];\r\n    let path = unidadeAtual.path.split(\"/\");\r\n    let unidades = await this.unidadeDao.query({ where: [[\"id\", \"in\", path]] }).asPromise();\r\n    unidades.forEach(un => {\r\n      etiquetasUnidades = this.util.merge(etiquetasUnidades, un.etiquetas, (a, b) => a.key == b.key);\r\n    });\r\n    etiquetasUnidades.forEach(e => e.data = unidadeAtual.id);\r\n    return etiquetasUnidades;\r\n  }\r\n\r\n  public async onColumnEtiquetasSave(row: any) {\r\n    try {\r\n      const saved = await this.dao!.update(row.id, {\r\n        etiquetas: this.formEdit.controls.etiquetas.value\r\n      });\r\n      row.etiquetas = this.formEdit.controls.etiquetas.value;\r\n      return !!saved;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public onEtiquetaConfigClick() {\r\n    this.go.navigate({ route: [\"configuracoes\", \"preferencia\", \"usuario\", this.auth.usuario!.id], params: { etiquetas: true } }, {\r\n      modal: true, modalClose: (modalResult) => {\r\n        this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\r\n        this.cdRef.detectChanges();\r\n      }\r\n    });\r\n  }\r\n\r\n  public async onColumnChecklistEdit(row: any) {\r\n    this.formEdit.controls.progresso_realizado.setValue(row.progresso_realizado);\r\n    this.checklist = this.util.clone(row.checklist);\r\n  }\r\n\r\n  public async onColumnChecklistSave(row: any) {\r\n    let realizado = Math.round(parseInt(this.planoEntregaService.getValorMeta(row)) * this.formEdit.controls.progresso_realizado.value/100);\r\n    try {\r\n      const saved = await this.dao!.update(row.id, {\r\n        progresso_realizado: this.formEdit.controls.progresso_realizado.value,\r\n        realizado: this.planoEntregaService.getEntregaValor(row.entrega, realizado),\r\n        checklist: this.checklist\r\n      });\r\n      row.progresso_realizado = this.formEdit.controls.progresso_realizado.value;\r\n      row.checklist = this.checklist;\r\n      if (typeof row.realizado.porcentagem != \"undefined\") {\r\n        row.realizado.porcentagem = realizado;\r\n      } else if (typeof row.realizado.quantitativo != \"undefined\") {\r\n        row.realizado.quantitativo = realizado;\r\n      } else if (typeof row.realizado.valor != \"undefined\") {\r\n        row.realizado.valor = realizado;\r\n      };\r\n      return !!saved;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n  \r\n  public getObjetivos(row: any){\r\n    return row.objetivos.filter((x: any) => x._status != 'DELETE');\r\n  }\r\n}\r\n","<grid [items]=\"items\" [form]=\"form!\" [groupTemplate]=\"groupEntregas\" [minHeight]=\"300\" [editable]=\"isDisabled ? undefined : 'true'\" \r\n    [hasAdd]=\"!isDisabled && auth.hasPermissionTo('MOD_PENT_ENTR_INCL') && !execucao\" [add]=\"add.bind(this)\" \r\n    [hasEdit]=\"!isDisabled && auth.hasPermissionTo('MOD_PENT_ENTR_EDT')\" [load]=\"load.bind(this)\" [save]=\"save.bind(this)\" [selectable]=\"selectable\">\r\n    <ng-template let-separator=\"separator\" #groupEntregas>\r\n        <strong class=\"grid-group-text\">Entregas: </strong><span class=\"text-wrap\">\r\n            <badge color=\"primary\" [label]=\"separator?.text\"></badge>\r\n        </span>\r\n    </ng-template>\r\n    <columns>\r\n        <!--\r\n        <column type=\"expand\" icon=\"bi bi-list-check\" [align]=\"'center'\" [hint]=\"lex.translate('Entrega')\" [template]=\"columnEntregas\" [expandTemplate]=\"columnExpandedEntregas\">\r\n            <ng-template let-row=\"row\" #columnEntregas>\r\n                <span *ngIf=\"row.entregas?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-list-check\"></i> {{row.entregas?.length}}</span>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnExpandedEntregas>\r\n                <plano-entrega-entregas-plano-trabalho [entregaId]=\"row.id\"></plano-entrega-entregas-plano-trabalho>\r\n            </ng-template>\r\n        </column>\r\n        -->\r\n        <column [title]=\"'Entrega\\nDemandante/Destinatário'\" [template]=\"columnEntregaCliente\" [editTemplate]=\"columnEntregaCliente\">\r\n            <ng-template let-row=\"row\" #columnEntregaCliente>\r\n                <h6>{{row.descricao}}</h6>\r\n                <span class=\"d-block\">\r\n                    <badge *ngIf=\"row.unidade\" color=\"light\" [icon]=\"entityService.getIcon('Unidade')\" [label]=\"row.unidade.sigla\"></badge>\r\n                    <badge *ngIf=\"row.destinatario?.length\" color=\"light\" icon=\"bi bi-mailbox\" [label]=\"row.destinatario\"></badge>\r\n                </span>\r\n                <reaction [entity]=\"row\" origem=\"PLANO_ENTREGA_ENTREGA\" *ngIf=\"execucao\"></reaction>\r\n            </ng-template>\r\n        </column>\r\n        <column [title]=\"'Etiquetas'\" [width]=\"100\" [template]=\"columnEtiquetas\" [editTemplate]=\"columnEtiquetas\" [columnEditTemplate]=\"selectable ? undefined : columnEtiquetasEdit\" [edit]=\"selectable ? undefined : onColumnEtiquetasEdit.bind(this)\" [save]=\"selectable ? undefined : onColumnEtiquetasSave.bind(this)\">\r\n            <ng-template let-row=\"row\" #columnEtiquetas>\r\n                <badge *ngFor=\"let etiqueta of row.etiquetas\" [lookup]=\"etiqueta\"></badge>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnEtiquetasEdit>\r\n                <input-multiselect controlName=\"etiquetas\" [size]=\"12\" [control]=\"formEdit.controls.etiquetas\" [addItemHandle]=\"addItemHandleEtiquetas.bind(this)\">\r\n                    <input-select [size]=\"12\" #etiqueta controlName=\"etiqueta\" nullable itemNull=\"- Selecione -\" detailsButton detailsButtonIcon=\"bi bi-tools\" (details)=\"onEtiquetaConfigClick()\" [control]=\"formEdit.controls.etiqueta\" [items]=\"etiquetas\"></input-select>\r\n                </input-multiselect>\r\n            </ng-template>\r\n        </column>\r\n        <column [title]=\"'Data Início\\nData Fim'\" [template]=\"columnDatas\" [editTemplate]=\"columnDatas\">\r\n            <ng-template let-row=\"row\" #columnDatas>\r\n                <span *ngIf=\"row.data_inicio\"> {{dao!.getDateFormatted(row.data_inicio)}}</span><br>\r\n                <span *ngIf=\"row.data_fim\"> {{dao!.getDateFormatted(row.data_fim)}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column [title]=\"'Meta'\" [width]=\"100\" [template]=\"columnMetaRealizado\" [editTemplate]=\"editMetaRealizado\">\r\n            <ng-template let-row=\"row\" #columnMetaRealizado>\r\n                <badge icon=\"bi bi-graph-up-arrow\" [textValue]=\"planoEntregaService.getValorMeta(row)\" color=\"light\" hint=\"Planejada\"></badge><br>\r\n                <badge icon=\"bi bi-check-lg\" [textValue]=\"planoEntregaService.getValorRealizado(row)\" color=\"light\" hint=\"Realizada\"></badge>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #editMetaRealizado>\r\n                <plano-entrega-valor-meta-input icon=\"bi bi-graph-up-arrow\" [entrega]=\"row.entrega\" disabled [size]=\"6\" [control]=\"form!.controls.meta\" label=\"Meta\"></plano-entrega-valor-meta-input>\r\n                <plano-entrega-valor-meta-input icon=\"bi bi-check-lg\" [entrega]=\"row.entrega\" [size]=\"6\" [control]=\"form!.controls.realizado\" label=\"Realizada\" [change]=\"onRealizadaChange.bind(this)\"></plano-entrega-valor-meta-input>\r\n            </ng-template>\r\n        </column>\r\n        <!--<column title=\"Progresso\\nChecklist\" [width]=\"100\" [template]=\"columnProgresso\" [editTemplate]=\"editProgresso\">\r\n            <ng-template let-row=\"row\" #columnProgresso>\r\n                <progress-bar [value]=\"row.progresso_realizado\" [goal]=\"row.progresso_esperado\" color=\"success\"></progress-bar>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #editProgresso>\r\n                <input-number [size]=\"12\" disabled label=\"Esperado\" sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso_esperado\" [control]=\"form!.controls.progresso_esperado\" labelInfo=\"Progresso de execução (% Esperado)\"></input-number>\r\n                <input-number [size]=\"12\" label=\"Realizado\" sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso_realizado\" [control]=\"form!.controls.progresso_realizado\" labelInfo=\"Progresso de execução (% Concluído)\"></input-number>\r\n            </ng-template>\r\n        </column>-->\r\n        <column [title]=\"'Progresso\\nChecklist'\" [width]=\"200\" [template]=\"columnProgChecklist\" [editTemplate]=\"columnProgChecklist\" [columnEditTemplate]=\"selectable ? undefined : columnChecklistEdit\" [edit]=\"selectable ? undefined : onColumnChecklistEdit.bind(this)\" [save]=\"selectable ? undefined : onColumnChecklistSave.bind(this)\" *ngIf=\"execucao\">\r\n            <ng-template let-row=\"row\" #columnProgChecklist>\r\n                <progress-bar [value]=\"row.progresso_realizado\" [goal]=\"row.progresso_esperado\" color=\"success\"></progress-bar>\r\n                <separator *ngIf=\"row.checklist?.length\" small title=\"Checklist\" collapse [collapsed]=\"true\">\r\n                    <table *ngIf=\"row.checklist?.length\">\r\n                        <tr *ngFor=\"let check of row.checklist\">\r\n                            <td><i *ngIf=\"check.checked\" class=\"bi bi-check-circle\"></i></td>\r\n                            <td class=\"micro-text fw-ligh\">{{check.texto}}</td>\r\n                        </tr>\r\n                    </table>\r\n                </separator>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnChecklistEdit>\r\n                <!--<input-number [size]=\"12\" disabled label=\"Esperado\" sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso_esperado\" [control]=\"form!.controls.progresso_esperado\" labelInfo=\"Progresso de execução (% Esperado)\"></input-number>-->\r\n                <input-number [size]=\"12\" label=\"Realizado\" sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso_realizado\" [control]=\"formEdit!.controls.progresso_realizado\" labelInfo=\"Progresso de execução (% Concluído)\"></input-number>\r\n                <separator *ngIf=\"row.checklist?.length\" small title=\"Checklist\"></separator>\r\n                <table *ngIf=\"row.checklist?.length\">\r\n                    <tr *ngFor=\"let check of checklist; let i = index\">\r\n                        <td><input-switch [size]=\"12\" scale=\"small\" [source]=\"checklist\" [path]=\"i + '.checked'\"></input-switch></td>\r\n                        <td class=\"micro-text fw-ligh\">{{check.texto}}</td>\r\n                    </tr>\r\n                </table>\r\n            </ng-template>\r\n        </column>\r\n        <!--\r\n        <column [title]=\"'  Objetivos/Processos'\" [width]=\"200\" [template]=\"columnObjProc\" [editTemplate]=\"columnObjProc\" [icon]=\"'bi bi-info-circle'\"[hint]=\"'Objetivos do Planejamento Institucional vinculado ao Plano de Entregas e Processos da Cadeia de Valor vinculada ao Plano de Entregas'\" >\r\n            <ng-template let-row=\"row\" #columnObjProc>\r\n                <separator [title]=\"lex.translate('Objetivos')\" *ngIf=\"row.objetivos?.length\" collapse [collapsed]=\"true\">\r\n                    <div *ngFor=\"let pObjetivo of getObjetivos(row)\" class=\"objetivo d-flex align-items-center\">\r\n                        <button class=\"btn btn-sm btn-outline-info me-2\" (click)=\"showPlanejamento(pObjetivo.objetivo.id)\"><i class=\"bi bi-eye\"></i></button>\r\n                        <small>{{pObjetivo.objetivo?.nome}}</small>\r\n                    </div>\r\n                </separator>\r\n                <separator [title]=\"lex.translate('Processos')\" *ngIf=\"row.processos?.length\" collapse [collapsed]=\"true\">\r\n                    <div *ngFor=\"let pProcesso of row.processos\" class=\"objetivo\">\r\n                        <button class=\"btn btn-sm btn-outline-info me-2\" (click)=\"showCadeiaValor(pProcesso.processo.id)\"><i class=\"bi bi-eye\"></i></button>\r\n                        <small>{{pProcesso.processo.nome}}</small>\r\n                    </div>\r\n                </separator>\r\n            </ng-template>\r\n        </column> -->\r\n        <column [title]=\"lex.translate('Modelo de Entrega') + '\\nComentários'\" [template]=\"columnEntregaCometario\" [editTemplate]=\"columnEntregaCometario\">\r\n            <ng-template let-row=\"row\" #columnEntregaCometario>\r\n                <badge *ngIf=\"row.entrega\" color=\"light\" icon=\"bi bi-list-check\" [label]=\"row.entrega?.nome\"></badge>\r\n                <comentarios-widget [entity]=\"row\" [selectable]=\"!execucao || !!grid?.editing\" origem=\"PLANO_ENTREGA_ENTREGA\" [grid]=\"grid\" [save]=\"refreshComentarios.bind(this)\"></comentarios-widget>\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"options\" [onEdit]=\"edit.bind(this)\" [dynamicButtons]=\"dynamicButtons.bind(this)\" [dynamicOptions]=\"dynamicOptions.bind(this)\"></column>\r\n    </columns>\r\n</grid>\r\n\r\n<!-- Grid-List:\r\n\r\n[+]  Data Início Data Fim    Responsável                            Avaliação\r\n   +-----------+-----------+-------------------------------------+-------------------------\r\n   | XX/XX/XXXX  XX/XX/XXXX  XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX (NOTA) (TIPO AVALIACAO)\r\n   |                                                              (AVALIADOR)\r\n   |                                                              (Justificativa)  \r\n   .......................................................................................\r\n   Entrega       Indicador           Meta         Realizado\r\n   -------------+-------------------+------------+------------- \r\n   XXXXXXXXXXXXX XXXXXXXXXXXXXXXXXX   9999999     99999999\r\n\r\n\r\n   Plano de Entregas\r\n   Unidade (Setor)\r\n   Planejamento_estrategico_id\r\n   Cadeia_valor_id\r\n   Entregas\r\n            Inicio     Fim        Indicador (vem do cadastro entrega) Metal geral Realizado Objetivos* Processos*    Atividades*          Cliente      Hmg\r\n      Ent1: 01/01/2022 -          Quantidade                          1000        200       Ob1, Ob1   Proc1, Proc2  Tip.Ativ1, Tip.Atv2  uOrg1, uOrg2 S\r\n      Ent2: 01/01/2022 30/12/2022 %                                   100         70        Ob2                                                        S\r\n      Ent3: 01/01/2022 30/12/2024 Qualitativo                         Excelente   Bom                                                                  S      Ent4: 09/12/2022 30/12/2022 ...                                                                                                                  N\r\n   Ponto de controle\r\n      [01/01/2023][30/01/2023]:\r\n          Responsável: Genisson\r\n          Entregas:\r\n                    Indicador (vem do cadastro entrega) Meta do Mês  Realizado  \r\n          Ent1:     Quantidade                          100          90\r\n          Ent3:     Qualitativo                         Satisfatório Ruim\r\n      [01/02/2023][30/02/2023]:\r\n          Responsável: Paiva\r\n          Entregas:\r\n                    Indicador (vem do cadastro entrega) Meta         Realizado\r\n          Ent1:     Quantidade                          110          110\r\n          Ent2:     %                                   70           70\r\n          Ent3:     Qualitativo                         Excelente    Bom\r\n* Deverá haver pelo menos 1\r\n\r\n\r\n -->","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { ChangeDaoService } from 'src/app/dao/change-dao.service';\r\nimport { PlanoEntregaDaoService } from 'src/app/dao/plano-entrega-dao.service';\r\nimport { Change } from 'src/app/models/change.model';\r\nimport { PlanoEntrega } from 'src/app/models/plano-entrega.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\n\r\n@Component({\r\n  selector: 'plano-entrega-list-logs',\r\n  templateUrl: './plano-entrega-list-logs.component.html',\r\n  styleUrls: ['./plano-entrega-list-logs.component.scss']\r\n})\r\nexport class PlanoEntregaListLogsComponent extends PageListBase<Change, ChangeDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild('selectResponsaveis', { static: false }) public selectResponsaveis?: InputSelectComponent;\r\n\r\n  public responsaveis: LookupItem[] = [];\r\n  public planoEntregaDao: PlanoEntregaDaoService;\r\n  public planoEntrega?: PlanoEntrega;\r\n  public planoId: string = \"\";\r\n  public action: string = \"\";\r\n\r\n  constructor(public injector: Injector, dao: ChangeDaoService) {\r\n    super(injector, Change, ChangeDaoService);\r\n    /* Inicializações */\r\n    this.planoEntregaDao = injector.get<PlanoEntregaDaoService>(PlanoEntregaDaoService);\r\n    this.title = \"Logs de Planos de Entregas\";\r\n    this.filter = this.fh.FormBuilder({\r\n      responsavel_id: {default: \"\"},\r\n      data_inicio: {default: \"\"},\r\n      data_fim: {default: \"\"},\r\n      tipo: {default: \"\"}\r\n    });\r\n    this.orderBy = [['id', 'desc']];\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.planoId = this.urlParams?.get(\"id\") || \"\";\r\n    this.planoEntregaDao.getById(this.planoId).then(plano => this.planoEntrega = plano!);\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    super.ngAfterViewInit();\r\n    // this.selectResponsaveis!.loading = true;\r\n    // this.dao?.showResponsaveis().then(responsaveis => {\r\n    //   this.responsaveis = responsaveis || [];\r\n    //   this.selectResponsaveis!.loading = false;\r\n    // });\r\n  }\r\n  \r\n  public filterClear(filter: FormGroup) {\r\n    filter.controls.responsavel_id.setValue(\"\");\r\n    filter.controls.data_inicio.setValue(\"\");\r\n    filter.controls.data_fim.setValue(\"\");\r\n    filter.controls.tipo.setValue(\"\");\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n\r\n    result.push([\"table_name\", \"==\", \"planos_entregas\"]);\r\n    result.push([\"row_id\", \"==\", this.planoId]);\r\n    if(form.responsavel_id?.length){\r\n      result.push([\"user_id\", \"==\", form.responsavel_id == \"null\" ? null : form.responsavel_id]);\r\n    };\r\n    if(form.data_inicio){\r\n      result.push([\"date_time\", \">=\", form.data_inicio]);\r\n    };\r\n    if(form.data_fim){\r\n      result.push([\"date_time\", \"<=\", form.data_fim]);\r\n    };\r\n    if(form.tipo?.length){\r\n      result.push([\"type\", \"==\", form.tipo]);\r\n    };\r\n    return result;\r\n  }\r\n\r\n  public preparaDelta(row: any): any[] {\r\n    this.action = row.type;\r\n    let novoDelta = row.delta instanceof Array ? row.delta : Object.entries(row.delta);\r\n    novoDelta.forEach((element: any[]) => {\r\n      if(element[1] instanceof Date) element[1] = new Date(element[1]).toUTCString();\r\n      if(element.length > 2 && element[2] instanceof Date) element[2] = new Date(element[2]).toUTCString();\r\n    });\r\n    return novoDelta;\r\n  }\r\n\r\n}\r\n","<grid [dao]=\"dao\" [hasEdit]=\"false\" [title]=\"isModal ? '' : title\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\">\r\n    <span><strong>{{ planoEntrega?.numero + ' - ' + planoEntrega?.nome }}</strong></span>\r\n    <toolbar></toolbar>\r\n    <filter [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\" [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-select #selectResponsaveis label=\"Responsável pelo registro\" controlName=\"responsavel_id\" [control]=\"filter!.controls.responsavel_id\" \r\n            [items]=\"responsaveis\"></input-select>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-datetime [size]=\"4\" datetime label=\"Início\" controlName=\"data_inicio\" [control]=\"filter!.controls.data_inicio\" labelInfo=\"Início dos registros\"></input-datetime>\r\n            <input-datetime [size]=\"4\" datetime label=\"Fim\" controlName=\"data_fim\" [control]=\"filter!.controls.data_fim\" labelInfo=\"Fim dos registros\"></input-datetime>\r\n            <input-select [size]=\"4\" label=\"Tipo\" icon=\"bi bi-arrow-up-right-circle\" controlName=\"tipo\" [control]=\"filter!.controls.tipo\" [items]=\"lookup.TIPO_LOG_CHANGE\" itemTodos=\"Todos\" valueTodos=\"\"></input-select>\r\n        </div>\r\n    </filter>\r\n    <columns>\r\n        <column [titleTemplate]=\"titleResponsavel\" [template]=\"columnResponsavel\">\r\n            <ng-template #titleResponsavel let-header=\"header\"><strong>Responsável</strong></ng-template>\r\n            <ng-template let-row=\"row\" #columnResponsavel>\r\n                <span> {{row.responsavel}} </span>\r\n            </ng-template>\r\n        </column>\r\n        <column [titleTemplate]=\"titleDataCriacao\" [template]=\"columnDataCriacao\">\r\n            <ng-template #titleDataCriacao let-header=\"header\"><strong>Criado em</strong></ng-template>\r\n            <ng-template let-row=\"row\" #columnDataCriacao>\r\n                <span>{{ util.getDateTimeFormatted(row.date_time) }}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column [titleTemplate]=\"titleDiferenca\" [template]=\"columnDiferenca\">\r\n            <ng-template #titleDiferenca let-header=\"header\">\r\n                <div class=\"row\">\r\n                    <div class=\"col align-bottom\" width=\"150\"><strong>Atributos</strong></div>\r\n                    <div class=\"col\" width=\"250\"><strong>Valores<br>Atuais</strong></div>\r\n                    <div class=\"col\" width=\"250\"><strong>Valores<br>Anteriores</strong></div>\r\n                </div>\r\n            </ng-template>\r\n            <ng-template #columnDiferenca let-row=\"row\">\r\n                <separator title=\"(ver detalhes)\" [collapse]=\"'collapse'\" [collapsed]=\"true\">\r\n                    <table>\r\n                        <tbody> \r\n                            <tr *ngFor=\"let dif of preparaDelta(row)\">\r\n                                <td width=\"150\">{{ dif[0] }}</td>\r\n                                <td width=\"250\">{{ (action == 'EDIT' || action == 'ADD') ? dif[1] : '' }}</td>\r\n                                <td width=\"250\">{{ action == 'EDIT' ? dif[2] : (action == 'ADD' ? '' : dif[1]) }}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>                   \r\n                </separator>\r\n            </ng-template>\r\n          </column>\r\n        <column title=\"Tipo de Operação\" field=\"type\"></column>\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>","import { Component, Injector, Input, ViewChild } from \"@angular/core\";\r\nimport { AbstractControl, FormGroup } from \"@angular/forms\";\r\nimport { GridComponent } from \"src/app/components/grid/grid.component\";\r\nimport { PlanoEntregaEntregaProgressoDaoService } from \"src/app/dao/plano-entrega-entrega-progresso-dao.service\";\r\nimport { PlanoEntregaEntregaProgresso } from \"src/app/models/plano-entrega-entrega-progresso.model\";\r\nimport { PageListBase } from \"src/app/modules/base/page-list-base\";\r\nimport { PlanoEntregaService } from \"../plano-entrega.service\";\r\nimport { Base } from \"src/app/models/base.model\";\r\n\r\n@Component({\r\n  selector: 'app-plano-entrega-list-progresso',\r\n  templateUrl: './plano-entrega-list-progresso.component.html',\r\n  styleUrls: ['./plano-entrega-list-progresso.component.scss']\r\n})\r\nexport class PlanoEntregaListProgressoComponent extends PageListBase<PlanoEntregaEntregaProgresso,PlanoEntregaEntregaProgressoDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n \r\n  public planoEntregaEntregaId: string = \"\";\r\n  public planoEntregaService: PlanoEntregaService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, PlanoEntregaEntregaProgresso, PlanoEntregaEntregaProgressoDaoService);\r\n    this.planoEntregaService = injector.get<PlanoEntregaService>(PlanoEntregaService);\r\n    this.title = this.lex.translate(\"Histórico de execução\");\r\n    this.orderBy = [['data_progresso','desc']];\r\n    this.join = ['plano_entrega_entrega.entrega'];\r\n    this.filter = this.fh.FormBuilder({\r\n      data_inicial_progresso: {default: null},\r\n      data_final_progresso: {default: null},\r\n    });\r\n    this.addOption(Object.assign({ onClick: this.delete.bind(this) }, this.OPTION_EXCLUIR), \"MOD_PENT_ENTR_PRO_EXCL\");\r\n  }\r\n\r\n  public onGridLoad(rows?: Base[]) {\r\n    (rows as PlanoEntregaEntregaProgresso[])?.forEach(x => x.entrega = x.plano_entrega_entrega?.entrega);\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n    this.planoEntregaEntregaId = this.urlParams!.get(\"entrega_id\") || \"\";\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;   \r\n    if(form.data_inicial_progresso) result.push([\"data_progresso\", \">=\", form.data_inicial_progresso]);\r\n    if(form.data_final_progresso) result.push([\"data_progresso\", \"<=\", form.data_final_progresso]);\r\n    result.push([\"plano_entrega_entrega_id\", \"==\", this.planoEntregaEntregaId]);\r\n    return result;\r\n  }\r\n\r\n}","<grid [dao]=\"dao\" [add]=\"add\" [title]=\"isModal ? '' : title\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\" [selectable]=\"selectable\" (select)=\"onSelect($event)\" [hasAdd]=\"auth.hasPermissionTo('MOD_PENT_ENTR_PRO_INCL')\" [hasEdit]=\"auth.hasPermissionTo('MOD_PENT_ENTR_PRO_EDT')\" [loadList]=\"onGridLoad.bind(this)\">\r\n  <toolbar *ngIf=\"!selectable\"></toolbar>\r\n  <filter [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\" [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n    <div class=\"row\">\r\n      <input-datetime [size]=\"3\" noIcon label=\"Data inical do progresso\" controlName=\"data_inicial_progresso\" [control]=\"filter!.controls.data_inicial_progresso\" labelInfo=\"Data que foi registrado o progresso\"></input-datetime>\r\n      <input-datetime [size]=\"3\" noIcon label=\"Data final do progresso\" controlName=\"data_final_progresso\" [control]=\"filter!.controls.data_final_progresso\" labelInfo=\"Data que foi registrado o progresso\"></input-datetime>\r\n    </div>\r\n  </filter>\r\n  <columns>\r\n    <column [title]=\"'Data progresso'\" [template]=\"columnProgressoData\" [editTemplate]=\"columnProgressoData\">\r\n      <ng-template let-row=\"row\" #columnProgressoData>\r\n        <span *ngIf=\"row.data_progresso\"> {{dao!.getDateFormatted(row.data_progresso)}}</span>\r\n      </ng-template>\r\n    </column>\r\n    <column [title]=\"'Data Início\\nData Fim'\" [template]=\"columnDatas\" [editTemplate]=\"columnDatas\">\r\n      <ng-template let-row=\"row\" #columnDatas>\r\n        <span *ngIf=\"row.data_inicio\"> {{dao!.getDateFormatted(row.data_inicio)}}</span><br>\r\n        <span *ngIf=\"row.data_fim\"> {{dao!.getDateFormatted(row.data_fim)}}</span>\r\n      </ng-template>\r\n    </column>\r\n    <column [title]=\"'Meta'\" [width]=\"100\" [template]=\"columnMetaRealizado\">\r\n      <ng-template let-row=\"row\" #columnMetaRealizado>\r\n        <badge icon=\"bi bi-graph-up-arrow\" [textValue]=\"planoEntregaService.getValorMeta(row)\" color=\"light\" hint=\"Planejada\"></badge><br>\r\n        <badge icon=\"bi bi-check-lg\" [textValue]=\"planoEntregaService.getValorRealizado(row)\" color=\"light\" hint=\"Realizada\"></badge>\r\n      </ng-template>\r\n    </column>\r\n    <column [title]=\"'Progresso'\" [width]=\"200\" [template]=\"columnProgresso\" [editTemplate]=\"columnProgresso\" [columnEditTemplate]=\"selectable ? undefined : columnProgresso\">\r\n      <ng-template let-row=\"row\" #columnProgresso>\r\n        <progress-bar [value]=\"row.progresso_realizado\" [goal]=\"row.progresso_esperado\" color=\"success\"></progress-bar>\r\n      </ng-template>\r\n    </column>\r\n    <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\r\n  </columns>\r\n  <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { CadeiaValorDaoService } from 'src/app/dao/cadeia-valor-dao.service';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanoEntregaDaoService } from 'src/app/dao/plano-entrega-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { PlanoEntrega } from 'src/app/models/plano-entrega.model';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { PlanoEntregaService } from '../plano-entrega.service';\r\nimport { FullRoute } from 'src/app/services/navigate.service';\r\nimport { Base } from 'src/app/models/base.model';\r\nimport { Avaliacao } from 'src/app/models/avaliacao.model';\r\nimport { AvaliacaoDaoService } from 'src/app/dao/avaliacao-dao.service';\r\nimport { TipoAvaliacao } from 'src/app/models/tipo-avaliacao.model';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { UnidadeService } from 'src/app/services/unidade.service';\r\n\r\n@Component({\r\n  selector: 'plano-entrega-list',\r\n  templateUrl: './plano-entrega-list.component.html',\r\n  styleUrls: ['./plano-entrega-list.component.scss']\r\n})\r\nexport class PlanoEntregaListComponent extends PageListBase<PlanoEntrega, PlanoEntregaDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n\r\n  public showFilter: boolean = true;\r\n  public avaliacao: boolean = false;\r\n  public execucao: boolean = false;\r\n  public linha?: PlanoEntrega;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public avaliacaoDao: AvaliacaoDaoService;\r\n  public planejamentoDao: PlanejamentoDaoService;\r\n  public cadeiaValorDao: CadeiaValorDaoService;\r\n  public planoEntregaService: PlanoEntregaService;\r\n  public unidadeService: UnidadeService;\r\n  public unidadeSelecionada: Unidade;\r\n  public habilitarAdesaoToolbar: boolean = false;\r\n  public toolbarButtons: ToolbarButton[] = [];\r\n  public botoes: ToolbarButton[] = [];\r\n  public routeStatus: FullRoute = { route: [\"uteis\", \"status\"] };\r\n  public BOTAO_ADERIR_TOOLBAR: ToolbarButton;\r\n  public BOTAO_ADERIR_OPTION: ToolbarButton;\r\n  public BOTAO_ALTERAR: ToolbarButton;\r\n  public BOTAO_ARQUIVAR: ToolbarButton;\r\n  public BOTAO_AVALIAR: ToolbarButton;\r\n  public BOTAO_CANCELAR_PLANO: ToolbarButton;\r\n  public BOTAO_CANCELAR_AVALIACAO: ToolbarButton;\r\n  public BOTAO_CANCELAR_CONCLUSAO: ToolbarButton;\r\n  public BOTAO_CANCELAR_HOMOLOGACAO: ToolbarButton;\r\n  public BOTAO_CONCLUIR: ToolbarButton;\r\n  public BOTAO_CONSULTAR: ToolbarButton;\r\n  public BOTAO_DESARQUIVAR: ToolbarButton;\r\n  public BOTAO_EXCLUIR: ToolbarButton;\r\n  public BOTAO_HOMOLOGAR: ToolbarButton;\r\n  public BOTAO_LIBERAR_HOMOLOGACAO: ToolbarButton;\r\n  public BOTAO_LOGS: ToolbarButton;\r\n  public BOTAO_REATIVAR: ToolbarButton;\r\n  public BOTAO_RETIRAR_HOMOLOGACAO: ToolbarButton;\r\n  public BOTAO_SUSPENDER: ToolbarButton;\r\n  public DATAS_FILTRO: LookupItem[] = [\r\n    { key: \"VIGENTE\", value: \"Vigente\" },\r\n    { key: \"NAOVIGENTE\", value: \"Não vigente\" },\r\n    { key: \"INICIAM\", value: \"Iniciam\" },\r\n    { key: \"FINALIZAM\", value: \"Finalizam\" }\r\n  ];\r\n\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, PlanoEntrega, PlanoEntregaDaoService);\r\n    this.avaliacaoDao = injector.get<AvaliacaoDaoService>(AvaliacaoDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.planejamentoDao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.cadeiaValorDao = injector.get<CadeiaValorDaoService>(CadeiaValorDaoService);\r\n    this.planoEntregaService = injector.get<PlanoEntregaService>(PlanoEntregaService);\r\n    this.unidadeService = injector.get<UnidadeService>(UnidadeService);\r\n    this.unidadeSelecionada = this.auth.unidade!;\r\n    this.code = \"MOD_PLANE\";\r\n    /* Inicializações */\r\n    this.title = this.lex.translate('Planos de Entregas');\r\n    this.filter = this.fh.FormBuilder({\r\n      agrupar: { default: true },\r\n      principais: { default: false },\r\n      arquivadas: { default: false },\r\n      nome: { default: '' },\r\n      data_filtro: { default: null },\r\n      data_filtro_inicio: { default: new Date() },\r\n      data_filtro_fim: { default: new Date() },\r\n      status: { default: '' },\r\n      unidade_id: { default: null },\r\n      unidades_filhas: { default: false },\r\n      planejamento_id: { default: null },\r\n      cadeia_valor_id: { default: null },\r\n      meus_planos: { default: true },\r\n    }, this.cdRef, this.filterValidate);\r\n    this.join = [\r\n      'planejamento:id,nome',\r\n      'programa:id,nome',\r\n      'cadeia_valor:id,nome',\r\n      'unidade:id,sigla,path',\r\n      'entregas.entrega',\r\n      'entregas.objetivos.objetivo',\r\n      'entregas.processos.processo',\r\n      'entregas.unidade',\r\n      'entregas.comentarios.usuario:id,nome,apelido',\r\n      'entregas.reacoes.usuario:id,nome,apelido',\r\n      'unidade.gestor:id',\r\n      'unidade.gestores_substitutos:id',\r\n      'unidade.unidade_pai',\r\n      'avaliacao'\r\n    ];\r\n    this.groupBy = [{ field: \"unidade.sigla\", label: \"Unidade\" }];\r\n    this.BOTAO_ADERIR_OPTION = { label: \"Aderir\", icon: this.entityService.getIcon(\"Adesao\"), onClick: (() => { this.go.navigate({ route: ['gestao', 'plano-entrega', 'adesao'] }, { metadata: { planoEntrega: this.linha }, modalClose: (modalResult) => { this.refresh(); } }); }).bind(this) };\r\n    this.BOTAO_ADERIR_TOOLBAR = { label: \"Aderir\", disabled: !this.habilitarAdesaoToolbar, icon: this.entityService.getIcon(\"Adesao\"), onClick: (() => { this.go.navigate({ route: ['gestao', 'plano-entrega', 'adesao'] }, { modalClose: (modalResult) => { this.refresh(); } }); }).bind(this) };\r\n    this.BOTAO_ALTERAR = { label: \"Alterar\", icon: \"bi bi-pencil-square\", color: \"btn-outline-info\", onClick: (planoEntrega: PlanoEntrega) => this.go.navigate({ route: ['gestao', 'plano-entrega', planoEntrega.id, 'edit'] }, this.modalRefreshId(planoEntrega)) };\r\n    this.BOTAO_ARQUIVAR = { label: \"Arquivar\", icon: \"bi bi-inboxes\", onClick: this.arquivar.bind(this) };\r\n    this.BOTAO_AVALIAR = { label: \"Avaliar\", icon: this.lookup.getIcon(this.lookup.PLANO_ENTREGA_STATUS, \"AVALIADO\"), color: this.lookup.getColor(this.lookup.PLANO_ENTREGA_STATUS, \"AVALIADO\"), onClick: this.avaliar.bind(this) };\r\n    this.BOTAO_CANCELAR_PLANO = { label: \"Cancelar plano\", icon: this.lookup.getIcon(this.lookup.PLANO_ENTREGA_STATUS, \"CANCELADO\"), color: this.lookup.getColor(this.lookup.PLANO_ENTREGA_STATUS, \"CANCELADO\"), onClick: this.cancelarPlano.bind(this) };\r\n    this.BOTAO_CANCELAR_AVALIACAO = { label: \"Cancelar avaliação\", icon: this.lookup.getIcon(this.lookup.PLANO_ENTREGA_STATUS, \"CONCLUIDO\"), color: this.lookup.getColor(this.lookup.PLANO_ENTREGA_STATUS, \"CANCELADO\"), onClick: this.cancelarAvaliacao.bind(this) };\r\n    this.BOTAO_CANCELAR_CONCLUSAO = { label: \"Cancelar conclusão\", icon: this.lookup.getIcon(this.lookup.PLANO_ENTREGA_STATUS, \"ATIVO\"), color: this.lookup.getColor(this.lookup.PLANO_ENTREGA_STATUS, \"ATIVO\"), onClick: this.cancelarConclusao.bind(this) };\r\n    this.BOTAO_CANCELAR_HOMOLOGACAO = { label: \"Cancelar homologação\", icon: this.lookup.getIcon(this.lookup.PLANO_ENTREGA_STATUS, \"HOMOLOGANDO\"), color: this.lookup.getColor(this.lookup.PLANO_ENTREGA_STATUS, \"HOMOLOGANDO\"), onClick: this.cancelarHomologacao.bind(this) };\r\n    this.BOTAO_CONCLUIR = { label: \"Concluir\", id: \"CONCLUIDO\", icon: this.lookup.getIcon(this.lookup.PLANO_ENTREGA_STATUS, \"CONCLUIDO\"), color: this.lookup.getColor(this.lookup.PLANO_ENTREGA_STATUS, \"CONCLUIDO\"), onClick: this.concluir.bind(this) };\r\n    this.BOTAO_CONSULTAR = { label: \"Informações\", icon: \"bi bi-info-circle\", onClick: (planoEntrega: PlanoEntrega) => this.go.navigate({ route: ['gestao', 'plano-entrega', planoEntrega.id, 'consult'] }, { modal: true }) };\r\n    this.BOTAO_DESARQUIVAR = { label: \"Desarquivar\", icon: \"bi bi-reply\", onClick: this.desarquivar.bind(this) };\r\n    this.BOTAO_EXCLUIR = { label: \"Excluir\", icon: \"bi bi-trash\", onClick: this.delete.bind(this) };\r\n    this.BOTAO_HOMOLOGAR = { label: \"Homologar\", icon: this.lookup.getIcon(this.lookup.PLANO_ENTREGA_STATUS, \"ATIVO\"), color: this.lookup.getColor(this.lookup.PLANO_ENTREGA_STATUS, \"ATIVO\"), onClick: this.homologar.bind(this) };\r\n    this.BOTAO_LIBERAR_HOMOLOGACAO = { label: \"Liberar para homologação\", icon: this.lookup.getIcon(this.lookup.PLANO_ENTREGA_STATUS, \"HOMOLOGANDO\"), color: this.lookup.getColor(this.lookup.PLANO_ENTREGA_STATUS, \"HOMOLOGANDO\"), onClick: this.liberarHomologacao.bind(this) };\r\n    this.BOTAO_LOGS = { label: \"Logs\", icon: this.lookup.getIcon(this.lookup.PLANO_ENTREGA_STATUS, \"INCLUIDO\"), color: this.lookup.getColor(this.lookup.PLANO_ENTREGA_STATUS, \"INCLUIDO\"), onClick: (planoEntrega: PlanoEntrega) => this.go.navigate({ route: ['logs', 'change', planoEntrega.id, 'consult'] }) };\r\n    this.BOTAO_REATIVAR = { label: \"Reativar\", icon: this.lookup.getIcon(this.lookup.PLANO_ENTREGA_STATUS, \"ATIVO\"), color: this.lookup.getColor(this.lookup.PLANO_ENTREGA_STATUS, \"ATIVO\"), onClick: this.reativar.bind(this) };\r\n    this.BOTAO_RETIRAR_HOMOLOGACAO = { label: \"Retirar de homologação\", icon: this.lookup.getIcon(this.lookup.PLANO_ENTREGA_STATUS, \"INCLUIDO\"), color: this.lookup.getColor(this.lookup.PLANO_ENTREGA_STATUS, \"INCLUIDO\"), onClick: this.retirarHomologacao.bind(this) };\r\n    this.BOTAO_SUSPENDER = { label: \"Suspender\", id: \"PAUSADO\", icon: this.lookup.getIcon(this.lookup.PLANO_ENTREGA_STATUS, \"SUSPENSO\"), color: this.lookup.getColor(this.lookup.PLANO_ENTREGA_STATUS, \"SUSPENSO\"), onClick: this.suspender.bind(this) };\r\n    this.botoes = [this.BOTAO_ALTERAR, this.BOTAO_ARQUIVAR, this.BOTAO_AVALIAR, this.BOTAO_CANCELAR_PLANO, this.BOTAO_CANCELAR_AVALIACAO, this.BOTAO_CANCELAR_CONCLUSAO,\r\n    this.BOTAO_CANCELAR_HOMOLOGACAO, this.BOTAO_CONCLUIR, this.BOTAO_CONSULTAR, this.BOTAO_DESARQUIVAR, this.BOTAO_EXCLUIR, this.BOTAO_HOMOLOGAR, this.BOTAO_LIBERAR_HOMOLOGACAO,\r\n    this.BOTAO_LOGS, this.BOTAO_REATIVAR, this.BOTAO_RETIRAR_HOMOLOGACAO, this.BOTAO_SUSPENDER];\r\n    //this.BOTAO_ADERIR_OPTION, this.BOTAO_ADERIR_TOOLBAR,\r\n  }\r\n\r\n  public storeFilter = (filter?: FormGroup) => {\r\n    const form = filter?.value;\r\n    return {\r\n      meus_planos: form.meus_planos,\r\n      arquivadas: form.arquivadas,\r\n      unidade_id: form.unidade_id,\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.execucao = !!this.queryParams?.execucao;\r\n    this.avaliacao = !!this.queryParams?.avaliacao;\r\n    this.showFilter = typeof this.queryParams?.showFilter != \"undefined\" ? (this.queryParams.showFilter == \"true\") : true;\r\n    this.selectable = this.metadata?.selectable || this.selectable;\r\n    if (this.execucao) {\r\n      this.title = this.title + \" (Execução)\";\r\n      this.filter!.controls.unidade_id.setValue(this.auth.unidadeGestor()?.id || null);\r\n      this.filter!.controls.principais.setValue(false);\r\n    }\r\n    if (this.avaliacao) {\r\n      this.title = this.title + \" (Avaliação)\";\r\n      this.filter!.controls.unidade_id.setValue(this.auth.unidadeGestor()?.id || null);\r\n      this.filter!.controls.unidades_filhas.setValue(true);\r\n      this.filter!.controls.principais.setValue(false);\r\n    }\r\n    this.checaBotaoAderirToolbar();\r\n    //this.toolbarButtons.push(this.BOTAO_ADERIR_TOOLBAR);  // Adesão de plano suspensa, por enquanto\r\n  }\r\n\r\n  ngAfterContentChecked(): void {\r\n    if (this.auth.unidade != this.unidadeSelecionada) {\r\n      this.unidadeSelecionada = this.auth.unidade!;\r\n      this.checaBotaoAderirToolbar();\r\n      this.cdRef.detectChanges();\r\n    }\r\n  }\r\n\r\n  public onGridLoad(rows?: Base[]) {\r\n    const extra = (this.grid?.query || this.query!).extra;\r\n    if (rows && this.execucao) {\r\n      rows.forEach(v => {\r\n        if ([\"ATIVO\", \"SUSPENSO\"].includes((v as PlanoEntrega).status)) this.grid!.expand(v.id);\r\n      });\r\n    }\r\n    rows?.forEach(v => {\r\n      let planoEntrega = v as PlanoEntrega;\r\n      if (planoEntrega.avaliacao) planoEntrega.avaliacao.tipo_avaliacao = extra?.tipos_avaliacoes?.find((x: TipoAvaliacao) => x.id == planoEntrega.avaliacao!.tipo_avaliacao_id);\r\n    });\r\n  }\r\n\r\n  public checaBotaoAderirToolbar() {\r\n    /* let planos_ativos_unidade_pai = this.planosEntregasAtivosUnidadePai().length ? this.planosEntregasAtivosUnidadePai().map(x => x.id) : [];\r\n    let planos_superiores_vinculados_pela_unidade_selecionada = this.planosEntregasAtivosUnidadeSelecionada().map(x => x.plano_entrega_id).filter(x => x != null);\r\n    let condition1 = this.unidadeService.isGestorUnidade() || this.unidadeService.isGestorUnidade(this.auth.unidade?.unidade_pai_id) || (this.auth.isLotacaoUsuario(this.auth.unidade) && this.auth.hasPermissionTo(\"MOD_PENT_ADR\"));\r\n    let condition2 = !!planos_ativos_unidade_pai.filter(x => !planos_superiores_vinculados_pela_unidade_selecionada.includes(x)).length;\r\n    this.habilitarAdesaoToolbar = condition1 && condition2;\r\n    this.BOTAO_ADERIR_TOOLBAR.disabled = !this.habilitarAdesaoToolbar; */\r\n    /*  (RI_PENT_1)\r\n        O botão Aderir, na toolbar, deverá ser exibido sempre, mas para ficar habilitado:\r\n        1. o usuário logado precisa ser gestor da unidade selecionada ou da sua unidade-pai, ou uma destas ser sua unidade de lotação principal e ele \r\n        possuir a capacidade \"MOD_PENT_ADR\" (RN_PENT_2_4); e\r\n        2. a unidade-pai da unidade selecionada precisa possuir plano de entrega com o status ATIVO, que já não tenha sido vinculado pela unidade selecionada;\r\n    */\r\n  }\r\n\r\n  public planosEntregasAtivosUnidadePai(): PlanoEntrega[] {\r\n    return this.auth.unidade?.unidade_pai?.planos_entrega?.filter(x => this.planoEntregaService.isAtivo(x)) || [];\r\n  }\r\n\r\n  public planosEntregasAtivosUnidadeSelecionada(): PlanoEntrega[] {\r\n    return this.auth?.unidade?.planos_entrega?.filter(x => this.planoEntregaService.isAtivo(x)) || [];\r\n  }\r\n\r\n  public filterValidate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if (controlName == \"data_filtro_inicio\" && control.value > this.filter?.controls.data_filtro_fim.value) {\r\n      result = \"Maior que fim\";\r\n    } else if (controlName == \"data_filtro_fim\" && control.value < this.filter?.controls.data_filtro_inicio.value) {\r\n      result = \"Menor que início\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    filter.controls.nome.setValue(\"\");\r\n    filter.controls.data_filtro.setValue(null);\r\n    filter.controls.data_filtro_inicio.setValue(new Date());\r\n    filter.controls.data_filtro_fim.setValue(new Date());\r\n    filter.controls.unidade_id.setValue(null);\r\n    filter.controls.planejamento_id.setValue(null);\r\n    filter.controls.cadeia_valor_id.setValue(null);\r\n    filter.controls.status.setValue(null);\r\n    filter.controls.meus_planos.setValue(false);\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n    /*\r\n    (RI_PENT_B) A consulta do grid retornará inicialmente os principais Planos de Entrega do usuário logado (a opção \"principais\" já vem marcada), que são:\r\n    - os válidos das unidades onde ele possui algum vínculo (áreas de trabalho) (w1), e\r\n    - se ele for gestor:\r\n      - os ativos das unidades-pai de onde ele é gestor (w2), e \r\n      - os ativos das unidades imediatamente subordinadas (w3);\r\n    */\r\n    if (this.filter?.controls.principais.value) {\r\n      let w1: [string, string, string[]] = [\"unidade_id\", \"in\", (this.auth.unidades || []).map(u => u.id)];\r\n      if (this.auth.isGestorAlgumaAreaTrabalho()) {\r\n        let unidadesUsuarioEhGestor = this.auth.unidades?.filter(x => this.unidadeService.isGestorUnidade(x));\r\n        let w2: string[] | undefined = unidadesUsuarioEhGestor?.map(u => u.unidade_pai?.id || \"\").filter(x => x.length);\r\n        if (w2?.length) w1[2].push(...w2);\r\n        let w3 = [\"unidade.unidade_pai_id\", \"in\", unidadesUsuarioEhGestor?.map(u => u.id)];\r\n        result.push([\"or\", w1, w3]);\r\n      } else {\r\n        result.push(w1)\r\n      }\r\n    }\r\n    if (this.filter?.controls.meus_planos.value) {\r\n      let w1: [string, string, string[]] = [\"unidade_id\", \"in\", (this.auth.unidades || []).map(u => u.id)];\r\n      result.push(w1);\r\n    }\r\n    if (form.nome?.length) result.push([\"nome\", \"like\", \"%\" + form.nome.trim().replace(\" \", \"%\") + \"%\"]);\r\n    if (form.data_filtro) {\r\n      result.push([\"data_filtro\", \"==\", form.data_filtro]);\r\n      result.push([\"data_filtro_inicio\", \"==\", form.data_filtro_inicio]);\r\n      result.push([\"data_filtro_fim\", \"==\", form.data_filtro_fim]);\r\n    }\r\n    if (form.unidade_id) result.push([\"unidade_id\", \"==\", form.unidade_id]);\r\n    if (form.planejamento_id) result.push([\"planejamento_id\", \"==\", form.planejamento_id]);\r\n    if (form.cadeia_valor_id) result.push([\"cadeia_valor_id\", \"==\", form.cadeia_valor_id]);\r\n    if (this.isModal) {\r\n      result.push([\"status\", \"==\", \"ATIVO\"]);\r\n    } else if (form.status || this.avaliacao) {\r\n      result.push([\"status\", \"in\", form.status ? [form.status] : ['CONCLUIDO', 'AVALIADO']]);\r\n    }\r\n    if (form.unidades_filhas) result.push([\"unidades_filhas\", \"==\", true]);\r\n    //  (RI_PENT_C) Por padrão, os planos de entregas retornados na listagem do grid são os que não foram arquivados.\r\n    result.push([\"incluir_arquivados\", \"==\", this.filter!.controls.arquivadas.value]);\r\n    return result;\r\n  }\r\n\r\n  public onAgruparChange(event: Event) {\r\n    const agrupar = this.filter!.controls.agrupar.value;\r\n    if ((agrupar && !this.groupBy?.length) || (!agrupar && this.groupBy?.length)) {\r\n      this.groupBy = agrupar ? [{ field: \"unidade.sigla\", label: \"Unidade\" }] : [];\r\n      this.cdRef.detectChanges();\r\n      this.grid!.reloadFilter();\r\n    }\r\n  }\r\n\r\n  public onPrincipaisChange(event: Event) {\r\n    if (this.filter!.controls.principais.value) {\r\n      this.filter!.controls.unidade_id.setValue(null);\r\n      this.filter!.controls.meus_planos.setValue(false);\r\n    } else {\r\n      this.filter!.controls.meus_planos.setValue(true);\r\n    }\r\n    this.grid!.reloadFilter();\r\n  }\r\n\r\n  public dynamicButtons(row: PlanoEntrega): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let planoEntrega: PlanoEntrega = row as PlanoEntrega;\r\n    switch (this.planoEntregaService.situacaoPlano(planoEntrega)) {\r\n      case 'INCLUIDO':\r\n        if (this.botaoAtendeCondicoes(this.BOTAO_LIBERAR_HOMOLOGACAO, row)) result.push(this.BOTAO_LIBERAR_HOMOLOGACAO); else result.push(this.BOTAO_CONSULTAR);\r\n        break;\r\n      case 'HOMOLOGANDO':\r\n        if (this.botaoAtendeCondicoes(this.BOTAO_HOMOLOGAR, row)) result.push(this.BOTAO_HOMOLOGAR);\r\n        break;\r\n      case 'ATIVO':\r\n        if (this.botaoAtendeCondicoes(this.BOTAO_CONCLUIR, row)) result.push(this.BOTAO_CONCLUIR);\r\n        break;\r\n      case 'CONCLUIDO':\r\n        if (this.botaoAtendeCondicoes(this.BOTAO_AVALIAR, row)) result.push(this.BOTAO_AVALIAR);\r\n        break;\r\n      case 'SUSPENSO':\r\n        if (this.botaoAtendeCondicoes(this.BOTAO_REATIVAR, row)) result.push(this.BOTAO_REATIVAR);\r\n        break;\r\n      case 'AVALIADO':\r\n        if (this.botaoAtendeCondicoes(this.BOTAO_ARQUIVAR, row)) result.push(this.BOTAO_ARQUIVAR);\r\n        break;\r\n      case 'ARQUIVADO':\r\n        if (this.botaoAtendeCondicoes(this.BOTAO_DESARQUIVAR, row)) result.push(this.BOTAO_DESARQUIVAR);\r\n        break;\r\n      case 'CANCELADO':\r\n        break;\r\n    }\r\n    if (!result.length) result.push(this.BOTAO_CONSULTAR);\r\n    return result;\r\n  }\r\n\r\n  public dynamicOptions(row: PlanoEntrega): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    this.linha = row;\r\n    this.botoes.forEach(botao => {\r\n      if (this.botaoAtendeCondicoes(botao, row)) result.push(botao);\r\n    });\r\n    return result;\r\n  }\r\n\r\n  public botaoAtendeCondicoes(botao: ToolbarButton, planoEntrega: PlanoEntrega): boolean {\r\n    switch (botao) {\r\n      case this.BOTAO_ADERIR_OPTION:\r\n        /*         \r\n          (RI_PENT_2) O botão Aderir, nas linhas do grid, deverá aparecer num plano somente se:\r\n          - o plano estiver com o status Ativo; e\r\n          - a unidade do plano for a unidade-pai da unidade selecionada pelo usuário; e\r\n          - se o usuário for Gestor da unidade selecionada, ou ela for sua lotação principal e ele possuir a capacidade \"MOD_PENT_ADR\" ; e\r\n          - se a unidade selecionada não possuir plano de entrega Ativo no mesmo período do plano em questão;\r\n        */\r\n        return !this.execucao && (this.planoEntregaService.situacaoPlano(planoEntrega) == 'ATIVO' && (planoEntrega.unidade_id == this.auth.unidade?.unidade_pai_id) && (this.unidadeService.isGestorUnidade() || (this.auth.isLotacaoUsuario(this.auth.unidade) && this.auth.hasPermissionTo(\"MOD_PENT_ADR\"))) &&\r\n          (this.planosEntregasAtivosUnidadeSelecionada().filter(x => this.util.intersection([{ start: x.data_inicio, end: x.data_fim! }, { start: planoEntrega.data_inicio, end: planoEntrega.data_fim! }])).length == 0));\r\n      case this.BOTAO_ALTERAR:\r\n        /*\r\n          (RN_PENT_L) Para ALTERAR um plano de entregas:\r\n          - o Plano de Entregas precisa estar com o status INCLUIDO, HOMOLOGANDO ou ATIVO, e\r\n          - o usuário logado precisa possuir a capacidade \"MOD_PENT_EDT\", o plano de entregas precisa ser válido (ou seja, nem deletado, nem arquivado e com status diferente de 'CANCELADO'), e:\r\n                - o plano precisa estar com o status INCLUIDO ou HOMOLOGANDO, e o usuário logado precisa ser gestor da Unidade do plano, ou esta ser sua Unidade de lotação; ou\r\n                - o usuário logado precisa ser gestor da Unidade-pai (Unidade A) da Unidade do plano (Unidade B) e possuir a capacidade \"MOD_PENT_EDT_FLH\"; (RN_PENT_C) ou\r\n                - o usuário logado precisa possuir a atribuição de HOMOLOGADOR DE PLANO DE ENTREGA para a Unidade-pai (Unidade A) da Unidade do plano (Unidade B); ou\r\n                - o plano de entregas precisa estar com o status ATIVO, a Unidade do plano precisa ser a Unidade de lotação do usuário logado, e ele possuir a capacidade \"MOD_PENT_EDT_ATV_HOMOL\" ou \"MOD_PENT_EDT_ATV_ATV\".\r\n                - o usuário precisa possuir também a capacidade \"MOD_PENT_QQR_UND\";\r\n          (RN_PENT_AE) Se a alteração for feita com o plano de entregas no status ATIVO e o usuário logado possuir a capacidade \"MOD_PENT_EDT_ATV_HOMOL\", o plano de entregas voltará ao status \"HOMOLOGANDO\";\r\n          (RN_PENT_AF) Se a alteração for feita com o plano de entregas no status ATIVO e o usuário logado possuir a capacidade \"MOD_PENT_EDT_ATV_ATV\", o plano de entregas permanecerá no status \"ATIVO\";\r\n        */\r\n        let condicao0 = ['INCLUIDO', 'HOMOLOGANDO', 'ATIVO'].includes(this.planoEntregaService.situacaoPlano(planoEntrega));\r\n        let condicao1 = ['INCLUIDO', 'HOMOLOGANDO'].includes(this.planoEntregaService.situacaoPlano(planoEntrega)) && (this.unidadeService.isGestorUnidade(planoEntrega.unidade) || this.auth.isLotacaoUsuario(planoEntrega.unidade));\r\n        let condicao2 = this.unidadeService.isGestorUnidade(planoEntrega.unidade?.unidade_pai_id) && this.auth.hasPermissionTo(\"MOD_PENT_EDT_FLH\");\r\n        let condicao3 = this.auth.isIntegrante('HOMOLOGADOR_PLANO_ENTREGA', planoEntrega.unidade!.unidade_pai_id!);\r\n        let condicao4 = this.planoEntregaService.situacaoPlano(planoEntrega) == 'ATIVO' && this.auth.isLotacaoUsuario(planoEntrega.unidade) && this.auth.hasPermissionTo([\"MOD_PENT_EDT_ATV_HOMOL\", \"MOD_PENT_EDT_ATV_ATV\"]);\r\n        let condicao5 = this.auth.hasPermissionTo(\"MOD_PENT_QQR_UND\");\r\n        return !this.execucao && this.auth.hasPermissionTo(\"MOD_PENT_EDT\") && condicao0 && this.planoEntregaService.isValido(planoEntrega) && (condicao1 || condicao2 || condicao3 || condicao4 || condicao5);\r\n      case this.BOTAO_ARQUIVAR:\r\n        /*\r\n          (RN_PENT_N) Para ARQUIVAR um plano de entregas:\r\n          - o plano precisa estar com o status CONCLUIDO ou AVALIADO, não ter sido arquivado, e:\r\n            - o usuário logado precisa ser gestor da Unidade do plano (Unidade B), ou\r\n            - a Unidade do plano (Unidade B) precisa ser a Unidade de lotação do usuário logado e ele possuir a capacidade \"MOD_PENT_ARQ\";\r\n        */\r\n        return ['CONCLUIDO', 'AVALIADO'].includes(this.planoEntregaService.situacaoPlano(planoEntrega)) && (this.unidadeService.isGestorUnidade(planoEntrega.unidade) || (this.auth.isLotacaoUsuario(planoEntrega.unidade) && this.auth.hasPermissionTo(\"MOD_PENT_ARQ\")));\r\n      case this.BOTAO_AVALIAR:\r\n        /*\r\n          (RN_PENT_O) Para AVALIAR um plano de entregas:\r\n          - o plano precisa estar com o status CONCLUIDO, e:\r\n              - o usuário logado precisa ser gestor da Unidade-pai (Unidade A) da Unidade do plano (Unidade B), ou\r\n              - o usuário logado precisa possuir a atribuição de AVALIADOR DE PLANOS DE ENTREGAS para a Unidade do plano (Unidade B); ou\r\n              - a Unidade-pai (Unidade A) precisa ser a Unidade de lotação do usuário logado, e ele possuir a capacidade \"MOD_PENT_AVAL\"; ou\r\n              - o usuário logado precisa ser gestor de alguma Unidade da linha hierárquica ascendente da Unidade do plano (Unidade A e superiores), e possuir a capacidade \"MOD_PENT_AVAL_SUBORD\";\r\n              - sugerir arquivamento automático (vide RI_PENT_A); \r\n        */\r\n        let condic1 = this.unidadeService.isGestorUnidade(planoEntrega.unidade?.unidade_pai_id);\r\n        let condic2 = this.auth.isIntegrante('AVALIADOR_PLANO_ENTREGA', planoEntrega.unidade!.id!);\r\n        let condic3 = this.auth.isLotacaoUsuario(planoEntrega.unidade?.unidade_pai) && this.auth.hasPermissionTo(\"MOD_PENT_AVAL\");\r\n        let condic4 = this.auth.isGestorLinhaAscendente(planoEntrega.unidade!) && this.auth.hasPermissionTo(\"MOD_PENT_AVAL_SUBORD\");\r\n        return this.planoEntregaService.situacaoPlano(planoEntrega) == 'CONCLUIDO' && (condic1 || condic2 || condic3 || condic4);\r\n      case this.BOTAO_CANCELAR_AVALIACAO:\r\n        /*\r\n          (RN_PENT_R) Para CANCELAR a AVALIAÇÃO de um plano de entregas:\r\n          - o plano precisa estar com o status AVALIADO, e\r\n          - o usuário logado precisa ser gestor da Unidade-pai (Unidade A) da Unidade do plano (Unidade B), ou\r\n          - a Unidade-pai (Unidade A) precisa ser a Unidade de lotação do usuário logado, e ele possuir a capacidade \"MOD_PENT_CANC_AVAL\"; ou\r\n          - possuir a atribuição de AVALIADOR DE PLANOS DE ENTREGAS para a Unidade do plano (Unidade B);\r\n        */\r\n        return this.planoEntregaService.situacaoPlano(planoEntrega) == 'AVALIADO' && (this.unidadeService.isGestorUnidade(planoEntrega.unidade?.unidade_pai_id) || this.auth.isIntegrante('AVALIADOR_PLANO_ENTREGA', planoEntrega.unidade!.id!));\r\n      case this.BOTAO_CANCELAR_CONCLUSAO:\r\n        /*\r\n          (RN_PENT_S) Para CANCELAR a CONCLUSÃO de um plano de entregas:\r\n          - o plano precisa estar com o status CONCLUIDO e o usuário logado precisa ser gestor da Unidade do plano (Unidade B), ou\r\n          - a Unidade do plano (Unidade B) precisa ser sua Unidade de lotação e o usuário logado precisa possuir a capacidade \"**MOD_PENT_CANC_CONCL\";        */\r\n        return this.planoEntregaService.situacaoPlano(planoEntrega) == 'CONCLUIDO' && (this.unidadeService.isGestorUnidade(planoEntrega.unidade) || (this.auth.isLotacaoUsuario(planoEntrega.unidade) && this.auth.hasPermissionTo(\"MOD_PENT_CANC_CONCL\")));\r\n      case this.BOTAO_CANCELAR_HOMOLOGACAO:\r\n        /*\r\n          (RN_PENT_T) Para CANCELAR a HOMOLOGAÇÃO de um plano de entregas:\r\n          - o plano precisa estar com o status ATIVO, e\r\n            - o usuário logado precisa ser gestor da Unidade-pai (Unidade A) da Unidade do plano (Unidade B), ou\r\n            - a Unidade-pai (Unidade A) precisa ser a Unidade de lotação do usuário logado, e ele possuir a capacidade \"MOD_PENT_CANC_HOMOL\"; ou\r\n            - o usuário logado precisa possuir a atribuição de HOMOLOGADOR DE PLANOS DE ENTREGAS para a Unidade-pai (Unidade A) da Unidade do plano (Unidade B);\r\n        */\r\n        return !this.execucao && this.planoEntregaService.situacaoPlano(planoEntrega) == 'ATIVO' && (this.unidadeService.isGestorUnidade(planoEntrega.unidade?.unidade_pai_id) || (this.auth.isLotacaoUsuario(planoEntrega.unidade?.unidade_pai) && this.auth.hasPermissionTo(\"MOD_PENT_CANC_HOMOL\")) || this.auth.isIntegrante('HOMOLOGADOR_PLANO_ENTREGA', planoEntrega.unidade!.unidade_pai_id!));\r\n      case this.BOTAO_CANCELAR_PLANO:\r\n        /*\r\n          (RN_PENT_P) Para CANCELAR UM PLANO DE ENTREGAS:\r\n          - o usuário logado precisa possuir a capacidade \"MOD_PENT_CNC\", o plano precisa estar em um dos seguintes status: INCLUIDO, HOMOLOGANDO e ATIVO;\r\n            - o usuário logado precisa ser gestor da Unidade do plano (Unidade B), ou\r\n            - o usuário logado precisa ser gestor da Unidade-pai do plano (Unidade A);\r\n          */\r\n        return this.auth.hasPermissionTo(\"MOD_PENT_CNC\") && ['INCLUIDO', 'HOMOLOGANDO', 'ATIVO'].includes(this.planoEntregaService.situacaoPlano(planoEntrega)) && (this.unidadeService.isGestorUnidade(planoEntrega.unidade?.id) || this.unidadeService.isGestorUnidade(planoEntrega.unidade?.unidade_pai_id));\r\n      case this.BOTAO_CONCLUIR:\r\n        /*\r\n          (RN_PENT_U) Para CONCLUIR um plano de entregas:\r\n          - o plano precisa estar com o status ATIVO, e\r\n            - o usuário logado precisa ser gestor da Unidade do plano (Unidade B), ou\r\n            - a Unidade do plano (Unidade B) precisa ser sua Unidade de lotação e o usuário logado precisa possuir a capacidade \"MOD_PENT_CONC\";\r\n        */\r\n        return this.planoEntregaService.situacaoPlano(planoEntrega) == 'ATIVO' && (this.unidadeService.isGestorUnidade(planoEntrega.unidade) || (this.auth.isLotacaoUsuario(planoEntrega.unidade) && this.auth.hasPermissionTo(\"MOD_PENT_CONC\")));\r\n      case this.BOTAO_CONSULTAR:\r\n        /*\r\n          (RN_PENT_V) CONSULTAR\r\n          - todos os participantes podem visualizar todos os planos de entrega, desde que possuam a capacidade \"MOD_PENT\" (RN_PENT_F, RN_PENT_I);\r\n        */\r\n        return this.auth.hasPermissionTo(\"MOD_PENT\");\r\n      case this.BOTAO_DESARQUIVAR:\r\n        /*\r\n          (RN_PENT_W) Para DESARQUIVAR um plano de entregas:\r\n          - o plano precisa estar arquivado, e:\r\n              - o usuário logado precisa ser gestor da Unidade do plano (Unidade B), ou\r\n              - a Unidade do plano (Unidade B) precisa ser a Unidade de lotação do usuário logado e ele possuir a capacidade \"MOD_PENT_ARQ\";\r\n        */\r\n        return this.planoEntregaService.situacaoPlano(planoEntrega) == 'ARQUIVADO' && (this.unidadeService.isGestorUnidade(planoEntrega.unidade) || (this.auth.isLotacaoUsuario(planoEntrega.unidade) && this.auth.hasPermissionTo(\"MOD_PENT_ARQ\")));\r\n      case this.BOTAO_EXCLUIR:\r\n        /*\r\n          (RN_PENT_X) Para EXCLUIR um plano de entregas:\r\n          - o usuário logado precisa possuir a capacidade \"MOD_PENT_EXCL\", o plano precisa estar com o status INCLUIDO ou HOMOLOGANDO; e\r\n              - o usuário logado precisa ser gestor da Unidade do plano (Unidade B), ou\r\n              - a Unidade do plano (Unidade B) precisa ser a Unidade de lotação do usuário logado;\r\n        */\r\n        return !this.execucao && this.auth.hasPermissionTo(\"MOD_PENT_EXCL\") && ['INCLUIDO', 'HOMOLOGANDO'].includes(this.planoEntregaService.situacaoPlano(planoEntrega)) && (this.unidadeService.isGestorUnidade(planoEntrega.unidade) || this.auth.isLotacaoUsuario(planoEntrega.unidade));;\r\n      case this.BOTAO_HOMOLOGAR:\r\n        /*\r\n          (RN_PENT_Y) Para HOMOLOGAR um plano de entregas:\r\n          - o plano precisa estar com o status HOMOLOGANDO, e:\r\n              - o usuário logado precisa ser gestor da Unidade-pai (Unidade A) da Unidade do plano (Unidade B); (RN_PENT_C), ou\r\n              - a Unidade-pai (Unidade A) for a Unidade de lotação do usuário logado e ele possuir a capacidade \"MOD_PENT_HOMOL\", ou\r\n              - o usuário logado precisa possuir a atribuição de HOMOLOGADOR DE PLANOS DE ENTREGAS para a Unidade-pai (Unidade A); (RN_PENT_E)\r\n          - A homologação do plano de entregas não se aplica à Unidade instituidora.\r\n        */\r\n        let condition1 = this.planoEntregaService.situacaoPlano(planoEntrega) == 'HOMOLOGANDO';\r\n        let condition2 = this.unidadeService.isGestorUnidade(planoEntrega.unidade?.unidade_pai_id);\r\n        let condition3 = this.auth.isLotacaoUsuario(planoEntrega.unidade!.unidade_pai) && this.auth.hasPermissionTo(\"MOD_PENT_HOMOL\");\r\n        let condition4 = this.auth.isIntegrante('HOMOLOGADOR_PLANO_ENTREGA', planoEntrega.unidade!.unidade_pai_id!);\r\n        return !this.execucao && condition1 && (condition2 || condition3 || condition4);\r\n      case this.BOTAO_LIBERAR_HOMOLOGACAO:\r\n        /*\r\n          (RN_PENT_AA) Para LIBERAR PARA HOMOLOGAÇÃO um plano de entregas:\r\n          - o plano precisa estar com o status INCLUIDO, conter ao menos uma entrega (RN_PENT_D), e\r\n              - o usuário logado precisa ser gestor da Unidade do plano (Unidade B); ou\r\n              - a Unidade do plano (Unidade B) precisa ser a Unidade de lotação do usuário logado, e este possuir a capacidade \"MOD_PENT_LIB_HOMOL\"\r\n        */\r\n        return !this.execucao && this.planoEntregaService.situacaoPlano(planoEntrega) == 'INCLUIDO' && planoEntrega.entregas.length > 0 && (this.unidadeService.isGestorUnidade(planoEntrega.unidade) || (this.auth.isLotacaoUsuario(planoEntrega.unidade) && this.auth.hasPermissionTo(\"MOD_PENT_LIB_HOMOL\")));\r\n      case this.BOTAO_LOGS:\r\n        /*\r\n        \r\n        */\r\n        return this.unidadeService.isGestorUnidade(planoEntrega.unidade) && this.auth.hasPermissionTo(\"MOD_PENT_AVAL_SUBORD\");\r\n      case this.BOTAO_REATIVAR:\r\n        /*\r\n          (RN_PENT_AC) Para REATIVAR um plano de entregas:\r\n          - o plano precisa estar com o status SUSPENSO, e\r\n              - o usuário logado precisa ser gestor da Unidade do plano (Unidade B), ou\r\n              - a Unidade do plano (Unidade B) precisa ser a Unidade de lotação do usuário logado, e ele possuir a capacidade \"MOD_PENT_RTV\"; ou\r\n              - o usuário logado precisa ser gestor de alguma Unidade da linha hierárquica ascendente (Unidade A e superiores) da Unidade do plano (Unidade B);\r\n        */\r\n        return this.planoEntregaService.situacaoPlano(planoEntrega) == 'SUSPENSO' && (this.unidadeService.isGestorUnidade(planoEntrega.unidade) || (this.auth.isLotacaoUsuario(planoEntrega.unidade) && this.auth.hasPermissionTo(\"MOD_PENT_RTV\")) || this.auth.isGestorLinhaAscendente(planoEntrega.unidade!));\r\n      case this.BOTAO_RETIRAR_HOMOLOGACAO:\r\n        /*\r\n          (RN_PENT_AB) Para RETIRAR DE HOMOLOGAÇÃO um plano de entregas:\r\n          - o plano precisa estar com o status HOMOLOGANDO, e:\r\n              - o usuário logado precisa ser gestor da Unidade do plano (Unidade B); ou\r\n              - a Unidade do plano (Unidade B) precisa ser a Unidade de lotação do usuário logado, e este possuir a capacidade \"MOD_PENT_RET_HOMOL\"\r\n        */\r\n        return !this.execucao && this.planoEntregaService.situacaoPlano(planoEntrega) == 'HOMOLOGANDO' && (this.unidadeService.isGestorUnidade(planoEntrega.unidade) || (this.auth.isLotacaoUsuario(planoEntrega.unidade) && this.auth.hasPermissionTo(\"MOD_PENT_RET_HOMOL\")));\r\n      case this.BOTAO_SUSPENDER:\r\n        /*\r\n          (RN_PENT_AD) Para SUSPENDER um plano de entregas:\r\n          - o plano precisa estar com o status ATIVO, e:\r\n              - o usuário logado precisa ser gestor da Unidade do plano (Unidade B), ou\r\n              - a Unidade do plano (Unidade B) precisa ser a Unidade de lotação do usuário logado, e ele possuir a capacidade \"MOD_PENT_SUSP\"; ou\r\n              - o usuário logado precisa ser gestor de alguma Unidade da linha hierárquica ascendente (Unidade A e superiores) da Unidade do plano (Unidade B);\r\n        */\r\n        return this.planoEntregaService.situacaoPlano(planoEntrega) == 'ATIVO' && (this.unidadeService.isGestorUnidade(planoEntrega.unidade) || (this.auth.isLotacaoUsuario(planoEntrega.unidade) && this.auth.hasPermissionTo(\"MOD_PENT_SUSP\")) || this.auth.isGestorLinhaAscendente(planoEntrega.unidade!));\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public arquivar(planoEntrega: PlanoEntrega) {\r\n    this.go.navigate(this.routeStatus, {\r\n      metadata: { tipo: \"PlanoEntrega\", entity: Object.assign({}, planoEntrega, { arquivar: true }), novoStatus: planoEntrega.status, onClick: this.dao!.arquivar.bind(this.dao) },\r\n      title: \"Arquivar Plano de Entregas\",\r\n      modalClose: (modalResult) => {\r\n        if (modalResult) {\r\n          (this.grid?.query || this.query!).refreshId(planoEntrega.id).then(() => {\r\n            this.checaBotaoAderirToolbar();\r\n          });\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public avaliar(planoEntrega: PlanoEntrega) {\r\n    this.go.navigate({ route: ['gestao', 'plano-entrega', planoEntrega.id, 'avaliar'] }, {\r\n      modal: true,\r\n      metadata: { planoEntrega: planoEntrega },\r\n      modalClose: (modalResult?: Avaliacao) => {\r\n        if (modalResult) {\r\n          (this.grid?.query || this.query!).refreshId(planoEntrega.id, [\"avaliacao.tipo_avaliacao.notas\"]).then(() => {\r\n            this.checaBotaoAderirToolbar();\r\n          });\r\n          /*consolidacao.status = \"AVALIADO\";\r\n          consolidacao.avaliacao_id = modalResult.id;\r\n          consolidacao.avaliacao = modalResult;\r\n          this.refreshConsolidacao(consolidacao);*/\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public async cancelarAvaliacao(planoEntrega: PlanoEntrega) {\r\n    /*this.go.navigate(this.routeStatus, {\r\n      metadata: { tipo: \"PlanoEntrega\", entity: planoEntrega, novoStatus: \"CONCLUIDO\", onClick: this.dao!.cancelarAvaliacao.bind(this.dao) },\r\n      title: \"Cancelar Avaliação\",\r\n      modalClose: (modalResult) => {\r\n        if (modalResult) {\r\n          (this.grid?.query || this.query!).refreshId(planoEntrega.id).then(() => {\r\n            this.checaBotaoAderirToolbar();\r\n          });\r\n        };\r\n      }\r\n    });*/\r\n    this.submitting = true;\r\n    try {\r\n      let response = await this.avaliacaoDao!.cancelarAvaliacao(planoEntrega.avaliacao!.id);\r\n      if (response) {\r\n        (this.grid?.query || this.query!).refreshId(planoEntrega.id).then(() => {\r\n          this.checaBotaoAderirToolbar();\r\n        });\r\n        /*consolidacao.status = \"CONCLUIDO\";\r\n        consolidacao.avaliacao_id = null;\r\n        consolidacao.avaliacao = undefined;\r\n        this.refreshConsolidacao(consolidacao);*/\r\n      }\r\n    } catch (error: any) {\r\n      this.error(error.message || error);\r\n    } finally {\r\n      this.submitting = false;\r\n    }\r\n  }\r\n\r\n  public cancelarConclusao(planoEntrega: PlanoEntrega) {\r\n    this.go.navigate(this.routeStatus, {\r\n      metadata: { tipo: \"PlanoEntrega\", entity: planoEntrega, novoStatus: \"ATIVO\", onClick: this.dao!.cancelarConclusao.bind(this.dao) },\r\n      title: \"Cancelar Conclusão\",\r\n      modalClose: (modalResult) => {\r\n        if (modalResult) {\r\n          (this.grid?.query || this.query!).refreshId(planoEntrega.id).then(() => {\r\n            this.checaBotaoAderirToolbar();\r\n          });\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public cancelarHomologacao(planoEntrega: PlanoEntrega) {\r\n    this.go.navigate(this.routeStatus, {\r\n      metadata: { tipo: \"PlanoEntrega\", entity: planoEntrega, novoStatus: \"HOMOLOGANDO\", onClick: this.dao!.cancelarHomologacao.bind(this.dao) },\r\n      title: \"Cancelar Homologação\",\r\n      modalClose: (modalResult) => {\r\n        if (modalResult) {\r\n          (this.grid?.query || this.query!).refreshId(planoEntrega.id).then(() => {\r\n            this.checaBotaoAderirToolbar();\r\n          });\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public cancelarPlano(planoEntrega: PlanoEntrega) {\r\n    this.go.navigate(this.routeStatus, {\r\n      metadata: { tipo: \"PlanoEntrega\", entity: Object.assign({}, planoEntrega, { arquivar: true }), novoStatus: \"CANCELADO\", onClick: this.dao!.cancelarPlano.bind(this.dao) },\r\n      title: \"Cancelar Plano de Entregas\",\r\n      modalClose: (modalResult) => {\r\n        if (modalResult) {\r\n          (this.grid?.query || this.query!).refreshId(planoEntrega.id).then(() => {\r\n            this.checaBotaoAderirToolbar();\r\n          });\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public concluir(planoEntrega: PlanoEntrega) {\r\n    this.go.navigate(this.routeStatus, {\r\n      metadata: { tipo: \"PlanoEntrega\", entity: planoEntrega, novoStatus: \"CONCLUIDO\", onClick: this.dao!.concluir.bind(this.dao) },\r\n      title: \"Concluir Plano de Entregas\",\r\n      modalClose: (modalResult) => {\r\n        if (modalResult) {\r\n          (this.grid?.query || this.query!).refreshId(planoEntrega.id).then(() => {\r\n            this.checaBotaoAderirToolbar();\r\n          });\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public desarquivar(planoEntrega: PlanoEntrega) {\r\n    this.go.navigate(this.routeStatus, {\r\n      metadata: { tipo: \"PlanoEntrega\", entity: Object.assign({}, planoEntrega, { arquivar: false }), novoStatus: planoEntrega.status, onClick: this.dao!.arquivar.bind(this.dao) },\r\n      title: \"Desarquivar Plano de Entregas\",\r\n      modalClose: (modalResult) => {\r\n        if (modalResult) {\r\n          (this.grid?.query || this.query!).refreshId(planoEntrega.id).then(() => {\r\n            this.checaBotaoAderirToolbar();\r\n          });\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public homologar(planoEntrega: PlanoEntrega) {\r\n    this.go.navigate(this.routeStatus, {\r\n      metadata: { tipo: \"PlanoEntrega\", entity: planoEntrega, novoStatus: \"ATIVO\", onClick: this.dao!.homologar.bind(this.dao) },\r\n      title: \"Homologar Plano de Entregas\",\r\n      modalClose: (modalResult) => {\r\n        if (modalResult) {\r\n          (this.grid?.query || this.query!).refreshId(planoEntrega.id).then(() => {\r\n            this.checaBotaoAderirToolbar();\r\n          });\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public liberarHomologacao(planoEntrega: PlanoEntrega) {\r\n    this.go.navigate(this.routeStatus, {\r\n      metadata: { tipo: \"PlanoEntrega\", entity: planoEntrega, novoStatus: \"HOMOLOGANDO\", onClick: this.dao!.liberarHomologacao.bind(this.dao) },\r\n      title: \"Liberar para Homologação\",\r\n      modalClose: (modalResult) => {\r\n        if (modalResult) {\r\n          (this.grid?.query || this.query!).refreshId(planoEntrega.id).then(() => {\r\n            this.checaBotaoAderirToolbar();\r\n          });\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public reativar(planoEntrega: PlanoEntrega) {\r\n    this.go.navigate(this.routeStatus, {\r\n      metadata: { tipo: \"PlanoEntrega\", entity: planoEntrega, novoStatus: \"ATIVO\", onClick: this.dao!.reativar.bind(this.dao) },\r\n      title: \"Reativar Plano de Entregas\",\r\n      modalClose: (modalResult) => {\r\n        if (modalResult) {\r\n          (this.grid?.query || this.query!).refreshId(planoEntrega.id).then(() => {\r\n            this.checaBotaoAderirToolbar();\r\n          });\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public retirarHomologacao(planoEntrega: PlanoEntrega) {\r\n    this.go.navigate(this.routeStatus, {\r\n      metadata: { tipo: \"PlanoEntrega\", entity: planoEntrega, novoStatus: \"INCLUIDO\", onClick: this.dao!.retirarHomologacao.bind(this.dao) },\r\n      title: \"Retirar de Homologação\",\r\n      modalClose: (modalResult) => {\r\n        if (modalResult) {\r\n          (this.grid?.query || this.query!).refreshId(planoEntrega.id).then(() => {\r\n            this.checaBotaoAderirToolbar();\r\n          });\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public suspender(planoEntrega: PlanoEntrega) {\r\n    this.go.navigate(this.routeStatus, {\r\n      metadata: { tipo: \"PlanoEntrega\", entity: planoEntrega, novoStatus: \"SUSPENSO\", onClick: this.dao!.suspender.bind(this.dao) },\r\n      title: \"Suspender Plano de Entregas\",\r\n      modalClose: (modalResult) => {\r\n        if (modalResult) {\r\n          (this.grid?.query || this.query!).refreshId(planoEntrega.id).then(() => {\r\n            this.checaBotaoAderirToolbar();\r\n          });\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public canAdd() {\r\n    return this.auth.hasPermissionTo('MOD_PENT_INCL');\r\n    /*\r\n    - (RN_PENT_Z) ... O usuário logado precisa possuir a capacidade \"MOD_PENT_INCL\"\r\n     */\r\n  }\r\n}","<grid [dao]=\"dao\" [add]=\"add\" [title]=\"isModal ? '' : title\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\"\r\n    [selectable]=\"selectable\" (select)=\"onSelect($event)\" [hasAdd]=\"canAdd()\"\r\n    [hasEdit]=\"false\" [loadList]=\"onGridLoad.bind(this)\">\r\n    <toolbar *ngIf=\"!selectable\" [buttons]=\"toolbarButtons\">\r\n        <input-switch [size]=\"3\" labelPosition=\"left\" label=\"Agrupar por Un.\" controlName=\"agrupar\" [control]=\"filter!.controls.agrupar\" (change)=\"onAgruparChange($event)\"></input-switch>\r\n        <input-switch *ngIf=\"!avaliacao\" [size]=\"2\" labelPosition=\"left\" label=\"Vinculados\" controlName=\"principais\" [control]=\"filter!.controls.principais\" (change)=\"onPrincipaisChange($event)\" [labelInfo]=\"lex.translate('Unidades') + ' onde o ' + lex.translate('usuario') + ' é integrante, incluindo unidades superiores sob sua gerência.'\"></input-switch>\r\n    </toolbar>\r\n    <filter [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\" [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\" [visible]=\"showFilter\">\r\n        <div *ngIf=\"isModal else naoEModal\">\r\n            <div class=\"row\">\r\n                <input-search #unidade [size]=\"6\" [control]=\"filter!.controls.unidade_id\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n                <input-select [size]=\"2\" label=\"Data\" itemTodos=\"- Nenhum -\" [valueTodos]=\"null\" controlName=\"data_filtro\" [control]=\"filter!.controls.data_filtro\" [items]=\"DATAS_FILTRO\"></input-select>\r\n                <input-datetime [size]=\"2\" date [disabled]=\"filter!.controls.data_filtro.value == null ? 'true' : undefined\" label=\"Início\" controlName=\"data_filtro_inicio\" [control]=\"filter!.controls.data_filtro_inicio\" labelInfo=\"Data início do período\"></input-datetime>\r\n                <input-datetime [size]=\"2\" date [disabled]=\"filter!.controls.data_filtro.value == null ? 'true' : undefined\" label=\"Fim\" controlName=\"data_filtro_fim\" [control]=\"filter!.controls.data_filtro_fim\" labelInfo=\"Data fim do período\"></input-datetime>\r\n            </div>\r\n        </div>\r\n        <ng-template #naoEModal>\r\n            <div class=\"row\">\r\n                <input-switch [size]=\"1\" label=\"Meus\" controlName=\"meus_planos\" [control]=\"filter!.controls.meus_planos\" labelInfo=\"Planos de entrega das unidade da qual sou integrante (Áreas de trabalho)\"></input-switch>\r\n                <input-text [size]=\"3\" label=\"Nome\" controlName=\"nome\" [control]=\"filter!.controls.nome\" [placeholder]=\"'Nome do '+lex.translate('plano de entrega')\" [attr.maxlength]=250></input-text>\r\n                <input-search #unidade [size]=\"4\" [control]=\"filter!.controls.unidade_id\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n                <input-select [size]=\"3\" label=\"Status\" controlName=\"status\" [control]=\"filter!.controls.status\" [items]=\"lookup.PLANO_ENTREGA_STATUS\" [filter]=\"avaliacao ? ['CONCLUIDO', 'AVALIADO'] : undefined\" itemTodos=\"- Todos -\" [valueTodos]=\"null\"></input-select>\r\n                <input-switch [size]=\"1\" label=\"Arq.\" controlName=\"arquivadas\" [control]=\"filter!.controls.arquivadas\" labelInfo=\"Listar também os planos de entregas arquivados\"></input-switch>\r\n            </div>\r\n            <div class=\"row\">\r\n                <input-search #planejamento [size]=\"3\" [control]=\"filter!.controls.planejamento_id\" controlName=\"planejamento_id\" [dao]=\"planejamentoDao\"></input-search>\r\n                <input-search #cadeiaValor [size]=\"3\" [control]=\"filter!.controls.cadeia_valor_id\" controlName=\"cadeia_valor_id\" [dao]=\"cadeiaValorDao\"></input-search>\r\n                <input-select [size]=\"2\" label=\"Data\" itemTodos=\"- Nenhum -\" [valueTodos]=\"null\" controlName=\"data_filtro\" [control]=\"filter!.controls.data_filtro\" [items]=\"DATAS_FILTRO\"></input-select>\r\n                <input-datetime [size]=\"2\" date [disabled]=\"filter!.controls.data_filtro.value == null ? 'true' : undefined\" label=\"Início\" controlName=\"data_filtro_inicio\" [control]=\"filter!.controls.data_filtro_inicio\" labelInfo=\"Data início do período\"></input-datetime>\r\n                <input-datetime [size]=\"2\" date [disabled]=\"filter!.controls.data_filtro.value == null ? 'true' : undefined\" label=\"Fim\" controlName=\"data_filtro_fim\" [control]=\"filter!.controls.data_filtro_fim\" labelInfo=\"Data fim do período\"></input-datetime>\r\n            </div>\r\n        </ng-template>\r\n    </filter>\r\n    <columns>\r\n        <column *ngIf=\"!selectable\" type=\"expand\" icon=\"bi bi-list-check\" [align]=\"'center'\" [hint]=\"lex.translate('Entrega')\" [template]=\"columnEntregas\" [expandTemplate]=\"columnExpandedEntregas\">\r\n            <ng-template let-row=\"row\" #columnEntregas>\r\n                <span *ngIf=\"row.entregas?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-list-check\"></i> {{row.entregas?.length}}</span>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnExpandedEntregas>\r\n                <plano-entrega-list-entrega [parent]=\"this\" [disabled]=\"avaliacao || !botaoAtendeCondicoes(BOTAO_ALTERAR, row)\" [entity]=\"row\" [execucao]=\"execucao\" [cdRef]=\"cdRef\" [planejamentoId]=\"row.planejamento_id\" [cadeiaValorId]=\"row.cadeia_valor_id\" [unidadeId]=\"row.unidade_id\"></plano-entrega-list-entrega>\r\n            </ng-template>\r\n        </column>\r\n        <column [titleTemplate]=\"titleIdNumeroStatus\" [template]=\"columnNumero\">\r\n            <ng-template let-header=\"header\" #titleIdNumeroStatus>\r\n                <order by=\"numero\" [header]=\"header\">#ID</order>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnNumero>\r\n                <small class=\"micro-text fw-ligh\">#{{row.numero}}</small>\r\n            </ng-template>\r\n        </column>\r\n        <column [titleTemplate]=\"titleNomeProgramaUnidade\" [template]=\"columnNome\">\r\n            <ng-template let-header=\"header\" #titleNomeProgramaUnidade>\r\n                <order by=\"nome\" [header]=\"header\">Nome</order><br>\r\n                Programa{{ !filter!.controls.agrupar.value ? ' - Unidade' : ''}}\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnNome>\r\n                <span class=\"text-break text-wrap\" [style.max-width.px]=\"400\">{{row.nome || \"\"}}</span><br>\r\n                <badge *ngIf=\"row.programa\" [icon]=\"entityService.getIcon('Programa')\" [label]=\"row.programa.nome\" color=\"light\"></badge>\r\n                <badge *ngIf=\"!filter!.controls.agrupar.value && row.unidade\" color=\"secondary\" [icon]=\"entityService.getIcon(lex.translate('unidade'))\" [label]=\"row.unidade.sigla\"></badge>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Início\" [template]=\"columnInicio\" orderBy=\"data_inicio\">\r\n            <ng-template let-row=\"row\" #columnInicio>\r\n                <span> {{dao!.getDateFormatted(row.data_inicio)}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Fim\" [template]=\"columnFim\" orderBy=\"data_fim\">\r\n            <ng-template let-row=\"row\" #columnFim>\r\n                <span> {{dao!.getDateFormatted(row.data_fim)}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column [titleTemplate]=\"titlePlanoCadeia\" [template]=\"columnPlanoCadeia\">\r\n            <ng-template let-header=\"header\" #titlePlanoCadeia>\r\n                Planejamento Institucional<br>\r\n                Cadeia de Valor\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnPlanoCadeia>\r\n                <badge *ngIf=\"row.planejamento\" [maxWidth]=\"300\" color=\"light\" [icon]=\"entityService.getIcon('Planejamento')\" [label]=\"row.planejamento?.nome\"></badge>\r\n                <badge *ngIf=\"row.cadeia_valor\" [maxWidth]=\"300\" color=\"light\" [icon]=\"entityService.getIcon('CadeiaValor')\" [label]=\"row.cadeia_valor?.nome\"></badge>\r\n            </ng-template>\r\n        </column>\r\n        <column [title]=\"'Status\\nAvaliação'\" [template]=\"columnStatus\">\r\n            <ng-template let-row=\"row\" #columnStatus>\r\n                <badge [color]=\"lookup.getColor(lookup.PLANO_ENTREGA_STATUS, row.status)\" [icon]=\"lookup.getIcon(lookup.PLANO_ENTREGA_STATUS, row.status)\" [label]=\"lookup.getValue(lookup.PLANO_ENTREGA_STATUS, row.status)\"></badge><br>\r\n                <badge *ngIf=\"row.data_arquivamento\" color=\"warning\" icon=\"bi bi-inboxes\" label=\"Arquivado\"></badge>\r\n                <badge *ngIf=\"row.deleted_at\" color=\"danger\" icon=\"bi bi-trash3\" label=\"Excluído\"></badge>\r\n                <avaliar-nota-badge *ngIf=\"row.avaliacao\" [align]=\"'left'\" [tipoAvaliacao]=\"row.avaliacao.tipo_avaliacao\" [nota]=\"row.avaliacao.nota\"></avaliar-nota-badge>\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"options\" [dynamicOptions]=\"dynamicOptions.bind(this)\" [dynamicButtons]=\"dynamicButtons.bind(this)\"></column>\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>\r\n\r\n<!-- Planejamento/           [ Incluir ] \r\nNumero  Nome              Data inicio  Data Fim   Cadeia de Valor    Status      \r\n------------------------------------------------------------------------------- [...]\r\n                                                   | Consultar                      |\r\n                                                   | Alterar                        |\r\n                                                   | Excluir                        |\r\n                                                   | Entregas                       |\r\n                                                   | Homologar                      |\r\n                                                   | Ponto de Controle (Avaliação)  |\r\n\r\n -->","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputSearchComponent} from 'src/app/components/input/input-search/input-search.component';\r\nimport { EntregaDaoService } from 'src/app/dao/entrega-dao.service';\r\nimport { PlanoEntregaEntregaDaoService } from 'src/app/dao/plano-entrega-entrega-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { PlanoEntregaEntrega } from 'src/app/models/plano-entrega-entrega.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { PlanoEntregaService } from '../plano-entrega.service';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { CadeiaValorProcesso } from 'src/app/models/cadeia-valor-processo.model';\r\nimport { CadeiaValorProcessoDaoService } from 'src/app/dao/cadeia-valor-processo-dao.service';\r\n\r\n@Component({\r\n  selector: 'plano-entrega-mapa-entregas',\r\n  templateUrl: './plano-entrega-mapa-entregas.component.html',\r\n  styleUrls: ['./plano-entrega-mapa-entregas.component.scss']\r\n})\r\nexport class PlanoEntregaMapaEntregasComponent extends PageListBase<PlanoEntregaEntrega, PlanoEntregaEntregaDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  \r\n  public unidadeDao: UnidadeDaoService;\r\n  public entregaDao: EntregaDaoService;\r\n  public entregaService: PlanoEntregaService;\r\n  public objetivoDao?: PlanejamentoObjetivoDaoService;\r\n  public processoDao?: CadeiaValorProcessoDaoService;\r\n  public objetivoId?: string;\r\n  public processoId?: string;\r\n  public objetivo!: PlanejamentoObjetivo;\r\n  public processo!: CadeiaValorProcesso;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, PlanoEntregaEntrega, PlanoEntregaEntregaDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.entregaDao = injector.get<EntregaDaoService>(EntregaDaoService);\r\n    this.entregaService = injector.get<PlanoEntregaService>(PlanoEntregaService);\r\n    this.objetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\r\n    this.processoDao = injector.get<CadeiaValorProcessoDaoService>(CadeiaValorProcessoDaoService);\r\n\r\n    /* Inicializações */\r\n    this.join = [\"plano_entrega.unidade\"];\r\n    this.title = this.lex.translate(\"Entregas\");\r\n    this.filter = this.fh.FormBuilder({\r\n      unidade_id: {default: null},\r\n      entrega_id: {default: null},\r\n      data_inicio: {default: null},\r\n      data_fim: {default: null}\r\n    });\r\n  }\r\n\r\n  ngOnInit(){\r\n    super.ngOnInit()\r\n    this.objetivoId = this.urlParams!.get(\"objetivo_id\") || undefined;\r\n    this.processoId = this.urlParams!.get(\"processo_id\") || undefined;\r\n    if(this.objetivoId){\r\n      this.objetivoDao?.getById(this.objetivoId, [\"planejamento\"]).then(obj => {\r\n        this.objetivo = obj!\r\n      })\r\n    }\r\n    if(this.processoId){\r\n      this.processoDao?.getById(this.processoId, ['cadeia_valor']).then(processo => {\r\n        this.processo = processo!\r\n      })\r\n    }\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    filter.controls.unidade_id.setValue(null);\r\n    filter.controls.entrega_id.setValue(null);\r\n    filter.controls.data_inicio.setValue(null);\r\n    filter.controls.data_fim.setValue(null);\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n\r\n    if(this.objetivoId) result.push([\"objetivos.objetivo_id\", \"==\", this.objetivoId]);\r\n    if(this.processoId) result.push([\"processos.processo_id\", \"==\", this.processoId]);\r\n    if(form.unidade_id) result.push([\"plano_entrega.unidade_id\", \"==\", form.unidade_id]);\r\n    if(form.entrega_id) result.push([\"entrega_id\", \"==\", form.entrega_id]);\r\n    if(form.data_inicio) result.push([\"data_inicio\", \">=\", form.data_inicio]);\r\n    if(form.data_fim) result.push([\"data_fim\", \"<=\", form.data_fim]);\r\n\r\n    return result;\r\n  }\r\n}\r\n\r\n","<ng-container *ngIf=\"objetivo\">\r\n    <planejamento-show [planejamento]=\"objetivo.planejamento\" *ngIf=\"objetivo.planejamento\"></planejamento-show>\r\n    <div class=\"objetivos arrow_box w-100\">\r\n        <h5>Objetivo:</h5>\r\n        <h6>{{objetivo.nome}}</h6>\r\n    </div>\r\n</ng-container>\r\n\r\n\r\n<ng-container *ngIf=\"processo\">\r\n    <div class=\"planejamento arrow_box first-box w-100\" *ngIf=\"processo.cadeia_valor\">\r\n        <h6>Cadeia de valor:</h6>\r\n        <h4>{{processo.cadeia_valor.nome}}</h4>        \r\n    </div>\r\n    <div class=\"procesos arrow_box w-100\">\r\n        <h5>Processo:</h5>\r\n        <h6>{{processo.nome}}</h6>\r\n    </div>\r\n</ng-container>\r\n\r\n<grid [dao]=\"dao\" [title]=\"isModal ? '' : title\" [orderBy]=\"orderBy\" [join]=\"join\">\r\n    <toolbar>\r\n        <!-- input-switch [size]=\"4\" labelPosition=\"left\" label=\"Agrupar por Unidade\" controlName=\"agrupar\" [control]=\"filter!.controls.agrupar\" (change)=\"onAgruparChange($event)\"></input-switch -->\r\n    </toolbar>\r\n    <filter [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\" [form]=\"filter\" [where]=\"filterWhere\"\r\n        [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\"\r\n        [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-search #unidade [size]=\"4\" [control]=\"filter!.controls.unidade_id\" controlName=\"unidade_id\"\r\n                [dao]=\"unidadeDao\"></input-search>\r\n            <input-search #entrega [size]=\"4\" [control]=\"filter!.controls.entrega_id\" controlName=\"entrega_id\"\r\n                [dao]=\"entregaDao\"></input-search>\r\n            <input-datetime [size]=\"2\" date noIcon label=\"Início\" controlName=\"data_inicio\"\r\n                [control]=\"filter!.controls.data_inicio\"\r\n                labelInfo=\"Data de início do planejamento institucional\"></input-datetime>\r\n            <input-datetime [size]=\"2\" date noIcon label=\"Fim\" controlName=\"data_fim\"\r\n                [control]=\"filter!.controls.data_fim\"\r\n                labelInfo=\"Data do fim do planejamento institucional\"></input-datetime>\r\n        </div>\r\n    </filter>\r\n    <columns>\r\n\r\n        <column [title]=\"'Entrega\\nDemandante/Destinatário'\" [template]=\"columnEntregaCliente\">\r\n            <ng-template let-row=\"row\" #columnEntregaCliente>\r\n                {{row.descricao}}<br>\r\n                <span class=\"d-block\">\r\n                    <badge *ngIf=\"row.plano_entrega.unidade\" color=\"light\" [icon]=\"entityService.getIcon('Unidade')\"\r\n                        [label]=\"row.plano_entrega.unidade.sigla\"></badge>\r\n                    <badge *ngIf=\"row.destinatario?.length\" color=\"light\" icon=\"bi bi-mailbox\"\r\n                        [label]=\"row.destinatario\"></badge>\r\n                </span>\r\n            </ng-template>\r\n        </column>\r\n        <column [title]=\"'Data Início\\nData Fim'\" [template]=\"columnDatas\">\r\n            <ng-template let-row=\"row\" #columnDatas>\r\n                <span *ngIf=\"row.data_inicio\"> {{dao!.getDateFormatted(row.data_inicio)}}</span><br>\r\n                <span *ngIf=\"row.data_fim\"> {{dao!.getDateFormatted(row.data_fim)}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <!--<column [title]=\"'Meta'\" [width]=\"200\" [template]=\"columnMetaRealizado\">\r\n            <ng-template let-row=\"row\" #columnMetaRealizado>\r\n                <badge icon=\"bi bi-graph-up-arrow\" [textValue]=\"entregaService.getValorMeta(row)\" color=\"light\" hint=\"Planejada\"></badge><br>\r\n                <badge icon=\"bi bi-check-lg\" [textValue]=\"entregaService.getValorRealizado(row)\" color=\"light\" hint=\"Realizada\"></badge>\r\n            </ng-template>\r\n        </column>-->\r\n        <column [title]=\"'Progresso'\" [width]=\"200\" [template]=\"columnProgresso\">\r\n            <ng-template let-row=\"row\" #columnProgresso>\r\n                <progress-bar [value]=\"row.progresso_realizado\" [goal]=\"row.progresso_esperado\"\r\n                    color=\"success\"></progress-bar>\r\n            </ng-template>\r\n        </column>\r\n\r\n        <!--LAYOUT ANTIGO\r\n        <column title=\"Entrega\" [template]=\"columnEntrega\">\r\n            <ng-template let-row=\"row\" #columnEntrega>\r\n                <p><b>Data:</b> {{util.getDateFormatted(row.data_inicio)}} - {{util.getDateFormatted(row.data_fim)}}</p>\r\n                <p><b>Cliente:</b> {{row.cliente}}</p>\r\n                <p>{{row.descricao}}</p>\r\n                <badge icon=\"bi bi-list-columns-reverse\" color=\"light\" [label]=\"row.plano_entrega.unidade.sigla\" [hint]=\"lex.translate('plano de entrega')\"></badge>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Meta\" [template]=\"columnMeta\">\r\n            <ng-template let-row=\"row\" #columnMeta>\r\n                <div class=\"meta h-100\">\r\n                    <div class=\"card h-100\">\r\n                        <div class=\"card-body\">\r\n                            <h5 class=\"card-title\">Meta</h5>\r\n                            <h2 class=\"text-primary\">{{entregaService.getValorMeta(row)}}</h2>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Realizado\" [template]=\"columnRealizado\">\r\n            <ng-template let-row=\"row\" #columnRealizado>\r\n                <div class=\"realizado h-100\">\r\n                    <div class=\"card h-100\">\r\n                        <div class=\"card-body\">\r\n                            <h5 class=\"card-title\">Realizado</h5>\r\n                            <h2 *ngIf=\"!entregaService.isPorcentagem(row)\" class=\"text-secondary\">Regular</h2>\r\n                            <progress-bar *ngIf=\"entregaService.isPorcentagem(row)\" [value]=\"row.realizado!.porcentagem!\" color=\"success\"></progress-bar>\r\n                        </div>\r\n                        <div class=\"card-footer p-0\">\r\n                            <action-button icon=\"bi bi-card-checklist\"></action-button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </ng-template>\r\n        </column>\r\n    -->\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { PlanoEntregaListComponent } from './plano-entrega-list/plano-entrega-list.component';\r\nimport { PlanoEntregaFormComponent } from './plano-entrega-form/plano-entrega-form.component';\r\nimport { PlanoEntregaMapaEntregasComponent } from './plano-entrega-mapa-entregas/plano-entrega-mapa-entregas.component';\r\nimport { PlanoEntregaFormAdesaoComponent } from './plano-entrega-form-adesao/plano-entrega-form-adesao.component';\r\nimport { PlanoEntregaFormEntregaComponent } from './plano-entrega-form-entrega/plano-entrega-form-entrega.component';\r\nimport { PlanoEntregaListLogsComponent } from './plano-entrega-list-logs/plano-entrega-list-logs.component';\r\nimport { PlanoEntregaListEntregaListComponent } from './plano-entrega-list-entrega-list/plano-entrega-list-entrega-list.component';\r\nimport { AvaliarComponent } from '../../uteis/avaliar/avaliar.component';\r\nimport { PlanoEntregaListProgressoComponent } from './plano-entrega-list-progresso/plano-entrega-list-progresso.component';\r\nimport { PlanoEntregaFormProgressoComponent } from './plano-entrega-form-progresso/plano-entrega-form-progresso.component';\r\nimport { PlanoEntregaEntregaDetalhesComponent } from './plano-entrega-entrega-detalhes/plano-entrega-entrega-detalhes.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: PlanoEntregaListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Plano de Entregas\" } },\r\n  { path: 'new', component: PlanoEntregaFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Plano de Entregas\", modal: true } },\r\n  { path: ':id/edit', component: PlanoEntregaFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição de Plano de Entregas\", modal: true } },\r\n  { path: ':id/consult', component: PlanoEntregaFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Plano de Entregas\", modal: true } },\r\n  { path: ':id/logs', component: PlanoEntregaListLogsComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Logs de Alterações em Planos de Entregas\", modal: true } },\r\n  { path: ':planoEntregaId/avaliar', component: AvaliarComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Avaliar Plano de Entrega\" } },\r\n  { path: 'entrega', component: PlanoEntregaFormEntregaComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Entregas do Plano de Entregas\", modal:true }},\r\n  { path: 'entrega/:id/consult', component: PlanoEntregaFormEntregaComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta entrega do Plano de Entregas\", modal:true }},\r\n  { path: 'entrega/:id/detalhes', component: PlanoEntregaEntregaDetalhesComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Detalhes da entrega do Plano de Entregas\", modal:true }},\r\n  { path: 'entregaList', component: PlanoEntregaListEntregaListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Entregas do Plano de Entregas\", modal:true }},\r\n  { path: 'entrega/objetivos/:objetivo_id', component: PlanoEntregaMapaEntregasComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Entregas do Plano de Entregas\", modal: true } },\r\n  { path: 'entrega/processos/:processo_id', component: PlanoEntregaMapaEntregasComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Entregas do Plano de Entregas\", modal: true } },\r\n  { path: 'adesao', component: PlanoEntregaFormAdesaoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Adesão a Plano de Entregas\", modal: true } },\r\n  { path: 'entrega/progresso/:entrega_id', component: PlanoEntregaListProgressoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Progressos da entrega do Plano de Entregas\", modal: true } },\r\n  { path: 'entrega/progresso/:entrega_id/new', component: PlanoEntregaFormProgressoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Progresso entrega do Plano de Entregas\", modal: true } },\r\n  { path: 'entrega/progresso/:entrega_id/:id/edit', component: PlanoEntregaFormProgressoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Progresso entrega do Plano de Entregas\", modal: true } }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PlanoEntregaRoutingModule { }\r\n","import { Component, HostBinding, Input } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\nimport { Entrega } from 'src/app/models/entrega.model';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\n\r\n@Component({\r\n  selector: 'plano-entrega-valor-meta-input',\r\n  templateUrl: './plano-entrega-valor-meta-input.component.html',\r\n  styleUrls: ['./plano-entrega-valor-meta-input.component.scss']\r\n})\r\nexport class PlanoEntregaValorMetaInputComponent {\r\n  @HostBinding('class') class = 'form-group';\r\n  @Input() entrega?: Entrega;\r\n  @Input() icon: string = \"\";\r\n  @Input() label?: string;\r\n  @Input() labelInfo: string = \"\";\r\n  @Input() disabled?: string;\r\n  @Input() control?: AbstractControl;\r\n  @Input() change?: (value: any, entrega?: Entrega) => void;\r\n  @Input() set size(size: number) {\r\n    if (size != this._size) {\r\n      this._size = size;\r\n      this.class = this.class.replace(/\\scol\\-md\\-[0-9]+/g, \"\") + \" col-md-\" + size;\r\n    }\r\n  }\r\n  public get size(): number {\r\n    return this._size || 12;\r\n  }\r\n\r\n  private _size: number = 0;\r\n\r\n  public checkTipoIndicador(tipos: string[]): boolean {\r\n    return tipos.includes(this.entrega?.tipo_indicador || \"\");\r\n  }\r\n\r\n  public onValueChange(event: Event) {\r\n    if (this.change) this.change(this.control?.value, this.entrega);\r\n  }\r\n}\r\n","<input-number *ngIf=\"checkTipoIndicador(['PORCENTAGEM'])\" [disabled]=\"disabled\" [icon]=\"icon\" [label]=\"label || 'Porcentagem'\" [control]=\"control\" sufix=\"%\" (change)=\"onValueChange($event)\" [labelInfo]=\"labelInfo\" required></input-number>\r\n<input-number *ngIf=\"checkTipoIndicador(['QUANTIDADE', 'VALOR'])\" [disabled]=\"disabled\" [icon]=\"icon\" [label]=\"label || 'Numérico'\" [control]=\"control\"  (change)=\"onValueChange($event)\" [labelInfo]=\"labelInfo\" required></input-number>\r\n<input-select *ngIf=\"checkTipoIndicador(['QUALITATIVO'])\" [disabled]=\"disabled\" [icon]=\"icon\" [label]=\"label || 'Qualitativo'\" [control]=\"control\" [items]=\"entrega?.lista_qualitativos || []\" (change)=\"onValueChange($event)\" [labelInfo]=\"labelInfo\" required></input-select>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { PlanoEntregaRoutingModule } from './plano-entrega-routing.module';\r\nimport { PlanoEntregaListComponent } from './plano-entrega-list/plano-entrega-list.component';\r\nimport { PlanoEntregaFormComponent } from './plano-entrega-form/plano-entrega-form.component';\r\nimport { PlanoEntregaListEntregaComponent } from './plano-entrega-list-entrega/plano-entrega-list-entrega.component';\r\nimport { PlanoEntregaMapaEntregasComponent } from './plano-entrega-mapa-entregas/plano-entrega-mapa-entregas.component';\r\nimport { PlanoEntregaFormAdesaoComponent } from './plano-entrega-form-adesao/plano-entrega-form-adesao.component';\r\nimport { PlanoEntregaFormEntregaComponent } from './plano-entrega-form-entrega/plano-entrega-form-entrega.component';\r\nimport { PlanejamentoModule } from '../planejamento-institucional/planejamento.module';\r\nimport { CadeiaValorModule } from '../cadeia-valor/cadeia-valor.module';\r\nimport { PlanoEntregaListEntregaListComponent } from './plano-entrega-list-entrega-list/plano-entrega-list-entrega-list.component';\r\nimport { PlanoEntregaListLogsComponent } from './plano-entrega-list-logs/plano-entrega-list-logs.component';\r\nimport { UteisModule } from '../../uteis/uteis.module';\r\nimport { PlanoEntregaValorMetaInputComponent } from './plano-entrega-valor-meta-input/plano-entrega-valor-meta-input.component';\r\nimport { PlanoEntregaEntregasPlanoTrabalhoComponent } from './plano-entrega-entregas-plano-trabalho/plano-entrega-entregas-plano-trabalho.component';\r\nimport { PlanoTrabalhoEntregaAtividadesComponent } from './plano-trabalho-entrega-atividades/plano-trabalho-entrega-atividades.component';\r\nimport { PlanoEntregaListProgressoComponent } from './plano-entrega-list-progresso/plano-entrega-list-progresso.component';\r\nimport { PlanoEntregaFormProgressoComponent } from './plano-entrega-form-progresso/plano-entrega-form-progresso.component';\r\nimport { PlanoEntregaEntregasVinculadasComponent } from './plano-entrega-entregas-vinculadas/plano-entrega-entregas-vinculadas.component';\r\nimport { PlanoEntregaEntregaDetalhesComponent } from './plano-entrega-entrega-detalhes/plano-entrega-entrega-detalhes.component';\r\nimport { OrganizationChartModule } from 'primeng/organizationchart';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PlanoEntregaListComponent,\r\n    PlanoEntregaFormComponent,\r\n    PlanoEntregaListEntregaComponent,\r\n    PlanoEntregaFormAdesaoComponent,\r\n    PlanoEntregaMapaEntregasComponent,\r\n    PlanoEntregaMapaEntregasComponent,\r\n    PlanoEntregaFormEntregaComponent,\r\n    PlanoEntregaListEntregaListComponent,\r\n    PlanoEntregaListLogsComponent,\r\n    PlanoEntregaValorMetaInputComponent,\r\n    PlanoEntregaEntregasPlanoTrabalhoComponent,\r\n    PlanoTrabalhoEntregaAtividadesComponent,\r\n    PlanoEntregaListProgressoComponent,\r\n    PlanoEntregaFormProgressoComponent,\r\n    PlanoEntregaEntregasVinculadasComponent,\r\n    PlanoEntregaEntregaDetalhesComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    PlanoEntregaRoutingModule,\r\n    PlanejamentoModule,\r\n    CadeiaValorModule,\r\n    OrganizationChartModule,\r\n    UteisModule\r\n  ]\r\n})\r\nexport class PlanoEntregaModule { }\r\n","import { Component, Injector, Input, ViewChild } from '@angular/core';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\r\nimport { Atividade } from 'src/app/models/atividade.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\n\r\n@Component({\r\n  selector: 'plano-trabalho-entrega-atividades',\r\n  templateUrl: './plano-trabalho-entrega-atividades.component.html',\r\n  styleUrls: ['./plano-trabalho-entrega-atividades.component.scss']\r\n})\r\nexport class PlanoTrabalhoEntregaAtividadesComponent extends PageFrameBase {\r\n  @ViewChild('listaAtividades', { static: false }) public listaAtividades?: GridComponent;\r\n\r\n  @Input() set entregaId(value: string) {\r\n    if(this._entregaId != value) {\r\n      this._entregaId = value;\r\n    }\r\n  }  \r\n  get entregaId(): string {\r\n    return this._entregaId;\r\n  }\r\n\r\n  private _entregaId!: string;\r\n  public AtividadeDao: AtividadeDaoService;\r\n  public items: Atividade[] = [];\r\n\r\n  public loader: boolean = false;\r\n\r\n  constructor(public injector: Injector){\r\n    super(injector);\r\n    this.AtividadeDao = injector.get<AtividadeDaoService>(AtividadeDaoService);\r\n    this.join = ['unidade', 'usuario','demandante', 'reacoes.usuario:id,nome,apelido']\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.loadData();\r\n  }\r\n\r\n  public loadData() {\r\n    this.loader = true;\r\n    this.AtividadeDao.query({where: [[\"plano_trabalho_entrega_id\", \"==\", this._entregaId],[\"unidades_subordinadas\", \"==\", true]], join: this.join}).asPromise().then(response => {\r\n      this.items = response\r\n    }).finally(()=> {\r\n      this.loader = false;\r\n    })\r\n  }\r\n\r\n}\r\n","<h5>{{lex.translate(\"Atividades\")}}:</h5>\r\n<grid [items]=\"items\" [loading]=\"loader\">\r\n  <columns>\r\n    <column [titleTemplate]=\"titleIdAtividadeDescricao\" [template]=\"columnAtividadeDescricao\">\r\n      <ng-template let-header=\"header\" #titleIdAtividadeDescricao>          \r\n          <b>Descrição</b>\r\n      </ng-template>\r\n      <ng-template let-row=\"row\" #columnAtividadeDescricao>\r\n        <span class=\"micro-text fw-ligh atividade-descricao\">{{row.descricao}}</span>\r\n        <reaction [entity]=\"row\" origem=\"ATIVIDADE\"></reaction>\r\n      </ng-template>\r\n    </column>\r\n\r\n    <column [titleTemplate]=\"titleUnResponsavelDemandante\" [template]=\"columnPessoas\">\r\n      <ng-template let-header=\"header\" #titleUnResponsavelDemandante>\r\n          Un./<order by=\"usuario.nome\" [header]=\"header\">Responsável</order><br>\r\n          <order by=\"demandante.nome\" [header]=\"header\">Demandante</order>\r\n      </ng-template>\r\n      <ng-template let-row=\"row\" #columnPessoas>\r\n          <div class=\"text-nowrap\">\r\n              <badge icon=\"bi bi-briefcase\" color=\"light\" [label]=\"row.unidade.sigla\"></badge>\r\n              <badge [icon]=\"'bi ' + (row.usuario?.nome?.length ? 'bi-person-check' : 'bi-person-x')\" color=\"light\" [label]=\"util.apelidoOuNome(row.usuario, true) || '(Não atribuído)'\" [hint]=\"'Responsável: ' + (row.usuario?.nome || 'Não atribuido a nenhum usuário')\"></badge>\r\n          </div>\r\n          <badge icon=\"bi bi-cursor\" color=\"light\" [label]=\"util.apelidoOuNome(row.demandante, true) || 'Desconhecido'\" [hint]=\"'Demandante: ' + (row.demandante?.nome || 'Desconhecido')\"></badge>\r\n      </ng-template>\r\n    </column>\r\n\r\n    <column [title]=\"'Progresso'\" [width]=\"200\"[template]=\"columnProgressoEtiquetasChecklist\">\r\n      <ng-template let-row=\"row\" #columnProgressoEtiquetasChecklist>\r\n        <progress-bar [value]=\"row.progresso\" color=\"success\"></progress-bar>\r\n      </ng-template>\r\n    </column>\r\n\r\n  </columns>\r\n</grid>\r\n"],"names":["DaoBaseService","PlanoEntregaEntregaProgressoDaoService","constructor","injector","inputSearchConfig","searchFields","_","i0","ɵɵinject","Injector","_2","factory","ɵfac","providedIn","Base","PlanoEntregaEntregaProgresso","data","data_inicio","Date","data_fim","data_progresso","homologado","meta","realizado","progresso_esperado","progresso_realizado","plano_entrega_entrega_id","usuario_id","initialization","PlanoEntrega","entregas","status_historico","nome","metadados","undefined","arquivar","status","avaliacoes","unidade_id","avaliacao_id","plano_entrega_id","planejamento_id","cadeia_valor_id","programa_id","PlanoEntregaEntregaDaoService","PageFrameBase","PlanoEntregaService","ɵɵelement","ɵɵproperty","etiqueta_r10","ctx_r5","entityService","getIcon","entrega","unidade","sigla","ctx_r6","destinatario","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ctx_r7","planoEntregaService","getValorMeta","getValorRealizado","ɵɵlistener","PlanoEntregaEntregaDetalhesComponent_div_5_div_24_li_5_div_1_Template_button_click_3_listener","ɵɵrestoreView","_r16","pObjetivo_r12","ɵɵnextContext","$implicit","ctx_r14","ɵɵresetView","showPlanejamento","objetivo","id","ɵɵtextInterpolate","ɵɵtemplate","PlanoEntregaEntregaDetalhesComponent_div_5_div_24_li_5_div_1_Template","PlanoEntregaEntregaDetalhesComponent_div_5_div_24_li_5_Template","ctx_r8","lex","translate","objetivos","PlanoEntregaEntregaDetalhesComponent_div_5_div_25_li_5_div_1_Template_button_click_3_listener","_r23","pProcesso_r19","ctx_r21","showCadeiaValor","processo","PlanoEntregaEntregaDetalhesComponent_div_5_div_25_li_5_div_1_Template","PlanoEntregaEntregaDetalhesComponent_div_5_div_25_li_5_Template","ctx_r9","processos","PlanoEntregaEntregaDetalhesComponent_div_5_badge_2_Template","PlanoEntregaEntregaDetalhesComponent_div_5_badge_15_Template","PlanoEntregaEntregaDetalhesComponent_div_5_badge_18_Template","PlanoEntregaEntregaDetalhesComponent_div_5_div_23_Template","PlanoEntregaEntregaDetalhesComponent_div_5_div_24_Template","PlanoEntregaEntregaDetalhesComponent_div_5_div_25_Template","ctx_r1","etiquetas","descricao","descricao_entrega","ɵɵtextInterpolate2","planoEntregaEntregaDao","getDateFormatted","length","descricao_meta","ctx_r2","ctx_r3","PlanoEntregaEntregaDetalhesComponent","get","ngOnInit","metadata","objetivo_id","_this","_asyncToGenerator","go","navigate","route","modal","processo_id","_this2","ɵɵdirectiveInject","selectors","features","ɵɵInheritDefinitionFeature","decls","vars","consts","template","PlanoEntregaEntregaDetalhesComponent_Template","rf","ctx","PlanoEntregaEntregaDetalhesComponent_div_5_Template","PlanoEntregaEntregaDetalhesComponent_div_6_Template","PlanoEntregaEntregaDetalhesComponent_div_7_Template","isModal","title","_r0","active","PlanoTrabalhoDaoService","PlanoTrabalhoEntregaDaoService","PlanoTrabalhoService","row_r37","ɵɵtextInterpolate1","ctx_r22","PlanoTrabalhoDao","plano_r16","row_r42","plano_entrega_entrega","plano_entrega","ctx_r43","orgao","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_6_div_3_ng_template_15_badge_3_Template","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_6_div_3_ng_template_15_badge_4_Template","ctx_r26","planoTrabalhoService","tipoEntrega","entity","titulo","cor","ctx_r28","totalForcaTrabalho","row_r49","forca_trabalho","row_r51","ctx_r36","lookup","getColor","PLANO_TRABALHO_STATUS","getValue","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_6_div_3_ng_template_5_Template","ɵɵtemplateRefExtractor","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_6_div_3_ng_template_8_Template","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_6_div_3_ng_template_10_Template","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_6_div_3_ng_template_13_Template","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_6_div_3_ng_template_15_Template","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_6_div_3_ng_template_18_Template","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_6_div_3_ng_template_20_Template","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_6_div_3_ng_template_23_Template","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_6_div_3_ng_template_25_Template","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_6_div_3_ng_template_28_Template","ɵɵstyleMap","_r17","_r21","_r19","_r25","_r27","_r29","_r31","_r33","_r35","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_6_div_3_Template","item_r14","planos_trabalho","row_r55","apelido","ctx_r12","planoAtivo","row_r57","PlanoEntregaEntregasPlanoTrabalhoComponent","entregaId","value","_entregaId","items","loader","PlanoTrabalhoEntregaDao","join","groupBy","field","label","loadData","cdRef","detectChanges","query","where","asPromise","then","response","forEach","item","usuario","plano_trabalho","usuarioId","usuarioExistente","find","u","push","planoTrabalhoId","planoTrabalho","pt","finally","e","console","log","forca","map","x","reduce","a","b","Math","round","planos","plano","viewQuery","PlanoEntregaEntregasPlanoTrabalhoComponent_Query","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_4_Template","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_6_Template","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_9_Template","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_11_Template","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_14_Template","PlanoEntregaEntregasPlanoTrabalhoComponent_ng_template_16_Template","_r3","_r1","_r5","_r7","_r9","_r11","ctx_r4","node_r3","PlanoEntregaEntregasVinculadasComponent_p_organizationChart_0_ng_template_1_badge_2_Template","PlanoEntregaEntregasVinculadasComponent_p_organizationChart_0_ng_template_1_Template_button_click_4_listener","restoredCtx","showDetalhes","PlanoEntregaEntregasVinculadasComponent_p_organizationChart_0_ng_template_1_Template","ctx_r0","entregasVinculadas","PlanoEntregaEntregasVinculadasComponent","hierarquia","inputs","PlanoEntregaEntregasVinculadasComponent_Template","PlanoEntregaEntregasVinculadasComponent_p_organizationChart_0_Template","PlanoEntregaEntregasVinculadasComponent_div_1_Template","EditableFormComponent","GridComponent","InputSearchComponent","CadeiaValorDaoService","PlanejamentoDaoService","PlanoEntregaDaoService","ProgramaDaoService","UnidadeDaoService","PageFormBase","PlanoEntregaFormAdesaoComponent","validate","control","controlName","result","indexOf","titleEdit","unidadeDao","programaDao","planoEntregaDao","cadeiaValorDao","planejamentoInstitucionalDao","modalWidth","form","fh","FormBuilder","default","auth","planoEntrega","controls","setValue","formValue","Object","assign","patchValue","util","fillForm","initializeData","saveData","_this3","Promise","resolve","reject","fill","onPlanoEntregaChange","event","selectedEntity","PlanoEntregaFormAdesaoComponent_Query","PlanoEntregaFormAdesaoComponent_Template_editable_form_submit_0_listener","onSaveData","PlanoEntregaFormAdesaoComponent_Template_editable_form_cancel_0_listener","onCancel","PlanoEntregaFormAdesaoComponent_Template_input_search_change_3_listener","$event","formDisabled","ɵɵpureFunction2","_c3","ɵɵpureFunction0","_c0","ɵɵpureFunction1","_c2","_c1","unidade_pai_id","_c6","_c4","_c5","ɵɵattribute","PlanoEntregaEntrega","EntregaDaoService","PlanejamentoObjetivoDaoService","CadeiaValorProcessoDaoService","NavigateResult","_r2","onRealizadoChange","bind","header_r17","row_r18","_c12","_c11","ctx_r16","planejamentoId","planejamentoObjetivoDao","_c16","_c13","_c15","_c14","PlanoEntregaFormEntregaComponent_tab_42_ng_template_7_Template","PlanoEntregaFormEntregaComponent_tab_42_ng_template_9_Template","PlanoEntregaFormEntregaComponent_tab_42_ng_template_11_Template","planejamentoDao","formObjetivos","orderBy","addObjetivo","removeObjetivo","saveObjetivo","_r13","_r15","header_r29","row_r30","_c17","cadeiaValorId","cadeiaValorProcessoDao","_c18","_c19","PlanoEntregaFormEntregaComponent_tab_43_ng_template_7_Template","PlanoEntregaFormEntregaComponent_tab_43_ng_template_9_Template","PlanoEntregaFormEntregaComponent_tab_43_ng_template_11_Template","formProcessos","addProcesso","removeProcesso","saveProcesso","dynamicButtonsProcessos","PlanoEntregaFormEntregaComponent","itensQualitativo","idsUnidadesAscendentes","checklist","etiquetasAscendentes","dao","validDateTime","gridObjetivos","filter","_status","planejamento_objetivo_id","includes","gridProcessos","cadeia_processo_id","formValidation","inicio","fim","editing","tabs","hasPermissionTo","entregaDao","entrega_pai_id","entrega_id","listaQualitativo","etiqueta","formChecklist","texto","checked","unidadeId","dataFim","onEntregaChange","entityWithout","loadSearch","planejamento","cadeiaValor","getById","path","split","slice","getValor","onSaveEntrega","error","save","valid","action","modalResult","planosImpactados","loading","planosImpactadosPorAlteracaoEntrega","dialog","confirm","markAllAsTouched","valueWithout","getEntregaValor","calculaRealizado","totalRealizado","isNaN","toFixed","dynamicOptionsObjetivos","row","icon","color","onClick","dynamicButtonsObjetivos","_this4","generateUuid","_this5","_this6","consolidado","inputObjetivo","selectedItem","_this7","_this8","_this9","inputProcesso","_this10","entregaItem","tipoIndicador","tipo_indicador","lista_qualitativos","key","loadEtiquetas","loadChecklist","_this11","ascendentes","carregaEtiquetasUnidadesAscendentes","merge","config","unidadeAtual","_this12","etiquetasUnidades","unidades","un","modeloEntrega","checkAdd","addItemHandleEtiquetas","textHash","validateLookupItem","PlanoEntregaFormEntregaComponent_Query","PlanoEntregaFormEntregaComponent_Template_editable_form_submit_0_listener","PlanoEntregaFormEntregaComponent_Template_editable_form_cancel_0_listener","PlanoEntregaFormEntregaComponent_Template_input_search_change_30_listener","PlanoEntregaFormEntregaComponent_div_34_Template","PlanoEntregaFormEntregaComponent_ng_template_35_Template","PlanoEntregaFormEntregaComponent_tab_42_Template","PlanoEntregaFormEntregaComponent_tab_43_Template","_c20","_c22","_c21","_c23","_r4","PlanoEntregaFormProgressoComponent","planoEntregaEntregaId","urlParams","planoEntregaEntrega","progresso","PlanoEntregaFormProgressoComponent_Query","PlanoEntregaFormProgressoComponent_Template_editable_form_submit_0_listener","PlanoEntregaFormProgressoComponent_Template_editable_form_cancel_0_listener","PlanoEntregaFormComponent","programa","di","toLocaleDateString","df","dynamicButtons","onDataChange","sugereNome","onUnidadeChange","unidadeIdValue","permissaoIncluir","somaDia","date","days","setDate","getDate","onProgramaChange","dias","prazo_max_plano_entrega","change","emit","PlanoEntregaFormComponent_Query","PlanoEntregaFormComponent_Template_editable_form_submit_0_listener","PlanoEntregaFormComponent_Template_editable_form_cancel_0_listener","PlanoEntregaFormComponent_Template_input_search_change_3_listener","PlanoEntregaFormComponent_Template_input_search_change_5_listener","PlanoEntregaFormComponent_Template_input_datetime_change_7_listener","PlanoEntregaFormComponent_Template_input_datetime_change_8_listener","PageListBase","buttons","row_r12","row_r13","row_r14","entrega_pai","PlanoEntregaListEntregaListComponent_ng_template_16_span_0_Template","row_r17","PlanoEntregaListEntregaListComponent","filterWhere","trim","replace","dynamicOptions","filterClear","PlanoEntregaListEntregaListComponent_Query","PlanoEntregaListEntregaListComponent_h3_0_Template","PlanoEntregaListEntregaListComponent_Template_grid_select_1_listener","onSelect","PlanoEntregaListEntregaListComponent_toolbar_2_Template","PlanoEntregaListEntregaListComponent_ng_template_10_Template","PlanoEntregaListEntregaListComponent_ng_template_13_Template","PlanoEntregaListEntregaListComponent_ng_template_16_Template","PlanoEntregaListEntregaListComponent_ng_template_19_Template","PlanoEntregaListEntregaListComponent_ng_template_22_Template","selectable","filterSubmit","filterCollapseChange","filterCollapsed","_r6","_r8","_r10","rowsLimit","ChangeDetectorRef","separator_r17","text","ctx_r19","PlanoEntregaListEntregaComponent_ng_template_5_badge_3_Template","PlanoEntregaListEntregaComponent_ng_template_5_badge_4_Template","PlanoEntregaListEntregaComponent_ng_template_5_reaction_5_Template","execucao","etiqueta_r27","PlanoEntregaListEntregaComponent_ng_template_8_badge_0_Template","row_r25","PlanoEntregaListEntregaComponent_ng_template_10_Template_input_select_details_1_listener","ctx_r30","onEtiquetaConfigClick","formEdit","ctx_r33","row_r32","ctx_r34","PlanoEntregaListEntregaComponent_ng_template_13_span_0_Template","PlanoEntregaListEntregaComponent_ng_template_13_span_2_Template","ctx_r11","row_r38","ctx_r13","onRealizadaChange","PlanoEntregaListEntregaComponent_column_20_ng_template_1_separator_1_table_1_tr_1_i_2_Template","check_r47","PlanoEntregaListEntregaComponent_column_20_ng_template_1_separator_1_table_1_tr_1_Template","row_r43","PlanoEntregaListEntregaComponent_column_20_ng_template_1_separator_1_table_1_Template","PlanoEntregaListEntregaComponent_column_20_ng_template_1_separator_1_Template","ctx_r54","i_r56","check_r55","PlanoEntregaListEntregaComponent_column_20_ng_template_3_table_2_tr_1_Template","ctx_r53","PlanoEntregaListEntregaComponent_column_20_ng_template_3_separator_1_Template","PlanoEntregaListEntregaComponent_column_20_ng_template_3_table_2_Template","ctx_r42","PlanoEntregaListEntregaComponent_column_20_ng_template_1_Template","PlanoEntregaListEntregaComponent_column_20_ng_template_3_Template","_r39","_r41","onColumnChecklistEdit","onColumnChecklistSave","PlanoEntregaListEntregaComponent_ng_template_22_badge_0_Template","grid","refreshComentarios","PlanoEntregaListEntregaComponent","noPersist","_planejamentoId","_cadeiaValorId","_unidadeId","_dataFim","gridControl","disabled","entityToControl","options","planoEntregaId","code","addOption","consult","OPTION_INFORMACOES","delete","OPTION_EXCLUIR","showLogs","OPTION_LOGS","isDisabled","add","modalClose","_ref","isNoPersist","message","_x","apply","arguments","btns","showProgresso","edit","index","_ref2","_x2","load","submitting","update","splice","topAlert","catch","alert","parent","refresh","comentarios","onColumnEtiquetasEdit","tipo_atividade","_this13","onColumnEtiquetasSave","_this14","saved","params","_this15","clone","_this16","parseInt","porcentagem","quantitativo","valor","getObjetivos","PlanoEntregaListEntregaComponent_Query","PlanoEntregaListEntregaComponent_ng_template_1_Template","PlanoEntregaListEntregaComponent_ng_template_5_Template","PlanoEntregaListEntregaComponent_ng_template_8_Template","PlanoEntregaListEntregaComponent_ng_template_10_Template","PlanoEntregaListEntregaComponent_ng_template_13_Template","PlanoEntregaListEntregaComponent_ng_template_16_Template","PlanoEntregaListEntregaComponent_ng_template_18_Template","PlanoEntregaListEntregaComponent_column_20_Template","PlanoEntregaListEntregaComponent_ng_template_22_Template","_r12","ChangeDaoService","Change","responsavel","getDateTimeFormatted","row_r16","date_time","dif_r20","PlanoEntregaListLogsComponent_ng_template_27_tr_3_Template","preparaDelta","PlanoEntregaListLogsComponent","responsaveis","planoId","responsavel_id","tipo","ngAfterViewInit","type","novoDelta","delta","Array","entries","element","toUTCString","i1","PlanoEntregaListLogsComponent_Query","PlanoEntregaListLogsComponent_ng_template_15_Template","PlanoEntregaListLogsComponent_ng_template_17_Template","PlanoEntregaListLogsComponent_ng_template_20_Template","PlanoEntregaListLogsComponent_ng_template_22_Template","PlanoEntregaListLogsComponent_ng_template_25_Template","PlanoEntregaListLogsComponent_ng_template_27_Template","numero","TIPO_LOG_CHANGE","ctx_r10","row_r9","PlanoEntregaListProgressoComponent_ng_template_8_span_0_Template","PlanoEntregaListProgressoComponent_ng_template_11_span_0_Template","PlanoEntregaListProgressoComponent_ng_template_11_span_2_Template","PlanoEntregaListProgressoComponent","data_inicial_progresso","data_final_progresso","onGridLoad","rows","PlanoEntregaListProgressoComponent_Query","PlanoEntregaListProgressoComponent_Template_grid_select_0_listener","PlanoEntregaListProgressoComponent_toolbar_1_Template","PlanoEntregaListProgressoComponent_ng_template_8_Template","PlanoEntregaListProgressoComponent_ng_template_11_Template","PlanoEntregaListProgressoComponent_ng_template_14_Template","PlanoEntregaListProgressoComponent_ng_template_17_Template","AvaliacaoDaoService","UnidadeService","PlanoEntregaListComponent_toolbar_1_input_switch_2_Template_input_switch_change_0_listener","ctx_r24","onPrincipaisChange","ctx_r23","principais","PlanoEntregaListComponent_toolbar_1_Template_input_switch_change_1_listener","onAgruparChange","PlanoEntregaListComponent_toolbar_1_input_switch_2_Template","toolbarButtons","agrupar","avaliacao","data_filtro","DATAS_FILTRO","data_filtro_inicio","data_filtro_fim","meus_planos","PLANO_ENTREGA_STATUS","arquivadas","row_r36","PlanoEntregaListComponent_column_7_ng_template_1_span_0_Template","ctx_r35","botaoAtendeCondicoes","BOTAO_ALTERAR","row_r39","PlanoEntregaListComponent_column_7_ng_template_1_Template","PlanoEntregaListComponent_column_7_ng_template_3_Template","_r32","_r34","header_r40","row_r41","header_r42","ctx_r44","ctx_r45","PlanoEntregaListComponent_ng_template_16_badge_3_Template","PlanoEntregaListComponent_ng_template_16_badge_4_Template","ɵɵstyleProp","row_r48","ctx_r52","cadeia_valor","PlanoEntregaListComponent_ng_template_27_badge_0_Template","PlanoEntregaListComponent_ng_template_27_badge_1_Template","row_r56","tipo_avaliacao","nota","PlanoEntregaListComponent_ng_template_30_badge_2_Template","PlanoEntregaListComponent_ng_template_30_badge_3_Template","PlanoEntregaListComponent_ng_template_30_avaliar_nota_badge_4_Template","data_arquivamento","deleted_at","PlanoEntregaListComponent","showFilter","habilitarAdesaoToolbar","botoes","routeStatus","storeFilter","filterValidate","w1","isGestorAlgumaAreaTrabalho","unidadesUsuarioEhGestor","unidadeService","isGestorUnidade","w2","unidade_pai","w3","unidades_filhas","avaliacaoDao","unidadeSelecionada","BOTAO_ADERIR_OPTION","linha","BOTAO_ADERIR_TOOLBAR","modalRefreshId","BOTAO_ARQUIVAR","BOTAO_AVALIAR","avaliar","BOTAO_CANCELAR_PLANO","cancelarPlano","BOTAO_CANCELAR_AVALIACAO","cancelarAvaliacao","BOTAO_CANCELAR_CONCLUSAO","cancelarConclusao","BOTAO_CANCELAR_HOMOLOGACAO","cancelarHomologacao","BOTAO_CONCLUIR","concluir","BOTAO_CONSULTAR","BOTAO_DESARQUIVAR","desarquivar","BOTAO_EXCLUIR","BOTAO_HOMOLOGAR","homologar","BOTAO_LIBERAR_HOMOLOGACAO","liberarHomologacao","BOTAO_LOGS","BOTAO_REATIVAR","reativar","BOTAO_RETIRAR_HOMOLOGACAO","retirarHomologacao","BOTAO_SUSPENDER","suspender","queryParams","unidadeGestor","checaBotaoAderirToolbar","ngAfterContentChecked","extra","v","expand","tipos_avaliacoes","tipo_avaliacao_id","planosEntregasAtivosUnidadePai","planos_entrega","isAtivo","planosEntregasAtivosUnidadeSelecionada","reloadFilter","situacaoPlano","botao","isLotacaoUsuario","intersection","start","end","condicao0","condicao1","condicao2","condicao3","isIntegrante","condicao4","condicao5","isValido","condic1","condic2","condic3","condic4","isGestorLinhaAscendente","condition1","condition2","condition3","condition4","novoStatus","refreshId","canAdd","PlanoEntregaListComponent_Query","PlanoEntregaListComponent_Template_grid_select_0_listener","PlanoEntregaListComponent_toolbar_1_Template","PlanoEntregaListComponent_div_3_Template","PlanoEntregaListComponent_ng_template_4_Template","PlanoEntregaListComponent_column_7_Template","PlanoEntregaListComponent_ng_template_9_Template","PlanoEntregaListComponent_ng_template_11_Template","PlanoEntregaListComponent_ng_template_14_Template","PlanoEntregaListComponent_ng_template_16_Template","PlanoEntregaListComponent_ng_template_19_Template","PlanoEntregaListComponent_ng_template_22_Template","PlanoEntregaListComponent_ng_template_25_Template","PlanoEntregaListComponent_ng_template_27_Template","PlanoEntregaListComponent_ng_template_30_Template","ɵɵelementContainerStart","PlanoEntregaMapaEntregasComponent_ng_container_0_planejamento_show_1_Template","ɵɵelementContainerEnd","PlanoEntregaMapaEntregasComponent_ng_container_1_div_1_Template","PlanoEntregaMapaEntregasComponent_ng_template_14_badge_3_Template","PlanoEntregaMapaEntregasComponent_ng_template_14_badge_4_Template","ctx_r18","PlanoEntregaMapaEntregasComponent_ng_template_17_span_0_Template","PlanoEntregaMapaEntregasComponent_ng_template_17_span_2_Template","row_r22","PlanoEntregaMapaEntregasComponent","objetivoId","processoId","entregaService","objetivoDao","processoDao","obj","PlanoEntregaMapaEntregasComponent_Query","PlanoEntregaMapaEntregasComponent_ng_container_0_Template","PlanoEntregaMapaEntregasComponent_ng_container_1_Template","PlanoEntregaMapaEntregasComponent_ng_template_14_Template","PlanoEntregaMapaEntregasComponent_ng_template_17_Template","PlanoEntregaMapaEntregasComponent_ng_template_20_Template","RouterModule","AuthGuard","ConfigResolver","AvaliarComponent","routes","component","canActivate","runGuardsAndResolvers","PlanoEntregaRoutingModule","_3","forChild","imports","exports","PlanoEntregaValorMetaInputComponent_input_number_0_Template_input_number_change_0_listener","onValueChange","labelInfo","PlanoEntregaValorMetaInputComponent_input_number_1_Template_input_number_change_0_listener","PlanoEntregaValorMetaInputComponent_input_select_2_Template_input_select_change_0_listener","PlanoEntregaValorMetaInputComponent","class","_size","size","checkTipoIndicador","tipos","hostVars","hostBindings","PlanoEntregaValorMetaInputComponent_HostBindings","PlanoEntregaValorMetaInputComponent_input_number_0_Template","PlanoEntregaValorMetaInputComponent_input_number_1_Template","PlanoEntregaValorMetaInputComponent_input_select_2_Template","CommonModule","ComponentsModule","PlanejamentoModule","CadeiaValorModule","UteisModule","PlanoTrabalhoEntregaAtividadesComponent","OrganizationChartModule","PlanoEntregaModule","declarations","AtividadeDaoService","row_r11","header_r12","apelidoOuNome","demandante","AtividadeDao","PlanoTrabalhoEntregaAtividadesComponent_Query","PlanoTrabalhoEntregaAtividadesComponent_ng_template_5_Template","PlanoTrabalhoEntregaAtividadesComponent_ng_template_7_Template","PlanoTrabalhoEntregaAtividadesComponent_ng_template_10_Template","PlanoTrabalhoEntregaAtividadesComponent_ng_template_12_Template","PlanoTrabalhoEntregaAtividadesComponent_ng_template_15_Template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}