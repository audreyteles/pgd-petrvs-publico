"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[7024,8032],{28032:(ut,U,m)=>{m.d(U,{x:()=>O});var _,f=m(8239),k=m(92307),q=m(55736),l=m(20755),g=m(76733);function h(p,s){if(1&p&&l._UZ(0,"i"),2&p){const u=l.oxw(2);l.Tol(u.button.icon)}}function v(p,s){if(1&p&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&p){const u=l.oxw(2);l.xp6(1),l.Oqu(u.button.label)}}function j(p,s){if(1&p&&(l.TgZ(0,"span",9),l._uU(1),l.qZA()),2&p){const u=l.oxw(2);l.xp6(1),l.Oqu(u.button.badge)}}function F(p,s){if(1&p&&(l.TgZ(0,"button",10)(1,"span",11),l._uU(2,"V"),l.qZA()()),2&p){const u=l.oxw(2);l.Tol("btn dropdown-toggle dropdown-toggle-split "+(u.button.color||"btn-outline-primary")),l.uIk("id",u.generatedButtonId(u.button)+"_dropdown")}}function x(p,s){1&p&&l._UZ(0,"hr",16)}function L(p,s){if(1&p&&l._UZ(0,"i"),2&p){const u=l.oxw(2).$implicit;l.Tol(u.icon)}}function G(p,s){if(1&p){const u=l.EpF();l.TgZ(0,"a",17),l.NdJ("click",function(){l.CHM(u);const C=l.oxw().$implicit,S=l.oxw(3);return l.KtG(S.onButtonClick(C))}),l.YNc(1,L,1,2,"i",3),l._uU(2),l.qZA()}if(2&p){const u=l.oxw().$implicit,A=l.oxw(3);l.Q6J("id",A.generatedButtonId(u,"_item")),l.xp6(1),l.Q6J("ngIf",null==u.icon?null:u.icon.length),l.xp6(1),l.hij(" ",u.label||"","")}}function t(p,s){if(1&p&&(l.TgZ(0,"li"),l.YNc(1,x,1,0,"hr",14),l.YNc(2,G,3,3,"a",15),l.qZA()),2&p){const u=s.$implicit;l.xp6(1),l.Q6J("ngIf",u.divider),l.xp6(1),l.Q6J("ngIf",!u.divider)}}function Z(p,s){if(1&p&&(l.TgZ(0,"ul",12),l.YNc(1,t,3,2,"li",13),l.qZA()),2&p){const u=l.oxw(2);l.uIk("aria-labelledby",u.generatedButtonId(u.button)+(u.button.items&&u.button.toggle?"_dropdown":"")),l.xp6(1),l.Q6J("ngForOf",u.button.items)}}function y(p,s){if(1&p){const u=l.EpF();l.TgZ(0,"div",1)(1,"button",2),l.NdJ("click",function(){l.CHM(u);const C=l.oxw();return l.KtG(C.onButtonClick(C.button))}),l.YNc(2,h,1,2,"i",3),l.YNc(3,v,2,1,"span",4),l.YNc(4,j,2,1,"span",5),l.qZA(),l.YNc(5,F,3,3,"button",6),l.YNc(6,Z,2,2,"ul",7),l.qZA()}if(2&p){const u=l.oxw();l.ekj("w-100",u.isFullWidth),l.xp6(1),l.Tol(u.buttonClass),l.Q6J("id",u.generatedButtonId(u.button))("disabled",u.buttonDisabled(u.button)),l.uIk("data-bs-toggle",u.button.items&&!u.button.toggle?"dropdown":void 0),l.xp6(1),l.Q6J("ngIf",null==u.button.icon?null:u.button.icon.length),l.xp6(1),l.Q6J("ngIf",null==u.button.label?null:u.button.label.length),l.xp6(1),l.Q6J("ngIf",null==u.button.badge?null:u.button.badge.length),l.xp6(1),l.Q6J("ngIf",u.button.items&&u.button.toggle),l.xp6(1),l.Q6J("ngIf",u.button.items)}}class O extends q.V{set button(s){this._button!=s&&(this._button=s),this._button.id=this.generatedButtonId(this._button)}get button(){return this._button}set route(s){this._button.route!=s&&(this._button.route=s)}get route(){return this._button.route}set metadata(s){this._button.metadata!=s&&(this._button.metadata=s)}get metadata(){return this._button.metadata}set class(s){this._button.class!=s&&(this._button.class=s)}get class(){return this._button.class}set icon(s){this._button.icon!=s&&(this._button.icon=s),this._button.id=this.generatedButtonId(this._button)}get icon(){return this._button.icon}set label(s){this._button.label!=s&&(this._button.label=s),this._button.id=this.generatedButtonId(this._button)}get label(){return this._button.label}set hint(s){this._button.hint!=s&&(this._button.hint=s),this._button.id=this.generatedButtonId(this._button)}get hint(){return this._button.hint}set disabled(s){this._button.disabled!=s&&(this._button.disabled=s)}get disabled(){return this._button.disabled}set iconChar(s){this._button.iconChar!=s&&(this._button.iconChar=s)}get iconChar(){return this._button.iconChar}set color(s){this._button.color!=s&&(this._button.color=s)}get color(){return this._button.color}set running(s){this._button.running!=s&&(this._button.running=s)}get running(){return this._button.running}set toggle(s){this._button.toggle!=s&&(this._button.toggle=s)}get toggle(){return this._button.toggle}set badge(s){this._button.badge!=s&&(this._button.badge=s)}get badge(){return this._button.badge}set pressed(s){this._button.pressed!=s&&(this._button.pressed=s)}get pressed(){return this._button.pressed}set items(s){this._button.items!=s&&(this._button.items=s)}get items(){return this._button.items}set hidden(s){this._button.hidden!=s&&(this._button.hidden=s)}get hidden(){return this._button.hidden}set dynamicItems(s){this._button.dynamicItems!=s&&(this._button.dynamicItems=s)}get dynamicItems(){return this._button.dynamicItems}set dynamicVisible(s){this._button.dynamicVisible!=s&&(this._button.dynamicVisible=s)}get dynamicVisible(){return this._button.dynamicVisible}set onClick(s){this._button.onClick!=s&&(this._button.onClick=s)}get onClick(){return this._button.onClick}constructor(s){super(s),this.injector=s,this._button={},this.go=s.get(k.o),this.button.id=this.generatedButtonId(this.button,this.util.md5())}get isFullWidth(){return null!=this.fullWidth}get isNoArrow(){return null!=this.noArrow}get isPlaceholder(){return null!=this.placeholder}get buttonClass(){return(this.isPlaceholder?"placeholder ":"")+(this.buttonPressed(this.button)?"active ":"")+(this.isNoArrow?"no-arrow ":"")+(this.button.items&&!this.button.toggle?"dropdown-toggle ":"")+"btn "+(this.button.color||"btn-outline-primary")}buttonDisabled(s){return this.isPlaceholder||("function"==typeof s.disabled?s.disabled():!!s.disabled)}buttonPressed(s){return!!s.toggle&&(s.pressed&&"boolean"!=typeof s.pressed?!!s.pressed(this):!!s.pressed)}onButtonClick(s){var u=this;return(0,f.Z)(function*(){s.toggle&&"boolean"==typeof s.pressed&&(s.pressed=!s.pressed),s.route?u.go.navigate(s.route,s.metadata):s.onClick&&(yield s.onClick(u.data,s)),u.cdRef.detectChanges()})()}}(_=O).\u0275fac=function(s){return new(s||_)(l.Y36(l.zs3))},_.\u0275cmp=l.Xpm({type:_,selectors:[["action-button"]],inputs:{button:"button",route:"route",metadata:"metadata",class:"class",icon:"icon",label:"label",hint:"hint",disabled:"disabled",iconChar:"iconChar",color:"color",running:"running",toggle:"toggle",badge:"badge",pressed:"pressed",items:"items",hidden:"hidden",dynamicItems:"dynamicItems",dynamicVisible:"dynamicVisible",onClick:"onClick",data:"data",noArrow:"noArrow",fullWidth:"fullWidth",placeholder:"placeholder"},features:[l.qOj],decls:1,vars:1,consts:[["class","btn-group","role","group",3,"w-100",4,"ngIf"],["role","group",1,"btn-group"],["type","button","aria-expanded","false",3,"id","disabled","click"],[3,"class",4,"ngIf"],["class","d-none d-md-inline-block ms-2",4,"ngIf"],["class","badge bg-primary ms-2",4,"ngIf"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",3,"class",4,"ngIf"],["class","dropdown-menu dropdown-menu-end",4,"ngIf"],[1,"d-none","d-md-inline-block","ms-2"],[1,"badge","bg-primary","ms-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false"],[1,"visually-hidden"],[1,"dropdown-menu","dropdown-menu-end"],[4,"ngFor","ngForOf"],["class","dropdown-divider",4,"ngIf"],["class","dropdown-item","role","button",3,"id","click",4,"ngIf"],[1,"dropdown-divider"],["role","button",1,"dropdown-item",3,"id","click"]],template:function(s,u){1&s&&l.YNc(0,y,7,12,"div",0),2&s&&l.Q6J("ngIf",!u.button.dynamicVisible||u.button.dynamicVisible(u.button))},dependencies:[g.sg,g.O5],styles:["[_nghost-%COMP%]     .transparent-black{background-color:transparent;color:#000}[_nghost-%COMP%]     .transparent-white{background-color:transparent;color:#fff}.no-arrow[_ngcontent-%COMP%]:before, .no-arrow[_ngcontent-%COMP%]:after{display:none!important}"]})},77024:(ut,U,m)=>{m.r(U),m.d(U,{PlanejamentoModule:()=>dt});var M,N,f=m(76733),k=m(58568),q=m(55579),l=m(1391),g=m(2314),_=m(8239),h=m(74040),v=m(73150),j=m(5458),F=m(81214),x=m(91193),L=m(1184),G=m(49193),t=m(20755),Z=m(88820),y=m(32802),O=m(92392),p=m(74508),s=m(84495),u=m(64603),A=m(17819),C=m(66384),S=m(74978),z=m(37511),K=m(76298),I=m(91058),X=m(1240),R=m(57224),V=m(83351),mt=m(95489);function ct(a,o){if(1&a&&(t.TgZ(0,"span",11),t._UZ(1,"badge",12),t.qZA()),2&a){const e=o.separator,n=t.oxw();let i,d,r;t.xp6(1),t.Q6J("icon",(null==(i=n.getEixo(null==e?null:e.text))?null:i.icone)||"bi bi-gear")("color",(null==(d=n.getEixo(null==e?null:e.text))?null:d.cor)||"primary")("label",(null==(r=n.getEixo(null==e?null:e.text))?null:r.nome)||"Desconhecido")}}function pt(a,o){if(1&a&&(t.TgZ(0,"span",13),t._uU(1),t.qZA()),2&a){const e=o.row,n=t.oxw();t.Udp("margin-left",20*((null==e._metadata?null:e._metadata.level)||0),"px"),t.xp6(1),t.Oqu(n.marcador(e)+e.nome)}}function _t(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=o.row;t.xp6(1),t.Oqu(null==e.eixo_tematico?null:e.eixo_tematico.nome)}}function bt(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=o.row;t.xp6(1),t.Oqu(e.fundamentacao)}}function ft(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=o.row;t.xp6(1),t.Oqu((null==e.objetivo_superior?null:e.objetivo_superior.nome)||"")}}function gt(a,o){if(1&a&&(t.TgZ(0,"column",14),t.YNc(1,ft,2,1,"ng-template",null,15,t.W1O),t.qZA()),2&a){const e=t.MAs(2);t.Q6J("template",e)}}class Y extends K.D{set control(o){super.control=o}get control(){return super.control}set entity(o){super.entity=o}get entity(){return super.entity}set disabled(o){this._disabled!=o&&(this._disabled=o)}get disabled(){return this._disabled}set noPersist(o){super.noPersist=o}get noPersist(){return super.noPersist}get items(){return this.gridControl.value||this.gridControl.setValue(new x.Z),this.gridControl.value.objetivos||(this.gridControl.value.objetivos=[]),this.gridControl.value.objetivos}constructor(o){super(o),this.injector=o,this.minHeight=350,this.options=[],this._disabled=!1,this.eixos=[],this.dao=o.get(j.U),this.objetivoDao=o.get(I.e),this.eixoDao=o.get(X.e),this.groupBy=[{field:"eixo_tematico_id",label:"Eixo Tem\xe1tico"}],this.orderBy=[["nome","asc"]],this.form=this.fh.FormBuilder({nome:{default:""},fundamentacao:{default:""},planejamento_id:{default:null},eixo_tematico_id:{default:null},objetivo_superior_id:{default:null}},this.cdRef),this.OPTION_INFORMACOES.onClick=e=>this.go.navigate({route:["gestao","planejamento","objetivo",e.id,"consult"]},{modal:!0}),this.OPTION_EXCLUIR.onClick=e=>{this.removeObjetivo(e)},this.addOption(this.OPTION_INFORMACOES),this.addOption(this.OPTION_EXCLUIR,"MOD_PLAN_INST_EXCL")}ngOnInit(){super.ngOnInit(),this.entity=this.metadata?.entity||this.entity,this.carregaEixos(),this.sortObjetivos()}dynamicButtons(o){let e=[];return this.auth.hasPermissionTo("MOD_PLAN_INST_EDT")&&!this.disabled&&e.push({hint:"Alterar",icon:"bi bi-pencil-square",color:"btn-outline-info",onClick:i=>{this.editObjetivo(i)}}),e.push({hint:"Entregas",icon:"bi bi-file-earmark-bar-graph",onClick:i=>this.go.navigate({route:["gestao","plano-entrega","entrega","objetivos",i.id]},{modal:!0})}),e}marcador(o){let e=o._metadata?.level||0;return e<1?"":e<2?"\u2022 ":e<3?"- ":"+ "}addObjetivo(){var o=this;return(0,_.Z)(function*(){var e;let n=new z.i({_status:"ADD",id:o.dao.generateUuid(),planejamento_id:o.entity?.id});o.go.navigate({route:["gestao","planejamento","objetivo"]},{metadata:{planejamento:o.entity,objetivo:n,objetivos:o.objetivosPai(n.id)},modalClose:function(d){return(e=e||(0,_.Z)(function*(r){if(r)try{o.carregaEixos(),o.isNoPersist?o.items.push(r):o.items.push(yield o.objetivoDao.save(r)),o.sortObjetivos()}catch(c){o.error(c?.error||c?.message||c)}})).apply(this,arguments)}})})()}objetivosPai(o){let e=[],n=i=>{for(let d of i)d.id!=o&&(e.push(d),n(this.items.filter(r=>r.objetivo_pai_id==d.id).sort((r,c)=>r.sequencia-c.sequencia)))};return n(this.items.filter(i=>!i.objetivo_pai_id).sort((i,d)=>i.sequencia-d.sequencia)),e}sortObjetivos(){let o=[],e=(n,i)=>{for(let d of n)d._metadata=Object.assign(d._metadata||{},{level:i}),o.push(d),"DELETE"!=d._status&&e(this.items.filter(r=>r.objetivo_pai_id==d.id).sort((r,c)=>r.nome>c.nome?1:-1),i+1)};e(this.items.filter(n=>!n.objetivo_pai_id).sort((n,i)=>n.nome>i.nome?1:-1),0),this.items.length=0,this.items.push(...o),this.cdRef.detectChanges()}editObjetivo(o){var e=this;return(0,_.Z)(function*(){var n;o._status="ADD"==o._status?"ADD":"EDIT";let i=e.items.indexOf(o);e.go.navigate({route:["gestao","planejamento","objetivo"]},{metadata:{planejamento:e.entity,objetivo:o,objetivos:e.objetivosPai(o.id)},modalClose:function(r){return(n=n||(0,_.Z)(function*(c){c&&(e.isNoPersist||(yield e.objetivoDao?.save(c)),e.items[i]=c,e.carregaEixos(),e.sortObjetivos())})).apply(this,arguments)}})})()}removeObjetivo(o){var e=this;return(0,_.Z)(function*(){if(yield e.dialog.confirm("Exclui ?","Deseja realmente excluir?")){let i=e.items.indexOf(o);return e.isNoPersist?o._status="DELETE":(yield e.objetivoDao.delete(o),e.grid?.items.splice(i,1)),e.sortObjetivos(),!0}return!1})()}getEixo(o){return this.eixos?.find(e=>e.id==o)}carregaEixos(){this.eixoDao?.query().getAll().then(o=>{this.eixos=o})}}(M=Y).\u0275fac=function(o){return new(o||M)(t.Y36(t.zs3))},M.\u0275cmp=t.Xpm({type:M,selectors:[["planejamento-list-objetivo"]],viewQuery:function(o,e){if(1&o&&(t.Gf(h.Q,5),t.Gf(v.M,5)),2&o){let n;t.iGM(n=t.CRH())&&(e.editableForm=n.first),t.iGM(n=t.CRH())&&(e.grid=n.first)}},inputs:{planejamento_superior_id:"planejamento_superior_id",control:"control",entity:"entity",disabled:"disabled",noPersist:"noPersist"},features:[t.qOj],decls:16,vars:19,consts:[["editable","",3,"items","form","selectable","minHeight","add","remove","hasDelete","hasEdit","hasAdd","join","groupBy","orderBy","groupTemplate"],["gridObjetivos",""],["groupEixoTematico",""],["title","Nome",3,"template"],["columnNome",""],["title","Eixo Tem\xe1tico",3,"template"],["columnEixoTematico",""],["title","Fundamenta\xe7\xe3o",3,"template"],["columnFundamentacao",""],["title","Objetivo Superior",3,"template",4,"ngIf"],["type","options",3,"dynamicButtons","options"],[1,"text-wrap"],[3,"icon","color","label"],[1,"text-break","w-100"],["title","Objetivo Superior",3,"template"],["columnObjetivoSuperior",""]],template:function(o,e){if(1&o&&(t.TgZ(0,"grid",0,1),t.YNc(2,ct,2,3,"ng-template",null,2,t.W1O),t.TgZ(4,"columns")(5,"column",3),t.YNc(6,pt,2,3,"ng-template",null,4,t.W1O),t.qZA(),t.TgZ(8,"column",5),t.YNc(9,_t,2,1,"ng-template",null,6,t.W1O),t.qZA(),t.TgZ(11,"column",7),t.YNc(12,bt,2,1,"ng-template",null,8,t.W1O),t.qZA(),t.YNc(14,gt,3,1,"column",9),t._UZ(15,"column",10),t.qZA()()),2&o){const n=t.MAs(3),i=t.MAs(7),d=t.MAs(10),r=t.MAs(13);t.Q6J("items",e.items)("form",e.form)("selectable",!1)("minHeight",e.minHeight)("add",e.addObjetivo.bind(e))("remove",e.removeObjetivo.bind(e))("hasDelete",!1)("hasEdit",!1)("hasAdd",!e.disabled)("join",e.join)("groupBy",e.groupBy)("orderBy",e.orderBy)("groupTemplate",n),t.xp6(5),t.Q6J("template",i),t.xp6(3),t.Q6J("template",d),t.xp6(3),t.Q6J("template",r),t.xp6(3),t.Q6J("ngIf",null==e.planejamento_superior_id?null:e.planejamento_superior_id.length),t.xp6(1),t.Q6J("dynamicButtons",e.dynamicButtons.bind(e))("options",e.options)}},dependencies:[f.O5,v.M,R.a,V.b,mt.F]});const ht=["planejamentoSuperior"],vt=["objetivos"];class B extends L.F{constructor(o){var e,n;super(o,x.Z,j.U),e=this,this.injector=o,this.planejamentosSuperiores=[],this.hasPermissionToUNEX=!1,this.joinPlanejamentoSuperior=[],this.validate=(i,d)=>{let r=null;return["nome","unidade_id","missao","visao"].indexOf(d)>=0&&!i.value?.length&&(r="Obrigat\xf3rio"),"data_inicio"==d&&!this.dao?.validDateTime(i.value)&&(r="Inv\xe1lido"),"data_fim"==d&&i.value&&!this.dao?.validDateTime(i.value)&&(r="Inv\xe1lido"),r},this.formValidation=function(i){return(n=n||(0,_.Z)(function*(d){let r;return e.form.controls.data_fim.value&&e.form.controls.data_inicio.value>e.form.controls.data_fim.value?"A data do in\xedcio n\xe3o pode ser maior que a data do fim! [RN_PLAN_INST_A]":0==e.form.controls.valores.value.length?"\xc9 obrigat\xf3ria a inclus\xe3o de ao menos um valor institucional! [RN_PLAN_INST_A]":(((yield e.dao?.query({where:[["unidade_id","==",e.form.controls.unidade_id.value]]}).asPromise())||[]).forEach(b=>{b.id!=e.entity.id&&e.util.intersection([{start:e.util.asDate(b.data_inicio),end:e.util.asDate(b.data_fim)},{start:e.util.asDate(e.form.controls.data_inicio.value),end:e.util.asDate(e.form.controls.data_fim.value)}])&&(r="Sobreposi\xe7\xe3o de planejamento para o per\xedodo de datas selecionadas [RN_PLAN_INST_B]")}),r)})).apply(this,arguments)},this.titleEdit=i=>"Editando "+this.lex.translate("Planejamento Institucional")+": "+(i?.nome||""),this.unidadeDao=o.get(F.J),this.hasPermissionToUNEX=this.auth.hasPermissionTo("MOD_PLAN_INST_INCL_UNEX_LOTPRI")||this.auth.hasPermissionTo("MOD_PLAN_INST_INCL_UNEX_QQLOT")||this.auth.hasPermissionTo("MOD_PLAN_INST_INCL_UNEX_SUBORD")||this.auth.hasPermissionTo("MOD_PLAN_INST_INCL_UNEX_QUALQUER"),this.join=["objetivos","objetivos.objetivo_pai:id,nome","objetivos.objetivo_superior:id,planejamento_id","objetivos.eixo_tematico:id,nome","planejamento_superior:id,nome","planejamento_superior.objetivos"],this.joinPlanejamentoSuperior=["objetivos"],this.form=this.fh.FormBuilder({nome:{default:""},unidade_id:{default:null},entidade_id:{default:null},planejamento_superior_id:{default:null},data_inicio:{default:new Date},data_fim:{default:null},missao:{default:""},visao:{default:""},valores:{default:[]},valor_texto:{default:""},resultados_institucionais:{default:[]},resultados_texto:{default:""},utilizar_superior:{default:!1}},this.cdRef,this.validate),this.util=o.get(G.f)}loadData(o,e){var n=this;return(0,_.Z)(function*(){let i=Object.assign({},e.value);yield n.carregaPlanejamentosSuperiores(o.unidade_id),e.patchValue(n.util.fillForm(i,o)),n.form.controls.planejamento_superior_id.setValue(o.planejamento_superior_id)})()}initializeData(o){this.entity=new x.Z,this.loadData(this.entity,o)}saveData(o){var e=this;return(0,_.Z)(function*(){return new Promise((n,i)=>{e.objetivos.grid.confirm();let d=e.util.fill(new x.Z,e.entity);d=e.util.fillForm(d,e.form.value),d.objetivos=e.objetivos.items,n(d)})})()}addValorHandle(){let o;const e=this.form.controls.valor_texto.value,n=this.util.textHash(e);return e?.length&&this.util.validateLookupItem(this.form.controls.valores.value,n)&&(o={key:n,value:this.form.controls.valor_texto.value},this.form.controls.valor_texto.setValue("")),o}addResultadoHandle(){let o;const e=this.form.controls.resultados_texto.value,n=this.util.textHash(e);return e?.length&&this.util.validateLookupItem(this.form.controls.resultados_institucionais.value,n)&&(o={key:n,value:this.form.controls.resultados_texto.value},this.form.controls.resultados_texto.setValue("")),o}onUnidadeChange(o){var e=this;return(0,_.Z)(function*(){e.entity.unidade_id!=e.form.controls.unidade_id.value&&(yield e.carregaPlanejamentosSuperiores(e.form.controls.unidade_id.value))})()}carregaPlanejamentosSuperiores(o){var e=this;return(0,_.Z)(function*(){if(o?.length){let n=yield e.dao?.query({where:[["unidade_id","==",o],["manut_planej_unidades_executoras","==",!0]],join:e.joinPlanejamentoSuperior}).asPromise();e.planejamentosSuperiores=(n||[]).map(i=>Object.assign({},{key:i.id,value:i.nome,data:i})),e.planejamentosSuperiores.sort((i,d)=>i.value>d.value?1:-1),e.planejamentosSuperiores.unshift({key:null,value:"Escolha um Planejamento superior..."}),e.objetivos.loadData(e.entity,e.form),e.cdRef.detectChanges()}})()}onUtilizarSuperiorChange(o){var e=this;return(0,_.Z)(function*(){let n=e.form.controls.planejamento_superior_id.value;if(e.form.controls.utilizar_superior.value&&n?.length){let i=yield e.dao?.query({where:[["id","==",n]]}).asPromise();e.form.controls.missao.setValue(i[0].missao),e.form.controls.visao.setValue(i[0].visao),e.form.controls.valores.setValue(i[0].valores),e.form.controls.resultados_institucionais.setValue(i[0].resultados_institucionais)}})()}onPlanejamentoChange(o){var e=this;return(0,_.Z)(function*(){e.form.controls.planejamento_superior_id.value!=e.entity?.planejamento_superior_id&&e.entity?.objetivos?.length&&e.entity?.objetivos.filter(n=>n.objetivo_superior&&n.objetivo_superior.planejamento_id==e.entity?.planejamento_superior_id).length&&((yield e.dialog.confirm("Altera\xe7\xe3o de Planejamento Superior","Como j\xe1 existe(m) objetivo(s) neste Planejamento, vinculado(s) a objetivo(s) do Planejamento Superior anterior, seus v\xednculos ser\xe3o perdidos! Deseja continuar?"))?e.entity?.objetivos?.forEach(i=>i.objetivo_superior_id=null):e.form.controls.planejamento_superior_id.setValue(e.entity?.planejamento_superior_id)),e.entity.planejamento_superior_id=e.form.controls.planejamento_superior_id.value,e.entity.planejamento_superior=e.planejamentoSuperior.selectedItem?.data,e.objetivos.planejamento_superior_id=e.form.controls.planejamento_superior_id.value,e.objetivos?.grid?.loadColumns(),e.cdRef.detectChanges()})()}}(N=B).\u0275fac=function(o){return new(o||N)(t.Y36(t.zs3))},N.\u0275cmp=t.Xpm({type:N,selectors:[["app-planejamento-form"]],viewQuery:function(o,e){if(1&o&&(t.Gf(h.Q,5),t.Gf(v.M,7),t.Gf(ht,5),t.Gf(vt,5)),2&o){let n;t.iGM(n=t.CRH())&&(e.editableForm=n.first),t.iGM(n=t.CRH())&&(e.grid=n.first),t.iGM(n=t.CRH())&&(e.planejamentoSuperior=n.first),t.iGM(n=t.CRH())&&(e.objetivos=n.first)}},features:[t.qOj],decls:29,vars:39,consts:[["initialFocus","nome",3,"form","disabled","title","submit","cancel"],["display","","right",""],["key","DADOS","label","Dados"],[1,"row"],["controlName","nome","required","",3,"size","label","icon","control"],["controlName","unidade_id","labelInfo","Unidade \xe0 qual se refere o planejamento","required","",3,"size","control","dao","change"],["date","","label","In\xedcio","icon","bi bi-calendar-date","controlName","data_inicio","labelInfo","In\xedcio do Planejamento Institucional","required","",3,"size","control"],["date","","label","Fim","icon","bi bi-calendar-date","controlName","data_fim","labelInfo","Fim do Planejamento Institucional","required","",3,"size","control"],["label","Planejamento Institucional Superior","controlName","planejamento_superior_id",3,"size","items","control","icon","change"],["planejamentoSuperior",""],["scale","small","labelPosition","right","controlName","utilizar_superior","label","Utilizar miss\xe3o, vis\xe3o, resultados e valores da institui\xe7\xe3o superior?",3,"size","change"],[1,"col-md-6"],["label","Miss\xe3o","controlName","missao","required","",3,"size","rows","control"],["label","Vis\xe3o","controlName","visao","required","",3,"size","rows","control"],["controlName","resultados_institucionais",3,"size","label","addItemHandle"],["icon","far fa-edit","controlName","resultados_texto",3,"label","control"],["label","Valores","controlName","valores",3,"size","addItemHandle"],["label","Valor Institucional","icon","far fa-edit","controlName","valor_texto",3,"control"],["key","OBJETIVOS","label","Objetivos"],["noPersist","",3,"entity","disabled","planejamento_superior_id"],["objetivos",""]],template:function(o,e){1&o&&(t.TgZ(0,"editable-form",0),t.NdJ("submit",function(){return e.onSaveData()})("cancel",function(){return e.onCancel()}),t.TgZ(1,"tabs",1)(2,"tab",2)(3,"div",3)(4,"div",3),t._UZ(5,"input-text",4),t.qZA(),t.TgZ(6,"div",3)(7,"input-search",5),t.NdJ("change",function(i){return e.onUnidadeChange(i)}),t.qZA(),t._UZ(8,"input-datetime",6)(9,"input-datetime",7),t.qZA(),t.TgZ(10,"div",3)(11,"input-select",8,9),t.NdJ("change",function(i){return e.onPlanejamentoChange(i)}),t.qZA(),t.TgZ(13,"input-switch",10),t.NdJ("change",function(i){return e.onUtilizarSuperiorChange(i)}),t.qZA()(),t.TgZ(14,"div",3)(15,"div",11),t._UZ(16,"input-textarea",12),t.qZA(),t.TgZ(17,"div",11),t._UZ(18,"input-textarea",13),t.qZA()(),t.TgZ(19,"div",3)(20,"div",11)(21,"input-multiselect",14),t._UZ(22,"input-text",15),t.qZA()(),t.TgZ(23,"div",11)(24,"input-multiselect",16),t._UZ(25,"input-text",17),t.qZA()()()()(),t.TgZ(26,"tab",18),t._UZ(27,"planejamento-list-objetivo",19,20),t.qZA()()()),2&o&&(t.Q6J("form",e.form)("disabled",e.formDisabled)("title",e.isModal?"":e.title),t.xp6(5),t.Q6J("size",12)("label","Nome do "+e.lex.translate("Planejamento Institucional"))("icon",e.entityService.getIcon("Planejamento"))("control",e.form.controls.nome),t.uIk("maxlength",250),t.xp6(2),t.Q6J("size",6)("control",e.form.controls.unidade_id)("dao",e.unidadeDao),t.xp6(1),t.Q6J("size",3)("control",e.form.controls.data_inicio),t.xp6(1),t.Q6J("size",3)("control",e.form.controls.data_fim),t.xp6(2),t.Q6J("size",12)("items",e.planejamentosSuperiores)("control",e.form.controls.planejamento_superior_id)("icon",e.entityService.getIcon("Planejamento")),t.xp6(2),t.Q6J("size",12),t.xp6(3),t.Q6J("size",12)("rows",3)("control",e.form.controls.missao),t.xp6(2),t.Q6J("size",12)("rows",3)("control",e.form.controls.visao),t.xp6(3),t.Q6J("size",12)("label",e.lex.translate("Resultados Institucionais"))("addItemHandle",e.addResultadoHandle.bind(e)),t.xp6(1),t.Q6J("label",e.lex.translate("Resultados Institucionais"))("control",e.form.controls.resultados_texto),t.uIk("maxlength",250),t.xp6(2),t.Q6J("size",12)("addItemHandle",e.addValorHandle.bind(e)),t.xp6(1),t.Q6J("control",e.form.controls.valor_texto),t.uIk("maxlength",250),t.xp6(2),t.Q6J("entity",e.entity)("disabled","consult"==e.action)("planejamento_superior_id",e.form.controls.planejamento_superior_id.value))},dependencies:[h.Q,Z.a,y.V,O.m,p.Q,s.k,u.p,A.p,C.n,S.i,Y]});var w,$=m(78509),tt=m(57765),et=m(45512),ot=m(42704),nt=m(25560),jt=m(28032),D=m(44575),Ct=m(19108);const xt=["planejamentoInstitucional"];function Ot(a,o){if(1&a&&t._UZ(0,"planejamento-show",9),2&a){const e=t.oxw();t.Q6J("planejamento",e.planejamento)}}const it=function(a,o){return{objetivo:a,pai:o}};function Pt(a,o){if(1&a&&t.GkF(0,36),2&a){const e=o.$implicit,n=t.oxw().$implicit,i=t.MAs(10);t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(2,it,e,n))}}function Tt(a,o){if(1&a&&t.GkF(0,36),2&a){const e=o.$implicit,n=t.oxw().objetivo;t.oxw();const i=t.MAs(10);t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(2,it,e,n))}}const H=function(){return["objetivo"]};function Zt(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",37),t.NdJ("dndEnd",function(i){t.CHM(e);const d=t.oxw(3);return t.KtG(d.onObjetivoDragEnd(i))})("dndMoved",function(){const i=t.CHM(e),d=i.objetivo,r=i.pai,c=t.oxw(3);return t.KtG(c.onObjetivoDragged(d,r,"move"))})("dndStart",function(i){t.CHM(e);const d=t.oxw(3);return t.KtG(d.onObjetivoDragStart(i))}),t.TgZ(1,"div",38)(2,"div",39),t._uU(3),t.qZA(),t._UZ(4,"action-button",40),t.qZA(),t.TgZ(5,"div",28),t.NdJ("dndDrop",function(i){const r=t.CHM(e).objetivo,c=t.oxw(3);return t.KtG(c.onObjetivoDrop(i,r))}),t.TgZ(6,"div",29),t._UZ(7,"span",30),t.qZA(),t.YNc(8,Tt,1,5,"ng-container",31),t.qZA()()}if(2&a){const e=o.objetivo,n=t.oxw(3);t.Q6J("dndDisableIf",!n.canEdit)("dndDraggable",e),t.xp6(3),t.Oqu(e.nome),t.xp6(1),t.Q6J("button",n.subObjetivosMenu)("data",e),t.xp6(1),t.Q6J("dndDropzone",t.DdM(7,H)),t.xp6(3),t.Q6J("ngForOf",e.objetivos)}}function yt(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",25),t.NdJ("dndEnd",function(i){t.CHM(e);const d=t.oxw(2);return t.KtG(d.onObjetivoDragEnd(i))})("dndMoved",function(){const d=t.CHM(e).$implicit,r=t.oxw().$implicit,c=t.oxw();return t.KtG(c.onObjetivoDragged(d,r,"move"))})("dndStart",function(i){t.CHM(e);const d=t.oxw(2);return t.KtG(d.onObjetivoDragStart(i))}),t.TgZ(1,"div",16)(2,"div",26)(3,"div",27),t._uU(4),t.qZA(),t.TgZ(5,"div",28),t.NdJ("dndDrop",function(i){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.onObjetivoDrop(i,r))}),t.TgZ(6,"div",29),t._UZ(7,"span",30),t.qZA(),t.YNc(8,Pt,1,5,"ng-container",31),t.qZA()(),t.YNc(9,Zt,9,8,"ng-template",null,32,t.W1O),t.TgZ(11,"div",22),t._UZ(12,"action-button",33)(13,"action-button",34)(14,"action-button",35),t.qZA()()()}if(2&a){const e=o.$implicit,n=t.oxw(2);t.Q6J("dndDisableIf",!n.canEdit)("dndDraggable",e),t.xp6(4),t.Oqu(e.nome),t.xp6(1),t.Q6J("dndDropzone",t.DdM(11,H)),t.xp6(3),t.Q6J("ngForOf",e.objetivos),t.xp6(4),t.Q6J("data",e)("onClick",n.onObjetivoClick.bind(n)),t.xp6(1),t.Q6J("data",e)("onClick",n.onObjetivoEditClick.bind(n)),t.xp6(1),t.Q6J("data",e)("onClick",n.onObjetivoDeleteClick.bind(n))}}function At(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",10),t._UZ(1,"action-button",11),t.TgZ(2,"div",12)(3,"div",13)(4,"h4"),t._uU(5),t.qZA()(),t.TgZ(6,"div",14),t.NdJ("dndDrop",function(i){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onObjetivoDrop(i,r))}),t.TgZ(7,"div",15)(8,"div",16)(9,"p",17),t._UZ(10,"span",18)(11,"span",19)(12,"span",20)(13,"span",21),t.qZA(),t.TgZ(14,"div",22),t._UZ(15,"action-button",23)(16,"action-button",23)(17,"action-button",23),t.qZA()()(),t.YNc(18,yt,15,12,"div",24),t.qZA()()()}if(2&a){const e=o.$implicit,n=t.oxw();t.Udp("background-color",e.eixo.cor),t.xp6(1),t.Q6J("data",e)("onClick",n.onObjetivoAddClick.bind(n)),t.xp6(4),t.Oqu(e.eixo.nome),t.xp6(1),t.Q6J("dndDropzone",t.DdM(7,H)),t.xp6(12),t.Q6J("ngForOf",e.objetivos)}}class at extends K.D{constructor(o){super(o),this.injector=o,this.canEdit=!0,this.planejamentos=[],this.eixos=[],this.objetivos=[],this.subObjetivosMenu={icon:"bi bi-three-dots-vertical",color:"transparent-black p-1 py-0",items:[{icon:"bi bi-file-earmark-bar-graph",label:"Entregas",onClick:this.onObjetivoClick.bind(this)},{icon:"bi bi-pencil-square",label:"Alterar",onClick:this.onObjetivoEditClick.bind(this)},{icon:"bi bi-trash",label:"Excluir",onClick:this.onObjetivoDeleteClick.bind(this)}]},this.validate=(e,n)=>null,this.dao=o.get(j.U),this.objetivoDao=o.get(I.e),this.join=["objetivos"],this.title=this.lex.translate("Objetivos")+" "+this.lex.translate("do Planejamento Institucional"),this.form=this.fh.FormBuilder({planejamento_id:{default:null},todos:{default:!1}},this.cdRef,this.validate)}ngAfterViewInit(){super.ngAfterViewInit(),this.loadData(this.entity)}loadData(o,e){var n=this;return(0,_.Z)(function*(){n.query=n.dao.query({where:[["data_arquivamento","==",null]],orderBy:[["data_inicio","desc"]]}),n.query.asPromise().then(i=>{n.planejamentos=i.map(d=>Object.assign({},{key:d.id,value:d.nome,data:d})),n.cdRef.detectChanges(),n.form.controls.planejamento_id.setValue(n.planejamentos.length?n.planejamentos[0].key:null)})})()}objetivosPai(o){let e=[],n=i=>{for(let d of i)d.id!=o&&(e.push(d),n(this.objetivos.filter(r=>r.objetivo_pai_id==d.id).sort((r,c)=>r.sequencia-c.sequencia)))};return n(this.objetivos.filter(i=>!i.objetivo_pai_id).sort((i,d)=>i.sequencia-d.sequencia)),e}marcador(o){let e=o._metadata?.level||0;return e<1?"":e<2?"\u2022 ":e<3?"- ":"+ "}objetivosEixo(o){let e=this.planejamento?.objetivos?.filter(i=>i.eixo_tematico_id==o&&!i.objetivo_pai_id).sort((i,d)=>i.sequencia-d.sequencia)||[],n=(i,d)=>{for(let r of i)r.objetivos=this.planejamento?.objetivos?.filter(c=>c.objetivo_pai_id==r.id).sort((c,b)=>c.sequencia-b.sequencia)||[],r._metadata=Object.assign(r._metadata||{},{level:d}),n(r.objetivos,d+1)};return n(e,0),e}onPlanejamentoChange(){this.planejamentoInstitucional.selectedItem&&this.dao.getById(this.planejamentoInstitucional.selectedItem?.key,this.join).then(o=>{this.planejamento=o,this.objetivos=this.planejamento.objetivos||[],this.eixos=this.query.extra?.eixos?.filter(e=>this.form?.controls.todos.value||this.planejamento?.objetivos?.find(n=>n.eixo_tematico_id==e.id)).map(e=>Object.assign({},{eixo:e,eixo_tematico_id:e.id,objetivos:this.objetivosEixo(e.id)}))||[],this.cdRef.detectChanges()})}onTodosChange(){this.onPlanejamentoChange()}onObjetivoClick(o){let e=o;this.go.navigate({route:["gestao","plano-entrega","entrega","objetivos",e.id]})}onObjetivoAddClick(o){var n,e=this;let i=this.eixos.find(r=>r.eixo.id==o.id),d=new z.i({_status:"ADD",id:this.dao.generateUuid(),planejamento_id:this.planejamento?.id,eixo_tematico_id:o.eixo.id,eixo_tematico:o.eixo,sequencia:i?.objetivos.length?i?.objetivos[0].sequencia:0});this.go.navigate({route:["gestao","planejamento","objetivo"]},{metadata:{planejamento:this.planejamento,objetivo:d,objetivos:this.objetivosPai(d.id)},modalClose:function(c){return(n=n||(0,_.Z)(function*(b){b&&e.objetivoDao.save(b).then(Kt=>e.onPlanejamentoChange())})).apply(this,arguments)}})}onObjetivoDeleteClick(o){let e=o;this.dialog.confirm("Exclui ?","Deseja realmente excluir?").then(n=>{n&&this.objetivoDao.delete(e).then(i=>this.onPlanejamentoChange())})}onObjetivoEditClick(o){var n,e=this;let i=o;this.go.navigate({route:["gestao","planejamento","objetivo"]},{metadata:{planejamento:this.planejamento,objetivo:i},modalClose:function(r){return(n=n||(0,_.Z)(function*(c){c&&e.objetivoDao?.save(c).then(b=>e.onPlanejamentoChange())})).apply(this,arguments)}})}onObjetivoDrop(o,e){console.log("Drop",o),e.objetivos=e.objetivos||[];let n=o.data,i=typeof o.index>"u"?e.objetivos.length:o.index,d=i&&(e.objetivos[i]||e.objetivos[i-1])||void 0;e.objetivos.splice(i,0,n),this.loading=!0,this.objetivoDao?.update(n.id,{eixo_tematico_id:e.eixo_tematico_id,objetivo_pai_id:e.id||null,sequencia:d?.sequencia||0}).then(r=>this.onPlanejamentoChange()).finally(()=>this.loading=!1)}onObjetivoDragEnd(o){console.log("DragEnd",o)}onObjetivoDragged(o,e,n){console.log("Dragged",o,e.objetivos),e.objetivos=e.objetivos||[],e.objetivos.splice(e.objetivos.indexOf(o),1)}onObjetivoDragStart(o){console.log("DragStart",o)}}var E;(w=at).\u0275fac=function(o){return new(o||w)(t.Y36(t.zs3))},w.\u0275cmp=t.Xpm({type:w,selectors:[["planejamento-mapa"]],viewQuery:function(o,e){if(1&o&&(t.Gf(h.Q,5),t.Gf(xt,5)),2&o){let n;t.iGM(n=t.CRH())&&(e.editableForm=n.first),t.iGM(n=t.CRH())&&(e.planejamentoInstitucional=n.first)}},features:[t.qOj],decls:10,vars:8,consts:[["noButtons","",3,"form"],[1,"row","mt-2"],["controlName","planejamento_id",3,"size","control","items","change"],["planejamentoInstitucional",""],["transparent","","collapse","","title","Miss\xe3o, vis\xe3o, resultados e valores"],[3,"planejamento",4,"ngIf"],[1,"row","my-2"],["labelPosition","left","label","Todos os eixos","controlName","todos",3,"size","control","change"],["class","eixo",3,"background-color",4,"ngFor","ngForOf"],[3,"planejamento"],[1,"eixo"],["icon","bi bi-plus-circle","color","transparent-black",3,"data","onClick"],[1,"d-flex","align-items-center","align-content-stretch","p-3"],[1,"descricao"],[1,"objetivos","w-100","row",3,"dndDropzone","dndDrop"],["dndPlaceholderRef","",1,"col-md-4"],[1,"objetivo","shadow-sm","d-flex","flex-column","align-content-between"],[1,"placeholder-glow"],[1,"placeholder","col-2"],[1,"placeholder","col-3"],[1,"placeholder","col-1"],[1,"placeholder","col-6"],[1,"buttons","w-100","d-flex","justify-content-end","px-1"],["placeholder","","icon","bi bi-question","color","transparent-black p-0"],["class","col-md-4","dndType","objetivo","dndEffectAllowed","move",3,"dndDisableIf","dndDraggable","dndEnd","dndMoved","dndStart",4,"ngFor","ngForOf"],["dndType","objetivo","dndEffectAllowed","move",1,"col-md-4",3,"dndDisableIf","dndDraggable","dndEnd","dndMoved","dndStart"],[1,"m-2"],["dndHandle","",1,"card-text","text-break","w-100"],[1,"subobjetivo",3,"dndDropzone","dndDrop"],["dndPlaceholderRef","",1,"border","mt-3","p-2"],[1,"placeholder","w-75"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],["subobjetivos",""],["icon","bi bi-file-earmark-bar-graph","color","transparent-black px-1",3,"data","onClick"],["icon","bi bi-pencil-square","color","transparent-black px-1",3,"data","onClick"],["icon","bi bi-trash","color","transparent-black px-1",3,"data","onClick"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["dndType","objetivo","dndEffectAllowed","move",1,"border","mt-3","p-2",3,"dndDisableIf","dndDraggable","dndEnd","dndMoved","dndStart"],[1,"d-flex","justify-content-between"],[1,"me-2","card-text","text-break","w-100"],["noArrow","",3,"button","data"]],template:function(o,e){1&o&&(t.TgZ(0,"editable-form",0)(1,"div",1)(2,"input-select",2,3),t.NdJ("change",function(){return e.onPlanejamentoChange()}),t.qZA()(),t.TgZ(4,"separator",4),t.YNc(5,Ot,1,1,"planejamento-show",5),t.qZA(),t.TgZ(6,"div",6)(7,"input-switch",7),t.NdJ("change",function(){return e.onTodosChange()}),t.qZA()(),t.YNc(8,At,19,8,"div",8),t._UZ(9,"div",6),t.qZA()),2&o&&(t.Q6J("form",e.form),t.xp6(2),t.Q6J("size",12)("control",e.form.controls.planejamento_id)("items",e.planejamentos),t.xp6(3),t.Q6J("ngIf",e.planejamento),t.xp6(2),t.Q6J("size",12)("control",e.form.controls.todos),t.xp6(1),t.Q6J("ngForOf",e.eixos))},dependencies:[f.sg,f.O5,f.tP,h.Q,Z.a,u.p,nt.N,jt.x,D.jk,D.Q4,D.mv,D.s1,Ct.W],styles:[".blockquote[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;margin:0}.eixo[_ngcontent-%COMP%]   .descricao[_ngcontent-%COMP%]{width:250px}.eixo[_ngcontent-%COMP%]   .descricao[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{writing-mode:vertical-rl;text-orientation:mixed;transform:scaleX(-1) scaleY(-1);white-space:normal;height:min-content;text-align:center}.eixo[_ngcontent-%COMP%]   .descricao[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute}.eixo[_ngcontent-%COMP%]   .w-25[_ngcontent-%COMP%]{margin-bottom:10px}.eixo[_ngcontent-%COMP%]   .objetivos[_ngcontent-%COMP%]{min-height:100px}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]{background:#fff;margin:0 10px}.eixo[_ngcontent-%COMP%]   .subobjetivo[_ngcontent-%COMP%]{min-height:50px}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:.8rem;cursor:grab}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:10px;color:#5e5b5b;font-size:.8rem;margin:0}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{border-top:1px solid #ddd}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;padding:5px}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.detalhe_entrega[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.dndDraggingSource[_ngcontent-%COMP%]{display:none}.acao-planos[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]});const It=["unidade"];function Mt(a,o){1&a&&t._UZ(0,"toolbar")}function Nt(a,o){if(1&a&&(t.TgZ(0,"span",30),t._UZ(1,"i",31),t._uU(2),t.qZA()),2&a){const e=t.oxw().row;t.xp6(2),t.hij(" ",null==e.objetivos?null:e.objetivos.length,"")}}function Dt(a,o){if(1&a&&t.YNc(0,Nt,3,1,"span",29),2&a){const e=o.row;t.Q6J("ngIf",null==e.objetivos?null:e.objetivos.length)}}function wt(a,o){if(1&a&&t._UZ(0,"planejamento-list-objetivo",32),2&a){const e=o.row;t.Q6J("entity",e)}}function Et(a,o){if(1&a&&(t.TgZ(0,"column",26),t.YNc(1,Dt,1,1,"ng-template",null,27,t.W1O),t.YNc(3,wt,1,1,"ng-template",null,28,t.W1O),t.qZA()),2&a){const e=t.MAs(2),n=t.MAs(4),i=t.oxw(2);t.Q6J("align","center")("hint",i.lex.translate("Objetivo"))("template",e)("expandTemplate",n)}}function Qt(a,o){if(1&a&&(t.TgZ(0,"span",33),t._uU(1),t.qZA()),2&a){const e=o.row;t.xp6(1),t.Oqu(e.nome)}}function Jt(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=o.row,n=t.oxw(2);t.xp6(1),t.hij(" ",n.dao.getDateFormatted(e.data_inicio),"")}}function Ut(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=o.row,n=t.oxw(2);t.xp6(1),t.hij(" ",n.dao.getDateFormatted(e.data_fim),"")}}function qt(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=o.row;t.xp6(1),t.hij(" ",(null==e.unidade?null:e.unidade.nome)||"","")}}function Ft(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"grid",5),t.NdJ("select",function(i){t.CHM(e);const d=t.oxw();return t.KtG(d.onSelect(i))}),t.YNc(1,Mt,1,0,"toolbar",6),t.TgZ(2,"filter",7)(3,"div",8),t._UZ(4,"input-text",9),t.qZA(),t.TgZ(5,"div",8)(6,"input-switch",10),t.NdJ("change",function(i){t.CHM(e);const d=t.oxw();return t.KtG(d.onSoEntidadeChange(i))}),t.qZA(),t._UZ(7,"input-search",11,12)(9,"input-datetime",13)(10,"input-datetime",14),t.qZA()(),t.TgZ(11,"columns"),t.YNc(12,Et,5,4,"column",15),t.TgZ(13,"column",16),t.YNc(14,Qt,2,1,"ng-template",null,17,t.W1O),t.qZA(),t.TgZ(16,"column",18),t.YNc(17,Jt,2,1,"ng-template",null,19,t.W1O),t.qZA(),t.TgZ(19,"column",20),t.YNc(20,Ut,2,1,"ng-template",null,21,t.W1O),t.qZA(),t.TgZ(22,"column",22),t.YNc(23,qt,2,1,"ng-template",null,23,t.W1O),t.qZA(),t._UZ(25,"column",24),t.qZA(),t._UZ(26,"pagination",25),t.qZA()}if(2&a){const e=t.MAs(15),n=t.MAs(18),i=t.MAs(21),d=t.MAs(24),r=t.oxw();t.Q6J("dao",r.dao)("add",r.add)("orderBy",r.orderBy)("join",r.join)("init",r.initGrid.bind(r))("selectable",r.selectable)("hasAdd",r.auth.hasPermissionTo("MOD_PLAN_INST_INCL"))("hasEdit",r.auth.hasPermissionTo("MOD_PLAN_INST_EDT")),t.xp6(1),t.Q6J("ngIf",!r.selectable),t.xp6(1),t.Q6J("deleted",r.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",r.filter)("where",r.filterWhere)("submit",r.filterSubmit.bind(r))("clear",r.filterClear.bind(r))("collapseChange",r.filterCollapseChange.bind(r))("collapsed",!r.selectable&&r.filterCollapsed),t.xp6(2),t.Q6J("size",12)("label",r.lex.translate("Planejamento Institucional"))("control",r.filter.controls.nome)("placeholder","Nome "+r.lex.translate("Planejamento Institucional")+"..."),t.uIk("maxlength",250),t.xp6(2),t.Q6J("size",2)("label","S\xf3 da "+r.lex.translate("Entidade"))("control",r.filter.controls.so_entidade),t.xp6(1),t.Q6J("size",4)("label",r.lex.translate("Unidade"))("disabled",r.unidade_disabled)("control",r.filter.controls.unidade_id)("dao",r.unidadeDao),t.xp6(2),t.Q6J("size",3)("control",r.filter.controls.data_inicio)("labelInfo","Data de in\xedcio do"+r.lex.translate("Planejamento Institucional")),t.xp6(1),t.Q6J("size",3)("control",r.filter.controls.data_fim)("labelInfo","Data do fim do "+r.lex.translate("Planejamento Institucional")),t.xp6(2),t.Q6J("ngIf",!r.selectable),t.xp6(1),t.Q6J("template",e),t.xp6(3),t.Q6J("template",n),t.xp6(3),t.Q6J("template",i),t.xp6(3),t.Q6J("template",d),t.xp6(3),t.Q6J("onEdit",r.edit)("options",r.options),t.xp6(1),t.Q6J("rows",r.rowsLimit)}}function Lt(a,o){1&a&&t._UZ(0,"planejamento-mapa")}class lt extends $.E{constructor(o){super(o,x.Z,j.U),this.injector=o,this.filterWhere=e=>{let n=[],i=e.value;return i.so_entidade?(e.controls.unidade_id.setValue(null),n.push(["unidade_id","==",null])):i.unidade_id&&n.push(["unidade_id","==",i.unidade_id]),i.nome?.length&&n.push(["nome","like","%"+i.nome.trim().replace(" ","%")+"%"]),i.data_inicio&&n.push(["data_inicio",">=",i.data_inicio]),i.data_fim&&n.push(["data_fim","<=",i.data_fim]),n},this.unidadeDao=o.get(F.J),this.code="MOD_PLAN_INST",this.title=this.lex.translate("Planejamentos Institucionais"),this.filter=this.fh.FormBuilder({data_inicio:{default:null},data_fim:{default:null},nome:{default:""},unidade_id:{default:null},so_entidade:{default:!1},agrupar:{default:!0}}),this.join=["unidade:id,nome,sigla","objetivos","objetivos.eixo_tematico:id,nome","objetivos.objetivo_superior:id,nome","planejamento_superior:id,nome","planejamento_superior.objetivos"],this.auth.hasPermissionTo("MOD_PLAN_INST")&&this.options.push({icon:"bi bi-info-circle",label:"Informa\xe7\xf5es",onClick:this.consult.bind(this)}),this.auth.hasPermissionTo("MOD_PLAN_INST_EXCL")&&this.options.push({icon:"bi bi-trash",label:"Excluir",onClick:this.delete.bind(this)}),this.addOption(this.OPTION_LOGS,"MOD_AUDIT_LOG"),this.addOption({label:"Relat\xf3rio",icon:"bi bi-file-pdf",onClick:e=>this.report(e,"PLAN_INSTITUCIONAL")})}ngAfterViewInit(){super.ngAfterViewInit(),this.tabs.active=["TABELA","MAPA","OKR"].includes(this.usuarioConfig.active_tab)?this.usuarioConfig.active_tab:"TABELA"}onLoad(){}report(o,e){const n={id:o.id,join:["objetivos","objetivos.objetivos_filhos"]};this.grid?.buildRowReport(e,n)}initGrid(o){o.queryInit()}onSelectTab(o){var e=this;return(0,_.Z)(function*(){e.viewInit&&e.saveUsuarioConfig({active_tab:o.key})})()}filterClear(o){o.controls.nome.setValue(""),o.controls.data_inicio.setValue(null),o.controls.data_fim.setValue(null),o.controls.unidade_id.setValue(null),o.controls.so_entidade.setValue(!1),super.filterClear(o)}onSoEntidadeChange(o){this.filter.controls.so_entidade.value?(this.filter.controls.unidade_id.setValue(null),this.unidade_disabled="disabled"):(this.filter.controls.unidade_id.setValue(void 0),this.unidade_disabled=void 0)}}(E=lt).\u0275fac=function(o){return new(o||E)(t.Y36(t.zs3))},E.\u0275cmp=t.Xpm({type:E,selectors:[["app-planejamento-list"]],viewQuery:function(o,e){if(1&o&&(t.Gf(v.M,5),t.Gf(C.n,5),t.Gf(It,5)),2&o){let n;t.iGM(n=t.CRH())&&(e.grid=n.first),t.iGM(n=t.CRH())&&(e.tabs=n.first),t.iGM(n=t.CRH())&&(e.unidade=n.first)}},features:[t.qOj],decls:7,vars:4,consts:[["right","",3,"title","select"],["key","TABELA","icon","bi bi-table","label","Lista",3,"template"],["lista",""],["key","MAPA","icon","bi bi-card-heading","label","Mapa",3,"template"],["mapa",""],[3,"dao","add","orderBy","join","init","selectable","hasAdd","hasEdit","select"],[4,"ngIf"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["controlName","nome",3,"size","label","control","placeholder"],["controlName","so_entidade",3,"size","label","control","change"],["controlName","unidade_id",3,"size","label","disabled","control","dao"],["unidade",""],["date","","label","In\xedcio","controlName","data_inicio",3,"size","control","labelInfo"],["date","","label","Fim","controlName","data_fim",3,"size","control","labelInfo"],["type","expand","icon","bi bi-bullseye",3,"align","hint","template","expandTemplate",4,"ngIf"],["title","Nome","orderBy","nome",3,"template"],["columnNome",""],["title","In\xedcio",3,"template"],["columnInicio",""],["title","Fim",3,"template"],["columnFim",""],["title","Unidade",3,"template"],["columnUnidade",""],["type","options",3,"onEdit","options"],[3,"rows"],["type","expand","icon","bi bi-bullseye",3,"align","hint","template","expandTemplate"],["columnObjetivos",""],["columnExpandedObjetivos",""],["class","badge rounded-pill bg-light text-dark",4,"ngIf"],[1,"badge","rounded-pill","bg-light","text-dark"],[1,"bi","bi-bullseye"],[3,"entity"],[1,"text-break","w-100"]],template:function(o,e){if(1&o&&(t.TgZ(0,"tabs",0)(1,"tab",1),t.YNc(2,Ft,27,43,"ng-template",null,2,t.W1O),t.qZA(),t.TgZ(4,"tab",3),t.YNc(5,Lt,1,0,"ng-template",null,4,t.W1O),t.qZA()()),2&o){const n=t.MAs(3),i=t.MAs(6);t.Q6J("title",e.isModal?"":e.title)("select",e.onSelectTab.bind(e)),t.xp6(1),t.Q6J("template",n),t.xp6(3),t.Q6J("template",i)}},dependencies:[f.O5,v.M,R.a,V.b,tt.z,et.n,ot.Q,Z.a,y.V,O.m,s.k,C.n,S.i,Y,at]});var Q,St=m(92307);const zt=["planejamentoSuperiorNome"],Bt=["eixoTematico"];function kt(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"separator",9)(1,"div",1),t._UZ(2,"input-text",10),t.TgZ(3,"input-select",11),t.NdJ("change",function(i){t.CHM(e);const d=t.oxw();return t.KtG(d.onObjetivoSuperiorChange(i))}),t.qZA()()()}if(2&a){const e=t.oxw();t.Q6J("margin",2),t.xp6(2),t.Q6J("size",6)("icon",e.entityService.getIcon("Planejamento")),t.uIk("maxlength",250),t.xp6(1),t.Q6J("items",e.objetivos_superiores)("size",6)("control",e.form.controls.objetivo_superior_id)}}class W extends L.F{constructor(o){super(o,z.i,I.e),this.injector=o,this.objetivos=[],this.objetivos_superiores=[],this.validate=(e,n)=>{let i=null;return["nome","fundamentacao"].indexOf(n)>=0&&!e.value?.length&&(i="Obrigat\xf3rio"),["eixo_tematico_id"].indexOf(n)>=0&&!e.value?.length&&(i="Obrigat\xf3rio"),i},this.formValidation=e=>null,this.planejamentoDao=o.get(j.U),this.eixoTematicoDao=o.get(X.e),this.form=this.fh.FormBuilder({nome:{default:""},fundamentacao:{default:""},planejamento_id:{default:null},planejamento_superior_nome:{default:""},eixo_tematico_id:{default:null},objetivo_superior_id:{default:null},objetivo_pai_id:{default:null},integra_okr:{default:!0}},this.cdRef,this.validate)}loadData(o,e){var n=this;return(0,_.Z)(function*(){let i=Object.assign({},e.value);e.patchValue(n.util.fillForm(i,o)),yield n.eixoTematico?.loadSearch(o.eixo_tematico||o.eixo_tematico_id),n.title="ADD"==o._status?"Inclus\xe3o de Objetivo":"Editando objetivo...",n.planejamento=n.metadata?.planejamento,n.metadata?.planejamento_superior&&(n.planejamento.planejamento_superior=n.metadata.planejamento_superior),n.form?.controls.planejamento_superior_nome.setValue(n.planejamento?.planejamento_superior?.nome||""),n.objetivos_superiores=n.planejamento?.planejamento_superior?.objetivos?.map(d=>Object.assign({},{key:d.id,value:d.nome,data:d}))||[]})()}initializeData(o){var e=this;return(0,_.Z)(function*(){e.entity=e.metadata?.objetivo,e.objetivos=(e.metadata?.objetivos).map(n=>Object.assign({},{key:n.id,value:n.nome,data:n})),yield e.loadData(e.entity,o)})()}saveData(o){var n,e=this;return new Promise(function(i,d){return(n=n||(0,_.Z)(function*(r,c){const b=Object.assign({eixo_tematico:e.eixoTematico?.selectedItem?.entity},e.entity);r(new St.R(e.util.fillForm(b,e.form.value)))})).apply(this,arguments)})}isPlanejamentoUNEX(){return null!=this.planejamento?.unidade_id}onObjetivoPaiChange(o){const e=this.form.controls.objetivo_pai_id.value,n=this.objetivos.find(i=>i.key===e)?.data.eixo_tematico_id;n&&this.form.controls.eixo_tematico_id.setValue(n),this.cdRef.detectChanges()}onObjetivoSuperiorChange(o){let e=this.objetivos_superiores.find(n=>n.key===this.form?.controls.objetivo_superior_id.value)?.data.eixo_tematico_id;this.form.controls.eixo_tematico_id.value||this.form.controls.eixo_tematico_id.setValue(e),this.cdRef.detectChanges()}}var J,P;function Gt(a,o){if(1&a&&(t.TgZ(0,"h3",11),t._uU(1),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Oqu(e.title)}}function Rt(a,o){if(1&a&&t._UZ(0,"toolbar",12),2&a){const e=t.oxw();t.Q6J("buttons",e.buttons)}}function Vt(a,o){if(1&a&&(t.TgZ(0,"span",13),t._uU(1),t.qZA()),2&a){const e=o.row,n=o.metadata,i=t.oxw();t.xp6(1),t.Oqu(i.getNome(n,e))}}(Q=W).\u0275fac=function(o){return new(o||Q)(t.Y36(t.zs3))},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["app-planejamento-form-objetivo"]],viewQuery:function(o,e){if(1&o&&(t.Gf(h.Q,5),t.Gf(zt,5),t.Gf(Bt,5)),2&o){let n;t.iGM(n=t.CRH())&&(e.editableForm=n.first),t.iGM(n=t.CRH())&&(e.planejamentoSuperiorNome=n.first),t.iGM(n=t.CRH())&&(e.eixoTematico=n.first)}},features:[t.qOj],decls:12,vars:16,consts:[["initialFocus","nome",3,"form","disabled","title","submit","cancel"],[1,"row"],["icon","bi bi-textarea-t","label","Nome","controlName","nome","required","",3,"size","rows","control"],["controlName","eixo_tematico_id","required","",3,"size","disabled","dao"],["eixoTematico",""],["label","Objetivo Pai","icon","fab fa-unity","controlName","objetivo_pai_id",3,"size","items","change"],["objetivoPai",""],["title","Vinculo com Planejamento Superior",3,"margin",4,"ngIf"],["icon","bi bi-textarea-t","label","Fundamenta\xe7\xe3o","controlName","fundamentacao","required","",3,"size","rows","control"],["title","Vinculo com Planejamento Superior",3,"margin"],["disabled","","label","Planejamento Superior vinculado","controlName","planejamento_superior_nome",3,"size","icon"],["label","Objetivo de Planejamento Superior (Vinculado)","icon","fab fa-unity","controlName","objetivo_superior_id",3,"items","size","control","change"]],template:function(o,e){1&o&&(t.TgZ(0,"editable-form",0),t.NdJ("submit",function(){return e.onSaveData()})("cancel",function(){return e.onCancel()}),t.TgZ(1,"div",1)(2,"div",1),t._UZ(3,"input-textarea",2),t.qZA(),t.TgZ(4,"div",1),t._UZ(5,"input-search",3,4),t.TgZ(7,"input-select",5,6),t.NdJ("change",function(i){return e.onObjetivoPaiChange(i)}),t.qZA()(),t.YNc(9,kt,4,7,"separator",7),t.TgZ(10,"div",1),t._UZ(11,"input-textarea",8),t.qZA()()()),2&o&&(t.Q6J("form",e.form)("disabled",e.formDisabled)("title",e.isModal?"":e.title),t.xp6(3),t.Q6J("size",12)("rows",2)("control",e.form.controls.nome),t.uIk("maxlength",250),t.xp6(2),t.Q6J("size",6)("disabled",null!=e.form&&null!=e.form.controls&&null!=e.form.controls.objetivo_pai_id&&e.form.controls.objetivo_pai_id.value?"true":void 0)("dao",e.eixoTematicoDao),t.xp6(2),t.Q6J("size",6)("items",e.objetivos),t.xp6(2),t.Q6J("ngIf",null==e.planejamento?null:e.planejamento.planejamento_superior_id),t.xp6(2),t.Q6J("size",12)("rows",4)("control",e.form.controls.fundamentacao))},dependencies:[f.O5,h.Q,y.V,O.m,p.Q,u.p,nt.N]});class st extends $.E{constructor(o){super(o,z.i,I.e),this.injector=o,this.buttons=[],this.filterWhere=e=>{let n=e.value,i=[];return n.planejamento_id?.length&&i.push(["planejamento_id","==",n.planejamento_id]),n.nome?.length&&i.push(["nome","like","%"+n.nome.trim().replace(" ","%")+"%"]),i},this.join=["objetivos"],this.planejamentoDao=o.get(j.U),this.planejamentoObjetivoDao=o.get(I.e),this.title=this.lex.translate("Objetivos")+" "+this.lex.translate("do Planejamento Institucional"),this.filter=this.fh.FormBuilder({nome:{default:""},planejamento_id:{default:null}}),this.OPTION_INFORMACOES.onClick=e=>this.go.navigate({route:["gestao","planejamento","objetivo",e.id,"consult"]},{modal:!0}),this.addOption(this.OPTION_INFORMACOES)}filterClear(o){super.filterClear(o),this.filter?.controls.nome.setValue("")}getNome(o,e){if(!o.path){let n=e.objetivo_pai_id,i="";for(;n;){let d=this.grid?.items.find(r=>r.id==n);i=(d?.sequencia||"")+"."+i,n=d?.objetivo_pai_id||null}o.path=i+e.sequencia}return this.grid?.items.sort((n,i)=>{const d=(this.grid.getMetadata(n)?.path||"").split(".").map(c=>("000"+c).substr(-3)).join("."),r=(this.grid.getMetadata(i)?.path||"").split(".").map(c=>("000"+c).substr(-3)).join(".");return d<r?-1:d>r?1:0}),o.path.length>2?"- "+e.nome:o.path.length>4?"-- "+e.nome:e.nome}}(J=st).\u0275fac=function(o){return new(o||J)(t.Y36(t.zs3))},J.\u0275cmp=t.Xpm({type:J,selectors:[["planejamento-list-objetivos-entregas"]],viewQuery:function(o,e){if(1&o&&t.Gf(v.M,5),2&o){let n;t.iGM(n=t.CRH())&&(e.grid=n.first)}},features:[t.qOj],decls:13,vars:22,consts:[["class","my-2",4,"ngIf"],[3,"dao","add","orderBy","groupBy","join","selectable","select"],[3,"buttons",4,"ngIf"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["label","Nome","controlName","nome","placeholder","Nome",3,"size","control"],["title","Nome","orderBy","nome",3,"template"],["columnNome",""],["title","Fundamenta\xe7\xe3o","field","fundamentacao"],["type","options",3,"onEdit","options"],[3,"rows"],[1,"my-2"],[3,"buttons"],[1,"d-block"]],template:function(o,e){if(1&o&&(t.YNc(0,Gt,2,1,"h3",0),t.TgZ(1,"grid",1),t.NdJ("select",function(i){return e.onSelect(i)}),t.YNc(2,Rt,1,1,"toolbar",2),t.TgZ(3,"filter",3)(4,"div",4),t._UZ(5,"input-text",5),t.qZA()(),t.TgZ(6,"columns")(7,"column",6),t.YNc(8,Vt,2,1,"ng-template",null,7,t.W1O),t.qZA(),t._UZ(10,"column",8)(11,"column",9),t.qZA(),t._UZ(12,"pagination",10),t.qZA()),2&o){const n=t.MAs(9);t.Q6J("ngIf",!e.isModal),t.xp6(1),t.Q6J("dao",e.dao)("add",e.add)("orderBy",e.orderBy)("groupBy",e.groupBy)("join",e.join)("selectable",e.selectable),t.xp6(1),t.Q6J("ngIf",!e.selectable),t.xp6(1),t.Q6J("deleted",e.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",e.filter)("where",e.filterWhere)("submit",e.filterSubmit.bind(e))("clear",e.filterClear.bind(e))("collapseChange",e.filterCollapseChange.bind(e))("collapsed",!e.selectable&&e.filterCollapsed),t.xp6(2),t.Q6J("size",12)("control",e.filter.controls.nome),t.uIk("maxlength",250),t.xp6(2),t.Q6J("template",n),t.xp6(4),t.Q6J("onEdit",e.edit)("options",e.options),t.xp6(1),t.Q6J("rows",e.rowsLimit)}},dependencies:[f.O5,v.M,R.a,V.b,tt.z,et.n,ot.Q,O.m]});const Yt=[{path:"",component:lt,canActivate:[l.a],resolve:{config:g.o},runGuardsAndResolvers:"always",data:{title:"Planejamentos Institucionais"}},{path:"new",component:B,canActivate:[l.a],resolve:{config:g.o},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o de Planejamento Institucional",modal:!0}},{path:":id/edit",component:B,canActivate:[l.a],resolve:{config:g.o},runGuardsAndResolvers:"always",data:{title:"Edi\xe7\xe3o de Planejamento Institucional",modal:!0}},{path:":id/consult",component:B,canActivate:[l.a],resolve:{config:g.o},runGuardsAndResolvers:"always",data:{title:"Consulta a Planejamento Institucional",modal:!0}},{path:"objetivo",component:W,canActivate:[l.a],resolve:{config:g.o},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o de Objetivo de Planejamento Institucional",modal:!0}},{path:"objetivoList",component:st,canActivate:[l.a],resolve:{config:g.o},runGuardsAndResolvers:"always",data:{title:"Objetivos de Planejamento Institucional",modal:!0}},{path:"objetivo/:id/consult",component:W,canActivate:[l.a],resolve:{config:g.o},runGuardsAndResolvers:"always",data:{title:"Consulta a Objetivo de Planejamento Institucional",modal:!0}}];class rt{}(P=rt).\u0275fac=function(o){return new(o||P)},P.\u0275mod=t.oAB({type:P}),P.\u0275inj=t.cJS({imports:[q.Bz.forChild(Yt),q.Bz]});var T,Ht=m(3209),Wt=m(32864);class dt{}(T=dt).\u0275fac=function(o){return new(o||T)},T.\u0275mod=t.oAB({type:T}),T.\u0275inj=t.cJS({imports:[f.ez,k.K,D.c8,rt,Ht.kb,Wt.UteisModule]})}}]);