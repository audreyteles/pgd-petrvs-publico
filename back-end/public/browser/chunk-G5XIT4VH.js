import{a as ae}from"./chunk-UFS3OPCG.js";import{b as ne}from"./chunk-76VPKZU2.js";import{a as h,b as v}from"./chunk-RMYSPY7H.js";import{b as S,d as te,fa as re,i as oe,l as ie,s as z}from"./chunk-XHTD5OAS.js";import{b as Y,c as Z,d as $,e as x,h as ee,s as N}from"./chunk-KODYKPWY.js";import"./chunk-ORJB5SCJ.js";import{Aa as L,Bb as W,Da as q,Fa as s,Fb as X,Ga as m,Ha as d,La as H,Ma as M,P as g,U as C,Ua as A,V as _,Va as I,Wa as E,Xa as w,Ya as D,Z as G,Za as V,_ as Q,_a as U,ba as b,ic as J,ma as n,na as y,nd as O,oc as j,pc as K,sb as F,va as T,xa as u,ya as f,za as l}from"./chunk-6YMI2QVU.js";var c=class extends K{constructor(t){super(),this.codigo=null,this.nome="",this.sigla="",this.icone="",this.cor="",this.horas=0,this.integracao=0,this.data_inicio=new Date,this.data_fim=new Date,this.situacao="teste",this.initialization(t)}};var P=(()=>{let t=class t extends ae{constructor(a){super(a,c,O),this.injector=a,this.validate=(o,e)=>{let r=null;return["nome"].indexOf(e)>=0&&!o.value?.length?r="Obrigat\xF3rio":["integracao"].indexOf(e)>=0&&o.value==1&&(r="A integra\xE7\xE3o \xE9 feita automaticamente."),r},this.titleEdit=o=>"Editando "+this.lex.translate("Tipo de Motivo de Afastamento")+": "+(o?.nome||""),this.title=this.lex.translate("Motivos de Afastamento"),this.form=this.fh.FormBuilder({codigo:{default:null},nome:{default:""},sigla:{default:""},icone:{default:""},situacao:{default:"teste"},cor:{default:""},horas:{default:1},data_inicio:{default:Date.now()},data_fim:{default:Date.now()},integracao:{default:0}},this.cdRef,this.validate)}checkIntegracao(){let a=!this.form?.controls.integracao.value;return a&&this.form?.controls.codigo.value!=null&&(this.form?.controls.codigo.setValue(null),this.cdRef.markForCheck()),a?"disable":void 0}loadData(a,o){let e=Object.assign({},o.value);o.patchValue(this.util.fillForm(e,a))}initializeData(a){a.patchValue(new c)}saveData(a){return new Promise((o,e)=>{let r=this.util.fill(new c,this.entity);o(this.util.fillForm(r,this.form.value))})}};t.\u0275fac=function(o){return new(o||t)(y(b))},t.\u0275cmp=C({type:t,selectors:[["app-tipo-motivo-afastamento-form"]],viewQuery:function(o,e){if(o&1&&A(z,5),o&2){let r;I(r=E())&&(e.editableForm=r.first)}},features:[T],decls:10,vars:17,consts:[["initialFocus","nome",3,"submit","cancel","form","disabled","title"],[1,"row"],["label","Descri\xE7\xE3o","controlName","nome","required","",3,"size"],["label","Integra\xE7\xE3o","controlName","integracao","labelInfo","Se esse motivo \xE9 integrado a outro sistema. ","required","",3,"size","items"],["label","C\xF3digo","controlName","codigo","labelInfo","C\xF3digo do Motivo de Afastamento vindo de outro sistema. ",3,"size","disabled"],["label","Sigla","controlName","sigla","labelInfo","Sigla do afastamento.","required","",3,"size"],["label","Formato","controlName","horas","labelInfo","Se o afastamento ser\xE1 contado em Dias ou em Horas. ",3,"size","items"],["label","\xCDcone","controlName","icone",3,"size","items"],["label","Cor","controlName","cor",3,"size"]],template:function(o,e){o&1&&(s(0,"editable-form",0),M("submit",function(){return e.onSaveData()})("cancel",function(){return e.onCancel()}),s(1,"div",1),d(2,"input-text",2)(3,"input-radio",3)(4,"input-text",4)(5,"input-text",5),m(),s(6,"div",1),d(7,"input-radio",6)(8,"input-select",7)(9,"input-color",8),m()()),o&2&&(l("form",e.form)("disabled",e.formDisabled)("title",e.isModal?"":e.title),n(2),l("size",5),f("maxlength",250),n(),l("size",2)("items",e.lookup.SIMNAO),n(),l("size",3)("disabled",e.checkIntegracao()),f("maxlength",250),n(),l("size",2),f("maxlength",250),n(2),l("size",3)("items",e.lookup.FORMATO_HORA),n(),l("size",5)("items",e.lookup.ICONES),n(),l("size",4))},dependencies:[z,S,ie,oe,te]});let i=t;return i})();function pe(i,t){i&1&&d(0,"toolbar")}function de(i,t){if(i&1&&(d(0,"i"),s(1,"span"),D(2),m()),i&2){let p=t.row;q(p.icone),L("color",p.cor),n(),L("color",p.cor),n(),U(" ",p.nome,"")}}function ce(i,t){if(i&1&&(s(0,"span"),D(1),m()),i&2){let p=t.row;n(),V(p.horas?"Horas":"Dias")}}function fe(i,t){if(i&1&&(s(0,"span"),D(1),m()),i&2){let p=t.row;n(),V(p.integracao?"Sim (c\xF3d. "+p.codigo+")":"N\xE3o")}}var le=(()=>{let t=class t extends ne{constructor(a){super(a,c,O),this.injector=a,this.filterWhere=o=>{let e=[],r=o.value;return r.nome?.length&&e.push(["nome","like","%"+r.nome.trim().replace(" ","%")+"%"]),e},this.title=this.lex.translate("Motivos de Afastamento"),this.code="MOD_TIPO_MTV_AFT",this.filter=this.fh.FormBuilder({codigo:{default:null},nome:{default:""},icone:{default:""},cor:{default:""},horas:{default:""},integracao:{default:""},data_inicio:{default:""},data_fim:{default:""}}),this.auth.hasPermissionTo("MOD_TIPO_MTV_AFT")&&this.options.push({icon:"bi bi-info-circle",label:"Informa\xE7\xF5es",onClick:this.consult.bind(this)}),this.auth.hasPermissionTo("MOD_TIPO_MTV_AFT_EXCL")&&this.options.push({icon:"bi bi-trash",label:"Excluir",onClick:this.delete.bind(this)}),this.addOption(this.OPTION_LOGS,"MOD_AUDIT_LOG")}filterClear(a){a.controls.nome.setValue(""),super.filterClear(a)}};t.\u0275fac=function(o){return new(o||t)(y(b))},t.\u0275cmp=C({type:t,selectors:[["app-tipo-motivo-afastamento-list"]],viewQuery:function(o,e){if(o&1&&A(N,5),o&2){let r;I(r=E())&&(e.grid=r.first)}},features:[T],decls:17,vars:27,consts:[["columnDescricao",""],["columnEmHoras",""],["columnIntegrado",""],[3,"select","dao","add","title","orderBy","groupBy","join","selectable","hasAdd","hasEdit"],[4,"ngIf"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["controlName","nome","placeholder","Nome...",3,"size","label","control"],["title","Descri\xE7\xE3o",3,"template"],["title","Formato",3,"template"],["title","Integrado",3,"template"],["type","options",3,"onEdit","options"],[3,"rows"]],template:function(o,e){if(o&1){let r=H();s(0,"grid",3),M("select",function(R){return G(r),Q(e.onSelect(R))}),u(1,pe,1,0,"toolbar",4),s(2,"filter",5)(3,"div",6),d(4,"input-text",7),m()(),s(5,"columns")(6,"column",8),u(7,de,3,7,"ng-template",null,0,F),m(),s(9,"column",9),u(10,ce,2,1,"ng-template",null,1,F),m(),s(12,"column",10),u(13,fe,2,1,"ng-template",null,2,F),m(),d(15,"column",11),m(),d(16,"pagination",12),m()}if(o&2){let r=w(8),k=w(11),R=w(14);l("dao",e.dao)("add",e.add)("title",e.isModal?"":e.title)("orderBy",e.orderBy)("groupBy",e.groupBy)("join",e.join)("selectable",e.selectable)("hasAdd",e.auth.hasPermissionTo("MOD_TIPO_MTV_AFT_INCL"))("hasEdit",e.auth.hasPermissionTo("MOD_TIPO_MTV_AFT_EDT")),n(),l("ngIf",!e.selectable),n(),l("deleted",e.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",e.filter)("where",e.filterWhere)("submit",e.filterSubmit.bind(e))("clear",e.filterClear.bind(e))("collapseChange",e.filterCollapseChange.bind(e))("collapsed",!e.selectable&&e.filterCollapsed),n(2),l("size",12)("label","Nome "+e.lex.translate("motivo de afastamento"))("control",e.filter.controls.nome),f("maxlength",250),n(2),l("template",r),n(3),l("template",k),n(3),l("template",R),n(3),l("onEdit",e.edit)("options",e.options),n(),l("rows",e.rowsLimit)}},dependencies:[W,N,$,Z,x,Y,ee,S]});let i=t;return i})();var ue=[{path:"",component:le,canActivate:[h],resolve:{config:v},runGuardsAndResolvers:"always",data:{title:"Motivos de Afastamento"}},{path:"new",component:P,canActivate:[h],resolve:{config:v},runGuardsAndResolvers:"always",data:{title:"Inclus\xE3o de Motivos de Afastamento",modal:!0}},{path:":id/edit",component:P,canActivate:[h],resolve:{config:v},runGuardsAndResolvers:"always",data:{title:"Edi\xE7\xE3o de Motivos de Afastamento",modal:!0}},{path:":id/consult",component:P,canActivate:[h],resolve:{config:v},runGuardsAndResolvers:"always",data:{title:"Consulta a Motivos de Afastamento",modal:!0}}],se=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=_({type:t}),t.\u0275inj=g({imports:[j.forChild(ue),j]});let i=t;return i})();var $e=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=_({type:t}),t.\u0275inj=g({imports:[X,re,J,se]});let i=t;return i})();export{$e as TipoMotivoAfastamentoModule};
