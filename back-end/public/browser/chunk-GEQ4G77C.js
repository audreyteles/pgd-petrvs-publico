import{q as le}from"./chunk-OWVQDN4P.js";import{Ba as A,Da as f,Dc as L,Ec as Z,Fa as s,Ga as l,Ha as m,Ia as I,Ic as ee,Ja as E,Kc as te,La as b,Lc as ie,Ma as v,Na as r,O as N,Qa as X,R,Td as re,U as V,Ua as B,Uc as ne,Ud as se,Va as q,Vc as oe,Wa as j,Wc as ae,X as U,Xa as $,Ya as u,Z as g,Za as D,_ as h,_a as x,ba as M,h as O,hb as z,ja as P,jc as W,kb as H,lb as Q,lc as K,ma as o,na as F,sb as w,ta as G,tb as J,xa as p,xc as k,ya as C,yc as Y,za as c}from"./chunk-SDCVQHKS.js";var me=["dialogs"],pe=()=>["home"],_e=i=>({route:i});function ue(i,a){}function ge(i,a){i&1&&(s(0,"button",26),m(1,"span",27),l()),i&2&&C("data-bs-toggle","collapse")("data-bs-target","#navbarSupportedContent")}function he(i,a){if(i&1){let e=b();s(0,"div",32)(1,"button",33),v("click",function(){let n=g(e).$implicit,d=r(3);return h(d.onRestoreClick(n))}),s(2,"span",34),m(3,"i"),u(4),l()()()}if(i&2){let e=a.$implicit;o(3),f(e.icon||"bi bi-window-stack"),o(),x(" ",e.title||"Minimizado"," ")}}function ve(i,a){if(i&1&&(s(0,"div",28),m(1,"div",29),s(2,"div",30),p(3,he,5,3,"div",31),l()()),i&2){let e=r(2);o(3),c("ngForOf",e.dialog.minimized)}}function be(i,a){i&1&&m(0,"div",29)}function Ce(i,a){if(i&1&&m(0,"i",45),i&2){let e=r().$implicit;f(e.icon),X("title",e.hint||e.label||""),C("data-bs-toggle","tooltip")}}function fe(i,a){if(i&1&&(s(0,"button",46)(1,"span",47),u(2,"Toggle Dropdown"),l()()),i&2){let e=r().$implicit,t=r(4);f("btn dropdown-toggle dropdown-toggle-split "+(e.color||"btn-outline-primary")),A("disabled",t.isButtonRunning(e)),C("id",t.buttonId(e))("data-bs-toggle","dropdown")}}function Se(i,a){if(i&1&&m(0,"i"),i&2){let e=r().$implicit;f(e.icon)}}function xe(i,a){if(i&1){let e=b();s(0,"li")(1,"a",50),v("click",function(){let n=g(e).$implicit,d=r(6);return h(d.onToolbarButtonClick(n))}),p(2,Se,1,2,"i",51),u(3),l()()}if(i&2){let e=a.$implicit;o(2),c("ngIf",e.icon==null?null:e.icon.length),o(),x(" ",e.label||""," ")}}function Oe(i,a){if(i&1&&(s(0,"ul",48),p(1,xe,4,2,"li",49),l()),i&2){let e=r().$implicit,t=r(4);A("dropdown-menu-end",e.onClick),C("aria-labelledby",t.buttonId(e)),o(),c("ngForOf",e.items)}}function Ae(i,a){if(i&1){let e=b();s(0,"div",32)(1,"button",41),v("click",function(){let n=g(e).$implicit,d=r(4);return h(d.onToolbarButtonClick(n))}),p(2,Ce,1,4,"i",42),u(3),l(),p(4,fe,3,6,"button",43)(5,Oe,2,4,"ul",44),l()}if(i&2){let e=a.$implicit,t=r(4);o(),f("btn "+(e.color||"btn-outline-primary")),A("disabled",t.isButtonRunning(e))("dropdown-toggle",e.items&&!e.onClick),C("id",(e.onClick?"_":"")+t.buttonId(e))("data-bs-toggle",e.items&&!e.onClick?"dropdown":void 0),o(),c("ngIf",e.icon==null?null:e.icon.length),o(),x(" ",e.label||""," "),o(),c("ngIf",(e.items==null?null:e.items.length)&&e.onClick),o(),c("ngIf",e.items)}}function Te(i,a){if(i&1&&(s(0,"div",40),p(1,Ae,6,12,"div",31),l()),i&2){let e=r(3);o(),c("ngForOf",e.gb.toolbarButtons)}}function Ie(i,a){if(i&1){let e=b();s(0,"a",63),v("click",function(){g(e);let n=r(2).$implicit,d=r(7);return h(d.openModule(n))}),m(1,"i"),u(2),l()}if(i&2){let e=r(2).$implicit,t=r(7);f(t.menuItemClass("dropdown-item",e)),o(),f(e.icon),o(),x(" ",e.name," ")}}function Ee(i,a){i&1&&m(0,"hr",64)}function Re(i,a){if(i&1&&(s(0,"li"),p(1,Ie,3,5,"a",62)(2,Ee,1,0,"ng-template",null,1,w),l()),i&2){let e=$(3),t=r().$implicit;o(),c("ngIf",t!="-")("ngIfElse",e)}}function Me(i,a){if(i&1&&(I(0),p(1,Re,4,2,"li",25),E()),i&2){let e=a.$implicit,t=r(7);o(),c("ngIf",e&&(!(e.permition!=null&&e.permition.length)||t.auth.hasPermissionTo(e.permition)))}}function Pe(i,a){if(i&1&&(s(0,"ul",59)(1,"div",60)(2,"div",61),p(3,Me,2,1,"ng-container",49),l()()()),i&2){let e=r(2).$implicit;C("aria-labelledby",e.id),o(3),c("ngForOf",e.menu)}}function De(i,a){if(i&1){let e=b();s(0,"li",56)(1,"a",57),v("click",function(){g(e);let n=r().$implicit,d=r(4);return h(d.openModule(n))}),u(2),l(),p(3,Pe,4,2,"ul",58),l()}if(i&2){let e=r().$implicit,t=r(4);c("ngClass",e.menu!=null&&e.menu.length?"dropdown":""),o(),f(t.menuItemClass("nav-link"+(e.route?"":" dropdown-toggle"),e)),C("id",e.id)("data-bs-target",e.menu!=null&&e.menu.length?"":".navbar-collapse.show")("data-bs-toggle",e.menu!=null&&e.menu.length?"dropdown":"collapse"),o(),x(" ",e.name," "),o(),c("ngIf",!e.route)}}function ye(i,a){if(i&1&&(I(0),p(1,De,4,8,"li",55),E()),i&2){let e=a.$implicit,t=r(4);o(),c("ngIf",e&&(!(e.permition!=null&&e.permition.length)||t.auth.hasPermissionTo(e.permition)))}}function Ue(i,a){if(i&1){let e=b();s(0,"ul",52)(1,"li",53)(2,"a",54),v("click",function(){g(e);let n=r(3);return h(n.gb.goHome())}),u(3,"Home"),l()(),p(4,ye,2,1,"ng-container",49),l()}if(i&2){let e=r(3);o(2),f(e.menuItemClass("nav-link",Q(4,_e,H(3,pe)))),o(2),c("ngForOf",e.modulo)}}function we(i,a){i&1&&(s(0,"div",65),m(1,"span",47),l())}function ke(i,a){if(i&1&&(s(0,"div",35),p(1,be,1,0,"div",36)(2,Te,2,1,"div",37)(3,Ue,5,6,"ul",38)(4,we,2,0,"div",39),l()),i&2){let e=r(2);o(),c("ngIf",e.gb.isToolbar||!e.auth.logged),o(),c("ngIf",e.gb.toolbarButtons==null?null:e.gb.toolbarButtons.length),o(),c("ngIf",!e.gb.isToolbar&&e.auth.logged),o(),c("ngIf",e.auth.logging)}}function Le(i,a){if(i&1){let e=b();s(0,"li",76),v("click",function(){g(e);let n=r().$implicit,d=r(3);return h(d.gb.setContexto(n.key))}),s(1,"a",77),m(2,"i"),u(3),l()()}if(i&2){let e=r().$implicit,t=r(3);o(),A("active",(t.gb.contexto==null?null:t.gb.contexto.name)==e.name),o(),f(e.icon),o(),x(" ",e.name," ")}}function Ne(i,a){if(i&1&&(I(0),p(1,Le,4,5,"li",75),E()),i&2){let e=a.$implicit,t=r(3);o(),c("ngIf",(t.gb.contexto==null?null:t.gb.contexto.key)!=e.key&&t.auth.hasPermissionTo(e.permition))}}function Ve(i,a){if(i&1&&(s(0,"li",66)(1,"a",67)(2,"span",68),u(3),m(4,"i",69),l(),s(5,"span",70),m(6,"i"),l()(),s(7,"div",71)(8,"div",60)(9,"div",61)(10,"small",72),u(11,"Escolha o m\xF3dulo que deseja usar"),l(),m(12,"div",73),s(13,"ul",74),p(14,Ne,2,1,"ng-container",49),l()()()()()),i&2){let e=r(2);o(),C("data-bs-toggle","dropdown"),o(2),x(" ",(e.gb.contexto==null?null:e.gb.contexto.name)||"Selecione..."," "),o(3),f(e.gb.contexto==null?null:e.gb.contexto.icon),o(8),c("ngForOf",e.menuContexto)}}function Fe(i,a){if(i&1&&(s(0,"span",78),u(1),s(2,"span",47),u(3,"Mensagens n\xE3o lidas"),l()()),i&2){let e=r(2);o(),x(" ",e.notificacao.naoLidas>9?"9+":e.notificacao.naoLidas," ")}}function Ge(i,a){if(i&1){let e=b();s(0,"li",53)(1,"a",105),v("click",function(){let n=g(e).$implicit,d=r(4);return h(d.selecionaUnidade(n.id))}),u(2),l()()}if(i&2){let e=a.$implicit,t=r(4);o(),A("active",e.id==(t.auth.unidade==null?null:t.auth.unidade.id)),o(),D(e.sigla)}}function Xe(i,a){if(i&1&&(s(0,"ul",74),p(1,Ge,3,3,"li",104),l()),i&2){let e=r(3);o(),c("ngForOf",e.unidades)}}function Be(i,a){if(i&1){let e=b();s(0,"li",53)(1,"a",93),v("click",function(){g(e);let n=r(3);return h(n.go.navigate({route:["configuracoes","unidade",n.auth.unidade.id,"edit"]},{root:!0,modal:!0}))}),m(2,"i",106),u(3," Unidade "),l()()}}function qe(i,a){if(i&1){let e=b();s(0,"li",53)(1,"a",93),v("click",function(){g(e);let n=r(3);return h(n.go.navigate({route:["configuracoes","unidade","",n.auth.unidade.id,"integrante"]},{metadata:{unidade:n.auth.unidade}}))}),m(2,"i",107),u(3," Integrantes "),l()()}}function je(i,a){if(i&1){let e=b();s(0,"button",108),v("click",function(){g(e);let n=r(3);return h(n.toolbarLogin())}),u(1,` Login
`),l()}}function $e(i,a){if(i&1){let e=b();s(0,"button",33),v("click",function(){g(e);let n=r(3);return h(n.onCollapseContainerClick())}),m(1,"i",45),l()}if(i&2){let e=r(3);o(),f("bi "+(e.collapseContainer?"bi bi-plus":"bi bi-dash")),c("title",e.collapseContainer?"Expandir Petrvs":"Contrair Petrvs"),C("data-bs-toggle","tooltip")}}function ze(i,a){if(i&1){let e=b();I(0),s(1,"li",79)(2,"a",80),u(3),m(4,"i",69),l(),s(5,"div",81)(6,"div",60)(7,"div",82),p(8,Xe,2,1,"ul",83),l()()()(),s(9,"li",66)(10,"a",84)(11,"div",85),m(12,"profile-picture",86),l()(),s(13,"div",87)(14,"div",60)(15,"div",88)(16,"div",89)(17,"div",90),m(18,"profile-picture",86),l(),s(19,"h6",91),u(20),l()()(),s(21,"ul",92)(22,"li",53)(23,"a",93),v("click",function(){g(e);let n=r(2);return h(n.go.navigate({route:["configuracoes","usuario",n.auth.usuario.id,"edit"]},{root:!0,modal:!0}))}),m(24,"i",94),u(25," Perfil "),l()(),s(26,"li",53)(27,"a",93),v("click",function(){g(e);let n=r(2);return h(n.go.navigate({route:["configuracoes","preferencia","usuario",n.auth.usuario.id]},{root:!0,modal:!0}))}),m(28,"i",95),u(29," Prefer\xEAncias "),l()(),p(30,Be,4,0,"li",96)(31,qe,4,0,"li",96),l(),s(32,"div",97)(33,"div",98)(34,"li",99)(35,"a",100),v("click",function(){g(e);let n=r(2);return h(n.logout())}),m(36,"i",101),u(37," Sair "),l()()()()()()(),p(38,je,2,0,"button",102)(39,$e,2,4,"button",103),E()}if(i&2){let e=r(2);o(2),C("data-bs-toggle","dropdown"),o(),x(" ",e.auth.unidade==null?null:e.auth.unidade.sigla," "),o(5),c("ngIf",e.unidades==null?null:e.unidades.length),o(2),C("data-bs-toggle","dropdown"),o(2),c("url",e.usuarioFoto)("hint",(e.auth.usuario==null?null:e.auth.usuario.nome)||"Usu\xE1rio desconhecido"),o(6),c("url",e.usuarioFoto)("hint",(e.auth.usuario==null?null:e.auth.usuario.nome)||"Usu\xE1rio desconhecido"),o(2),D(e.usuarioNome),o(10),c("ngIf",e.unidadeService.isGestorUnidade(e.auth.unidade,!0)),o(),c("ngIf",e.unidadeService.isGestorUnidade(e.auth.unidade,!0)),o(7),c("ngIf",e.gb.isToolbar&&!e.auth.logged&&e.gb.requireLogged),o(),c("ngIf",e.gb.isEmbedded&&e.auth.logged&&!e.gb.isToolbar)}}function He(i,a){if(i&1){let e=b();s(0,"nav",8)(1,"div",9),p(2,ge,2,2,"button",10),s(3,"a",11)(4,"div",12),m(5,"img",13),s(6,"span",14),u(7,"PETRVS"),l()()()(),p(8,ve,4,1,"div",15)(9,ke,5,4,"div",16),s(10,"ul",17),p(11,Ve,15,5,"li",18),s(12,"li",19)(13,"a",20),v("click",function(){g(e);let n=r();return h(n.openModule({route:["suporte"]}))}),m(14,"i",21),l()(),s(15,"li",19)(16,"a",22),v("click",function(){g(e);let n=r();return h(n.go.navigate({route:["uteis","notificacoes"]}))}),m(17,"i",23),p(18,Fe,4,1,"span",24),l()(),p(19,ze,40,13,"ng-container",25),l()()}if(i&2){let e=r();A("fixed-top",!e.gb.isEmbedded),o(2),c("ngIf",!e.gb.isToolbar),o(3),c("src",e.gb.getResourcePath("assets/images/icon_"+e.gb.theme+".png"),P),o(3),c("ngIf",e.isMinimized),o(),c("ngIf",!e.isMinimized),o(2),c("ngIf",e.utils.isDeveloper()),o(2),C("data-bs-toggle","tooltip"),o(5),c("ngIf",e.notificacao.naoLidas),o(),c("ngIf",!e.auth.logging&&e.auth.logged)}}function Qe(i,a){if(i&1&&(s(0,"div",109)(1,"span")(2,"u")(3,"strong"),u(4),l()()(),m(5,"br"),u(6),l()),i&2){let e=r();o(4),D((e.error||"").split("&")[0]),o(2),x("",(e.error||"").split("&")[1],`
`)}}function Je(i,a){if(i&1&&m(0,"top-alert",110),i&2){let e=a.$implicit;c("id",e.id)("close",e.close)("message",e.message)("closable",e.closable)}}function We(i,a){if(i&1&&(s(0,"footer",111)(1,"div",112)(2,"div")(3,"div",113)(4,"p",114)(5,"small",115),u(6),l()()()(),s(7,"div",116),m(8,"img",117)(9,"img",117),l()()()),i&2){let e=r();o(6),x("Vers\xE3o: ",e.gb.VERSAO_SYS," "),o(2),c("src",e.gb.getResourcePath("assets/images/logo_pgd_"+(e.gb.theme!="light"?"light":"normal")+".png"),P),o(),c("src",e.gb.getResourcePath("assets/images/logo_gov_"+(e.gb.theme!="light"?"light":"normal")+".png"),P)}}var ce=(()=>{let a=class a{constructor(t){this.injector=t,this.title="petrvs",this.error="",this.unidadeHora="",this.menuSchema={},this.menuToolbar=[],this.menuContexto=[],a.instance=this,this.gb=t.get(Y),this.cdRef=t.get(J),this.auth=t.get(ae),this.dialog=t.get(Z),this.lex=t.get(te),this.router=t.get(K),this.route=t.get(W),this.go=t.get(k),this.allPages=t.get(le),this.utils=t.get(L),this.lookup=t.get(ee),this.entity=t.get(re),this.notificacao=t.get(ne),this.unidadeService=t.get(oe),this.notificacao.heartbeat(),this.auth.app=this,this.lex.app=this,this.gb.app=this,this.gb.isEmbedded&&this.gb.initialRoute?.length&&this.go.navigate({route:this.gb.initialRoute}),this.lex.cdRef=this.cdRef,this.setMenuVars()}setMenuVars(){this.menuSchema={CIDADES:{name:this.lex.translate("Cidades"),permition:"MOD_CID",route:["cadastros","cidade"],icon:this.entity.getIcon("Cidade")},EIXOS_TEMATICOS:{name:this.lex.translate("Eixos Tem\xE1ticos"),permition:"MOD_EXTM",route:["cadastros","eixo-tematico"],icon:this.entity.getIcon("EixoTematico")},ENTREGAS:{name:this.lex.translate("Modelos de Entregas"),permition:"MOD_ENTRG",route:["cadastros","entrega"],icon:this.entity.getIcon("Entrega")},FERIADOS:{name:this.lex.translate("Feriados"),permition:"MOD_FER",route:["cadastros","feriado"],icon:this.entity.getIcon("Feriado")},MATERIAIS_SERVICOS:{name:this.lex.translate("Materiais e Servi\xE7os"),permition:"",route:["cadastros","material-servico"],icon:this.entity.getIcon("MaterialServico")},TEMPLATES:{name:this.lex.translate("Templates"),permition:"MOD_TEMP",route:["cadastros","templates"],icon:this.entity.getIcon("Template"),params:{modo:"listagem"}},TIPOS_TAREFAS:{name:this.lex.translate("Tipos de Tarefas"),permition:"MOD_TIPO_TRF",route:["cadastros","tipo-tarefa"],icon:this.entity.getIcon("TipoTarefa")},TIPOS_ATIVIDADES:{name:this.lex.translate("Tipos de Atividades"),permition:"MOD_TIPO_ATV",route:["cadastros","tipo-atividade"],icon:this.entity.getIcon("TipoAtividade")},TIPOS_AVALIACOES:{name:this.lex.translate("Tipos de Avalia\xE7\xE3o"),permition:"MOD_TIPO_AVAL",route:["cadastros","tipo-avaliacao"],icon:this.entity.getIcon("TipoAvaliacao")},TIPOS_DOCUMENTOS:{name:this.lex.translate("Tipos de Documento"),permition:"MOD_TIPO_DOC",route:["cadastros","tipo-documento"],icon:this.entity.getIcon("TipoDocumento")},TIPOS_JUSTIFICATIVAS:{name:this.lex.translate("Tipos de Justificativa"),permition:"MOD_TIPO_JUST",route:["cadastros","tipo-justificativa"],icon:this.entity.getIcon("TipoJustificativa")},TIPOS_MODALIDADES:{name:this.lex.translate("Tipos de Modalidade"),permition:"MOD_TIPO_MDL",route:["cadastros","tipo-modalidade"],icon:this.entity.getIcon("TipoModalidade")},TIPOS_MOTIVOS_AFASTAMENTOS:{name:this.lex.translate("Tipos de Motivo de Afastamento"),permition:"MOD_TIPO_MTV_AFT",route:["cadastros","tipo-motivo-afastamento"],icon:this.entity.getIcon("TipoMotivoAfastamento")},TIPOS_PROCESSOS:{name:this.lex.translate("Tipos de Processo"),permition:"MOD_TIPO_PROC",route:["cadastros","tipo-processo"],icon:this.entity.getIcon("TipoProcesso")},AFASTAMENTOS:{name:this.lex.translate("Afastamentos"),permition:"MOD_AFT",route:["gestao","afastamento"],icon:this.entity.getIcon("Afastamento")},OCORRENCIAS:{name:this.lex.translate("Ocorrencias"),permition:"MOD_OCOR",route:["gestao","ocorrencia"],icon:this.entity.getIcon("Ocorrencia")},CADEIAS_VALORES:{name:this.lex.translate("Cadeias de Valores"),permition:"MOD_CADV",route:["gestao","cadeia-valor"],icon:this.entity.getIcon("CadeiaValor")},ATIVIDADES:{name:this.lex.translate("Atividades"),permition:"MOD_ATV",route:["gestao","atividade"],icon:this.entity.getIcon("Atividade")},PLANEJAMENTOS_INSTITUCIONAIS:{name:this.lex.translate("Planejamentos Institucionais"),permition:"MOD_PLAN_INST",route:["gestao","planejamento"],icon:this.entity.getIcon("Planejamento")},PLANOS_ENTREGAS:{name:this.lex.translate("Planos de Entregas"),permition:"MOD_PENT",route:["gestao","plano-entrega"],icon:this.entity.getIcon("PlanoEntrega")},PLANOS_TRABALHOS:{name:this.lex.translate("Planos de Trabalho"),permition:"MOD_PTR",route:["gestao","plano-trabalho"],icon:this.entity.getIcon("PlanoTrabalho")},CONSOLIDACOES:{name:this.lex.translate("Consolida\xE7\xF5es"),permition:"MOD_PTR_CSLD",route:["gestao","plano-trabalho","consolidacao"],icon:this.entity.getIcon("PlanoTrabalhoConsolidacao")},PROGRAMAS_GESTAO:{name:this.lex.translate("Programas de Gest\xE3o"),permition:"MOD_PRGT",route:["gestao","programa"],icon:this.entity.getIcon("Programa")},HABILITACOES_PROGRAMA:{name:this.lex.translate("Habilita\xE7\xF5es"),permition:"MOD_PART",route:["gestao","programa","participantes"],icon:this.entity.getIcon("Programa")},PORTIFOLIOS:{name:this.lex.translate("Portif\xF3lios"),permition:"MOD_PROJ",route:["gestao","projeto"],icon:this.entity.getIcon("Projeto")},PROJETOS:{name:this.lex.translate("Projetos"),permition:"MOD_PROJ",route:["gestao","projeto"],icon:this.entity.getIcon("Projeto")},EXECUCAO_PLANOS_ENTREGAS:{name:this.lex.translate("Planos de Entregas"),permition:"MOD_PENT",route:["execucao","plano-entrega"],icon:this.entity.getIcon("PlanoEntrega"),params:{execucao:!0}},FORCAS_TRABALHOS_SERVIDORES:{name:"For\xE7a de Trabalho - Servidor",permition:"MOD_PTR_CONS",route:["relatorios","forca-de-trabalho","servidor"],icon:this.entity.getIcon("RelatorioServidor")},FORCAS_TRABALHOS_AREAS:{name:"For\xE7a de Trabalho - \xC1rea",permition:"MOD_PTR_CONS",route:["relatorios","forca-de-trabalho","area"],icon:this.entity.getIcon("RelatorioArea")},AVALIACAO_CONSOLIDACAO_PLANO_TRABALHO:{name:this.lex.translate("Consolida\xE7\xF5es"),permition:"MOD_PTR_CSLD_AVAL",route:["avaliacao","plano-trabalho","consolidacao","avaliacao"],icon:this.entity.getIcon("PlanoTrabalho")},AVALIACAO_PLANOS_ENTREGAS:{name:this.lex.translate("Planos de Entregas"),permition:"MOD_PENT_AVAL",route:["avaliacao","plano-entrega"],icon:this.entity.getIcon("PlanoEntrega"),params:{avaliacao:!0}},PREFERENCIAS:{name:"Prefer\xEAncias",permition:"",route:["configuracoes","preferencia"],metadata:{root:!0,modal:!0},icon:this.entity.getIcon("Preferencia")},ENTIDADES:{name:this.lex.translate("Entidades"),permition:"MOD_CFG_ENTD",route:["configuracoes","entidade"],icon:this.entity.getIcon("Entidade")},UNIDADES:{name:this.lex.translate("Unidades"),permition:"MOD_CFG_UND",route:["configuracoes","unidade"],icon:this.entity.getIcon("Unidade")},USUARIOS:{name:this.lex.translate("Usu\xE1rios"),permition:"MOD_CFG_USER",route:["configuracoes","usuario"],icon:this.entity.getIcon("Usuario")},PERFIS:{name:this.lex.translate("Perfis"),permition:"MOD_CFG_PERFS",route:["configuracoes","perfil"],icon:this.entity.getIcon("Perfil")},SOBRE:{name:this.lex.translate("Sobre"),permition:"",route:["configuracoes","sobre"],icon:""},ROTINAS_INTEGRACAO:{name:"Rotina de Integra\xE7\xE3o",permition:"",route:["rotinas","integracao"],icon:this.entity.getIcon("Integracao")},LOGS_ALTERACOES:{name:"Log das Altera\xE7\xF5es",permition:"",route:["logs","change"],icon:this.entity.getIcon("Change")},LOGS_ERROS:{name:"Log dos Erros",permition:"",route:["logs","error"],icon:this.entity.getIcon("Error")},LOGS_TRAFEGOS:{name:"Log do Tr\xE1fego",permition:"",route:["logs","traffic"],icon:this.entity.getIcon("Traffic")},LOGS_TESTES_EXPEDIENTES:{name:"Teste Expediente",permition:"",route:["teste"],icon:this.entity.getIcon("Teste")},TESTE_CALCULA_DATATEMPO:{name:"Teste calculaDataTempo",permition:"",route:["teste","calcula-tempo"],icon:this.entity.getIcon("Teste")},CURRICULUM_CADASTRO_PESSOAL:{name:this.lex.translate("Dados Pessoais"),permition:"MOD_RX_CURR",route:["raiox","pessoal"],icon:"bi bi-file-person"},CURRICULUM_CADASTRO_PROFISSIONAL:{name:this.lex.translate("Dados Profissionais"),permition:"MOD_RX_CURR",route:["raiox","profissional"],icon:"fa fa-briefcase"},CURRICULUM_CADASTRO_ATRIBUTOS:{name:this.lex.translate("Atributos Comportamentais"),permition:"MOD_RX_CURR",route:["raiox","atributos"],icon:"fa fa-brain"},CURRICULUM_CADASTRO_ATRIBUTOS_SOFTSKILLS:{name:this.lex.translate("Soft Skills"),permition:"MOD_RX_CURR",route:["raiox","teste"],icon:"fa fa-brain"},CURRICULUM_CADASTRO_ATRIBUTOS_B5:{name:this.lex.translate("Big Five - B5"),permition:"MOD_RX_CURR",route:["raiox","big5"],icon:"fa fa-brain"},CURRICULUM_CADASTRO_ATRIBUTOS_DASS:{name:this.lex.translate("DASS"),permition:"MOD_RX_CURR",route:["raiox","big5"],icon:"fa fa-brain"},CURRICULUM_CADASTRO_ATRIBUTOS_SRQ20:{name:this.lex.translate("SRQ-20"),permition:"MOD_RX_CURR",route:["raiox","big5"],icon:"fa fa-brain"},CURRICULUM_CADASTRO_ATRIBUTOS_QVT:{name:this.lex.translate("QVT"),permition:"MOD_RX_CURR",route:["raiox","qvt"],icon:""},CURRICULUM_OPORTUNIDADES:{name:this.lex.translate("Oportunidades"),permition:"MOD_RX_OPO",route:["raiox"],icon:"bi bi-lightbulb-fill"},CURRICULUM_CADASTRO_AREAS_ATIVIDADES_EXTERNAS:{name:this.lex.translate("\xC1reas de Atividade Externa"),permition:"MOD_RX_OUT",route:["raiox","cadastros","area-atividade-externa"],icon:"bi bi-arrows-fullscreen"},CURRICULUM_CADASTRO_AREAS_CONHECIMENTO:{name:this.lex.translate("\xC1reas de Conhecimento"),permition:"MOD_RX_OUT",route:["raiox","cadastros","area-conhecimento"],icon:"bi bi-mortarboard"},CURRICULUM_CADASTRO_AREAS_TEMATICAS:{name:this.lex.translate("\xC1reas Tem\xE1ticas"),permition:"MOD_RX_OUT",route:["raiox","cadastros","area-tematica"],icon:"bi bi-box-arrow-in-down"},CURRICULUM_CADASTRO_CAPACIDADES_TECNICAS:{name:this.lex.translate("Capacidades T\xE9cnicas"),permition:"MOD_RX_OUT",route:["raiox","cadastros","capacidade-tecnica"],icon:"bi bi-arrows-angle-contract"},CURRICULUM_CADASTRO_CARGOS:{name:this.lex.translate("Cargos"),permition:"MOD_RX_OUT",route:["raiox","cadastros","cargo"],icon:"bi bi-person-badge"},CURRICULUM_CADASTRO_CENTROS_TREINAMENTO:{name:this.lex.translate("Centros de Treinamento"),permition:"MOD_RX_OUT",route:["raiox","cadastros","centro-treinamento"],icon:"bi bi-building-fill"},CURRICULUM_CADASTRO_CURSOS:{name:this.lex.translate("Cursos"),permition:"MOD_RX_OUT",route:["raiox","cadastros","curso"],icon:"bi bi-mortarboard-fill"},CURRICULUM_CADASTRO_FUNCAO:{name:this.lex.translate("Fun\xE7\xF5es"),permition:"MOD_RX_OUT",route:["raiox","cadastros","funcao"],icon:"bi bi-check-circle-fill"},CURRICULUM_CADASTRO_GRUPOS_ESPECIALIZADOS:{name:this.lex.translate("Grupos Especializados"),permition:"MOD_RX_OUT",route:["raiox","cadastros","grupo-especializado"],icon:"bi bi-check-circle"},CURRICULUM_CADASTRO_DISCIPLINAS:{name:this.lex.translate("Disciplina"),permition:"MOD_RX_OUT",route:["raiox","cadastros","disciplina"],icon:"bi bi-list-check"},CURRICULUM_CADASTRO_QUESTIONARIOS_PERGUNTAS:{name:this.lex.translate("Question\xE1rios"),permition:"MOD_RX_OUT",route:["raiox","cadastros","questionario"],icon:"bi bi-patch-question"},CURRICULUM_CADASTRO_QUESTIONARIOS_RESPOSTAS:{name:this.lex.translate("Respostas"),permition:"MOD_RX_OUT",route:["raiox","cadastros","questionario","reposta"],icon:"bi bi-list-task"},CURRICULUM_CADASTRO_QUESTIONARIOS_TESTE:{name:this.lex.translate("Testes"),permition:"MOD_RX_OUT",route:["raiox","cadastros","questionario","teste"],icon:"bi bi-list-task"},CURRICULUM_CADASTRO_TIPOS_CURSOS:{name:this.lex.translate("Tipos de Curso"),permition:"MOD_RX_OUT",route:["raiox","cadastros","tipo-curso"],icon:"bi bi-box-seam"},CURRICULUM_PESQUISA_ADM:{name:this.lex.translate("Ca\xE7a-talentos"),permition:"MOD_RX_OUT",route:["raiox","pesquisa-adm"],icon:"bi bi-binoculars"},CURRICULUM_PESQUISA_USR:{name:this.lex.translate("Usu\xE1rio"),permition:"MOD_RX_OUT",route:["raiox","pesquisa-usuario"],icon:"bi bi-search"},PAINEL:{name:"Painel",permition:"",route:["panel"],icon:""},AUDITORIA:{name:"Auditoria",permition:"",route:["configuracoes","sobre"],icon:""}},this.moduloGestao=[{name:this.lex.translate("Planejamento"),permition:"MENU_GESTAO_ACESSO",id:"navbarDropdownGestaoPlanejamento",menu:[this.menuSchema.PLANEJAMENTOS_INSTITUCIONAIS,this.menuSchema.CADEIAS_VALORES,this.menuSchema.PROGRAMAS_GESTAO,this.menuSchema.HABILITACOES_PROGRAMA,this.menuSchema.PLANOS_ENTREGAS,this.menuSchema.PLANOS_TRABALHOS].sort(this.orderMenu)},{name:this.lex.translate("Execu\xE7\xE3o"),permition:"MENU_GESTAO_ACESSO",id:"navbarDropdownGestaoExecucao",menu:[this.menuSchema.EXECUCAO_PLANOS_ENTREGAS,Object.assign({},this.menuSchema.CONSOLIDACOES,{params:{tab:"USUARIO"}}),this.menuSchema.OCORRENCIAS,this.menuSchema.AFASTAMENTOS,this.menuSchema.ATIVIDADES].sort(this.orderMenu)},{name:this.lex.translate("Avalia\xE7\xE3o"),permition:"MENU_GESTAO_ACESSO",id:"navbarDropdownGestaoAvaliacao",menu:[this.menuSchema.AVALIACAO_CONSOLIDACAO_PLANO_TRABALHO,this.menuSchema.AVALIACAO_PLANOS_ENTREGAS].sort(this.orderMenu)},{name:this.lex.translate("Gerenciamento"),permition:"MENU_CONFIG_ACESSO",id:"navbarDropdownGestaoGerencial",menu:[this.menuSchema.ENTIDADES,this.menuSchema.UNIDADES,this.menuSchema.USUARIOS,this.menuSchema.PERFIS].sort(this.orderMenu)},{name:this.lex.translate("Cadastros"),permition:"MENU_CAD_ACESSO",id:"navbarDropdownGestaoCadastros",menu:[this.menuSchema.EIXOS_TEMATICOS,this.menuSchema.ENTREGAS,this.menuSchema.TIPOS_AVALIACOES,this.menuSchema.TIPOS_ATIVIDADES,this.menuSchema.TIPOS_JUSTIFICATIVAS,this.menuSchema.TIPOS_MODALIDADES,this.menuSchema.TIPOS_MOTIVOS_AFASTAMENTOS,this.menuSchema.TIPOS_TAREFAS].sort(this.orderMenu)}],this.moduloExecucao=[Object.assign({},this.menuSchema.PLANOS_TRABALHOS,{metadata:{minha_unidade:!0}}),this.menuSchema.ATIVIDADES,Object.assign({},this.menuSchema.CONSOLIDACOES,{params:{tab:"UNIDADE"}}),this.menuSchema.OCORRENCIAS],this.moduloAdministrador=[{name:this.lex.translate("Cadastros"),permition:"MENU_CAD_ACESSO",id:"navbarDropdownCadastrosAdm",menu:[this.menuSchema.AFASTAMENTOS,this.menuSchema.CIDADES,this.menuSchema.EIXOS_TEMATICOS,this.menuSchema.ENTREGAS,this.menuSchema.FERIADOS,this.menuSchema.MATERIAIS_SERVICOS,this.menuSchema.OCORRENCIAS,this.menuSchema.TEMPLATES,this.menuSchema.TIPOS_ATIVIDADES,this.menuSchema.TIPOS_AVALIACOES,this.menuSchema.TIPOS_DOCUMENTOS,this.menuSchema.TIPOS_JUSTIFICATIVAS,this.menuSchema.TIPOS_MODALIDADES,this.menuSchema.TIPOS_MOTIVOS_AFASTAMENTOS,this.menuSchema.TIPOS_PROCESSOS,this.menuSchema.TIPOS_TAREFAS].sort(this.orderMenu)},{name:this.lex.translate("Gerenciamento"),permition:"MENU_CONFIG_ACESSO",id:"navbarDropdownGerencialAdm",menu:[this.menuSchema.ENTIDADES,this.menuSchema.UNIDADES,this.menuSchema.USUARIOS,this.menuSchema.PERFIS].sort(this.orderMenu)}],this.moduloDev=[{name:this.lex.translate("Manuten\xE7\xE3o"),permition:"MENU_DEV_ACESSO",id:"navbarDropdownDevManutencao",menu:[this.menuSchema.ROTINAS_INTEGRACAO,this.menuSchema.PAINEL]},{name:this.lex.translate("Logs e Auditorias"),permition:"MENU_DEV_ACESSO",id:"navbarDropdownDevLogs",menu:[this.menuSchema.LOGS_ALTERACOES,this.menuSchema.LOGS_ERROS,this.menuSchema.LOGS_TRAFEGOS]},{name:this.lex.translate("Testes"),permition:"MENU_DEV_ACESSO",id:"navbarDropdownDevTestes",menu:[this.menuSchema.LOGS_TESTES_EXPEDIENTES,this.menuSchema.TESTE_CALCULA_DATATEMPO]}],this.menuContexto=[{key:"GESTAO",permition:"CTXT_GEST",icon:"bi bi-clipboard-data",name:this.lex.translate("PGD"),menu:this.moduloGestao},{key:"EXECUCAO",permition:"CTXT_EXEC",icon:"bi bi-clipboard-data",name:this.lex.translate("PGD"),menu:this.moduloExecucao},{key:"ADMINISTRADOR",permition:"CTXT_ADM",icon:"bi bi-emoji-sunglasses",name:this.lex.translate("Administrador"),menu:this.moduloAdministrador},{key:"DEV",permition:"CTXT_DEV",icon:"bi bi-braces",name:this.lex.translate("Desenvolvedor"),menu:this.moduloDev}]}orderMenu(t,n){return t.nome<n.nome?-1:1}rootMenuClick(t){t.menu?.length||this.go.navigate({route:t.route},t.metadata||{root:!0})}get modulo(){switch(this.gb.contexto?.key){case"GESTAO":return this.moduloGestao;case"EXECUCAO":return this.moduloExecucao;case"ADMINISTRADOR":return this.moduloAdministrador;case"DEV":return this.moduloDev;case"PONTO":return this.moduloPonto;case"PROJETO":return this.moduloProjeto;case"RAIOX":return this.moduloRaioX;default:return[]}}get equipe(){return[{time:"PRF",nome:"Edson Dario Silva de Fran\xE7a",cargo:"Policial Penal Federal",papel:"Developer"},{time:"PRF",nome:"Carlos Henrique Alves Lopes",cargo:"Policial Rodovi\xE1rio Federal",papel:"Developer"},{time:"PRF",nome:"Diogo Leandro Paiva Ramos",cargo:"Policial Rodovi\xE1rio Federal",papel:"Scrum Master"},{time:"PRF",nome:"Edson dos Santos Marian",cargo:"Policial Rodovi\xE1rio Federal",papel:"Developer"},{time:"PRF",nome:"Genisson Rodrigues Albuquerque",cargo:"Policial Rodovi\xE1rio Federal",papel:"Developer"},{time:"PRF",nome:"Ricardo de Sousa Farias",cargo:"Policial Rodovi\xE1rio Federal",papel:"Developer"},{time:"PRF",nome:"Jose Marcelo Maizman Bogdan",cargo:"Policial Rodovi\xE1rio Federal",papel:"Developer"},{time:"MGI",nome:"",cargo:"",papel:"Developer"}]}ngAfterViewInit(){this.dialog.container=this.dialogs,this.dialog.cdRef=this.cdRef,this.gb.refresh();let t=this.auth.hasPermissionTo("CTXT_GEST"),n=this.auth.hasPermissionTo("CTXT_EXEC");t?this.menuContexto=this.menuContexto.filter(d=>d.key!=="EXECUCAO"):n&&!t&&(this.menuContexto=this.menuContexto.filter(d=>d.key!=="GESTAO"))}toolbarLogin(){this.go.navigate({route:["login"]},{modal:!0})}menuItemClass(t,n){let d=this.go.getRouteUrl().replace(/^\//,"");return n.menu?.find(_=>!_)&&console.log(n),t+(n.route?.join("/")==d||n.menu?.find(_=>_?.route?.join("/")==d)?" fw-bold":"")}isButtonRunning(t){return t.running||!!t.items?.find(n=>n.running)}buttonId(t){return"button_"+this.utils.md5((t.icon||"")+(t.hint||"")+(t.label||""))}openModule(t){t.route&&this.go.navigate({route:t.route,params:t.params},t.metadata||{root:!0})}get unidades(){return this.auth.unidades||[]}get usuarioNome(){return this.utils.shortName(this.auth.usuario?.apelido.length?this.auth.usuario?.apelido:this.auth.usuario?.nome||"")}get usuarioFoto(){return this.gb.getResourcePath(this.auth.usuario?.url_foto||"assets/images/profile.png")}onCollapseContainerClick(){this.auth.usuarioConfig={ocultar_container_petrvs:!this.auth.usuario.config.ocultar_container_petrvs},this.cdRef.detectChanges()}get collapseContainer(){return this.gb.isEmbedded&&this.auth.logged&&!!this.auth.usuario?.config.ocultar_container_petrvs}onRestoreClick(t){t.restore()}selecionaUnidade(t){this.auth.selecionaUnidade(t,this.cdRef)}onToolbarButtonClick(t){return O(this,null,function*(){try{t.running=!0,this.cdRef.detectChanges(),t.onClick&&(yield t.onClick(t))}finally{t.running=!1,this.cdRef.detectChanges()}})}get isMinimized(){return!!this.dialog.minimized?.length}logout(){this.auth.logOut()}};a.\u0275fac=function(n){return new(n||a)(F(M))},a.\u0275cmp=V({type:a,selectors:[["app-root"]],viewQuery:function(n,d){if(n&1&&B(me,5,G),n&2){let _;q(_=j())&&(d.dialogs=_.first)}},features:[z([{provide:"ID_GENERATOR_BASE",useFactory:(t,n,d)=>d.onlyAlphanumeric(n.getRouteUrl()),deps:[a,k,L]}])],decls:9,vars:6,consts:[["dialogs",""],["divider",""],[1,"d-flex","flex-column","h-100","petrvs"],["class","navbar navbar-expand-lg px-3 hidden-print",3,"fixed-top",4,"ngIf"],["class","alert alert-danger mt-2","role","alert",4,"ngIf"],[1,"content"],["type","alert",3,"id","close","message","closable",4,"ngFor","ngForOf"],["class","footer mt-auto",4,"ngIf"],[1,"navbar","navbar-expand-lg","px-3","hidden-print"],[1,"navbar-logo"],["class","navbar-toggler","type","button","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Abri menu",4,"ngIf"],["role","button",1,"navbar-brand"],[1,"d-flex","align-items-center"],["alt","Logo Petrvs","width","30",1,"d-inline-block","align-text-top",3,"src"],[1,"logo-text","ms-2","d-none","d-sm-block"],["class","collapse navbar-collapse","id","navbarSupportedContent",4,"ngIf"],["class","collapse navbar-collapse order-1 order-lg-0","id","navbarSupportedContent",4,"ngIf"],[1,"navbar-nav","navbar-nav-icons","flex-row","align-items-center","justify-content-end"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item","ms-3","ms-lg-2"],["role","button","data-bs-placement","top","title","Suporte Petrvs",1,"nav-link",3,"click"],[1,"bi","bi-question-lg"],["href","javascript:void(0)",1,"nav-link","position-relative",3,"click"],[1,"bi","bi-bell"],["class","position-absolute translate-middle badge rounded-pill bg-danger",4,"ngIf"],[4,"ngIf"],["type","button","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Abri menu",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"d-flex"],["role","group","aria-label","Janelas",1,"btn-group"],["class","btn-group","role","group",4,"ngFor","ngForOf"],["role","group",1,"btn-group"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"d-inline-block","text-truncate",2,"max-width","150px"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","order-1","order-lg-0"],["class","d-flex",4,"ngIf"],["class","btn-group","role","group","aria-label","Op\xE7\xF5es",4,"ngIf"],["class","navbar-nav me-auto mb-2 mb-lg-0",4,"ngIf"],["width","25","class","spinner-border spinner-border-sm m-0 ms-2","role","status",4,"ngIf"],["role","group","aria-label","Op\xE7\xF5es",1,"btn-group"],["type","button","aria-expanded","false",3,"click"],["data-bs-placement","top",3,"class","title",4,"ngIf"],["type","button","aria-expanded","false","data-bs-reference","parent",3,"disabled","class",4,"ngIf"],["class","dropdown-menu",3,"dropdown-menu-end",4,"ngIf"],["data-bs-placement","top",3,"title"],["type","button","aria-expanded","false","data-bs-reference","parent"],[1,"visually-hidden"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],["role","button",1,"dropdown-item",3,"click"],[3,"class",4,"ngIf"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","role","button",3,"click"],["class","nav-item",3,"ngClass",4,"ngIf"],[1,"nav-item",3,"ngClass"],["role","button","role","button","aria-expanded","false",3,"click"],["class","dropdown-menu navbar-dropdown-caret shadow border border-300  py-0",4,"ngIf"],[1,"dropdown-menu","navbar-dropdown-caret","shadow","border","border-300","py-0"],[1,"card","position-relative","border-0"],[1,"card-body","py-3","px-3"],["role","button",3,"class","click",4,"ngIf","ngIfElse"],["role","button",3,"click"],[1,"dropdown-divider"],["width","25","role","status",1,"spinner-border","spinner-border-sm","m-0","ms-2"],[1,"nav-item","dropdown"],["id","petrvs-context","href","#","role","button","aria-haspopup","true","aria-expanded","false","data-bs-auto-close","outside","title","M\xF3dulo",1,"nav-link"],[1,"d-none","d-md-block"],[1,"bi","bi-chevron-down","fs-6"],[1,"d-block","d-md-none"],["aria-labelledby","petrvs-context",1,"dropdown-menu","contextoDropdown","navbar-dropdown-caret","py-0","shadow","border","border-300"],[1,"texto-modulo"],[1,"divider"],[1,"nav","d-flex","flex-column"],["class","nav-item",3,"click",4,"ngIf"],[1,"nav-item",3,"click"],["role","button",1,"nav-link"],[1,"position-absolute","translate-middle","badge","rounded-pill","bg-danger"],[1,"nav-item","dropdown","ms-3","ms-lg-2"],["id","navbarDropdownBranch","href","#","role","button","aria-haspopup","true","data-bs-auto-close","outside","aria-expanded","false",1,"nav-link"],["aria-labelledby","navbarDropdownBranch","data-bs-popper","static",1,"dropdown-menu","dropdown-menu-end","navbar-dropdown-caret","py-0","shadow","border","border-300"],[1,"card-body","py-3","px-3","pb-0","overflow-auto","scrollbar",2,"height","20rem"],["class","nav d-flex flex-column",4,"ngIf"],["id","navbarDropdownUser","href","#!","role","button","data-bs-auto-close","outside","aria-haspopup","true","aria-expanded","false",1,"nav-link"],[1,""],[3,"url","hint"],["aria-labelledby","navbarDropdownUser",1,"dropdown-menu","dropdown-menu-end","navbar-dropdown-caret","py-0","dropdown-profile","shadow","border","border-300"],[1,"card-body","p-0"],[1,"text-center","pt-4","pb-3","avatar-info"],[1,"avatar","avatar-xl"],[1,"mt-2"],[1,"nav","d-flex","flex-column","mb-2","pb-1"],["role","button",1,"nav-link","px-3",3,"click"],[1,"bi","bi-person-circle"],[1,"bi","bi-gear"],["class","nav-item",4,"ngIf"],[1,"card-footer","p-0","border-top"],[1,"px-3","py-2"],[1,"nav-item","d-grid"],["role","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-bar-right"],["type","button","class","btn btn-outline-danger","role","button",3,"click",4,"ngIf"],["class","btn btn-outline-secondary","type","button",3,"click",4,"ngIf"],["class","nav-item",4,"ngFor","ngForOf"],["role","button",1,"nav-link",3,"click"],[1,"fa-unity","fab"],[1,"bi","bi-people"],["type","button","role","button",1,"btn","btn-outline-danger",3,"click"],["role","alert",1,"alert","alert-danger","mt-2"],["type","alert",3,"id","close","message","closable"],[1,"footer","mt-auto"],[1,"d-flex","justify-content-between"],[1,"d-flex","justify-content-between","align-items-center"],[1,"m-0"],[1,"text-primary"],[1,"logos"],[3,"src"]],template:function(n,d){n&1&&(s(0,"div",2),p(1,ue,0,0,"ng-template",null,0,w)(3,He,20,10,"nav",3)(4,Qe,7,2,"div",4),s(5,"div",5),p(6,Je,1,4,"top-alert",6),m(7,"router-outlet"),l(),p(8,We,10,3,"footer",7),l()),n&2&&(o(3),c("ngIf",d.auth.logged),o(),c("ngIf",d.error==null?null:d.error.length),o(),A("d-none",d.gb.isToolbar||d.collapseContainer),o(),c("ngForOf",d.dialog.topAlerts),o(2),c("ngIf",d.auth.usuario&&!d.gb.isEmbedded))},styles:[".app-container[_ngcontent-%COMP%]{text-decoration:none;width:100%;height:100%}.profile-photo[_ngcontent-%COMP%]{margin:-2px 2px}[_nghost-%COMP%]     .export-excel-table{display:none}[_nghost-%COMP%]{height:100%}.fixed-top[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:0;z-index:1030}.navbar[_ngcontent-%COMP%]{box-shadow:none;border-bottom:1px solid var(--petrvs-navbar-vertical-border-color);background:var(--petrvs-navbar-top-bg-color)}.navbar[_ngcontent-%COMP%]   .navbar-nav-icons[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar[_ngcontent-%COMP%]   .navbar-nav-icons[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:var(--petrvs-nav-link-color);border-radius:var(--petrvs-btn-radius);font-weight:600;font-size:.9rem}.navbar[_ngcontent-%COMP%]   .navbar-nav-icons[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:var(--petrvs-nav-link-bg-hover)}.navbar[_ngcontent-%COMP%]   .navbar-nav-icons[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:var(--petrvs-nav-link-bg-active)}.navbar[_ngcontent-%COMP%]   .navbar-nav-icons[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{top:6px;font-size:.6rem}.navbar[_ngcontent-%COMP%]   .navbar-nav-icons[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.navbar[_ngcontent-%COMP%]   .navbar-logo[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{--bs-navbar-brand-font-size: 1rem;--bs-navbar-brand-color: var(--petrvs-navbar-brand-color);font-weight:600}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:static}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border:none;padding-top:0rem;padding-bottom:0rem;margin-top:0}.navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:none;margin-right:.6125rem;--bs-navbar-toggler-padding-y: 0;--bs-navbar-toggler-padding-x: 0;--bs-navbar-toggler-focus-width: 0}.navbar[_ngcontent-%COMP%]   .contextoDropdown[_ngcontent-%COMP%]{min-width:15rem}.navbar[_ngcontent-%COMP%]   .contextoDropdown[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;width:100%;display:block;background:var(--bs-nav-link-color);margin:6px 0}.navbar[_ngcontent-%COMP%]   .contextoDropdown[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.775em}.navbar[_ngcontent-%COMP%]   .avatar-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--bs-nav-link-color)}.submenu[_ngcontent-%COMP%]{list-style:none;padding-left:10px}.texto-modulo[_ngcontent-%COMP%]{color:var(--petrvs-nav-link-color)}.footer[_ngcontent-%COMP%]{background:var(--petrvs-navbar-top-bg-color);border-top:1px solid var(--petrvs-navbar-vertical-border-color);padding:5px}.footer[_ngcontent-%COMP%]   .logos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px;margin-right:20px}@media (min-width: 992px){.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}}@media (min-width: 1200px){.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}}.avatar[_ngcontent-%COMP%]{position:relative;display:inline-block;vertical-align:middle}"]});let i=a;return i})();var vt=(()=>{let a=class a extends se{constructor(t,n,d){super(t),this.injector=t,this.filterCollapsed=!0,this.join=[],this.rowsLimit=ie.DEFAULT_LIMIT,this.selectable=!1,this.selectButtons=[{color:"btn-outline-success",label:"Selecionar",icon:"bi-check-circle",disabled:()=>!this.grid?.selected,onClick:()=>this.onSelect(this.grid.selected)},{color:"btn-outline-danger",label:"Cancelar",icon:"bi bi-dash-circle",onClick:()=>this.close()}],this.add=()=>O(this,null,function*(){this.go.navigate({route:this.addRoute||[...this.go.currentOrDefault.route,"new"],params:this.addParams},{filterSnapshot:void 0,querySnapshot:void 0,modalClose:_=>{_&&(this.refresh(),this.afterAdd&&this.afterAdd(_),this.dialog.topAlert("Registro inclu\xEDdo com sucesso!",5e3))}})}),this.consult=_=>O(this,null,function*(){this.go.navigate({route:[...this.go.currentOrDefault.route,_.id,"consult"]})}),this.showLogs=_=>O(this,null,function*(){this.go.navigate({route:["logs","change",_.id,"consult"]})}),this.edit=_=>O(this,null,function*(){this.go.navigate({route:[...this.go.currentOrDefault.route,_.id,"edit"]},{filterSnapshot:void 0,querySnapshot:void 0,modalClose:S=>{S&&(this.refresh(_.id),this.afterEdit&&this.afterEdit(S),this.dialog.topAlert("Registro alterado com sucesso!",5e3))}})}),this.delete=_=>O(this,null,function*(){let S=this;this.dialog.confirm("Exclui ?","Deseja realmente excluir?").then(y=>{y&&this.dao.delete(_).then(function(){(S.grid.query||S.query).removeId(_.id),S.dialog.topAlert("Registro exclu\xEDdo com sucesso!",5e3)}).catch(T=>{S.dialog.alert("Erro","Erro ao excluir: "+(T?.message?T?.message:T))})})}),this.error=_=>{this.grid&&(this.grid.error=_)},this.cancel=_=>O(this,null,function*(){let S=this;this.dialog.confirm("Cancelar ?","Deseja realmente cancelar o registro?").then(y=>{y&&this.dao.delete(_).then(function(){(S.grid.query||S.query).removeId(_.id),S.dialog.topAlert("Registro cancelado com sucesso!",5e3)}).catch(T=>{S.dialog.alert("Erro","Erro ao cancelar: "+(T?.message?T?.message:T))})})}),this.dao=t.get(d),this.OPTION_INFORMACOES.onClick=this.consult.bind(this),this.OPTION_EXCLUIR.onClick=this.delete.bind(this),this.OPTION_LOGS.onClick=this.showLogs.bind(this)}saveUsuarioConfig(t){let n={filter:this.storeFilter?this.storeFilter(this.filter):void 0,filterCollapsed:this.filterCollapsed},d={orderBy:this.orderBy};super.saveUsuarioConfig(Object.assign(n,d,t||{}))}filterSubmit(t){this.saveUsuarioConfig()}filterClear(t){this.saveUsuarioConfig()}filterCollapseChange(t){this.filterCollapsed=!!this.grid?.filterRef?.collapsed,this.saveUsuarioConfig()}static modalSelect(t){return new Promise((n,d)=>{if(this.selectRoute){let _={route:this.selectRoute.route,params:Object.assign(this.selectRoute.params||{},{selectable:!0,modal:!0},t)};ce.instance.go.navigate(_,{modalClose:n.bind(this)})}else d("Rota de sele\xE7\xE3o indefinida")})}modalRefreshId(t){return{modal:!0,modalClose:(n=>O(this,null,function*(){return this.refresh(t.id)})).bind(this)}}modalRefresh(){return{modal:!0,modalClose:(t=>O(this,null,function*(){return this.refresh()})).bind(this)}}get queryOptions(){return{where:this.filterWhere&&this.filter?this.filterWhere(this.filter):[],orderBy:[...(this.groupBy||[]).map(t=>[t.field,"asc"]),...this.orderBy||[]],join:this.join||[],limit:this.rowsLimit}}onLoad(){this.grid?.queryInit(),this.grid||(this.query=this.dao?.query(this.queryOptions,{after:()=>this.cdRef.detectChanges()}))}ngOnInit(){super.ngOnInit(),this.selectable=!!this.queryParams?.selectable}ngAfterViewInit(){super.ngAfterViewInit(),this.usuarioConfig?.filter&&this.filter?.patchValue(this.usuarioConfig.filter,{emitEvent:!0}),this.usuarioConfig?.filterCollapsed!=null&&(this.filterCollapsed=this.usuarioConfig?.filterCollapsed,this.cdRef.detectChanges()),this.queryParams?.filter&&(this.loadFilterParams?this.loadFilterParams(this.queryParams?.filter,this.filter):this.filter?.patchValue(this.queryParams?.filter,{emitEvent:!0})),this.queryParams?.fixedFilter&&(this.fixedFilter=this.queryParams?.fixedFilter),this.selectable&&!this.title.startsWith("Selecionar ")&&(this.title="Selecionar "+this.title),this.onLoad()}refresh(t){return t?(this.grid?.query||this.query).refreshId(t):(this.grid?.query||this.query).refresh()}onSelect(t){let n=(this.modalRoute||this.snapshot)?.queryParams?.idroute;t&&!(t instanceof Event)&&n?.length&&(this.go.setModalResult(n,t),this.close())}};a.\u0275fac=function(n){return new(n||a)(R(M),R(U),R(U))},a.\u0275prov=N({token:a,factory:a.\u0275fac});let i=a;return i})();export{ce as a,vt as b};
