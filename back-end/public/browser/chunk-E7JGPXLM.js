import{a as ae}from"./chunk-UFS3OPCG.js";import{b as me}from"./chunk-76VPKZU2.js";import{a as g,b}from"./chunk-RMYSPY7H.js";import{b as L,d as ie,fa as pe,i as oe,j as ne,o as re,s as O,t as le,v as se}from"./chunk-XHTD5OAS.js";import{b as J,c as K,d as Y,e as Z,h as ee,j as te,s as N}from"./chunk-KODYKPWY.js";import"./chunk-ORJB5SCJ.js";import{Ab as G,Bb as U,Fa as m,Fb as W,Ga as s,Ha as d,La as Q,Ma as x,Na as k,P as T,U as y,Ua as q,V as E,Va as S,Wa as D,Xa as u,Ya as h,Z as B,Za as _,_ as H,ba as I,h as R,ic as $,jd as F,ma as a,na as w,oc as j,pc as X,sb as f,va as A,xa as c,ya as C,za as r}from"./chunk-6YMI2QVU.js";var v=class extends X{constructor(t){super(),this.nome="",this.esforco=8,this.dias_planejado=0,this.etiquetas=[],this.checklist=[],this.comentario="",this.initialization(t)}};var z=(()=>{let t=class t extends ae{constructor(n){super(n,v,F),this.injector=n,this.validate=(o,e)=>{let p=null;return["nome"].indexOf(e)>=0&&!o.value?.length&&(p="Obrigat\xF3rio"),p},this.titleEdit=o=>"Editando "+this.lex.translate("Tipo de Atividade")+": "+(o?.nome||""),this.title=this.lex.translate("Tipo de Atividade"),this.form=this.fh.FormBuilder({nome:{default:""},esforco:{default:48},dias_planejado:{default:""},etiquetas:{default:[]},checklist:{default:[]},comentario:{default:""},etiqueta_texto:{default:""},etiqueta_icone:{default:null},etiqueta_cor:{default:null},checklist_texto:{default:""}},this.cdRef,this.validate)}addItemHandleChecklist(){let n,o=this.form.controls.checklist_texto.value,e=this.util.textHash(o);return o?.length&&this.util.validateLookupItem(this.form.controls.checklist.value,e)&&(n={key:e,value:this.form.controls.checklist_texto.value},this.form.controls.checklist_texto.setValue("")),n}addItemHandleEtiquetas(){let n,o=this.form.controls.etiqueta_texto.value,e=this.util.textHash(o);return o?.length&&this.util.validateLookupItem(this.form.controls.etiquetas.value,e)&&(n={key:e,value:this.form.controls.etiqueta_texto.value,color:this.form.controls.etiqueta_cor.value,icon:this.form.controls.etiqueta_icone.value},this.form.controls.etiqueta_texto.setValue(""),this.form.controls.etiqueta_icone.setValue(null),this.form.controls.etiqueta_cor.setValue(null)),n}loadData(n,o){return R(this,null,function*(){let e=Object.assign({},o.value);o.patchValue(this.util.fillForm(e,n))})}initializeData(n){this.entity=new v,this.loadData(this.entity,n)}saveData(n){return R(this,null,function*(){let o=this.util.fill(new v,this.entity);return this.util.fillForm(o,this.form.value)})}};t.\u0275fac=function(o){return new(o||t)(w(I))},t.\u0275cmp=y({type:t,selectors:[["app-tipo-atividade-form"]],viewQuery:function(o,e){if(o&1&&q(O,5),o&2){let p;S(p=D())&&(e.editableForm=p.first)}},features:[A],decls:13,vars:18,consts:[["initialFocus","nome",3,"submit","cancel","form","disabled","title"],[1,"row"],["label","Nome","controlName","nome","required","",3,"size"],["title","Etiquetas/Check-list/Coment\xE1rio"],["label","Etiquetas","controlName","etiquetas",3,"size","addItemHandle"],["label","Texto","controlName","etiqueta_texto",3,"size"],["label","\xCDcone","icon","fas fa-sign-out-alt","controlName","etiqueta_icone","liveSearch","",3,"size","items"],["label","Cor","controlName","etiqueta_cor",3,"size"],["label","Checklists","controlName","checklist",3,"size","addItemHandle"],["controlName","checklist_texto",3,"size"],["label","Coment\xE1rios","controlName","comentario","labelInfo","Coment\xE1rio que ser\xE1 adicionado automaticamente",3,"size","rows"]],template:function(o,e){o&1&&(m(0,"editable-form",0),x("submit",function(){return e.onSaveData()})("cancel",function(){return e.onCancel()}),m(1,"div",1),d(2,"input-text",2),s(),d(3,"separator",3),m(4,"div",1)(5,"input-multiselect",4),d(6,"input-text",5)(7,"input-select",6)(8,"input-color",7),s(),m(9,"input-multiselect",8),d(10,"input-text",9),s()(),m(11,"div",1),d(12,"input-textarea",10),s()()),o&2&&(r("form",e.form)("disabled",e.formDisabled)("title",e.isModal?"":e.title),a(2),r("size",12),C("maxlength",250),a(3),r("size",8)("addItemHandle",e.addItemHandleEtiquetas.bind(e)),a(),r("size",5),C("maxlength",250),a(),r("size",3)("items",e.lookup.ICONES),a(),r("size",4),a(),r("size",4)("addItemHandle",e.addItemHandleChecklist.bind(e)),a(),r("size",12),C("maxlength",250),a(2),r("size",12)("rows",3))},dependencies:[O,L,re,oe,ie,ne,le]});let i=t;return i})();function be(i,t){i&1&&d(0,"toolbar")}function Te(i,t){if(i&1&&(m(0,"small"),h(1),s()),i&2){let l=k().row;a(),_(l.comentario)}}function ye(i,t){if(i&1&&(m(0,"span",23),h(1),s(),c(2,Te,2,1,"small",10)),i&2){let l=t.row;a(),_(l.nome),a(),r("ngIf",l.comentario)}}function Ee(i,t){if(i&1&&d(0,"badge",26),i&2){let l=t.$implicit;r("icon",l.icon)("label",l.value)("color",l.color)}}function Ie(i,t){if(i&1&&(m(0,"div",24),c(1,Ee,1,3,"badge",25),s()),i&2){let l=t.row;a(),r("ngForOf",l.etiquetas)}}function we(i,t){if(i&1&&d(0,"badge",28),i&2){let l=t.$implicit;r("label",l.value)}}function Ae(i,t){if(i&1&&(m(0,"div",24),c(1,we,1,1,"badge",27),s()),i&2){let l=t.row;a(),r("ngForOf",l.checklist)}}function xe(i,t){if(i&1&&h(0),i&2){let l=t.row;_(l.nome)}}function ke(i,t){if(i&1&&h(0),i&2){let l=t.row;_(l.esforco)}}function qe(i,t){if(i&1&&h(0),i&2){let l=t.row;_(l.dias_planejado)}}function Se(i,t){if(i&1&&h(0),i&2){let l=t.row,n=k();_(n.getReportEtiquetas(l))}}function De(i,t){if(i&1&&h(0),i&2){let l=t.row,n=k();_(n.getReportChecklist(l))}}function Fe(i,t){if(i&1&&h(0),i&2){let l=t.row;_(l.comentario_predefinido)}}var ce=(()=>{let t=class t extends me{constructor(n){super(n,v,F),this.injector=n,this.filterWhere=o=>{let e=o.value,p=[];return e.nome?.length&&p.push(["nome","like","%"+e.nome.trim().replace(" ","%")+"%"]),p},this.title=this.lex.translate("Tipos de Atividades"),this.code="MOD_TIPO_ATV",this.filter=this.fh.FormBuilder({nome:{default:""}}),this.auth.hasPermissionTo("MOD_TIPO_ATV")&&this.options.push({icon:"bi bi-info-circle",label:"Informa\xE7\xF5es",onClick:this.consult.bind(this)}),this.auth.hasPermissionTo("MOD_ATV_EXCL")&&this.options.push({icon:"bi bi-trash",label:"Excluir",onClick:this.delete.bind(this)}),this.addOption(this.OPTION_LOGS,"MOD_AUDIT_LOG")}filterClear(n){n.controls.nome.setValue(""),super.filterClear(n)}getReportEtiquetas(n){let o="";return n.etiquetas.forEach(e=>{o+=e.value+`;
`}),o}getReportChecklist(n){let o="";return n.checklist.forEach(e=>{o+=e.value+`;
`}),o}};t.\u0275fac=function(o){return new(o||t)(w(I))},t.\u0275cmp=y({type:t,selectors:[["app-tipo-atividade-list"]],viewQuery:function(o,e){if(o&1&&q(N,5),o&2){let p;S(p=D())&&(e.grid=p.first)}},features:[A],decls:36,vars:31,consts:[["columnNome",""],["columnEtiquetas",""],["columnChecklist",""],["reportNome",""],["reportEsforco",""],["reportDiasPlanejado",""],["reportEtiquetas",""],["reportChecklist",""],["reportComentario",""],[3,"select","dao","add","title","orderBy","groupBy","join","selectable","hasAdd","hasEdit"],[4,"ngIf"],[3,"deleted","form","where","submit","clear"],[1,"row"],["label","Nome","controlName","nome",3,"size","control"],["title","Nome",3,"template"],["title","Etiquetas",3,"template"],["title","Checklist",3,"template"],["type","options",3,"onEdit","options"],[3,"title","template"],["title","Dias planejamento",3,"template"],["title","Check-list",3,"template"],["title","Coment\xE1rio",3,"template"],[3,"rows"],[1,"d-block"],[1,"one-per-line","text-break","w-100"],[3,"icon","label","color",4,"ngFor","ngForOf"],[3,"icon","label","color"],["color","light","icon","bi bi-check2-square",3,"label",4,"ngFor","ngForOf"],["color","light","icon","bi bi-check2-square",3,"label"]],template:function(o,e){if(o&1){let p=Q();m(0,"grid",9),x("select",function(M){return B(p),H(e.onSelect(M))}),c(1,be,1,0,"toolbar",10),m(2,"filter",11)(3,"div",12),d(4,"input-text",13),s()(),m(5,"columns")(6,"column",14),c(7,ye,3,2,"ng-template",null,0,f),s(),m(9,"column",15),c(10,Ie,2,1,"ng-template",null,1,f),s(),m(12,"column",16),c(13,Ae,2,1,"ng-template",null,2,f),s(),d(15,"column",17),s(),m(16,"report")(17,"column",14),c(18,xe,1,1,"ng-template",null,3,f),s(),m(20,"column",18),c(21,ke,1,1,"ng-template",null,4,f),s(),m(23,"column",19),c(24,qe,1,1,"ng-template",null,5,f),s(),m(26,"column",15),c(27,Se,1,1,"ng-template",null,6,f),s(),m(29,"column",20),c(30,De,1,1,"ng-template",null,7,f),s(),m(32,"column",21),c(33,Fe,1,1,"ng-template",null,8,f),s()(),d(35,"pagination",22),s()}if(o&2){let p=u(8),P=u(11),M=u(14),ue=u(19),fe=u(22),he=u(25),_e=u(28),ve=u(31),Ce=u(34);r("dao",e.dao)("add",e.add)("title",e.isModal?"":e.title)("orderBy",e.orderBy)("groupBy",e.groupBy)("join",e.join)("selectable",e.selectable)("hasAdd",e.auth.hasPermissionTo("MOD_TIPO_ATV_INCL"))("hasEdit",e.auth.hasPermissionTo("MOD_TIPO_ATV_EDT")),a(),r("ngIf",!e.selectable),a(),r("deleted",e.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",e.filter)("where",e.filterWhere)("submit",e.filterSubmit.bind(e))("clear",e.filterClear.bind(e)),a(2),r("size",12)("control",e.filter.controls.nome),C("maxlength",250),a(2),r("template",p),a(3),r("template",P),a(3),r("template",M),a(3),r("onEdit",e.edit)("options",e.options),a(2),r("template",ue),a(3),r("title",e.lex.translate("Esfor\xE7o"))("template",fe),a(3),r("template",he),a(3),r("template",_e),a(3),r("template",ve),a(3),r("template",Ce),a(3),r("rows",e.rowsLimit)}},dependencies:[G,U,N,Y,K,Z,J,ee,L,te,se]});let i=t;return i})();var Le=[{path:"",component:ce,canActivate:[g],resolve:{config:b},data:{title:"Atividades"}},{path:"new",component:z,canActivate:[g],resolve:{config:b},data:{title:"Inclus\xE3o de Atividade",modal:!0}},{path:":id/edit",component:z,canActivate:[g],resolve:{config:b},data:{title:"Edi\xE7\xE3o de Atividade",modal:!0}},{path:":id/consult",component:z,canActivate:[g],resolve:{config:b},data:{title:"Consulta a Atividade",modal:!0}}],de=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=E({type:t}),t.\u0275inj=T({imports:[j.forChild(Le),j]});let i=t;return i})();var yt=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=E({type:t}),t.\u0275inj=T({imports:[W,pe,$,de]});let i=t;return i})();export{yt as TipoAtividadeModule};
