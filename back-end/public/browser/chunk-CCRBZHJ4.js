import{b as j}from"./chunk-XHTD5OAS.js";import{$b as P,Fa as a,Ga as l,Gc as M,Ha as d,Ma as x,O as u,R as g,Tb as b,U as h,Xb as w,Xc as _,Ya as p,ba as f,gc as C,lc as y,ma as c,na as n,ya as s,za as v}from"./chunk-6YMI2QVU.js";var E=(()=>{let r=class r{get server(){return this._server=this._server||this.injector.get(M),this._server}constructor(e){this.injector=e}isAuthenticated(){return this.server.get("api/panel-login-check").toPromise().then(e=>{if(e&&e.authenticated!==void 0)return e.authenticated;throw new Error("Resposta inv\xE1lida do servidor")}).catch(e=>(console.error("Erro ao verificar autentica\xE7\xE3o:",e),!1))}loginPanel(e,t){return this.server.post("api/panel-login",{email:e,password:t}).toPromise().then(o=>o)}detailUser(){return this.server.get("api/panel-login-detail").toPromise().then(e=>{if(e)return e;throw new Error("Resposta inv\xE1lida do servidor")}).catch(e=>(console.error("Erro ao verificar autentica\xE7\xE3o:",e),!1))}};r.\u0275fac=function(t){return new(t||r)(g(f))},r.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})();var T=(()=>{let r=class r{constructor(e,t,o,m){this.router=e,this.authService=t,this.fh=o,this.formBuilder=m,this.login=this.fh.FormBuilder({email:{default:""},password:{default:""}})}loginPanel(){let e=this.login.controls;this.authService.loginPanel(e.email.value,e.password.value).then(t=>{t?this.router.navigate(["/panel"]):alert("Credenciais inv\xE1lidas. Por favor, tente novamente.")}).catch(t=>{alert("Erro durante o login:"+t.error.error),console.error("Erro durante o login:",t.error.error)})}};r.\u0275fac=function(t){return new(t||r)(n(y),n(E),n(_),n(C))},r.\u0275cmp=h({type:r,selectors:[["app-panel-login"]],decls:11,vars:3,consts:[[1,"login-container"],[1,"login-content"],[3,"formGroup"],[1,"form-group"],["controlName","email","placeholder","Email"],[1,"form-group","form-primary","mb-2"],["password","password","controlName","password","placeholder","Senha"],[1,"btn-login",3,"click"]],template:function(t,o){t&1&&(a(0,"div",0)(1,"div",1)(2,"h2"),p(3,"Panel - Login"),l(),a(4,"form",2)(5,"div",3),d(6,"input-text",4),l(),a(7,"div",5),d(8,"input-text",6),l(),a(9,"button",7),x("click",function(){return o.loginPanel()}),p(10," Logar "),l()()()()),t&2&&(c(4),v("formGroup",o.login),c(2),s("maxlength",250),c(2),s("maxlength",250))},dependencies:[j,w,b,P],styles:['@charset "UTF-8";.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.login-content[_ngcontent-%COMP%]{max-width:400px;width:100%;padding:20px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}.btn-login[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}.btn-login[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 768px){.login-content[_ngcontent-%COMP%]{max-width:90%}}@media (max-width: 576px){.login-content[_ngcontent-%COMP%]{padding:10px}}']});let i=r;return i})();export{E as a,T as b};
