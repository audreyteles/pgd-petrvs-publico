import{Dc as A,Mc as v,Nd as T,O as d,R as n,Wc as g,ba as _,pc as h}from"./chunk-6YMI2QVU.js";var u=class extends h{constructor(e){super(),this.texto="",this.path="",this.data_comentario=new Date,this.tipo="COMENTARIO",this.privacidade="PUBLICO",this.usuario_id="",this.comentario_id=null,this.atividade_id=null,this.atividade_tarefa_id=null,this.projeto_id=null,this.projeto_tarefa_id=null,this.plano_entrega_entrega_id=null,this.initialization(e)}};var U=(()=>{let e=class e{constructor(i,a,r){this.util=i,this.auth=a,this.dao=r}comentarioLevel(i){return(i.path||"").split("").filter(a=>a=="/")}orderComentarios(i){return i?.sort((r,t)=>{if(r.path=r.path||"",t.path=t.path||"",r.path==t.path)return r.data_comentario.getTime()<t.data_comentario.getTime()?-1:1;{let o=r.path.split("/"),c=t.path.split("/"),p=this.util.commonBegin(o,c),m=(i.find(l=>l.id==(o[p.length]||r.id)&&l.id!=t.id)||r).data_comentario.getTime(),f=(i.find(l=>l.id==(c[p.length]||t.id)&&l.id!=r.id)||t).data_comentario.getTime();return m==f?0:m<f?-1:1}})||[]}newComentario(i,a,r){let t=new u,o=Array.isArray(i)?i:i.value||[];return t.id=this.dao.generateUuid(),t.path=r?r.path+"/"+r.id:"",t.data_comentario=this.auth.hora,t.usuario_id=this.auth.usuario.id,t.comentario_id=r?.id||null,t.usuario=this.auth.usuario,t._status="ADD",o.push(t),Array.isArray(i)?i=this.orderComentarios(o):i.setValue(this.orderComentarios(o)),a.adding=!0,a.edit(t),t}};e.\u0275fac=function(a){return new(a||e)(n(A),n(g),n(T))},e.\u0275prov=d({token:e,factory:e.\u0275fac,providedIn:"root"});let s=e;return s})();var E=(()=>{let e=class e extends h{constructor(i){super(),this.assinaturas=[],this.numero=0,this.titulo="",this.tipo="HTML",this.especie="OUTRO",this.conteudo=null,this.metadados=null,this.link=null,this.status="GERADO",this.template=null,this.dataset=null,this.datasource=null,this.entidade_id=null,this.tipo_documento_id=null,this.tipo_processo_id=null,this.template_id=null,this.plano_trabalho_id=null,this.atividade_id=null,this.atividade_tarefa_id=null,this.initialization(i)}};e.STATUS_GERADO="GERADO",e.STATUS_AGUARDANDO_SEI="GERADO";let s=e;return s})();var O=(()=>{let e=class e extends v{constructor(i){super("Avaliacao",i),this.injector=i,this.inputSearchConfig.searchFields=[]}cancelarAvaliacao(i){return new Promise((a,r)=>{this.server.post("api/"+this.collection+"/cancelar-avaliacao",{id:i}).subscribe(t=>{t?.error?r(t?.error):a(!0)},t=>r(t))})}recorrer(i,a){return new Promise((r,t)=>{this.server.post("api/"+this.collection+"/recorrer",{id:i.id,recurso:a}).subscribe(o=>{o?.error?t(o?.error):(i.recurso=a,r(!0))},o=>t(o))})}};e.\u0275fac=function(a){return new(a||e)(n(_))},e.\u0275prov=d({token:e,factory:e.\u0275fac,providedIn:"root"});let s=e;return s})();export{u as a,U as b,E as c,O as d};
