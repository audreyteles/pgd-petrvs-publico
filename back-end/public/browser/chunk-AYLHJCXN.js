import{a as W}from"./chunk-3OQ5NXFP.js";import{b as U}from"./chunk-GEQ4G77C.js";import{a as f,b as u}from"./chunk-72ETMCRT.js";import{b as I,fa as X,n as k,o as q,s as M}from"./chunk-JEWU6XZO.js";import{b as z,c as P,d as G,e as Q,h as V,s as E}from"./chunk-OWVQDN4P.js";import"./chunk-P4ZMML75.js";import{Bb as S,Fa as s,Fb as j,Ga as d,Ha as m,Ma as g,P as c,U as h,Ua as w,V as T,Va as _,Wa as F,ba as v,gd as D,ic as B,ma as l,na as C,oc as N,pc as L,va as b,xa as R,ya as y,za as a}from"./chunk-SDCVQHKS.js";var p=class extends L{constructor(t){super(),this.nome="",this.tempo_estimado=0,this.documental=!1,this.comentario=null,this.initialization(t)}};var O=(()=>{let t=class t extends W{constructor(o){super(o,p,D),this.injector=o,this.validate=(i,e)=>{let n=null;return["nome"].indexOf(e)>=0&&!i.value?.length&&(n="Obrigat\xF3rio"),n},this.titleEdit=i=>"Editando "+this.lex.translate("Tipo de Tarefa")+": "+(i?.nome||""),this.modalWidth=800,this.form=this.fh.FormBuilder({nome:{default:""},tempo_estimado:{default:0},documental:{default:!1},comentario_predefinido:{default:""}},this.cdRef,this.validate)}loadData(o,i){let e=Object.assign({},i.value);i.patchValue(this.util.fillForm(e,o))}initializeData(o){o.patchValue(new p)}saveData(o){return new Promise((i,e)=>{let n=this.util.fill(new p,this.entity);i(this.util.fillForm(n,this.form.value))})}};t.\u0275fac=function(i){return new(i||t)(C(v))},t.\u0275cmp=h({type:t,selectors:[["tipo-tarefa-form"]],viewQuery:function(i,e){if(i&1&&w(M,5),i&2){let n;_(n=F())&&(e.editableForm=n.first)}},features:[b],decls:7,vars:8,consts:[["initialFocus","nome",3,"submit","cancel","form","disabled","title"],[1,"row"],["label","Nome","icon","bi bi-upc","controlName","nome","required","",3,"size"],["label","Documental?","controlName","documental","labelInfo","",3,"size"],["label","Coment\xE1rio autom\xE1tico","controlName","comentario_predefinido",3,"size","rows"]],template:function(i,e){i&1&&(s(0,"editable-form",0),g("submit",function(){return e.onSaveData()})("cancel",function(){return e.onCancel()}),s(1,"div",1)(2,"div",1),m(3,"input-text",2)(4,"input-switch",3),d(),s(5,"div",1),m(6,"input-textarea",4),d()()()),i&2&&(a("form",e.form)("disabled",e.formDisabled)("title",e.isModal?"":e.title),l(3),a("size",10),y("maxlength",250),l(),a("size",2),l(2),a("size",12)("rows",3))},dependencies:[M,k,I,q]});let r=t;return r})();function Z(r,t){r&1&&m(0,"toolbar")}var H=(()=>{let t=class t extends U{constructor(o){super(o,p,D),this.injector=o,this.filterWhere=i=>{let e=[],n=i.value;return n.nome?.length&&e.push(["nome","like","%"+n.nome.trim().replace(" ","%")+"%"]),e},this.title=this.lex.translate("Tipos de Tarefa"),this.code="MOD_TRF",this.filter=this.fh.FormBuilder({nome:{default:""}}),this.auth.hasPermissionTo("MOD_TRF")&&this.options.push({icon:"bi bi-info-circle",label:"Informa\xE7\xF5es",onClick:this.consult.bind(this)}),this.auth.hasPermissionTo("MOD_TRF_EXCL")&&this.options.push({icon:"bi bi-trash",label:"Excluir",onClick:this.delete.bind(this)}),this.addOption(this.OPTION_LOGS,"MOD_AUDIT_LOG")}filterClear(o){o.controls.nome.setValue(""),super.filterClear(o)}};t.\u0275fac=function(i){return new(i||t)(C(v))},t.\u0275cmp=h({type:t,selectors:[["app-tarefa-list"]],viewQuery:function(i,e){if(i&1&&w(E,5),i&2){let n;_(n=F())&&(e.grid=n.first)}},features:[b],decls:10,vars:25,consts:[[3,"select","dao","add","title","orderBy","groupBy","join","selectable","hasAdd","hasEdit"],[4,"ngIf"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["controlName","nome","placeholder","Nome ...",3,"size","label","control"],["title","Nome","field","nome","orderBy","nome"],["title","Documental?","type","select","field","documental",3,"items"],["type","options",3,"onEdit","options"],[3,"rows"]],template:function(i,e){i&1&&(s(0,"grid",0),g("select",function(K){return e.onSelect(K)}),R(1,Z,1,0,"toolbar",1),s(2,"filter",2)(3,"div",3),m(4,"input-text",4),d()(),s(5,"columns"),m(6,"column",5)(7,"column",6)(8,"column",7),d(),m(9,"pagination",8),d()),i&2&&(a("dao",e.dao)("add",e.add)("title",e.isModal?"":e.title)("orderBy",e.orderBy)("groupBy",e.groupBy)("join",e.join)("selectable",e.selectable)("hasAdd",e.auth.hasPermissionTo("MOD_TRF_INCL"))("hasEdit",e.auth.hasPermissionTo("MOD_TRF_EDT")),l(),a("ngIf",!e.selectable),l(),a("deleted",e.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",e.filter)("where",e.filterWhere)("submit",e.filterSubmit.bind(e))("clear",e.filterClear.bind(e))("collapseChange",e.filterCollapseChange.bind(e))("collapsed",!e.selectable&&e.filterCollapsed),l(2),a("size",12)("label",e.lex.translate("Tarefa"))("control",e.filter.controls.nome),y("maxlength",250),l(3),a("items",e.lookup.SIMNAO),l(),a("onEdit",e.edit)("options",e.options),l(),a("rows",e.rowsLimit))},dependencies:[S,E,G,P,Q,z,V,I]});let r=t;return r})();var $=[{path:"",component:H,canActivate:[f],resolve:{config:u},runGuardsAndResolvers:"always",data:{title:"Tipos de Tarefa"}},{path:"new",component:O,canActivate:[f],resolve:{config:u},runGuardsAndResolvers:"always",data:{title:"Inclus\xE3o de Tipo de Tarefa",modal:!0}},{path:":id/edit",component:O,canActivate:[f],resolve:{config:u},runGuardsAndResolvers:"always",data:{title:"Edi\xE7\xE3o de Tipo de Tarefa",modal:!0}},{path:":id/consult",component:O,canActivate:[f],resolve:{config:u},runGuardsAndResolvers:"always",data:{title:"Consulta a Tipo de Tarefa",modal:!0}}],J=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=T({type:t}),t.\u0275inj=c({imports:[N.forChild($),N]});let r=t;return r})();var Be=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=T({type:t}),t.\u0275inj=c({imports:[j,X,B,J]});let r=t;return r})();export{Be as TipoTarefaModule};
