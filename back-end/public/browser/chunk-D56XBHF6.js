import{a as V}from"./chunk-3OQ5NXFP.js";import{b as q}from"./chunk-GEQ4G77C.js";import{a as f,b as c}from"./chunk-72ETMCRT.js";import{b as E,fa as W,i as k,s as T}from"./chunk-JEWU6XZO.js";import{b as P,c as G,d as R,e as Q,h as U,s as w}from"./chunk-OWVQDN4P.js";import"./chunk-P4ZMML75.js";import{Bb as B,Fa as s,Fb as S,Ga as p,Ha as m,Ma as I,P as h,Pc as O,U as C,Ua as _,V as v,Va as D,Wa as F,ba as b,ic as j,ma as l,na as g,oc as M,pc as L,va as y,xa as A,ya as u,za as a}from"./chunk-SDCVQHKS.js";var d=class extends L{constructor(i){super(),this.codigo_ibge="",this.nome="",this.tipo="MUNICIPIO",this.uf="AC",this.timezone=0,this.initialization(i)}};var z=(()=>{let i=class i extends V{constructor(r){super(r,d,O),this.injector=r,this.validate=(t,e)=>{let n=null;return["codigo_ibge","nome","uf"].indexOf(e)>=0&&!t.value?.length?n="Obrigat\xF3rio":["timezone"].indexOf(e)>=0&&!t.value&&(n="Valor n\xE3o pode ser zero."),n},this.titleEdit=t=>"Editando "+this.lex.translate("Cidade")+": "+(t?.nome||""),this.form=this.fh.FormBuilder({codigo_ibge:{default:""},nome:{default:""},tipo:{default:""},uf:{default:""},timezone:{default:""}},this.cdRef,this.validate)}loadData(r,t){let e=Object.assign({},t.value);t.patchValue(this.util.fillForm(e,r))}initializeData(r){r.patchValue(new d)}saveData(r){return new Promise((t,e)=>{let n=this.util.fill(new d,this.entity);t(this.util.fillForm(n,this.form.value))})}};i.\u0275fac=function(t){return new(t||i)(g(b))},i.\u0275cmp=C({type:i,selectors:[["app-cidade-form"]],viewQuery:function(t,e){if(t&1&&_(T,5),t&2){let n;D(n=F())&&(e.editableForm=n.first)}},features:[y],decls:9,vars:13,consts:[["initialFocus","codigo_ibge",3,"submit","cancel","form","disabled","title"],[1,"row"],["label","C\xF3digo IBGE","icon","bi bi-upc","controlName","codigo_ibge","required","",3,"size"],["label","Nome","controlName","nome","required","",3,"size"],["label","Tipo","icon","bi bi-arrow-up-right-circle","controlName","tipo",3,"size","items"],["label","UF","icon","bi bi-flag","controlName","uf",3,"size","items"],["label","Timezone","icon","bi bi-alarm","controlName","timezone","required","",3,"size","items"]],template:function(t,e){t&1&&(s(0,"editable-form",0),I("submit",function(){return e.onSaveData()})("cancel",function(){return e.onCancel()}),s(1,"div",1)(2,"div",1),m(3,"input-text",2)(4,"input-text",3),p(),s(5,"div",1),m(6,"input-select",4)(7,"input-select",5)(8,"input-select",6),p()()()),t&2&&(a("form",e.form)("disabled",e.formDisabled)("title",e.isModal?"":e.title),l(3),a("size",3),u("maxlength",250),l(),a("size",9),u("maxlength",250),l(2),a("size",4)("items",e.lookup.TIPO_CIDADE),l(),a("size",4)("items",e.lookup.UF),l(),a("size",4)("items",e.lookup.TIMEZONE))},dependencies:[T,E,k]});let o=i;return o})();function K(o,i){o&1&&m(0,"toolbar")}var X=(()=>{let i=class i extends q{constructor(r){super(r,d,O),this.injector=r,this.filterWhere=t=>{let e=[],n=t.value;return n.nome?.length&&e.push(["nome","like","%"+n.nome.trim().replace(" ","%")+"%"]),e},this.title=this.lex.translate("Cidades"),this.code="MOD_CID",this.filter=this.fh.FormBuilder({nome:{default:""}}),this.addOption(this.OPTION_INFORMACOES),this.addOption(this.OPTION_EXCLUIR,"MOD_CID_EXCL"),this.addOption(this.OPTION_LOGS,"MOD_AUDIT_LOG")}};i.\u0275fac=function(t){return new(t||i)(g(b))},i.\u0275cmp=C({type:i,selectors:[["app-cidade-list"]],viewQuery:function(t,e){if(t&1&&_(w,5),t&2){let n;D(n=F())&&(e.grid=n.first)}},features:[y],decls:13,vars:26,consts:[[3,"select","dao","add","title","orderBy","groupBy","join","selectable","hasAdd","hasEdit"],[4,"ngIf"],[3,"deleted","form","where","submit","collapseChange","collapsed"],[1,"row"],["controlName","nome",3,"size","label","control","placeholder"],["title","C\xF3digo IBGE","field","codigo_ibge"],["title","Nome","field","nome","orderBy","nome"],["title","UF","field","uf"],["title","Tipo","type","select","field","tipo",3,"items"],["title","Timezone","type","select","field","timezone",3,"items"],["type","options",3,"onEdit","options"],[3,"rows"]],template:function(t,e){t&1&&(s(0,"grid",0),I("select",function(H){return e.onSelect(H)}),A(1,K,1,0,"toolbar",1),s(2,"filter",2)(3,"div",3),m(4,"input-text",4),p()(),s(5,"columns"),m(6,"column",5)(7,"column",6)(8,"column",7)(9,"column",8)(10,"column",9)(11,"column",10),p(),m(12,"pagination",11),p()),t&2&&(a("dao",e.dao)("add",e.add)("title",e.isModal?"":e.title)("orderBy",e.orderBy)("groupBy",e.groupBy)("join",e.join)("selectable",e.selectable)("hasAdd",e.auth.hasPermissionTo("MOD_CID_INCL"))("hasEdit",e.auth.hasPermissionTo("MOD_CID_EDT")),l(),a("ngIf",!e.selectable),l(),a("deleted",e.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",e.filter)("where",e.filterWhere)("submit",e.filterSubmit.bind(e))("collapseChange",e.filterCollapseChange.bind(e))("collapsed",!e.selectable&&e.filterCollapsed),l(2),a("size",12)("label",e.lex.translate("Cidade"))("control",e.filter.controls.nome)("placeholder","Nome "+e.lex.translate("da cidade")+"..."),u("maxlength",250),l(5),a("items",e.lookup.TIPO_CIDADE),l(),a("items",e.lookup.TIMEZONE),l(),a("onEdit",e.edit)("options",e.options),l(),a("rows",e.rowsLimit))},dependencies:[B,w,R,G,Q,P,U,E]});let o=i;return o})();var Y=[{path:"",component:X,canActivate:[f],resolve:{config:c},runGuardsAndResolvers:"always",data:{title:"Cidades"}},{path:"new",component:z,canActivate:[f],resolve:{config:c},runGuardsAndResolvers:"always",data:{title:"Inclus\xE3o de cidade",modal:!0}},{path:":id/edit",component:z,canActivate:[f],resolve:{config:c},runGuardsAndResolvers:"always",data:{title:"Edi\xE7\xE3o de cidade",modal:!0}},{path:":id/consult",component:z,canActivate:[f],resolve:{config:c},runGuardsAndResolvers:"always",data:{title:"Consulta a cidade",modal:!0}}],Z=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=v({type:i}),i.\u0275inj=h({imports:[M.forChild(Y),M]});let o=i;return o})();var Be=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=v({type:i}),i.\u0275inj=h({imports:[S,W,j,Z]});let o=i;return o})();export{Be as CidadeModule};
