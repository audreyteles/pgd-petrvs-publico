"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[1667,8032],{28032:(V,P,d)=>{d.d(P,{x:()=>a});var b=d(8239),C=d(92307),h=d(55736),i=d(20755),m=d(76733);function Z(u,n){if(1&u&&i._UZ(0,"i"),2&u){const r=i.oxw(2);i.Tol(r.button.icon)}}function v(u,n){if(1&u&&(i.TgZ(0,"span",8),i._uU(1),i.qZA()),2&u){const r=i.oxw(2);i.xp6(1),i.Oqu(r.button.label)}}function J(u,n){if(1&u&&(i.TgZ(0,"span",9),i._uU(1),i.qZA()),2&u){const r=i.oxw(2);i.xp6(1),i.Oqu(r.button.badge)}}function M(u,n){if(1&u&&(i.TgZ(0,"button",10)(1,"span",11),i._uU(2,"V"),i.qZA()()),2&u){const r=i.oxw(2);i.Tol("btn dropdown-toggle dropdown-toggle-split "+(r.button.color||"btn-outline-primary")),i.uIk("id",r.generatedButtonId(r.button)+"_dropdown")}}function U(u,n){1&u&&i._UZ(0,"hr",16)}function z(u,n){if(1&u&&i._UZ(0,"i"),2&u){const r=i.oxw(2).$implicit;i.Tol(r.icon)}}function N(u,n){if(1&u){const r=i.EpF();i.TgZ(0,"a",17),i.NdJ("click",function(){i.CHM(r);const E=i.oxw().$implicit,L=i.oxw(3);return i.KtG(L.onButtonClick(E))}),i.YNc(1,z,1,2,"i",3),i._uU(2),i.qZA()}if(2&u){const r=i.oxw().$implicit,_=i.oxw(3);i.Q6J("id",_.generatedButtonId(r,"_item")),i.xp6(1),i.Q6J("ngIf",null==r.icon?null:r.icon.length),i.xp6(1),i.hij(" ",r.label||"","")}}function A(u,n){if(1&u&&(i.TgZ(0,"li"),i.YNc(1,U,1,0,"hr",14),i.YNc(2,N,3,3,"a",15),i.qZA()),2&u){const r=n.$implicit;i.xp6(1),i.Q6J("ngIf",r.divider),i.xp6(1),i.Q6J("ngIf",!r.divider)}}function w(u,n){if(1&u&&(i.TgZ(0,"ul",12),i.YNc(1,A,3,2,"li",13),i.qZA()),2&u){const r=i.oxw(2);i.uIk("aria-labelledby",r.generatedButtonId(r.button)+(r.button.items&&r.button.toggle?"_dropdown":"")),i.xp6(1),i.Q6J("ngForOf",r.button.items)}}function B(u,n){if(1&u){const r=i.EpF();i.TgZ(0,"div",1)(1,"button",2),i.NdJ("click",function(){i.CHM(r);const E=i.oxw();return i.KtG(E.onButtonClick(E.button))}),i.YNc(2,Z,1,2,"i",3),i.YNc(3,v,2,1,"span",4),i.YNc(4,J,2,1,"span",5),i.qZA(),i.YNc(5,M,3,3,"button",6),i.YNc(6,w,2,2,"ul",7),i.qZA()}if(2&u){const r=i.oxw();i.ekj("w-100",r.isFullWidth),i.xp6(1),i.Tol(r.buttonClass),i.Q6J("id",r.generatedButtonId(r.button))("disabled",r.buttonDisabled(r.button)),i.uIk("data-bs-toggle",r.button.items&&!r.button.toggle?"dropdown":void 0),i.xp6(1),i.Q6J("ngIf",null==r.button.icon?null:r.button.icon.length),i.xp6(1),i.Q6J("ngIf",null==r.button.label?null:r.button.label.length),i.xp6(1),i.Q6J("ngIf",null==r.button.badge?null:r.button.badge.length),i.xp6(1),i.Q6J("ngIf",r.button.items&&r.button.toggle),i.xp6(1),i.Q6J("ngIf",r.button.items)}}class a extends h.V{set button(n){this._button!=n&&(this._button=n),this._button.id=this.generatedButtonId(this._button)}get button(){return this._button}set route(n){this._button.route!=n&&(this._button.route=n)}get route(){return this._button.route}set metadata(n){this._button.metadata!=n&&(this._button.metadata=n)}get metadata(){return this._button.metadata}set class(n){this._button.class!=n&&(this._button.class=n)}get class(){return this._button.class}set icon(n){this._button.icon!=n&&(this._button.icon=n),this._button.id=this.generatedButtonId(this._button)}get icon(){return this._button.icon}set label(n){this._button.label!=n&&(this._button.label=n),this._button.id=this.generatedButtonId(this._button)}get label(){return this._button.label}set hint(n){this._button.hint!=n&&(this._button.hint=n),this._button.id=this.generatedButtonId(this._button)}get hint(){return this._button.hint}set disabled(n){this._button.disabled!=n&&(this._button.disabled=n)}get disabled(){return this._button.disabled}set iconChar(n){this._button.iconChar!=n&&(this._button.iconChar=n)}get iconChar(){return this._button.iconChar}set color(n){this._button.color!=n&&(this._button.color=n)}get color(){return this._button.color}set running(n){this._button.running!=n&&(this._button.running=n)}get running(){return this._button.running}set toggle(n){this._button.toggle!=n&&(this._button.toggle=n)}get toggle(){return this._button.toggle}set badge(n){this._button.badge!=n&&(this._button.badge=n)}get badge(){return this._button.badge}set pressed(n){this._button.pressed!=n&&(this._button.pressed=n)}get pressed(){return this._button.pressed}set items(n){this._button.items!=n&&(this._button.items=n)}get items(){return this._button.items}set hidden(n){this._button.hidden!=n&&(this._button.hidden=n)}get hidden(){return this._button.hidden}set dynamicItems(n){this._button.dynamicItems!=n&&(this._button.dynamicItems=n)}get dynamicItems(){return this._button.dynamicItems}set dynamicVisible(n){this._button.dynamicVisible!=n&&(this._button.dynamicVisible=n)}get dynamicVisible(){return this._button.dynamicVisible}set onClick(n){this._button.onClick!=n&&(this._button.onClick=n)}get onClick(){return this._button.onClick}constructor(n){super(n),this.injector=n,this._button={},this.go=n.get(C.o),this.button.id=this.generatedButtonId(this.button,this.util.md5())}get isFullWidth(){return null!=this.fullWidth}get isNoArrow(){return null!=this.noArrow}get isPlaceholder(){return null!=this.placeholder}get buttonClass(){return(this.isPlaceholder?"placeholder ":"")+(this.buttonPressed(this.button)?"active ":"")+(this.isNoArrow?"no-arrow ":"")+(this.button.items&&!this.button.toggle?"dropdown-toggle ":"")+"btn "+(this.button.color||"btn-outline-primary")}buttonDisabled(n){return this.isPlaceholder||("function"==typeof n.disabled?n.disabled():!!n.disabled)}buttonPressed(n){return!!n.toggle&&(n.pressed&&"boolean"!=typeof n.pressed?!!n.pressed(this):!!n.pressed)}onButtonClick(n){var r=this;return(0,b.Z)(function*(){n.toggle&&"boolean"==typeof n.pressed&&(n.pressed=!n.pressed),n.route?r.go.navigate(n.route,n.metadata):n.onClick&&(yield n.onClick(r.data,n)),r.cdRef.detectChanges()})()}static#a=this.\u0275fac=function(r){return new(r||a)(i.Y36(i.zs3))};static#t=this.\u0275cmp=i.Xpm({type:a,selectors:[["action-button"]],inputs:{button:"button",route:"route",metadata:"metadata",class:"class",icon:"icon",label:"label",hint:"hint",disabled:"disabled",iconChar:"iconChar",color:"color",running:"running",toggle:"toggle",badge:"badge",pressed:"pressed",items:"items",hidden:"hidden",dynamicItems:"dynamicItems",dynamicVisible:"dynamicVisible",onClick:"onClick",data:"data",noArrow:"noArrow",fullWidth:"fullWidth",placeholder:"placeholder"},features:[i.qOj],decls:1,vars:1,consts:[["class","btn-group","role","group",3,"w-100",4,"ngIf"],["role","group",1,"btn-group"],["type","button","aria-expanded","false",3,"id","disabled","click"],[3,"class",4,"ngIf"],["class","d-none d-md-inline-block ms-2",4,"ngIf"],["class","badge bg-primary ms-2",4,"ngIf"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",3,"class",4,"ngIf"],["class","dropdown-menu dropdown-menu-end",4,"ngIf"],[1,"d-none","d-md-inline-block","ms-2"],[1,"badge","bg-primary","ms-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false"],[1,"visually-hidden"],[1,"dropdown-menu","dropdown-menu-end"],[4,"ngFor","ngForOf"],["class","dropdown-divider",4,"ngIf"],["class","dropdown-item","role","button",3,"id","click",4,"ngIf"],[1,"dropdown-divider"],["role","button",1,"dropdown-item",3,"id","click"]],template:function(r,_){1&r&&i.YNc(0,B,7,12,"div",0),2&r&&i.Q6J("ngIf",!_.button.dynamicVisible||_.button.dynamicVisible(_.button))},dependencies:[m.sg,m.O5],styles:["[_nghost-%COMP%]     .transparent-black{background-color:transparent;color:#000}[_nghost-%COMP%]     .transparent-white{background-color:transparent;color:#fff}.no-arrow[_ngcontent-%COMP%]:before, .no-arrow[_ngcontent-%COMP%]:after{display:none!important}"]})}},81667:(V,P,d)=>{d.r(P),d.d(P,{ProgramaModule:()=>y});var b=d(76733),C=d(55579),h=d(1391),i=d(2314),m=d(8239),Z=d(74040),v=d(92214),J=d(99230),M=d(20207),U=d(88340),z=d(79055),N=d(81214),A=d(90758),w=d(1184),B=d(49367),a=d(20755),u=d(88820),n=d(32802),r=d(92392),_=d(84495),E=d(64603),L=d(17819),H=d(66384),G=d(74978),Y=d(25560),W=d(50933),K=d(9224),X=d(28032);const $=["unidade"],aa=["tipoAvaliacao"];function ta(s,o){if(1&s){const e=a.EpF();a.TgZ(0,"div",42)(1,"div",43)(2,"action-button",44),a.NdJ("click",function(){a.CHM(e);const l=a.oxw();return a.KtG(l.onClickIN())}),a.qZA()()()}}function ea(s,o){if(1&s&&a._UZ(0,"input-select",45),2&s){const e=a.oxw();a.Q6J("size",3)("control",e.form.controls.periodicidade_valor)("items",e.lookup.DIA_SEMANA)}}function oa(s,o){if(1&s&&a._UZ(0,"input-number",46),2&s){const e=a.oxw();a.Q6J("size",3)("control",e.form.controls.periodicidade_valor)}}function ia(s,o){if(1&s&&a._UZ(0,"input-number",47),2&s){const e=a.oxw();a.Q6J("size",3)("control",e.form.controls.periodicidade_valor)}}function na(s,o){if(1&s&&a._UZ(0,"input-number",48),2&s){const e=a.oxw();a.Q6J("size",4)("control",e.form.controls.nota_padrao_avaliacao)}}function la(s,o){if(1&s&&a._UZ(0,"input-select",49),2&s){const e=a.oxw();a.Q6J("size",4)("control",e.form.controls.nota_padrao_avaliacao)("items",e.tipoAvaliacaoQualitativo)}}const ra=function(){return{instituidora:!0}},sa=function(s){return{filter:s}},da=function(){return["especie","==","TCR"]},ua=function(s){return[s]},ca=function(){return["SEMANAL","QUINZENAL"]},pa=function(){return["MENSAL","BIMESTRAL","TRIMESTRAL","SEMESTRAL"]},ma=function(){return["DIAS"]};class T extends w.F{constructor(o){super(o,A.i,v.w),this.injector=o,this._tipoAvaliacaoQualitativo=[],this.validate=(e,t)=>{let l=null;return["nome","unidade_id","tipo_avaliacao_plano_trabalho_id","tipo_avaliacao_plano_entrega_id"].indexOf(t)>=0&&!e.value?.length?l="Obrigat\xf3rio":"prazo_max_plano_entrega"==t&&parseInt(e.value||0)>99999||["data_inicio","data_fim"].indexOf(t)>=0&&!this.dao?.validDateTime(e.value)?l="Inv\xe1lido":"periodicidade_valor"==t&&(["SEMANAL","QUINZENAL"].includes(this.form?.controls.periodicidade_consolidacao.value)&&e.value>6&&(l="Inv\xe1lido"),["MENSAL","BIMESTRAL","TRIMESTRAL","SEMESTRAL"].includes(this.form?.controls.periodicidade_consolidacao.value)&&e.value>31&&(l="M\xe1ximo 31"),["DIAS"].includes(this.form?.controls.periodicidade_consolidacao.value)&&e.value<0&&(l="Inv\xe1lido")),l},this.formValidation=e=>{let t=null;return this.form?.controls.data_fim.value&&this.form?.controls.data_inicio.value>this.form?.controls.data_fim.value&&(t="A data do fim n\xe3o pode ser anterior \xe0 data do inicio!"),t},this.titleEdit=e=>"Editando "+this.lex.translate("Programa")+": "+(e?.nome||""),this.unidadeDao=o.get(N.J),this.templateDao=o.get(J.w),this.tipoDocumentoDao=o.get(U.Q),this.tipoAvaliacaoDao=o.get(M.r),this.tipoJustificativaDao=o.get(z.i),this.templateService=o.get(B.E),this.modalWidth=700,this.form=this.fh.FormBuilder({unidade_id:{default:""},nome:{default:""},normativa:{default:""},link_normativa:{default:null},config:{default:null},data_inicio:{default:new Date},data_fim:{default:new Date},template_tcr_id:{default:null},tipo_avaliacao_plano_entrega_id:{default:""},tipo_avaliacao_plano_trabalho_id:{default:""},tipo_documento_tcr_id:{default:null},prazo_max_plano_entrega:{default:365},termo_obrigatorio:{default:!0},periodicidade_consolidacao:{default:"MENSAL"},periodicidade_valor:{default:1},dias_tolerancia_consolidacao:{default:10},registra_comparecimento:{default:!0},plano_trabalho_assinatura_participante:{default:!0},plano_trabalho_assinatura_gestor_lotacao:{default:!0},plano_trabalho_assinatura_gestor_unidade:{default:!0},plano_trabalho_assinatura_gestor_entidade:{default:!0},checklist_avaliacao_entregas_plano_trabalho:{default:[]},checklist_plano_trabalho_texto:{default:""},checklist_avaliacao_entregas_plano_entrega:{default:[]},checklist_plano_entrega_texto:{default:""},plano_trabalho_criterios_avaliacao:{default:[]},plano_trabalho_criterio_avaliacao:{default:""},dias_tolerancia_avaliacao:{default:20},dias_tolerancia_recurso_avaliacao:{default:20},nota_padrao_avaliacao:{default:0},tipo_justificativa_id:{default:null}},this.cdRef,this.validate),this.join=["unidade"]}loadData(o,e){var t=this;return(0,m.Z)(function*(){let l=Object.assign({},e.value);yield Promise.all([t.unidade.loadSearch(o.unidade||o.unidade_id)]),o.plano_trabalho_criterios_avaliacao=o.plano_trabalho_criterios_avaliacao||[],o.checklist_avaliacao_entregas_plano_entrega=o.checklist_avaliacao_entregas_plano_entrega||[],o.checklist_avaliacao_entregas_plano_trabalho=o.checklist_avaliacao_entregas_plano_trabalho||[],e.patchValue(t.util.fillForm(l,o))})()}initializeData(o){o.patchValue(new A.i)}saveData(o){return new Promise((e,t)=>{const l=this.util.fill(new A.i,this.entity);e(this.util.fillForm(l,this.form.value))})}isTipoAvaliacao(o){let e=this.tipoAvaliacao?.selectedEntity;return e?.tipo==o||!e&&"QUANTITATIVO"==o}get tipoAvaliacaoQualitativo(){let e=this.tipoAvaliacao?.selectedEntity?.notas?.map(t=>Object.assign({},{key:t.nota,value:t.nota}))||[];return JSON.stringify(e)!=JSON.stringify(this._tipoAvaliacaoQualitativo)&&(this._tipoAvaliacaoQualitativo=e),this._tipoAvaliacaoQualitativo}addItemHandlePlanoEntregaChecklist(){let o;const e=this.form.controls.checklist_plano_entrega_texto.value,t=this.util.textHash(e);return e?.length&&this.util.validateLookupItem(this.form.controls.checklist_avaliacao_entregas_plano_entrega.value,t)&&(o={key:t,value:this.form.controls.checklist_plano_entrega_texto.value},this.form.controls.checklist_plano_entrega_texto.setValue("")),o}onClickIN(){window.open(this.form?.controls.link_normativa.value)}static#a=this.\u0275fac=function(e){return new(e||T)(a.Y36(a.zs3))};static#t=this.\u0275cmp=a.Xpm({type:T,selectors:[["app-programa-form"]],viewQuery:function(e,t){if(1&e&&(a.Gf(Z.Q,5),a.Gf($,5),a.Gf(aa,5)),2&e){let l;a.iGM(l=a.CRH())&&(t.editableForm=l.first),a.iGM(l=a.CRH())&&(t.unidade=l.first),a.iGM(l=a.CRH())&&(t.tipoAvaliacao=l.first)}},features:[a.qOj],decls:50,vars:83,consts:[["initialFocus","unidade_id",3,"form","disabled","title","submit","cancel"],["display","","right",""],["key","GERAL","label","Geral"],[1,"row"],["label","Unidade Instituidora","controlName","unidade_id","required","",3,"size","dao","selectParams"],["unidade",""],["date","","label","Data de In\xedcio","icon","bi bi-calendar-date","controlName","data_inicio","labelInfo","Data de in\xedcio da vig\xeancia do programa de gest\xe3o na unidade instituidora",3,"size","control"],["date","","label","Data de Fim","icon","bi bi-calendar-date","controlName","data_fim","labelInfo","Data de fim da vig\xeancia do programa de gest\xe3o na unidade instituidora",3,"size","control"],["label","Dura\xe7\xe3o M\xe1x P.E.","icon","bi bi-blockquote-left","controlName","prazo_max_plano_entrega","labelInfo","Limite m\xe1ximo de dias corridos para a dura\xe7\xe3o do plano de entregas a partir da sua data de cria\xe7\xe3o (Zero para n\xe3o limitar)",3,"size","control"],["label","T\xedtulo","icon","bi bi-textarea-t","controlName","nome","required","",3,"size","control"],["label","Normativa","icon","bi bi-blockquote-left","controlName","normativa","labelInfo","Normativa que regula o Programa",3,"size","control"],["label","Link Normativa","icon","bi bi-link-45deg","controlName","link_normativa","labelInfo","Link web da instru\xe7\xe3o normativa",3,"size","control"],["class","row justify-content-end my-2",4,"ngIf"],["key","PLANO_ENTREGA",3,"label"],["controlName","tipo_avaliacao_plano_entrega_id","required","",3,"label","size","dao","labelInfo"],["tipoAvaliacaoEntrega",""],[3,"title"],["label","Checklists das entregas","controlName","checklist_avaliacao_entregas_plano_entrega",3,"size","addItemHandle"],["controlName","checklist_plano_entrega_texto",3,"size"],["key","PLANO_TRABALHO",3,"label"],["scale","small","labelPosition","right","controlName","termo_obrigatorio","label","Se o termo \xe9 obrigat\xf3rio",3,"size"],["scale","small","labelPosition","right","controlName","plano_trabalho_assinatura_participante",3,"size","label"],["scale","small","labelPosition","right","controlName","plano_trabalho_assinatura_gestor_lotacao",3,"size","label"],["scale","small","labelPosition","right","controlName","plano_trabalho_assinatura_gestor_unidade",3,"size","label"],["scale","small","labelPosition","right","controlName","plano_trabalho_assinatura_gestor_entidade",3,"size","label"],["detailsButton","","labelInfo","Template do termo utilizado no plano de trabalho","controlName","template_tcr_id","required","",3,"label","size","dao","where","selectRoute","details"],["controlName","tipo_documento_tcr_id","labelInfo","Tipo de documento utilizado para exportar o termo para o SEI/SUPER",3,"label","size","dao"],["tipoDocumento",""],["controlName","tipo_avaliacao_plano_trabalho_id","required","",3,"label","size","dao","labelInfo"],["tipoAvaliacao",""],["label","Periodicidade","controlName","periodicidade_consolidacao","labelInfo","Per\xedodo para avalia\xe7\xe3o do plano de trabalho",3,"size","control","items"],["label","Dia da semana","controlName","periodicidade_valor","labelInfo","Representa quantidade de dias para DIAS; dia da semana para SEMANAL e QUINZENAL; e dia do m\xeas para o restante",3,"size","control","items",4,"ngIf"],["label","Dia do m\xeas","controlName","periodicidade_valor","labelInfo","Representa quantidade de dias para DIAS; dia da semana para SEMANAL e QUINZENAL; e dia do m\xeas para o restante",3,"size","control",4,"ngIf"],["label","Qtd. de Dias","controlName","periodicidade_valor","labelInfo","Representa quantidade de dias para DIAS; dia da semana para SEMANAL e QUINZENAL; e dia do m\xeas para o restante",3,"size","control",4,"ngIf"],["label","Toler\xe2ncia","controlName","dias_tolerancia_consolidacao","labelInfo","Dias de toler\xe2ncia para o lan\xe7amento do registro das atividades na consolida\xe7\xe3o, ap\xf3s esses dias ser\xe1 liberado automaticamente para avalia\xe7\xe3o",3,"size","control"],["type","warning",3,"message"],["label","Toler\xe2ncia p/ avalia\xe7\xe3o","controlName","dias_tolerancia_avaliacao","labelInfo","Dias de toler\xe2ncia para realizar a avalia\xe7\xe3o, considerando a toler\xe2ncia da consolida\xe7\xe3o. Caso seja zero n\xe3o far\xe1 nada, caso contr\xe1rio ap\xf3s esse prazo a consolida\xe7\xe3o ser\xe1 automaticamente avaliada com a nota padr\xe3o",3,"size","control"],["label","Toler\xe2ncia p/ recurso","controlName","dias_tolerancia_recurso_avaliacao","labelInfo","Dias de toler\xe2ncia para recorrer da avalia\xe7\xe3o",3,"size","control"],["label","Nota","labelInfo","Nota que ser\xe1 atribu\xeddo automaticamente caso a toler\xe2ncia seja alcan\xe7ada",3,"size","control",4,"ngIf"],["label","Conceito","labelInfo","Nota que ser\xe1 atribu\xeddo automaticamente caso a toler\xe2ncia seja alcan\xe7ada",3,"size","control","items",4,"ngIf"],["controlName","tipo_justificativa_id","labelInfo","Tipo de justificativa, para quando o gestor n\xe3o realizar a avalia\xe7\xe3o dentro do prazo",3,"label","size","emptyValue","dao"],["tipoJustificativa",""],[1,"row","justify-content-end","my-2"],[1,"col-4"],["label","Acessar Instr. Normativa","icon","bi bi-box-arrow-up-right",3,"click"],["label","Dia da semana","controlName","periodicidade_valor","labelInfo","Representa quantidade de dias para DIAS; dia da semana para SEMANAL e QUINZENAL; e dia do m\xeas para o restante",3,"size","control","items"],["label","Dia do m\xeas","controlName","periodicidade_valor","labelInfo","Representa quantidade de dias para DIAS; dia da semana para SEMANAL e QUINZENAL; e dia do m\xeas para o restante",3,"size","control"],["label","Qtd. de Dias","controlName","periodicidade_valor","labelInfo","Representa quantidade de dias para DIAS; dia da semana para SEMANAL e QUINZENAL; e dia do m\xeas para o restante",3,"size","control"],["label","Nota","labelInfo","Nota que ser\xe1 atribu\xeddo automaticamente caso a toler\xe2ncia seja alcan\xe7ada",3,"size","control"],["label","Conceito","labelInfo","Nota que ser\xe1 atribu\xeddo automaticamente caso a toler\xe2ncia seja alcan\xe7ada",3,"size","control","items"]],template:function(e,t){1&e&&(a.TgZ(0,"editable-form",0),a.NdJ("submit",function(){return t.onSaveData()})("cancel",function(){return t.onCancel()}),a.TgZ(1,"tabs",1)(2,"tab",2)(3,"div",3),a._UZ(4,"input-search",4,5),a.qZA(),a.TgZ(6,"div",3),a._UZ(7,"input-datetime",6)(8,"input-datetime",7)(9,"input-number",8),a.qZA(),a.TgZ(10,"div",3),a._UZ(11,"input-text",9)(12,"input-text",10)(13,"input-text",11),a.qZA(),a.YNc(14,ta,3,0,"div",12),a.qZA(),a.TgZ(15,"tab",13),a._UZ(16,"input-search",14,15),a.TgZ(18,"separator",16)(19,"input-multiselect",17),a._UZ(20,"input-text",18),a.qZA()()(),a.TgZ(21,"tab",19),a._UZ(22,"input-switch",20)(23,"input-switch",21)(24,"input-switch",22)(25,"input-switch",23)(26,"input-switch",24),a.TgZ(27,"input-search",25),a.NdJ("details",function(c){return t.templateService.details(c)}),a.qZA(),a._UZ(28,"input-search",26,27)(30,"input-search",28,29),a.TgZ(32,"separator",16)(33,"div",3),a._UZ(34,"input-select",30),a.YNc(35,ea,1,3,"input-select",31),a.YNc(36,oa,1,2,"input-number",32),a.YNc(37,ia,1,2,"input-number",33),a._UZ(38,"input-number",34),a.qZA()(),a.TgZ(39,"separator",16)(40,"div",3),a._UZ(41,"top-alert",35),a.qZA(),a.TgZ(42,"div",3),a._UZ(43,"input-number",36)(44,"input-number",37),a.qZA(),a.TgZ(45,"div",3),a.YNc(46,na,1,2,"input-number",38),a.YNc(47,la,1,3,"input-select",39),a._UZ(48,"input-search",40,41),a.qZA()()()()()),2&e&&(a.Q6J("form",t.form)("disabled",t.formDisabled)("title",t.isModal?"":t.title),a.xp6(4),a.Q6J("size",12)("dao",t.unidadeDao)("selectParams",a.VKq(75,sa,a.DdM(74,ra))),a.xp6(3),a.Q6J("size",4)("control",t.form.controls.data_inicio),a.xp6(1),a.Q6J("size",4)("control",t.form.controls.data_fim),a.xp6(1),a.Q6J("size",4)("control",t.form.controls.prazo_max_plano_entrega),a.xp6(2),a.Q6J("size",4)("control",t.form.controls.nome),a.uIk("maxlength",250),a.xp6(1),a.Q6J("size",4)("control",t.form.controls.normativa),a.uIk("maxlength",250),a.xp6(1),a.Q6J("size",4)("control",t.form.controls.link_normativa),a.xp6(1),a.Q6J("ngIf",t.form.controls.link_normativa.value),a.xp6(1),a.Q6J("label",t.lex.translate("Plano de entrega")),a.xp6(1),a.Q6J("label",t.lex.translate("Tipo de avalia\xe7\xe3o do Plano de entrega"))("size",12)("dao",t.tipoAvaliacaoDao)("labelInfo",t.lex.translate("Tipo de avalia\xe7\xe3o")+" que especifica a forma que ser\xe1 avaliado "+t.lex.translate("plano de trabalho")+" e "+t.lex.translate("plano de entrega")),a.xp6(2),a.Q6J("title",t.lex.translate("Avalia\xe7\xe3o")+t.lex.translate(" do Plano de Entrega")),a.xp6(1),a.Q6J("size",12)("addItemHandle",t.addItemHandlePlanoEntregaChecklist.bind(t)),a.xp6(1),a.Q6J("size",12),a.uIk("maxlength",250),a.xp6(1),a.Q6J("label",t.lex.translate("Plano de trabalho")),a.xp6(1),a.Q6J("size",12),a.xp6(1),a.Q6J("size",12)("label","Exige assinatura "+t.lex.translate("do usu\xe1rio")+t.lex.translate(" do plano de trabalho")),a.xp6(1),a.Q6J("size",12)("label","Exige assinatura do gestor da lota\xe7\xe3o "+t.lex.translate("do usu\xe1rio")+" (para "+t.lex.translate("unidade")+" distinta)"),a.xp6(1),a.Q6J("size",12)("label","Exige assinatura do gestor "+t.lex.translate("da unidade")),a.xp6(1),a.Q6J("size",12)("label","Exige assinatura do gestor "+t.lex.translate("da entidade")),a.xp6(1),a.Q6J("label","Template "+t.lex.translate("termo")+" (TCR)")("size",12)("dao",t.templateDao)("where",a.VKq(78,ua,a.DdM(77,da)))("selectRoute",t.templateService.selectRoute("TCR",null==t.form||null==t.form.controls||null==t.form.controls.template_tcr_id?null:t.form.controls.template_tcr_id.value)),a.xp6(1),a.Q6J("label","Tipo de documento "+t.lex.translate("termo"))("size",12)("dao",t.tipoDocumentoDao),a.xp6(2),a.Q6J("label",t.lex.translate("Tipo de avalia\xe7\xe3o do Plano de trabalho"))("size",12)("dao",t.tipoAvaliacaoDao)("labelInfo",t.lex.translate("Tipo de avalia\xe7\xe3o")+" que especifica a forma que ser\xe1 avaliado "+t.lex.translate("plano de trabalho")+" e "+t.lex.translate("plano de entrega")),a.xp6(2),a.Q6J("title",t.lex.translate("Consolida\xe7\xe3o")+t.lex.translate(" do Plano de trabalho")),a.xp6(2),a.Q6J("size",6)("control",t.form.controls.periodicidade_consolidacao)("items",t.lookup.PERIODICIDADE_CONSOLIDACAO),a.xp6(1),a.Q6J("ngIf",a.DdM(80,ca).includes(t.form.controls.periodicidade_consolidacao.value)),a.xp6(1),a.Q6J("ngIf",a.DdM(81,pa).includes(t.form.controls.periodicidade_consolidacao.value)),a.xp6(1),a.Q6J("ngIf",a.DdM(82,ma).includes(t.form.controls.periodicidade_consolidacao.value)),a.xp6(1),a.Q6J("size",3)("control",t.form.controls.dias_tolerancia_consolidacao),a.xp6(1),a.Q6J("title",t.lex.translate("Avalia\xe7\xe3o")+t.lex.translate(" da Consolida\xe7\xe3o")),a.xp6(2),a.Q6J("message","O sistema ir\xe1 atribuir automaticamente a nota e o tipo de justificativa abaixo quando a toler\xe2ncia para avalia\xe7\xe3o for alcan\xe7ada"),a.xp6(2),a.Q6J("size",6)("control",t.form.controls.dias_tolerancia_avaliacao),a.xp6(1),a.Q6J("size",6)("control",t.form.controls.dias_tolerancia_recurso_avaliacao),a.xp6(2),a.Q6J("ngIf",t.isTipoAvaliacao("QUANTITATIVO")),a.xp6(1),a.Q6J("ngIf",t.isTipoAvaliacao("QUALITATIVO")),a.xp6(1),a.Q6J("label",t.lex.translate("Tipo de justificativa"))("size",8)("emptyValue",null)("dao",t.tipoJustificativaDao))},dependencies:[b.O5,Z.Q,u.a,n.V,r.m,_.k,E.p,L.p,H.n,G.i,Y.N,W.o,K.l,X.x]})}var x=d(73150),R=d(78509),S=d(57224),F=d(83351),q=d(57765),k=d(45512),j=d(42704);function _a(s,o){1&s&&a._UZ(0,"toolbar")}function ha(s,o){if(1&s&&(a.TgZ(0,"span"),a._uU(1),a.qZA(),a._UZ(2,"br"),a.TgZ(3,"small"),a._uU(4),a.qZA()),2&s){const e=o.row;a.xp6(1),a.hij(" ",e.nome,""),a.xp6(3),a.hij(" ",e.normativa,"")}}function ga(s,o){if(1&s&&(a.TgZ(0,"span"),a._uU(1),a.qZA(),a._UZ(2,"br"),a.TgZ(3,"small"),a._uU(4),a.qZA()),2&s){const e=o.row;a.xp6(1),a.hij(" ",e.unidade.nome,""),a.xp6(3),a.hij(" ",e.unidade.sigla,"")}}function fa(s,o){if(1&s&&(a.TgZ(0,"span"),a._uU(1),a.qZA(),a._UZ(2,"br")),2&s){const e=o.row,t=a.oxw();a.xp6(1),a.hij(" ",t.dao.getDateFormatted(e.data_inicio),"")}}function ba(s,o){if(1&s&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&s){const e=o.row,t=a.oxw();a.xp6(1),a.hij(" ",t.dao.getDateFormatted(e.data_fim),"")}}class D extends R.E{constructor(o,e){super(o,A.i,v.w),this.injector=o,this.vigentesUnidadeExecutora=!1,this.filterWhere=t=>{let l=[],c=t.value;return this.vigentesUnidadeExecutora&&l.push(["vigentesUnidadeExecutora","==",this.auth.unidade.id]),c.nome?.length&&l.push(["nome","like","%"+c.nome.trim().replace(" ","%")+"%"]),l},this.title=this.lex.translate("Programas de Gest\xe3o"),this.code="MOD_PRGT",this.join=["unidade:id, nome"],this.filter=this.fh.FormBuilder({nome:{default:""}}),this.addOption(this.OPTION_INFORMACOES),this.addOption(this.OPTION_EXCLUIR,"MOD_PRGT_EXCL"),this.addOption(this.OPTION_LOGS,"MOD_AUDIT_LOG"),this.auth.hasPermissionTo("MOD_PART")&&this.options.push({icon:"bi bi-people",label:"Participantes",onClick:t=>this.go.navigate({route:["gestao","programa",t.id,"participantes"]},{metadata:{programa:t}})})}ngOnInit(){super.ngOnInit(),this.vigentesUnidadeExecutora=this.metadata?.vigentesUnidadeExecutora}static#a=this.\u0275fac=function(e){return new(e||D)(a.Y36(a.zs3),a.Y36(v.w))};static#t=this.\u0275cmp=a.Xpm({type:D,selectors:[["app-programa-list"]],viewQuery:function(e,t){if(1&e&&a.Gf(x.M,5),2&e){let l;a.iGM(l=a.CRH())&&(t.grid=l.first)}},features:[a.qOj],decls:20,vars:28,consts:[[3,"dao","add","title","orderBy","groupBy","join","selectable","hasAdd","hasEdit","select"],[4,"ngIf"],[3,"deleted","form","where","submit","collapseChange","collapsed"],[1,"row"],["controlName","nome",3,"size","label","control","placeholder"],["title","T\xedtulo/Normativa",3,"template"],["columnTituloNormativa",""],["title","Unidade instituidora",3,"template"],["columnUnidadeInstituidora",""],["title","In\xedcio da Vig\xeancia",3,"template"],["columnInicioVigencia",""],["title","Fim da Vig\xeancia",3,"template"],["columnFimVigencia",""],["type","options",3,"onEdit","options"],[3,"rows"]],template:function(e,t){if(1&e&&(a.TgZ(0,"grid",0),a.NdJ("select",function(c){return t.onSelect(c)}),a.YNc(1,_a,1,0,"toolbar",1),a.TgZ(2,"filter",2)(3,"div",3),a._UZ(4,"input-text",4),a.qZA()(),a.TgZ(5,"columns")(6,"column",5),a.YNc(7,ha,5,2,"ng-template",null,6,a.W1O),a.qZA(),a.TgZ(9,"column",7),a.YNc(10,ga,5,2,"ng-template",null,8,a.W1O),a.qZA(),a.TgZ(12,"column",9),a.YNc(13,fa,3,1,"ng-template",null,10,a.W1O),a.qZA(),a.TgZ(15,"column",11),a.YNc(16,ba,2,1,"ng-template",null,12,a.W1O),a.qZA(),a._UZ(18,"column",13),a.qZA(),a._UZ(19,"pagination",14),a.qZA()),2&e){const l=a.MAs(8),c=a.MAs(11),p=a.MAs(14),g=a.MAs(17);a.Q6J("dao",t.dao)("add",t.add)("title",t.isModal?"":t.title)("orderBy",t.orderBy)("groupBy",t.groupBy)("join",t.join)("selectable",t.selectable)("hasAdd",t.auth.hasPermissionTo("MOD_PRGT_INCL"))("hasEdit",t.auth.hasPermissionTo("MOD_PRGT_EDT")),a.xp6(1),a.Q6J("ngIf",!t.selectable),a.xp6(1),a.Q6J("deleted",t.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",t.filter)("where",t.filterWhere)("submit",t.filterSubmit.bind(t))("collapseChange",t.filterCollapseChange.bind(t))("collapsed",!t.selectable&&t.filterCollapsed),a.xp6(2),a.Q6J("size",12)("label","Nome do "+t.lex.translate("programa"))("control",t.filter.controls.nome)("placeholder","Nome do "+t.lex.translate("programa")),a.uIk("maxlength",250),a.xp6(2),a.Q6J("template",l),a.xp6(3),a.Q6J("template",c),a.xp6(3),a.Q6J("template",p),a.xp6(3),a.Q6J("template",g),a.xp6(3),a.Q6J("onEdit",t.edit)("options",t.options),a.xp6(1),a.Q6J("rows",t.rowsLimit)}},dependencies:[b.O5,x.M,S.a,F.b,q.z,k.n,j.Q,r.m]})}var va=d(22866),Aa=d(91042),Ea=d(35255),Ta=d(26898),Ia=d(95489),Pa=d(2729);const Ca=["programaSearch"];function Za(s,o){if(1&s){const e=a.EpF();a.TgZ(0,"toolbar")(1,"input-switch",20),a.NdJ("change",function(){a.CHM(e);const l=a.oxw();return a.KtG(l.grid.reloadFilter())}),a.qZA()()}if(2&s){const e=a.oxw();a.xp6(1),a.Q6J("size",3)("label",e.lex.translate("Habilitados"))("labelInfo","Se ON, retorna apenas "+e.lex.translate("os usu\xe1rios")+" habilitados "+e.lex.translate("no programa")+". Se OFF, retorna apenas os desabilitados.")("control",e.filter.controls.habilitados)}}function Na(s,o){if(1&s&&(a.TgZ(0,"div",21)(1,"span")(2,"strong"),a._uU(3),a.qZA()()()),2&s){const e=a.oxw();a.xp6(3),a.Oqu("Programa: "+(null==e.programa?null:e.programa.nome)||0)}}function xa(s,o){if(1&s&&a._UZ(0,"profile-picture",22),2&s){const e=o.row;a.Q6J("url",e.url_foto)("size",40)("hint",e.nome)}}function Da(s,o){if(1&s&&(a.TgZ(0,"strong"),a._uU(1),a.qZA(),a._UZ(2,"br"),a.TgZ(3,"small"),a._uU(4),a.qZA()),2&s){const e=o.row;a.xp6(1),a.Oqu(e.nome),a.xp6(3),a.Oqu(e.apelido)}}function Oa(s,o){if(1&s&&a._UZ(0,"badge",23),2&s){const e=o.row,t=a.oxw();a.Q6J("icon",t.isHabilitado(e)?"bi bi-person-check":"bi-person-fill-slash")("label",t.isHabilitado(e)?t.lex.translate("Habilitado"):t.lex.translate("Desabilitado"))("color",t.isHabilitado(e)?"success":"danger")}}function ya(s,o){if(1&s&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&s){const e=o.row;a.xp6(1),a.Oqu(e.lotacao.unidade.sigla)}}function Qa(s,o){if(1&s&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&s){const e=o.row,t=a.oxw();a.xp6(1),a.Oqu(t.hasPlanoTrabalhoAtivo(e)?"sim":"n\xe3o")}}const Ja=function(s){return["vigentesUnidadeExecutora","==",s]},Ma=function(s){return[s]},Ua=function(){return{vigentesUnidadeExecutora:!0}};class I extends R.E{constructor(o){super(o,Ta.b,Ea.q),this.injector=o,this.multiselectMenu=[],this.programa=null,this.BOTAO_HABILITAR={label:this.lex.translate("Habilitar"),hint:this.lex.translate("Habilitar"),icon:"bi bi-person-check-fill",color:"btn-outline-success",onClick:this.habilitarParticipante.bind(this)},this.BOTAO_DESABILITAR={label:this.lex.translate("Desabilitar"),hint:this.lex.translate("Desabilitar"),icon:"bi bi-person-x-fill",color:"btn-outline-danger",onClick:this.desabilitarParticipante.bind(this)},this.validate=(e,t)=>{let l=null;return["programa_id"].indexOf(t)>=0&&!e.value?.length&&(l="Obrigat\xf3rio"),l},this.filterWhere=e=>{let t=[],l=e.value;return l.unidade_id?.length&&t.push(["lotacao","==",l.unidade_id]),l.nome_usuario?.length&&t.push(["nome","like","%"+l.nome_usuario.trim().replace(" ","%")+"%"]),t.push(["habilitado","==",this.filter?.controls.habilitados.value]),t.push(["programa_id","==",this.programa?.id]),t},this.unidadeDao=o.get(N.J),this.programaParticipanteDao=o.get(Aa.U),this.programaDao=o.get(v.w),this.code="MOD_PART",this.filter=this.fh.FormBuilder({programa_id:{default:this.programa?.id},unidade_id:{default:this.auth.unidade?.id},nome_usuario:{default:""},habilitados:{default:!1}},this.cdRef,this.validate),this.auth.hasPermissionTo("MOD_PART_HAB")&&this.multiselectMenu.push({icon:"bi bi-person-check-fill",label:this.lex.translate("Habilitar"),color:"btn-outline-success",onClick:this.habilitarParticipantes.bind(this)}),this.auth.hasPermissionTo("MOD_PART_DESAB")&&this.multiselectMenu.push({icon:"bi bi-person-x-fill",label:this.lex.translate("Desabilitar"),color:"btn-outline-danger",onClick:this.desabilitarParticipantes.bind(this)}),this.join=["lotacao.unidade:id,sigla","planos_trabalho:id,status","participacoes_programas:id"],this.title=this.lex.translate("Habilita\xe7\xf5es"),this.orderBy=[["nome","asc"]]}dynamicButtons(o){let e=[];return this.auth.hasPermissionTo("MOD_PART_HAB")&&!this.isHabilitado(o)&&e.push(this.BOTAO_HABILITAR),this.auth.hasPermissionTo("MOD_PART_DESAB")&&this.isHabilitado(o)&&e.push(this.BOTAO_DESABILITAR),e}ngAfterViewInit(){var o=this;super.ngAfterViewInit(),this.grid.BUTTON_MULTISELECT_SELECIONAR="Marcar",this.grid.BUTTON_MULTISELECT_CANCELAR_SELECAO="Cancelar Marca\xe7\xe3o",this.grid.BUTTON_MULTISELECT.label="Marcar",(0,m.Z)(function*(){o.loading=!0;try{o.programa=o.metadata?.programa,o.programa||(yield o.programaDao.query({where:[["vigentesUnidadeExecutora","==",o.auth.unidade.id]]}).asPromise().then(e=>{o.programa=e[0],o.programaSearch?.loadSearch(o.programa)}))}finally{o.loading=!1}})()}filterClear(o){o.controls.unidade_id.setValue(void 0),o.controls.nome_usuario.setValue(""),o.controls.habilitados.setValue(!0)}habilitarParticipante(o){var e=this;return(0,m.Z)(function*(){return yield e.programaParticipanteDao.habilitar([o.id],e.programa.id,1,!1).then(t=>{(e.grid?.query||e.query).refreshId(o.id),e.cdRef.detectChanges()}),!1})()}desabilitarParticipante(o){var e=this;return(0,m.Z)(function*(){if(yield e.dialog.confirm("Desabilitar ?","Deseja DESABILITAR "+e.lex.translate("o servidor")+" "+o.nome.toUpperCase()+" "+e.lex.translate("do programa")+" "+(e.programa?.nome).toUpperCase()+" ?")){let l=!1;e.hasPlanoTrabalhoAtivo(o)&&(l=yield e.dialog.confirm("ATEN\xc7\xc3O",e.lex.translate("O servidor")+" possui "+e.lex.translate("Plano de Trabalho")+" ativo vinculado a "+e.lex.translate("este Programa")+"! Deseja continuar com a desabilita\xe7\xe3o, suspendendo o seu "+e.lex.translate("Plano de Trabalho ?"))),(!e.hasPlanoTrabalhoAtivo(o)||l)&&(yield e.programaParticipanteDao.habilitar([o.id],e.programa.id,0,l).then(c=>{(e.grid?.query||e.query).refreshId(o.id),e.cdRef.detectChanges()}))}})()}habilitarParticipantes(){var o=this;return(0,m.Z)(function*(){if(o.grid.multiselectedCount){const e=o;o.dialog.confirm("Habilitar Participantes ?","Confirma a habilita\xe7\xe3o de todos esses participantes?").then(t=>{if(t){const l=Object.values(o.grid.multiselected).map(c=>c.id);o.programaParticipanteDao.habilitar(l,o.programa.id,1,!1).then(function(){e.dialog.topAlert("Participantes habilitados com sucesso!",5e3),(e.grid?.query||e.query).refresh()}).catch(function(c){e.dialog.alert("Erro",(c?.message,c?.message))}),o.grid?.enableMultiselect(!1),e.cdRef.detectChanges()}})}else o.dialog.alert("Selecione","Nenhum participante selecionado para a habilita\xe7\xe3o")})()}desabilitarParticipantes(){var o=this;return(0,m.Z)(function*(){let e=Object.keys(o.grid.multiselected);o.dialog.confirm("Desabilitar ?","Deseja DESABILITAR, "+o.lex.translate("do programa")+" "+(o.programa?.nome).toUpperCase()+" todos "+o.lex.translate("os usu\xe1rios")+" selecionados ?").then(function(){var t=(0,m.Z)(function*(l){if(l){const c=o;let p=0;yield o.programaParticipanteDao.quantidadePlanosTrabalhoAtivos(e).then(f=>{p=f});let g=!1;if(p&&(yield o.dialog.confirm("ATEN\xc7\xc3O","H\xe1 "+p+o.lex.translate(1==p?" usu\xe1rio":" usu\xe1rios")+" com "+o.lex.translate("Plano de Trabalho")+" ativo vinculado a "+o.lex.translate("este Programa")+"! Deseja continuar com a desabilita\xe7\xe3o, suspendendo "+(1==p?"o seu ":"todos ")+o.lex.translate(1==p?"Plano de Trabalho":"os Planos de Trabalho")+" ?").then(f=>{g=f})),!p||g){const f=Object.values(o.grid.multiselected).map(Q=>Q.id);o.programaParticipanteDao.habilitar(f,o.programa.id,0,g).then(Q=>{c.dialog.topAlert("Participantes desabilitados com sucesso!",5e3),(o.grid?.query||o.query).refresh()}).catch(function(Q){c.grid&&(c.grid.error=Q)}),o.grid?.enableMultiselect(!1),o.cdRef.detectChanges()}}});return function(l){return t.apply(this,arguments)}}())})()}onProgramaChange(){this.programa=this.programaSearch?.selectedItem?.entity,this.programa&&this.grid?.reloadFilter()}isHabilitado(o){return!!o.participacoes_programas.find(e=>1==e.habilitado&&e.programa_id==this.programa?.id)}hasPlanoTrabalhoAtivo(o){return!!o.planos_trabalho?.find(e=>"ATIVO"==e.status&&this.util.between((0,va.now)(),{start:e.data_inicio,end:e.data_fim}))}static#a=this.\u0275fac=function(e){return new(e||I)(a.Y36(a.zs3))};static#t=this.\u0275cmp=a.Xpm({type:I,selectors:[["app-programa-participantes"]],viewQuery:function(e,t){if(1&e&&(a.Gf(x.M,5),a.Gf(Ca,5)),2&e){let l;a.iGM(l=a.CRH())&&(t.grid=l.first),a.iGM(l=a.CRH())&&(t.programaSearch=l.first)}},features:[a.qOj],decls:29,vars:53,consts:[["multiselect","","editable","",3,"dao","title","orderBy","groupBy","join","selectable","hasAdd","hasEdit","hasDelete","multiselectMenu","select"],[4,"ngIf"],[3,"deleted","form","where","clear","submit","collapseChange","collapsed"],[1,"row"],["controlName","programa_id","required","",3,"size","disabled","control","dao","where","metadata","change"],["programaSearch",""],["controlName","nome_usuario",3,"size","label","control","placeholder"],["controlName","unidade_id",3,"size","control","label","labelInfo","dao"],["unidade",""],["class","mt-2 mb-4",4,"ngIf"],["icon","bi-person",1,"text-center",3,"template"],["columnFoto",""],[3,"title","template"],["columnUsuario",""],[3,"title","align","template"],["columnHabilitado",""],["columnLotacao",""],["columnPlanoTrabalho",""],["type","options",3,"dynamicButtons"],[3,"rows"],["labelPosition","left","controlName","habilitados",3,"size","label","labelInfo","control","change"],[1,"mt-2","mb-4"],[3,"url","size","hint"],[3,"icon","label","color"]],template:function(e,t){if(1&e&&(a.TgZ(0,"grid",0),a.NdJ("select",function(c){return t.onSelect(c)}),a.YNc(1,Za,2,4,"toolbar",1),a.TgZ(2,"filter",2)(3,"div",3)(4,"input-search",4,5),a.NdJ("change",function(){return t.onProgramaChange()}),a.qZA()(),a.TgZ(6,"div",3),a._UZ(7,"input-text",6)(8,"input-search",7,8),a.qZA()(),a.YNc(10,Na,4,1,"div",9),a.TgZ(11,"columns")(12,"column",10),a.YNc(13,xa,1,3,"ng-template",null,11,a.W1O),a.qZA(),a.TgZ(15,"column",12),a.YNc(16,Da,5,2,"ng-template",null,13,a.W1O),a.qZA(),a.TgZ(18,"column",14),a.YNc(19,Oa,1,3,"ng-template",null,15,a.W1O),a.qZA(),a.TgZ(21,"column",12),a.YNc(22,ya,2,1,"ng-template",null,16,a.W1O),a.qZA(),a.TgZ(24,"column",14),a.YNc(25,Qa,2,1,"ng-template",null,17,a.W1O),a.qZA(),a._UZ(27,"column",18),a.qZA(),a._UZ(28,"pagination",19),a.qZA()),2&e){const l=a.MAs(14),c=a.MAs(17),p=a.MAs(20),g=a.MAs(23),f=a.MAs(26);a.Q6J("dao",t.dao)("title",t.isModal?"":t.title)("orderBy",t.orderBy)("groupBy",t.groupBy)("join",t.join)("selectable",t.selectable)("hasAdd",!1)("hasEdit",!1)("hasDelete",!1)("multiselectMenu",t.multiselectMenu),a.xp6(1),a.Q6J("ngIf",!t.selectable),a.xp6(1),a.Q6J("deleted",t.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",t.filter)("where",t.filterWhere)("clear",t.filterClear.bind(t))("submit",t.filterSubmit.bind(t))("collapseChange",t.filterCollapseChange.bind(t))("collapsed",!t.selectable&&t.filterCollapsed),a.xp6(2),a.Q6J("size",12)("disabled",t.isModal?"true":void 0)("control",t.filter.controls.programa_id)("dao",t.programaDao)("where",a.VKq(50,Ma,a.VKq(48,Ja,t.auth.unidade.id)))("metadata",a.DdM(52,Ua)),a.xp6(3),a.Q6J("size",6)("label","Nome do "+t.lex.translate("usu\xe1rio"))("control",t.filter.controls.nome_usuario)("placeholder","Nome do "+t.lex.translate("usuario")+"..."),a.uIk("maxlength",250),a.xp6(1),a.Q6J("size",6)("control",t.filter.controls.unidade_id)("label",t.lex.translate("Unidade ")+t.lex.translate("de lota\xe7\xe3o"))("labelInfo","Se a op\xe7\xe3o TODOS estiver OFF, exibe apenas "+t.lex.translate("os usu\xe1rios")+" habilitados lotados "+t.lex.translate("nessa unidade")+". Se a op\xe7\xe3o TODOS estiver ON, exibe todos "+t.lex.translate("os usu\xe1rios")+" lotados "+t.lex.translate("nessa unidade")+", habilitados, desabilitados e inabilitados.")("dao",t.unidadeDao),a.xp6(2),a.Q6J("ngIf",null==t.grid||null==t.grid.filterRef?null:t.grid.filterRef.collapsed),a.xp6(2),a.Q6J("template",l),a.xp6(3),a.Q6J("title",t.lex.translate("Usu\xe1rio"))("template",c),a.xp6(3),a.Q6J("title",t.lex.translate("Habilitado"))("align","center")("template",p),a.xp6(3),a.Q6J("title",t.lex.translate("Lota\xe7\xe3o"))("template",g),a.xp6(3),a.Q6J("title",t.lex.translate("Plano de Trabalho")+" ativo?")("align","center")("template",f),a.xp6(3),a.Q6J("dynamicButtons",t.dynamicButtons.bind(t)),a.xp6(1),a.Q6J("rows",t.rowsLimit)}},dependencies:[b.O5,x.M,S.a,F.b,q.z,k.n,j.Q,u.a,n.V,r.m,Ia.F,Pa.q],styles:[".habilitado[_ngcontent-%COMP%]{background:#198754;border:2px solid #1B5E20}.desabilitado[_ngcontent-%COMP%]{background:#dc3545;border:2px solid #B71C1C}"]})}const za=[{path:"",component:D,canActivate:[h.a],resolve:{config:i.o},runGuardsAndResolvers:"always",data:{title:"Programas"}},{path:"new",component:T,canActivate:[h.a],resolve:{config:i.o},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o de Programa",modal:!0}},{path:"participantes",component:I,canActivate:[h.a],resolve:{config:i.o},runGuardsAndResolvers:"always",data:{title:"Participantes do Programa"}},{path:":id/edit",component:T,canActivate:[h.a],resolve:{config:i.o},runGuardsAndResolvers:"always",data:{title:"Edi\xe7\xe3o de Programa",modal:!0}},{path:":id/consult",component:T,canActivate:[h.a],resolve:{config:i.o},runGuardsAndResolvers:"always",data:{title:"Consulta a Programa",modal:!0}},{path:":id/participantes",component:I,canActivate:[h.a],resolve:{config:i.o},runGuardsAndResolvers:"always",data:{title:"Participantes do Programa",modal:!0}}];class O{static#a=this.\u0275fac=function(e){return new(e||O)};static#t=this.\u0275mod=a.oAB({type:O});static#e=this.\u0275inj=a.cJS({imports:[C.Bz.forChild(za),C.Bz]})}var wa=d(58568),Ba=d(72133);class y{static#a=this.\u0275fac=function(e){return new(e||y)};static#t=this.\u0275mod=a.oAB({type:y});static#e=this.\u0275inj=a.cJS({imports:[b.ez,wa.K,Ba.UX,O]})}}}]);