<<<<<<< HEAD
{"version":3,"file":"685.js","mappings":"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","sources":["./src/app/models/planejamento-objetivo.model.ts","./src/app/models/planejamento.model.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form-objetivo/planejamento-form-objetivo.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form-objetivo/planejamento-form-objetivo.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-form/planejamento-form.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form/planejamento-form.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivo/planejamento-list-objetivo.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivo/planejamento-list-objetivo.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-list/planejamento-list.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list/planejamento-list.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-mapa/planejamento-mapa.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-mapa/planejamento-mapa.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-routing.module.ts","./src/app/modules/gestao/planejamento-institucional/planejamento.module.ts"],"sourcesContent":["import { Base } from './base.model';\r\nimport { EixoTematico } from './eixo-tematico.model';\r\nimport { Planejamento } from './planejamento.model';\r\n\r\nexport class PlanejamentoObjetivo extends Base {\r\n    public planejamento?: Planejamento;\r\n    public eixo_tematico?: EixoTematico;\r\n    public objetivo_pai?: PlanejamentoObjetivo;\r\n    public objetivo_superior?: PlanejamentoObjetivo;\r\n    public objetivos?: PlanejamentoObjetivo[];\r\n    \r\n    public nome: string = \"\"; /* Nome do objetivo */\r\n    public fundamentacao: string = \"\"; /* Fundamentação para a definição do objetivo */\r\n    public sequencia: number = 0; \r\n    public path: string | null = null; \r\n\r\n    public planejamento_id: string | null = null; \r\n    public eixo_tematico_id: string | null = null; \r\n    public objetivo_pai_id: string | null = null;\r\n    public objetivo_superior_id: string | null = null;\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}","import { LookupItem } from '../services/lookup.service';\r\nimport { Base } from './base.model';\r\nimport { Entidade } from './entidade.model';\r\nimport { PlanejamentoObjetivo } from './planejamento-objetivo.model';\r\nimport { Unidade } from './unidade.model';\r\n\r\nexport class Planejamento extends Base {\r\n    public unidade?: Unidade;\r\n    public entidade?: Entidade;\r\n    public objetivos?: PlanejamentoObjetivo[];\r\n    public planejamento_superior?: Planejamento;\r\n    \r\n    public data_arquivamento: Date | null = null;  /* Data de arquivamento */\r\n    public data_inicio: Date = new Date(); /* Data de início do planejamento */\r\n    public data_fim: Date | null = null; /* Data final do planejamento */\r\n    public nome: string = \"\"; /* Nome do planejamento institucional */\r\n    public missao: string = \"\"; /* Missão da Instituição/Unidade */\r\n    public visao: string = \"\"; /* Visão da Instituição/Unidade */\r\n    public valores: LookupItem[] = []; /* Valores da Instituição/Unidade */\r\n    \r\n    public unidade_id: string | null = null; /* Unidade à qual está vinculado o planejamento institucional */\r\n    public entidade_id: string | null = null; /* Entidade à qual está vinculado o planejamento institucional */\r\n    public planejamento_superior_id: string | null = null; /* Planejamento hierarquicamente superior ao qual o atual planejamento está vinculado */\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { InputTextComponent } from 'src/app/components/input/input-text/input-text.component';\r\nimport { EixoTematicoDaoService } from 'src/app/dao/eixo-tematico-dao.service';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { NavigateResult } from 'src/app/services/navigate.service';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-form-objetivo',\r\n  templateUrl: './planejamento-form-objetivo.component.html',\r\n  styleUrls: ['./planejamento-form-objetivo.component.scss']\r\n})\r\nexport class PlanejamentoFormObjetivoComponent extends PageFormBase<PlanejamentoObjetivo, PlanejamentoObjetivoDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('planejamentoSuperiorNome', {static: false}) public planejamentoSuperiorNome?: InputTextComponent;\r\n  @ViewChild('eixoTematico', {static: false}) public eixoTematico?: InputSearchComponent;\r\n\r\n  public planejamento?: Planejamento;\r\n  public objetivos: LookupItem[] = [];\r\n  public objetivos_superiores: LookupItem[] = [];\r\n  public planejamentoDao?: PlanejamentoDaoService;\r\n  public eixoTematicoDao?: EixoTematicoDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, PlanejamentoObjetivo, PlanejamentoObjetivoDaoService);\r\n    this.planejamentoDao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.eixoTematicoDao = injector.get<EixoTematicoDaoService>(EixoTematicoDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      nome: {default: \"\"},\r\n      fundamentacao: {default: \"\"},\r\n      planejamento_id: {default: null},\r\n      planejamento_superior_nome: {default: \"\"},\r\n      eixo_tematico_id: {default: null},\r\n      objetivo_superior_id: {default: null},\r\n      objetivo_pai_id: {default: null},\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if(['nome','fundamentacao','eixo_tematico_id'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public formValidation = (form?: FormGroup) =>{\r\n    let result = null;\r\n    /*  Regra está sendo discutida\r\n        (RN_PLAN_INST_OBJ_A)\r\n        Quando o Planejamento é de uma Unidade Executora é obrigatório associar cada um dos seus objetivos a um objetivo do Planejamento Institucional superior\r\n    */\r\n/*     if(this.isPlanejamentoUNEX() && !this.form?.controls.objetivo_superior_id.value){\r\n      result = \"Quando o Planejamento é de uma Unidade Executora é obrigatório associar cada um dos seus objetivos a um objetivo do Planejamento Institucional superior!\";\r\n    } */\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: PlanejamentoObjetivo, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    await this.eixoTematico?.loadSearch(entity.eixo_tematico || entity.eixo_tematico_id);\r\n    this.title = entity._status == 'ADD' ? 'Inclusão de Objetivo' : 'Editando objetivo...';\r\n    this.planejamento = this.metadata?.planejamento as Planejamento;\r\n    if(this.planejamento) this.planejamento.planejamento_superior = this.metadata.planejamento_superior as Planejamento || null;\r\n    if(this.planejamento.planejamento_superior) this.planejamento.planejamento_superior.objetivos = this.metadata?.objetivos_superiores || null; \r\n    this.form?.controls.planejamento_superior_nome.setValue(this.planejamento?.planejamento_superior?.nome || '');\r\n    this.objetivos_superiores = this.planejamento?.planejamento_superior?.objetivos?.map(x => Object.assign({}, { key: x.id, value: x.nome, data: x })) || [];\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity = this.metadata?.objetivo as PlanejamentoObjetivo;\r\n    this.objetivos = (this.metadata?.objetivos as PlanejamentoObjetivo[]).map(x => Object.assign({}, {\r\n      key: x.id,\r\n      value: x.nome,\r\n      data: x\r\n    }));\r\n    await this.loadData(this.entity!, form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<NavigateResult> {\r\n    return new Promise<NavigateResult>(async (resolve, reject) => {\r\n      const objetivo = Object.assign({}, this.entity!);\r\n      resolve(new NavigateResult(this.util.fillForm(objetivo, this.form!.value)));\r\n    });\r\n  }\r\n\r\n  public isPlanejamentoUNEX(): boolean {\r\n    return this.planejamento?.unidade_id != null;\r\n  }\r\n\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"eixo_tematico_id\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div class=\"row\">\r\n        <div class=\"row\">\r\n            <input-search [size]=\"6\" #eixoTematico [disabled]=\"form?.controls?.objetivo_pai_id?.value ? 'true' : undefined\" controlName=\"eixo_tematico_id\" [dao]=\"eixoTematicoDao\" required></input-search>\r\n            <input-select [size]=\"6\" #objetivoPai [items]=\"objetivos\" label=\"Objetivo Pai\" icon=\"fab fa-unity\" controlName=\"objetivo_pai_id\"></input-select>\r\n        </div>\r\n        <div *ngIf=\"planejamento?.planejamento_superior_id\" class=\"row\">\r\n            <input-text #planejamento_superior_nome [size]=\"12\" class=\"disabled\" disabled=\"true\" label=\"Planejamento Superior vinculado\" [icon]=\"entityService.getIcon('Planejamento')\" controlName=\"planejamento_superior_nome\"></input-text>\r\n            <input-select [items]=\"objetivos_superiores\" [size]=\"12\" label=\"Objetivo de Planejamento Superior (Vinculado)\" icon=\"fab fa-unity\" controlName=\"objetivo_superior_id\" [control]=\"form!.controls.objetivo_superior_id\"></input-select>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-text [size]=\"12\" icon=\"bi bi-textarea-t\" label=\"Nome\" controlName=\"nome\" [control]=\"form!.controls.nome\" required></input-text>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-textarea icon=\"bi bi-textarea-t\" label=\"Fundamentação\" [size]=\"12\" [rows]=\"4\" controlName=\"fundamentacao\" [control]=\"form!.controls.fundamentacao\" required></input-textarea>\r\n        </div>\r\n    </div>\r\n</editable-form>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { PlanejamentoListObjetivoComponent } from '../planejamento-list-objetivo/planejamento-list-objetivo.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-form',\r\n  templateUrl: './planejamento-form.component.html',\r\n  styleUrls: ['./planejamento-form.component.scss']\r\n})\r\nexport class PlanejamentoFormComponent extends PageFormBase<Planejamento, PlanejamentoDaoService> {\r\n    @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n    @ViewChild(GridComponent, { static: true }) public grid?: GridComponent;\r\n    @ViewChild('planejamentoSuperior', { static: false }) public planejamentoSuperior?: InputSelectComponent;\r\n    @ViewChild('objetivos', { static: false }) public objetivos?: PlanejamentoListObjetivoComponent;\r\n\r\n    public unidadeDao: UnidadeDaoService;\r\n    public planejamentosSuperiores: LookupItem[] = [];\r\n    public hasPermissionToUNEX: boolean = false;\r\n    public form: FormGroup;\r\n    \r\n    constructor(public injector: Injector) {\r\n      super(injector, Planejamento, PlanejamentoDaoService);\r\n      this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n      this.hasPermissionToUNEX = this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_LOTPRI') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_QQLOT') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_SUBORD') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_QUALQUER');\r\n      this.join = [\r\n        'objetivos',\r\n        'objetivos.objetivo_pai:id,nome',\r\n        'objetivos.objetivo_superior:id,planejamento_id',\r\n        'objetivos.eixo_tematico:id,nome',\r\n        'planejamento_superior:id,nome',\r\n        'planejamento_superior.objetivos'\r\n      ];\r\n      this.form = this.fh.FormBuilder({\r\n        nome: {default: \"\"},\r\n        unidade_id: {default: null},\r\n        entidade_id: {default: null},\r\n        planejamento_superior_id: {default: null},\r\n        data_inicio: {default: new Date()},\r\n        data_fim: {default: null},\r\n        missao: {default: \"\"},\r\n        visao: {default: \"\"},\r\n        valores: { default: []},\r\n        valor_texto: {default: \"\"}\r\n      }, this.cdRef, this.validate);\r\n    }\r\n  \r\n    public validate = (control: AbstractControl, controlName: string) => {\r\n      let result = null;\r\n      /*  (RN_PLAN_INST_A) \r\n          Para a criação de um planejamento institucional são informações obrigatórias: nome, missão, visão, data de início, unidade responsável e ao menos um dos valores institucionais.\r\n      */\r\n      if(['nome','unidade_id','missao','visao'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n        result = \"Obrigatório\";\r\n      }\r\n      if(['missao','visao'].indexOf(controlName) >= 0 && control.value?.length > this.MAX_LENGTH_TEXT) {\r\n        result = \"Conteúdo (\" + control.value?.length + \" caracteres) excede o comprimento máximo: \" + this.MAX_LENGTH_TEXT + \".\";\r\n      }\r\n      if(['data_inicio'].indexOf(controlName) >= 0 && !this.dao?.validDateTime(control.value)) {\r\n        result = \"Inválido\";\r\n      }\r\n      if(controlName == 'data_fim' && control.value && !this.dao?.validDateTime(control.value)){\r\n        result = \"Inválido\";\r\n      }\r\n      return result;\r\n    }\r\n  \r\n    public formValidation = (form?: FormGroup) => {\r\n      /*  (RN_PLAN_INST_A) \r\n          Para a criação de um planejamento institucional são informações obrigatórias: nome, missão, visão, data de início, unidade responsável e ao menos um dos valores institucionais.\r\n      */\r\n      if(this.form!.controls.data_fim.value && this.form!.controls.data_inicio.value > this.form!.controls.data_fim.value) return \"A data do início não pode ser maior que a data do fim!\";\r\n      if(this.form!.controls.valores.value.length == 0) return \"É obrigatória a inclusão de ao menos um valor institucional!\";\r\n      /*  (RN_PLAN_INST_B) Não pode existir mais de um planejamento institucional para uma mesma unidade em um mesmo período de tempo;\r\n          GitLab #651: aguardando definição do assunto \r\n      if(!form!.controls.unidade_id.value.length) {\r\n        this.dao?.query({where: [['unidade_id', \"==\", null],[\"data_inicio\", \"<=\", form!.controls.data_inicio.value]]})\r\n      } else {\r\n        this.dao?.query({where: [['unidade_id', \"==\", form!.controls.unidade_id.value]]})\r\n      } */\r\n      return undefined;\r\n    }\r\n  \r\n    public loadData(entity: Planejamento, form: FormGroup) {\r\n      let formValue = Object.assign({}, form.value);\r\n      form.patchValue(this.util.fillForm(formValue, entity));\r\n      this.carregaPlanejamentosSuperiores();\r\n      this.form.controls.planejamento_superior_id.setValue(entity.planejamento_superior_id);\r\n    }\r\n\r\n    public initializeData(form: FormGroup) {\r\n      this.entity = new Planejamento();\r\n      this.loadData(this.entity, form); \r\n    }\r\n\r\n    public async saveData(form: IIndexable): Promise<Planejamento> {\r\n      return new Promise<Planejamento>((resolve, reject) => {\r\n        this.objetivos!.grid!.confirm();\r\n        let planejamento = this.util.fill(new Planejamento(), this.entity!);\r\n        planejamento = this.util.fillForm(planejamento, this.form!.value);\r\n        planejamento.objetivos = this.objetivos!.items;\r\n        resolve(planejamento);\r\n      });\r\n    }\r\n   \r\n    public titleEdit = (entity: Planejamento): string => {\r\n      return \"Editando \" + this.lex.translate(\"Planejamento Institucional\") + ': ' + (entity?.nome || \"\");\r\n    }\r\n\r\n    public addValorHandle(): LookupItem | undefined {\r\n      let result = undefined;\r\n      const value = this.form.controls.valor_texto.value;\r\n      const key = this.util.textHash(value);\r\n      if(value?.length && this.util.validateLookupItem(this.form.controls.valores.value, key)) {\r\n        result = {\r\n          key: key,\r\n          value: this.form.controls.valor_texto.value\r\n        };\r\n        this.form.controls.valor_texto.setValue(\"\");\r\n      }\r\n      return result;\r\n    }; \r\n    \r\n    public onUnidadeChange(event: Event){\r\n      if(this.entity!.unidade_id != this.form.controls.unidade_id.value) this.carregaPlanejamentosSuperiores();\r\n    }\r\n\r\n    public carregaPlanejamentosSuperiores(){\r\n      this.dao?.query({where: [['unidade_executora_id', '==', this.form.controls.unidade_id.value], ['manut_planej_unidades_executoras','==',true]]}).getAll().then((pls) => {\r\n        this.planejamentosSuperiores = pls.map(x => Object.assign({},{key: x.id, value: x.nome}) as LookupItem);\r\n        this.planejamentosSuperiores.unshift({key: null, value: 'Escolha um Planejamento superior...'});\r\n        this.objetivos!.loadData(this.entity!, this.form!);\r\n        this.cdRef.detectChanges();\r\n      });\r\n    }\r\n\r\n    /**\r\n     * @param event \r\n     * Se o planejamento superior for alterado, e já houver objetivos na lista vinculados a objetivos dele, avisar que eles perderão esses vínculos.\r\n     */\r\n    public async onPlanejamentoChange(event: Event){\r\n      if(this.form.controls.planejamento_superior_id.value != this.entity?.planejamento_superior_id && this.entity?.objetivos?.length && this.entity?.objetivos.filter(x => x.objetivo_superior && x.objetivo_superior!.planejamento_id == this.entity?.planejamento_superior_id).length) {\r\n        let confirm = await this.dialog.confirm(\"Alteração de Planejamento Superior\", \"Como já existe(m) objetivo(s) neste Planejamento, vinculado(s) a objetivo(s) do Planejamento Superior anterior, seus vínculos serão perdidos! Deseja continuar?\");\r\n        if(confirm) {\r\n          this.entity?.objetivos?.forEach(obj => obj.objetivo_superior_id = null); \r\n          //atualizar a lista de objetivos superiores\r\n        } else {\r\n          this.form.controls.planejamento_superior_id.setValue(this.entity?.planejamento_superior_id);\r\n        };\r\n      };\r\n      this.objetivos!.planejamento_superior_id = this.form.controls.planejamento_superior_id.value;\r\n      this.objetivos?.grid?.loadColumns();\r\n      this.cdRef.detectChanges();\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @returns boolean Informa se o planejamento é da Unidade Instituidora ou não.\r\n     */\r\n    public isPlanejamentoUNINST(): boolean {\r\n      return !this.form.controls.unidade_id.value?.length\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @returns boolean Informa se o planejamento é da Unidade Executora ou não.\r\n     */\r\n    public isPlanejamentoUNEXEC(): boolean {\r\n      return !this.isPlanejamentoUNINST();\r\n    }\r\n}\r\n  \r\n  \r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"nome\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right>\r\n        <tab key=\"DADOS\" label=\"Dados\">\r\n            <div class=\"row\">\r\n                <div class=\"row\">\r\n                    <input-text [size]=\"12\" label=\"Nome do Planejamento Institucional\" [icon]=\"entityService.getIcon('Planejamento')\" controlName=\"nome\" [control]=\"form!.controls.nome\" required></input-text>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <!-- <input-search [size]=\"6\" [disabled]=\"hasPermissionToUNEX ? undefined : 'true'\" controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [dao]=\"unidadeDao\" [selectParams]=\"{filter: {instituidora: true}}\" (change)=\"onUnidadeChange($event)\" labelInfo=\"Unidade responsável pelo planejamento, caso vazio será considerado a Entidade\"></input-search> -->\r\n                    <input-search [size]=\"6\" controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [dao]=\"unidadeDao\" (change)=\"onUnidadeChange($event)\" labelInfo=\"Unidade à qual se refere o planejamento\" required></input-search>\r\n                    <input-datetime date [size]=\"3\" label=\"Início\" icon=\"bi bi-calendar-date\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" labelInfo=\"Início do Planejamento Institucional\"></input-datetime>\r\n                    <input-datetime date [size]=\"3\" label=\"Fim\" icon=\"bi bi-calendar-date\" controlName=\"data_fim\" [control]=\"form!.controls.data_fim\" labelInfo=\"Fim do Planejamento Institucional\"></input-datetime>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <input-select #planejamentoSuperior [items]=\"planejamentosSuperiores\" label=\"Planejamento Institucional Superior\" controlName=\"planejamento_superior_id\" [control]=\"form!.controls.planejamento_superior_id\" (change)=\"onPlanejamentoChange($event)\" [icon]=\"entityService.getIcon('Planejamento')\"></input-select>\r\n                </div>                \r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <input-textarea [size]=\"12\" label=\"Missão\" [rows]=\"3\" controlName=\"missao\" [control]=\"form!.controls.missao\" required></input-textarea>\r\n                        <input-textarea [size]=\"12\" label=\"Visão\" [rows]=\"3\" controlName=\"visao\" [control]=\"form!.controls.visao\" required></input-textarea>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"row\">\r\n                            <input-multiselect [size]=\"12\" label=\"Valores\" controlName=\"valores\" [addItemHandle]=\"addValorHandle.bind(this)\">\r\n                                <input-text label=\"Valor Institucional\" icon=\"far fa-edit\" controlName=\"valor_texto\" [control]=\"form!.controls.valor_texto\"></input-text>\r\n                            </input-multiselect>        \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"OBJETIVOS\" label=\"Objetivos\">\r\n            <planejamento-list-objetivo #objetivos noPersist [entity]=\"entity\" [disabled]=\"action == 'consult'\" [planejamento_superior_id]=\"form.controls.planejamento_superior_id.value\"></planejamento-list-objetivo>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>\r\n\r\n","import { Component, Injector, Input, ViewChild } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { EixoTematicoDaoService } from 'src/app/dao/eixo-tematico-dao.service';\r\n\r\n@Component({\r\n  selector: 'planejamento-list-objetivo',\r\n  templateUrl: './planejamento-list-objetivo.component.html',\r\n  styleUrls: ['./planejamento-list-objetivo.component.scss']\r\n})\r\nexport class PlanejamentoListObjetivoComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @Input() public planejamento_superior_id?: string;\r\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n  @Input() set entity(value: Planejamento | undefined) { super.entity = value; } get entity(): Planejamento | undefined { return super.entity; }\r\n  @Input() set disabled(value: boolean) { if (this._disabled != value) this._disabled = value; } get disabled(): boolean { return this._disabled; }\r\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\r\n\r\n  public get items(): PlanejamentoObjetivo[] {\r\n    if (!this.gridControl.value) this.gridControl.setValue(new Planejamento());\r\n    if (!this.gridControl.value.objetivos) this.gridControl.value.objetivos = [];\r\n    return this.gridControl.value.objetivos;\r\n  }\r\n  public minHeight: number = 350;\r\n  public options: ToolbarButton[] = [];\r\n  public objetivoDao?: PlanejamentoObjetivoDaoService;\r\n  public eixoDao?: EixoTematicoDaoService;\r\n  private _disabled: boolean = false;\r\n  public eixos: EixoTematico[] = [];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.objetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\r\n    this.eixoDao = injector.get<EixoTematicoDaoService>(EixoTematicoDaoService);\r\n    this.groupBy = [{ field: \"eixo_tematico_id\", label: \"Eixo Temático\" }];\r\n    this.form = this.fh.FormBuilder({\r\n      nome: { default: \"\" },\r\n      fundamentacao: { default: \"\" },\r\n      planejamento_id: { default: null },\r\n      eixo_tematico_id: { default: null },\r\n      objetivo_superior_id: { default: null }\r\n    }, this.cdRef);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.entity = this.metadata?.entity || this.entity;\r\n    this.carregaEixos();\r\n    this.sortObjetivos();\r\n  }\r\n\r\n  public dynamicButtons(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let objetivo: PlanejamentoObjetivo = row as PlanejamentoObjetivo;\r\n    if (this.auth.hasPermissionTo('MOD_PLAN_INST_EDT') && !this.disabled) {\r\n      result.push({ hint: \"Alterar\", icon: \"bi bi-pencil-square\", color: \"btn-outline-info\", onClick: (objetivo: PlanejamentoObjetivo) => { this.editObjetivo(objetivo); } });\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public dynamicOptions(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let objetivo: PlanejamentoObjetivo = row as PlanejamentoObjetivo;\r\n    result.push({ label: \"Informações\", icon: \"bi bi-info-circle\", onClick: (objetivo: PlanejamentoObjetivo) => this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo', objetivo.id, 'consult'] }, { modal: true }) });\r\n    if (this.auth.hasPermissionTo('MOD_PLAN_INST_EXCL') && !this.disabled) {\r\n      result.push({ label: \"Excluir\", icon: \"bi bi-trash\", color: \"btn-outline-danger\", onClick: (objetivo: PlanejamentoObjetivo) => { this.removeObjetivo(objetivo); } });\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public marcador(row: PlanejamentoObjetivo): string {\r\n    let level = row._metadata?.level || 0;\r\n    return level < 1 ? \"\" : (level < 2 ? \"• \" : (level < 3 ? \"- \" : \"+ \"));\r\n  }\r\n\r\n  public async addObjetivo() {\r\n    // ************ \r\n    // se for adicionar um objetivo num grid não persistente é necessário checar se o planejamento é da entidade ou da unidade, pois se\r\n    // se for de uma unidade será obrigatório já ter escolhido o planejamento superior\r\n    let objetivo = new PlanejamentoObjetivo({ \r\n      _status: \"ADD\", \r\n      id: this.dao!.generateUuid(),\r\n      planejamento_id: this.entity?.id\r\n    });\r\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\r\n      metadata: { \r\n        planejamento: this.entity!, \r\n        objetivo: objetivo,\r\n        objetivos: this.objetivosPai(objetivo.id) \r\n      },\r\n      modalClose: async (modalResult) => {\r\n        if (modalResult) {\r\n          try {\r\n            this.carregaEixos();\r\n            this.isNoPersist ? this.items.push(modalResult) : this.items.push(await this.objetivoDao!.save(modalResult)); \r\n            this.sortObjetivos();\r\n          } catch (error: any) {\r\n            this.error(error?.error || error?.message || error);            \r\n          }\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public objetivosPai(filhoId: string) {\r\n    let items: PlanejamentoObjetivo[] = [];\r\n    let addItens = (list: PlanejamentoObjetivo[]) => {\r\n      for(let item of list) {\r\n        if(item.id != filhoId) {\r\n          items.push(item);\r\n          addItens(this.items.filter(x => x.objetivo_pai_id == item.id).sort((a,b) => a.sequencia - b.sequencia));\r\n        }\r\n      }\r\n    }\r\n    addItens(this.items.filter(x => !x.objetivo_pai_id).sort((a,b) => a.sequencia - b.sequencia));\r\n    return items;\r\n  }\r\n\r\n  public sortObjetivos() {\r\n    let items: PlanejamentoObjetivo[] = [];\r\n    let addItens = (list: PlanejamentoObjetivo[], level: number) => {\r\n      for(let item of list) {\r\n        item._metadata = Object.assign(item._metadata || {}, { level });\r\n        items.push(item);\r\n        if(item._status != \"DELETE\") addItens(this.items.filter(x => x.objetivo_pai_id == item.id).sort((a,b) => a.sequencia - b.sequencia), level + 1);\r\n      }\r\n    }\r\n    addItens(this.items.filter(x => !x.objetivo_pai_id).sort((a,b) => a.sequencia - b.sequencia), 0);\r\n    this.items.length = 0;\r\n    this.items.push(...items);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async editObjetivo(objetivo: PlanejamentoObjetivo) {\r\n    objetivo._status = objetivo._status == \"ADD\" ? \"ADD\" : \"EDIT\";\r\n    let index = this.items.indexOf(objetivo);\r\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\r\n      metadata: { \r\n        planejamento: this.entity!, \r\n        objetivo: objetivo,\r\n        objetivos: this.objetivosPai(objetivo.id) \r\n      },\r\n      modalClose: async (modalResult) => {\r\n        if (modalResult) {\r\n          if (!this.isNoPersist) await this.objetivoDao?.save(modalResult);\r\n          this.items[index] = modalResult;\r\n          this.carregaEixos();\r\n          this.sortObjetivos();\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public async removeObjetivo(objetivo: PlanejamentoObjetivo) {\r\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\r\n    if (confirm) {\r\n      let index = this.items.indexOf(objetivo);\r\n      if (this.isNoPersist) {\r\n        objetivo._status = \"DELETE\";\r\n      } else {\r\n        await this.objetivoDao!.delete(objetivo);\r\n        this.grid?.items.splice(index, 1);\r\n      };\r\n      this.sortObjetivos();\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public getEixo(id: string): EixoTematico | undefined {\r\n    return this.eixos?.find(x => x.id == id);\r\n  }\r\n\r\n  public carregaEixos(){\r\n    this.eixoDao?.query().getAll().then(eixos => {\r\n      this.eixos = eixos;\r\n    });\r\n  }\r\n\r\n}\r\n\r\n\r\n","<grid [items]=\"items\" [form]=\"form!\" #gridObjetivos editable [selectable]=\"false\" [minHeight]=\"minHeight\"\r\n    [add]=\"addObjetivo.bind(this)\" [remove]=\"removeObjetivo.bind(this)\"\r\n    [hasDelete]=\"false\" [hasEdit]=\"false\" [hasAdd]=\"!disabled\" [join]=\"join\" [groupBy]=\"groupBy\" [groupTemplate]=\"groupEixoTematico\">\r\n    <ng-template let-separator=\"separator\" #groupEixoTematico>\r\n        <span class=\"text-wrap\"><badge [icon]=\"getEixo(separator?.text)?.icone || 'bi bi-gear'\" [color]=\"getEixo(separator?.text)?.cor || 'primary'\" [label]=\"getEixo(separator?.text)?.nome || 'Desconhecido'\"></badge></span>\r\n    </ng-template>\r\n    <columns>\r\n        <column title=\"Nome\" [template]=\"columnNome\">\r\n            <ng-template let-row=\"row\" #columnNome>\r\n                <span class=\"text-break w-100\" [style.margin-left.px]=\"(row._metadata?.level || 0) * 20\">{{ marcador(row) + row.nome }}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Eixo Temático\" [template]=\"columnEixoTematico\"><ng-template let-row=\"row\" #columnEixoTematico><span>{{ row.eixo_tematico?.nome }}</span></ng-template></column>\r\n        <column title=\"Fundamentação\" [template]=\"columnFundamentacao\"><ng-template let-row=\"row\" #columnFundamentacao><span>{{ row.fundamentacao }}</span></ng-template></column>\r\n        <column *ngIf=\"planejamento_superior_id?.length\" title=\"Objetivo Superior\" [template]=\"columnObjetivoSuperior\"><ng-template let-row=\"row\" #columnObjetivoSuperior><span>{{ row.objetivo_superior?.nome  || '' }}</span></ng-template></column>\r\n        <column type=\"options\" [dynamicButtons]=\"dynamicButtons.bind(this)\" [dynamicOptions]=\"dynamicOptions.bind(this)\"></column>\r\n    </columns>\r\n</grid>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\n\r\n@Component({\r\n  selector: 'planejamento-list-objetivos-entregas',\r\n  templateUrl: './planejamento-list-objetivos-entregas.component.html',\r\n  styleUrls: ['./planejamento-list-objetivos-entregas.component.scss']\r\n})\r\nexport class PlanejamentoListObjetivosEntregasComponent extends PageListBase<PlanejamentoObjetivo, PlanejamentoObjetivoDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  \r\n  public planejamentoDao: PlanejamentoDaoService;\r\n  public planejamentoObjetivoDao: PlanejamentoObjetivoDaoService;\r\n  public buttons: ToolbarButton[] = [];\r\n  \r\n  constructor(public injector: Injector) {\r\n    super(injector, PlanejamentoObjetivo, PlanejamentoObjetivoDaoService);\r\n    this.join = ['objetivos']\r\n    this.planejamentoDao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.planejamentoObjetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\r\n    this.title = this.lex.translate(\"Objetivos\") + ' ' + this.lex.translate(\"do Planejamento Institucional\");\r\n    this.filter = this.fh.FormBuilder({\r\n      nome: { default: \"\" },\r\n      planejamento_id: { default: null}\r\n    });\r\n  }  \r\n \r\n  public dynamicOptions(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    result.push({ label: \"Informações\", icon: \"bi bi-info-circle\", onClick: (objetivo: PlanejamentoObjetivo) => this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo', objetivo.id, 'consult'] }, { modal: true }) });\r\n    return result;\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    super.filterClear(filter);\r\n    this.filter?.controls.nome.setValue(\"\");\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let form: any = filter.value;\r\n    let result: any[] = [];\r\n    if (form.planejamento_id?.length) {\r\n      result.push([\"planejamento_id\", \"==\", form.planejamento_id]);\r\n    }\r\n    if (form.nome?.length) {\r\n      result.push([\"nome\", \"like\", \"%\" + form.nome.trim().replace(\" \", \"%\") + \"%\"]);\r\n    }\r\n    return result;\r\n  }\r\n}\r\n","<!--  [hasAdd]=\"auth.hasPermissionTo('MOD_UND_INCL')\"\r\n    [hasEdit]=\"auth.hasPermissionTo('MOD_UND_EDT')\" -->\r\n<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>\r\n<grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\" [selectable]=\"selectable\"\r\n    (select)=\"onSelect($event)\">\r\n    <toolbar *ngIf=\"!selectable\" [buttons]=\"buttons\"></toolbar>\r\n    <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\"\r\n        [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-text [size]=\"12\" label=\"Nome\" controlName=\"nome\" [control]=\"filter!.controls.nome\"\r\n                placeholder=\"Nome\"></input-text>\r\n        </div>\r\n    </filter>\r\n    <columns>\r\n        <column title=\"Nome\" [template]=\"columnNome\" orderBy=\"nome\">\r\n            <ng-template let-row=\"row\" #columnNome>\r\n                <span class=\"d-block\">{{row.nome}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Fundamentação\" field=\"fundamentacao\"></column>\r\n        <column type=\"options\" [onEdit]=\"edit\" [dynamicOptions]=\"dynamicOptions.bind(this)\"></column>\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputSearchComponent} from 'src/app/components/input/input-search/input-search.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { TabsComponent } from 'src/app/components/tabs/tabs.component';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-list',\r\n  templateUrl: './planejamento-list.component.html',\r\n  styleUrls: ['./planejamento-list.component.scss']\r\n})\r\nexport class PlanejamentoListComponent extends PageListBase<Planejamento, PlanejamentoDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild(TabsComponent, { static: false }) public tabs?: TabsComponent;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  \r\n  public unidadeDao: UnidadeDaoService;\r\n  public unidade_disabled: string | undefined;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Planejamento, PlanejamentoDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    /* Inicializações */\r\n    this.code = \"MOD_PLAN_INST\";\r\n    this.title = this.lex.translate('Planejamentos Institucionais');\r\n    this.filter = this.fh.FormBuilder({\r\n      data_inicio: {default: null},\r\n      data_fim: {default: null},\r\n      nome: {default: \"\"},\r\n      unidade_id: {default: null},\r\n      so_entidade: { default: false },\r\n      agrupar: { default: true },\r\n     });\r\n    this.join = [\r\n      'unidade:id,nome,sigla',\r\n      'objetivos',\r\n      'objetivos.eixo_tematico:id,nome',\r\n      'objetivos.objetivo_superior:id,nome',\r\n      'planejamento_superior:id,nome',\r\n      'planejamento_superior.objetivos'\r\n    ];\r\n    // Testa se o usuário possui permissão para exibir planejamentos institucionais\r\n    if (this.auth.hasPermissionTo(\"MOD_PLAN_INST_CONS\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-info-circle\",\r\n        label: \"Informações\",\r\n        onClick: this.consult.bind(this)\r\n      });\r\n    }\r\n    // Testa se o usuário possui permissão para excluir planejamentos institucionais\r\n    if (this.auth.hasPermissionTo(\"MOD_PLAN_INST_EXCL\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-trash\",\r\n        label: \"Excluir\",\r\n        onClick: this.delete.bind(this)\r\n      });\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    this.tabs!.active = [\"TABELA\", \"MAPA\"].includes(this.usuarioConfig.active_tab) ? this.usuarioConfig.active_tab : \"TABELA\";\r\n  }\r\n\r\n  /* override */\r\n  public onLoad() {}\r\n\r\n  public initGrid(grid: GridComponent) {\r\n    grid.queryInit();\r\n  }\r\n\r\n  public async onSelectTab(tab: LookupItem) {\r\n    //if(tab.key == \"TABELA\") this.onLoad();\r\n    this.saveUsuarioConfig({active_tab: tab});\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    filter.controls.nome.setValue(\"\");\r\n    filter.controls.data_inicio.setValue(null);\r\n    filter.controls.data_fim.setValue(null);\r\n    filter.controls.unidade_id.setValue(null);\r\n    filter.controls.so_entidade.setValue(false);\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n\r\n    if (form.so_entidade) {\r\n      filter.controls.unidade_id.setValue(null);\r\n      result.push([\"unidade_id\", \"==\", null]);\r\n    } else {\r\n      if(form.unidade_id) result.push([\"unidade_id\", \"==\", form.unidade_id]);\r\n    }\r\n    if(form.nome?.length) {\r\n      result.push([\"nome\", \"like\", \"%\" + form.nome.trim().replace(\" \", \"%\") + \"%\"]);\r\n    }\r\n    if(form.data_inicio) {\r\n      result.push([\"data_inicio\", \">=\", form.data_inicio]);\r\n    }\r\n    if(form.data_fim) {\r\n      result.push([\"data_fim\", \"<=\", form.data_fim]);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public onSoEntidadeChange(event: Event) {\r\n    if (this.filter!.controls.so_entidade.value) {\r\n      this.filter!.controls.unidade_id.setValue(null);\r\n      this.unidade_disabled = 'disabled';\r\n    } else {\r\n      this.filter!.controls.unidade_id.setValue(undefined);\r\n      this.unidade_disabled = undefined;\r\n    }\r\n  }\r\n\r\n}\r\n","<tabs right [title]=\"isModal ? '' : title\" [select]=\"onSelectTab.bind(this)\">\r\n    <tab key=\"TABELA\" icon=\"bi bi-table\" label=\"Lista\" [template]=\"lista\">\r\n        <ng-template #lista>\r\n            <grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [join]=\"join\" [init]=\"initGrid.bind(this)\"\r\n                [selectable]=\"selectable\" (select)=\"onSelect($event)\" \r\n                [hasAdd]=\"auth.hasPermissionTo('MOD_PLAN_INST_INCL')\"\r\n                [hasEdit]=\"auth.hasPermissionTo('MOD_PLAN_INST_EDT')\">\r\n                <toolbar *ngIf=\"!selectable\"></toolbar>\r\n                <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n                    <div class=\"row\">\r\n                        <input-text [size]=\"12\" [label]=\"lex.translate('Planejamento Institucional')\" controlName=\"nome\"\r\n                            [control]=\"filter!.controls.nome\" [placeholder]=\"'Nome ' + lex.translate('Planejamento Institucional') + '...'\"></input-text>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-switch [size]=\"2\" [label]=\"'Só da '+ lex.translate('Entidade')\" controlName=\"so_entidade\" [control]=\"filter!.controls.so_entidade\" (change)=\"onSoEntidadeChange($event)\"></input-switch>\r\n                        <input-search #unidade [size]=\"4\" [label]=\"lex.translate('Unidade')\" [disabled]=\"unidade_disabled\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n                        <input-datetime [size]=\"3\" date label=\"Início\" controlName=\"data_inicio\" [control]=\"filter!.controls.data_inicio\" [labelInfo]=\"'Data de início do' +lex.translate('Planejamento Institucional')\"></input-datetime>\r\n                        <input-datetime [size]=\"3\" date label=\"Fim\" controlName=\"data_fim\" [control]=\"filter!.controls.data_fim\" [labelInfo]=\"'Data do fim do '+lex.translate('Planejamento Institucional')\"></input-datetime>\r\n                    </div>\r\n                </filter>\r\n                <columns>\r\n                    <column *ngIf=\"!selectable\" type=\"expand\" icon=\"bi bi-bullseye\" [align]=\"'center'\" [hint]=\"lex.translate('Objetivo')\" [template]=\"columnObjetivos\" [expandTemplate]=\"columnExpandedObjetivos\">\r\n                        <ng-template let-row=\"row\" #columnObjetivos>\r\n                            <span *ngIf=\"row.objetivos?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-bullseye\"></i> {{row.objetivos?.length}}</span>\r\n                        </ng-template>\r\n                        <ng-template let-row=\"row\" #columnExpandedObjetivos>\r\n                            <planejamento-list-objetivo [entity]=\"row\"></planejamento-list-objetivo>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Nome\" orderBy=\"nome\" [template]=\"columnNome\">\r\n                        <ng-template let-row=\"row\" #columnNome>\r\n                            <span class=\"text-break w-100\">{{row.nome}}</span>\r\n                        </ng-template>            \r\n                    </column>\r\n                    <column title=\"Início\" [template]=\"columnInicio\">\r\n                        <ng-template let-row=\"row\" #columnInicio>\r\n                            <span> {{dao!.getDateFormatted(row.data_inicio)}}</span>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Fim\" [template]=\"columnFim\">\r\n                        <ng-template let-row=\"row\" #columnFim>\r\n                            <span> {{dao!.getDateFormatted(row.data_fim)}}</span>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Unidade\" [template]=\"columnUnidade\">\r\n                        <ng-template let-row=\"row\" #columnUnidade>\r\n                            <span> {{row.unidade?.nome || \"\"}}</span>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\r\n                </columns>\r\n                <pagination [rows]=\"rowsLimit\"></pagination>\r\n            </grid>\r\n        </ng-template>\r\n    </tab>\r\n    <tab key=\"MAPA\" icon=\"bi bi-card-heading\" label=\"Mapa\" [template]=\"mapa\">\r\n        <ng-template #mapa>\r\n            <planejamento-mapa></planejamento-mapa>\r\n        </ng-template>\r\n    </tab>\r\n</tabs>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { DndDropEvent, DropEffect } from 'ngx-drag-drop';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { QueryContext } from 'src/app/dao/query-context';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\n\r\nexport type EixoPlanejamento = {\r\n  id?: string,\r\n  eixo: EixoTematico,\r\n  eixo_tematico_id: string,\r\n  objetivos: PlanejamentoObjetivo[]\r\n}\r\n\r\n@Component({\r\n  selector: 'planejamento-mapa',\r\n  templateUrl: './planejamento-mapa.component.html',\r\n  styleUrls: ['./planejamento-mapa.component.scss']\r\n})\r\nexport class PlanejamentoMapaComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('planejamentoInstitucional', { static: false }) public planejamentoInstitucional?: InputSelectComponent;\r\n\r\n  public canEdit: boolean = true;\r\n  public planejamentos: LookupItem[] = [];\r\n  public planejamento?: Planejamento;\r\n  public eixos: EixoPlanejamento[] = [];\r\n  public query?: QueryContext<Planejamento>;\r\n  public objetivoDao?: PlanejamentoObjetivoDaoService;\r\n  public objetivos: PlanejamentoObjetivo[] = [];\r\n  public subObjetivosMenu: ToolbarButton = {\r\n    icon: \"bi bi-three-dots-vertical\",\r\n    color: \"transparent-black p-1 py-0\",\r\n    items: [\r\n      {\r\n        icon: \"bi bi-file-earmark-bar-graph\",\r\n        label: \"Entregas\",\r\n        onClick: this.onObjetivoClick.bind(this)\r\n      },\r\n      {\r\n        icon: \"bi bi-pencil-square\",\r\n        label: \"Alterar\",\r\n        onClick: this.onObjetivoEditClick.bind(this) \r\n      },\r\n      {\r\n        icon: \"bi bi-trash\",\r\n        label: \"Excluir\",\r\n        onClick: this.onObjetivoDeleteClick.bind(this)\r\n      }\r\n    ]\r\n  };\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.objetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\r\n    this.join = ['objetivos'];\r\n    this.title = this.lex.translate(\"Objetivos\") + ' ' + this.lex.translate('do Planejamento Institucional');\r\n    this.form = this.fh.FormBuilder({\r\n      planejamento_id: {default: null},\r\n      todos: {default: false}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    this.loadData(this.entity);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: IIndexable, form?: FormGroup) {\r\n    this.query = this.dao!.query({ where: [[\"data_arquivamento\", \"==\", null]], orderBy: [[\"data_inicio\", \"desc\"]] }) as QueryContext<Planejamento>;\r\n    this.query!.asPromise().then(planejamentos => {\r\n      this.planejamentos = planejamentos.map(x => Object.assign({} as LookupItem, {\r\n        key: x.id,\r\n        value: x.nome,\r\n        data: x\r\n      }));\r\n      this.cdRef.detectChanges();\r\n      this.form!.controls.planejamento_id.setValue(this.planejamentos.length ? this.planejamentos[0].key : null);\r\n    });\r\n  }\r\n\r\n  public objetivosPai(filhoId: string) {\r\n    let items: PlanejamentoObjetivo[] = [];\r\n    let addItens = (list: PlanejamentoObjetivo[]) => {\r\n      for(let item of list) {\r\n        if(item.id != filhoId) {\r\n          items.push(item);\r\n          addItens(this.objetivos.filter(x => x.objetivo_pai_id == item.id).sort((a,b) => a.sequencia - b.sequencia));\r\n        }\r\n      }\r\n    }\r\n    addItens(this.objetivos.filter(x => !x.objetivo_pai_id).sort((a,b) => a.sequencia - b.sequencia));\r\n    return items;\r\n  }\r\n\r\n  public marcador(row: PlanejamentoObjetivo): string {\r\n    let level = row._metadata?.level || 0;\r\n    return level < 1 ? \"\" : (level < 2 ? \"• \" : (level < 3 ? \"- \" : \"+ \"));\r\n  }\r\n\r\n  public objetivosEixo(eixoId: string) {\r\n    let objetivos = this.planejamento?.objetivos?.filter(y => y.eixo_tematico_id == eixoId && !y.objetivo_pai_id).sort((a, b) => a.sequencia - b.sequencia) || [];\r\n    let recursivo = (list: PlanejamentoObjetivo[], level: number) => {\r\n      for(let item of list) {\r\n        item.objetivos = this.planejamento?.objetivos?.filter(y => y.objetivo_pai_id == item.id).sort((a, b) => a.sequencia - b.sequencia) || [];\r\n        item._metadata = Object.assign(item._metadata || {}, { level })\r\n        recursivo(item.objetivos, level + 1);\r\n      }\r\n    }\r\n    recursivo(objetivos, 0);\r\n    return objetivos;\r\n  }\r\n\r\n  public onPlanejamentoChange() {\r\n    if(this.planejamentoInstitucional!.selectedItem) {\r\n      this.dao!.getById(this.planejamentoInstitucional!.selectedItem?.key, this.join).then(planejamento => {\r\n        this.planejamento = planejamento as Planejamento;\r\n        this.objetivos = this.planejamento.objetivos || [];\r\n        this.eixos = this.query!.extra?.eixos?.filter((x: EixoTematico) => this.form?.controls.todos.value || this.planejamento?.objetivos?.find(y => y.eixo_tematico_id == x.id)).map((x: EixoTematico) => Object.assign({} as EixoPlanejamento, {\r\n          eixo: x,\r\n          eixo_tematico_id: x.id,\r\n          objetivos: this.objetivosEixo(x.id)\r\n        })) || [];\r\n        this.cdRef.detectChanges();\r\n      });\r\n    }\r\n  }\r\n\r\n  public onTodosChange() {\r\n    this.onPlanejamentoChange();\r\n  }\r\n\r\n  public onObjetivoClick(data: any) {\r\n    let objetivo = data as PlanejamentoObjetivo;\r\n    this.go.navigate({route: ['gestao', 'plano-entrega', 'entrega', 'objetivos', objetivo.id]});\r\n  }\r\n\r\n  public onObjetivoAddClick(data: any) {\r\n    let eixo = this.eixos.find(x => x.eixo.id == data.id);   \r\n    let objetivo = new PlanejamentoObjetivo({\r\n      _status: \"ADD\",\r\n      id: this.dao!.generateUuid(),\r\n      planejamento_id: this.planejamento?.id,\r\n      eixo_tematico_id: data.eixo.id,\r\n      eixo_tematico: data.eixo,\r\n      sequencia: eixo?.objetivos.length ? eixo?.objetivos[0].sequencia : 0\r\n    });\r\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\r\n      metadata: { \r\n        planejamento: this.planejamento!, \r\n        objetivo: objetivo,\r\n        objetivos: this.objetivosPai(objetivo.id) \r\n      },\r\n      modalClose: async (modalResult) => {\r\n        if (modalResult) this.objetivoDao!.save(modalResult).then(objetivo => this.onPlanejamentoChange());\r\n      }\r\n    });\r\n  }\r\n\r\n  public onObjetivoDeleteClick(data: any) {\r\n    let objetivo = data as PlanejamentoObjetivo;\r\n    this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\").then(confirm => {\r\n      if (confirm) this.objetivoDao!.delete(objetivo).then(result => this.onPlanejamentoChange());\r\n    });\r\n  }\r\n\r\n  public onObjetivoEditClick(data: any) {\r\n    let objetivo = data as PlanejamentoObjetivo;\r\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\r\n      metadata: { planejamento: this.planejamento!, objetivo: objetivo }, modalClose: async (modalResult) => {\r\n        if (modalResult) this.objetivoDao?.save(modalResult).then(planejamento => this.onPlanejamentoChange());\r\n      }\r\n    });\r\n  }\r\n\r\n  /* Drag & Drop */\r\n  onObjetivoDrop(event: DndDropEvent, dropped: EixoPlanejamento | PlanejamentoObjetivo) {\r\n    console.log(\"Drop\", event);\r\n    dropped.objetivos = dropped.objetivos || [];\r\n    let objetivo = event.data as PlanejamentoObjetivo; \r\n    let index = typeof event.index === 'undefined' ? dropped.objetivos.length : event.index;\r\n    let neighborhood = index ? (dropped.objetivos[index] || dropped.objetivos[index-1] || undefined) : undefined;\r\n    dropped.objetivos.splice(index, 0, objetivo);\r\n    this.loading = true;\r\n    this.objetivoDao?.update(objetivo.id, {\r\n      eixo_tematico_id: dropped.eixo_tematico_id,\r\n      objetivo_pai_id: dropped.id || null,\r\n      sequencia: neighborhood?.sequencia || 0\r\n    }).then(result => this.onPlanejamentoChange()).finally(() => this.loading = false);\r\n  }\r\n\r\n  onObjetivoDragEnd(event: DragEvent) {\r\n    console.log(\"DragEnd\", event);\r\n  }\r\n\r\n  onObjetivoDragged(item: any, dragged: EixoPlanejamento | PlanejamentoObjetivo, effect: DropEffect) {\r\n    console.log(\"Dragged\", item, dragged.objetivos);\r\n    dragged.objetivos = dragged.objetivos || [];\r\n    dragged.objetivos.splice(dragged.objetivos.indexOf(item), 1);\r\n  }\r\n\r\n  onObjetivoDragStart(event: DragEvent) {\r\n    console.log(\"DragStart\", event);\r\n  }\r\n\r\n}","<!-- Seleção do planejamento -->\r\n<editable-form [form]=\"form!\" noButtons>\r\n    <div class=\"row mt-2\">\r\n        <input-select #planejamentoInstitucional [size]=\"12\" controlName=\"planejamento_id\"\r\n            [control]=\"form!.controls.planejamento_id\" [items]=\"planejamentos\"\r\n            (change)=\"onPlanejamentoChange()\"></input-select>\r\n    </div>\r\n</editable-form>\r\n<!-- Cabeçalho -->\r\n<separator transparent collapse title=\"Valores, missão e visão\">\r\n    <div *ngIf=\"planejamento\" class=\"row\">\r\n        <div class=\"col-4\">\r\n            <div class=\"card h-100\">\r\n                <div class=\"card-header\">\r\n                    Valores\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <ul class=\"list-group list-group-flush\">\r\n                        <li *ngFor=\"let valor of planejamento!.valores\" class=\"list-group-item\">\r\n                            <blockquote class=\"blockquote mb-0\">\r\n                                <p>{{valor.value}}</p>\r\n                            </blockquote>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-4\">\r\n            <div class=\"card h-100\">\r\n                <div class=\"card-header\">\r\n                    Missão\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <blockquote class=\"blockquote mb-0\">\r\n                        <p class=\"fst-italic\">{{planejamento.missao}}</p>\r\n                    </blockquote>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-4\">\r\n            <div class=\"card h-100\">\r\n                <div class=\"card-header\">\r\n                    Visão\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <blockquote class=\"blockquote mb-0\">\r\n                        <p>{{planejamento!.visao}}</p>\r\n                    </blockquote>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</separator>\r\n<!-- Eixos -->\r\n<div class=\"row my-2\">\r\n    <input-switch [size]=\"12\" labelPosition=\"left\" label=\"Todos os eixos\" controlName=\"todos\"\r\n        [control]=\"form!.controls.todos\" (change)=\"onTodosChange()\"></input-switch>\r\n</div>\r\n<div *ngFor=\"let eixo of eixos\" class=\"eixo\" [style.background-color]=\"eixo.eixo.cor\">\r\n    <action-button icon=\"bi bi-plus-circle\" color=\"transparent-black\" [data]=\"eixo\"\r\n        [onClick]=\"onObjetivoAddClick.bind(this)\"></action-button>\r\n    <div class=\"d-flex align-items-center align-content-stretch p-3\">\r\n        <div class=\"descricao\">\r\n            <h4>{{eixo.eixo.nome}}</h4>\r\n        </div>\r\n        <div class=\"objetivos w-100 row\" [dndDropzone]=\"['objetivo']\" (dndDrop)=\"onObjetivoDrop($event, eixo)\">\r\n            <!-- Placehold -->\r\n            <div class=\"col-md-4\" dndPlaceholderRef>\r\n                <div class=\"objetivo shadow-sm d-flex flex-column align-content-between\">\r\n                    <p class=\"placeholder-glow\">\r\n                        <span class=\"placeholder col-2\"></span>\r\n                        <span class=\"placeholder col-3\"></span>\r\n                        <span class=\"placeholder col-1\"></span>\r\n                        <span class=\"placeholder col-6\"></span>\r\n                    </p>\r\n                    <div class=\"buttons w-100 d-flex justify-content-end px-1\">\r\n                        <action-button placeholder icon=\"bi bi-question\" color=\"transparent-black p-0\"></action-button>\r\n                        <action-button placeholder icon=\"bi bi-question\" color=\"transparent-black p-0\"></action-button>\r\n                        <action-button placeholder icon=\"bi bi-question\" color=\"transparent-black p-0\"></action-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- Objetivos -->\r\n            <div *ngFor=\"let objetivo of eixo.objetivos\" class=\"col-md-4\" [dndDisableIf]=\"!canEdit\"\r\n                [dndDraggable]=\"objetivo\" (dndEnd)=\"onObjetivoDragEnd($event)\"\r\n                (dndMoved)=\"onObjetivoDragged(objetivo, eixo, 'move')\" (dndStart)=\"onObjetivoDragStart($event)\"\r\n                dndType=\"objetivo\" dndEffectAllowed=\"move\">\r\n                <div class=\"objetivo shadow-sm d-flex flex-column align-content-between\">\r\n                    <div class=\"m-2\">\r\n                        <div dndHandle class=\"card-text text-break w-100\">{{objetivo.nome}}</div>\r\n                        <div class=\"subobjetivo\" [dndDropzone]=\"['objetivo']\" (dndDrop)=\"onObjetivoDrop($event, objetivo)\">\r\n                            <!-- Placehold -->\r\n                            <div class=\"border mt-3 p-2\" dndPlaceholderRef><span class=\"placeholder w-75\"></span></div>\r\n                            <ng-container *ngFor=\"let subobjetivo of objetivo.objetivos\" [ngTemplateOutlet]=\"subobjetivos\" [ngTemplateOutletContext]=\"{objetivo: subobjetivo, pai: objetivo}\"></ng-container>\r\n                        </div>\r\n                    </div>\r\n                    <ng-template #subobjetivos let-objetivo=\"objetivo\" let-pai=\"pai\">\r\n                        <div class=\"border mt-3 p-2\" [dndDisableIf]=\"!canEdit\"\r\n                            [dndDraggable]=\"objetivo\" (dndEnd)=\"onObjetivoDragEnd($event)\"\r\n                            (dndMoved)=\"onObjetivoDragged(objetivo, pai, 'move')\" (dndStart)=\"onObjetivoDragStart($event)\"\r\n                            dndType=\"objetivo\" dndEffectAllowed=\"move\">\r\n                            <div class=\"d-flex justify-content-between\">\r\n                                <div class=\"me-2 card-text text-break w-100\">{{objetivo.nome}}</div>\r\n                                <action-button noArrow [button]=\"subObjetivosMenu\" [data]=\"objetivo\"></action-button>\r\n                            </div>\r\n                            <div class=\"subobjetivo\" [dndDropzone]=\"['objetivo']\" (dndDrop)=\"onObjetivoDrop($event, objetivo)\">\r\n                                <!-- Placehold -->\r\n                                <div class=\"border mt-3 p-2\" dndPlaceholderRef><span class=\"placeholder w-75\"></span></div>\r\n                                <ng-container *ngFor=\"let subobjetivo of objetivo.objetivos\" [ngTemplateOutlet]=\"subobjetivos\" [ngTemplateOutletContext]=\"{objetivo: subobjetivo, pai: objetivo}\"></ng-container>\r\n                            </div>\r\n                        </div>\r\n                    </ng-template>\r\n                    <div class=\"buttons w-100 d-flex justify-content-end px-1\">\r\n                        <action-button icon=\"bi bi-file-earmark-bar-graph\" [data]=\"objetivo\" [onClick]=\"this.onObjetivoClick.bind(this)\" color=\"transparent-black px-1\"></action-button>\r\n                        <action-button icon=\"bi bi-pencil-square\" [data]=\"objetivo\" [onClick]=\"this.onObjetivoEditClick.bind(this)\" color=\"transparent-black px-1\"></action-button>\r\n                        <action-button icon=\"bi bi-trash\" [data]=\"objetivo\" [onClick]=\"this.onObjetivoDeleteClick.bind(this)\" color=\"transparent-black px-1\"></action-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- Espaço -->\r\n<div class=\"row my-2\"></div>","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { PlanejamentoFormComponent } from './planejamento-form/planejamento-form.component';\r\nimport { PlanejamentoListComponent } from './planejamento-list/planejamento-list.component';\r\nimport { PlanejamentoFormObjetivoComponent } from './planejamento-form-objetivo/planejamento-form-objetivo.component';\r\nimport { PlanejamentoListObjetivosEntregasComponent } from './planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: PlanejamentoListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Planejamentos Institucionais\" } },\r\n  { path: 'new', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Planejamento Institucional\", modal: true } },\r\n  { path: ':id/edit', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição de Planejamento Institucional\", modal: true } },\r\n  { path: ':id/consult', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Planejamento Institucional\", modal: true } },\r\n  { path: 'objetivo', component: PlanejamentoFormObjetivoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Objetivo de Planejamento Institucional\", modal: true } },\r\n  { path: 'objetivoList', component: PlanejamentoListObjetivosEntregasComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Objetivos de Planejamento Institucional\", modal: true } },\r\n  { path: 'objetivo/:id/consult', component: PlanejamentoFormObjetivoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Objetivo de Planejamento Institucional\", modal: true } },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PlanejamentoRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { PlanejamentoListComponent } from './planejamento-list/planejamento-list.component';\r\nimport { PlanejamentoFormComponent } from './planejamento-form/planejamento-form.component';\r\nimport { PlanejamentoRoutingModule } from './planejamento-routing.module';\r\nimport { PlanejamentoListObjetivoComponent } from './planejamento-list-objetivo/planejamento-list-objetivo.component';\r\nimport { PlanejamentoFormObjetivoComponent } from './planejamento-form-objetivo/planejamento-form-objetivo.component';\r\nimport { PlanejamentoMapaComponent } from './planejamento-mapa/planejamento-mapa.component';\r\nimport { DndModule } from 'ngx-drag-drop';\r\nimport { PlanejamentoListObjetivosEntregasComponent } from './planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ \r\n    PlanejamentoListComponent,\r\n    PlanejamentoFormComponent,\r\n    PlanejamentoListObjetivoComponent,\r\n    PlanejamentoFormObjetivoComponent,\r\n    PlanejamentoMapaComponent,\r\n    PlanejamentoListObjetivosEntregasComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    DndModule,\r\n    PlanejamentoRoutingModule\r\n  ],\r\n  exports: [\r\n    PlanejamentoListObjetivosEntregasComponent\r\n  ]\r\n})\r\nexport class PlanejamentoModule { }\r\n"],"names":["Base","PlanejamentoObjetivo","constructor","data","nome","fundamentacao","sequencia","path","planejamento_id","eixo_tematico_id","objetivo_pai_id","objetivo_superior_id","initialization","Planejamento","data_arquivamento","data_inicio","Date","data_fim","missao","visao","valores","unidade_id","entidade_id","planejamento_superior_id","EditableFormComponent","EixoTematicoDaoService","PlanejamentoDaoService","PlanejamentoObjetivoDaoService","PageFormBase","NavigateResult","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ctx_r2","entityService","getIcon","objetivos_superiores","form","controls","PlanejamentoFormObjetivoComponent","injector","objetivos","validate","control","controlName","result","indexOf","value","length","formValidation","planejamentoDao","get","eixoTematicoDao","fh","FormBuilder","default","planejamento_superior_nome","cdRef","loadData","entity","_this","_asyncToGenerator","formValue","Object","assign","patchValue","util","fillForm","eixoTematico","loadSearch","eixo_tematico","title","_status","planejamento","metadata","planejamento_superior","setValue","map","x","key","id","initializeData","_this2","objetivo","saveData","_this3","Promise","_ref","resolve","reject","_x","_x2","apply","arguments","isPlanejamentoUNEX","ɵɵdirectiveInject","Injector","selectors","viewQuery","PlanejamentoFormObjetivoComponent_Query","rf","ctx","ɵɵlistener","PlanejamentoFormObjetivoComponent_Template_editable_form_submit_0_listener","onSaveData","PlanejamentoFormObjetivoComponent_Template_editable_form_cancel_0_listener","onCancel","ɵɵtemplate","PlanejamentoFormObjetivoComponent_div_7_Template","formDisabled","isModal","undefined","GridComponent","UnidadeDaoService","PlanejamentoFormComponent","planejamentosSuperiores","hasPermissionToUNEX","MAX_LENGTH_TEXT","dao","validDateTime","titleEdit","lex","translate","unidadeDao","auth","hasPermissionTo","join","valor_texto","carregaPlanejamentosSuperiores","grid","confirm","fill","items","addValorHandle","textHash","validateLookupItem","onUnidadeChange","event","query","where","getAll","then","pls","unshift","detectChanges","onPlanejamentoChange","filter","objetivo_superior","dialog","forEach","obj","loadColumns","isPlanejamentoUNINST","isPlanejamentoUNEXEC","PlanejamentoFormComponent_Query","PlanejamentoFormComponent_Template_editable_form_submit_0_listener","PlanejamentoFormComponent_Template_editable_form_cancel_0_listener","PlanejamentoFormComponent_Template_input_search_change_7_listener","$event","PlanejamentoFormComponent_Template_input_select_change_11_listener","bind","action","PageFrameBase","tmp_0_0","getEixo","separator_r10","text","icone","tmp_1_0","cor","tmp_2_0","ɵɵtext","ɵɵstyleProp","row_r11","_metadata","level","ɵɵtextInterpolate","ctx_r4","marcador","row_r12","row_r13","row_r16","PlanejamentoListObjetivoComponent_column_14_ng_template_1_Template","ɵɵtemplateRefExtractor","_r14","PlanejamentoListObjetivoComponent","disabled","_disabled","noPersist","gridControl","minHeight","options","eixos","objetivoDao","eixoDao","groupBy","field","label","ngOnInit","carregaEixos","sortObjetivos","dynamicButtons","row","push","hint","icon","color","onClick","editObjetivo","dynamicOptions","go","navigate","route","modal","removeObjetivo","addObjetivo","generateUuid","objetivosPai","modalClose","modalResult","isNoPersist","save","error","message","filhoId","addItens","list","item","sort","a","b","index","_ref2","delete","splice","find","PlanejamentoListObjetivoComponent_Query","PlanejamentoListObjetivoComponent_ng_template_2_Template","PlanejamentoListObjetivoComponent_ng_template_6_Template","PlanejamentoListObjetivoComponent_ng_template_9_Template","PlanejamentoListObjetivoComponent_ng_template_12_Template","PlanejamentoListObjetivoComponent_column_14_Template","_r1","_r3","_r5","_r7","PageListBase","ctx_r0","ctx_r1","buttons","row_r4","PlanejamentoListObjetivosEntregasComponent","filterWhere","trim","replace","planejamentoObjetivoDao","filterClear","PlanejamentoListObjetivosEntregasComponent_Query","PlanejamentoListObjetivosEntregasComponent_h3_0_Template","PlanejamentoListObjetivosEntregasComponent_Template_grid_select_1_listener","onSelect","PlanejamentoListObjetivosEntregasComponent_toolbar_2_Template","PlanejamentoListObjetivosEntregasComponent_ng_template_8_Template","add","orderBy","selectable","filterSubmit","filterCollapseChange","filterCollapsed","_r2","edit","rowsLimit","TabsComponent","ɵɵtextInterpolate1","row_r19","PlanejamentoListComponent_ng_template_2_column_12_ng_template_1_span_0_Template","row_r22","PlanejamentoListComponent_ng_template_2_column_12_ng_template_1_Template","PlanejamentoListComponent_ng_template_2_column_12_ng_template_3_Template","ctx_r6","_r15","_r17","row_r23","ctx_r10","getDateFormatted","row_r24","ctx_r12","row_r25","row_r26","unidade","PlanejamentoListComponent_ng_template_2_Template_grid_select_0_listener","ɵɵrestoreView","_r28","ctx_r27","ɵɵnextContext","ɵɵresetView","PlanejamentoListComponent_ng_template_2_toolbar_1_Template","PlanejamentoListComponent_ng_template_2_Template_input_switch_change_6_listener","ctx_r29","onSoEntidadeChange","PlanejamentoListComponent_ng_template_2_column_12_Template","PlanejamentoListComponent_ng_template_2_ng_template_14_Template","PlanejamentoListComponent_ng_template_2_ng_template_17_Template","PlanejamentoListComponent_ng_template_2_ng_template_20_Template","PlanejamentoListComponent_ng_template_2_ng_template_23_Template","initGrid","so_entidade","unidade_disabled","_r9","_r11","_r13","PlanejamentoListComponent","code","agrupar","consult","ngAfterViewInit","tabs","active","includes","usuarioConfig","active_tab","onLoad","queryInit","onSelectTab","tab","saveUsuarioConfig","PlanejamentoListComponent_Query","PlanejamentoListComponent_ng_template_2_Template","PlanejamentoListComponent_ng_template_5_Template","_r0","valor_r4","PlanejamentoMapaComponent_div_5_li_7_Template","ɵɵelementContainer","ɵɵpureFunction2","_c1","subobjetivo_r11","objetivo_r7","subobjetivo_r16","objetivo_r13","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template_div_dndEnd_0_listener","_r19","ctx_r18","onObjetivoDragEnd","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template_div_dndMoved_0_listener","restoredCtx","pai_r14","pai","ctx_r20","onObjetivoDragged","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template_div_dndStart_0_listener","ctx_r21","onObjetivoDragStart","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template_div_dndDrop_5_listener","ctx_r22","onObjetivoDrop","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_ng_container_8_Template","canEdit","subObjetivosMenu","ɵɵpureFunction0","_c2","PlanejamentoMapaComponent_div_8_div_18_Template_div_dndEnd_0_listener","_r24","ctx_r23","PlanejamentoMapaComponent_div_8_div_18_Template_div_dndMoved_0_listener","$implicit","eixo_r5","ctx_r25","PlanejamentoMapaComponent_div_8_div_18_Template_div_dndStart_0_listener","PlanejamentoMapaComponent_div_8_div_18_Template_div_dndDrop_5_listener","ctx_r28","PlanejamentoMapaComponent_div_8_div_18_ng_container_8_Template","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template","onObjetivoClick","onObjetivoEditClick","onObjetivoDeleteClick","PlanejamentoMapaComponent_div_8_Template_div_dndDrop_6_listener","_r30","PlanejamentoMapaComponent_div_8_div_18_Template","eixo","onObjetivoAddClick","PlanejamentoMapaComponent","planejamentos","todos","asPromise","objetivosEixo","eixoId","y","recursivo","planejamentoInstitucional","selectedItem","getById","extra","onTodosChange","dropped","console","log","neighborhood","loading","update","finally","dragged","effect","PlanejamentoMapaComponent_Query","PlanejamentoMapaComponent_Template_input_select_change_2_listener","PlanejamentoMapaComponent_div_5_Template","PlanejamentoMapaComponent_Template_input_switch_change_7_listener","PlanejamentoMapaComponent_div_8_Template","RouterModule","AuthGuard","ConfigResolver","routes","component","canActivate","config","runGuardsAndResolvers","PlanejamentoRoutingModule","forChild","imports","i1","exports","CommonModule","ComponentsModule","DndModule","PlanejamentoModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
=======
{"version":3,"file":"685.js","mappings":"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","sources":["./src/app/models/planejamento-objetivo.model.ts","./src/app/models/planejamento.model.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form-objetivo/planejamento-form-objetivo.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form-objetivo/planejamento-form-objetivo.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-form/planejamento-form.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form/planejamento-form.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivo/planejamento-list-objetivo.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivo/planejamento-list-objetivo.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-list/planejamento-list.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list/planejamento-list.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-mapa/planejamento-mapa.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-mapa/planejamento-mapa.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-routing.module.ts","./src/app/modules/gestao/planejamento-institucional/planejamento.module.ts"],"sourcesContent":["import { Base } from './base.model';\r\nimport { EixoTematico } from './eixo-tematico.model';\r\nimport { Planejamento } from './planejamento.model';\r\n\r\nexport class PlanejamentoObjetivo extends Base {\r\n    public planejamento?: Planejamento;\r\n    public eixo_tematico?: EixoTematico;\r\n    public objetivo_pai?: PlanejamentoObjetivo;\r\n    public objetivos?: PlanejamentoObjetivo[];\r\n    \r\n    public nome: string = \"\"; /* Nome do objetivo */\r\n    public fundamentacao: string = \"\"; /* Fundamentação para a definição do objetivo */\r\n    public sequencia: number = 0; \r\n    public path: string | null = null; \r\n\r\n    public planejamento_id: string | null = null; \r\n    public eixo_tematico_id: string | null = null; \r\n    public objetivo_pai_id: string | null = null;\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}","import { LookupItem } from '../services/lookup.service';\r\nimport { Base } from './base.model';\r\nimport { Entidade } from './entidade.model';\r\nimport { PlanejamentoObjetivo } from './planejamento-objetivo.model';\r\nimport { Unidade } from './unidade.model';\r\n\r\nexport class Planejamento extends Base {\r\n    public unidade?: Unidade;\r\n    public entidade?: Entidade;\r\n    public objetivos?: PlanejamentoObjetivo[];\r\n    public planejamento_superior?: Planejamento;\r\n    \r\n    public data_arquivamento: Date | null = null;  /* Data de arquivamento */\r\n    public data_inicio: Date = new Date(); /* Data de início do planejamento */\r\n    public data_fim: Date | null = null; /* Data final do planejamento */\r\n    public nome: string = \"\"; /* Nome do planejamento institucional */\r\n    public missao: string = \"\"; /* Missão da Instituição/Unidade */\r\n    public visao: string = \"\"; /* Visão da Instituição/Unidade */\r\n    public valores: LookupItem[] = []; /* Valores da Instituição/Unidade */\r\n    \r\n    public unidade_id: string | null = null; /* Unidade à qual está vinculado o planejamento institucional */\r\n    public entidade_id: string | null = null; /* Entidade à qual está vinculado o planejamento institucional */\r\n    public planejamento_superior_id: string | null = null; /* Planejamento hierarquicamente superior ao qual o atual planejamento está vinculado */\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { InputTextComponent } from 'src/app/components/input/input-text/input-text.component';\r\nimport { EixoTematicoDaoService } from 'src/app/dao/eixo-tematico-dao.service';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { NavigateResult } from 'src/app/services/navigate.service';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-form-objetivo',\r\n  templateUrl: './planejamento-form-objetivo.component.html',\r\n  styleUrls: ['./planejamento-form-objetivo.component.scss']\r\n})\r\nexport class PlanejamentoFormObjetivoComponent extends PageFormBase<PlanejamentoObjetivo, PlanejamentoObjetivoDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('planejamentoSuperiorNome', {static: false}) public planejamentoSuperiorNome?: InputTextComponent;\r\n  @ViewChild('eixoTematico', {static: false}) public eixoTematico?: InputSearchComponent;\r\n\r\n  public planejamento?: Planejamento;\r\n  public objetivos: LookupItem[] = [];\r\n  public objetivos_superiores: LookupItem[] = [];\r\n  public planejamentoDao?: PlanejamentoDaoService;\r\n  public eixoTematicoDao?: EixoTematicoDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, PlanejamentoObjetivo, PlanejamentoObjetivoDaoService);\r\n    this.planejamentoDao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.eixoTematicoDao = injector.get<EixoTematicoDaoService>(EixoTematicoDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      nome: {default: \"\"},\r\n      fundamentacao: {default: \"\"},\r\n      planejamento_id: {default: null},\r\n      planejamento_superior_nome: {default: \"\"},\r\n      eixo_tematico_id: {default: null},\r\n      objetivo_superior_id: {default: null},\r\n      objetivo_pai_id: {default: null},\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if(['nome','fundamentacao','eixo_tematico_id'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public formValidation = (form?: FormGroup) =>{\r\n    let result = null;\r\n    /*  Regra está sendo discutida\r\n        (RN_PLAN_INST_OBJ_A)\r\n        Quando o Planejamento é de uma Unidade Executora é obrigatório associar cada um dos seus objetivos a um objetivo do Planejamento Institucional superior\r\n    */\r\n/*     if(this.isPlanejamentoUNEX() && !this.form?.controls.objetivo_superior_id.value){\r\n      result = \"Quando o Planejamento é de uma Unidade Executora é obrigatório associar cada um dos seus objetivos a um objetivo do Planejamento Institucional superior!\";\r\n    } */\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: PlanejamentoObjetivo, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    await this.eixoTematico?.loadSearch(entity.eixo_tematico || entity.eixo_tematico_id);\r\n    this.title = entity._status == 'ADD' ? 'Inclusão de Objetivo' : 'Editando objetivo...';\r\n    this.planejamento = this.metadata?.planejamento as Planejamento;\r\n    if(this.planejamento) this.planejamento.planejamento_superior = this.metadata.planejamento_superior as Planejamento || null;\r\n    if(this.planejamento.planejamento_superior) this.planejamento.planejamento_superior.objetivos = this.metadata?.objetivos_superiores || null; \r\n    this.form?.controls.planejamento_superior_nome.setValue(this.planejamento?.planejamento_superior?.nome || '');\r\n    this.objetivos_superiores = this.planejamento?.planejamento_superior?.objetivos?.map(x => Object.assign({}, { key: x.id, value: x.nome, data: x })) || [];\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity = this.metadata?.objetivo as PlanejamentoObjetivo;\r\n    this.objetivos = (this.metadata?.objetivos as PlanejamentoObjetivo[]).map(x => Object.assign({}, {\r\n      key: x.id,\r\n      value: x.nome,\r\n      data: x\r\n    }));\r\n    await this.loadData(this.entity!, form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<NavigateResult> {\r\n    return new Promise<NavigateResult>(async (resolve, reject) => {\r\n      const objetivo = this.util.fill(new PlanejamentoObjetivo(), this.entity!);\r\n      resolve(new NavigateResult(this.util.fillForm(objetivo, this.form!.value)));\r\n    });\r\n  }\r\n\r\n  public isPlanejamentoUNEX(): boolean {\r\n    return this.planejamento?.unidade_id != null;\r\n  }\r\n\r\n  public onObjetivoPaiChange(objetivoPai: InputSelectComponent) {\r\n    if(objetivoPai.selectedItem?.data?.eixo_tematico_id?.length) this.form!.controls.eixo_tematico_id.setValue(objetivoPai.selectedItem?.data.eixo_tematico_id); \r\n  }\r\n\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"objetivo_pai_id\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div class=\"row\">\r\n        <div class=\"row\">\r\n            <input-select [size]=\"6\" #objetivoPai nullable [items]=\"objetivos\" label=\"Objetivo\" icon=\"fab fa-unity\" controlName=\"objetivo_pai_id\" (change)=\"onObjetivoPaiChange(objetivoPai)\"></input-select>\r\n            <input-search [size]=\"6\" #eixoTematico [disabled]=\"form?.controls?.objetivo_pai_id?.value ? 'true' : undefined\" controlName=\"eixo_tematico_id\" [dao]=\"eixoTematicoDao\" required></input-search>\r\n        </div>\r\n        <div *ngIf=\"planejamento?.unidade_id\" class=\"row\">\r\n            <input-text #planejamento_superior_nome [size]=\"12\" class=\"disabled\" disabled=\"true\" label=\"Planejamento superior vinculado\" [icon]=\"entityService.getIcon('Planejamento')\" controlName=\"planejamento_superior_nome\"></input-text>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-text [size]=\"12\" icon=\"bi bi-textarea-t\" label=\"Nome\" controlName=\"nome\" [control]=\"form!.controls.nome\" required></input-text>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-textarea icon=\"bi bi-textarea-t\" label=\"Fundamentação\" [size]=\"12\" [rows]=\"4\" controlName=\"fundamentacao\" [control]=\"form!.controls.fundamentacao\" required></input-textarea>\r\n        </div>\r\n        <div *ngIf=\"planejamento?.unidade_id\" class=\"row\">\r\n            <input-select [items]=\"objetivos_superiores\" [size]=\"12\" label=\"Objetivo de planejamento superior (Vinculado)\" icon=\"fab fa-unity\" controlName=\"objetivo_superior_id\" [control]=\"form!.controls.objetivo_superior_id\"></input-select>\r\n        </div>\r\n    </div>\r\n</editable-form>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { PlanejamentoListObjetivoComponent } from '../planejamento-list-objetivo/planejamento-list-objetivo.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-form',\r\n  templateUrl: './planejamento-form.component.html',\r\n  styleUrls: ['./planejamento-form.component.scss']\r\n})\r\nexport class PlanejamentoFormComponent extends PageFormBase<Planejamento, PlanejamentoDaoService> {\r\n    @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n    @ViewChild(GridComponent, { static: true }) public grid?: GridComponent;\r\n    @ViewChild('planejamentoSuperior', { static: false }) public planejamentoSuperior?: InputSelectComponent;\r\n    @ViewChild('objetivos', { static: false }) public objetivos?: PlanejamentoListObjetivoComponent;\r\n\r\n    public unidadeDao: UnidadeDaoService;\r\n    public planejamentosSuperiores: LookupItem[] = [];\r\n    public hasPermissionToUNEX: boolean = false;\r\n    public form: FormGroup;\r\n    \r\n    constructor(public injector: Injector) {\r\n      super(injector, Planejamento, PlanejamentoDaoService);\r\n      this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n      this.hasPermissionToUNEX = this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_LOTPRI') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_QQLOT') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_SUBORD') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_QUALQUER');\r\n      this.join = [\r\n        'objetivos',\r\n        'objetivos.objetivo_pai:id,nome',\r\n        'objetivos.eixo_tematico:id,nome',\r\n        'planejamento_superior:id,nome',\r\n        'planejamento_superior.objetivos'\r\n      ];\r\n      this.form = this.fh.FormBuilder({\r\n        nome: {default: \"\"},\r\n        unidade_id: {default: null},\r\n        entidade_id: {default: null},\r\n        planejamento_superior_id: {default: null},\r\n        data_inicio: {default: new Date()},\r\n        data_fim: {default: null},\r\n        missao: {default: \"\"},\r\n        visao: {default: \"\"},\r\n        valores: { default: []},\r\n        valor_texto: {default: \"\"}\r\n      }, this.cdRef, this.validate);\r\n    }\r\n  \r\n    public validate = (control: AbstractControl, controlName: string) => {\r\n      let result = null;\r\n      /*  (RN_PLAN_INST_A) \r\n          Para a criação de um planejamento institucional são informações obrigatórias: nome, missão, visão, data de início, unidade responsável e ao menos um dos valores institucionais.\r\n      */\r\n      if(['nome','unidade_id','missao','visao'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n        result = \"Obrigatório\";\r\n      }\r\n      if(['data_inicio'].indexOf(controlName) >= 0 && !this.dao?.validDateTime(control.value)) {\r\n        result = \"Inválido\";\r\n      }\r\n      if(controlName == 'data_fim' && control.value && !this.dao?.validDateTime(control.value)){\r\n        result = \"Inválido\";\r\n      }\r\n      return result;\r\n    }\r\n  \r\n    public formValidation = (form?: FormGroup) => {\r\n      /*  (RN_PLAN_INST_A) \r\n          Para a criação de um planejamento institucional são informações obrigatórias: nome, missão, visão, data de início, unidade responsável e ao menos um dos valores institucionais.\r\n      */\r\n      if(this.form!.controls.data_fim.value && this.form!.controls.data_inicio.value > this.form!.controls.data_fim.value) return \"A data do início não pode ser maior que a data do fim!\";\r\n      if(this.form!.controls.valores.value.length == 0) return \"É obrigatória a inclusão de ao menos um valor institucional!\";\r\n      /*  (RN_PLAN_INST_B) Não pode existir mais de um planejamento institucional para uma mesma unidade em um mesmo período de tempo;\r\n          GitLab #651: aguardando definição do assunto \r\n      if(!form!.controls.unidade_id.value.length) {\r\n        this.dao?.query({where: [['unidade_id', \"==\", null],[\"data_inicio\", \"<=\", form!.controls.data_inicio.value]]})\r\n      } else {\r\n        this.dao?.query({where: [['unidade_id', \"==\", form!.controls.unidade_id.value]]})\r\n      } */\r\n      return undefined;\r\n    }\r\n  \r\n    public loadData(entity: Planejamento, form: FormGroup) {\r\n      let formValue = Object.assign({}, form.value);\r\n      form.patchValue(this.util.fillForm(formValue, entity));\r\n      this.carregaPlanejamentosSuperiores();\r\n      this.form.controls.planejamento_superior_id.setValue(entity.planejamento_superior_id);\r\n    }\r\n\r\n    public initializeData(form: FormGroup) {\r\n      this.entity = new Planejamento();\r\n      this.loadData(this.entity, form); \r\n    }\r\n\r\n    public async saveData(form: IIndexable): Promise<Planejamento> {\r\n      return new Promise<Planejamento>((resolve, reject) => {\r\n        this.objetivos!.grid!.confirm();\r\n        let planejamento = this.util.fill(new Planejamento(), this.entity!);\r\n        planejamento = this.util.fillForm(planejamento, this.form!.value);\r\n        planejamento.objetivos = this.objetivos!.items;\r\n        resolve(planejamento);\r\n      });\r\n    }\r\n   \r\n    public titleEdit = (entity: Planejamento): string => {\r\n      return \"Editando \" + this.lex.translate(\"Planejamento Institucional\") + ': ' + (entity?.nome || \"\");\r\n    }\r\n\r\n    public addValorHandle(): LookupItem | undefined {\r\n      let result = undefined;\r\n      const value = this.form.controls.valor_texto.value;\r\n      const key = this.util.textHash(value);\r\n      if(value?.length && this.util.validateLookupItem(this.form.controls.valores.value, key)) {\r\n        result = {\r\n          key: key,\r\n          value: this.form.controls.valor_texto.value\r\n        };\r\n        this.form.controls.valor_texto.setValue(\"\");\r\n      }\r\n      return result;\r\n    }; \r\n    \r\n    public onUnidadeChange(event: Event){\r\n      if(this.entity!.unidade_id != this.form.controls.unidade_id.value) this.carregaPlanejamentosSuperiores();\r\n    }\r\n\r\n    public carregaPlanejamentosSuperiores(){\r\n      this.dao?.query({where: [['unidade_executora_id', '==', this.form.controls.unidade_id.value], ['manut_planej_unidades_executoras','==',true]]}).getAll().then((pls) => {\r\n        this.planejamentosSuperiores = pls.map(x => Object.assign({},{key: x.id, value: x.nome}) as LookupItem);\r\n        this.planejamentosSuperiores.unshift({key: null, value: 'Escolha um Planejamento superior...'});\r\n        this.objetivos!.loadData(this.entity!, this.form!);\r\n        this.cdRef.detectChanges();\r\n      });\r\n    }\r\n\r\n    /**\r\n     * @param event \r\n     * Se o planejamento superior for alterado, e já houver objetivos na lista, avisar que eles serão desvinculados dos objetivos do planejamento anterior,\r\n     * para que novos objetivos superiores sejam selecionados.\r\n     */\r\n    public async onPlanejamentoChange(event: Event){\r\n      if(this.form.controls.planejamento_superior_id.value != this.entity?.planejamento_superior_id && this.entity?.objetivos?.length) {\r\n        let confirm = await this.dialog.confirm(\"Alteração de Planejamento superior\", \"Como já existem objetivos neste Planejamento, eles serão desvinculados dos objetivos do Planejamento anterior, para que novos objetivos sejam selecionados! Deseja continuar?\");\r\n        if(confirm) {\r\n          this.entity?.objetivos?.forEach(obj => obj.objetivo_pai_id = null); \r\n          //atualizar a lista de objetivos superiores\r\n        } else {\r\n          this.form.controls.planejamento_superior_id.setValue(this.entity?.planejamento_superior_id);\r\n        };\r\n      };\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @returns boolean Informa se o planejamento é da Unidade Instituidora ou não.\r\n     */\r\n    public isPlanejamentoUNINST(): boolean {\r\n      return !this.form.controls.unidade_id.value?.length\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @returns boolean Informa se o planejamento é da Unidade Executora ou não.\r\n     */\r\n    public isPlanejamentoUNEXEC(): boolean {\r\n      return !this.isPlanejamentoUNINST();\r\n    }\r\n}\r\n  \r\n  \r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"nome\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right>\r\n        <tab key=\"DADOS\" label=\"Dados\">\r\n            <div class=\"row\">\r\n                <div class=\"row\">\r\n                    <input-text [size]=\"12\" label=\"Nome do Planejamento Institucional\" [icon]=\"entityService.getIcon('Planejamento')\" controlName=\"nome\" [control]=\"form!.controls.nome\" required></input-text>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <!-- <input-search [size]=\"6\" [disabled]=\"hasPermissionToUNEX ? undefined : 'true'\" controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [dao]=\"unidadeDao\" [selectParams]=\"{filter: {instituidora: true}}\" (change)=\"onUnidadeChange($event)\" labelInfo=\"Unidade responsável pelo planejamento, caso vazio será considerado a Entidade\"></input-search> -->\r\n                    <input-search [size]=\"6\" controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [dao]=\"unidadeDao\" (change)=\"onUnidadeChange($event)\" labelInfo=\"Unidade à qual se refere o planejamento\" required></input-search>\r\n                    <input-datetime date [size]=\"3\" label=\"Início\" icon=\"bi bi-calendar-date\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" labelInfo=\"Início do Planejamento Institucional\"></input-datetime>\r\n                    <input-datetime date [size]=\"3\" label=\"Fim\" icon=\"bi bi-calendar-date\" controlName=\"data_fim\" [control]=\"form!.controls.data_fim\" labelInfo=\"Fim do Planejamento Institucional\"></input-datetime>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <input-select #planejamentoSuperior [items]=\"planejamentosSuperiores\" label=\"Selecione um Planejamento Institucional Superior (opcional)\" controlName=\"planejamento_superior_id\" [control]=\"form!.controls.planejamento_superior_id\" (change)=\"onPlanejamentoChange($event)\" [icon]=\"entityService.getIcon('Planejamento')\"></input-select>\r\n                </div>                \r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <input-textarea [size]=\"12\" label=\"Missão\" [rows]=\"3\" controlName=\"missao\" [control]=\"form!.controls.missao\" required></input-textarea>\r\n                        <input-textarea [size]=\"12\" label=\"Visão\" [rows]=\"3\" controlName=\"visao\" [control]=\"form!.controls.visao\" required></input-textarea>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"row\">\r\n                            <input-multiselect [size]=\"12\" label=\"Valores\" controlName=\"valores\" [addItemHandle]=\"addValorHandle.bind(this)\">\r\n                                <input-text label=\"Valor Institucional\" icon=\"far fa-edit\" controlName=\"valor_texto\" [control]=\"form!.controls.valor_texto\"></input-text>\r\n                            </input-multiselect>        \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"OBJETIVOS\" label=\"Objetivos\">\r\n            <planejamento-list-objetivo #objetivos noPersist [entity]=\"entity\" [disabled]=\"action == 'consult'\"></planejamento-list-objetivo>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>\r\n\r\n","import { Component, Injector, Input, ViewChild } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { EixoTematicoDaoService } from 'src/app/dao/eixo-tematico-dao.service';\r\n\r\n@Component({\r\n  selector: 'planejamento-list-objetivo',\r\n  templateUrl: './planejamento-list-objetivo.component.html',\r\n  styleUrls: ['./planejamento-list-objetivo.component.scss']\r\n})\r\nexport class PlanejamentoListObjetivoComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n  @Input() set entity(value: Planejamento | undefined) { super.entity = value; } get entity(): Planejamento | undefined { return super.entity; }\r\n  @Input() set disabled(value: boolean) { if (this._disabled != value) this._disabled = value; } get disabled(): boolean { return this._disabled; }\r\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\r\n\r\n  public get items(): PlanejamentoObjetivo[] {\r\n    if (!this.gridControl.value) this.gridControl.setValue(new Planejamento());\r\n    if (!this.gridControl.value.objetivos) this.gridControl.value.objetivos = [];\r\n    return this.gridControl.value.objetivos;\r\n  }\r\n  public minHeight: number = 350;\r\n  public options: ToolbarButton[] = [];\r\n  public objetivoDao?: PlanejamentoObjetivoDaoService;\r\n  public eixoDao?: EixoTematicoDaoService;\r\n  private _disabled: boolean = false;\r\n  public eixos: EixoTematico[] = [];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.objetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\r\n    this.eixoDao = injector.get<EixoTematicoDaoService>(EixoTematicoDaoService);\r\n    this.groupBy = [{ field: \"eixo_tematico_id\", label: \"Eixo Temático\" }];\r\n    this.form = this.fh.FormBuilder({\r\n      nome: { default: \"\" },\r\n      fundamentacao: { default: \"\" },\r\n      planejamento_id: { default: null },\r\n      eixo_tematico_id: { default: null },\r\n      objetivo_superior_id: { default: null }\r\n    }, this.cdRef);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.entity = this.metadata?.entity || this.entity;\r\n    this.carregaEixos();\r\n    this.sortObjetivos();\r\n  }\r\n\r\n  public dynamicButtons(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let objetivo: PlanejamentoObjetivo = row as PlanejamentoObjetivo;\r\n    if (this.auth.hasPermissionTo('MOD_PLAN_INST_EDT') && !this.disabled) {\r\n      result.push({ hint: \"Alterar\", icon: \"bi bi-pencil-square\", color: \"btn-outline-info\", onClick: (objetivo: PlanejamentoObjetivo) => { this.editObjetivo(objetivo); } });\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public dynamicOptions(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let objetivo: PlanejamentoObjetivo = row as PlanejamentoObjetivo;\r\n    result.push({ label: \"Informações\", icon: \"bi bi-info-circle\", onClick: (objetivo: PlanejamentoObjetivo) => this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo', objetivo.id, 'consult'] }, { modal: true }) });\r\n    if (this.auth.hasPermissionTo('MOD_PLAN_INST_EXCL') && !this.disabled) {\r\n      result.push({ label: \"Excluir\", icon: \"bi bi-trash\", color: \"btn-outline-danger\", onClick: (objetivo: PlanejamentoObjetivo) => { this.removeObjetivo(objetivo); } });\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public marcador(row: PlanejamentoObjetivo): string {\r\n    let level = row._metadata?.level || 0;\r\n    return level < 1 ? \"\" : (level < 2 ? \"• \" : (level < 3 ? \"- \" : \"+ \"));\r\n  }\r\n\r\n  public async addObjetivo() {\r\n    // ************ \r\n    // se for adicionar um objetivo num grid não persistente é necessário checar se o planejamento é da entidade ou da unidade, pois se\r\n    // se for de uma unidade será obrigatório já ter escolhido o planejamento superior\r\n    let objetivo = new PlanejamentoObjetivo({ \r\n      _status: \"ADD\", \r\n      id: this.dao!.generateUuid(),\r\n      planejamento_id: this.entity?.id\r\n    });\r\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\r\n      metadata: { \r\n        planejamento: this.entity!, \r\n        objetivo: objetivo,\r\n        objetivos: this.objetivosPai(objetivo.id) \r\n      },\r\n      modalClose: async (modalResult) => {\r\n        if (modalResult) {\r\n          try {\r\n            this.carregaEixos();\r\n            this.isNoPersist ? this.items.push(modalResult) : this.items.push(await this.objetivoDao!.save(modalResult)); \r\n            this.sortObjetivos();\r\n          } catch (error: any) {\r\n            this.error(error?.error || error?.message || error);            \r\n          }\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public objetivosPai(filhoId: string) {\r\n    let items: PlanejamentoObjetivo[] = [];\r\n    let addItens = (list: PlanejamentoObjetivo[]) => {\r\n      for(let item of list) {\r\n        if(item.id != filhoId) {\r\n          items.push(item);\r\n          addItens(this.items.filter(x => x.objetivo_pai_id == item.id).sort((a,b) => a.sequencia - b.sequencia));\r\n        }\r\n      }\r\n    }\r\n    addItens(this.items.filter(x => !x.objetivo_pai_id).sort((a,b) => a.sequencia - b.sequencia));\r\n    return items;\r\n  }\r\n\r\n  public sortObjetivos() {\r\n    let items: PlanejamentoObjetivo[] = [];\r\n    let addItens = (list: PlanejamentoObjetivo[], level: number) => {\r\n      for(let item of list) {\r\n        item._metadata = Object.assign(item._metadata || {}, { level });\r\n        items.push(item);\r\n        if(item._status != \"DELETE\") addItens(this.items.filter(x => x.objetivo_pai_id == item.id).sort((a,b) => a.sequencia - b.sequencia), level + 1);\r\n      }\r\n    }\r\n    addItens(this.items.filter(x => !x.objetivo_pai_id).sort((a,b) => a.sequencia - b.sequencia), 0);\r\n    this.items.length = 0;\r\n    this.items.push(...items);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async editObjetivo(objetivo: PlanejamentoObjetivo) {\r\n    objetivo._status = objetivo._status == \"ADD\" ? \"ADD\" : \"EDIT\";\r\n    let index = this.items.indexOf(objetivo);\r\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\r\n      metadata: { \r\n        planejamento: this.entity!, \r\n        objetivo: objetivo,\r\n        objetivos: this.objetivosPai(objetivo.id) \r\n      },\r\n      modalClose: async (modalResult) => {\r\n        if (modalResult) {\r\n          if (!this.isNoPersist) await this.objetivoDao?.save(modalResult);\r\n          this.items[index] = modalResult;\r\n          this.carregaEixos();\r\n          this.sortObjetivos();\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public async removeObjetivo(objetivo: PlanejamentoObjetivo) {\r\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\r\n    if (confirm) {\r\n      let index = this.items.indexOf(objetivo);\r\n      if (this.isNoPersist) {\r\n        objetivo._status = \"DELETE\";\r\n      } else {\r\n        await this.objetivoDao!.delete(objetivo);\r\n        this.grid?.items.splice(index, 1);\r\n      };\r\n      this.sortObjetivos();\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public getEixo(id: string): EixoTematico | undefined {\r\n    return this.eixos?.find(x => x.id == id);\r\n  }\r\n\r\n  public carregaEixos(){\r\n    this.eixoDao?.query().getAll().then(eixos => {\r\n      this.eixos = eixos;\r\n    });\r\n  }\r\n\r\n}\r\n\r\n\r\n","<grid [items]=\"items\" [form]=\"form!\" #gridObjetivos editable [selectable]=\"false\" [minHeight]=\"minHeight\"\r\n    [add]=\"addObjetivo.bind(this)\" [remove]=\"removeObjetivo.bind(this)\"\r\n    [hasDelete]=\"false\" [hasEdit]=\"false\" [hasAdd]=\"!disabled\" [join]=\"join\" [groupBy]=\"groupBy\" [groupTemplate]=\"groupEixoTematico\">\r\n    <ng-template let-separator=\"separator\" #groupEixoTematico>\r\n        <span class=\"text-wrap\"><badge [icon]=\"getEixo(separator?.text)?.icone || 'bi bi-gear'\" [color]=\"getEixo(separator?.text)?.cor || 'primary'\" [label]=\"getEixo(separator?.text)?.nome || 'Desconhecido'\"></badge></span>\r\n    </ng-template>\r\n    <columns>\r\n        <column title=\"Nome\" [template]=\"columnNome\">\r\n            <ng-template let-row=\"row\" #columnNome>\r\n                <span class=\"text-break w-100\" [style.margin-left.px]=\"(row._metadata?.level || 0) * 20\">{{ marcador(row) + row.nome }}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Fundamentação\" [template]=\"columnFundamentacao\"><ng-template let-row=\"row\" #columnFundamentacao><span>{{ row.fundamentacao }}</span></ng-template></column>\r\n        <column title=\"Objetivo Superior\" [template]=\"columnObjetivoSuperior\"><ng-template let-row=\"row\" #columnObjetivoSuperior><span>{{ row.objetivo_superior?.nome  || '' }}</span></ng-template></column>\r\n        <column type=\"options\" [dynamicButtons]=\"dynamicButtons.bind(this)\" [dynamicOptions]=\"dynamicOptions.bind(this)\"></column>\r\n    </columns>\r\n</grid>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\n\n@Component({\n  selector: 'planejamento-list-objetivos-entregas',\n  templateUrl: './planejamento-list-objetivos-entregas.component.html',\n  styleUrls: ['./planejamento-list-objetivos-entregas.component.scss']\n})\nexport class PlanejamentoListObjetivosEntregasComponent extends PageListBase<PlanejamentoObjetivo, PlanejamentoObjetivoDaoService> {\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  \n  public planejamentoDao: PlanejamentoDaoService;\n  public planejamentoObjetivoDao: PlanejamentoObjetivoDaoService;\n  public buttons: ToolbarButton[] = [];\n  \n  constructor(public injector: Injector) {\n    super(injector, PlanejamentoObjetivo, PlanejamentoObjetivoDaoService);\n    this.join = ['objetivos']\n    this.planejamentoDao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\n    this.planejamentoObjetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\n    this.title = this.lex.translate(\"Objetivos\") + ' ' + this.lex.translate(\"do Planejamento Institucional\");\n    this.filter = this.fh.FormBuilder({\n      nome: { default: \"\" },\n      planejamento_id: { default: null}\n    });\n  }  \n \n  public dynamicOptions(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    result.push({ label: \"Informações\", icon: \"bi bi-info-circle\", onClick: (objetivo: PlanejamentoObjetivo) => this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo', objetivo.id, 'consult'] }, { modal: true }) });\n    return result;\n  }\n\n  public filterClear(filter: FormGroup) {\n    super.filterClear(filter);\n  }\n\n  public filterWhere = (filter: FormGroup) => {\n    let form: any = filter.value;\n    let result: any[] = [];\n    if (form.planejamento_id?.length) {\n      result.push([\"planejamento_id\", \"==\", form.planejamento_id]);\n    }\n    if (form.nome?.length) {\n      result.push([\"or\", [\"nome\", \"like\", \"%\" + form.nome.replace(\" \", \"%\") + \"%\"], [\"sigla\", \"like\", \"%\" + form.nome.replace(\" \", \"%\") + \"%\"]]);\n    }\n    return result;\n  }\n}\n","<!--  [hasAdd]=\"auth.hasPermissionTo('MOD_UND_INCL')\"\n    [hasEdit]=\"auth.hasPermissionTo('MOD_UND_EDT')\" -->\n<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>\n<grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\" [selectable]=\"selectable\"\n    (select)=\"onSelect($event)\">\n    <toolbar *ngIf=\"!selectable\" [buttons]=\"buttons\"></toolbar>\n    <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\"\n        [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\n        <div class=\"row\">\n            <input-text [size]=\"7\" label=\"Nome\" controlName=\"nome\" [control]=\"filter!.controls.nome\"\n                placeholder=\"Nome\"></input-text>\n        </div>\n    </filter>\n    <columns>\n        <column title=\"Nome\" [template]=\"columnNome\" orderBy=\"nome\">\n            <ng-template let-row=\"row\" #columnNome>\n                <span class=\"d-block\">{{row.nome}}</span>\n            </ng-template>\n        </column>\n        <column title=\"Fundamentação\" field=\"fundamentacao\"></column>\n        <column type=\"options\" [onEdit]=\"edit\" [dynamicOptions]=\"dynamicOptions.bind(this)\"></column>\n    </columns>\n    <pagination [rows]=\"rowsLimit\"></pagination>\n</grid>","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputSearchComponent} from 'src/app/components/input/input-search/input-search.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { TabsComponent } from 'src/app/components/tabs/tabs.component';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-list',\r\n  templateUrl: './planejamento-list.component.html',\r\n  styleUrls: ['./planejamento-list.component.scss']\r\n})\r\nexport class PlanejamentoListComponent extends PageListBase<Planejamento, PlanejamentoDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild(TabsComponent, { static: false }) public tabs?: TabsComponent;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  \r\n  public unidadeDao: UnidadeDaoService;\r\n  public unidade_disabled: string | undefined;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Planejamento, PlanejamentoDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    /* Inicializações */\r\n    this.code = \"MOD_PLAN_INST\";\r\n    this.title = this.lex.translate('Planejamentos Institucionais');\r\n    this.filter = this.fh.FormBuilder({\r\n      data_inicio: {default: null},\r\n      data_fim: {default: null},\r\n      nome: {default: \"\"},\r\n      unidade_id: {default: null},\r\n      so_entidade: { default: false },\r\n      agrupar: { default: true },\r\n     });\r\n    this.join = [\r\n      'unidade:id,nome,sigla',\r\n      'objetivos',\r\n      'objetivos.eixo_tematico:id,nome',\r\n      'objetivos.objetivo_superior:id,nome',\r\n      'planejamento_superior:id,nome',\r\n      'planejamento_superior.objetivos'\r\n    ];\r\n    // Testa se o usuário possui permissão para exibir planejamentos institucionais\r\n    if (this.auth.hasPermissionTo(\"MOD_PLAN_INST_CONS\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-info-circle\",\r\n        label: \"Informações\",\r\n        onClick: this.consult.bind(this)\r\n      });\r\n    }\r\n    // Testa se o usuário possui permissão para excluir planejamentos institucionais\r\n    if (this.auth.hasPermissionTo(\"MOD_PLAN_INST_EXCL\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-trash\",\r\n        label: \"Excluir\",\r\n        onClick: this.delete.bind(this)\r\n      });\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    this.tabs!.active = [\"TABELA\", \"MAPA\"].includes(this.usuarioConfig.active_tab) ? this.usuarioConfig.active_tab : \"TABELA\";\r\n  }\r\n\r\n  /* override */\r\n  public onLoad() {}\r\n\r\n  public initGrid(grid: GridComponent) {\r\n    grid.queryInit();\r\n  }\r\n\r\n  public async onSelectTab(tab: LookupItem) {\r\n    //if(tab.key == \"TABELA\") this.onLoad();\r\n    this.saveUsuarioConfig({active_tab: tab});\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    filter.controls.nome.setValue(\"\");\r\n    filter.controls.data_inicio.setValue(null);\r\n    filter.controls.data_fim.setValue(null);\r\n    filter.controls.unidade_id.setValue(null);\r\n    filter.controls.so_entidade.setValue(false);\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n\r\n    if (form.so_entidade) {\r\n      filter.controls.unidade_id.setValue(null);\r\n      result.push([\"unidade_id\", \"==\", null]);\r\n    } else {\r\n      if(form.unidade_id) result.push([\"unidade_id\", \"==\", form.unidade_id]);\r\n    }\r\n    if(form.nome?.length) {\r\n      result.push([\"nome\", \"like\", \"%\" + form.nome + \"%\"]);\r\n    }\r\n    if(form.data_inicio) {\r\n      result.push([\"data_inicio\", \">=\", form.data_inicio]);\r\n    }\r\n    if(form.data_fim) {\r\n      result.push([\"data_fim\", \"<=\", form.data_fim]);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public onSoEntidadeChange(event: Event) {\r\n    if (this.filter!.controls.so_entidade.value) {\r\n      this.filter!.controls.unidade_id.setValue(null);\r\n      this.unidade_disabled = 'disabled';\r\n    } else {\r\n      this.filter!.controls.unidade_id.setValue(undefined);\r\n      this.unidade_disabled = undefined;\r\n    }\r\n  }\r\n\r\n}\r\n","<tabs right [title]=\"isModal ? '' : title\" [select]=\"onSelectTab.bind(this)\">\r\n    <tab key=\"TABELA\" icon=\"bi bi-table\" label=\"Lista\" [template]=\"lista\">\r\n        <ng-template #lista>\r\n            <grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [join]=\"join\" [init]=\"initGrid.bind(this)\"\r\n                [selectable]=\"selectable\" (select)=\"onSelect($event)\" \r\n                [hasAdd]=\"auth.hasPermissionTo('MOD_PLAN_INST_INCL')\"\r\n                [hasEdit]=\"auth.hasPermissionTo('MOD_PLAN_INST_EDT')\">\r\n                <toolbar *ngIf=\"!selectable\"></toolbar>\r\n                <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n                    <div class=\"row\">\r\n                        <input-text [size]=\"12\" [label]=\"lex.translate('Planejamento Institucional')\" controlName=\"nome\"\r\n                            [control]=\"filter!.controls.nome\" [placeholder]=\"'Nome ' + lex.translate('Planejamento Institucional') + '...'\"></input-text>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-switch [size]=\"2\" [label]=\"'Só da '+ lex.translate('Entidade')\" controlName=\"so_entidade\" [control]=\"filter!.controls.so_entidade\" (change)=\"onSoEntidadeChange($event)\"></input-switch>\r\n                        <input-search #unidade [size]=\"4\" [label]=\"lex.translate('Unidade')\" [disabled]=\"unidade_disabled\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n                        <input-datetime [size]=\"3\" date label=\"Início\" controlName=\"data_inicio\" [control]=\"filter!.controls.data_inicio\" [labelInfo]=\"'Data de início do' +lex.translate('Planejamento Institucional')\"></input-datetime>\r\n                        <input-datetime [size]=\"3\" date label=\"Fim\" controlName=\"data_fim\" [control]=\"filter!.controls.data_fim\" [labelInfo]=\"'Data do fim do '+lex.translate('Planejamento Institucional')\"></input-datetime>\r\n                    </div>\r\n                </filter>\r\n                <columns>\r\n                    <column *ngIf=\"!selectable\" type=\"expand\" icon=\"bi bi-bullseye\" [align]=\"'center'\" [hint]=\"lex.translate('Objetivo')\" [template]=\"columnObjetivos\" [expandTemplate]=\"columnExpandedObjetivos\">\r\n                        <ng-template let-row=\"row\" #columnObjetivos>\r\n                            <span *ngIf=\"row.objetivos?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-bullseye\"></i> {{row.objetivos?.length}}</span>\r\n                        </ng-template>\r\n                        <ng-template let-row=\"row\" #columnExpandedObjetivos>\r\n                            <planejamento-list-objetivo [entity]=\"row\"></planejamento-list-objetivo>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Nome\" orderBy=\"nome\" [template]=\"columnNome\">\r\n                        <ng-template let-row=\"row\" #columnNome>\r\n                            <span class=\"text-break w-100\">{{row.nome}}</span>\r\n                        </ng-template>            \r\n                    </column>\r\n                    <column title=\"Início\" [template]=\"columnInicio\">\r\n                        <ng-template let-row=\"row\" #columnInicio>\r\n                            <span> {{dao!.getDateFormatted(row.data_inicio)}}</span>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Fim\" [template]=\"columnFim\">\r\n                        <ng-template let-row=\"row\" #columnFim>\r\n                            <span> {{dao!.getDateFormatted(row.data_fim)}}</span>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Unidade\" [template]=\"columnUnidade\">\r\n                        <ng-template let-row=\"row\" #columnUnidade>\r\n                            <span> {{row.unidade?.nome || \"\"}}</span>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\r\n                </columns>\r\n                <pagination [rows]=\"rowsLimit\"></pagination>\r\n            </grid>\r\n        </ng-template>\r\n    </tab>\r\n    <tab key=\"MAPA\" icon=\"bi bi-card-heading\" label=\"Mapa\" [template]=\"mapa\">\r\n        <ng-template #mapa>\r\n            <planejamento-mapa></planejamento-mapa>\r\n        </ng-template>\r\n    </tab>\r\n</tabs>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { DndDropEvent, DropEffect } from 'ngx-drag-drop';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { QueryContext } from 'src/app/dao/query-context';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\n\r\nexport type EixoPlanejamento = {\r\n  id?: string,\r\n  eixo: EixoTematico,\r\n  eixo_tematico_id: string,\r\n  objetivos: PlanejamentoObjetivo[]\r\n}\r\n\r\n@Component({\r\n  selector: 'planejamento-mapa',\r\n  templateUrl: './planejamento-mapa.component.html',\r\n  styleUrls: ['./planejamento-mapa.component.scss']\r\n})\r\nexport class PlanejamentoMapaComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('planejamentoInstitucional', { static: false }) public planejamentoInstitucional?: InputSelectComponent;\r\n\r\n  public canEdit: boolean = true;\r\n  public planejamentos: LookupItem[] = [];\r\n  public planejamento?: Planejamento;\r\n  public eixos: EixoPlanejamento[] = [];\r\n  public query?: QueryContext<Planejamento>;\r\n  public objetivoDao?: PlanejamentoObjetivoDaoService;\r\n  public objetivos: PlanejamentoObjetivo[] = [];\r\n  public subObjetivosMenu: ToolbarButton = {\r\n    icon: \"bi bi-three-dots-vertical\",\r\n    color: \"transparent-black p-1 py-0\",\r\n    items: [\r\n      {\r\n        icon: \"bi bi-file-earmark-bar-graph\",\r\n        label: \"Entregas\",\r\n        onClick: this.onObjetivoClick.bind(this)\r\n      },\r\n      {\r\n        icon: \"bi bi-pencil-square\",\r\n        label: \"Alterar\",\r\n        onClick: this.onObjetivoEditClick.bind(this) \r\n      },\r\n      {\r\n        icon: \"bi bi-trash\",\r\n        label: \"Excluir\",\r\n        onClick: this.onObjetivoDeleteClick.bind(this)\r\n      }\r\n    ]\r\n  };\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.objetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\r\n    this.join = ['objetivos'];\r\n    this.title = this.lex.translate(\"Objetivos\") + ' ' + this.lex.translate('do Planejamento Institucional');\r\n    this.form = this.fh.FormBuilder({\r\n      planejamento_id: {default: null},\r\n      todos: {default: false}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    this.loadData(this.entity);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: IIndexable, form?: FormGroup) {\r\n    this.query = this.dao!.query({ where: [[\"data_arquivamento\", \"==\", null]], orderBy: [[\"data_inicio\", \"desc\"]] }) as QueryContext<Planejamento>;\r\n    this.query!.asPromise().then(planejamentos => {\r\n      this.planejamentos = planejamentos.map(x => Object.assign({} as LookupItem, {\r\n        key: x.id,\r\n        value: x.nome,\r\n        data: x\r\n      }));\r\n      this.cdRef.detectChanges();\r\n      this.form!.controls.planejamento_id.setValue(this.planejamentos.length ? this.planejamentos[0].key : null);\r\n    });\r\n  }\r\n\r\n  public objetivosPai(filhoId: string) {\r\n    let items: PlanejamentoObjetivo[] = [];\r\n    let addItens = (list: PlanejamentoObjetivo[]) => {\r\n      for(let item of list) {\r\n        if(item.id != filhoId) {\r\n          items.push(item);\r\n          addItens(this.objetivos.filter(x => x.objetivo_pai_id == item.id).sort((a,b) => a.sequencia - b.sequencia));\r\n        }\r\n      }\r\n    }\r\n    addItens(this.objetivos.filter(x => !x.objetivo_pai_id).sort((a,b) => a.sequencia - b.sequencia));\r\n    return items;\r\n  }\r\n\r\n  public marcador(row: PlanejamentoObjetivo): string {\r\n    let level = row._metadata?.level || 0;\r\n    return level < 1 ? \"\" : (level < 2 ? \"• \" : (level < 3 ? \"- \" : \"+ \"));\r\n  }\r\n\r\n  public objetivosEixo(eixoId: string) {\r\n    let objetivos = this.planejamento?.objetivos?.filter(y => y.eixo_tematico_id == eixoId && !y.objetivo_pai_id).sort((a, b) => a.sequencia - b.sequencia) || [];\r\n    let recursivo = (list: PlanejamentoObjetivo[], level: number) => {\r\n      for(let item of list) {\r\n        item.objetivos = this.planejamento?.objetivos?.filter(y => y.objetivo_pai_id == item.id).sort((a, b) => a.sequencia - b.sequencia) || [];\r\n        item._metadata = Object.assign(item._metadata || {}, { level })\r\n        recursivo(item.objetivos, level + 1);\r\n      }\r\n    }\r\n    recursivo(objetivos, 0);\r\n    return objetivos;\r\n  }\r\n\r\n  public onPlanejamentoChange() {\r\n    if(this.planejamentoInstitucional!.selectedItem) {\r\n      this.dao!.getById(this.planejamentoInstitucional!.selectedItem?.key, this.join).then(planejamento => {\r\n        this.planejamento = planejamento as Planejamento;\r\n        this.objetivos = this.planejamento.objetivos || [];\r\n        this.eixos = this.query!.extra?.eixos?.filter((x: EixoTematico) => this.form?.controls.todos.value || this.planejamento?.objetivos?.find(y => y.eixo_tematico_id == x.id)).map((x: EixoTematico) => Object.assign({} as EixoPlanejamento, {\r\n          eixo: x,\r\n          eixo_tematico_id: x.id,\r\n          objetivos: this.objetivosEixo(x.id)\r\n        })) || [];\r\n        this.cdRef.detectChanges();\r\n      });\r\n    }\r\n  }\r\n\r\n  public onTodosChange() {\r\n    this.onPlanejamentoChange();\r\n  }\r\n\r\n  public onObjetivoClick(data: any) {\r\n    let objetivo = data as PlanejamentoObjetivo;\r\n    this.go.navigate({route: ['gestao', 'plano-entrega', 'entrega', 'objetivos', objetivo.id]});\r\n  }\r\n\r\n  public onObjetivoAddClick(data: any) {\r\n    let eixo = this.eixos.find(x => x.eixo.id == data.id);   \r\n    let objetivo = new PlanejamentoObjetivo({\r\n      _status: \"ADD\",\r\n      id: this.dao!.generateUuid(),\r\n      planejamento_id: this.planejamento?.id,\r\n      eixo_tematico_id: data.eixo.id,\r\n      eixo_tematico: data.eixo,\r\n      sequencia: eixo?.objetivos.length ? eixo?.objetivos[0].sequencia : 0\r\n    });\r\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\r\n      metadata: { \r\n        planejamento: this.planejamento!, \r\n        objetivo: objetivo,\r\n        objetivos: this.objetivosPai(objetivo.id) \r\n      },\r\n      modalClose: async (modalResult) => {\r\n        if (modalResult) this.objetivoDao!.save(modalResult).then(objetivo => this.onPlanejamentoChange());\r\n      }\r\n    });\r\n  }\r\n\r\n  public onObjetivoDeleteClick(data: any) {\r\n    let objetivo = data as PlanejamentoObjetivo;\r\n    this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\").then(confirm => {\r\n      if (confirm) this.objetivoDao!.delete(objetivo).then(result => this.onPlanejamentoChange());\r\n    });\r\n  }\r\n\r\n  public onObjetivoEditClick(data: any) {\r\n    let objetivo = data as PlanejamentoObjetivo;\r\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\r\n      metadata: { planejamento: this.planejamento!, objetivo: objetivo }, modalClose: async (modalResult) => {\r\n        if (modalResult) this.objetivoDao?.save(modalResult).then(planejamento => this.onPlanejamentoChange());\r\n      }\r\n    });\r\n  }\r\n\r\n  /* Drag & Drop */\r\n  onObjetivoDrop(event: DndDropEvent, dropped: EixoPlanejamento | PlanejamentoObjetivo) {\r\n    console.log(\"Drop\", event);\r\n    dropped.objetivos = dropped.objetivos || [];\r\n    let objetivo = event.data as PlanejamentoObjetivo; \r\n    let index = typeof event.index === 'undefined' ? dropped.objetivos.length : event.index;\r\n    let neighborhood = index ? (dropped.objetivos[index] || dropped.objetivos[index-1] || undefined) : undefined;\r\n    dropped.objetivos.splice(index, 0, objetivo);\r\n    this.loading = true;\r\n    this.objetivoDao?.update(objetivo.id, {\r\n      eixo_tematico_id: dropped.eixo_tematico_id,\r\n      objetivo_pai_id: dropped.id || null,\r\n      sequencia: neighborhood?.sequencia || 0\r\n    }).then(result => this.onPlanejamentoChange()).finally(() => this.loading = false);\r\n  }\r\n\r\n  onObjetivoDragEnd(event: DragEvent) {\r\n    console.log(\"DragEnd\", event);\r\n  }\r\n\r\n  onObjetivoDragged(item: any, dragged: EixoPlanejamento | PlanejamentoObjetivo, effect: DropEffect) {\r\n    console.log(\"Dragged\", item, dragged.objetivos);\r\n    dragged.objetivos = dragged.objetivos || [];\r\n    dragged.objetivos.splice(dragged.objetivos.indexOf(item), 1);\r\n  }\r\n\r\n  onObjetivoDragStart(event: DragEvent) {\r\n    console.log(\"DragStart\", event);\r\n  }\r\n\r\n}","<!-- Seleção do planejamento -->\n<editable-form [form]=\"form!\" noButtons>\n    <div class=\"row mt-2\">\n        <input-select #planejamentoInstitucional [size]=\"12\" controlName=\"planejamento_id\"\n            [control]=\"form!.controls.planejamento_id\" [items]=\"planejamentos\"\n            (change)=\"onPlanejamentoChange()\"></input-select>\n    </div>\n</editable-form>\n<!-- Cabeçalho -->\n<separator transparent collapse title=\"Valores, missão e visão\">\n    <div *ngIf=\"planejamento\" class=\"row\">\n        <div class=\"col-4\">\n            <div class=\"card h-100\">\n                <div class=\"card-header\">\n                    Valores\n                </div>\n                <div class=\"card-body\">\n                    <ul class=\"list-group list-group-flush\">\n                        <li *ngFor=\"let valor of planejamento!.valores\" class=\"list-group-item\">\n                            <blockquote class=\"blockquote mb-0\">\n                                <p>{{valor.value}}</p>\n                            </blockquote>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-4\">\n            <div class=\"card h-100\">\n                <div class=\"card-header\">\n                    Missão\n                </div>\n                <div class=\"card-body\">\n                    <blockquote class=\"blockquote mb-0\">\n                        <p class=\"fst-italic\">{{planejamento.missao}}</p>\n                    </blockquote>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-4\">\n            <div class=\"card h-100\">\n                <div class=\"card-header\">\n                    Visão\n                </div>\n                <div class=\"card-body\">\n                    <blockquote class=\"blockquote mb-0\">\n                        <p>{{planejamento!.visao}}</p>\n                    </blockquote>\n                </div>\n            </div>\n        </div>\n    </div>\n</separator>\n<!-- Eixos -->\n<div class=\"row my-2\">\n    <input-switch [size]=\"12\" labelPosition=\"left\" label=\"Todos os eixos\" controlName=\"todos\"\n        [control]=\"form!.controls.todos\" (change)=\"onTodosChange()\"></input-switch>\n</div>\n<div *ngFor=\"let eixo of eixos\" class=\"eixo\" [style.background-color]=\"eixo.eixo.cor\">\n    <action-button icon=\"bi bi-plus-circle\" color=\"transparent-black\" [data]=\"eixo\"\n        [onClick]=\"onObjetivoAddClick.bind(this)\"></action-button>\n    <div class=\"d-flex align-items-center align-content-stretch p-3\">\n        <div class=\"descricao\">\n            <h4>{{eixo.eixo.nome}}</h4>\n        </div>\n        <div class=\"objetivos w-100 row\" [dndDropzone]=\"['objetivo']\" (dndDrop)=\"onObjetivoDrop($event, eixo)\">\n            <!-- Placehold -->\n            <div class=\"col-md-4\" dndPlaceholderRef>\n                <div class=\"objetivo shadow-sm d-flex flex-column align-content-between\">\n                    <p class=\"placeholder-glow\">\n                        <span class=\"placeholder col-2\"></span>\n                        <span class=\"placeholder col-3\"></span>\n                        <span class=\"placeholder col-1\"></span>\n                        <span class=\"placeholder col-6\"></span>\n                    </p>\n                    <div class=\"buttons w-100 d-flex justify-content-end px-1\">\n                        <action-button placeholder icon=\"bi bi-question\" color=\"transparent-black p-0\"></action-button>\n                        <action-button placeholder icon=\"bi bi-question\" color=\"transparent-black p-0\"></action-button>\n                        <action-button placeholder icon=\"bi bi-question\" color=\"transparent-black p-0\"></action-button>\n                    </div>\n                </div>\n            </div>\n            <!-- Objetivos -->\n            <div *ngFor=\"let objetivo of eixo.objetivos\" class=\"col-md-4\" [dndDisableIf]=\"!canEdit\"\n                [dndDraggable]=\"objetivo\" (dndEnd)=\"onObjetivoDragEnd($event)\"\n                (dndMoved)=\"onObjetivoDragged(objetivo, eixo, 'move')\" (dndStart)=\"onObjetivoDragStart($event)\"\n                dndType=\"objetivo\" dndEffectAllowed=\"move\">\n                <div class=\"objetivo shadow-sm d-flex flex-column align-content-between\">\n                    <div class=\"m-2\">\n                        <div dndHandle class=\"card-text text-break w-100\">{{objetivo.nome}}</div>\n                        <div class=\"subobjetivo\" [dndDropzone]=\"['objetivo']\" (dndDrop)=\"onObjetivoDrop($event, objetivo)\">\n                            <!-- Placehold -->\n                            <div class=\"border mt-3 p-2\" dndPlaceholderRef><span class=\"placeholder w-75\"></span></div>\n                            <ng-container *ngFor=\"let subobjetivo of objetivo.objetivos\" [ngTemplateOutlet]=\"subobjetivos\" [ngTemplateOutletContext]=\"{objetivo: subobjetivo, pai: objetivo}\"></ng-container>\n                        </div>\n                    </div>\n                    <ng-template #subobjetivos let-objetivo=\"objetivo\" let-pai=\"pai\">\n                        <div class=\"border mt-3 p-2\" [dndDisableIf]=\"!canEdit\"\n                            [dndDraggable]=\"objetivo\" (dndEnd)=\"onObjetivoDragEnd($event)\"\n                            (dndMoved)=\"onObjetivoDragged(objetivo, pai, 'move')\" (dndStart)=\"onObjetivoDragStart($event)\"\n                            dndType=\"objetivo\" dndEffectAllowed=\"move\">\n                            <div class=\"d-flex justify-content-between\">\n                                <div class=\"me-2 card-text text-break w-100\">{{objetivo.nome}}</div>\n                                <action-button noArrow [button]=\"subObjetivosMenu\" [data]=\"objetivo\"></action-button>\n                            </div>\n                            <div class=\"subobjetivo\" [dndDropzone]=\"['objetivo']\" (dndDrop)=\"onObjetivoDrop($event, objetivo)\">\n                                <!-- Placehold -->\n                                <div class=\"border mt-3 p-2\" dndPlaceholderRef><span class=\"placeholder w-75\"></span></div>\n                                <ng-container *ngFor=\"let subobjetivo of objetivo.objetivos\" [ngTemplateOutlet]=\"subobjetivos\" [ngTemplateOutletContext]=\"{objetivo: subobjetivo, pai: objetivo}\"></ng-container>\n                            </div>\n                        </div>\n                    </ng-template>\n                    <div class=\"buttons w-100 d-flex justify-content-end px-1\">\n                        <action-button icon=\"bi bi-file-earmark-bar-graph\" [data]=\"objetivo\" [onClick]=\"this.onObjetivoClick.bind(this)\" color=\"transparent-black px-1\"></action-button>\n                        <action-button icon=\"bi bi-pencil-square\" [data]=\"objetivo\" [onClick]=\"this.onObjetivoEditClick.bind(this)\" color=\"transparent-black px-1\"></action-button>\n                        <action-button icon=\"bi bi-trash\" [data]=\"objetivo\" [onClick]=\"this.onObjetivoDeleteClick.bind(this)\" color=\"transparent-black px-1\"></action-button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<!-- Espaço -->\n<div class=\"row my-2\"></div>","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { PlanejamentoFormComponent } from './planejamento-form/planejamento-form.component';\r\nimport { PlanejamentoListComponent } from './planejamento-list/planejamento-list.component';\r\nimport { PlanejamentoFormObjetivoComponent } from './planejamento-form-objetivo/planejamento-form-objetivo.component';\r\nimport { PlanejamentoListObjetivosEntregasComponent } from './planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: PlanejamentoListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Planejamentos Institucionais\" } },\r\n  { path: 'new', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Planejamento Institucional\", modal: true } },\r\n  { path: ':id/edit', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição de Planejamento Institucional\", modal: true } },\r\n  { path: ':id/consult', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Planejamento Institucional\", modal: true } },\r\n  { path: 'objetivo', component: PlanejamentoFormObjetivoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Objetivo de Planejamento Institucional\", modal: true } },\r\n  { path: 'objetivoList', component: PlanejamentoListObjetivosEntregasComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Objetivos de Planejamento Institucional\", modal: true } },\r\n  { path: 'objetivo/:id/consult', component: PlanejamentoFormObjetivoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Objetivo de Planejamento Institucional\", modal: true } },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PlanejamentoRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { PlanejamentoListComponent } from './planejamento-list/planejamento-list.component';\r\nimport { PlanejamentoFormComponent } from './planejamento-form/planejamento-form.component';\r\nimport { PlanejamentoRoutingModule } from './planejamento-routing.module';\r\nimport { PlanejamentoListObjetivoComponent } from './planejamento-list-objetivo/planejamento-list-objetivo.component';\r\nimport { PlanejamentoFormObjetivoComponent } from './planejamento-form-objetivo/planejamento-form-objetivo.component';\r\nimport { PlanejamentoMapaComponent } from './planejamento-mapa/planejamento-mapa.component';\r\nimport { DndModule } from 'ngx-drag-drop';\r\nimport { PlanejamentoListObjetivosEntregasComponent } from './planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ \r\n    PlanejamentoListComponent,\r\n    PlanejamentoFormComponent,\r\n    PlanejamentoListObjetivoComponent,\r\n    PlanejamentoFormObjetivoComponent,\r\n    PlanejamentoMapaComponent,\r\n    PlanejamentoListObjetivosEntregasComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    DndModule,\r\n    PlanejamentoRoutingModule\r\n  ],\r\n  exports: [\r\n    PlanejamentoListObjetivosEntregasComponent\r\n  ]\r\n})\r\nexport class PlanejamentoModule { }\r\n"],"names":["Base","PlanejamentoObjetivo","constructor","data","nome","fundamentacao","sequencia","path","planejamento_id","eixo_tematico_id","objetivo_pai_id","initialization","Planejamento","data_arquivamento","data_inicio","Date","data_fim","missao","visao","valores","unidade_id","entidade_id","planejamento_superior_id","EditableFormComponent","EixoTematicoDaoService","PlanejamentoDaoService","PlanejamentoObjetivoDaoService","PageFormBase","NavigateResult","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ctx_r2","entityService","getIcon","ctx_r3","objetivos_superiores","form","controls","objetivo_superior_id","PlanejamentoFormObjetivoComponent","injector","objetivos","validate","control","controlName","result","indexOf","value","length","formValidation","planejamentoDao","get","eixoTematicoDao","fh","FormBuilder","default","planejamento_superior_nome","cdRef","loadData","entity","_this","_asyncToGenerator","formValue","Object","assign","patchValue","util","fillForm","eixoTematico","loadSearch","eixo_tematico","title","_status","planejamento","metadata","planejamento_superior","setValue","map","x","key","id","initializeData","_this2","objetivo","saveData","_this3","Promise","_ref","resolve","reject","fill","_x","_x2","apply","arguments","isPlanejamentoUNEX","onObjetivoPaiChange","objetivoPai","selectedItem","ɵɵdirectiveInject","Injector","selectors","viewQuery","PlanejamentoFormObjetivoComponent_Query","rf","ctx","ɵɵlistener","PlanejamentoFormObjetivoComponent_Template_editable_form_submit_0_listener","onSaveData","PlanejamentoFormObjetivoComponent_Template_editable_form_cancel_0_listener","onCancel","PlanejamentoFormObjetivoComponent_Template_input_select_change_3_listener","ɵɵrestoreView","_r5","_r0","ɵɵreference","ɵɵresetView","ɵɵtemplate","PlanejamentoFormObjetivoComponent_div_7_Template","PlanejamentoFormObjetivoComponent_div_12_Template","formDisabled","isModal","undefined","GridComponent","UnidadeDaoService","PlanejamentoFormComponent","planejamentosSuperiores","hasPermissionToUNEX","dao","validDateTime","titleEdit","lex","translate","unidadeDao","auth","hasPermissionTo","join","valor_texto","carregaPlanejamentosSuperiores","grid","confirm","items","addValorHandle","textHash","validateLookupItem","onUnidadeChange","event","query","where","getAll","then","pls","unshift","detectChanges","onPlanejamentoChange","dialog","forEach","obj","isPlanejamentoUNINST","isPlanejamentoUNEXEC","PlanejamentoFormComponent_Query","PlanejamentoFormComponent_Template_editable_form_submit_0_listener","PlanejamentoFormComponent_Template_editable_form_cancel_0_listener","PlanejamentoFormComponent_Template_input_search_change_7_listener","$event","PlanejamentoFormComponent_Template_input_select_change_11_listener","bind","action","PageFrameBase","tmp_0_0","getEixo","separator_r9","text","icone","tmp_1_0","cor","tmp_2_0","ɵɵtext","ɵɵstyleProp","row_r10","_metadata","level","ɵɵtextInterpolate","ctx_r4","marcador","row_r11","row_r12","objetivo_superior","PlanejamentoListObjetivoComponent","disabled","_disabled","noPersist","gridControl","minHeight","options","eixos","objetivoDao","eixoDao","groupBy","field","label","ngOnInit","carregaEixos","sortObjetivos","dynamicButtons","row","push","hint","icon","color","onClick","editObjetivo","dynamicOptions","go","navigate","route","modal","removeObjetivo","addObjetivo","generateUuid","objetivosPai","modalClose","modalResult","isNoPersist","save","error","message","filhoId","addItens","list","item","filter","sort","a","b","index","_ref2","delete","splice","find","PlanejamentoListObjetivoComponent_Query","PlanejamentoListObjetivoComponent_ng_template_2_Template","ɵɵtemplateRefExtractor","PlanejamentoListObjetivoComponent_ng_template_6_Template","PlanejamentoListObjetivoComponent_ng_template_9_Template","PlanejamentoListObjetivoComponent_ng_template_12_Template","_r1","_r3","_r7","PageListBase","ctx_r0","ctx_r1","buttons","row_r4","PlanejamentoListObjetivosEntregasComponent","filterWhere","replace","planejamentoObjetivoDao","filterClear","PlanejamentoListObjetivosEntregasComponent_Query","PlanejamentoListObjetivosEntregasComponent_h3_0_Template","PlanejamentoListObjetivosEntregasComponent_Template_grid_select_1_listener","onSelect","PlanejamentoListObjetivosEntregasComponent_toolbar_2_Template","PlanejamentoListObjetivosEntregasComponent_ng_template_8_Template","add","orderBy","selectable","filterSubmit","filterCollapseChange","filterCollapsed","_r2","edit","rowsLimit","TabsComponent","ɵɵtextInterpolate1","row_r19","PlanejamentoListComponent_ng_template_2_column_12_ng_template_1_span_0_Template","row_r22","PlanejamentoListComponent_ng_template_2_column_12_ng_template_1_Template","PlanejamentoListComponent_ng_template_2_column_12_ng_template_3_Template","ctx_r6","_r15","_r17","row_r23","ctx_r10","getDateFormatted","row_r24","ctx_r12","row_r25","row_r26","unidade","PlanejamentoListComponent_ng_template_2_Template_grid_select_0_listener","_r28","ctx_r27","ɵɵnextContext","PlanejamentoListComponent_ng_template_2_toolbar_1_Template","PlanejamentoListComponent_ng_template_2_Template_input_switch_change_6_listener","ctx_r29","onSoEntidadeChange","PlanejamentoListComponent_ng_template_2_column_12_Template","PlanejamentoListComponent_ng_template_2_ng_template_14_Template","PlanejamentoListComponent_ng_template_2_ng_template_17_Template","PlanejamentoListComponent_ng_template_2_ng_template_20_Template","PlanejamentoListComponent_ng_template_2_ng_template_23_Template","initGrid","so_entidade","unidade_disabled","_r9","_r11","_r13","PlanejamentoListComponent","code","agrupar","consult","ngAfterViewInit","tabs","active","includes","usuarioConfig","active_tab","onLoad","queryInit","onSelectTab","tab","saveUsuarioConfig","PlanejamentoListComponent_Query","PlanejamentoListComponent_ng_template_2_Template","PlanejamentoListComponent_ng_template_5_Template","valor_r4","PlanejamentoMapaComponent_div_5_li_7_Template","ɵɵelementContainer","ɵɵpureFunction2","_c1","subobjetivo_r11","objetivo_r7","subobjetivo_r16","objetivo_r13","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template_div_dndEnd_0_listener","_r19","ctx_r18","onObjetivoDragEnd","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template_div_dndMoved_0_listener","restoredCtx","pai_r14","pai","ctx_r20","onObjetivoDragged","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template_div_dndStart_0_listener","ctx_r21","onObjetivoDragStart","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template_div_dndDrop_5_listener","ctx_r22","onObjetivoDrop","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_ng_container_8_Template","canEdit","subObjetivosMenu","ɵɵpureFunction0","_c2","PlanejamentoMapaComponent_div_8_div_18_Template_div_dndEnd_0_listener","_r24","ctx_r23","PlanejamentoMapaComponent_div_8_div_18_Template_div_dndMoved_0_listener","$implicit","eixo_r5","ctx_r25","PlanejamentoMapaComponent_div_8_div_18_Template_div_dndStart_0_listener","PlanejamentoMapaComponent_div_8_div_18_Template_div_dndDrop_5_listener","ctx_r28","PlanejamentoMapaComponent_div_8_div_18_ng_container_8_Template","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template","onObjetivoClick","onObjetivoEditClick","onObjetivoDeleteClick","PlanejamentoMapaComponent_div_8_Template_div_dndDrop_6_listener","_r30","PlanejamentoMapaComponent_div_8_div_18_Template","eixo","onObjetivoAddClick","PlanejamentoMapaComponent","planejamentos","todos","asPromise","objetivosEixo","eixoId","y","recursivo","planejamentoInstitucional","getById","extra","onTodosChange","dropped","console","log","neighborhood","loading","update","finally","dragged","effect","PlanejamentoMapaComponent_Query","PlanejamentoMapaComponent_Template_input_select_change_2_listener","PlanejamentoMapaComponent_div_5_Template","PlanejamentoMapaComponent_Template_input_switch_change_7_listener","PlanejamentoMapaComponent_div_8_Template","RouterModule","AuthGuard","ConfigResolver","routes","component","canActivate","config","runGuardsAndResolvers","PlanejamentoRoutingModule","forChild","imports","i1","exports","CommonModule","ComponentsModule","DndModule","PlanejamentoModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
>>>>>>> remotes/origin/develop
