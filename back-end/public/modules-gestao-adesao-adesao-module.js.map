{"version":3,"sources":["./src/app/models/adesao.model.ts","./src/app/modules/gestao/adesao/adesao-list/adesao-list.component.ts","./src/app/modules/gestao/adesao/adesao-list/adesao-list.component.html","./src/app/modules/gestao/adesao/adesao-routing.module.ts","./src/app/modules/gestao/adesao/adesao.module.ts","./src/app/modules/gestao/adesao/adesao-form-termo/adesao-form-termo.component.ts","./src/app/modules/gestao/adesao/adesao-form-termo/adesao-form-termo.component.html","./src/app/dao/adesao-dao.service.ts","./src/app/modules/gestao/adesao/adesao-form/adesao-form.component.ts","./src/app/modules/gestao/adesao/adesao-form/adesao-form.component.html","./src/app/dao/documento-dao-service.ts","./src/app/models/documento.model.ts"],"names":[],"mappings":"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","file":"modules-gestao-adesao-adesao-module.js","sourcesContent":["import { Base } from './base.model';\r\nimport { TipoModalidade } from './tipo-modalidade.model';\r\nimport { Unidade } from './unidade.model';\r\nimport { Usuario } from './usuario.model';\r\nimport { Programa } from './programa.model';\r\nimport { Documento } from './documento.model';\r\nimport { PlanoAtividade } from './plano-atividade.model';\r\nimport { Demanda } from './demanda.model';\r\nimport {Entidade, TipoCargaHoraria} from './entidade.model';\r\n\r\nexport type Status = \"SOLICITADO\" | \"HOMOLOGADO\" | \"CANCELADO\";\r\n\r\nexport class Adesao extends Base {\r\n    public tipo_modalidade?: TipoModalidade;\r\n    public unidade?: Unidade;\r\n    public usuario?: Usuario;\r\n    public programa?: Programa;\r\n    public entidade?: Entidade;\r\n\r\n\r\n    public status: Status = \"SOLICITADO\"; //tempo_total menos os afastamentos\r\n    public data_inicio_vigencia: Date = new Date(); //Inicio do plano\r\n    public data_fim_vigencia: Date = new Date(); //Fim do plano\r\n    public data_inicio: Date = new Date(); /* Data de início */\r\n    public data_fim: Date | null = null; /* Data do fim */\r\n    public programa_id: string = \"\";\r\n    public usuario_id: string = \"\";\r\n    public unidade_id: string = \"\";\r\n    public entidade_id: string = \"\";\r\n    public tipo_modalidade_id: string = \"\";\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}\r\n","import {Component, Injector, OnInit, ViewChild} from '@angular/core';\r\nimport {PageListBase} from \"../../../base/page-list-base\";\r\nimport {GridComponent} from \"../../../../components/grid/grid.component\";\r\nimport {FullRoute} from \"../../../../services/navigate.service\";\r\nimport {UnidadeDaoService} from \"../../../../dao/unidade-dao.service\";\r\nimport {DocumentoDaoService} from \"../../../../dao/documento-dao-service\";\r\nimport {ProgramaDaoService} from \"../../../../dao/programa-dao.service\";\r\nimport {UsuarioDaoService} from \"../../../../dao/usuario-dao.service\";\r\nimport {ListenerAllPagesService} from \"../../../../listeners/listener-all-pages.service\";\r\nimport {TipoModalidadeDaoService} from \"../../../../dao/tipo-modalidade-dao.service\";\r\nimport {LookupItem} from \"../../../../services/lookup.service\";\r\nimport {Plano} from \"../../../../models/plano.model\";\r\nimport {PlanoDaoService} from \"../../../../dao/plano-dao.service\";\r\nimport {AbstractControl, FormGroup} from \"@angular/forms\";\r\nimport {IIndexable} from \"../../../../models/base.model\";\r\nimport {ToolbarButton} from \"../../../../components/toolbar/toolbar.component\";\r\nimport {Adesao} from \"../../../../models/adesao.model\";\r\nimport {AdesaoDaoService} from \"../../../../dao/adesao-dao.service\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-adesao-list',\r\n  templateUrl: './adesao-list.component.html',\r\n  styleUrls: ['./adesao-list.component.scss']\r\n})\r\nexport class AdesaoListComponent extends PageListBase<Adesao, AdesaoDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n\r\n  public static selectRoute?: FullRoute = {route: [\"gestao\", \"adesao\"]};\r\n  public unidadeDao: UnidadeDaoService;\r\n  public documentoDao: DocumentoDaoService;\r\n  public programaDao: ProgramaDaoService;\r\n  public usuarioDao: UsuarioDaoService;\r\n  public allPages: ListenerAllPagesService;\r\n  public tipoModalidadeDao: TipoModalidadeDaoService;\r\n  public multiselectAllFields: string[] = [\"tipo_modalidade_id\", \"usuario_id\", \"unidade_id\", \"documento_id\"];\r\n  public SITUACAO_FILTRO: LookupItem[] = [\r\n    {key: \"SOLICITADO\", value: \"Vigente\"},\r\n    {key: \"HOMOLOGADO\", value: \"Não vigente\"},\r\n    {key: \"CANCELADO\", value: \"Iniciam\"}\r\n  ];\r\n  constructor(public injector: Injector) {\r\n    super(injector, Adesao, AdesaoDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.programaDao = injector.get<ProgramaDaoService>(ProgramaDaoService);\r\n    this.documentoDao = injector.get<DocumentoDaoService>(DocumentoDaoService);\r\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\r\n    this.tipoModalidadeDao = injector.get<TipoModalidadeDaoService>(TipoModalidadeDaoService);\r\n    /* Inicializações */\r\n    this.title = this.lex.noun(\"Adesão\",true);\r\n    this.code = \"MOD_ADES\";\r\n    this.filter = this.fh.FormBuilder({\r\n      usuario: {default: \"\"},\r\n      unidade_id: {default: null},\r\n      tipo_modalidade_id: {default: null},\r\n      data_filtro: {default: null},\r\n      data_filtro_inicio: {default: new Date()},\r\n      data_filtro_fim: {default: new Date()}\r\n    }, this.cdRef, this.filterValidate);\r\n    this.join = [\"unidade.entidade\", \"usuario\", \"programa\", \"documento\", \"tipo_modalidade\"];\r\n    // Testa se o usuário possui permissão para exibir dados do plano de trabalho\r\n    if (this.auth.hasPermissionTo(\"MOD_ADES_CONS\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-info-circle\",\r\n        label: \"Informações\",\r\n        onClick: this.consult.bind(this)\r\n      });\r\n    }\r\n    // Testa se o usuário possui permissão para excluir o plano de trabalho\r\n    if (this.auth.hasPermissionTo(\"MOD_ADES_EXCL\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-trash\",\r\n        label: \"Excluir\",\r\n        onClick: this.delete.bind(this)\r\n      });\r\n    }\r\n    this.options.push({\r\n      label: \"TCR\",\r\n      icon: \"bi bi-file-earmark-check\",\r\n      onClick: ((row: Adesao) => this.go.navigate({route: ['gestao', 'adesao', row.id, 'termos']}, {modalClose: (modalResult) => console.log(modalResult?.conteudo)})).bind(this)\r\n    });\r\n  }\r\n\r\n  public filterValidate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n\r\n    if(controlName == \"data_filtro_inicio\" && control.value > this.filter?.controls.data_filtro_fim.value) {\r\n      result = \"Maior que fim\";\r\n    } else if(controlName == \"data_filtro_fim\" && control.value < this.filter?.controls.data_filtro_inicio.value) {\r\n      result = \"Menor que início\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    filter.controls.usuario.setValue(\"\");\r\n    filter.controls.unidade_id.setValue(null);\r\n    filter.controls.tipo_modalidade_id.setValue(null);\r\n    filter.controls.data_filtro.setValue(null);\r\n    filter.controls.data_filtro_inicio.setValue(new Date());\r\n    filter.controls.data_filtro_fim.setValue(new Date());\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n    if(form.tipo_modalidade_id?.length) {\r\n      result.push([\"tipo_modalidade_id\", \"==\", form.tipo_modalidade_id]);\r\n    }\r\n    if(form.data_filtro) {\r\n      result.push([\"data_filtro\", \"==\", form.data_filtro]);\r\n      result.push([\"data_filtro_inicio\", \"==\", form.data_filtro_inicio]);\r\n      result.push([\"data_filtro_fim\", \"==\", form.data_filtro_fim]);\r\n    }\r\n    if(form.usuario?.length) {\r\n      result.push([\"usuario.nome\", \"like\", \"%\" + form.usuario + \"%\"]);\r\n    }\r\n    if(form.unidade_id?.length) {\r\n      result.push([\"unidade_id\", \"==\", form.unidade_id]);\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  public onAgruparChange(event: Event) {\r\n    const agrupar = this.filter!.controls.agrupar.value;\r\n    if((agrupar && !this.groupBy?.length) || (!agrupar && this.groupBy?.length)) {\r\n      this.groupBy = agrupar ? [{field: \"unidade.sigla\", label: \"Unidade\"}] : [];\r\n      this.grid!.reloadFilter();\r\n    }\r\n  }\r\n\r\n  public onProcessoClick(row: any) {\r\n    this.allPages.openDocumentoSei(row.documento.id_processo, row.documento.id_documento);\r\n  }\r\n\r\n  public needSign(plano: Plano): boolean {\r\n    let ids: string[] = [];\r\n    if(plano.documento_id?.length) {\r\n      const tipoModalidade = plano.tipo_modalidade!; //(this.tipoModalidade?.searchObj as TipoModalidade);\r\n      const usuario = plano.usuario!; // (this.usuario?.searchObj as Usuario);\r\n      const unidade = plano.unidade!; // (this.unidade?.searchObj as Unidade);\r\n      const entidade = unidade.entidade!;\r\n      //const alredySigned = !!documento.assinaturas.find(x => x.usuario_id == this.auth.usuario!.id);\r\n      if(tipoModalidade?.exige_assinatura && usuario) ids.push(usuario.id);\r\n      if(tipoModalidade?.exige_assinatura_gestor_unidade && unidade) ids.push(unidade.gestor_id || \"\", unidade.gestor_substituto_id || \"\");\r\n      if(tipoModalidade?.exige_assinatura_gestor_entidade && entidade) ids.push(entidade.gestor_id || \"\", entidade.gestor_substituto_id || \"\");\r\n    }\r\n    return !!plano.documento_id?.length && ids.includes(this.auth.usuario!.id);\r\n  }\r\n\r\n  public dynamicMultiselectMenu = (multiselected: IIndexable): ToolbarButton[] => {\r\n    let assinar = !!Object.keys(multiselected).length;\r\n    let menu = [];\r\n    Object.entries(multiselected).forEach(([key, value]) => {\r\n      if(!this.needSign(value)) assinar = false;\r\n    });\r\n    if(assinar) menu.push({label: \"Assinar\", icon: \"bi bi-pen\", onClick: this.assinar.bind(this) });\r\n    return menu;\r\n  }\r\n\r\n  public assinar() {\r\n    if(!this.grid!.multiselectedCount) {\r\n      this.dialog.alert(\"Selecione\", \"Nenhum plano seleciono\");\r\n    } else {\r\n      this.dialog.confirm(\"Assinar\", \"Deseja realmente assinar \" + this.grid!.multiselectedCount + \" documento\" + (this.grid!.multiselectedCount > 1 ? \"s\" : \"\") + \"?\").then(response => {\r\n        if(response) {\r\n          this.loading = true;\r\n          this.documentoDao.assinar(Object.keys(this.grid!.multiselected)).then(response => {\r\n            if(response?.length) {\r\n              this.dialog.alert(\"Assinados\", response.length > 1 ? \"Foram assinados \" + response.length + \" documentos!\" : \"Documento assinado com sucesso!\");\r\n              this.refresh();\r\n            }\r\n          }).finally(() => this.loading = false);\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","<!--<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>-->\r\n<grid multiselect [dao]=\"dao\" [add]=\"add\" [title]=\"isModal ? '' : title\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\"\r\n      [join]=\"join\"\r\n      [selectable]=\"selectable\" (select)=\"onSelect($event)\"\r\n      [hasAdd]=\"auth.hasPermissionTo('MOD_ADES_INCL')\"\r\n      [hasEdit]=\"auth.hasPermissionTo('MOD_ADES_EDT')\"\r\n      [dynamicMultiselectMenu]=\"dynamicMultiselectMenu.bind(this)\"\r\n      [multiselectAllFields]=\"multiselectAllFields\">\r\n    <toolbar *ngIf=\"!selectable\">\r\n    </toolbar>\r\n    <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\"\r\n            [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-text [size]=\"6\" label=\"Usuário\" controlName=\"usuario\" [control]=\"filter!.controls.usuario\"\r\n                        placeholder=\"Usuário\"></input-text>\r\n            <input-search [size]=\"6\" label=\"Unidade\" controlName=\"unidade_id\" [control]=\"filter!.controls.unidade_id\"\r\n                          [dao]=\"unidadeDao\" [selectRoute]=\"{route: ['configuracoes', 'unidade']}\"></input-search>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-search [size]=\"6\" label=\"Tipo de modalidade\" controlName=\"tipo_modalidade_id\"\r\n                          [control]=\"filter!.controls.tipo_modalidade_id\" [dao]=\"tipoModalidadeDao\"\r\n                          [selectRoute]=\"{route: ['cadastros', 'tipo-modalidade']}\"></input-search>\r\n            <input-select [size]=\"2\" label=\"Data\" itemTodos=\"- Nenhum -\" [valueTodos]=\"null\" controlName=\"data_filtro\"\r\n                          [control]=\"filter!.controls.data_filtro\" [items]=\"SITUACAO_FILTRO\"></input-select>\r\n            <input-datetime [size]=\"2\" date [disabled]=\"filter!.controls.data_filtro.value == null ? 'true' : undefined\"\r\n                            label=\"Início\" controlName=\"data_filtro_inicio\"\r\n                            [control]=\"filter!.controls.data_filtro_inicio\"\r\n                            labelInfo=\"Data início do período\"></input-datetime>\r\n            <input-datetime [size]=\"2\" date [disabled]=\"filter!.controls.data_filtro.value == null ? 'true' : undefined\"\r\n                            label=\"Fim\" controlName=\"data_filtro_fim\" [control]=\"filter!.controls.data_filtro_fim\"\r\n                            labelInfo=\"Data fim do período\"></input-datetime>\r\n        </div>\r\n    </filter>\r\n    <columns>\r\n        <column [titleTemplate]=\"titleNumero\" field=\"numero\" [minWidth]=\"50\">\r\n            <ng-template let-header=\"header\" #titleNumero>\r\n                <order by=\"numero\" [header]=\"header\">#ID</order>\r\n            </ng-template>\r\n        </column>\r\n        <column [titleTemplate]=\"titleUsuario\" [template]=\"columnUsuario\">\r\n            <ng-template let-header=\"header\" #titleUsuario>\r\n                <order by=\"usuario.nome\" [header]=\"header\">Usuário</order>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnUsuario>\r\n                <span> {{row.usuario?.nome || \"\"}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column [titleTemplate]=\"titleStatus\" field=\"status\" [minWidth]=\"50\">\r\n            <ng-template let-header=\"header\" #titleStatus>\r\n                <order by=\"status\" [header]=\"header\">Status</order>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Programa/Unidade\" [template]=\"columnProgramaUnidade\">\r\n            <ng-template let-row=\"row\" #columnProgramaUnidade>\r\n                <span *ngIf=\"row.programa\" class=\"badge bg-light text-dark\">\r\n                    <i class=\"fas fa-university\"></i>\r\n                    {{row.programa?.nome}}\r\n                </span>\r\n                <span *ngIf=\"row.unidade\" class=\"badge bg-light text-dark\">\r\n                    <i class=\"bi bi-briefcase\"></i>\r\n                    {{row.unidade.sigla}}\r\n                </span>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Modalidade\" [template]=\"columnModalidade\">\r\n            <ng-template let-row=\"row\" #columnModalidade>\r\n                <span> {{row.tipo_modalidade?.nome || \"\"}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column [titleTemplate]=\"titleVigencia\" [template]=\"columnInicioVigencia\">\r\n            <ng-template let-header=\"header\" #titleVigencia>\r\n                Vigência de<br>\r\n                <order by=\"data_inicio_vigencia\" [header]=\"header\">Início</order>\r\n                a\r\n                <order by=\"data_fim_vigencia\" [header]=\"header\">Fim</order>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnInicioVigencia>\r\n                <span> {{dao!.getDateFormatted(row.data_inicio_vigencia) + \" até \" + dao!.getDateFormatted(row.data_fim_vigencia)}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"TCR\" [template]=\"documento\">\r\n            <ng-template let-row=\"row\" #documento>\r\n                <span *ngIf=\"row.documento?.numero_processo?.length\" class=\"badge bg-light text-dark\"\r\n                      [attr.role]=\"row.documento?.numero_processo?.length ? 'button' : undefined\"\r\n                      data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" (click)=\"onProcessoClick(row)\"\r\n                      [title]=\"allPages.getButtonTitle(row.documento?.numero_processo, row.documento?.numero_documento)\">\r\n                    <i [class]=\"'bi ' + (row.documento?.numero_processo?.length ? 'bi bi-folder-symlink' : 'bi bi-x-lg')\"></i>\r\n                    {{row.documento?.numero_processo?.length ? row.documento?.numero_processo : \"Não atribuído\"}}\r\n                    <small\r\n                        *ngIf=\"row.documento?.numero_documento?.length\"><br>Sei nº {{row.documento?.numero_documento}}</small>\r\n                </span>\r\n            </ng-template>\r\n        </column>\r\n        <column *ngIf=\"!selectable\" type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\r\n    </columns>\r\n    <report>\r\n        <column title=\"Numero\" [template]=\"reportNumero\">\r\n            <ng-template let-row=\"row\" #reportNumero>{{row.numero}}</ng-template>\r\n        </column>\r\n        <column title=\"Matricula usuário\" [template]=\"reportMatricula\">\r\n            <ng-template let-row=\"row\" #reportMatricula>{{row.usuario?.matricula || \"\"}}</ng-template>\r\n        </column>\r\n        <column title=\"Programa\" [template]=\"reportPrograma\">\r\n            <ng-template let-row=\"row\" #reportPrograma>{{row.programa?.nome || \"\"}}</ng-template>\r\n        </column>\r\n        <column title=\"Unidade\" [template]=\"reportUnidade\">\r\n            <ng-template let-row=\"row\" #reportUnidade>{{row.unidade?.nome || \"\"}}</ng-template>\r\n        </column>\r\n        <column title=\"Modalidade\" [template]=\"reportModalidade\">\r\n            <ng-template let-row=\"row\" #reportModalidade>{{row.tipo_modalidade?.nome || \"\"}}</ng-template>\r\n        </column>\r\n        <column title=\"Início vigência\" [template]=\"reportInicioVigencia\">\r\n            <ng-template let-row=\"row\"\r\n                         #reportInicioVigencia>{{util.getDateTimeFormatted(row.data_inicio_vigencia)}}</ng-template>\r\n        </column>\r\n        <column title=\"Fim vigência\" [template]=\"reportFimVigencia\">\r\n            <ng-template let-row=\"row\"\r\n                         #reportFimVigencia>{{util.getDateTimeFormatted(row.data_fim_vigencia)}}</ng-template>\r\n        </column>\r\n        <column title=\"Termo de Adesão\" [template]=\"reportTermoAdesao\">\r\n            <ng-template let-row=\"row\"\r\n                         #reportTermoAdesao>{{row.documento?.numero_processo?.length ? row.documento?.numero_processo : \"Não atribuído\"}}</ng-template>\r\n        </column>\r\n    </report>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport {AuthGuard} from \"../../../guards/auth.guard\";\r\nimport {ConfigResolver} from \"../../../resolvies/config.resolver\";\r\nimport {AdesaoListComponent} from \"./adesao-list/adesao-list.component\";\r\nimport {AdesaoFormComponent} from \"./adesao-form/adesao-form.component\";\r\nimport {AdesaoFormTermoComponent} from \"./adesao-form-termo/adesao-form-termo.component\";\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: AdesaoListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Adesão\" } },\r\n  { path: 'new', component: AdesaoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão\", modal: true } },\r\n  { path: 'termo', component: AdesaoFormTermoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Termo de Ciência e Reponsabilidade\", modal: true } },\r\n  { path: ':id/edit', component: AdesaoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição\", modal: true } },\r\n  { path: ':id/consult', component: AdesaoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consultar\", modal: true } },\r\n  { path: ':id/termos', component: AdesaoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Termos de Ciência e Reponsabilidade\", modal: true } }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AdesaoRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AdesaoRoutingModule } from './adesao-routing.module';\r\nimport { AdesaoListComponent } from './adesao-list/adesao-list.component';\r\nimport { AdesaoFormComponent } from './adesao-form/adesao-form.component';\r\nimport {ComponentsModule} from \"../../../components/components.module\";\r\nimport {ReactiveFormsModule} from \"@angular/forms\";\r\nimport {UteisModule} from \"../../uteis/uteis.module\";\r\nimport { AdesaoFormTermoComponent } from './adesao-form-termo/adesao-form-termo.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AdesaoListComponent,\r\n    AdesaoFormComponent,\r\n    AdesaoFormTermoComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    ReactiveFormsModule,\r\n    UteisModule,\r\n    AdesaoRoutingModule\r\n  ]\r\n})\r\nexport class AdesaoModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-adesao-form-termo',\r\n  templateUrl: './adesao-form-termo.component.html',\r\n  styleUrls: ['./adesao-form-termo.component.scss']\r\n})\r\nexport class AdesaoFormTermoComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>adesao-form-termo works!</p>\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { Demanda } from '../models/demanda.model';\r\nimport { Plano } from '../models/plano.model';\r\nimport { Metadado } from 'src/app/modules/base/page-report-base';\r\nimport { DaoBaseService } from './dao-base.service';\r\nimport {Adesao} from \"../models/adesao.model\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AdesaoDaoService extends DaoBaseService<Adesao> {\r\n\r\n  constructor(protected injector: Injector) {\r\n    super(\"Adesao\", injector);\r\n  }\r\n\r\n  public metadados(plano: Plano, inicioPeriodo: string | null, fimPeriodo: string | null): Promise<Metadado> {\r\n    return new Promise<Metadado>((resolve, reject) => {\r\n      this.server.post('api/Relatorio/metadados', {\r\n        plano: plano, inicioPeriodo: inicioPeriodo, fimPeriodo: fimPeriodo\r\n      }).subscribe(response => {\r\n        resolve(response?.metadados || []);\r\n      }, error => reject(error));\r\n    });\r\n  }\r\n\r\n  public metadadosPlano(plano_id: string): Promise<Metadado> {\r\n    return new Promise<Metadado>((resolve, reject) => {\r\n      this.server.post('api/' + this.collection + '/metadadosPlano', {plano_id}).subscribe(response => {\r\n        resolve(response?.metadadosPlano || []);\r\n      }, error => reject(error));\r\n    });\r\n  }\r\n\r\n}\r\n\r\n","import {Component, Injector, OnInit, ViewChild} from '@angular/core';\r\nimport {PageFormBase} from \"../../../base/page-form-base\";\r\nimport {Plano} from \"../../../../models/plano.model\";\r\nimport {PlanoDaoService} from \"../../../../dao/plano-dao.service\";\r\nimport {EditableFormComponent} from \"../../../../components/editable-form/editable-form.component\";\r\nimport {GridComponent} from \"../../../../components/grid/grid.component\";\r\nimport {TabsComponent} from \"../../../../components/tabs/tabs.component\";\r\nimport {InputSearchComponent} from \"../../../../components/input/input-search/input-search.component\";\r\nimport {AbstractControl, FormGroup} from \"@angular/forms\";\r\nimport {UnidadeDaoService} from \"../../../../dao/unidade-dao.service\";\r\nimport {ProgramaDaoService} from \"../../../../dao/programa-dao.service\";\r\nimport {UsuarioDaoService} from \"../../../../dao/usuario-dao.service\";\r\nimport {AtividadeDaoService} from \"../../../../dao/atividade-dao.service\";\r\nimport {DocumentoDaoService} from \"../../../../dao/documento-dao-service\";\r\nimport {ListenerAllPagesService} from \"../../../../listeners/listener-all-pages.service\";\r\nimport {CalendarService, Efemerides} from \"../../../../services/calendar.service\";\r\nimport {TipoModalidadeDaoService} from \"../../../../dao/tipo-modalidade-dao.service\";\r\nimport {Programa} from \"../../../../models/programa.model\";\r\nimport {SelectItem} from \"../../../../components/input/input-base\";\r\nimport {TipoModalidade} from \"../../../../models/tipo-modalidade.model\";\r\nimport {Unidade} from \"../../../../models/unidade.model\";\r\nimport {Usuario} from \"../../../../models/usuario.model\";\r\nimport {PlanoAtividade} from \"../../../../models/plano-atividade.model\";\r\nimport {IIndexable} from \"../../../../models/base.model\";\r\nimport {ToolbarButton} from \"../../../../components/toolbar/toolbar.component\";\r\nimport {Documento} from \"../../../../models/documento.model\";\r\nimport {UnitWorkload} from \"../../../../components/input/input-workload/input-workload.component\";\r\nimport {AdesaoDaoService} from \"../../../../dao/adesao-dao.service\";\r\nimport {Adesao} from \"../../../../models/adesao.model\";\r\nimport {EntidadeDaoService} from \"../../../../dao/entidade-dao.service\";\r\n\r\n@Component({\r\n  selector: 'app-adesao-form',\r\n  templateUrl: './adesao-form.component.html',\r\n  styleUrls: ['./adesao-form.component.scss']\r\n})\r\nexport class AdesaoFormComponent extends PageFormBase<Adesao, AdesaoDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('gridDocumentos', { static: false }) public gridDocumentos?: GridComponent;\r\n  @ViewChild('tabs', { static: false }) public tabs?: TabsComponent;\r\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  @ViewChild('entidade', { static: false }) public entidade?: InputSearchComponent;\r\n  @ViewChild('programa', { static: false }) public programa?: InputSearchComponent;\r\n  @ViewChild('tipo_modalidade', { static: false }) public tipoModalidade?: InputSearchComponent;\r\n\r\n  public unidadeDao: UnidadeDaoService;\r\n  public entidadeDao: EntidadeDaoService;\r\n  public programaDao: ProgramaDaoService;\r\n  public usuarioDao: UsuarioDaoService;\r\n  public atividadeDao: AtividadeDaoService;\r\n  public documentoDao: DocumentoDaoService;\r\n  public allPages: ListenerAllPagesService;\r\n  public calendar: CalendarService;\r\n  public tipoModalidadeDao: TipoModalidadeDaoService;\r\n  public horasTotais?: Efemerides;\r\n  public horasParciais?: Efemerides;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Adesao, AdesaoDaoService);\r\n    this.join = [\"unidade.entidade\", \"usuario\", \"programa\", \"tipo_modalidade\", \"documento\", \"documentos.assinaturas.usuario:id,nome,apelido\", \"entidade\"];\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.entidadeDao = injector.get<EntidadeDaoService>(EntidadeDaoService);\r\n    this.programaDao = injector.get<ProgramaDaoService>(ProgramaDaoService);\r\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.atividadeDao = injector.get<AtividadeDaoService>(AtividadeDaoService);\r\n    this.calendar = injector.get<CalendarService>(CalendarService);\r\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\r\n    this.tipoModalidadeDao = injector.get<TipoModalidadeDaoService>(TipoModalidadeDaoService);\r\n    this.documentoDao = injector.get<DocumentoDaoService>(DocumentoDaoService);\r\n\r\n    this.form = this.fh.FormBuilder({\r\n      data_inicio_vigencia: {default: new Date()},\r\n      data_fim_vigencia: {default: new Date()},\r\n      data_inicio: {default: \"\"},\r\n      data_fim: {default: \"\"},\r\n      status: {default: \"SOLICITADO\"},\r\n      programa_id: {default: \"\"},\r\n      usuario_id: {default: \"\"},\r\n      unidade_id: {default: \"\"},\r\n      entidade_id: {default: \"\"},\r\n      tipo_modalidade_id: {default: \"\"},\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n    const segment = (this.url ? this.url[this.url.length-1]?.path : \"\") || \"\";\r\n    this.action = [\"termos\"].includes(segment) ? segment : this.action;\r\n  }\r\n\r\n  public get isTermos(): boolean {\r\n    return this.action == \"termos\";\r\n  }\r\n\r\n  public validateAtividades = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if(controlName == 'atividade_id' && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n\r\n    // if(['usuario_id', 'unidade_id', 'programa_id', 'tipo_modalidade_id'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n    //   result = \"Obrigatório\";\r\n    // } else if(['carga_horaria'].indexOf(controlName) >= 0 && !control.value) {\r\n    //   result = \"Valor não pode ser zero.\";\r\n    // } else if(['data_inicio_vigencia', 'data_fim_vigencia'].includes(controlName)) {\r\n    //   if(!this.util.isDataValid(control.value)) {\r\n    //     result = \"Inválido\";\r\n    //   } else if(!this.programa?.searchObj) {\r\n    //     result = \"Selecionar programa\";\r\n    //   } else if(controlName == 'data_inicio_vigencia' && (control.value as Date).getTime() < (this.programa!.searchObj! as Programa).data_inicio_vigencia.getTime()) {\r\n    //     result = \"Menor que programa\";\r\n    //   } else if(controlName == 'data_fim_vigencia' && (control.value as Date).getTime() > (this.programa!.searchObj! as Programa).data_fim_vigencia.getTime()) {\r\n    //     result = \"Maior que programa\";\r\n    //   }\r\n    // }\r\n\r\n    return result;\r\n  }\r\n\r\n  // public formValidation = (form?: FormGroup) => {\r\n  //     return undefined;\r\n  // };\r\n\r\n  public onProgramaSelect(selected: SelectItem) {\r\n    this.form?.controls.data_inicio_vigencia.updateValueAndValidity();\r\n    this.form?.controls.data_fim_vigencia.updateValueAndValidity();\r\n  }\r\n\r\n  public onTipoModalidadeSelect(selected: SelectItem) {\r\n    const tipoModalidade = this.tipoModalidade?.searchObj as TipoModalidade;\r\n    if(tipoModalidade) this.form?.controls.ganho_produtividade.setValue(tipoModalidade.ganho_produtividade);\r\n  }\r\n\r\n  public onUsuarioSelect(selected: SelectItem) {\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onDataInicioChange(event: Event) {\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onDataFimChange(event: Event) {\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onUnidadeSelect(selected: SelectItem) {\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onEntidadeSelect(selected: SelectItem) {\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n\r\n\r\n  public async loadData(entity: Adesao, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    await Promise.all ([\r\n      this.calendar.loadFeriadosCadastrados(entity.unidade_id),\r\n      this.entidade?.loadSearch(entity.entidade || entity.entidade_id),\r\n      this.unidade?.loadSearch(entity.unidade || entity.unidade_id),\r\n      this.usuario?.loadSearch(entity.usuario || entity.usuario_id),\r\n      this.programa?.loadSearch(entity.programa || entity.programa_id),\r\n      this.tipoModalidade?.loadSearch(entity.tipo_modalidade || entity.tipo_modalidade_id)\r\n    ]);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    if(this.isTermos) {\r\n      this.entity = (await this.dao!.getById(this.urlParams!.get(\"id\")!, this.join))!;\r\n    } else {\r\n      this.entity = new Adesao();\r\n      this.entity.entidade = this.auth.unidade!.entidade;\r\n      this.entity.unidade = this.auth.unidade;\r\n      this.entity.unidade_id = this.auth.unidade!.id;\r\n      this.entity.entidade_id = this.auth.unidade!.entidade_id!;\r\n    }\r\n    this.loadData(this.entity, this.form!);\r\n  }\r\n\r\n\r\n  public saveData(form: IIndexable): Promise<Adesao> {\r\n    return new Promise<Adesao>((resolve, reject) => {\r\n      let adesao = this.util.fill(new Adesao(), this.entity!);\r\n      adesao = this.util.fillForm(adesao, this.form!.value);\r\n      resolve(adesao);\r\n    });\r\n  }\r\n\r\n  public titleEdit = (entity: Adesao): string => {\r\n    return \"Editando \" ;//+ (entity?.nome || \"\");\r\n  }\r\n\r\n  public documentoDynamicButtons(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let documento: Documento = row as Documento;\r\n\r\n    if(this.isTermos && this.needSign(documento)) {\r\n      result.push({hint: \"Assinar\", icon: \"bi bi-pen\", onClick: this.signDocumento.bind(this) });\r\n    }\r\n    result.push({hint: \"Preview\", icon: \"bi bi-zoom-in\", onClick: ((documento: Documento) => { this.dialog.html({title: \"Termo de adesão\", modalWidth: 1000}, documento.conteudo || \"\"); }).bind(this) });\r\n\r\n    return result;\r\n  }\r\n\r\n  public needSign(documento: Documento): boolean {\r\n    const tipoModalidade = this.entity!.tipo_modalidade!; //(this.tipoModalidade?.searchObj as TipoModalidade);\r\n    const usuario = this.entity!.usuario!; // (this.usuario?.searchObj as Usuario);\r\n    const unidade = this.entity!.unidade!; // (this.unidade?.searchObj as Unidade);\r\n    const entidade = unidade?.entidade;\r\n    const alredySigned = !!documento.assinaturas.find(x => x.usuario_id == this.auth.usuario!.id);\r\n    let ids: string[] = [];\r\n    if(tipoModalidade?.exige_assinatura && usuario) ids.push(usuario.id);\r\n    if(tipoModalidade?.exige_assinatura_gestor_unidade && unidade) ids.push(unidade.gestor_id || \"\", unidade.gestor_substituto_id || \"\");\r\n    if(tipoModalidade?.exige_assinatura_gestor_entidade && entidade) ids.push(entidade.gestor_id || \"\", entidade.gestor_substituto_id || \"\");\r\n    return !alredySigned && tipoModalidade && ids.includes(this.auth.usuario!.id);\r\n  }\r\n\r\n  public signDocumento(documento: Documento) {\r\n    this.dialog.confirm(\"Assinar\", \"Deseja realmente assinar o documento?\").then(response => {\r\n      if(response) {\r\n        this.loading = true;\r\n        this.documentoDao.assinar([documento.id]).then(response => {\r\n          if(response?.length) {\r\n            let documentos = (this.form!.controls.documentos.value || []) as Documento[];\r\n            let found = documentos.find(x => x.id == documento?.id);\r\n            if(found) found.assinaturas = response[0].assinaturas;\r\n            this.form!.controls.documentos.setValue(documentos);\r\n            this.gridDocumentos?.reset();\r\n          }\r\n        }).finally(() => this.loading = false);\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  public async addDocumento() {\r\n    const documento = new Documento();\r\n    documento.id = this.dao!.generateUuid();\r\n    documento.plano_id = this.entity!.id;\r\n    documento._status = \"ADD\";\r\n    this.go.navigate({route: ['gestao', 'adesao', 'termo']}, {metadata: {documento: documento, plano: this.entity}, modalClose: (modalResult) => {\r\n        if(modalResult) {\r\n          (async () => {\r\n            let documentos = (this.form!.controls.documentos.value || []) as Documento[];\r\n            if(this.isTermos) {\r\n              this.clearErros();\r\n              this.dialog.showSppinerOverlay(\"Salvando dados do formulário\");\r\n              try {\r\n                modalResult = await this.documentoDao.save(Object.assign(new Documento(), {\r\n                  especie: \"TCR\",\r\n                  conteudo: modalResult?.termo,\r\n                  metadados: {atividades_termo_adesao: modalResult.atividades_termo_adesao},\r\n                  plano_id: this.entity!.id,\r\n                  status: \"GERADO\"\r\n                }), [\"assinaturas.usuario:id,nome,apelido\"]);\r\n              } catch (error: any) {\r\n                this.error(error.message ? error.message : error);\r\n                modalResult = undefined;\r\n              } finally {\r\n                this.dialog.closeSppinerOverlay();\r\n              }\r\n            }\r\n            if(modalResult) {\r\n              documentos.push(modalResult);\r\n              this.form!.controls.documentos.setValue(documentos);\r\n              this.dialog.showSppinerOverlay(\"Recarregando dados do plano\");\r\n              await this.initializeData(this.form!);\r\n              this.dialog.closeSppinerOverlay();\r\n            }\r\n            this.cdRef.detectChanges();\r\n          })();\r\n        }\r\n      }});\r\n    return undefined;\r\n  }\r\n\r\n  public isVigente(documento: Documento): boolean {\r\n    return this.form!.controls.documento_id.value == documento.id;\r\n  }\r\n\r\n  public onProcessoClick(row: any) {\r\n    this.allPages.openDocumentoSei(row.id_processo, row.id_documento);\r\n  }\r\n}\r\n","<!--<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>-->\r\n<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [noButtons]=\"isTermos ? 'true' : undefined\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\"><!--</editable-form>(submit)=\"onSaveData()\" (cancel)=\"onCancel()\">-->\r\n  <tabs #tabs display right [hidden]=\"isTermos ? 'true' : undefined\" [title]=\"!isModal ? title : ''\">\r\n    <tab *ngIf=\"!isTermos\" key=\"DADOS\" label=\"Dados\">\r\n      <div class=\"row\">\r\n        <input-search #programa [size]=\"6\" label=\"Programa\" icon=\"bi bi-layout-text-window-reverse\" controlName=\"programa_id\" [control]=\"form!.controls.programa_id\" [dao]=\"programaDao\" (select)=\"onProgramaSelect($event)\" [selectRoute]=\"{route: ['cadastros', 'programa']}\"></input-search>\r\n        <input-search #usuario [size]=\"6\" label=\"Usuário\" icon=\"bi bi-person\" controlName=\"usuario_id\" [control]=\"form!.controls.usuario_id\" [dao]=\"usuarioDao\" [join]=\"['afastamentos']\" (select)=\"onUsuarioSelect($event)\" [selectRoute]=\"{route: ['configuracoes', 'usuario']}\"></input-search>\r\n      </div>\r\n      <div class=\"row\">\r\n        <input-datetime [size]=\"6\" label=\"Início\" icon=\"bi bi-calendar-date\" controlName=\"data_inicio_vigencia\" [control]=\"form!.controls.data_inicio_vigencia\" (change)=\"onDataInicioChange($event)\" labelInfo=\"Início da Vigência do Plano de Trabalho\"></input-datetime>\r\n        <input-datetime [size]=\"6\" label=\"Final\" icon=\"bi bi-calendar-date\" controlName=\"data_fim_vigencia\" [control]=\"form!.controls.data_fim_vigencia\" (change)=\"onDataFimChange($event)\" labelInfo=\"Final da Vigência do Plano de Trabalho\"></input-datetime>\r\n      </div>\r\n      <div class=\"row\">\r\n        <input-search #entidade [size]=\"4\" label=\"Entidade\" icon=\"bi bi-bookmark-heart\" controlName=\"entidade_id\" [dao]=\"entidadeDao\" (select)=\"onEntidadeSelect($event)\" [selectRoute]=\"{route: ['configuracoes', 'entidade']}\"></input-search>\r\n        <input-search #unidade [size]=\"4\" label=\"Unidade\" icon=\"fab fa-unity\" controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [join]=\"['entidade']\" [dao]=\"unidadeDao\" (select)=\"onUnidadeSelect($event)\" [selectRoute]=\"{route: ['configuracoes', 'unidade']}\"></input-search>\r\n        <input-search #tipo_modalidade [size]=\"4\" label=\"Modalidade\" icon=\"bi bi-cast\" controlName=\"tipo_modalidade_id\" [control]=\"form!.controls.tipo_modalidade_id\" [dao]=\"tipoModalidadeDao\" (select)=\"onTipoModalidadeSelect($event)\" [selectRoute]=\"{route: ['cadastros', 'tipo-modalidade']}\"></input-search>\r\n      </div>\r\n    </tab>\r\n    <tab *ngIf=\"isTermos || !isNew\" key=\"TERMO\" label=\"Termo de Ciência e Responsabilidade\">\r\n      <top-alert *ngIf=\"!isTermos\" type=\"warning\" message=\"Para [INSERIR] ou [ASSINAR] termos escolha opção TCR o na tela de listagem\"></top-alert>\r\n      <div clss=\"row\">\r\n        <grid [control]=\"form!.controls.documentos\" #gridDocumentos [disabled]=\"undefined\" #documentos [hasEdit]=\"false\" [hasDelete]=\"false\" [hasAdd]=\"isTermos\" [add]=\"isTermos ? addDocumento.bind(this) : undefined\" editable>\r\n          <columns>\r\n            <column title=\"Data\" [template]=\"dataInicio\">\r\n              <ng-template let-row=\"row\" #dataInicio>\r\n                                <span class=\"badge bg-light text-dark\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Data da inclusão\">\r\n                                    <i class=\"bi bi-calendar-plus\"></i>\r\n                                  {{util.getDateTimeFormatted(row.data_inicio)}}\r\n                                </span>\r\n                <span *ngIf=\"row.data_fim\" class=\"badge bg-light text-dark\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Data substituição\">\r\n                                    <i class=\"bi bi-calendar-x\"></i>\r\n                  {{util.getDateTimeFormatted(row.data_fim)}}\r\n                                </span>\r\n              </ng-template>\r\n            </column>\r\n            <column title=\"Status\" [template]=\"vigente\">\r\n              <ng-template let-row=\"row\" #vigente>\r\n                                <span [class]=\"lookup.getColor(lookup.DOCUMENTO_STATUS, row.status)\">\r\n                                    <i [class]=\"lookup.getIcon(lookup.DOCUMENTO_STATUS, row.status)\"></i>\r\n                                  {{lookup.getValue(lookup.DOCUMENTO_STATUS, row.status)}}\r\n                                </span>\r\n                <span *ngIf=\"isVigente(row)\" class=\"badge rounded-pill bg-info text-dark\">\r\n                                    <i class=\"bi bi-clipboard-check\"></i>\r\n                                    Vigente\r\n                                </span>\r\n                <div class=\"d-block\">\r\n                                    <span *ngFor=\"let assinatura of row.assinaturas\" class=\"badge rounded-pill bg-primary\">\r\n                                        <i class=\"bi bi-pen\"></i>\r\n                                      {{util.apelidoOuNome(assinatura.usuario)}}\r\n                                    </span>\r\n                </div>\r\n              </ng-template>\r\n            </column>\r\n            <column type=\"options\" [dynamicButtons]=\"documentoDynamicButtons.bind(this)\"></column>\r\n          </columns>\r\n        </grid>\r\n      </div>\r\n    </tab>\r\n  </tabs>\r\n</editable-form>\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { Documento } from '../models/documento.model';\r\nimport { DaoBaseService } from './dao-base.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DocumentoDaoService extends DaoBaseService<Documento> {\r\n\r\n  constructor(protected injector: Injector) { \r\n    super(\"Documento\", injector);\r\n  }\r\n\r\n  public documentoPendenteSei(id_documento: number): Promise<Documento | undefined>  {\r\n    return new Promise<Documento | undefined>((resolve, reject) => {\r\n      this.server.post('api/' + this.collection + '/pendente-sei', {id_documento}).subscribe(response => {\r\n        if(response.error) throw new Error(response.error);\r\n        resolve(response?.data ? this.getRow(response?.data) : undefined);\r\n      }, error => reject(error));\r\n    });\r\n  }\r\n\r\n  public assinar(documentosIds: string[]) {\r\n    return new Promise<Documento[] | undefined>((resolve, reject) => {\r\n      this.server.post('api/' + this.collection + '/assinar', {documentos_ids: documentosIds}).subscribe(response => {\r\n        if(response.error) throw new Error(response.error);\r\n        resolve(response?.rows ? this.getRows(response) : undefined);\r\n      }, error => reject(error));\r\n    });\r\n  }\r\n\r\n}\r\n\r\n","import { Base } from './base.model';\r\nimport { DocumentoAssinatura } from './documento-assinatura.model';\r\nimport { Entidade } from './entidade.model';\r\nimport { Plano } from './plano.model';\r\nimport { TipoDocumento } from './tipo-documento.model';\r\nimport { TipoProcesso } from './tipo-processo.model';\r\n\r\nexport type DocumentoEspecie = \"TERMO_ADESAO\" | \"SEI\" | \"TCR\";\r\nexport type DocumentoStatus = \"GERADO\" | \"AGUARDANDO_SEI\";\r\n\r\nexport class Documento extends Base {\r\n\r\n    public static STATUS_GERADO = \"GERADO\";\r\n    public static STATUS_AGUARDANDO_SEI = \"GERADO\";\r\n\r\n    public entidade?: Entidade;\r\n    public plano?: Plano;\r\n    public tipo_documento?: TipoDocumento;\r\n    public tipo_processo?: TipoProcesso;\r\n\r\n    public numero: number = 0; /* Numero do documento (gerado pelo sistema) */\r\n    public especie: DocumentoEspecie = \"TERMO_ADESAO\"; /* Especificação da espécie do documento (interno do sistema) */\r\n    public conteudo: string | null = null; /* \"Conteúdo do arquivo */\r\n    public assinatura: any = null; /* Dados da assinatura, se nulo não está assinado */\r\n    public metadados: any = null; /* Metadados */\r\n    public id_processo: number | null = null; /* ID do processo de entrega, caso seja Sei será o ID do procedimento */\r\n    public numero_processo: string | null = null; /* Número do processo de entrega, com a formatação de origem */\r\n    public id_documento: number | null = null; /* ID da entrega, caso seja o Sei será o ID_Documento */\r\n    public numero_documento: string | null = null; /* Numero do documento de entrega, caso seja o Sei é o numero Sei */\r\n    public titulo_documento: string | null = null; /* Numeração do tipo de documento no sistema integrado */\r\n    public entidade_id: string | null = null; /* Entidade */\r\n    public plano_id: string | null = null; /* Plano */\r\n    public tipo_documento_id: string | null = null; /* Tipo documento */\r\n    public tipo_processo_id: string | null = null; /* Tipo processo */\r\n    public data_inicio: Date = new Date(); /* Data de início */\r\n    public data_fim: Date | null = null; /* Data do fim */\r\n    public status: DocumentoStatus = \"GERADO\";\r\n    public assinaturas: DocumentoAssinatura[] = [];\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}\r\n"],"sourceRoot":"webpack:///"}