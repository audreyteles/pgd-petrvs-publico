"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[2215],{92215:(st,J,d)=>{d.r(J),d.d(J,{UnidadeModule:()=>D});var h=d(76733),G=d(55579),f=d(1391),p=d(2314),m=d(8239),U=d(74040),z=d(20497),R=d(15316),K=d(87744),_=d(81214),S=d(35255),$=d(22559),g=d(53937),ee=d(1184),te=d(22067),e=d(20755),E=d(88820),N=d(32802),F=d(92392),P=d(64603),ie=d(66848),q=d(17819),O=d(66384),L=d(74978),ae=d(25560),ne=d(55795),oe=d(75007),de=d(92739);const se=["unidade_pai"],le=["cidade"],re=["gestor"],ue=["gestorSubstituto"],ce=["gestorDelegado"],me=["entidade"],fe=["notificacoes"];function pe(o,a){if(1&o&&(e.TgZ(0,"tab",28),e._UZ(1,"notificacoes-config",29,30),e.qZA()),2&o){const i=e.oxw();e.xp6(1),e.Q6J("unidadeId",i.entity.id.length?i.entity.id:"ADD")("entity",i.entity)("disabled",i.formDisabled)}}const ge=function(o){return["entidade_id","==",o]},he=function(o){return[o]};class b extends ee.F{get informalIsDisabled(){return"true"}get instituidoraIsDisabled(){return this.informal?"true":void 0}get codigoIsDisabled(){return this.informal||"new"!=this.action?"true":void 0}get unidadePaiIsDisabled(){return this.unidadeRaiz||!this.informal&&"edit"==this.action?"true":void 0}get isDisabled(){return this.informal||"edit"!=this.action?void 0:"true"}constructor(a){super(a,g.b,_.J),this.injector=a,this.unidadeRaiz=!1,this.informal=!0,this.validate=(i,t)=>{let n=null;return"unidade_pai_id"==t&&!i.value?.length&&!this.unidadeRaiz&&(n="Obrigat\xf3rio"),"codigo"==t&&!this.form?.controls.informal.value&&!parseInt(i.value)&&(n="Obrigat\xf3rio"),n},this.titleEdit=i=>"Editando "+this.lex.translate("Unidade")+": "+(i?.sigla||""),this.entidadeDao=a.get(R.i),this.cidadeDao=a.get(z.l),this.usuarioDao=a.get(S.q),this.planoTrabalhoDao=a.get(K.t),this.notificacao=a.get(te.r),this.modalWidth=1200,this.planoDataset=this.planoTrabalhoDao.dataset(),this.form=this.fh.FormBuilder({codigo:{default:""},sigla:{default:""},nome:{default:""},path:{default:""},cidade_id:{default:""},uf:{default:""},instituidora:{default:!1},informal:{default:!0},atividades_arquivamento_automatico:{default:0},distribuicao_forma_contagem_prazos:{default:"DIAS_UTEIS"},entrega_forma_contagem_prazos:{default:"HORAS_UTEIS"},notificacoes:{default:{}},etiquetas:{default:[]},unidade_pai_id:{default:""},entidade_id:{default:this.auth.unidade?.entidade_id},etiqueta_texto:{default:""},etiqueta_icone:{default:null},etiqueta_cor:{default:null},expediente24:{default:!0},expediente:{default:null},usar_expediente_unidade:{default:!1},texto_complementar_plano:{default:""}},this.cdRef,this.validate),this.join=["cidade","entidade","unidade_pai","gestor.usuario:id,nome","gestores_substitutos.usuario:id,nome","gestores_delegados.usuario:id,nome","notificacoes_templates","gestor.gestor:id","gestores_substitutos.gestor_substituto:id","gestores_delegados.gestor_delegado:id"]}loadData(a,i){var t=this;return(0,m.Z)(function*(){t.informal=!!a.informal,t.cdRef.detectChanges();let n=Object.assign({},i.value);a.etiquetas=a.etiquetas||[],t.form.patchValue(t.util.fillForm(n,a)),yield Promise.all([t.unidadePai.loadSearch(a.unidade_pai||a.unidade_pai_id),t.cidade.loadSearch(a.cidade||a.cidade_id),t.entidade.loadSearch(a.entidade||a.entidade_id)]),t.form.controls.informal.setValue(a.informal),t.unidadeRaiz="edit"==t.action&&!a.unidade_pai_id,t.form.controls.usar_expediente_unidade.setValue(!!a.expediente),t.fh.revalidate(t.form)})()}initializeData(a){this.entity=new g.b({entidade_id:this.auth.unidade?.entidade_id,entidade:this.auth.unidade?.entidade,informal:1}),this.loadData(this.entity,a)}addItemHandle(){let a;const i=this.form.controls.etiqueta_texto.value,t=this.util.textHash(i);return i?.length&&this.util.validateLookupItem(this.form.controls.etiquetas.value,t)&&(a={key:t,value:this.form.controls.etiqueta_texto.value,color:this.form.controls.etiqueta_cor.value,icon:this.form.controls.etiqueta_icone.value},this.form.controls.etiqueta_texto.setValue(""),this.form.controls.etiqueta_icone.setValue(null),this.form.controls.etiqueta_cor.setValue(null)),a}saveData(a){var i=this;return new Promise(function(){var t=(0,m.Z)(function*(n,s){i.notificacoes.saveData();let l=i.util.fill(new g.b,i.entity);l=i.util.fillForm(l,i.form.value),l.notificacoes=i.entity.notificacoes,l.notificacoes_templates=i.entity.notificacoes_templates,i.form.controls.usar_expediente_unidade||(l.expediente=null),n(l)});return function(n,s){return t.apply(this,arguments)}}())}onInformalChange(a){this.informal=this.form.controls.informal.value,this.form.controls.codigo.setValue(""),this.form.controls.instituidora.setValue(!1),this.form.controls.codigo.updateValueAndValidity()}onUsarExpedienteEntidadeChange(){this.form.controls.expediente.setValue(this.form.controls.usar_expediente_unidade.value?this.form.controls.expediente.value||new $.z:null)}static#e=this.\u0275fac=function(i){return new(i||b)(e.Y36(e.zs3))};static#t=this.\u0275cmp=e.Xpm({type:b,selectors:[["app-unidade-form"]],viewQuery:function(i,t){if(1&i&&(e.Gf(U.Q,5),e.Gf(se,5),e.Gf(le,5),e.Gf(re,5),e.Gf(ue,5),e.Gf(ce,5),e.Gf(me,5),e.Gf(fe,5)),2&i){let n;e.iGM(n=e.CRH())&&(t.editableForm=n.first),e.iGM(n=e.CRH())&&(t.unidadePai=n.first),e.iGM(n=e.CRH())&&(t.cidade=n.first),e.iGM(n=e.CRH())&&(t.gestor=n.first),e.iGM(n=e.CRH())&&(t.gestorSubstituto=n.first),e.iGM(n=e.CRH())&&(t.gestorDelegado=n.first),e.iGM(n=e.CRH())&&(t.entidade=n.first),e.iGM(n=e.CRH())&&(t.notificacoes=n.first)}},features:[e.qOj],decls:33,vars:46,consts:[["initialFocus","sigla",3,"title","form","disabled","submit","cancel"],["display","","right",""],["key","PRINCIPAL","label","Principal"],[1,"row"],["label","Informal","labelClass","text-nowrap","controlName","informal",3,"disabled","size","labelInfo","change"],["label","Instit.","labelClass","text-nowrap","controlName","instituidora",3,"disabled","size","labelInfo"],["label","C\xf3digo","controlName","codigo",3,"disabled","size"],["label","Sigla","controlName","sigla","required","",3,"disabled","size"],["label","Nome","controlName","nome","required","",3,"disabled","size"],["controlName","cidade_id","required","",3,"disabled","size","dao"],["cidade",""],["controlName","unidade_pai_id",3,"disabled","size","label","where","dao"],["unidade_pai",""],["disabled","","controlName","entidade_id","required","",3,"size","dao"],["entidade",""],["key","CONFIGURACOES","label","Configura\xe7\xf5es"],["clss","row"],["label","Etiquetas","multiselectStyle","inline","controlName","etiquetas",3,"maxItemWidth","size","addItemHandle"],["label","Texto","controlName","etiqueta_texto",3,"size"],["label","\xcdcone","controlName","etiqueta_icone",3,"size","items"],["label","Cor","controlName","etiqueta_cor",3,"size"],["controlName","texto_complementar_plano",3,"label","dataset"],["key","EXPEDIENTE","label","Expediente"],["label","Usar calend\xe1rio pr\xf3prio","labelPosition","right","icon","bi bi-check2","controlName","usar_expediente_unidade",3,"size","labelInfo","change"],["usarExpedienteEntidade",""],[3,"disabled","expedienteDisabled","control"],["expediente",""],["key","NOTIFICACOES","label","Notifica\xe7\xf5es",4,"ngIf"],["key","NOTIFICACOES","label","Notifica\xe7\xf5es"],[3,"unidadeId","entity","disabled"],["notificacoes",""]],template:function(i,t){1&i&&(e.TgZ(0,"editable-form",0),e.NdJ("submit",function(){return t.onSaveData()})("cancel",function(){return t.onCancel()}),e.TgZ(1,"tabs",1)(2,"tab",2)(3,"div",3)(4,"input-switch",4),e.NdJ("change",function(s){return t.onInformalChange(s)}),e.qZA(),e._UZ(5,"input-switch",5)(6,"input-text",6)(7,"input-text",7)(8,"input-text",8),e.qZA(),e.TgZ(9,"div",3),e._UZ(10,"input-search",9,10)(12,"input-search",11,12)(14,"input-search",13,14),e.qZA()(),e.TgZ(16,"tab",15),e._UZ(17,"separator"),e.TgZ(18,"div",16)(19,"input-multiselect",17),e._UZ(20,"input-text",18)(21,"input-select",19)(22,"input-color",20),e.qZA()(),e._UZ(23,"separator"),e.TgZ(24,"div",3),e._UZ(25,"input-editor",21),e.qZA()(),e.TgZ(26,"tab",22)(27,"div",3)(28,"input-switch",23,24),e.NdJ("change",function(){return t.onUsarExpedienteEntidadeChange()}),e.qZA()(),e._UZ(30,"calendar-expediente",25,26),e.qZA(),e.YNc(32,pe,3,3,"tab",27),e.qZA()()),2&i&&(e.Q6J("title",t.isModal?"":t.title)("form",t.form)("disabled",t.formDisabled),e.xp6(4),e.Q6J("disabled",t.informalIsDisabled)("size",1)("labelInfo","Definir se "+t.lex.translate("a unidade")+" \xe9 informal ou n\xe3o."+t.lex.translate(" Unidades")+" informais s\xe3o, por exemplo: times volantes, comiss\xf5es, grupos de trabalho, etc."+t.lex.translate(" Unidades")+" informais n\xe3o podem mudar para formais, ou vice-versa."),e.xp6(1),e.Q6J("disabled",t.instituidoraIsDisabled)("size",1)("labelInfo","Se a "+t.lex.translate("unidade")+" \xe9 instituidora de Programas. Unidade administrativa prevista no art. 4\xba do Decreto n\xba 11.072, de 2022."),e.xp6(1),e.Q6J("disabled",t.codigoIsDisabled)("size",2),e.xp6(1),e.Q6J("disabled",t.isDisabled)("size",2),e.xp6(1),e.Q6J("disabled",t.isDisabled)("size",6),e.xp6(2),e.Q6J("disabled",t.isDisabled)("size",4)("dao",t.cidadeDao),e.xp6(2),e.Q6J("disabled",t.unidadePaiIsDisabled)("size",4)("label",t.lex.translate("Unidade")+" pai")("where",e.VKq(44,he,e.VKq(42,ge,t.form.controls.entidade_id.value)))("dao",t.dao),e.xp6(2),e.Q6J("size",4)("dao",t.entidadeDao),e.xp6(5),e.Q6J("maxItemWidth",250)("size",12)("addItemHandle",t.addItemHandle.bind(t)),e.xp6(1),e.Q6J("size",6),e.uIk("maxlength",250),e.xp6(1),e.Q6J("size",3)("items",t.lookup.ICONES),e.xp6(1),e.Q6J("size",3),e.xp6(3),e.Q6J("label","Texto complementar "+t.lex.translate("Plano de Trabalho"))("dataset",t.planoDataset),e.xp6(3),e.hYB("labelInfo","Se o expediente da ",t.lex.translate("unidade")," n\xe3o for definido usaremos o da ",t.lex.translate("entidade"),""),e.Q6J("size",12),e.xp6(2),e.Q6J("disabled",t.form.controls.usar_expediente_unidade.value?void 0:"true")("expedienteDisabled",null==t.entity||null==t.entity.entidade?null:t.entity.entidade.expediente)("control",t.form.controls.expediente),e.xp6(2),e.Q6J("ngIf",t.entity))},dependencies:[h.O5,U.Q,E.a,N.V,F.m,P.p,ie.z,q.p,O.n,L.i,ae.N,ne.G,oe.Z,de.y]})}var v=d(73150),M=d(78509),x=d(57224),Q=d(83351),_e=d(57765),V=d(45512),be=d(42704),H=d(95489);const ve=["instituidora"];function Ie(o,a){if(1&o&&(e.TgZ(0,"h3",19),e._uU(1),e.qZA()),2&o){const i=e.oxw();e.xp6(1),e.Oqu(i.title)}}function Ue(o,a){if(1&o&&e._UZ(0,"toolbar",20),2&o){const i=e.oxw();e.Q6J("buttons",i.buttons)}}function Ae(o,a){if(1&o&&(e.TgZ(0,"span",23),e._UZ(1,"i",24),e._uU(2),e.qZA()),2&o){const i=e.oxw().row;e.xp6(2),e.hij(" ",i.unidade.sigla," ")}}function Te(o,a){if(1&o&&(e.TgZ(0,"span",21),e._uU(1),e.qZA(),e.YNc(2,Ae,3,1,"span",22)),2&o){const i=a.row;e.xp6(1),e.Oqu(i.nome),e.xp6(1),e.Q6J("ngIf",i.unidade)}}function ye(o,a){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const i=a.row;e.xp6(1),e.Oqu(((null==i.cidade?null:i.cidade.nome)||"")+"/"+((null==i.cidade?null:i.cidade.uf)||""))}}function Ze(o,a){1&o&&e._UZ(0,"badge",28)}function Ce(o,a){if(1&o&&(e.TgZ(0,"div",25),e.YNc(1,Ze,1,0,"badge",26),e._UZ(2,"badge",27),e.qZA()),2&o){const i=a.row;e.xp6(1),e.Q6J("ngIf",i.instituidora),e.xp6(1),e.Q6J("color",i.data_inativacao?"danger":"success")("icon",i.data_inativacao?"bi bi-x-circle":"bi bi-check-circle")("label",i.data_inativacao?"Inativo":"Ativo")}}class A extends M.E{constructor(a){super(a,g.b,_.J),this.injector=a,this.selectable=!1,this.buttons=[],this.filterWhere=i=>{let t=i.value,n=[];return n.push(this.selectable?["data_inativacao",t.inativos?"!=":"==",null]:["inativos","==",t.inativos]),t.entidade_id?.length&&n.push(["entidade_id","==",t.entidade_id]),t.nome?.length&&n.push(["or",["nome","like","%"+t.nome.trim().replace(" ","%")+"%"],["sigla","like","%"+t.nome.trim().replace(" ","%")+"%"]]),t.instituidora&&n.push(["instituidora","==",1]),n},this.join=["cidade","unidade_pai:id,sigla","entidade:id,sigla","gestor.usuario:id","gestores_substitutos.usuario:id"],this.cidadeDao=a.get(z.l),this.entidadeDao=a.get(R.i),this.code="MOD_CFG_UND",this.filter=this.fh.FormBuilder({entidade_id:{default:this.auth.unidade?.entidade_id},inativos:{default:!1},instituidora:{default:!1},nome:{default:""}}),this.groupBy=[{field:"entidade.sigla",label:"Entidade"}],this.auth.hasPermissionTo("MOD_UND_UNIR")&&this.buttons.push({icon:"bi bi-arrows-collapse",color:"btn-outline-danger",label:"Unificar",onClick:i=>this.go.navigate({route:["configuracoes","unidade","merge"]},this.modalRefresh())}),this.addOption(this.OPTION_INFORMACOES,"MOD_UND"),this.addOption(this.OPTION_EXCLUIR,"MOD_UND_EXCL")}dynamicOptions(a){var i=this;let t=[],n=a;return this.auth.hasPermissionTo("MOD_UND_INATV")&&t.push({icon:n.data_inativacao?"bi bi-check-circle":"bi bi-x-circle",label:n.data_inativacao?"Reativar":"Inativar",onClick:(s=(0,m.Z)(function*(l){return yield i.inativo(l,!l.data_inativacao)}),function(r){return s.apply(this,arguments)})}),this.auth.hasPermissionTo("MOD_UND_INTG")&&t.push({label:"Integrantes",icon:"bi bi-people",onClick:s=>this.go.navigate({route:["configuracoes","unidade","",s.id,"integrante"]},{metadata:{unidade:a}})}),t;var s}inativo(a,i){var t=this;return(0,m.Z)(function*(){if(yield t.dialog.confirm(i?"Inativar":"Reativar",i?"Deseja realmente inativar essa unidade ("+a.nome+")?":"Deseja reativar essa unidade ("+a.nome+")?"))try{t.submitting=!0,yield t.dao.inativar(a.id,i),yield t.modalRefreshId(a).modalClose(void 0)}finally{t.submitting=!1}})()}filterClear(a){super.filterClear(a)}get labelInfoInativas(){return this.selectable?"Se lista s\xf3 as unidades inativas":"Se lista tamb\xe9m as unidades inativas"}static#e=this.\u0275fac=function(i){return new(i||A)(e.Y36(e.zs3))};static#t=this.\u0275cmp=e.Xpm({type:A,selectors:[["unidade-list-grid"]],viewQuery:function(i,t){if(1&i&&(e.Gf(v.M,5),e.Gf(ve,5)),2&i){let n;e.iGM(n=e.CRH())&&(t.grid=n.first),e.iGM(n=e.CRH())&&(t.instituidora=n.first)}},inputs:{selectable:"selectable",snapshot:"snapshot"},features:[e.qOj],decls:23,vars:34,consts:[["class","my-2",4,"ngIf"],[3,"dao","add","orderBy","groupBy","join","selectable","hasAdd","hasEdit","select"],[3,"buttons",4,"ngIf"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["label","Nome","controlName","nome","placeholder","Nome ou sigla...",3,"size","control"],["label","Instit.","labelClass","text-nowrap","controlName","instituidora",3,"size","control","labelInfo"],["instituidora",""],["label","Inativos","controlName","inativos",3,"size","control","labelInfo"],["title","Sigla","field","sigla"],["title","Nome","orderBy","nome",3,"template"],["columnNome",""],["title","C\xf3digo","field","codigo"],[3,"title","template"],["columnCidade",""],["title","Situa\xe7\xe3o",3,"template"],["columnSituacao",""],["type","options",3,"onEdit","options","dynamicOptions"],[3,"rows"],[1,"my-2"],[3,"buttons"],[1,"d-block"],["class","badge bg-light text-dark",4,"ngIf"],[1,"badge","bg-light","text-dark"],[1,"bi","bi-arrow-return-right"],[1,"one-per-line"],["color","primary","icon","bi bi-star","label","Instituidora",4,"ngIf"],[3,"color","icon","label"],["color","primary","icon","bi bi-star","label","Instituidora"]],template:function(i,t){if(1&i&&(e.YNc(0,Ie,2,1,"h3",0),e.TgZ(1,"grid",1),e.NdJ("select",function(s){return t.onSelect(s)}),e.YNc(2,Ue,1,1,"toolbar",2),e.TgZ(3,"filter",3)(4,"div",4),e._UZ(5,"input-text",5)(6,"input-switch",6,7)(8,"input-switch",8),e.qZA()(),e.TgZ(9,"columns"),e._UZ(10,"column",9),e.TgZ(11,"column",10),e.YNc(12,Te,3,2,"ng-template",null,11,e.W1O),e.qZA(),e._UZ(14,"column",12),e.TgZ(15,"column",13),e.YNc(16,ye,2,1,"ng-template",null,14,e.W1O),e.qZA(),e.TgZ(18,"column",15),e.YNc(19,Ce,3,4,"ng-template",null,16,e.W1O),e.qZA(),e._UZ(21,"column",17),e.qZA(),e._UZ(22,"pagination",18),e.qZA()),2&i){const n=e.MAs(13),s=e.MAs(17),l=e.MAs(20);e.Q6J("ngIf",t.isModal),e.xp6(1),e.Q6J("dao",t.dao)("add",t.add)("orderBy",t.orderBy)("groupBy",t.groupBy)("join",t.join)("selectable",t.selectable)("hasAdd",t.auth.hasPermissionTo("MOD_UND_INCL"))("hasEdit",t.auth.hasPermissionTo("MOD_UND_EDT")),e.xp6(1),e.Q6J("ngIf",!t.selectable),e.xp6(1),e.Q6J("deleted",t.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",t.filter)("where",t.filterWhere)("submit",t.filterSubmit.bind(t))("clear",t.filterClear.bind(t))("collapseChange",t.filterCollapseChange.bind(t))("collapsed",!t.selectable&&t.filterCollapsed),e.xp6(2),e.Q6J("size",10)("control",t.filter.controls.nome),e.uIk("maxlength",250),e.xp6(1),e.Q6J("size",1)("control",t.filter.controls.instituidora)("labelInfo","Se lista SOMENTE as "+t.lex.translate("unidades")+" instituidoras de "+t.lex.translate("programas")),e.xp6(2),e.Q6J("size",1)("control",t.filter.controls.inativos)("labelInfo",t.labelInfoInativas),e.xp6(3),e.Q6J("template",n),e.xp6(4),e.Q6J("title",t.lex.translate("Cidade"))("template",s),e.xp6(3),e.Q6J("template",l),e.xp6(3),e.Q6J("onEdit",t.edit)("options",t.options)("dynamicOptions",t.dynamicOptions.bind(t)),e.xp6(1),e.Q6J("rows",t.rowsLimit)}},dependencies:[h.O5,v.M,x.a,Q.b,_e.z,V.n,be.Q,E.a,F.m,H.F]})}var w=d(75471),De=d(59838),Y=d(3209);function Ee(o,a){if(1&o&&(e.TgZ(0,"div",4),e._uU(1),e.qZA()),2&o){const i=a.$implicit;e.xp6(1),e.Oqu(i.label)}}class T extends M.E{constructor(a){super(a,g.b,_.J),this.injector=a,this.data=[],this.dao=a.get(_.J)}ngAfterViewInit(){super.ngAfterViewInit(),this.carregaUnidades()}carregaUnidades(){var a=this;return(0,m.Z)(function*(){let i=a.auth.usuario?.lotacao?.unidade_id,t=yield a.dao.hierarquiaUnidades(i),n=[],s=i;for(;s;){let u=t.find(c=>c.id===s);if(!u)break;n.unshift(s),s=u.unidade_pai_id||void 0}let l=u=>t.filter(c=>c.unidade_pai_id===u).map(c=>({type:"unidade",label:c.sigla,expanded:i!==c.id&&n.includes(c.id),styleClass:i==c.id?"text-bg-primary":"",data:{hint:c.nome,unidade:c},children:r(c.id)?l(c.id):[{type:"fake",expanded:!1,label:"Carregando..."}]})),r=u=>t.some(c=>c.unidade_pai_id===u);a.data=l(null)})()}expandeUnidade(a){this.carregaFilhas(a.node.data.unidade.id,a.node)}carregaFilhas(a,i){var t=this;return(0,m.Z)(function*(){let n=yield t.dao.unidadesFilhas(a);i.children=n.map(s=>({type:"unidade",label:s.sigla,expanded:!1,data:{unidade:s,hint:s.nome},children:[{type:"fake",expanded:!1,label:"Carregando..."}]}))})()}static#e=this.\u0275fac=function(i){return new(i||T)(e.Y36(e.zs3))};static#t=this.\u0275cmp=e.Xpm({type:T,selectors:[["unidade-mapa"]],features:[e.qOj],decls:4,vars:1,consts:[["autoHeightDisabled","false","track","all"],[1,"my-3"],[3,"value","onNodeExpand"],["pTemplate","unidade"],[1,"font-bold"]],template:function(i,t){1&i&&(e.TgZ(0,"ng-scrollbar",0)(1,"div",1)(2,"p-organizationChart",2),e.NdJ("onNodeExpand",function(s){return t.expandeUnidade(s)}),e.YNc(3,Ee,2,1,"ng-template",3),e.qZA()()()),2&i&&(e.xp6(2),e.Q6J("value",t.data))},dependencies:[w.OE,De.jx,Y.KC]})}function Ne(o,a){if(1&o&&e._UZ(0,"unidade-list-grid",4),2&o){const i=e.oxw();e.Q6J("selectable",i.selectable)("snapshot",i.snapshot||i.modalRoute||i.route.snapshot)}}function Oe(o,a){1&o&&e._UZ(0,"unidade-mapa")}function Me(o,a){if(1&o&&(e.TgZ(0,"tab",5),e.YNc(1,Oe,1,0,"ng-template",null,6,e.W1O),e.qZA()),2&o){const i=e.MAs(2);e.Q6J("template",i)}}class I extends M.E{constructor(a){super(a,g.b,_.J),this.injector=a,this.filterWhere=i=>{i.value;return[]},this.title=this.lex.translate("Unidades"),this.code="MOD_CFG_UND",this.filter=this.fh.FormBuilder({})}ngAfterViewInit(){super.ngAfterViewInit(),this.tabs.active=["TABELA","MAPA"].includes(this.usuarioConfig.active_tab)?this.usuarioConfig.active_tab:"TABELA"}onSelectTab(a){var i=this;return(0,m.Z)(function*(){i.viewInit&&i.saveUsuarioConfig({active_tab:a.key})})()}filterClear(a){a.controls.nome.setValue(""),super.filterClear(a)}static#e=this.\u0275fac=function(i){return new(i||I)(e.Y36(e.zs3))};static#t=this.\u0275cmp=e.Xpm({type:I,selectors:[["app-unidade-list"]],viewQuery:function(i,t){if(1&i&&(e.Gf(v.M,5),e.Gf(O.n,5)),2&i){let n;e.iGM(n=e.CRH())&&(t.grid=n.first),e.iGM(n=e.CRH())&&(t.tabs=n.first)}},features:[e.qOj],decls:5,vars:4,consts:[["right","",3,"title","select"],["key","TABELA","icon","bi bi-table","label","Lista",3,"template"],["grid",""],["key","MAPA","icon","bi bi-card-heading","label","Mapa",3,"template",4,"ngIf"],[3,"selectable","snapshot"],["key","MAPA","icon","bi bi-card-heading","label","Mapa",3,"template"],["mapa",""]],template:function(i,t){if(1&i&&(e.TgZ(0,"tabs",0)(1,"tab",1),e.YNc(2,Ne,1,2,"ng-template",null,2,e.W1O),e.qZA(),e.YNc(4,Me,3,1,"tab",3),e.qZA()),2&i){const n=e.MAs(3);e.Q6J("title",t.isModal?"":t.title)("select",t.onSelectTab.bind(t)),e.xp6(1),e.Q6J("template",n),e.xp6(3),e.Q6J("ngIf",!t.selectable)}},dependencies:[h.O5,O.n,L.i,A,T]})}var B=d(76298),xe=d(50933);const Qe=["unidadeOrigem"],Je=["unidadeDestino"];function Ge(o,a){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"small"),e._uU(4),e.qZA()),2&o){const i=a.row;e.xp6(1),e.Oqu((null==i.unidade_origem?null:i.unidade_origem.nome)||""),e.xp6(3),e.AsE("",(null==i.unidade_origem?null:i.unidade_origem.codigo)||""," - ",(null==i.unidade_origem?null:i.unidade_origem.sigla)||"","")}}const ze=function(){return["inativo","!=",null]},W=function(o){return[o]},j=function(){return["configuracoes","unidade"]},Re=function(){return{inativos:!0}},k=function(o){return{filter:o}},X=function(o,a){return{route:o,params:a}};function Se(o,a){if(1&o&&e._UZ(0,"input-search",12,13),2&o){const i=e.oxw();e.Q6J("size",12)("dao",i.dao)("where",e.VKq(5,W,e.DdM(4,ze)))("selectRoute",e.WLB(11,X,e.DdM(7,j),e.VKq(9,k,e.DdM(8,Re))))}}function Fe(o,a){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"small"),e._uU(4),e.qZA()),2&o){const i=a.row;e.xp6(1),e.Oqu((null==i.unidade_destino?null:i.unidade_destino.nome)||""),e.xp6(3),e.AsE("",(null==i.unidade_destino?null:i.unidade_destino.codigo)||""," - ",(null==i.unidade_destino?null:i.unidade_destino.sigla)||"","")}}const Pe=function(){return["inativo","==",null]},qe=function(){return{inativos:!1}};function Le(o,a){if(1&o&&e._UZ(0,"input-search",14,15),2&o){const i=e.oxw();e.Q6J("size",12)("dao",i.dao)("where",e.VKq(5,W,e.DdM(4,Pe)))("selectRoute",e.WLB(11,X,e.DdM(7,j),e.VKq(9,k,e.DdM(8,qe))))}}class y extends B.D{constructor(a){super(a),this.injector=a,this.items=[],this.toolbarButtons=[{icon:"bi bi-yin-yang",label:"Mesma sigla",hint:"Unificar todos que tenham a mesma sigla. Sendo a inativa considerada como origem.",onClick:this.onMesmaSiglaClick.bind(this)}],this.validate=(i,t)=>null,this.dao=a.get(_.J),this.form=this.fh.FormBuilder({exclui_origem:{default:!1},origem_inativo:{default:!0},unidade_origem_id:{default:""},unidade_destino_id:{default:""}},this.cdRef,this.validate)}onMesmaSiglaClick(){this.loading=!0,this.dao.mesmaSigla().then(a=>{let i=[];i=a.reduce((r,u)=>(!u.data_inativacao&&!r.find(c=>c.sigla==u.sigla)&&r.push(u),r),i);let t=i.map(r=>r.id),n=a.filter(r=>!t.includes(r.id)&&!!r.data_inativacao),s=n.map(r=>r.id);this.items=[];for(let r of n){let u=i.find(c=>c.sigla==r.sigla);u&&this.items.push({id:this.dao.generateUuid(),unidade_origem_id:r.id,unidade_destino_id:u.id,unidade_origem:r,unidade_destino:u})}let l=[];for(let r of a)!t.includes(r.id)&&!s.includes(r.id)&&l.push(r.codigo+" - "+r.sigla+" - "+r.nome);l.length&&(this.editableForm.error=(1==l.length?"A unidade abaixo possui duplicidade de SIGLA, mas n\xe3o est\xe1 inativa:":"As unidades abaixo possuem duplicidade de SIGLA, mas n\xe3o est\xe3o inativas:")+"\n"+l.join("\n"))}).finally(()=>{this.loading=!1})}addMerge(){var a=this;return(0,m.Z)(function*(){return{id:a.dao.generateUuid(),unidade_origem_id:"",unidade_destino_id:"",unidade_origem:void 0,unidade_destino:void 0}})()}loadMerge(a,i){return(0,m.Z)(function*(){a.controls.unidade_origem_id.setValue(i.unidade_origem_id),a.controls.unidade_destino_id.setValue(i.unidade_destino_id)})()}removeMerge(a){return(0,m.Z)(function*(){return!0})()}saveMerge(a,i){var t=this;return(0,m.Z)(function*(){let n;return(t.form.controls.unidade_origem_id.value?.length||t.form.controls.unidade_destino_id.value?.length)&&(i.unidade_origem_id=a.controls.unidade_origem_id.value,i.unidade_origem=t.unidadeOrigem?.selectedEntity||(yield t.dao?.getById(i.unidade_origem_id)),i.unidade_destino_id=a.controls.unidade_destino_id.value,i.unidade_destino=t.unidadeDestino?.selectedEntity||(yield t.dao?.getById(i.unidade_destino_id)),n=i),n})()}onMerge(){let a;for(let i of this.items)a=a||(i.unidade_origem_id?.length&&i.unidade_destino_id?.length?void 0:"A origem e o destino precisam estar preenchidos em todos");this.editableForm.error=a,a?.length||(this.loading=!0,this.dao.unificar(this.items.map(i=>Object.assign({},{unidade_origem_id:i.unidade_origem_id,unidade_destino_id:i.unidade_destino_id})),this.form.controls.exclui_origem.value).then(i=>{i&&this.close()}).finally(()=>{this.loading=!1}))}static#e=this.\u0275fac=function(i){return new(i||y)(e.Y36(e.zs3))};static#t=this.\u0275cmp=e.Xpm({type:y,selectors:[["app-unidade-merge"]],viewQuery:function(i,t){if(1&i&&(e.Gf(U.Q,5),e.Gf(Qe,5),e.Gf(Je,5)),2&i){let n;e.iGM(n=e.CRH())&&(t.editableForm=n.first),e.iGM(n=e.CRH())&&(t.unidadeOrigem=n.first),e.iGM(n=e.CRH())&&(t.unidadeDestino=n.first)}},features:[e.qOj],decls:17,vars:16,consts:[["confirmLabel","Unificar",3,"form","title","submit","cancel"],["type","warning","message","Por motivos de seguran\xe7a ser\xe1 permitido somente unificar unidades inativas para unidade ativas. E caso [Exclui origem] n\xe3o esteja habilitado, a unidade de origem continuar\xe1 na lista (como inativa)."],[3,"buttons"],["labelPosition","left","label","Exclui origem","controlName","exclui_origem",3,"size"],["editable","",3,"items","form","add","load","remove","save"],["titleHint","Unidade que ser\xe1 substitu\xedda pela outra",3,"title","template","editTemplate"],["columnUnidadeOrigem",""],["editUnidadeOrigem",""],["titleHint","Unidade que sobrar\xe1 ap\xf3s a unifica\xe7\xe3o",3,"title","template","editTemplate"],["columnUnidadeDestino",""],["editUnidadeDestino",""],["type","options"],["label","","icon","","controlName","unidade_origem_id",3,"size","dao","where","selectRoute"],["unidade_origem",""],["label","","icon","","controlName","unidade_destino_id",3,"size","dao","where","selectRoute"],["unidade_destino",""]],template:function(i,t){if(1&i&&(e.TgZ(0,"editable-form",0),e.NdJ("submit",function(){return t.onMerge()})("cancel",function(){return t.onCancel()}),e._UZ(1,"top-alert",1),e.TgZ(2,"toolbar",2),e._UZ(3,"input-switch",3),e.qZA(),e.TgZ(4,"grid",4)(5,"columns")(6,"column",5),e.YNc(7,Ge,5,3,"ng-template",null,6,e.W1O),e.YNc(9,Se,2,14,"ng-template",null,7,e.W1O),e.qZA(),e.TgZ(11,"column",8),e.YNc(12,Fe,5,3,"ng-template",null,9,e.W1O),e.YNc(14,Le,2,14,"ng-template",null,10,e.W1O),e.qZA(),e._UZ(16,"column",11),e.qZA()()()),2&i){const n=e.MAs(8),s=e.MAs(10),l=e.MAs(13),r=e.MAs(15);e.Q6J("form",t.form)("title",t.isModal?"":t.title),e.xp6(2),e.Q6J("buttons",t.toolbarButtons),e.xp6(1),e.Q6J("size",4),e.xp6(1),e.Q6J("items",t.items)("form",t.form)("add",t.addMerge.bind(t))("load",t.loadMerge.bind(t))("remove",t.removeMerge.bind(t))("save",t.saveMerge.bind(t)),e.xp6(2),e.Q6J("title",t.lex.translate("Unidade")+" origem")("template",n)("editTemplate",s),e.xp6(5),e.Q6J("title",t.lex.translate("Unidade")+" destino")("template",l)("editTemplate",r)}},dependencies:[v.M,x.a,Q.b,V.n,U.Q,E.a,N.V,xe.o]})}var Ve=d(88631),He=d(27918),we=d(65298),Ye=d(2729);const Be=["usuario"];function We(o,a){if(1&o&&(e.TgZ(0,"span")(1,"strong"),e._uU(2),e.qZA()()),2&o){const i=e.oxw();e.xp6(2),e.Oqu("Unidade: "+((null==i.entity?null:i.entity.nome)||""))}}function je(o,a){if(1&o&&(e.TgZ(0,"div",11)(1,"div",12),e._UZ(2,"profile-picture",13),e.qZA(),e.TgZ(3,"div",14)(4,"strong"),e._uU(5),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"small"),e._uU(8),e.qZA()()()),2&o){const i=a.row;e.xp6(2),e.Q6J("url",i.usuario_url_foto||"")("size",40)("hint",i.usuario_nome||""),e.xp6(3),e.Oqu(i.usuario_nome||""),e.xp6(3),e.Oqu(i.usuario_apelido||"")}}function ke(o,a){if(1&o&&e._UZ(0,"input-search",15,16),2&o){const i=e.oxw(),t=e.MAs(1);e.Q6J("disabled",null!=t&&t.adding?void 0:"true")("size",12)("dao",i.usuarioDao)}}function Xe(o,a){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"badge",18)(2,"br"),e.qZA()),2&o){const i=a.$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("color",t.lookup.getColor(t.lookup.UNIDADE_INTEGRANTE_TIPO,i||""))("icon",t.lookup.getIcon(t.lookup.UNIDADE_INTEGRANTE_TIPO,i||""))("label",t.lookup.getValue(t.lookup.UNIDADE_INTEGRANTE_TIPO,i||""))}}function Ke(o,a){if(1&o&&e.YNc(0,Xe,3,3,"div",17),2&o){const i=a.row;e.Q6J("ngForOf",i.atribuicoes)}}function $e(o,a){if(1&o&&(e.TgZ(0,"input-multiselect",19),e._UZ(1,"input-select",20),e.qZA()),2&o){const i=e.oxw();e.Q6J("size",8)("addItemHandle",i.addItemHandle.bind(i))("deleteItemHandle",i.deleteItemHandle.bind(i)),e.xp6(1),e.Q6J("size",12)("items",i.tiposAtribuicao)}}function et(o,a){if(1&o&&e._UZ(0,"badge",21)(1,"br"),2&o){const i=a.row,t=e.oxw();e.Q6J("label",t.getPerfil(i.id)||"")}}function tt(o,a){if(1&o&&e._UZ(0,"input-select",22),2&o){const i=e.oxw();e.Q6J("size",12)("label",i.lex.translate("Perfil"))("dao",i.perfilDao)}}class Z extends B.D{set control(a){super.control=a}get control(){return super.control}set entity(a){super.entity=a}get entity(){return super.entity}set noPersist(a){super.noPersist=a}get noPersist(){return super.noPersist}constructor(a){super(a),this.injector=a,this.items=[],this.perfis=[],this.tiposAtribuicao=[],this.validate=(i,t)=>{let n=null;return["usuario_id","atribuicoes"].includes(t)&&!i.value?.length&&(n="Obrigat\xf3rio"),"usuario_id"==t&&this.grid?.adding&&this.items.map(s=>s.id).includes(i.value)&&(n="O usu\xe1rio j\xe1 \xe9 integrante desta unidade. Edite-o, ao inv\xe9s de inclu\xed-lo novamente!"),n},this.formValidation=i=>{let t=i.controls.atribuicoes.value;if(this.util.array_diff(["GESTOR","GESTOR_SUBSTITUTO","GESTOR_DELEGADO"],t.map(n=>n.key)||[]).length<2)return"A um mesmo servidor s\xf3 pode ser atribu\xedda uma fun\xe7\xe3o de gestor (titular, substituto ou delegado), para uma mesma Unidade!"},this.integranteService=a.get(He.X),this.integranteDao=a.get(Ve.o),this.usuarioDao=a.get(S.q),this.perfilDao=a.get(we.r),this.form=this.fh.FormBuilder({usuario_id:{default:""},atribuicoes:{default:void 0},atribuicao:{default:""},perfil_id:{default:null}},this.cdRef,this.validate)}ngOnInit(){super.ngOnInit(),this.entity=this.metadata?.unidade,this.tiposAtribuicao=this.lookup.UNIDADE_INTEGRANTE_TIPO}ngAfterViewInit(){var a=this;(0,m.Z)(function*(){yield a.loadData(a.entity,a.form)})()}loadData(a,i){var t=this;return(0,m.Z)(function*(){if(a.id){let n=[],s=[];t.loading=!0;try{yield t.integranteDao.carregarIntegrantes(a.id,"").then(l=>n=l.integrantes.filter(r=>r.atribuicoes?.length>0)),n.forEach(l=>s.push(l.id)),t.perfis=yield t.usuarioDao.query({where:[["id","in",s]]}).asPromise()}finally{t.loading=!1,t.items=[],n.forEach(l=>t.items?.push(t.integranteService.completarIntegrante(l,a.id,l.id,l.atribuicoes))),t.items=t.integranteService.ordenarIntegrantes(t.items),t.cdRef.detectChanges(),t.grid.loading=!1}}})()}getPerfil(a){return this.perfis.find(t=>t.id==a)?.perfil?.nome}addItemHandle(){let a;const i=this.lookup.getValue(this.lookup.UNIDADE_INTEGRANTE_TIPO,this.form.controls.atribuicao.value),t=this.form.controls.atribuicao.value;if(i?.length&&this.util.validateLookupItem(this.form.controls.atribuicoes.value,t)){a={key:t,value:i,icon:this.lookup.getIcon(this.lookup.UNIDADE_INTEGRANTE_TIPO,this.form.controls.atribuicao.value),color:this.lookup.getColor(this.lookup.UNIDADE_INTEGRANTE_TIPO,this.form.controls.atribuicao.value)},this.form.controls.atribuicao.setValue("")}return a}deleteItemHandle(a){return this.integranteService.ehPermitidoApagar(a.key)}carregarIntegrante(a,i){var t=this;return(0,m.Z)(function*(){let n=t.perfis.find(s=>s.id==i.id);a.controls.usuario_id.setValue(t.grid?.adding?i.usuario_id:i.id),a.controls.perfil_id.setValue(n?.perfil_id),a.controls.atribuicoes.setValue(t.integranteService.converterAtribuicoes(i.atribuicoes)),a.controls.atribuicao.setValue("")})()}adicionarIntegrante(){var a=this;return(0,m.Z)(function*(){return a.grid&&(a.grid.error=""),{id:a.integranteDao.generateUuid(),usuario_id:"",atribuicoes:[]}})()}removerIntegrante(a){var i=this;return(0,m.Z)(function*(){if(a.atribuicoes[0].includes("LOTADO"))yield i.dialog.alert("IMPOSS\xcdVEL EXCLUIR !","O v\xednculo que inclui "+i.lex.translate("a lota\xe7\xe3o")+" "+i.lex.translate("do servidor")+" n\xe3o pode ser exclu\xeddo. Se desejar excluir as demais atribui\xe7\xf5es, edite o v\xednculo. Se deseja alterar "+i.lex.translate("a lota\xe7\xe3o")+", lote-o em outra "+i.lex.translate("Unidade")+".");else if(yield i.dialog.confirm("Exclui ?","Deseja realmente excluir todas as atribui\xe7\xf5es "+i.lex.translate("do servidor")+a.usuario_nome?.toUpperCase()+" "+i.lex.translate("na unidade")+" "+i.entity.sigla.toUpperCase()+" ?")){let n;try{if(i.isNoPersist)return Object.assign(a,{_status:"DELETE",atribuicoes:[]}),!1;i.loading=!0,yield i.integranteDao.salvarIntegrantes([i.integranteService.completarIntegrante(a,i.entity.id,a.id,[])]).then(s=>{(n=s.find(l=>l._metadata.msg?.length)?._metadata.msg)&&i.grid&&(i.grid.error=n)}),yield i.loadData({id:i.entity.id},i.form)}finally{i.loading=!1}}return!1})()}salvarIntegrante(a,i){var t=this;return(0,m.Z)(function*(){let n=t.lookup.uniqueLookupItem(a.controls.atribuicoes.value);a.controls.atribuicoes.setValue(n),t.grid&&(t.grid.error=""),t.cdRef.detectChanges();let s=t.formValidation(a);if(s)yield t.dialog.alert("Imposs\xedvel incluir/alterar o servidor!",s);else{let l=!0,r=t.integranteService.haAlteracaoGerencia(n.map(u=>u.key),Object.assign(i,{usuario_nome:t.usuario?.selectedItem?.entity.nome}),t.grid?.items||[],t.entity?.sigla||"");if("nenhuma"!=r[0]){if(l=yield t.dialog.confirm("CONFIRMA A ALTERA\xc7\xc3O DA CHEFIA ?",r[2]),!l)return;if("troca"===r[0])t.grid.items[r[1]].atribuicoes=t.grid.items[r[1]].atribuicoes.filter(u=>!["GESTOR"].includes(u));n=t.integranteService.inserirAtribuicao(n,"LOTADO"),a.controls.atribuicoes.setValue(n),t.loading=!0}try{t.isNoPersist?(i.id=t.usuario?.selectedEntity.id,t.grid.items=t.integranteService.substituirItem({id:i.id,itens:t.grid?.items||[],apelidoOuSigla:t.usuario?.selectedItem?.entity.apelido,nome:t.usuario?.selectedItem?.entity.nome,codigo:""},n.map(u=>u.key),new g.b(t.entity))):(yield t.integranteDao.salvarIntegrantes([Object.assign({_metadata:{perfil_id:a.controls.perfil_id.value}},t.integranteService.completarIntegrante(i,t.entity.id,a.controls.usuario_id.value,n.map(u=>u.key)))]).then(u=>{let c;(c=u?.find(dt=>dt._metadata.msg?.length)?._metadata.msg)&&t.dialog.alert("ATEN\xc7\xc3O: ERRO!",c)}),yield t.loadData({id:t.entity.id},t.form),t.grid&&(t.grid.error="")),t.cdRef.detectChanges()}catch(u){t.grid&&(t.grid.error=u),yield t.loadData({id:t.entity.id},t.form)}finally{t.loading=!1}}})()}static#e=this.\u0275fac=function(i){return new(i||Z)(e.Y36(e.zs3))};static#t=this.\u0275cmp=e.Xpm({type:Z,selectors:[["unidade-integrante"]],viewQuery:function(i,t){if(1&i&&(e.Gf(v.M,5),e.Gf(Be,5)),2&i){let n;e.iGM(n=e.CRH())&&(t.grid=n.first),e.iGM(n=e.CRH())&&(t.usuario=n.first)}},inputs:{control:"control",entity:"entity",noPersist:"noPersist"},features:[e.qOj],decls:20,vars:21,consts:[["editable","",3,"items","minHeight","form","hasDelete","add","load","remove","save"],["grid",""],[4,"ngIf"],[3,"title","template","editTemplate","maxWidth"],["columnUsuario",""],["editUsuario",""],["columnAtribuicoes",""],["editAtribuicoes",""],["columnPerfil",""],["editPerfil",""],["type","options"],[1,"d-flex"],[1,"ms-3"],[3,"url","size","hint"],[1,"flex-fill","ms-3"],["label","","icon","","controlName","usuario_id",3,"disabled","size","dao"],["usuario",""],[4,"ngFor","ngForOf"],[3,"color","icon","label"],["controlName","atribuicoes",3,"size","addItemHandle","deleteItemHandle"],["label","","icon","fas fa-sign-out-alt","controlName","atribuicao",3,"size","items"],["color","gray",3,"label"],["controlName","perfil_id","required","",3,"size","label","dao"]],template:function(i,t){if(1&i&&(e.TgZ(0,"grid",0,1),e.YNc(2,We,3,1,"span",2),e.TgZ(3,"columns")(4,"column",3),e.YNc(5,je,9,5,"ng-template",null,4,e.W1O),e.YNc(7,ke,2,3,"ng-template",null,5,e.W1O),e.qZA(),e.TgZ(9,"column",3),e.YNc(10,Ke,1,1,"ng-template",null,6,e.W1O),e.YNc(12,$e,2,5,"ng-template",null,7,e.W1O),e.qZA(),e.TgZ(14,"column",3),e.YNc(15,et,2,1,"ng-template",null,8,e.W1O),e.YNc(17,tt,1,3,"ng-template",null,9,e.W1O),e.qZA(),e._UZ(19,"column",10),e.qZA()()),2&i){const n=e.MAs(6),s=e.MAs(8),l=e.MAs(11),r=e.MAs(13),u=e.MAs(16),c=e.MAs(18);e.Q6J("items",t.items)("minHeight",500)("form",t.form)("hasDelete",!0)("add",t.adicionarIntegrante.bind(t))("load",t.carregarIntegrante.bind(t))("remove",t.removerIntegrante.bind(t))("save",t.salvarIntegrante.bind(t)),e.xp6(2),e.Q6J("ngIf",!t.isNoPersist),e.xp6(2),e.Q6J("title",t.lex.translate("Usu\xe1rios"))("template",n)("editTemplate",s)("maxWidth",150),e.xp6(5),e.Q6J("title",t.lex.translate("Atribui\xe7\xf5es"))("template",l)("editTemplate",r)("maxWidth",200),e.xp6(5),e.Q6J("title",t.lex.translate("Perfil"))("template",u)("editTemplate",t.auth.hasPermissionTo("MOD_CFG_USER_PERFIL")?c:u)("maxWidth",300)}},dependencies:[h.sg,h.O5,v.M,x.a,Q.b,N.V,P.p,q.p,H.F,Ye.q]})}const it=[{path:"",component:I,canActivate:[f.a],resolve:{config:p.o},runGuardsAndResolvers:"always",data:{title:"Unidades"}},{path:"new",component:b,canActivate:[f.a],resolve:{config:p.o},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o de Unidade",modal:!0}},{path:":id/edit",component:b,canActivate:[f.a],resolve:{config:p.o},runGuardsAndResolvers:"always",data:{title:"Edi\xe7\xe3o de Unidade",modal:!0}},{path:":id/consult",component:b,canActivate:[f.a],resolve:{config:p.o},runGuardsAndResolvers:"always",data:{title:"Consulta a Unidade",modal:!0}},{path:":id/:idUnidade/integrante",component:Z,canActivate:[f.a],resolve:{config:p.o},runGuardsAndResolvers:"always",data:{title:"Integrantes da Unidade",modal:!0}},{path:":id/subordinadas",component:I,canActivate:[f.a],resolve:{config:p.o},runGuardsAndResolvers:"always",data:{title:"Unidades subordinadas"}},{path:"merge",component:y,canActivate:[f.a],resolve:{config:p.o},runGuardsAndResolvers:"always",data:{title:"Unifica\xe7\xe3o",modal:!0}}];class C{static#e=this.\u0275fac=function(i){return new(i||C)};static#t=this.\u0275mod=e.oAB({type:C});static#i=this.\u0275inj=e.cJS({imports:[G.Bz.forChild(it),G.Bz]})}var at=d(31415),nt=d(72133),ot=d(32864);class D{static#e=this.\u0275fac=function(i){return new(i||D)};static#t=this.\u0275mod=e.oAB({type:D});static#i=this.\u0275inj=e.cJS({imports:[h.ez,at.K,ot.UteisModule,nt.UX,C,w.lC,Y.kb]})}}}]);