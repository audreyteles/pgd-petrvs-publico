{"version":3,"sources":["./src/app/modules/gestao/planejamento-institucional/planejamento-form-objetivo/planejamento-form-objetivo.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form-objetivo/planejamento-form-objetivo.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-routing.module.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivo/planejamento-list-objetivo.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivo/planejamento-list-objetivo.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-list/planejamento-list.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list/planejamento-list.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento.module.ts","./src/app/models/planejamento-objetivo.model.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form/planejamento-form.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form/planejamento-form.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-mapa/planejamento-mapa.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-mapa/planejamento-mapa.component.html","./src/app/models/planejamento.model.ts"],"names":[],"mappings":"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","file":"default~modules-gestao-planejamento-institucional-planejamento-module~modules-gestao-plano-entrega-p~5acad0df.js","sourcesContent":["import { Component, Injector, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\nimport { InputTextComponent } from 'src/app/components/input/input-text/input-text.component';\nimport { EixoTematicoDaoService } from 'src/app/dao/eixo-tematico-dao.service';\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\nimport { Planejamento } from 'src/app/models/planejamento.model';\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { NavigateResult } from 'src/app/services/navigate.service';\n\n@Component({\n  selector: 'app-planejamento-form-objetivo',\n  templateUrl: './planejamento-form-objetivo.component.html',\n  styleUrls: ['./planejamento-form-objetivo.component.scss']\n})\nexport class PlanejamentoFormObjetivoComponent extends PageFormBase<PlanejamentoObjetivo, PlanejamentoObjetivoDaoService> {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @ViewChild('planejamentoSuperiorNome', {static: false}) public planejamentoSuperiorNome?: InputTextComponent;\n  @ViewChild('eixoTematico', {static: false}) public eixoTematico?: InputSearchComponent;\n\n  public planejamento?: Planejamento;\n  public objetivos: LookupItem[] = [];\n  public objetivos_superiores: LookupItem[] = [];\n  public planejamentoDao?: PlanejamentoDaoService;\n  public eixoTematicoDao?: EixoTematicoDaoService;\n\n  constructor(public injector: Injector) {\n    super(injector, PlanejamentoObjetivo, PlanejamentoObjetivoDaoService);\n    this.planejamentoDao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\n    this.eixoTematicoDao = injector.get<EixoTematicoDaoService>(EixoTematicoDaoService);\n    this.form = this.fh.FormBuilder({\n      nome: {default: \"\"},\n      fundamentacao: {default: \"\"},\n      planejamento_id: {default: null},\n      planejamento_superior_nome: {default: \"\"},\n      eixo_tematico_id: {default: null},\n      objetivo_superior_id: {default: null},\n      objetivo_pai_id: {default: null},\n    }, this.cdRef, this.validate);\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if(['nome','fundamentacao','eixo_tematico_id'].indexOf(controlName) >= 0 && !control.value?.length) {\n      result = \"Obrigatório\";\n    }\n    return result;\n  }\n\n  public formValidation = (form?: FormGroup) =>{\n    let result = null;\n\n    if(this.isPlanejamentoUNEX() && !this.form?.controls.objetivo_superior_id.value){\n      result = \"Quando o Planejamento é de uma Unidade Executora é obrigatório associar cada objetivo a um objetivo do Planejamento Institucional superior!\";\n    }\n\n    return result;\n  }\n\n  public async loadData(entity: PlanejamentoObjetivo, form: FormGroup) {\n    let formValue = Object.assign({}, form.value);\n    form.patchValue(this.util.fillForm(formValue, entity));\n    await this.eixoTematico?.loadSearch(entity.eixo_tematico || entity.eixo_tematico_id);\n    this.title = entity._status == 'ADD' ? 'Inclusão de Objetivo' : 'Editando objetivo...';\n    this.planejamento = this.metadata?.planejamento as Planejamento;\n/*  if(this.planejamento) this.planejamento.planejamento_superior = this.metadata.planejamento_superior as Planejamento || null;\n    if(this.planejamento.planejamento_superior) this.planejamento.planejamento_superior.objetivos = this.metadata?.objetivos_superiores || null;  */\n    this.form?.controls.planejamento_superior_nome.setValue(this.planejamento?.planejamento_superior?.nome || '');\n    this.objetivos_superiores = this.planejamento?.planejamento_superior?.objetivos?.map(x => Object.assign({}, { key: x.id, value: x.nome, data: x })) || [];\n  }\n\n  public async initializeData(form: FormGroup) {\n    this.entity = this.metadata?.objetivo as PlanejamentoObjetivo;\n    this.objetivos = (this.metadata?.objetivos as PlanejamentoObjetivo[]).map(x => Object.assign({}, {\n      key: x.id,\n      value: x.nome,\n      data: x\n    }));\n    await this.loadData(this.entity!, form);\n  }\n\n  public saveData(form: IIndexable): Promise<NavigateResult> {\n    return new Promise<NavigateResult>((resolve, reject) => {\n      const objetivo = this.util.fill(new PlanejamentoObjetivo(), this.entity!);\n      resolve(new NavigateResult(this.util.fillForm(objetivo, this.form!.value)));\n    });\n  }\n\n  public isPlanejamentoUNEX(): boolean {\n    return this.planejamento?.unidade_id != null;\n  }\n\n  public onObjetivoPaiChange(objetivoPai: InputSelectComponent) {\n    if(objetivoPai.selectedItem?.data?.eixo_tematico_id?.length) this.form!.controls.eixo_tematico_id.setValue(objetivoPai.selectedItem?.data.eixo_tematico_id); \n  }\n\n}\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\n    <div class=\"row\">\n        <div class=\"row\">\n            <input-search [size]=\"6\" #eixoTematico [disabled]=\"form?.controls?.objetivo_pai_id?.value ? 'true' : undefined\" controlName=\"eixo_tematico_id\" [dao]=\"eixoTematicoDao\"></input-search>                        \n            <input-select [size]=\"6\" #objetivoPai nullable [items]=\"objetivos\" label=\"Objetivo\" icon=\"fab fa-unity\" controlName=\"objetivo_pai_id\" (change)=\"onObjetivoPaiChange(objetivoPai)\"></input-select>                        \n        </div>\n        <div *ngIf=\"planejamento?.unidade_id\" class=\"row\">\n            <input-text #planejamento_superior_nome [size]=\"12\" class=\"disabled\" disabled=\"true\" label=\"Planejamento superior vinculado\" [icon]=\"entityService.getIcon('Planejamento')\" controlName=\"planejamento_superior_nome\"></input-text>                        \n        </div>\n        <div class=\"row\">\n            <input-text [size]=\"12\" icon=\"bi bi-textarea-t\" label=\"Nome\" controlName=\"nome\" [control]=\"form!.controls.nome\"></input-text>\n        </div>\n        <div class=\"row\">\n            <input-textarea icon=\"bi bi-textarea-t\" label=\"Fundamentação\" [size]=\"12\" [rows]=\"4\" controlName=\"fundamentacao\" [control]=\"form!.controls.fundamentacao\"></input-textarea>\n        </div>\n        <div *ngIf=\"planejamento?.unidade_id\" class=\"row\">\n            <input-select [items]=\"objetivos_superiores\" [size]=\"12\" label=\"Objetivo de planejamento superior (Vinculado)\" icon=\"fab fa-unity\" controlName=\"objetivo_superior_id\" [control]=\"form!.controls.objetivo_superior_id\"></input-select>\n        </div>\n    </div>\n</editable-form>\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { PlanejamentoFormComponent } from './planejamento-form/planejamento-form.component';\r\nimport { PlanejamentoListComponent } from './planejamento-list/planejamento-list.component';\r\nimport { PlanejamentoFormObjetivoComponent } from './planejamento-form-objetivo/planejamento-form-objetivo.component';\r\nimport { PlanejamentoListObjetivoComponent } from './planejamento-list-objetivo/planejamento-list-objetivo.component';\r\nimport { PlanejamentoListObjetivosEntregasComponent } from './planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: PlanejamentoListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Planejamentos Institucionais\" } },\r\n  { path: 'new', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão\", modal: true } },\r\n  { path: ':id/edit', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição\", modal: true } },\r\n  { path: ':id/consult', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consultar\", modal: true } },\r\n  { path: 'objetivo', component: PlanejamentoFormObjetivoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Objetivo\", modal: true } },\r\n  { path: 'objetivoList', component: PlanejamentoListObjetivosEntregasComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Lista de Objetivos\", modal: true } },\r\n  { path: 'objetivo/:id/consult', component: PlanejamentoFormObjetivoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consultar Objetivo\", modal: true } },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PlanejamentoRoutingModule { }\r\n","import { Component, Injector, Input, ViewChild } from '@angular/core';\nimport { AbstractControl } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\nimport { Planejamento } from 'src/app/models/planejamento.model';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\nimport { EixoTematicoDaoService } from 'src/app/dao/eixo-tematico-dao.service';\n\n@Component({\n  selector: 'planejamento-list-objetivo',\n  templateUrl: './planejamento-list-objetivo.component.html',\n  styleUrls: ['./planejamento-list-objetivo.component.scss']\n})\nexport class PlanejamentoListObjetivoComponent extends PageFrameBase {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\n  @Input() set entity(value: Planejamento | undefined) { super.entity = value; } get entity(): Planejamento | undefined { return super.entity; }\n  @Input() set disabled(value: boolean) { if (this._disabled != value) this._disabled = value; } get disabled(): boolean { return this._disabled; }\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\n  @Input() eixos?: EixoTematico[];\n\n  public get items(): PlanejamentoObjetivo[] {\n    if (!this.gridControl.value) this.gridControl.setValue(new Planejamento());\n    if (!this.gridControl.value.objetivos) this.gridControl.value.objetivos = [];\n    return this.gridControl.value.objetivos;\n  }\n  public minHeight: number = 350;\n  public options: ToolbarButton[] = [];\n  public objetivoDao?: PlanejamentoObjetivoDaoService;\n  public eixoDao?: EixoTematicoDaoService;\n  private _disabled: boolean = false;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.dao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\n    this.objetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\n    this.eixoDao = injector.get<EixoTematicoDaoService>(EixoTematicoDaoService);\n    this.groupBy = [{ field: \"eixo_tematico_id\", label: \"Eixo Temático\" }];\n    this.form = this.fh.FormBuilder({\n      nome: { default: \"\" },\n      fundamentacao: { default: \"\" },\n      planejamento_id: { default: null },\n      eixo_tematico_id: { default: null },\n      objetivo_superior_id: { default: null }\n    }, this.cdRef);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.entity = this.metadata?.entity || this.entity;\n    this.eixos = this.metadata?.eixos || this.eixos;\n    this.sortObjetivos();\n    if (!this.eixos) this.eixoDao?.query().getAll().then(eixos => {\n      this.eixos = eixos;\n    });\n  }\n\n  public dynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    let objetivo: PlanejamentoObjetivo = row as PlanejamentoObjetivo;\n    if (this.auth.hasPermissionTo('MOD_PLAN_INST_EDT') && !this.disabled) {\n      result.push({ hint: \"Alterar\", icon: \"bi bi-pencil-square\", color: \"btn-outline-info\", onClick: (objetivo: PlanejamentoObjetivo) => { this.editObjetivo(objetivo); } });\n    }\n    return result;\n  }\n\n  public dynamicOptions(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    let objetivo: PlanejamentoObjetivo = row as PlanejamentoObjetivo;\n    result.push({ label: \"Informações\", icon: \"bi bi-info-circle\", onClick: (objetivo: PlanejamentoObjetivo) => this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo', objetivo.id, 'consult'] }, { modal: true }) });\n    if (this.auth.hasPermissionTo('MOD_PLAN_INST_EXCL') && !this.disabled) {\n      result.push({ label: \"Excluir\", icon: \"bi bi-trash\", color: \"btn-outline-danger\", onClick: (objetivo: PlanejamentoObjetivo) => { this.removeObjetivo(objetivo); } });\n    }\n    return result;\n  }\n\n  public marcador(row: PlanejamentoObjetivo): string {\n    let level = row._metadata?.level || 0;\n    return level < 1 ? \"\" : (level < 2 ? \"• \" : (level < 3 ? \"- \" : \"+ \"));\n  }\n\n  public async addObjetivo() {\n    // ************ \n    // se for adicionar um objetivo num grid não persistente é necessário checar se o planejamento é da entidade ou da unidade, pois se\n    // se for de uma unidade será obrigatório já ter escolhido o planejamento superior\n    let objetivo = new PlanejamentoObjetivo({ \n      _status: \"ADD\", \n      id: this.dao!.generateUuid(),\n      planejamento_id: this.entity?.id\n    });\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\n      metadata: { \n        planejamento: this.entity!, \n        objetivo: objetivo,\n        objetivos: this.objetivosPai(objetivo.id) \n      },\n      modalClose: async (modalResult) => {\n        if (modalResult) {\n          try {\n            this.isNoPersist ? this.items.push(modalResult) : this.items.push(await this.objetivoDao!.save(modalResult)); \n            this.sortObjetivos();\n          } catch (error: any) {\n            this.error(error?.error || error?.message || error);            \n          }\n        };\n      }\n    });\n  }\n\n  public objetivosPai(filhoId: string) {\n    let items: PlanejamentoObjetivo[] = [];\n    let addItens = (list: PlanejamentoObjetivo[]) => {\n      for(let item of list) {\n        if(item.id != filhoId) {\n          items.push(item);\n          addItens(this.items.filter(x => x.objetivo_pai_id == item.id).sort((a,b) => a.sequencia - b.sequencia));\n        }\n      }\n    }\n    addItens(this.items.filter(x => !x.objetivo_pai_id).sort((a,b) => a.sequencia - b.sequencia));\n    return items;\n  }\n\n  public sortObjetivos() {\n    let items: PlanejamentoObjetivo[] = [];\n    let addItens = (list: PlanejamentoObjetivo[], level: number) => {\n      for(let item of list) {\n        item._metadata = Object.assign(item._metadata || {}, { level });\n        items.push(item);\n        if(item._status != \"DELETE\") addItens(this.items.filter(x => x.objetivo_pai_id == item.id).sort((a,b) => a.sequencia - b.sequencia), level + 1);\n      }\n    }\n    addItens(this.items.filter(x => !x.objetivo_pai_id).sort((a,b) => a.sequencia - b.sequencia), 0);\n    this.items.length = 0;\n    this.items.push(...items);\n    this.cdRef.detectChanges();\n  }\n\n  public async editObjetivo(objetivo: PlanejamentoObjetivo) {\n    objetivo._status = objetivo._status == \"ADD\" ? \"ADD\" : \"EDIT\";\n    let index = this.items.indexOf(objetivo);\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\n      metadata: { \n        planejamento: this.entity!, \n        objetivo: objetivo,\n        objetivos: this.objetivosPai(objetivo.id) \n      },\n      modalClose: async (modalResult) => {\n        if (modalResult) {\n          if (!this.isNoPersist) await this.objetivoDao?.save(modalResult);\n          this.items[index] = modalResult;\n          this.sortObjetivos();\n        };\n      }\n    });\n  }\n\n  public async removeObjetivo(objetivo: PlanejamentoObjetivo) {\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\n    if (confirm) {\n      let index = this.items.indexOf(objetivo);\n      if (this.isNoPersist) {\n        objetivo._status = \"DELETE\";\n      } else {\n        await this.objetivoDao!.delete(objetivo);\n        this.grid?.items.splice(index, 1);\n      };\n      this.sortObjetivos();\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  public getEixo(id: string): EixoTematico | undefined {\n    return this.eixos?.find(x => x.id == id);\n  }\n\n}\n\n\n","<grid [items]=\"items\" [form]=\"form!\" #gridObjetivos editable [selectable]=\"false\" [minHeight]=\"minHeight\" \n    [add]=\"addObjetivo.bind(this)\" [remove]=\"removeObjetivo.bind(this)\" \n    [hasDelete]=\"false\" [hasEdit]=\"false\" [hasAdd]=\"!disabled\" [join]=\"join\" [groupBy]=\"groupBy\" [groupTemplate]=\"groupEixoTematico\">\n    <ng-template let-separator=\"separator\" #groupEixoTematico>\n        <span class=\"text-wrap\"><badge [icon]=\"getEixo(separator?.text)?.icone || 'bi bi-gear'\" [color]=\"getEixo(separator?.text)?.cor || 'primary'\" [label]=\"getEixo(separator?.text)?.nome || 'Desconhecido'\"></badge></span>\n    </ng-template>\n    <columns>\n        <column title=\"Nome\" [template]=\"columnNome\">\n            <ng-template let-row=\"row\" #columnNome>\n                <span [style.margin-left.px]=\"(row._metadata?.level || 0) * 20\">{{ marcador(row) + row.nome }}</span>\n            </ng-template>\n        </column>\n        <column title=\"Fundamentação\" [template]=\"columnFundamentacao\"><ng-template let-row=\"row\" #columnFundamentacao><span>{{ row.fundamentacao }}</span></ng-template></column>\n        <column *ngIf=\"entity?.unidade_id\" title=\"Objetivo Superior\" [template]=\"columnObjetivoSuperior\"><ng-template let-row=\"row\" #columnObjetivoSuperior><span>{{ row.objetivo_superior?.nome  || '' }}</span></ng-template></column>\n        <!-- <column title=\"Objetivo Superior\" [template]=\"columnObjetivoSuperior\"><ng-template let-row=\"row\" #columnObjetivoSuperior><span>{{ row.objetivo_superior?.nome  || '' }}</span></ng-template></column> -->\n        <column type=\"options\" [dynamicButtons]=\"dynamicButtons.bind(this)\" [dynamicOptions]=\"dynamicOptions.bind(this)\"></column>\n    </columns>\n</grid>\n","import { Component, Injector, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\n\n@Component({\n  selector: 'planejamento-list-objetivos-entregas',\n  templateUrl: './planejamento-list-objetivos-entregas.component.html',\n  styleUrls: ['./planejamento-list-objetivos-entregas.component.scss']\n})\nexport class PlanejamentoListObjetivosEntregasComponent extends PageListBase<PlanejamentoObjetivo, PlanejamentoObjetivoDaoService> {\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  \n  public planejamentoDao: PlanejamentoDaoService;\n  public planejamentoObjetivoDao: PlanejamentoObjetivoDaoService;\n  public buttons: ToolbarButton[] = [];\n  \n  constructor(public injector: Injector) {\n    super(injector, PlanejamentoObjetivo, PlanejamentoObjetivoDaoService);\n    this.join = ['objetivos']\n    this.planejamentoDao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\n    this.planejamentoObjetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\n    this.title = this.lex.noun(\"Objetivos\", true);\n    this.filter = this.fh.FormBuilder({\n      nome: { default: \"\" },\n      planejamento_id: { default: null}\n    });\n  }  \n \n  public dynamicOptions(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    let objetivo: PlanejamentoObjetivo = row as PlanejamentoObjetivo;\n    result.push({ label: \"Informações\", icon: \"bi bi-info-circle\", onClick: (objetivo: PlanejamentoObjetivo) => this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo', objetivo.id, 'consult'] }, { modal: true }) });\n    return result;\n  }\n\n  public filterClear(filter: FormGroup) {\n    super.filterClear(filter);\n  }\n\n  public filterWhere = (filter: FormGroup) => {\n    let form: any = filter.value;\n    let result: any[] = [];\n    if (form.planejamento_id?.length) {\n      result.push([\"planejamento_id\", \"==\", form.planejamento_id]);\n    }\n    if (form.nome?.length) {\n      result.push([\"or\", [\"nome\", \"like\", \"%\" + form.nome.replace(\" \", \"%\") + \"%\"], [\"sigla\", \"like\", \"%\" + form.nome.replace(\" \", \"%\") + \"%\"]]);\n    }\n    return result;\n  }\n}\n","<!--  [hasAdd]=\"auth.hasPermissionTo('MOD_UND_INCL')\"\n    [hasEdit]=\"auth.hasPermissionTo('MOD_UND_EDT')\" -->\n<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>\n<grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\" [selectable]=\"selectable\"\n    (select)=\"onSelect($event)\">\n    <toolbar *ngIf=\"!selectable\" [buttons]=\"buttons\"></toolbar>\n    <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\"\n        [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\n        <div class=\"row\">\n            <input-text [size]=\"7\" label=\"Nome\" controlName=\"nome\" [control]=\"filter!.controls.nome\"\n                placeholder=\"Nome\"></input-text>\n        </div>\n    </filter>\n    <columns>\n        <column title=\"Nome\" [template]=\"columnNome\" orderBy=\"nome\">\n            <ng-template let-row=\"row\" #columnNome>\n                <span class=\"d-block\">{{row.nome}}</span>\n            </ng-template>\n        </column>\n        <column title=\"Fundamentação\" field=\"fundamentacao\"></column>\n        <column type=\"options\" [onEdit]=\"edit\" [dynamicOptions]=\"dynamicOptions.bind(this)\"></column>\n    </columns>\n    <pagination [rows]=\"rowsLimit\"></pagination>\n</grid>","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputSearchComponent} from 'src/app/components/input/input-search/input-search.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { TabsComponent } from 'src/app/components/tabs/tabs.component';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-list',\r\n  templateUrl: './planejamento-list.component.html',\r\n  styleUrls: ['./planejamento-list.component.scss']\r\n})\r\nexport class PlanejamentoListComponent extends PageListBase<Planejamento, PlanejamentoDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild(TabsComponent, { static: false }) public tabs?: TabsComponent;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  \r\n  public unidadeDao: UnidadeDaoService;\r\n  public unidade_disabled: string | undefined;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Planejamento, PlanejamentoDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    /* Inicializações */\r\n    this.code = \"MOD_PLAN_INST\";\r\n    this.title = this.lex.noun('Planejamento Institucional',true);\r\n    this.filter = this.fh.FormBuilder({\r\n      inicio: {default: null},\r\n      fim: {default: null},\r\n      nome: {default: \"\"},\r\n      unidade_id: {default: null},\r\n      so_entidade: { default: false },\r\n      agrupar: { default: true },\r\n     });\r\n    this.join = [\r\n      'unidade:id,nome,sigla',\r\n      'objetivos',\r\n      'objetivos.eixo_tematico:id,nome',\r\n      'objetivos.objetivo_superior:id,nome',\r\n      'planejamento_superior:id,nome',\r\n      'planejamento_superior.objetivos'\r\n    ];\r\n    // Testa se o usuário possui permissão para exibir planejamentos institucionais\r\n    if (this.auth.hasPermissionTo(\"MOD_PLAN_INST_CONS\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-info-circle\",\r\n        label: \"Informações\",\r\n        onClick: this.consult.bind(this)\r\n      });\r\n    }\r\n    // Testa se o usuário possui permissão para excluir planejamentos institucionais\r\n    if (this.auth.hasPermissionTo(\"MOD_PLAN_INST_EXCL\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-trash\",\r\n        label: \"Excluir\",\r\n        onClick: this.delete.bind(this)\r\n      });\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    this.tabs!.active = [\"TABELA\", \"MAPA\"].includes(this.usuarioConfig.active_tab) ? this.usuarioConfig.active_tab : \"TABELA\";\r\n  }\r\n\r\n  public async onSelectTab(tab: LookupItem) {\r\n    if(tab.key == \"TABELA\") this.grid?.reloadFilter();\r\n    this.saveUsuarioConfig({active_tab: tab});\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    filter.controls.nome.setValue(\"\");\r\n    filter.controls.inicio.setValue(null);\r\n    filter.controls.fim.setValue(null);\r\n    filter.controls.unidade_id.setValue(null);\r\n    filter.controls.so_entidade.setValue(false);\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n\r\n    if (form.so_entidade) {\r\n      filter.controls.unidade_id.setValue(null);\r\n      result.push([\"unidade_id\", \"==\", null]);\r\n    } else {\r\n      if(form.unidade_id) result.push([\"unidade_id\", \"==\", form.unidade_id]);\r\n    }\r\n    if(form.nome?.length) {\r\n      result.push([\"nome\", \"like\", \"%\" + form.nome + \"%\"]);\r\n    }\r\n    if(form.inicio) {\r\n      result.push([\"inicio\", \">=\", form.inicio]);\r\n    }\r\n    if(form.fim) {\r\n      result.push([\"fim\", \"<=\", form.fim]);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public onSoEntidadeChange(event: Event) {\r\n    if (this.filter!.controls.so_entidade.value) {\r\n      this.filter!.controls.unidade_id.setValue(null);\r\n      this.unidade_disabled = 'disabled';\r\n    } else {\r\n      this.filter!.controls.unidade_id.setValue(undefined);\r\n      this.unidade_disabled = undefined;\r\n    }\r\n  }\r\n\r\n  public get eixos(): EixoTematico[] {\r\n    return this.grid!.query?.extra?.eixos || [];\r\n  }\r\n\r\n}\r\n","<tabs right [title]=\"isModal ? '' : title\" [select]=\"onSelectTab.bind(this)\">\r\n    <tab key=\"TABELA\" icon=\"bi bi-table\" label=\"Lista\" [template]=\"lista\">\r\n        <ng-template #lista>\r\n            <grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [join]=\"join\"\r\n                [selectable]=\"selectable\" (select)=\"onSelect($event)\" \r\n                [hasAdd]=\"auth.hasPermissionTo('MOD_PLAN_INST_INCL')\"\r\n                [hasEdit]=\"auth.hasPermissionTo('MOD_PLAN_INST_EDT')\">\r\n                <toolbar *ngIf=\"!selectable\"></toolbar>\r\n                <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n                    <div class=\"row\">\r\n                        <input-text [size]=\"12\" [label]=\"lex.noun('Planejamento Institucional')\" controlName=\"nome\"\r\n                            [control]=\"filter!.controls.nome\" [placeholder]=\"'Nome ' + lex.noun('Planejamento Institucional',false,true) + '...'\"></input-text>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-switch [size]=\"2\" [label]=\"'Só da '+ lex.noun('Entidade')\" controlName=\"so_entidade\" [control]=\"filter!.controls.so_entidade\" (change)=\"onSoEntidadeChange($event)\"></input-switch>\r\n                        <input-search #unidade [size]=\"4\" [label]=\"lex.noun('Unidade')\" [disabled]=\"unidade_disabled\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n                        <input-datetime [size]=\"3\" date label=\"Início\" controlName=\"inicio\" [control]=\"filter!.controls.inicio\" [labelInfo]=\"'Data de início do' +lex.noun('Planejamento Institucional')\"></input-datetime>\r\n                        <input-datetime [size]=\"3\" date label=\"Fim\" controlName=\"fim\" [control]=\"filter!.controls.fim\" [labelInfo]=\"'Data do fim do '+lex.noun('Planejamento Institucional')\"></input-datetime>\r\n                    </div>\r\n                </filter>\r\n                <columns>\r\n                    <column *ngIf=\"!selectable\" type=\"expand\" icon=\"bi bi-bullseye\" [align]=\"'center'\" [hint]=\"lex.noun('Objetivo', true)\" [template]=\"columnObjetivos\" [expandTemplate]=\"columnExpandedObjetivos\">\r\n                        <ng-template let-row=\"row\" #columnObjetivos>\r\n                            <span *ngIf=\"row.objetivos?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-bullseye\"></i> {{row.objetivos?.length}}</span>\r\n                        </ng-template>\r\n                        <ng-template let-row=\"row\" #columnExpandedObjetivos>\r\n                            <planejamento-list-objetivo [entity]=\"row\" [eixos]=\"eixos\"></planejamento-list-objetivo>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Nome\" field=\"nome\" orderBy=\"nome\"></column>\r\n                    <column title=\"Início\" [template]=\"columnInicio\">\r\n                        <ng-template let-row=\"row\" #columnInicio>\r\n                            <span> {{dao!.getDateFormatted(row.inicio)}}</span>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Fim\" [template]=\"columnFim\">\r\n                        <ng-template let-row=\"row\" #columnFim>\r\n                            <span> {{dao!.getDateFormatted(row.fim)}}</span>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Unidade\" [template]=\"columnUnidade\">\r\n                        <ng-template let-row=\"row\" #columnUnidade>\r\n                            <span> {{row.unidade?.nome || \"\"}}</span>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\r\n                </columns>\r\n                <pagination [rows]=\"rowsLimit\"></pagination>\r\n            </grid>\r\n        </ng-template>\r\n    </tab>\r\n    <tab key=\"MAPA\" icon=\"bi bi-card-heading\" label=\"Mapa\" [template]=\"mapa\">\r\n        <ng-template #mapa>\r\n            <planejamento-mapa></planejamento-mapa>\r\n        </ng-template>\r\n    </tab>\r\n</tabs>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { PlanejamentoListComponent } from './planejamento-list/planejamento-list.component';\r\nimport { PlanejamentoFormComponent } from './planejamento-form/planejamento-form.component';\r\nimport { PlanejamentoRoutingModule } from './planejamento-routing.module';\r\nimport { PlanejamentoListObjetivoComponent } from './planejamento-list-objetivo/planejamento-list-objetivo.component';\r\nimport { PlanejamentoFormObjetivoComponent } from './planejamento-form-objetivo/planejamento-form-objetivo.component';\r\nimport { PlanejamentoMapaComponent } from './planejamento-mapa/planejamento-mapa.component';\r\nimport { DndModule } from 'ngx-drag-drop';\r\nimport { PlanejamentoListObjetivosEntregasComponent } from './planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ \r\n    PlanejamentoListComponent,\r\n    PlanejamentoFormComponent,\r\n    PlanejamentoListObjetivoComponent,\r\n    PlanejamentoFormObjetivoComponent,\r\n    PlanejamentoMapaComponent,\r\n    PlanejamentoListObjetivosEntregasComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    DndModule,\r\n    PlanejamentoRoutingModule\r\n  ],\r\n  exports: [\r\n    PlanejamentoListObjetivosEntregasComponent\r\n  ]\r\n})\r\nexport class PlanejamentoModule { }\r\n","import { Base } from './base.model';\nimport { EixoTematico } from './eixo-tematico.model';\nimport { Planejamento } from './planejamento.model';\n\nexport class PlanejamentoObjetivo extends Base {\n    public planejamento?: Planejamento;\n    public eixo_tematico?: EixoTematico;\n    public objetivo_superior?: PlanejamentoObjetivo;\n    public objetivos?: PlanejamentoObjetivo[];\n    \n    public data_inicio: Date = new Date();  /* Data de criação */\n    public data_fim: Date | null = null;  /* Data final do registro */\n    public nome: string = \"\"; /* Nome do objetivo */\n    public fundamentacao: string = \"\"; /* Fundamentação para a definição do objetivo */\n    public sequencia: number = 0; \n    public path: string | null = null; \n    public planejamento_id: string | null = null; \n    public eixo_tematico_id: string | null = null; \n    public objetivo_superior_id: string | null = null;\n    public objetivo_pai_id: string | null = null;\n\n    public constructor(data?: any) { super(); this.initialization(data); }\n}","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { PlanejamentoListObjetivoComponent } from '../planejamento-list-objetivo/planejamento-list-objetivo.component';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-form',\r\n  templateUrl: './planejamento-form.component.html',\r\n  styleUrls: ['./planejamento-form.component.scss']\r\n})\r\nexport class PlanejamentoFormComponent extends PageFormBase<Planejamento, PlanejamentoDaoService> {\r\n    @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n    @ViewChild(GridComponent, { static: true }) public grid?: GridComponent;\r\n    @ViewChild('objetivos', { static: false }) public objetivos?: PlanejamentoListObjetivoComponent;\r\n\r\n    public unidadeDao: UnidadeDaoService;\r\n    public planejamentosSuperiores: LookupItem[] = [];\r\n    public hasPermissionToUNEX: boolean = false;\r\n    public form: FormGroup;\r\n    \r\n    constructor(public injector: Injector) {\r\n      super(injector, Planejamento, PlanejamentoDaoService);\r\n      this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n      this.hasPermissionToUNEX = this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_LOTPRI') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_QQLOT') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_SUBORD') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_QUALQUER');\r\n      this.join = [\r\n        'objetivos',\r\n        'objetivos.objetivo_superior:id,nome',\r\n        'objetivos.eixo_tematico:id,nome',\r\n        'planejamento_superior:id,nome',\r\n        'planejamento_superior.objetivos'\r\n      ];\r\n      this.form = this.fh.FormBuilder({\r\n        nome: {default: \"\"},\r\n        unidade_id: {default: null},\r\n        entidade_id: {default: null},\r\n        planejamento_superior_id: {default: null},\r\n        inicio: {default: new Date()},\r\n        fim: {default: null},\r\n        missao: {default: \"\"},\r\n        visao: {default: \"\"},\r\n        valores: { default: []},\r\n        valor_texto: {default: \"\"}\r\n      }, this.cdRef, this.validate);\r\n    }\r\n  \r\n    public validate = (control: AbstractControl, controlName: string) => {\r\n      let result = null;\r\n      if(['nome','missao','visao'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n        result = \"Obrigatório\";\r\n      }\r\n      if(['inicio'].indexOf(controlName) >= 0 && !this.dao?.validDateTime(control.value)) {\r\n        result = \"Inválido\";\r\n      }\r\n      if(controlName == 'fim' && control.value && !this.dao?.validDateTime(control.value)){\r\n        result = \"Inválido\";\r\n      }\r\n      return result;\r\n    }\r\n  \r\n    public formValidation = (form?: FormGroup) => {\r\n      if(this.form!.controls.fim.value && this.form!.controls.inicio.value > this.form!.controls.fim.value) return \"A data do início não pode ser maior que a data do fim!\";\r\n      if(this.form!.controls.valores.value.length == 0) return \"É obrigatória a inclusão de ao menos um valor institucional!\";\r\n      if(this.isPlanejamentoUNEXEC() && !this.form.controls.planejamento_superior_id.value?.length) return \"Quando o Planejamento é de uma Unidade Executora, é obrigatória a definição do Planejamento superior ao qual ele será vinculado!\";\r\n      return undefined;\r\n    }\r\n  \r\n    public loadData(entity: Planejamento, form: FormGroup) {\r\n      let formValue = Object.assign({}, form.value);\r\n      form.patchValue(this.util.fillForm(formValue, entity));\r\n    }\r\n\r\n    public initializeData(form: FormGroup) {\r\n      this.entity = new Planejamento();\r\n      this.loadData(this.entity, form); \r\n    }\r\n\r\n    public async saveData(form: IIndexable): Promise<Planejamento> {\r\n      return new Promise<Planejamento>((resolve, reject) => {\r\n        this.objetivos!.grid!.confirm();\r\n        let planejamento = this.util.fill(new Planejamento(), this.entity!);\r\n        planejamento = this.util.fillForm(planejamento, this.form!.value);\r\n        planejamento.objetivos = this.objetivos!.items;\r\n        resolve(planejamento);\r\n      });\r\n    }\r\n   \r\n    public titleEdit = (entity: Planejamento): string => {\r\n      return \"Editando \"+ (entity?.nome || \"\");\r\n    }\r\n\r\n    public addValorHandle(): LookupItem | undefined {\r\n      let result = undefined;\r\n      const value = this.form.controls.valor_texto.value;\r\n      const key = this.util.textHash(value);\r\n      if(value?.length && this.util.validateLookupItem(this.form.controls.valores.value, key)) {\r\n        result = {\r\n          key: key,\r\n          value: this.form.controls.valor_texto.value\r\n        };\r\n        this.form.controls.valor_texto.setValue(\"\");\r\n      }\r\n      return result;\r\n    }; \r\n    \r\n    public onUnidadeChange(event: Event){\r\n      if(this.entity!.unidade_id != this.form.controls.unidade_id.value){\r\n        this.dao?.query({where: [['unidade_executora_id', '==', this.form.controls.unidade_id.value], ['manut_planej_unidades_executoras','==',true]]}).getAll().then((pls) => {\r\n          this.planejamentosSuperiores = pls.map(x => Object.assign({},{key: x.id, value: x.nome}) as LookupItem);\r\n          this.planejamentosSuperiores.unshift({key: null, value: 'Escolha um Planejamento superior...'});\r\n          this.objetivos!.loadData(this.entity!, this.form!);\r\n          this.cdRef.detectChanges();\r\n        });\r\n      };\r\n    }\r\n\r\n    /**\r\n     * @param event \r\n     * Se o planejamento superior for alterado, e já houver objetivos na lista, avisar que eles serão desvinculados dos objetivos do planejamento anterior,\r\n     * para que novos objetivos superiores sejam selecionados.\r\n     */\r\n    public async onPlanejamentoChange(event: Event){\r\n      if(this.form.controls.planejamento_superior_id.value != this.entity?.planejamento_superior_id && this.entity?.objetivos?.length) {\r\n        let confirm = await this.dialog.confirm(\"Alteração de Planejamento superior\", \"Como já existem objetivos neste Planejamento, eles serão desvinculados dos objetivos do Planejamento anterior, para que novos objetivos sejam selecionados! Deseja continuar?\");\r\n        if(confirm) {\r\n          this.entity?.objetivos?.forEach(obj => obj.objetivo_superior_id = null); \r\n          //atualizar a lista de objetivos superiores\r\n        } else {\r\n          this.form.controls.planejamento_superior_id.setValue(this.entity?.planejamento_superior_id);\r\n        };\r\n      };\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @returns boolean Informa se o planejamento é da Unidade Instituidora ou não.\r\n     */\r\n    public isPlanejamentoUNINST(): boolean {\r\n      return !this.form.controls.unidade_id.value?.length\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @returns boolean Informa se o planejamento é da Unidade Executora ou não.\r\n     */\r\n    public isPlanejamentoUNEXEC(): boolean {\r\n      return !this.isPlanejamentoUNINST();\r\n    }\r\n}\r\n  \r\n  \r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\n    <tabs display right>\n        <tab key=\"DADOS\" label=\"Dados\">\n            <div class=\"row\">\n                <div class=\"row\">\n                    <input-text [size]=\"12\" label=\"Nome do Planejamento Institucional\" [icon]=\"entityService.getIcon('Planejamento')\" controlName=\"nome\" [control]=\"form!.controls.nome\"></input-text>\n                </div>\n                <div class=\"row\">\n                    <input-search [size]=\"6\" label=\"Unidade Executora\" icon=\"fab fa-unity\" [disabled]=\"hasPermissionToUNEX ? undefined : 'true'\" controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [dao]=\"unidadeDao\" \n                                  [selectRoute]=\"{route: ['configuracoes', 'unidade'], params: {filter: {unidades_planejamento: true}}}\" [where]=\"[['unidades_planejamento','==',true]]\" (change)=\"onUnidadeChange($event)\"></input-search>\n                    <input-datetime date [size]=\"3\" label=\"Início\" icon=\"bi bi-calendar-date\" controlName=\"inicio\" [control]=\"form!.controls.inicio\" labelInfo=\"Início do Planejamento Institucional\"></input-datetime>\n                    <input-datetime date [size]=\"3\" label=\"Fim\" icon=\"bi bi-calendar-date\" controlName=\"fim\" [control]=\"form!.controls.fim\" labelInfo=\"Fim do Planejamento Institucional\"></input-datetime>\n                </div>\n                <div *ngIf=\"form!.controls.unidade_id.value\" class=\"row\">\n                    <input-select [items]=\"planejamentosSuperiores\" label=\"Selecione o Planejamento Superior vinculado\" controlName=\"planejamento_superior_id\" [control]=\"form!.controls.planejamento_superior_id\" (change)=\"onPlanejamentoChange($event)\" [icon]=\"entityService.getIcon('Planejamento')\"></input-select>\n                </div>                \n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <input-textarea [size]=\"12\" label=\"Missão\" [rows]=\"3\" controlName=\"missao\" [control]=\"form!.controls.missao\"></input-textarea>\n                        <input-textarea [size]=\"12\" label=\"Visão\" [rows]=\"3\" controlName=\"visao\" [control]=\"form!.controls.visao\"></input-textarea>\n                    </div>\n                    <div class=\"col-md-6\">\n                        <div class=\"row\">\n                            <input-multiselect [size]=\"12\" label=\"Valores\" controlName=\"valores\" [addItemHandle]=\"addValorHandle.bind(this)\">\n                                <input-text label=\"Valor Institucional\" icon=\"far fa-edit\" controlName=\"valor_texto\" [control]=\"form!.controls.valor_texto\"></input-text>\n                            </input-multiselect>        \n                        </div>\n                    </div>\n                </div>\n            </div>\n        </tab>\n        <tab key=\"OBJETIVOS\" label=\"Objetivos\">\n            <planejamento-list-objetivo #objetivos noPersist [entity]=\"entity\" [disabled]=\"action == 'consult'\"></planejamento-list-objetivo>\n        </tab>\n    </tabs>\n</editable-form>\n\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { DndDropEvent, DropEffect } from 'ngx-drag-drop';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\nimport { QueryContext } from 'src/app/dao/query-context';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\nimport { Planejamento } from 'src/app/models/planejamento.model';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\nimport { LookupItem } from 'src/app/services/lookup.service';\n\nexport type EixoPlanejamento = {\n  id?: string,\n  eixo: EixoTematico,\n  eixo_tematico_id: string,\n  objetivos: PlanejamentoObjetivo[]\n}\n\n@Component({\n  selector: 'planejamento-mapa',\n  templateUrl: './planejamento-mapa.component.html',\n  styleUrls: ['./planejamento-mapa.component.scss']\n})\nexport class PlanejamentoMapaComponent extends PageFrameBase {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @ViewChild('planejamentoInstitucional', { static: false }) public planejamentoInstitucional?: InputSelectComponent;\n\n  public canEdit: boolean = true;\n  public planejamentos: LookupItem[] = [];\n  public planejamento?: Planejamento;\n  public eixos: EixoPlanejamento[] = [];\n  public query?: QueryContext<Planejamento>;\n  public objetivoDao?: PlanejamentoObjetivoDaoService;\n  public objetivos: PlanejamentoObjetivo[] = [];\n  public subObjetivosMenu: ToolbarButton = {\n    icon: \"bi bi-three-dots-vertical\",\n    color: \"transparent-black p-1 py-0\",\n    items: [\n      {\n        icon: \"bi bi-file-earmark-bar-graph\",\n        label: \"Entregas\",\n        onClick: this.onObjetivoClick.bind(this)\n      },\n      {\n        icon: \"bi bi-pencil-square\",\n        label: \"Alterar\",\n        onClick: this.onObjetivoEditClick.bind(this) \n      },\n      {\n        icon: \"bi bi-trash\",\n        label: \"Excluir\",\n        onClick: this.onObjetivoDeleteClick.bind(this)\n      }\n    ]\n  };\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.dao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\n    this.objetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\n    this.join = ['objetivos'];\n    this.title = \"Objetivos do \" + this.lex.noun('planejamento Institucional', true);\n    this.form = this.fh.FormBuilder({\n      planejamento_id: {default: null},\n      todos: {default: false}\n    }, this.cdRef, this.validate);\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    this.loadData(this.entity);\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    return result;\n  }\n\n  public async loadData(entity: IIndexable, form?: FormGroup) {\n    this.query = this.dao!.query({ where: [[\"data_arquivamento\", \"==\", null]], orderBy: [[\"inicio\", \"desc\"]] }) as QueryContext<Planejamento>;\n    this.query!.asPromise().then(planejamentos => {\n      this.planejamentos = planejamentos.map(x => Object.assign({} as LookupItem, {\n        key: x.id,\n        value: x.nome,\n        data: x\n      }));\n      this.form!.controls.planejamento_id.setValue(this.planejamentos.length ? this.planejamentos[0].key : null);\n    });\n  }\n\n  public objetivosPai(filhoId: string) {\n    let items: PlanejamentoObjetivo[] = [];\n    let addItens = (list: PlanejamentoObjetivo[]) => {\n      for(let item of list) {\n        if(item.id != filhoId) {\n          items.push(item);\n          addItens(this.objetivos.filter(x => x.objetivo_pai_id == item.id).sort((a,b) => a.sequencia - b.sequencia));\n        }\n      }\n    }\n    addItens(this.objetivos.filter(x => !x.objetivo_pai_id).sort((a,b) => a.sequencia - b.sequencia));\n    return items;\n  }\n\n  public marcador(row: PlanejamentoObjetivo): string {\n    let level = row._metadata?.level || 0;\n    return level < 1 ? \"\" : (level < 2 ? \"• \" : (level < 3 ? \"- \" : \"+ \"));\n  }\n\n  public objetivosEixo(eixoId: string) {\n    let objetivos = this.planejamento?.objetivos?.filter(y => y.eixo_tematico_id == eixoId && !y.objetivo_pai_id).sort((a, b) => a.sequencia - b.sequencia) || [];\n    let recursivo = (list: PlanejamentoObjetivo[], level: number) => {\n      for(let item of list) {\n        item.objetivos = this.planejamento?.objetivos?.filter(y => y.objetivo_pai_id == item.id).sort((a, b) => a.sequencia - b.sequencia) || [];\n        item._metadata = Object.assign(item._metadata || {}, { level })\n        recursivo(item.objetivos, level + 1);\n      }\n    }\n    recursivo(objetivos, 0);\n    return objetivos;\n  }\n\n  public onPlanejamentoChange() {\n    this.dao!.getById(this.planejamentoInstitucional!.selectedItem?.key, this.join).then(planejamento => {\n      this.planejamento = planejamento as Planejamento;\n      this.objetivos = this.planejamento.objetivos || [];\n      this.eixos = this.query!.extra?.eixos?.filter((x: EixoTematico) => this.form?.controls.todos.value || this.planejamento?.objetivos?.find(y => y.eixo_tematico_id == x.id)).map((x: EixoTematico) => Object.assign({} as EixoPlanejamento, {\n        eixo: x,\n        eixo_tematico_id: x.id,\n        objetivos: this.objetivosEixo(x.id)\n      })) || [];\n      this.cdRef.detectChanges();\n    });\n  }\n\n  public onTodosChange() {\n    this.onPlanejamentoChange();\n  }\n\n  public onObjetivoClick(data: any) {\n    let objetivo = data as PlanejamentoObjetivo;\n    this.go.navigate({route: ['gestao', 'plano-entrega', 'entrega', 'objetivos', objetivo.id]});\n  }\n\n  public onObjetivoAddClick(data: any) {\n    let eixo = this.eixos.find(x => x.eixo.id == data.id);   \n    let objetivo = new PlanejamentoObjetivo({\n      _status: \"ADD\",\n      id: this.dao!.generateUuid(),\n      planejamento_id: this.planejamento?.id,\n      eixo_tematico_id: data.eixo.id,\n      eixo_tematico: data.eixo,\n      sequencia: eixo?.objetivos.length ? eixo?.objetivos[0].sequencia : 0\n    });\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\n      metadata: { \n        planejamento: this.planejamento!, \n        objetivo: objetivo,\n        objetivos: this.objetivosPai(objetivo.id) \n      },\n      modalClose: async (modalResult) => {\n        if (modalResult) this.objetivoDao!.save(modalResult).then(objetivo => this.onPlanejamentoChange());\n      }\n    });\n  }\n\n  public onObjetivoDeleteClick(data: any) {\n    let objetivo = data as PlanejamentoObjetivo;\n    this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\").then(confirm => {\n      if (confirm) this.objetivoDao!.delete(objetivo).then(result => this.onPlanejamentoChange());\n    });\n  }\n\n  public onObjetivoEditClick(data: any) {\n    let objetivo = data as PlanejamentoObjetivo;\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\n      metadata: { planejamento: this.planejamento!, objetivo: objetivo }, modalClose: async (modalResult) => {\n        if (modalResult) this.objetivoDao?.save(modalResult).then(planejamento => this.onPlanejamentoChange());\n      }\n    });\n  }\n\n  /* Drag & Drop */\n  onObjetivoDrop(event: DndDropEvent, dropped: EixoPlanejamento | PlanejamentoObjetivo) {\n    console.log(\"Drop\", event);\n    dropped.objetivos = dropped.objetivos || [];\n    let objetivo = event.data as PlanejamentoObjetivo; \n    let index = typeof event.index === 'undefined' ? dropped.objetivos.length : event.index;\n    let neighborhood = index ? (dropped.objetivos[index] || dropped.objetivos[index-1] || undefined) : undefined;\n    dropped.objetivos.splice(index, 0, objetivo);\n    this.loading = true;\n    this.objetivoDao?.update(objetivo.id, {\n      eixo_tematico_id: dropped.eixo_tematico_id,\n      objetivo_pai_id: dropped.id || null,\n      sequencia: neighborhood?.sequencia || 0\n    }).then(result => this.onPlanejamentoChange()).finally(() => this.loading = false);\n  }\n\n  onObjetivoDragEnd(event: DragEvent) {\n    console.log(\"DragEnd\", event);\n  }\n\n  onObjetivoDragged(item: any, dragged: EixoPlanejamento | PlanejamentoObjetivo, effect: DropEffect) {\n    console.log(\"Dragged\", item, dragged.objetivos);\n    dragged.objetivos = dragged.objetivos || [];\n    dragged.objetivos.splice(dragged.objetivos.indexOf(item), 1);\n  }\n\n  onObjetivoDragStart(event: DragEvent) {\n    console.log(\"DragStart\", event);\n  }\n\n}","<!-- Seleção do planejamento -->\n<editable-form [form]=\"form!\" noButtons>\n    <div class=\"row mt-2\">\n        <input-select #planejamentoInstitucional [size]=\"12\" controlName=\"planejamento_id\"\n            [control]=\"form!.controls.planejamento_id\" [items]=\"planejamentos\"\n            (change)=\"onPlanejamentoChange()\"></input-select>\n    </div>\n</editable-form>\n<!-- Cabeçalho -->\n<separator transparent collapse title=\"Valores, missão e visão\">\n    <div *ngIf=\"planejamento\" class=\"row\">\n        <div class=\"col-4\">\n            <div class=\"card h-100\">\n                <div class=\"card-header\">\n                    Valores\n                </div>\n                <div class=\"card-body\">\n                    <ul class=\"list-group list-group-flush\">\n                        <li *ngFor=\"let valor of planejamento!.valores\" class=\"list-group-item\">\n                            <blockquote class=\"blockquote mb-0\">\n                                <p>{{valor.value}}</p>\n                            </blockquote>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-4\">\n            <div class=\"card h-100\">\n                <div class=\"card-header\">\n                    Missão\n                </div>\n                <div class=\"card-body\">\n                    <blockquote class=\"blockquote mb-0\">\n                        <p class=\"fst-italic\">{{planejamento.missao}}</p>\n                    </blockquote>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-4\">\n            <div class=\"card h-100\">\n                <div class=\"card-header\">\n                    Visão\n                </div>\n                <div class=\"card-body\">\n                    <blockquote class=\"blockquote mb-0\">\n                        <p>{{planejamento!.visao}}</p>\n                    </blockquote>\n                </div>\n            </div>\n        </div>\n    </div>\n</separator>\n<!-- Eixos -->\n<div class=\"row my-2\">\n    <input-switch [size]=\"12\" labelPosition=\"left\" label=\"Todos os eixos\" controlName=\"todos\"\n        [control]=\"form!.controls.todos\" (change)=\"onTodosChange()\"></input-switch>\n</div>\n<div *ngFor=\"let eixo of eixos\" class=\"eixo\" [style.background-color]=\"eixo.eixo.cor\">\n    <action-button icon=\"bi bi-plus-circle\" color=\"transparent-black\" [data]=\"eixo\"\n        [onClick]=\"onObjetivoAddClick.bind(this)\"></action-button>\n    <div class=\"d-flex align-items-center align-content-stretch p-3\">\n        <div class=\"descricao\">\n            <h4>{{eixo.eixo.nome}}</h4>\n        </div>\n        <div class=\"objetivos w-100 row\" [dndDropzone]=\"['objetivo']\" (dndDrop)=\"onObjetivoDrop($event, eixo)\">\n            <!-- Placehold -->\n            <div class=\"col-md-4\" dndPlaceholderRef>\n                <div class=\"objetivo shadow-sm d-flex flex-column align-content-between\">\n                    <p class=\"placeholder-glow\">\n                        <span class=\"placeholder col-2\"></span>\n                        <span class=\"placeholder col-3\"></span>\n                        <span class=\"placeholder col-1\"></span>\n                        <span class=\"placeholder col-6\"></span>\n                    </p>\n                    <div class=\"buttons w-100 d-flex justify-content-end px-1\">\n                        <action-button placeholder icon=\"bi bi-question\" color=\"transparent-black p-0\"></action-button>\n                        <action-button placeholder icon=\"bi bi-question\" color=\"transparent-black p-0\"></action-button>\n                        <action-button placeholder icon=\"bi bi-question\" color=\"transparent-black p-0\"></action-button>\n                    </div>\n                </div>\n            </div>\n            <!-- Objetivos -->\n            <div *ngFor=\"let objetivo of eixo.objetivos\" class=\"col-md-4\" [dndDisableIf]=\"!canEdit\"\n                [dndDraggable]=\"objetivo\" (dndEnd)=\"onObjetivoDragEnd($event)\"\n                (dndMoved)=\"onObjetivoDragged(objetivo, eixo, 'move')\" (dndStart)=\"onObjetivoDragStart($event)\"\n                dndType=\"objetivo\" dndEffectAllowed=\"move\">\n                <div class=\"objetivo shadow-sm d-flex flex-column align-content-between\">\n                    <div class=\"m-2\">\n                        <div dndHandle class=\"card-text\">{{objetivo.nome}}</div>\n                        <div class=\"subobjetivo\" [dndDropzone]=\"['objetivo']\" (dndDrop)=\"onObjetivoDrop($event, objetivo)\">\n                            <!-- Placehold -->\n                            <div class=\"border mt-3 p-2\" dndPlaceholderRef><span class=\"placeholder w-75\"></span></div>\n                            <ng-container *ngFor=\"let subobjetivo of objetivo.objetivos\" [ngTemplateOutlet]=\"subobjetivos\" [ngTemplateOutletContext]=\"{objetivo: subobjetivo, pai: objetivo}\"></ng-container>\n                        </div>\n                    </div>\n                    <ng-template #subobjetivos let-objetivo=\"objetivo\" let-pai=\"pai\">\n                        <div class=\"border mt-3 p-2\" [dndDisableIf]=\"!canEdit\"\n                            [dndDraggable]=\"objetivo\" (dndEnd)=\"onObjetivoDragEnd($event)\"\n                            (dndMoved)=\"onObjetivoDragged(objetivo, pai, 'move')\" (dndStart)=\"onObjetivoDragStart($event)\"\n                            dndType=\"objetivo\" dndEffectAllowed=\"move\">\n                            <div class=\"d-flex justify-content-between\">\n                                <div class=\"me-2 card-text\">{{objetivo.nome}}</div>\n                                <action-button noArrow [button]=\"subObjetivosMenu\" [data]=\"objetivo\"></action-button>\n                            </div>\n                            <div class=\"subobjetivo\" [dndDropzone]=\"['objetivo']\" (dndDrop)=\"onObjetivoDrop($event, objetivo)\">\n                                <!-- Placehold -->\n                                <div class=\"border mt-3 p-2\" dndPlaceholderRef><span class=\"placeholder w-75\"></span></div>\n                                <ng-container *ngFor=\"let subobjetivo of objetivo.objetivos\" [ngTemplateOutlet]=\"subobjetivos\" [ngTemplateOutletContext]=\"{objetivo: subobjetivo, pai: objetivo}\"></ng-container>\n                            </div>\n                        </div>\n                    </ng-template>\n                    <div class=\"buttons w-100 d-flex justify-content-end px-1\">\n                        <action-button icon=\"bi bi-file-earmark-bar-graph\" [data]=\"objetivo\" [onClick]=\"this.onObjetivoClick.bind(this)\" color=\"transparent-black px-1\"></action-button>\n                        <action-button icon=\"bi bi-pencil-square\" [data]=\"objetivo\" [onClick]=\"this.onObjetivoEditClick.bind(this)\" color=\"transparent-black px-1\"></action-button>\n                        <action-button icon=\"bi bi-trash\" [data]=\"objetivo\" [onClick]=\"this.onObjetivoDeleteClick.bind(this)\" color=\"transparent-black px-1\"></action-button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<!-- Espaço -->\n<div class=\"row my-2\"></div>","import { LookupItem } from '../services/lookup.service';\r\nimport { Base } from './base.model';\r\nimport { Entidade } from './entidade.model';\r\nimport { PlanejamentoObjetivo } from './planejamento-objetivo.model';\r\nimport { Unidade } from './unidade.model';\r\n\r\nexport class Planejamento extends Base {\r\n    public unidade?: Unidade;\r\n    public entidade?: Entidade;\r\n    public objetivos?: PlanejamentoObjetivo[];\r\n    public planejamento_superior?: Planejamento;\r\n    \r\n    public data_inicio: Date = new Date();  /* Data de criação */\r\n    public data_fim: Date | null = null;  /* Data final do registro */\r\n    public data_arquivamento: Date | null = null;  /* Data de arquivamento */\r\n    public inicio: Date = new Date(); /* Data de início do planejamento */\r\n    public fim: Date | null = null; /* Data do fim do planejamento */\r\n    public nome: string = \"\"; /* Nome do planejamento institucional */\r\n    public missao: string = \"\"; /* Missão da Instituição/Unidade */\r\n    public visao: string = \"\"; /* Visão da Instituição/Unidade */\r\n    public valores: LookupItem[] = []; /* Valores da Instituição/Unidade */\r\n    public unidade_id: string | null = null; /* Unidade à qual está vinculado o planejamento institucional */\r\n    public entidade_id: string | null = null; /* Entidade à qual está vinculado o planejamento institucional */\r\n    public planejamento_superior_id: string | null = null; /* Planejamento hierarquicamente superior ao qual o atual planejamento está vinculado */\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}\r\n"],"sourceRoot":"webpack:///"}