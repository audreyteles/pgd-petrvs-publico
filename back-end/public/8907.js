"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[8907,3292],{9898:(I,R,l)=>{l.d(R,{Y:()=>n});var e=l(9592),h=l(3279);const O=["*"];let n=(()=>{class t extends e.x{constructor(a){super(a),this.title="",this.by=""}ngOnInit(){}get isActiveOrder(){return!!(this.header?.grid?.orderBy||[]).find(a=>a[0]==this.by)}get orderDirection(){const a=(this.header?.grid?.orderBy||[]).find(g=>g[0]==this.by);return a?a[1]:void 0}get orderClass(){return this.isActiveOrder?"badge bg-secondary":"badge bg-light text-dark"}get orderIcon(){return this.isActiveOrder?"asc"==this.orderDirection?"bi-sort-down":"bi-sort-up":""}onOrderClick(a){if(this.by?.length&&this.header?.grid?.query){const g=this.header.grid,c=(g.orderBy||[]).findIndex(u=>u[0]==this.by),v=(g.orderBy||[]).find(u=>u[0]==this.by)||[this.by,void 0];g.orderBy=a.ctrlKey||a.shiftKey?g?.orderBy:(g?.groupBy||[]).map(u=>[u.field,"asc"]),v[1]=v[1]?"asc"==v[1]?"desc":void 0:"asc",c>=0&&g.orderBy.splice(c,1),v[1]&&g.orderBy.push(v),g.query.order(g.orderBy||[]),this.cdRef.detectChanges()}}static{this.\u0275fac=function(g){return new(g||t)(h.rXU(h.zZn))}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["order"]],inputs:{header:"header",title:"title",by:"by",hint:"hint"},features:[h.Vt3],ngContentSelectors:O,decls:4,vars:7,consts:[["role","button","data-bs-toggle","tooltip","data-bs-placement","top",3,"click","id"]],template:function(g,c){1&g&&(h.NAR(),h.j41(0,"span",0),h.bIt("click",function(u){return c.onOrderClick(u)}),h.nrm(1,"i"),h.EFF(2),h.SdG(3),h.k0s()),2&g&&(h.HbH(c.orderClass),h.Y8G("id",c.generatedId(c.title)),h.BMQ("title",c.hint),h.R7$(),h.HbH(c.orderIcon),h.R7$(),h.SpI(" ",c.title," "))}})}}return t})()},3881:(I,R,l)=>{l.d(R,{a:()=>s});var e=l(3279),h=l(6610);function O(a,g){if(1&a&&(e.qex(0),e.j41(1,"span",5),e.EFF(2),e.k0s(),e.bVm()),2&a){const c=e.XpG(2);e.R7$(),e.Mz_("title","",c.percentage,"%"),e.R7$(),e.SpI("",c.percentage,"%")}}function n(a,g){if(1&a&&(e.j41(0,"div",2)(1,"div",3),e.DNE(2,O,3,3,"ng-container",4),e.k0s()()),2&a){const c=e.XpG();e.xc7("height",c.height,"px")("min-width",c.minWidth,"px"),e.R7$(),e.HbH(c.progressClass),e.xc7("width",c.percentage,"%"),e.BMQ("aria-valuenow",c.value)("aria-valuemin",c.min)("aria-valuemax",c.max),e.R7$(),e.Y8G("ngIf",!c.isNoPercentage)}}function t(a,g){if(1&a&&(e.j41(0,"div",6)(1,"div",7),e.nrm(2,"div"),e.k0s(),e.j41(3,"div",8),e.nrm(4,"div",9),e.k0s()()),2&a){const c=e.XpG();e.xc7("height",c.height,"px")("min-width",c.minWidth,"px"),e.R7$(),e.xc7("width",c.percentage,"%"),e.BMQ("aria-valuenow",c.value)("aria-valuemin",c.min)("aria-valuemax",c.max),e.R7$(),e.HbH(c.progressClass),e.R7$(),e.xc7("width",c.goalPercentage,"%"),e.BMQ("aria-valuenow",c.goalValue)("aria-valuemin",c.min)("aria-valuemax",c.max)}}let s=(()=>{class a{constructor(){this.max=100,this.min=0,this.value=0,this.goal=0,this.height=12}ngOnInit(){}get isGoal(){return!!this.goal&&this.goal!=this.max}get percentage(){return Math.round(100*(this.value-this.min)/(this.max-this.min))}get goalPercentage(){return Math.max(this.percentage-Math.round(100*(this.goal-this.min)/(this.max-this.min)),0)}get goalValue(){return Math.max(this.value-this.goal,0)}get isNoPercentage(){return null!=this.noPercentage}get progressClass(){return"progress-bar progress-bar-striped"+(this.color?" bg-"+this.color:"")}static{this.\u0275fac=function(v){return new(v||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["progress-bar"]],inputs:{max:"max",min:"min",value:"value",goal:"goal",height:"height",noPercentage:"noPercentage",minWidth:"minWidth",color:"color"},decls:3,vars:2,consts:[["stacked",""],["class","progress",3,"height","min-width",4,"ngIf","ngIfElse"],[1,"progress"],["role","progressbar"],[4,"ngIf"],[3,"title"],[1,"progress-stacked"],["role","progressbar","aria-label","Valor",1,"progress"],["role","progressbar","aria-label","Meta",1,"progress"],[1,"progress-bar","progress-bar-striped","bg-warning"]],template:function(v,u){if(1&v&&e.DNE(0,n,3,12,"div",1)(1,t,5,16,"ng-template",null,0,e.C5r),2&v){const x=e.sdS(2);e.Y8G("ngIf",!u.isGoal)("ngIfElse",x)}},dependencies:[h.bT],styles:[".progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px}"]})}}return a})()},8311:(I,R,l)=>{l.d(R,{T:()=>E});var e=l(3308),h=l(4795),O=l(291);class n extends O.C{constructor(P){super(),this.tipo="like",this.usuario_id="",this.atividade_id=null,this.plano_entrega_entrega_id=null,this.plano_trabalho_entrega_id=null,this.initialization(P)}}var t=l(3279),s=l(2342),a=l(4796),g=l(4423);let c=(()=>{class d extends g.F{constructor(i){super("Reacao",i),this.injector=i}static{this.\u0275fac=function(o){return new(o||d)(t.KVO(t.zZn))}}static{this.\u0275prov=t.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),v=(()=>{class d{constructor(i,o,m){this.util=i,this.auth=o,this.dao=m}reacaoUsuario(i){return i?i.find(o=>o.usuario_id==this.auth.usuario?.id):void 0}criaReacao(i,o,m){var b=this;return(0,e.A)(function*(){const k=new n({usuario_id:b.auth.usuario?.id,usuario:b.auth.usuario,tipo:i.key,atividade_id:"atividade_id"==o?m:null,plano_entrega_entrega_id:"plano_entrega_entrega_id"==o?m:null,plano_trabalho_entrega_id:"plano_trabalho_entrega_id"==o?m:null}),T=yield b.dao.save(k);return T&&(T.usuario=b.auth.usuario),T})()}atualizaReacao(i,o){var m=this;return(0,e.A)(function*(){const b=yield m.dao.update(o.id,{tipo:i.key});return b&&(b.usuario=m.auth.usuario),b})()}removeReacao(i){var o=this;return(0,e.A)(function*(){return yield o.dao.delete(i)})()}static{this.\u0275fac=function(o){return new(o||d)(t.KVO(s.a),t.KVO(a.u),t.KVO(c))}}static{this.\u0275prov=t.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var u=l(6610);function x(d,P){if(1&d){const i=t.RV6();t.j41(0,"span",11)(1,"img",12),t.bIt("click",function(){const m=t.eBV(i).$implicit,b=t.XpG(2);return t.Njj(b.react(m))}),t.k0s()()}if(2&d){const i=P.$implicit,o=t.XpG(2);t.FS9("title",i.hint),t.R7$(),t.Y8G("src",o.emojiPath(i.icon),t.B4B)}}function p(d,P){if(1&d&&(t.j41(0,"div",9),t.DNE(1,x,2,2,"span",10),t.k0s()),2&d){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.emojiList)}}function f(d,P){if(1&d){const i=t.RV6();t.j41(0,"span",13),t.bIt("click",function(){t.eBV(i);const m=t.XpG();return t.Njj(m.react(m.emojiList[0]))}),t.nrm(1,"i",14),t.j41(2,"label"),t.EFF(3,"Curtir"),t.k0s()()}}function r(d,P){if(1&d&&(t.j41(0,"span",15),t.nrm(1,"img",16),t.j41(2,"strong",17),t.EFF(3),t.k0s()()),2&d){let i,o;const m=t.XpG();t.R7$(),t.Y8G("src",m.emojiPath(null==(i=m.getIconReacao())?null:i.icon),t.B4B),t.R7$(2),t.JRh(null==(o=m.getIconReacao())?null:o.value)}}function _(d,P){if(1&d&&(t.j41(0,"small",22),t.EFF(1),t.k0s()),2&d){const i=P.$implicit;t.R7$(),t.SpI(" ",null==i.usuario?null:i.usuario.nome," ")}}function C(d,P){if(1&d&&(t.qex(0),t.j41(1,"div",18),t.nrm(2,"img",19),t.j41(3,"div",20)(4,"h5"),t.EFF(5),t.k0s(),t.DNE(6,_,2,1,"small",21),t.k0s()(),t.bVm()),2&d){const i=P.$implicit,o=t.XpG();t.R7$(2),t.Y8G("src",o.emojiPath(i.tipo),t.B4B),t.R7$(3),t.JRh(o.lookup.getValue(o.lookup.REACAO_TIPO,i.tipo)),t.R7$(),t.Y8G("ngForOf",i.reacoes)}}function y(d,P){if(1&d&&(t.j41(0,"div",23),t.EFF(1),t.k0s()),2&d){const i=t.XpG();t.R7$(),t.JRh(i.reacoes.length)}}let E=(()=>{class d extends h.g{set entity(i){this._entity!=i&&(this._entity=i)}get entity(){return this._entity}constructor(i){super(i),this.injector=i,this.origem=void 0,this.showEmojis=!1,this.emojiList=[],this.reacoes=[],this.reacoesPorTipo=[],this.colunaRelacionada="",this.reacaoService=i.get(v)}ngOnInit(){switch(this.emojiList=this.lookup.REACAO_TIPO,this.reacaoUsuario=this.entity?this.reacaoService.reacaoUsuario(this.entity?.reacoes):void 0,this.reacoes=this.entity?this.entity.reacoes:[],this.reacoesPorTipo=this.separarReacoesPorTipo(this.reacoes),this.origem){case"ATIVIDADE":this.colunaRelacionada="atividade_id";break;case"PLANO_ENTREGA_ENTREGA":this.colunaRelacionada="plano_entrega_entrega_id";break;case"PLANO_TRABALHO_ENTREGA":this.colunaRelacionada="plano_trabalho_entrega_id"}}toggleShow(i){this.showEmojis=i}emojiPath(i){return this.gb.baseURL+`assets/icons/reactions/${i}.svg`}react(i){var o=this;return(0,e.A)(function*(){if(o.reacaoUsuario&&o.reacaoUsuario.tipo==i.key)yield o.reacaoService.removeReacao(o.reacaoUsuario),o.reacoes=o.reacoes.filter(m=>m.id!==o.reacaoUsuario?.id),o.reacoesPorTipo=o.separarReacoesPorTipo(o.reacoes),o.reacaoUsuario=void 0;else if(o.reacaoUsuario&&o.reacaoUsuario.tipo!=i.key){o.reacaoUsuario=yield o.reacaoService.atualizaReacao(i,o.reacaoUsuario);const m=o.reacoes.findIndex(b=>b.id===o.reacaoUsuario?.id);-1!==m&&(o.reacoes[m]=o.reacaoUsuario),o.reacoesPorTipo=o.separarReacoesPorTipo(o.reacoes)}else o.reacaoUsuario=yield o.reacaoService.criaReacao(i,o.colunaRelacionada,o.entity?.id),o.reacoes.push(o.reacaoUsuario),o.reacoesPorTipo=o.separarReacoesPorTipo(o.reacoes);o.cdRef.detectChanges()})()}getIconReacao(){return this.lookup.REACAO_TIPO.find(i=>i.key===this.reacaoUsuario?.tipo)}separarReacoesPorTipo(i){const o=[];return i.forEach(m=>{const b=m.tipo,k=o.find(T=>T.tipo===b);k?k.reacoes.push(m):o.push({tipo:b,reacoes:[m]})}),o}static{this.\u0275fac=function(o){return new(o||d)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:d,selectors:[["reaction"]],inputs:{origem:"origem",entity:"entity"},features:[t.Vt3],decls:9,vars:5,consts:[[1,"d-flex","align-items-center","justify-content-start","mt-2"],[1,"wrapper",3,"mouseenter","mouseleave"],["class","emojis d-flex",4,"ngIf"],["class","btn-reacao",3,"click",4,"ngIf"],["class","btn-reacao",4,"ngIf"],[1,"reactions"],[1,"d-flex","align-items-center"],[4,"ngFor","ngForOf"],["class","total ms-2 flex-grow-1",4,"ngIf"],[1,"emojis","d-flex"],[3,"title",4,"ngFor","ngForOf"],[3,"title"],["width","75px",3,"click","src"],[1,"btn-reacao",3,"click"],[1,"bi","bi-hand-thumbs-up","me-2"],[1,"btn-reacao"],["width","75px",3,"src"],[1,"me-2"],[1,"tipoReacao"],[3,"src"],[1,"participantes","rounded","shadow"],["class","d-block",4,"ngFor","ngForOf"],[1,"d-block"],[1,"total","ms-2","flex-grow-1"]],template:function(o,m){1&o&&(t.j41(0,"div",0)(1,"div",1),t.bIt("mouseenter",function(){return m.toggleShow(!0)})("mouseleave",function(){return m.toggleShow(!1)}),t.DNE(2,p,2,1,"div",2)(3,f,4,0,"span",3)(4,r,4,2,"span",4),t.k0s(),t.j41(5,"div",5)(6,"div",6),t.DNE(7,C,7,3,"ng-container",7)(8,y,2,1,"div",8),t.k0s()()()),2&o&&(t.R7$(2),t.Y8G("ngIf",m.showEmojis),t.R7$(),t.Y8G("ngIf",null==m.reacaoUsuario),t.R7$(),t.Y8G("ngIf",null!=m.reacaoUsuario),t.R7$(3),t.Y8G("ngForOf",m.reacoesPorTipo),t.R7$(),t.Y8G("ngIf",m.reacoes.length))},dependencies:[u.Sq,u.bT],styles:[".wrapper[_ngcontent-%COMP%]{position:relative}.wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;cursor:pointer;transition:transform .25s ease;padding:5px}.wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.5);transition:transform .25s ease}.btn-reacao[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.3294117647);display:flex;width:auto;padding:3px 5px;border-radius:80px;max-width:100px;justify-content:center;align-items:center;cursor:pointer}.btn-reacao[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;padding:0;margin-right:5px}.emojis[_ngcontent-%COMP%]{position:absolute;top:-30px;background:#fff;border:1px lightgray solid;box-shadow:0 0 16px 3px #00000073;border-radius:80px;display:inline-block;z-index:9}.reactions[_ngcontent-%COMP%]{position:relative;margin-left:10px}.reactions[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.reactions[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:first{margin-left:0}.participantes[_ngcontent-%COMP%]{display:none;position:absolute;bottom:20px;background:var(--bs-body-bg);z-index:10;padding:10px;width:max-content;border:1px solid #ddd}.participantes[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .participantes[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--bs-body-color)}.tipoReacao[_ngcontent-%COMP%]:hover > .participantes[_ngcontent-%COMP%]{display:block}.tipoReacao[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px}"]})}}return d})()},1928:(I,R,l)=>{l.d(R,{C:()=>O});var e=l(3279),h=l(568);let O=(()=>{class n{constructor(s){this.lookup=s}getValorMeta(s){let a="";switch(s.entrega?.tipo_indicador){case"PORCENTAGEM":a=s.meta.porcentagem+" %";break;case"QUANTIDADE":a=s.meta.quantitativo+"";break;case"VALOR":a=s.meta.valor+"";break;case"QUALITATIVO":a=this.lookup.getValue(s.entrega.lista_qualitativos||[],s.meta.qualitativo);break;default:a="Indicador desconhecido"}return a}getValorRealizado(s){let a="";switch(s.entrega?.tipo_indicador){case"PORCENTAGEM":a=s.realizado.porcentagem+" %";break;case"QUANTIDADE":a=s.realizado.quantitativo+"";break;case"VALOR":a=s.realizado.valor+"";break;case"QUALITATIVO":a=this.lookup.getValue(s.entrega.lista_qualitativos||[],s.realizado.qualitativo);break;default:a="Indicador desconhecido"}return a}getValor(s){return typeof s.porcentagem<"u"?s.porcentagem:typeof s.qualitativo<"u"?s.qualitativo:typeof s.quantitativo<"u"?s.quantitativo:typeof s.valor<"u"?s.valor:0}getEntregaValor(s,a){let g={};return"PORCENTAGEM"==s.tipo_indicador&&(g.porcentagem=a),"QUALITATIVO"==s.tipo_indicador&&(g.qualitativo=a),"QUANTIDADE"==s.tipo_indicador&&(g.quantitativo=a),"VALOR"==s.tipo_indicador&&(g.valor=a),g}isPorcentagem(s){return"PORCENTAGEM"==s.entrega?.tipo_indicador}isAtivo(s){return this.isValido(s)&&"ATIVO"==s.status}isValido(s){return!s.deleted_at&&"CANCELADO"!=s.status&&!s.data_arquivamento}situacaoPlano(s){return s.deleted_at?"EXCLUIDO":s.data_arquivamento?"ARQUIVADO":s.status}static{this.\u0275fac=function(a){return new(a||n)(e.KVO(h.s))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()},7072:(I,R,l)=>{l.d(R,{c:()=>x});var e=l(3279),h=l(5623),O=l(5739),n=l(568),t=l(3609),s=l(2342),a=l(6610),g=l(8857);const c=()=>[];function v(p,f){if(1&p){const r=e.RV6();e.j41(0,"i",7),e.bIt("click",function(C){e.eBV(r);const y=e.XpG().$implicit,E=e.XpG();return e.Njj(E.addComentarioClick(C,E.entity,y.id))}),e.k0s()}}function u(p,f){if(1&p){const r=e.RV6();e.j41(0,"span",3,0),e.bIt("click",function(){e.eBV(r);const C=e.sdS(1),y=e.XpG();return e.Njj(y.comentarioClick(C))}),e.nrm(2,"i"),e.j41(3,"span",4)(4,"strong"),e.EFF(5),e.k0s(),e.EFF(6),e.nrm(7,"br"),e.k0s(),e.DNE(8,v,1,0,"i",5),e.j41(9,"span",6),e.EFF(10),e.k0s()()}if(2&p){const r=f.$implicit,_=e.XpG();e.xc7("margin-left",5*(r.path&&r.path.includes("/")?r.path.split("/").length-1:0)+"px")("background-color",_.util.getBackgroundColor(r.path&&r.path.includes("/")?r.path.split("/").length-1:0,20)+"!important"),e.Y8G("title",_.lookup.getValue(_.lookup.COMENTARIO_TIPO,r.tipo)),e.R7$(2),e.HbH("me-1 "+_.lookup.getIcon(_.lookup.COMENTARIO_TIPO,r.tipo)),e.R7$(3),e.JRh(_.util.shortName(_.util.apelidoOuNome(r.usuario))),e.R7$(),e.SpI(" \u2022 ",_.util.getDateTimeFormatted(r.data_comentario),""),e.R7$(2),e.Y8G("ngIf",!_.selectable),e.R7$(2),e.SpI(" ",r.texto," ")}}let x=(()=>{class p{set entity(r){this._entity!=r&&(this._entity=r,r&&this.comentario&&(r.comentarios=this.comentario.orderComentarios(r.comentarios||[])))}get entity(){return this._entity}constructor(r){this.injector=r,this.selectable=!1,this.noPersist=void 0,this.origem=void 0,this.addComentarioButton={icon:"bi bi-plus-circle",hint:"Incluir coment\xe1rio"},this._entity=void 0,this.validate=(_,C)=>null,this.fh=r.get(O.s),this.cdRef=r.get(e.gRc),this.go=r.get(t.T),this.util=r.get(s.a),this.lookup=r.get(n.s),this.comentario=r.get(h.D),this.form=this.fh.FormBuilder({comentarios:{default:[]}},this.cdRef,this.validate)}ngOnInit(){}get isNoPersist(){return null!=this.noPersist}comentarioClick(r){const _=r.getAttribute("data-expanded");r.setAttribute("data-expanded","true"==_?"false":"true")}addComentarioClick(r,_,C){r?.stopPropagation(),this.go.navigate({route:["uteis","comentarios",this.origem,this.isNoPersist?"NOPERSIST":_.id,"new"],params:{comentario_id:C}},{modal:!0,metadata:{entity:_},modalClose:y=>{y&&(this.save&&this.save(y),this.isNoPersist||(this.grid?.query||this.query)?.refreshId(_.id))}})}static{this.\u0275fac=function(_){return new(_||p)(e.rXU(e.zZn))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["comentarios-widget"]],inputs:{selectable:"selectable",noPersist:"noPersist",origem:"origem",save:"save",grid:"grid",query:"query",entity:"entity"},decls:2,vars:3,consts:[["badge",""],["title","Coment\xe1rios","small","",3,"buttonClick","button"],["class","badge bg-light text-dark comentario-badge","role","button","data-expanded","false","data-bs-toggle","tooltip","data-bs-placement","top",3,"title","margin-left","background-color","click",4,"ngFor","ngForOf"],["role","button","data-expanded","false","data-bs-toggle","tooltip","data-bs-placement","top",1,"badge","bg-light","text-dark","comentario-badge",3,"click","title"],[1,"comentario-title"],["class","bi bi-reply comentario-responder","data-bs-toggle","tooltip","data-bs-placement","top","title","Responder",3,"click",4,"ngIf"],[1,"comentario-text","text-truncate"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Responder",1,"bi","bi-reply","comentario-responder",3,"click"]],template:function(_,C){1&_&&(e.j41(0,"separator",1),e.bIt("buttonClick",function(E){return C.addComentarioClick(E,C.entity)}),e.k0s(),e.DNE(1,u,11,11,"span",2)),2&_&&(e.Y8G("button",C.selectable?void 0:C.addComentarioButton),e.R7$(),e.Y8G("ngForOf",(null==C.entity?null:C.entity.comentarios)||e.lJ4(2,c)))},dependencies:[a.Sq,a.bT,g.F],styles:["[_nghost-%COMP%]{max-width:320px;display:block}.comentario-badge[data-expanded=true][_ngcontent-%COMP%]   .comentario-title[_ngcontent-%COMP%]{display:initial;white-space:normal;font-size:12px}.comentario-badge[data-expanded=true][_ngcontent-%COMP%]   .comentario-text[_ngcontent-%COMP%]{font-size:12px;height:auto;display:block;white-space:initial}.comentario-badge[_ngcontent-%COMP%]{white-space:nowrap;display:block;position:relative;background-color:#ffe69c!important;margin-bottom:1px;text-align:left;padding:3px 5px}.comentario-badge[_ngcontent-%COMP%]   .comentario-title[_ngcontent-%COMP%]{display:none}.comentario-badge[_ngcontent-%COMP%]   .comentario-text[_ngcontent-%COMP%]{width:calc(100% - 15px);display:inline-block;font-size:12px}.comentario-badge[_ngcontent-%COMP%]:hover   .comentario-responder[_ngcontent-%COMP%]{display:block}.comentario-responder[_ngcontent-%COMP%]{display:none;position:absolute;right:5px;top:5px}"]})}}return p})()},3292:(I,R,l)=>{l.d(R,{r:()=>v});var e=l(3308),h=l(6149),O=l(4795),n=l(3279),t=l(6610);function s(u,x){if(1&u&&(n.qex(0),n.j41(1,"div",2)(2,"h6"),n.EFF(3),n.k0s(),n.nrm(4,"cite",3),n.k0s(),n.bVm()),2&u){const p=x.$implicit,f=x.index,r=n.XpG();n.R7$(),n.xc7("border-color",r.util.getBackgroundColor(f,r.colunas.length)+"!important"),n.R7$(2),n.JRh(p.titulo),n.R7$(),n.Y8G("innerHTML",p.texto,n.npT)}}let a=(()=>{class u extends O.g{constructor(p){super(p),this.injector=p,this.colunas=[]}ngOnInit(){super.ngOnInit()}static{this.\u0275fac=function(f){return new(f||u)(n.rXU(n.zZn))}}static{this.\u0275cmp=n.VBU({type:u,selectors:[["app-colunas"]],inputs:{colunas:"colunas"},features:[n.Vt3],decls:2,vars:1,consts:[[1,"row"],[4,"ngFor","ngForOf"],[1,"border-start","border-4","ps-3","mt-3","col-md-6","col-12"],[3,"innerHTML"]],template:function(f,r){1&f&&(n.j41(0,"div",0),n.DNE(1,s,5,4,"ng-container",1),n.k0s()),2&f&&(n.R7$(),n.Y8G("ngForOf",r.colunas))},dependencies:[t.Sq]})}}return u})();function g(u,x){if(1&u&&n.nrm(0,"planejamento-show",2),2&u){const p=n.XpG();n.Y8G("planejamento",p.planejamentoSuperior)}}function c(u,x){if(1&u&&(n.j41(0,"div",3)(1,"h6"),n.EFF(2,"Planejamento:"),n.k0s(),n.j41(3,"h4"),n.EFF(4),n.k0s(),n.nrm(5,"app-colunas",4),n.k0s()),2&u){const p=n.XpG();n.Y8G("ngClass",p.planejamento.planejamento_superior_id?"":"first-box"),n.R7$(4),n.JRh(p.planejamento.nome),n.R7$(),n.Y8G("colunas",p.colunas)}}let v=(()=>{class u extends O.g{constructor(p){super(p),this.injector=p,this.planejamento={},this.planejamentoSuperior=null,this.colunas=[],this.planejamentoDao=p.get(h.Y)}ngOnInit(){super.ngOnInit(),this.colunas.push({titulo:"Miss\xe3o",texto:this.planejamento.missao},{titulo:"Vis\xe3o",texto:this.planejamento.visao},{titulo:"Valores",texto:this.planejamento.valores.map(p=>p.value).join("<br>")},{titulo:"Resultados institucionais",texto:this.planejamento.resultados_institucionais?.map(p=>p.value).join("<br>")})}ngAfterViewInit(){super.ngAfterViewInit(),this.planejamento.planejamento_superior_id&&this.buscaPlanejamentoSuperior(this.planejamento.planejamento_superior_id)}buscaPlanejamentoSuperior(p){var f=this;return(0,e.A)(function*(){f.planejamentoSuperior=yield f.planejamentoDao.getById(p)})()}static{this.\u0275fac=function(f){return new(f||u)(n.rXU(n.zZn))}}static{this.\u0275cmp=n.VBU({type:u,selectors:[["planejamento-show"]],inputs:{planejamento:"planejamento"},features:[n.Vt3],decls:2,vars:2,consts:[[3,"planejamento",4,"ngIf"],["class","planejamento arrow_box w-100",3,"ngClass",4,"ngIf"],[3,"planejamento"],[1,"planejamento","arrow_box","w-100",3,"ngClass"],[3,"colunas"]],template:function(f,r){1&f&&n.DNE(0,g,1,1,"planejamento-show",0)(1,c,6,3,"div",1),2&f&&(n.Y8G("ngIf",r.planejamentoSuperior),n.R7$(),n.Y8G("ngIf",r.planejamento))},dependencies:[t.YU,t.bT,a,u],styles:["[_nghost-%COMP%]{flex-basis:fit-content}"]})}}return u})()}}]);