"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[24,32],{8032:(K,I,d)=>{d.d(I,{x:()=>T});var h=d(8239),E=d(2307),M=d(5736),r=d(755),g=d(6733);function p(c,f){if(1&c&&r._UZ(0,"i"),2&c){const l=r.oxw(2);r.Tol(l.button.icon)}}function j(c,f){if(1&c&&(r.TgZ(0,"span",8),r._uU(1),r.qZA()),2&c){const l=r.oxw(2);r.xp6(1),r.Oqu(l.button.label)}}function C(c,f){if(1&c&&(r.TgZ(0,"span",9),r._uU(1),r.qZA()),2&c){const l=r.oxw(2);r.xp6(1),r.Oqu(l.button.badge)}}function x(c,f){if(1&c&&(r.TgZ(0,"button",10)(1,"span",11),r._uU(2,"V"),r.qZA()()),2&c){const l=r.oxw(2);r.Tol("btn dropdown-toggle dropdown-toggle-split "+(l.button.color||"btn-outline-primary")),r.uIk("id",l.generatedButtonId(l.button)+"_dropdown")}}function N(c,f){1&c&&r._UZ(0,"hr",16)}function O(c,f){if(1&c&&r._UZ(0,"i"),2&c){const l=r.oxw(2).$implicit;r.Tol(l.icon)}}function D(c,f){if(1&c){const l=r.EpF();r.TgZ(0,"a",17),r.NdJ("click",function(){r.CHM(l);const v=r.oxw().$implicit,Z=r.oxw(3);return r.KtG(Z.onButtonClick(v))}),r.YNc(1,O,1,2,"i",3),r._uU(2),r.qZA()}if(2&c){const l=r.oxw().$implicit,b=r.oxw(3);r.Q6J("id",b.generatedButtonId(l,"_item")),r.xp6(1),r.Q6J("ngIf",null==l.icon?null:l.icon.length),r.xp6(1),r.hij(" ",l.label||"","")}}function Q(c,f){if(1&c&&(r.TgZ(0,"li"),r.YNc(1,N,1,0,"hr",14),r.YNc(2,D,3,3,"a",15),r.qZA()),2&c){const l=f.$implicit;r.xp6(1),r.Q6J("ngIf",l.divider),r.xp6(1),r.Q6J("ngIf",!l.divider)}}function t(c,f){if(1&c&&(r.TgZ(0,"ul",12),r.YNc(1,Q,3,2,"li",13),r.qZA()),2&c){const l=r.oxw(2);r.uIk("aria-labelledby",l.generatedButtonId(l.button)+(l.button.items&&l.button.toggle?"_dropdown":"")),r.xp6(1),r.Q6J("ngForOf",l.button.items)}}function P(c,f){if(1&c){const l=r.EpF();r.TgZ(0,"div",1)(1,"button",2),r.NdJ("click",function(){r.CHM(l);const v=r.oxw();return r.KtG(v.onButtonClick(v.button))}),r.YNc(2,p,1,2,"i",3),r.YNc(3,j,2,1,"span",4),r.YNc(4,C,2,1,"span",5),r.qZA(),r.YNc(5,x,3,3,"button",6),r.YNc(6,t,2,2,"ul",7),r.qZA()}if(2&c){const l=r.oxw();r.ekj("w-100",l.isFullWidth),r.xp6(1),r.Tol(l.buttonClass),r.Q6J("id",l.generatedButtonId(l.button))("disabled",l.buttonDisabled(l.button)),r.uIk("data-bs-toggle",l.button.items&&!l.button.toggle?"dropdown":void 0),r.xp6(1),r.Q6J("ngIf",null==l.button.icon?null:l.button.icon.length),r.xp6(1),r.Q6J("ngIf",null==l.button.label?null:l.button.label.length),r.xp6(1),r.Q6J("ngIf",null==l.button.badge?null:l.button.badge.length),r.xp6(1),r.Q6J("ngIf",l.button.items&&l.button.toggle),r.xp6(1),r.Q6J("ngIf",l.button.items)}}let T=(()=>{class c extends M.V{set button(l){this._button!=l&&(this._button=l),this._button.id=this.generatedButtonId(this._button)}get button(){return this._button}set route(l){this._button.route!=l&&(this._button.route=l)}get route(){return this._button.route}set metadata(l){this._button.metadata!=l&&(this._button.metadata=l)}get metadata(){return this._button.metadata}set class(l){this._button.class!=l&&(this._button.class=l)}get class(){return this._button.class}set icon(l){this._button.icon!=l&&(this._button.icon=l),this._button.id=this.generatedButtonId(this._button)}get icon(){return this._button.icon}set label(l){this._button.label!=l&&(this._button.label=l),this._button.id=this.generatedButtonId(this._button)}get label(){return this._button.label}set hint(l){this._button.hint!=l&&(this._button.hint=l),this._button.id=this.generatedButtonId(this._button)}get hint(){return this._button.hint}set disabled(l){this._button.disabled!=l&&(this._button.disabled=l)}get disabled(){return this._button.disabled}set iconChar(l){this._button.iconChar!=l&&(this._button.iconChar=l)}get iconChar(){return this._button.iconChar}set color(l){this._button.color!=l&&(this._button.color=l)}get color(){return this._button.color}set running(l){this._button.running!=l&&(this._button.running=l)}get running(){return this._button.running}set toggle(l){this._button.toggle!=l&&(this._button.toggle=l)}get toggle(){return this._button.toggle}set badge(l){this._button.badge!=l&&(this._button.badge=l)}get badge(){return this._button.badge}set pressed(l){this._button.pressed!=l&&(this._button.pressed=l)}get pressed(){return this._button.pressed}set items(l){this._button.items!=l&&(this._button.items=l)}get items(){return this._button.items}set hidden(l){this._button.hidden!=l&&(this._button.hidden=l)}get hidden(){return this._button.hidden}set dynamicItems(l){this._button.dynamicItems!=l&&(this._button.dynamicItems=l)}get dynamicItems(){return this._button.dynamicItems}set dynamicVisible(l){this._button.dynamicVisible!=l&&(this._button.dynamicVisible=l)}get dynamicVisible(){return this._button.dynamicVisible}set onClick(l){this._button.onClick!=l&&(this._button.onClick=l)}get onClick(){return this._button.onClick}constructor(l){super(l),this.injector=l,this._button={},this.go=l.get(E.o),this.button.id=this.generatedButtonId(this.button,this.util.md5())}get isFullWidth(){return null!=this.fullWidth}get isNoArrow(){return null!=this.noArrow}get isPlaceholder(){return null!=this.placeholder}get buttonClass(){return(this.isPlaceholder?"placeholder ":"")+(this.buttonPressed(this.button)?"active ":"")+(this.isNoArrow?"no-arrow ":"")+(this.button.items&&!this.button.toggle?"dropdown-toggle ":"")+"btn "+(this.button.color||"btn-outline-primary")}buttonDisabled(l){return this.isPlaceholder||("function"==typeof l.disabled?l.disabled():!!l.disabled)}buttonPressed(l){return!!l.toggle&&(l.pressed&&"boolean"!=typeof l.pressed?!!l.pressed(this):!!l.pressed)}onButtonClick(l){var b=this;return(0,h.Z)(function*(){l.toggle&&"boolean"==typeof l.pressed&&(l.pressed=!l.pressed),l.route?b.go.navigate(l.route,l.metadata):l.onClick&&(yield l.onClick(b.data,l)),b.cdRef.detectChanges()})()}static#t=this.\u0275fac=function(b){return new(b||c)(r.Y36(r.zs3))};static#e=this.\u0275cmp=r.Xpm({type:c,selectors:[["action-button"]],inputs:{button:"button",route:"route",metadata:"metadata",class:"class",icon:"icon",label:"label",hint:"hint",disabled:"disabled",iconChar:"iconChar",color:"color",running:"running",toggle:"toggle",badge:"badge",pressed:"pressed",items:"items",hidden:"hidden",dynamicItems:"dynamicItems",dynamicVisible:"dynamicVisible",onClick:"onClick",data:"data",noArrow:"noArrow",fullWidth:"fullWidth",placeholder:"placeholder"},features:[r.qOj],decls:1,vars:1,consts:[["class","btn-group","role","group",3,"w-100",4,"ngIf"],["role","group",1,"btn-group"],["type","button","aria-expanded","false",3,"id","disabled","click"],[3,"class",4,"ngIf"],["class","d-none d-md-inline-block ms-2",4,"ngIf"],["class","badge bg-primary ms-2",4,"ngIf"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",3,"class",4,"ngIf"],["class","dropdown-menu dropdown-menu-end",4,"ngIf"],[1,"d-none","d-md-inline-block","ms-2"],[1,"badge","bg-primary","ms-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false"],[1,"visually-hidden"],[1,"dropdown-menu","dropdown-menu-end"],[4,"ngFor","ngForOf"],["class","dropdown-divider",4,"ngIf"],["class","dropdown-item","role","button",3,"id","click",4,"ngIf"],[1,"dropdown-divider"],["role","button",1,"dropdown-item",3,"id","click"]],template:function(b,v){1&b&&r.YNc(0,P,7,12,"div",0),2&b&&r.Q6J("ngIf",!v.button.dynamicVisible||v.button.dynamicVisible(v.button))},dependencies:[g.sg,g.O5],styles:["[_nghost-%COMP%]     .transparent-black{background-color:transparent;color:#000}[_nghost-%COMP%]     .transparent-white{background-color:transparent;color:#fff}.no-arrow[_ngcontent-%COMP%]:before, .no-arrow[_ngcontent-%COMP%]:after{display:none!important}"]})}return c})()},7024:(K,I,d)=>{d.r(I),d.d(I,{PlanejamentoModule:()=>zt});var h=d(6733),E=d(2662),M=d(5579),r=d(1391),g=d(2314),p=d(8239),j=d(4040),C=d(3150),x=d(5458),N=d(1214),O=d(1193),D=d(1184),Q=d(9193),t=d(755),P=d(8820),T=d(8967),c=d(2392),f=d(4508),l=d(4495),b=d(4603),v=d(7819),Z=d(6384),F=d(4978),w=d(7511),L=d(6298),y=d(1058),z=d(1240),J=d(7224),U=d(3351),X=d(5489);function $(s,u){if(1&s&&(t.TgZ(0,"span",11),t._UZ(1,"badge",12),t.qZA()),2&s){const n=u.separator,e=t.oxw();let o,i,a;t.xp6(1),t.Q6J("icon",(null==(o=e.getEixo(null==n?null:n.text))?null:o.icone)||"bi bi-gear")("color",(null==(i=e.getEixo(null==n?null:n.text))?null:i.cor)||"primary")("label",(null==(a=e.getEixo(null==n?null:n.text))?null:a.nome)||"Desconhecido")}}function tt(s,u){if(1&s&&(t.TgZ(0,"span",13),t._uU(1),t.qZA()),2&s){const n=u.row,e=t.oxw();t.Udp("margin-left",20*((null==n._metadata?null:n._metadata.level)||0),"px"),t.xp6(1),t.Oqu(e.marcador(n)+n.nome)}}function et(s,u){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const n=u.row;t.xp6(1),t.Oqu(null==n.eixo_tematico?null:n.eixo_tematico.nome)}}function ot(s,u){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const n=u.row;t.xp6(1),t.Oqu(n.fundamentacao)}}function nt(s,u){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const n=u.row;t.xp6(1),t.Oqu((null==n.objetivo_superior?null:n.objetivo_superior.nome)||"")}}function it(s,u){if(1&s&&(t.TgZ(0,"column",14),t.YNc(1,nt,2,1,"ng-template",null,15,t.W1O),t.qZA()),2&s){const n=t.MAs(2);t.Q6J("template",n)}}let B=(()=>{class s extends L.D{set control(n){super.control=n}get control(){return super.control}set entity(n){super.entity=n}get entity(){return super.entity}set disabled(n){this._disabled!=n&&(this._disabled=n)}get disabled(){return this._disabled}set noPersist(n){super.noPersist=n}get noPersist(){return super.noPersist}get items(){return this.gridControl.value||this.gridControl.setValue(new O.Z),this.gridControl.value.objetivos||(this.gridControl.value.objetivos=[]),this.gridControl.value.objetivos}constructor(n){super(n),this.injector=n,this.minHeight=350,this.options=[],this._disabled=!1,this.eixos=[],this.dao=n.get(x.U),this.objetivoDao=n.get(y.e),this.eixoDao=n.get(z.e),this.groupBy=[{field:"eixo_tematico_id",label:"Eixo Tem\xe1tico"}],this.orderBy=[["nome","asc"]],this.form=this.fh.FormBuilder({nome:{default:""},fundamentacao:{default:""},planejamento_id:{default:null},eixo_tematico_id:{default:null},objetivo_superior_id:{default:null}},this.cdRef),this.OPTION_INFORMACOES.onClick=e=>this.go.navigate({route:["gestao","planejamento","objetivo",e.id,"consult"]},{modal:!0}),this.OPTION_EXCLUIR.onClick=e=>{this.removeObjetivo(e)},this.addOption(this.OPTION_INFORMACOES),this.addOption(this.OPTION_EXCLUIR,"MOD_PLAN_INST_EXCL")}ngOnInit(){super.ngOnInit(),this.entity=this.metadata?.entity||this.entity,this.carregaEixos(),this.sortObjetivos()}dynamicButtons(n){let e=[];return this.auth.hasPermissionTo("MOD_PLAN_INST_EDT")&&!this.disabled&&e.push({hint:"Alterar",icon:"bi bi-pencil-square",color:"btn-outline-info",onClick:i=>{this.editObjetivo(i)}}),e.push({hint:"Entregas",icon:"bi bi-file-earmark-bar-graph",onClick:i=>this.go.navigate({route:["gestao","plano-entrega","entrega","objetivos",i.id]},{modal:!0})}),e}marcador(n){let e=n._metadata?.level||0;return e<1?"":e<2?"\u2022 ":e<3?"- ":"+ "}addObjetivo(){var n=this;return(0,p.Z)(function*(){let e=new w.i({_status:"ADD",id:n.dao.generateUuid(),planejamento_id:n.entity?.id});var o;n.go.navigate({route:["gestao","planejamento","objetivo"]},{metadata:{planejamento:n.entity,objetivo:e,objetivos:n.objetivosPai(e.id)},modalClose:(o=(0,p.Z)(function*(i){if(i)try{n.carregaEixos(),n.items.push(n.isNoPersist?i:yield n.objetivoDao.save(i)),n.sortObjetivos()}catch(a){n.error(a?.error||a?.message||a)}}),function(a){return o.apply(this,arguments)})})})()}objetivosPai(n){let e=[],o=i=>{for(let a of i)a.id!=n&&(e.push(a),o(this.items.filter(m=>m.objetivo_pai_id==a.id).sort((m,_)=>m.sequencia-_.sequencia)))};return o(this.items.filter(i=>!i.objetivo_pai_id).sort((i,a)=>i.sequencia-a.sequencia)),e}sortObjetivos(){let n=[],e=(o,i)=>{for(let a of o)a._metadata=Object.assign(a._metadata||{},{level:i}),n.push(a),"DELETE"!=a._status&&e(this.items.filter(m=>m.objetivo_pai_id==a.id).sort((m,_)=>m.nome>_.nome?1:-1),i+1)};e(this.items.filter(o=>!o.objetivo_pai_id).sort((o,i)=>o.nome>i.nome?1:-1),0),this.items.length=0,this.items.push(...n),this.cdRef.detectChanges()}editObjetivo(n){var e=this;return(0,p.Z)(function*(){n._status="ADD"==n._status?"ADD":"EDIT";let o=e.items.indexOf(n);var i;e.go.navigate({route:["gestao","planejamento","objetivo"]},{metadata:{planejamento:e.entity,objetivo:n,objetivos:e.objetivosPai(n.id)},modalClose:(i=(0,p.Z)(function*(a){a&&(e.isNoPersist||(yield e.objetivoDao?.save(a)),e.items[o]=a,e.carregaEixos(),e.sortObjetivos())}),function(m){return i.apply(this,arguments)})})})()}removeObjetivo(n){var e=this;return(0,p.Z)(function*(){if(yield e.dialog.confirm("Exclui ?","Deseja realmente excluir?")){let i=e.items.indexOf(n);return e.isNoPersist?n._status="DELETE":(yield e.objetivoDao.delete(n),e.grid?.items.splice(i,1)),e.sortObjetivos(),!0}return!1})()}getEixo(n){return this.eixos?.find(e=>e.id==n)}carregaEixos(){this.eixoDao?.query().getAll().then(n=>{this.eixos=n})}static#t=this.\u0275fac=function(e){return new(e||s)(t.Y36(t.zs3))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["planejamento-list-objetivo"]],viewQuery:function(e,o){if(1&e&&(t.Gf(j.Q,5),t.Gf(C.M,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.editableForm=i.first),t.iGM(i=t.CRH())&&(o.grid=i.first)}},inputs:{planejamento_superior_id:"planejamento_superior_id",control:"control",entity:"entity",disabled:"disabled",noPersist:"noPersist"},features:[t.qOj],decls:16,vars:19,consts:[["editable","",3,"items","form","selectable","minHeight","add","remove","hasDelete","hasEdit","hasAdd","join","groupBy","orderBy","groupTemplate"],["gridObjetivos",""],["groupEixoTematico",""],["title","Nome",3,"template"],["columnNome",""],["title","Eixo Tem\xe1tico",3,"template"],["columnEixoTematico",""],["title","Fundamenta\xe7\xe3o",3,"template"],["columnFundamentacao",""],["title","Objetivo Superior",3,"template",4,"ngIf"],["type","options",3,"dynamicButtons","options"],[1,"text-wrap"],[3,"icon","color","label"],[1,"text-break","w-100"],["title","Objetivo Superior",3,"template"],["columnObjetivoSuperior",""]],template:function(e,o){if(1&e&&(t.TgZ(0,"grid",0,1),t.YNc(2,$,2,3,"ng-template",null,2,t.W1O),t.TgZ(4,"columns")(5,"column",3),t.YNc(6,tt,2,3,"ng-template",null,4,t.W1O),t.qZA(),t.TgZ(8,"column",5),t.YNc(9,et,2,1,"ng-template",null,6,t.W1O),t.qZA(),t.TgZ(11,"column",7),t.YNc(12,ot,2,1,"ng-template",null,8,t.W1O),t.qZA(),t.YNc(14,it,3,1,"column",9),t._UZ(15,"column",10),t.qZA()()),2&e){const i=t.MAs(3),a=t.MAs(7),m=t.MAs(10),_=t.MAs(13);t.Q6J("items",o.items)("form",o.form)("selectable",!1)("minHeight",o.minHeight)("add",o.addObjetivo.bind(o))("remove",o.removeObjetivo.bind(o))("hasDelete",!1)("hasEdit",!1)("hasAdd",!o.disabled)("join",o.join)("groupBy",o.groupBy)("orderBy",o.orderBy)("groupTemplate",i),t.xp6(5),t.Q6J("template",a),t.xp6(3),t.Q6J("template",m),t.xp6(3),t.Q6J("template",_),t.xp6(3),t.Q6J("ngIf",null==o.planejamento_superior_id?null:o.planejamento_superior_id.length),t.xp6(1),t.Q6J("dynamicButtons",o.dynamicButtons.bind(o))("options",o.options)}},dependencies:[h.O5,C.M,J.a,U.b,X.F]})}return s})();const at=["planejamentoSuperior"],lt=["objetivos"];let q=(()=>{class s extends D.F{constructor(n){var e;super(n,O.Z,x.U),e=this,this.injector=n,this.planejamentosSuperiores=[],this.hasPermissionToUNEX=!1,this.joinPlanejamentoSuperior=[],this.validate=(o,i)=>{let a=null;return["nome","unidade_id","missao","visao"].indexOf(i)>=0&&!o.value?.length&&(a="Obrigat\xf3rio"),"data_inicio"==i&&!this.dao?.validDateTime(o.value)&&(a="Inv\xe1lido"),"data_fim"==i&&o.value&&!this.dao?.validDateTime(o.value)&&(a="Inv\xe1lido"),a},this.formValidation=function(){var o=(0,p.Z)(function*(i){let a;return e.form.controls.data_fim.value&&e.form.controls.data_inicio.value>e.form.controls.data_fim.value?"A data do in\xedcio n\xe3o pode ser maior que a data do fim! [RN_PLAN_INST_A]":0==e.form.controls.valores.value.length?"\xc9 obrigat\xf3ria a inclus\xe3o de ao menos um valor institucional! [RN_PLAN_INST_A]":(((yield e.dao?.query({where:[["unidade_id","==",e.form.controls.unidade_id.value]]}).asPromise())||[]).forEach(_=>{_.id!=e.entity.id&&e.util.intersection([{start:e.util.asDate(_.data_inicio),end:e.util.asDate(_.data_fim)},{start:e.util.asDate(e.form.controls.data_inicio.value),end:e.util.asDate(e.form.controls.data_fim.value)}])&&(a="Sobreposi\xe7\xe3o de planejamento para o per\xedodo de datas selecionadas [RN_PLAN_INST_B]")}),a)});return function(i){return o.apply(this,arguments)}}(),this.titleEdit=o=>"Editando "+this.lex.translate("Planejamento Institucional")+": "+(o?.nome||""),this.unidadeDao=n.get(N.J),this.hasPermissionToUNEX=this.auth.hasPermissionTo("MOD_PLAN_INST_INCL_UNEX_LOTPRI")||this.auth.hasPermissionTo("MOD_PLAN_INST_INCL_UNEX_QQLOT")||this.auth.hasPermissionTo("MOD_PLAN_INST_INCL_UNEX_SUBORD")||this.auth.hasPermissionTo("MOD_PLAN_INST_INCL_UNEX_QUALQUER"),this.join=["objetivos","objetivos.objetivo_pai:id,nome","objetivos.objetivo_superior:id,planejamento_id","objetivos.eixo_tematico:id,nome","planejamento_superior:id,nome","planejamento_superior.objetivos"],this.joinPlanejamentoSuperior=["objetivos"],this.form=this.fh.FormBuilder({nome:{default:""},unidade_id:{default:null},entidade_id:{default:null},planejamento_superior_id:{default:null},data_inicio:{default:new Date},data_fim:{default:null},missao:{default:""},visao:{default:""},valores:{default:[]},valor_texto:{default:""},resultados_institucionais:{default:[]},resultados_texto:{default:""},utilizar_superior:{default:!1}},this.cdRef,this.validate),this.util=n.get(Q.f)}loadData(n,e){var o=this;return(0,p.Z)(function*(){let i=Object.assign({},e.value);yield o.carregaPlanejamentosSuperiores(n.unidade_id),e.patchValue(o.util.fillForm(i,n)),o.form.controls.planejamento_superior_id.setValue(n.planejamento_superior_id)})()}initializeData(n){this.entity=new O.Z,this.loadData(this.entity,n)}saveData(n){var e=this;return(0,p.Z)(function*(){return new Promise((o,i)=>{e.objetivos.grid.confirm();let a=e.util.fill(new O.Z,e.entity);a=e.util.fillForm(a,e.form.value),a.objetivos=e.objetivos.items,o(a)})})()}addValorHandle(){let n;const e=this.form.controls.valor_texto.value,o=this.util.textHash(e);return e?.length&&this.util.validateLookupItem(this.form.controls.valores.value,o)&&(n={key:o,value:this.form.controls.valor_texto.value},this.form.controls.valor_texto.setValue("")),n}addResultadoHandle(){let n;const e=this.form.controls.resultados_texto.value,o=this.util.textHash(e);return e?.length&&this.util.validateLookupItem(this.form.controls.resultados_institucionais.value,o)&&(n={key:o,value:this.form.controls.resultados_texto.value},this.form.controls.resultados_texto.setValue("")),n}onUnidadeChange(n){var e=this;return(0,p.Z)(function*(){e.entity.unidade_id!=e.form.controls.unidade_id.value&&(yield e.carregaPlanejamentosSuperiores(e.form.controls.unidade_id.value))})()}carregaPlanejamentosSuperiores(n){var e=this;return(0,p.Z)(function*(){if(n?.length){let o=yield e.dao?.query({where:[["unidade_id","==",n],["manut_planej_unidades_executoras","==",!0]],join:e.joinPlanejamentoSuperior}).asPromise();e.planejamentosSuperiores=(o||[]).map(i=>Object.assign({},{key:i.id,value:i.nome,data:i})),e.planejamentosSuperiores.sort((i,a)=>i.value>a.value?1:-1),e.planejamentosSuperiores.unshift({key:null,value:"Escolha um Planejamento superior..."}),e.objetivos.loadData(e.entity,e.form),e.cdRef.detectChanges()}})()}onUtilizarSuperiorChange(n){var e=this;return(0,p.Z)(function*(){let o=e.form.controls.planejamento_superior_id.value;if(e.form.controls.utilizar_superior.value&&o?.length){let i=yield e.dao?.query({where:[["id","==",o]]}).asPromise();e.form.controls.missao.setValue(i[0].missao),e.form.controls.visao.setValue(i[0].visao),e.form.controls.valores.setValue(i[0].valores),e.form.controls.resultados_institucionais.setValue(i[0].resultados_institucionais)}})()}onPlanejamentoChange(n){var e=this;return(0,p.Z)(function*(){e.form.controls.planejamento_superior_id.value!=e.entity?.planejamento_superior_id&&e.entity?.objetivos?.length&&e.entity?.objetivos.filter(o=>o.objetivo_superior&&o.objetivo_superior.planejamento_id==e.entity?.planejamento_superior_id).length&&((yield e.dialog.confirm("Altera\xe7\xe3o de Planejamento Superior","Como j\xe1 existe(m) objetivo(s) neste Planejamento, vinculado(s) a objetivo(s) do Planejamento Superior anterior, seus v\xednculos ser\xe3o perdidos! Deseja continuar?"))?e.entity?.objetivos?.forEach(i=>i.objetivo_superior_id=null):e.form.controls.planejamento_superior_id.setValue(e.entity?.planejamento_superior_id)),e.entity.planejamento_superior_id=e.form.controls.planejamento_superior_id.value,e.entity.planejamento_superior=e.planejamentoSuperior.selectedItem?.data,e.objetivos.planejamento_superior_id=e.form.controls.planejamento_superior_id.value,e.objetivos?.grid?.loadColumns(),e.cdRef.detectChanges()})()}static#t=this.\u0275fac=function(e){return new(e||s)(t.Y36(t.zs3))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-planejamento-form"]],viewQuery:function(e,o){if(1&e&&(t.Gf(j.Q,5),t.Gf(C.M,7),t.Gf(at,5),t.Gf(lt,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.editableForm=i.first),t.iGM(i=t.CRH())&&(o.grid=i.first),t.iGM(i=t.CRH())&&(o.planejamentoSuperior=i.first),t.iGM(i=t.CRH())&&(o.objetivos=i.first)}},features:[t.qOj],decls:29,vars:39,consts:[["initialFocus","nome",3,"form","disabled","title","submit","cancel"],["display","","right",""],["key","DADOS","label","Dados"],[1,"row"],["controlName","nome","required","",3,"size","label","icon","control"],["controlName","unidade_id","labelInfo","Unidade \xe0 qual se refere o planejamento","required","",3,"size","control","dao","change"],["date","","label","In\xedcio","icon","bi bi-calendar-date","controlName","data_inicio","labelInfo","In\xedcio do Planejamento Institucional","required","",3,"size","control"],["date","","label","Fim","icon","bi bi-calendar-date","controlName","data_fim","labelInfo","Fim do Planejamento Institucional","required","",3,"size","control"],["label","Planejamento Institucional Superior","controlName","planejamento_superior_id",3,"size","items","control","icon","change"],["planejamentoSuperior",""],["scale","small","labelPosition","right","controlName","utilizar_superior","label","Utilizar miss\xe3o, vis\xe3o, resultados e valores da institui\xe7\xe3o superior?",3,"size","change"],[1,"col-md-6"],["label","Miss\xe3o","controlName","missao","required","",3,"size","rows","control"],["label","Vis\xe3o","controlName","visao","required","",3,"size","rows","control"],["controlName","resultados_institucionais",3,"size","label","addItemHandle"],["icon","far fa-edit","controlName","resultados_texto",3,"label","control"],["label","Valores","controlName","valores",3,"size","addItemHandle"],["label","Valor Institucional","icon","far fa-edit","controlName","valor_texto",3,"control"],["key","OBJETIVOS","label","Objetivos"],["noPersist","",3,"entity","disabled","planejamento_superior_id"],["objetivos",""]],template:function(e,o){1&e&&(t.TgZ(0,"editable-form",0),t.NdJ("submit",function(){return o.onSaveData()})("cancel",function(){return o.onCancel()}),t.TgZ(1,"tabs",1)(2,"tab",2)(3,"div",3)(4,"div",3),t._UZ(5,"input-text",4),t.qZA(),t.TgZ(6,"div",3)(7,"input-search",5),t.NdJ("change",function(a){return o.onUnidadeChange(a)}),t.qZA(),t._UZ(8,"input-datetime",6)(9,"input-datetime",7),t.qZA(),t.TgZ(10,"div",3)(11,"input-select",8,9),t.NdJ("change",function(a){return o.onPlanejamentoChange(a)}),t.qZA(),t.TgZ(13,"input-switch",10),t.NdJ("change",function(a){return o.onUtilizarSuperiorChange(a)}),t.qZA()(),t.TgZ(14,"div",3)(15,"div",11),t._UZ(16,"input-textarea",12),t.qZA(),t.TgZ(17,"div",11),t._UZ(18,"input-textarea",13),t.qZA()(),t.TgZ(19,"div",3)(20,"div",11)(21,"input-multiselect",14),t._UZ(22,"input-text",15),t.qZA()(),t.TgZ(23,"div",11)(24,"input-multiselect",16),t._UZ(25,"input-text",17),t.qZA()()()()(),t.TgZ(26,"tab",18),t._UZ(27,"planejamento-list-objetivo",19,20),t.qZA()()()),2&e&&(t.Q6J("form",o.form)("disabled",o.formDisabled)("title",o.isModal?"":o.title),t.xp6(5),t.Q6J("size",12)("label","Nome do "+o.lex.translate("Planejamento Institucional"))("icon",o.entityService.getIcon("Planejamento"))("control",o.form.controls.nome),t.uIk("maxlength",250),t.xp6(2),t.Q6J("size",6)("control",o.form.controls.unidade_id)("dao",o.unidadeDao),t.xp6(1),t.Q6J("size",3)("control",o.form.controls.data_inicio),t.xp6(1),t.Q6J("size",3)("control",o.form.controls.data_fim),t.xp6(2),t.Q6J("size",12)("items",o.planejamentosSuperiores)("control",o.form.controls.planejamento_superior_id)("icon",o.entityService.getIcon("Planejamento")),t.xp6(2),t.Q6J("size",12),t.xp6(3),t.Q6J("size",12)("rows",3)("control",o.form.controls.missao),t.xp6(2),t.Q6J("size",12)("rows",3)("control",o.form.controls.visao),t.xp6(3),t.Q6J("size",12)("label",o.lex.translate("Resultados Institucionais"))("addItemHandle",o.addResultadoHandle.bind(o)),t.xp6(1),t.Q6J("label",o.lex.translate("Resultados Institucionais"))("control",o.form.controls.resultados_texto),t.uIk("maxlength",250),t.xp6(2),t.Q6J("size",12)("addItemHandle",o.addValorHandle.bind(o)),t.xp6(1),t.Q6J("control",o.form.controls.valor_texto),t.uIk("maxlength",250),t.xp6(2),t.Q6J("entity",o.entity)("disabled","consult"==o.action)("planejamento_superior_id",o.form.controls.planejamento_superior_id.value))},dependencies:[j.Q,P.a,T.V,c.m,f.Q,l.k,b.p,v.p,Z.n,F.i,B]})}return s})();var k=d(8509),G=d(7765),R=d(5512),V=d(2704),Y=d(5560),st=d(8032),A=d(4575),rt=d(9108);const dt=["planejamentoInstitucional"];function ut(s,u){if(1&s&&t._UZ(0,"planejamento-show",9),2&s){const n=t.oxw();t.Q6J("planejamento",n.planejamento)}}const H=function(s,u){return{objetivo:s,pai:u}};function mt(s,u){if(1&s&&t.GkF(0,36),2&s){const n=u.$implicit,e=t.oxw().$implicit,o=t.MAs(10);t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.WLB(2,H,n,e))}}function ct(s,u){if(1&s&&t.GkF(0,36),2&s){const n=u.$implicit,e=t.oxw().objetivo;t.oxw();const o=t.MAs(10);t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.WLB(2,H,n,e))}}const S=function(){return["objetivo"]};function pt(s,u){if(1&s){const n=t.EpF();t.TgZ(0,"div",37),t.NdJ("dndEnd",function(o){t.CHM(n);const i=t.oxw(3);return t.KtG(i.onObjetivoDragEnd(o))})("dndMoved",function(){const o=t.CHM(n),i=o.objetivo,a=o.pai,m=t.oxw(3);return t.KtG(m.onObjetivoDragged(i,a,"move"))})("dndStart",function(o){t.CHM(n);const i=t.oxw(3);return t.KtG(i.onObjetivoDragStart(o))}),t.TgZ(1,"div",38)(2,"div",39),t._uU(3),t.qZA(),t._UZ(4,"action-button",40),t.qZA(),t.TgZ(5,"div",28),t.NdJ("dndDrop",function(o){const a=t.CHM(n).objetivo,m=t.oxw(3);return t.KtG(m.onObjetivoDrop(o,a))}),t.TgZ(6,"div",29),t._UZ(7,"span",30),t.qZA(),t.YNc(8,ct,1,5,"ng-container",31),t.qZA()()}if(2&s){const n=u.objetivo,e=t.oxw(3);t.Q6J("dndDisableIf",!e.canEdit)("dndDraggable",n),t.xp6(3),t.Oqu(n.nome),t.xp6(1),t.Q6J("button",e.subObjetivosMenu)("data",n),t.xp6(1),t.Q6J("dndDropzone",t.DdM(7,S)),t.xp6(3),t.Q6J("ngForOf",n.objetivos)}}function _t(s,u){if(1&s){const n=t.EpF();t.TgZ(0,"div",25),t.NdJ("dndEnd",function(o){t.CHM(n);const i=t.oxw(2);return t.KtG(i.onObjetivoDragEnd(o))})("dndMoved",function(){const i=t.CHM(n).$implicit,a=t.oxw().$implicit,m=t.oxw();return t.KtG(m.onObjetivoDragged(i,a,"move"))})("dndStart",function(o){t.CHM(n);const i=t.oxw(2);return t.KtG(i.onObjetivoDragStart(o))}),t.TgZ(1,"div",16)(2,"div",26)(3,"div",27),t._uU(4),t.qZA(),t.TgZ(5,"div",28),t.NdJ("dndDrop",function(o){const a=t.CHM(n).$implicit,m=t.oxw(2);return t.KtG(m.onObjetivoDrop(o,a))}),t.TgZ(6,"div",29),t._UZ(7,"span",30),t.qZA(),t.YNc(8,mt,1,5,"ng-container",31),t.qZA()(),t.YNc(9,pt,9,8,"ng-template",null,32,t.W1O),t.TgZ(11,"div",22),t._UZ(12,"action-button",33)(13,"action-button",34)(14,"action-button",35),t.qZA()()()}if(2&s){const n=u.$implicit,e=t.oxw(2);t.Q6J("dndDisableIf",!e.canEdit)("dndDraggable",n),t.xp6(4),t.Oqu(n.nome),t.xp6(1),t.Q6J("dndDropzone",t.DdM(11,S)),t.xp6(3),t.Q6J("ngForOf",n.objetivos),t.xp6(4),t.Q6J("data",n)("onClick",e.onObjetivoClick.bind(e)),t.xp6(1),t.Q6J("data",n)("onClick",e.onObjetivoEditClick.bind(e)),t.xp6(1),t.Q6J("data",n)("onClick",e.onObjetivoDeleteClick.bind(e))}}function bt(s,u){if(1&s){const n=t.EpF();t.TgZ(0,"div",10),t._UZ(1,"action-button",11),t.TgZ(2,"div",12)(3,"div",13)(4,"h4"),t._uU(5),t.qZA()(),t.TgZ(6,"div",14),t.NdJ("dndDrop",function(o){const a=t.CHM(n).$implicit,m=t.oxw();return t.KtG(m.onObjetivoDrop(o,a))}),t.TgZ(7,"div",15)(8,"div",16)(9,"p",17),t._UZ(10,"span",18)(11,"span",19)(12,"span",20)(13,"span",21),t.qZA(),t.TgZ(14,"div",22),t._UZ(15,"action-button",23)(16,"action-button",23)(17,"action-button",23),t.qZA()()(),t.YNc(18,_t,15,12,"div",24),t.qZA()()()}if(2&s){const n=u.$implicit,e=t.oxw();t.Udp("background-color",n.eixo.cor),t.xp6(1),t.Q6J("data",n)("onClick",e.onObjetivoAddClick.bind(e)),t.xp6(4),t.Oqu(n.eixo.nome),t.xp6(1),t.Q6J("dndDropzone",t.DdM(7,S)),t.xp6(12),t.Q6J("ngForOf",n.objetivos)}}let ft=(()=>{class s extends L.D{constructor(n){super(n),this.injector=n,this.canEdit=!0,this.planejamentos=[],this.eixos=[],this.objetivos=[],this.subObjetivosMenu={icon:"bi bi-three-dots-vertical",color:"transparent-black p-1 py-0",items:[{icon:"bi bi-file-earmark-bar-graph",label:"Entregas",onClick:this.onObjetivoClick.bind(this)},{icon:"bi bi-pencil-square",label:"Alterar",onClick:this.onObjetivoEditClick.bind(this)},{icon:"bi bi-trash",label:"Excluir",onClick:this.onObjetivoDeleteClick.bind(this)}]},this.validate=(e,o)=>null,this.dao=n.get(x.U),this.objetivoDao=n.get(y.e),this.join=["objetivos"],this.title=this.lex.translate("Objetivos")+" "+this.lex.translate("do Planejamento Institucional"),this.form=this.fh.FormBuilder({planejamento_id:{default:null},todos:{default:!1}},this.cdRef,this.validate)}ngAfterViewInit(){super.ngAfterViewInit(),this.loadData(this.entity)}loadData(n,e){var o=this;return(0,p.Z)(function*(){o.query=o.dao.query({where:[["data_arquivamento","==",null]],orderBy:[["data_inicio","desc"]]}),o.query.asPromise().then(i=>{o.planejamentos=i.map(a=>Object.assign({},{key:a.id,value:a.nome,data:a})),o.cdRef.detectChanges(),o.form.controls.planejamento_id.setValue(o.planejamentos.length?o.planejamentos[0].key:null)})})()}objetivosPai(n){let e=[],o=i=>{for(let a of i)a.id!=n&&(e.push(a),o(this.objetivos.filter(m=>m.objetivo_pai_id==a.id).sort((m,_)=>m.sequencia-_.sequencia)))};return o(this.objetivos.filter(i=>!i.objetivo_pai_id).sort((i,a)=>i.sequencia-a.sequencia)),e}marcador(n){let e=n._metadata?.level||0;return e<1?"":e<2?"\u2022 ":e<3?"- ":"+ "}objetivosEixo(n){let e=this.planejamento?.objetivos?.filter(i=>i.eixo_tematico_id==n&&!i.objetivo_pai_id).sort((i,a)=>i.sequencia-a.sequencia)||[],o=(i,a)=>{for(let m of i)m.objetivos=this.planejamento?.objetivos?.filter(_=>_.objetivo_pai_id==m.id).sort((_,Bt)=>_.sequencia-Bt.sequencia)||[],m._metadata=Object.assign(m._metadata||{},{level:a}),o(m.objetivos,a+1)};return o(e,0),e}onPlanejamentoChange(){this.planejamentoInstitucional.selectedItem&&this.dao.getById(this.planejamentoInstitucional.selectedItem?.key,this.join).then(n=>{this.planejamento=n,this.objetivos=this.planejamento.objetivos||[],this.eixos=this.query.extra?.eixos?.filter(e=>this.form?.controls.todos.value||this.planejamento?.objetivos?.find(o=>o.eixo_tematico_id==e.id)).map(e=>Object.assign({},{eixo:e,eixo_tematico_id:e.id,objetivos:this.objetivosEixo(e.id)}))||[],this.cdRef.detectChanges()})}onTodosChange(){this.onPlanejamentoChange()}onObjetivoClick(n){this.go.navigate({route:["gestao","plano-entrega","entrega","objetivos",n.id]})}onObjetivoAddClick(n){var e=this;let o=this.eixos.find(a=>a.eixo.id==n.id),i=new w.i({_status:"ADD",id:this.dao.generateUuid(),planejamento_id:this.planejamento?.id,eixo_tematico_id:n.eixo.id,eixo_tematico:n.eixo,sequencia:o?.objetivos.length?o?.objetivos[0].sequencia:0});var a;this.go.navigate({route:["gestao","planejamento","objetivo"]},{metadata:{planejamento:this.planejamento,objetivo:i,objetivos:this.objetivosPai(i.id)},modalClose:(a=(0,p.Z)(function*(m){m&&e.objetivoDao.save(m).then(_=>e.onPlanejamentoChange())}),function(_){return a.apply(this,arguments)})})}onObjetivoDeleteClick(n){let e=n;this.dialog.confirm("Exclui ?","Deseja realmente excluir?").then(o=>{o&&this.objetivoDao.delete(e).then(i=>this.onPlanejamentoChange())})}onObjetivoEditClick(n){var i,e=this;this.go.navigate({route:["gestao","planejamento","objetivo"]},{metadata:{planejamento:this.planejamento,objetivo:n},modalClose:(i=(0,p.Z)(function*(a){a&&e.objetivoDao?.save(a).then(m=>e.onPlanejamentoChange())}),function(m){return i.apply(this,arguments)})})}onObjetivoDrop(n,e){console.log("Drop",n),e.objetivos=e.objetivos||[];let o=n.data,i=typeof n.index>"u"?e.objetivos.length:n.index,a=i&&(e.objetivos[i]||e.objetivos[i-1])||void 0;e.objetivos.splice(i,0,o),this.loading=!0,this.objetivoDao?.update(o.id,{eixo_tematico_id:e.eixo_tematico_id,objetivo_pai_id:e.id||null,sequencia:a?.sequencia||0}).then(m=>this.onPlanejamentoChange()).finally(()=>this.loading=!1)}onObjetivoDragEnd(n){console.log("DragEnd",n)}onObjetivoDragged(n,e,o){console.log("Dragged",n,e.objetivos),e.objetivos=e.objetivos||[],e.objetivos.splice(e.objetivos.indexOf(n),1)}onObjetivoDragStart(n){console.log("DragStart",n)}static#t=this.\u0275fac=function(e){return new(e||s)(t.Y36(t.zs3))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["planejamento-mapa"]],viewQuery:function(e,o){if(1&e&&(t.Gf(j.Q,5),t.Gf(dt,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.editableForm=i.first),t.iGM(i=t.CRH())&&(o.planejamentoInstitucional=i.first)}},features:[t.qOj],decls:10,vars:8,consts:[["noButtons","",3,"form"],[1,"row","mt-2"],["controlName","planejamento_id",3,"size","control","items","change"],["planejamentoInstitucional",""],["transparent","","collapse","","title","Miss\xe3o, vis\xe3o, resultados e valores"],[3,"planejamento",4,"ngIf"],[1,"row","my-2"],["labelPosition","left","label","Todos os eixos","controlName","todos",3,"size","control","change"],["class","eixo",3,"background-color",4,"ngFor","ngForOf"],[3,"planejamento"],[1,"eixo"],["icon","bi bi-plus-circle","color","transparent-black",3,"data","onClick"],[1,"d-flex","align-items-center","align-content-stretch","p-3"],[1,"descricao"],[1,"objetivos","w-100","row",3,"dndDropzone","dndDrop"],["dndPlaceholderRef","",1,"col-md-4"],[1,"objetivo","shadow-sm","d-flex","flex-column","align-content-between"],[1,"placeholder-glow"],[1,"placeholder","col-2"],[1,"placeholder","col-3"],[1,"placeholder","col-1"],[1,"placeholder","col-6"],[1,"buttons","w-100","d-flex","justify-content-end","px-1"],["placeholder","","icon","bi bi-question","color","transparent-black p-0"],["class","col-md-4","dndType","objetivo","dndEffectAllowed","move",3,"dndDisableIf","dndDraggable","dndEnd","dndMoved","dndStart",4,"ngFor","ngForOf"],["dndType","objetivo","dndEffectAllowed","move",1,"col-md-4",3,"dndDisableIf","dndDraggable","dndEnd","dndMoved","dndStart"],[1,"m-2"],["dndHandle","",1,"card-text","text-break","w-100"],[1,"subobjetivo",3,"dndDropzone","dndDrop"],["dndPlaceholderRef","",1,"border","mt-3","p-2"],[1,"placeholder","w-75"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],["subobjetivos",""],["icon","bi bi-file-earmark-bar-graph","color","transparent-black px-1",3,"data","onClick"],["icon","bi bi-pencil-square","color","transparent-black px-1",3,"data","onClick"],["icon","bi bi-trash","color","transparent-black px-1",3,"data","onClick"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["dndType","objetivo","dndEffectAllowed","move",1,"border","mt-3","p-2",3,"dndDisableIf","dndDraggable","dndEnd","dndMoved","dndStart"],[1,"d-flex","justify-content-between"],[1,"me-2","card-text","text-break","w-100"],["noArrow","",3,"button","data"]],template:function(e,o){1&e&&(t.TgZ(0,"editable-form",0)(1,"div",1)(2,"input-select",2,3),t.NdJ("change",function(){return o.onPlanejamentoChange()}),t.qZA()(),t.TgZ(4,"separator",4),t.YNc(5,ut,1,1,"planejamento-show",5),t.qZA(),t.TgZ(6,"div",6)(7,"input-switch",7),t.NdJ("change",function(){return o.onTodosChange()}),t.qZA()(),t.YNc(8,bt,19,8,"div",8),t._UZ(9,"div",6),t.qZA()),2&e&&(t.Q6J("form",o.form),t.xp6(2),t.Q6J("size",12)("control",o.form.controls.planejamento_id)("items",o.planejamentos),t.xp6(3),t.Q6J("ngIf",o.planejamento),t.xp6(2),t.Q6J("size",12)("control",o.form.controls.todos),t.xp6(1),t.Q6J("ngForOf",o.eixos))},dependencies:[h.sg,h.O5,h.tP,j.Q,P.a,b.p,Y.N,st.x,A.jk,A.Q4,A.mv,A.s1,rt.W],styles:[".blockquote[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;margin:0}.eixo[_ngcontent-%COMP%]   .descricao[_ngcontent-%COMP%]{width:250px}.eixo[_ngcontent-%COMP%]   .descricao[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{writing-mode:vertical-rl;text-orientation:mixed;transform:scaleX(-1) scaleY(-1);white-space:normal;height:min-content;text-align:center}.eixo[_ngcontent-%COMP%]   .descricao[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute}.eixo[_ngcontent-%COMP%]   .w-25[_ngcontent-%COMP%]{margin-bottom:10px}.eixo[_ngcontent-%COMP%]   .objetivos[_ngcontent-%COMP%]{min-height:100px}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]{background:#fff;margin:0 10px}.eixo[_ngcontent-%COMP%]   .subobjetivo[_ngcontent-%COMP%]{min-height:50px}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:.8rem;cursor:grab}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:10px;color:#5e5b5b;font-size:.8rem;margin:0}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{border-top:1px solid #ddd}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;padding:5px}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.detalhe_entrega[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.dndDraggingSource[_ngcontent-%COMP%]{display:none}.acao-planos[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]})}return s})();const ht=["unidade"];function gt(s,u){1&s&&t._UZ(0,"toolbar")}function vt(s,u){if(1&s&&(t.TgZ(0,"span",30),t._UZ(1,"i",31),t._uU(2),t.qZA()),2&s){const n=t.oxw().row;t.xp6(2),t.hij(" ",null==n.objetivos?null:n.objetivos.length,"")}}function jt(s,u){if(1&s&&t.YNc(0,vt,3,1,"span",29),2&s){const n=u.row;t.Q6J("ngIf",null==n.objetivos?null:n.objetivos.length)}}function Ct(s,u){1&s&&t._UZ(0,"planejamento-list-objetivo",32),2&s&&t.Q6J("entity",u.row)}function xt(s,u){if(1&s&&(t.TgZ(0,"column",26),t.YNc(1,jt,1,1,"ng-template",null,27,t.W1O),t.YNc(3,Ct,1,1,"ng-template",null,28,t.W1O),t.qZA()),2&s){const n=t.MAs(2),e=t.MAs(4),o=t.oxw(2);t.Q6J("align","center")("hint",o.lex.translate("Objetivo"))("template",n)("expandTemplate",e)}}function Ot(s,u){if(1&s&&(t.TgZ(0,"span",33),t._uU(1),t.qZA()),2&s){const n=u.row;t.xp6(1),t.Oqu(n.nome)}}function Pt(s,u){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const n=u.row,e=t.oxw(2);t.xp6(1),t.hij(" ",e.dao.getDateFormatted(n.data_inicio),"")}}function Tt(s,u){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const n=u.row,e=t.oxw(2);t.xp6(1),t.hij(" ",e.dao.getDateFormatted(n.data_fim),"")}}function Zt(s,u){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const n=u.row;t.xp6(1),t.hij(" ",(null==n.unidade?null:n.unidade.nome)||"","")}}function yt(s,u){if(1&s){const n=t.EpF();t.TgZ(0,"grid",5),t.NdJ("select",function(o){t.CHM(n);const i=t.oxw();return t.KtG(i.onSelect(o))}),t.YNc(1,gt,1,0,"toolbar",6),t.TgZ(2,"filter",7)(3,"div",8),t._UZ(4,"input-text",9),t.qZA(),t.TgZ(5,"div",8)(6,"input-switch",10),t.NdJ("change",function(o){t.CHM(n);const i=t.oxw();return t.KtG(i.onSoEntidadeChange(o))}),t.qZA(),t._UZ(7,"input-search",11,12)(9,"input-datetime",13)(10,"input-datetime",14),t.qZA()(),t.TgZ(11,"columns"),t.YNc(12,xt,5,4,"column",15),t.TgZ(13,"column",16),t.YNc(14,Ot,2,1,"ng-template",null,17,t.W1O),t.qZA(),t.TgZ(16,"column",18),t.YNc(17,Pt,2,1,"ng-template",null,19,t.W1O),t.qZA(),t.TgZ(19,"column",20),t.YNc(20,Tt,2,1,"ng-template",null,21,t.W1O),t.qZA(),t.TgZ(22,"column",22),t.YNc(23,Zt,2,1,"ng-template",null,23,t.W1O),t.qZA(),t._UZ(25,"column",24),t.qZA(),t._UZ(26,"pagination",25),t.qZA()}if(2&s){const n=t.MAs(15),e=t.MAs(18),o=t.MAs(21),i=t.MAs(24),a=t.oxw();t.Q6J("dao",a.dao)("add",a.add)("orderBy",a.orderBy)("join",a.join)("init",a.initGrid.bind(a))("selectable",a.selectable)("hasAdd",a.auth.hasPermissionTo("MOD_PLAN_INST_INCL"))("hasEdit",a.auth.hasPermissionTo("MOD_PLAN_INST_EDT")),t.xp6(1),t.Q6J("ngIf",!a.selectable),t.xp6(1),t.Q6J("deleted",a.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",a.filter)("where",a.filterWhere)("submit",a.filterSubmit.bind(a))("clear",a.filterClear.bind(a))("collapseChange",a.filterCollapseChange.bind(a))("collapsed",!a.selectable&&a.filterCollapsed),t.xp6(2),t.Q6J("size",12)("label",a.lex.translate("Planejamento Institucional"))("control",a.filter.controls.nome)("placeholder","Nome "+a.lex.translate("Planejamento Institucional")+"..."),t.uIk("maxlength",250),t.xp6(2),t.Q6J("size",2)("label","S\xf3 da "+a.lex.translate("Entidade"))("control",a.filter.controls.so_entidade),t.xp6(1),t.Q6J("size",4)("label",a.lex.translate("Unidade"))("disabled",a.unidade_disabled)("control",a.filter.controls.unidade_id)("dao",a.unidadeDao),t.xp6(2),t.Q6J("size",3)("control",a.filter.controls.data_inicio)("labelInfo","Data de in\xedcio do"+a.lex.translate("Planejamento Institucional")),t.xp6(1),t.Q6J("size",3)("control",a.filter.controls.data_fim)("labelInfo","Data do fim do "+a.lex.translate("Planejamento Institucional")),t.xp6(2),t.Q6J("ngIf",!a.selectable),t.xp6(1),t.Q6J("template",n),t.xp6(3),t.Q6J("template",e),t.xp6(3),t.Q6J("template",o),t.xp6(3),t.Q6J("template",i),t.xp6(3),t.Q6J("onEdit",a.edit)("options",a.options),t.xp6(1),t.Q6J("rows",a.rowsLimit)}}function At(s,u){1&s&&t._UZ(0,"planejamento-mapa")}let It=(()=>{class s extends k.E{constructor(n){super(n,O.Z,x.U),this.injector=n,this.filterWhere=e=>{let o=[],i=e.value;return i.so_entidade?(e.controls.unidade_id.setValue(null),o.push(["unidade_id","==",null])):i.unidade_id&&o.push(["unidade_id","==",i.unidade_id]),i.nome?.length&&o.push(["nome","like","%"+i.nome.trim().replace(" ","%")+"%"]),i.data_inicio&&o.push(["data_inicio",">=",i.data_inicio]),i.data_fim&&o.push(["data_fim","<=",i.data_fim]),o},this.unidadeDao=n.get(N.J),this.code="MOD_PLAN_INST",this.title=this.lex.translate("Planejamentos Institucionais"),this.filter=this.fh.FormBuilder({data_inicio:{default:null},data_fim:{default:null},nome:{default:""},unidade_id:{default:null},so_entidade:{default:!1},agrupar:{default:!0}}),this.join=["unidade:id,nome,sigla","objetivos","objetivos.eixo_tematico:id,nome","objetivos.objetivo_superior:id,nome","planejamento_superior:id,nome","planejamento_superior.objetivos"],this.auth.hasPermissionTo("MOD_PLAN_INST")&&this.options.push({icon:"bi bi-info-circle",label:"Informa\xe7\xf5es",onClick:this.consult.bind(this)}),this.auth.hasPermissionTo("MOD_PLAN_INST_EXCL")&&this.options.push({icon:"bi bi-trash",label:"Excluir",onClick:this.delete.bind(this)}),this.addOption(this.OPTION_LOGS,"MOD_AUDIT_LOG"),this.addOption({label:"Relat\xf3rio",icon:"bi bi-file-pdf",onClick:e=>this.report(e,"PLAN_INSTITUCIONAL")})}ngAfterViewInit(){super.ngAfterViewInit(),this.tabs.active=["TABELA","MAPA","OKR"].includes(this.usuarioConfig.active_tab)?this.usuarioConfig.active_tab:"TABELA"}onLoad(){}report(n,e){const o={id:n.id,join:["objetivos","objetivos.objetivos_filhos"]};this.grid?.buildRowReport(e,o)}initGrid(n){n.queryInit()}onSelectTab(n){var e=this;return(0,p.Z)(function*(){e.viewInit&&e.saveUsuarioConfig({active_tab:n.key})})()}filterClear(n){n.controls.nome.setValue(""),n.controls.data_inicio.setValue(null),n.controls.data_fim.setValue(null),n.controls.unidade_id.setValue(null),n.controls.so_entidade.setValue(!1),super.filterClear(n)}onSoEntidadeChange(n){this.filter.controls.so_entidade.value?(this.filter.controls.unidade_id.setValue(null),this.unidade_disabled="disabled"):(this.filter.controls.unidade_id.setValue(void 0),this.unidade_disabled=void 0)}static#t=this.\u0275fac=function(e){return new(e||s)(t.Y36(t.zs3))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-planejamento-list"]],viewQuery:function(e,o){if(1&e&&(t.Gf(C.M,5),t.Gf(Z.n,5),t.Gf(ht,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.grid=i.first),t.iGM(i=t.CRH())&&(o.tabs=i.first),t.iGM(i=t.CRH())&&(o.unidade=i.first)}},features:[t.qOj],decls:7,vars:4,consts:[["right","",3,"title","select"],["key","TABELA","icon","bi bi-table","label","Lista",3,"template"],["lista",""],["key","MAPA","icon","bi bi-card-heading","label","Mapa",3,"template"],["mapa",""],[3,"dao","add","orderBy","join","init","selectable","hasAdd","hasEdit","select"],[4,"ngIf"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["controlName","nome",3,"size","label","control","placeholder"],["controlName","so_entidade",3,"size","label","control","change"],["controlName","unidade_id",3,"size","label","disabled","control","dao"],["unidade",""],["date","","label","In\xedcio","controlName","data_inicio",3,"size","control","labelInfo"],["date","","label","Fim","controlName","data_fim",3,"size","control","labelInfo"],["type","expand","icon","bi bi-bullseye",3,"align","hint","template","expandTemplate",4,"ngIf"],["title","Nome","orderBy","nome",3,"template"],["columnNome",""],["title","In\xedcio",3,"template"],["columnInicio",""],["title","Fim",3,"template"],["columnFim",""],["title","Unidade",3,"template"],["columnUnidade",""],["type","options",3,"onEdit","options"],[3,"rows"],["type","expand","icon","bi bi-bullseye",3,"align","hint","template","expandTemplate"],["columnObjetivos",""],["columnExpandedObjetivos",""],["class","badge rounded-pill bg-light text-dark",4,"ngIf"],[1,"badge","rounded-pill","bg-light","text-dark"],[1,"bi","bi-bullseye"],[3,"entity"],[1,"text-break","w-100"]],template:function(e,o){if(1&e&&(t.TgZ(0,"tabs",0)(1,"tab",1),t.YNc(2,yt,27,43,"ng-template",null,2,t.W1O),t.qZA(),t.TgZ(4,"tab",3),t.YNc(5,At,1,0,"ng-template",null,4,t.W1O),t.qZA()()),2&e){const i=t.MAs(3),a=t.MAs(6);t.Q6J("title",o.isModal?"":o.title)("select",o.onSelectTab.bind(o)),t.xp6(1),t.Q6J("template",i),t.xp6(3),t.Q6J("template",a)}},dependencies:[h.O5,C.M,J.a,U.b,G.z,R.n,V.Q,P.a,T.V,c.m,l.k,Z.n,F.i,B,ft]})}return s})();var Mt=d(2307);const Nt=["planejamentoSuperiorNome"],Dt=["eixoTematico"];function wt(s,u){if(1&s){const n=t.EpF();t.TgZ(0,"separator",9)(1,"div",1),t._UZ(2,"input-text",10),t.TgZ(3,"input-select",11),t.NdJ("change",function(o){t.CHM(n);const i=t.oxw();return t.KtG(i.onObjetivoSuperiorChange(o))}),t.qZA()()()}if(2&s){const n=t.oxw();t.Q6J("margin",2),t.xp6(2),t.Q6J("size",6)("icon",n.entityService.getIcon("Planejamento")),t.uIk("maxlength",250),t.xp6(1),t.Q6J("items",n.objetivos_superiores)("size",6)("control",n.form.controls.objetivo_superior_id)}}let W=(()=>{class s extends D.F{constructor(n){super(n,w.i,y.e),this.injector=n,this.objetivos=[],this.objetivos_superiores=[],this.validate=(e,o)=>{let i=null;return["nome","fundamentacao"].indexOf(o)>=0&&!e.value?.length&&(i="Obrigat\xf3rio"),["eixo_tematico_id"].indexOf(o)>=0&&!e.value?.length&&(i="Obrigat\xf3rio"),i},this.formValidation=e=>null,this.planejamentoDao=n.get(x.U),this.eixoTematicoDao=n.get(z.e),this.form=this.fh.FormBuilder({nome:{default:""},fundamentacao:{default:""},planejamento_id:{default:null},planejamento_superior_nome:{default:""},eixo_tematico_id:{default:null},objetivo_superior_id:{default:null},objetivo_pai_id:{default:null},integra_okr:{default:!0}},this.cdRef,this.validate)}loadData(n,e){var o=this;return(0,p.Z)(function*(){let i=Object.assign({},e.value);e.patchValue(o.util.fillForm(i,n)),yield o.eixoTematico?.loadSearch(n.eixo_tematico||n.eixo_tematico_id),o.title="ADD"==n._status?"Inclus\xe3o de Objetivo":"Editando objetivo...",o.planejamento=o.metadata?.planejamento,o.metadata?.planejamento_superior&&(o.planejamento.planejamento_superior=o.metadata.planejamento_superior),o.form?.controls.planejamento_superior_nome.setValue(o.planejamento?.planejamento_superior?.nome||""),o.objetivos_superiores=o.planejamento?.planejamento_superior?.objetivos?.map(a=>Object.assign({},{key:a.id,value:a.nome,data:a}))||[]})()}initializeData(n){var e=this;return(0,p.Z)(function*(){e.entity=e.metadata?.objetivo,e.objetivos=(e.metadata?.objetivos).map(o=>Object.assign({},{key:o.id,value:o.nome,data:o})),yield e.loadData(e.entity,n)})()}saveData(n){var e=this;return new Promise(function(){var o=(0,p.Z)(function*(i,a){const m=Object.assign({eixo_tematico:e.eixoTematico?.selectedItem?.entity},e.entity);i(new Mt.R(e.util.fillForm(m,e.form.value)))});return function(i,a){return o.apply(this,arguments)}}())}isPlanejamentoUNEX(){return null!=this.planejamento?.unidade_id}onObjetivoPaiChange(n){const e=this.form.controls.objetivo_pai_id.value,o=this.objetivos.find(i=>i.key===e)?.data.eixo_tematico_id;o&&this.form.controls.eixo_tematico_id.setValue(o),this.cdRef.detectChanges()}onObjetivoSuperiorChange(n){let e=this.objetivos_superiores.find(o=>o.key===this.form?.controls.objetivo_superior_id.value)?.data.eixo_tematico_id;this.form.controls.eixo_tematico_id.value||this.form.controls.eixo_tematico_id.setValue(e),this.cdRef.detectChanges()}static#t=this.\u0275fac=function(e){return new(e||s)(t.Y36(t.zs3))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-planejamento-form-objetivo"]],viewQuery:function(e,o){if(1&e&&(t.Gf(j.Q,5),t.Gf(Nt,5),t.Gf(Dt,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.editableForm=i.first),t.iGM(i=t.CRH())&&(o.planejamentoSuperiorNome=i.first),t.iGM(i=t.CRH())&&(o.eixoTematico=i.first)}},features:[t.qOj],decls:12,vars:16,consts:[["initialFocus","nome",3,"form","disabled","title","submit","cancel"],[1,"row"],["icon","bi bi-textarea-t","label","Nome","controlName","nome","required","",3,"size","rows","control"],["controlName","eixo_tematico_id","required","",3,"size","disabled","dao"],["eixoTematico",""],["label","Objetivo Pai","icon","fab fa-unity","controlName","objetivo_pai_id",3,"size","items","change"],["objetivoPai",""],["title","Vinculo com Planejamento Superior",3,"margin",4,"ngIf"],["icon","bi bi-textarea-t","label","Fundamenta\xe7\xe3o","controlName","fundamentacao","required","",3,"size","rows","control"],["title","Vinculo com Planejamento Superior",3,"margin"],["disabled","","label","Planejamento Superior vinculado","controlName","planejamento_superior_nome",3,"size","icon"],["label","Objetivo de Planejamento Superior (Vinculado)","icon","fab fa-unity","controlName","objetivo_superior_id",3,"items","size","control","change"]],template:function(e,o){1&e&&(t.TgZ(0,"editable-form",0),t.NdJ("submit",function(){return o.onSaveData()})("cancel",function(){return o.onCancel()}),t.TgZ(1,"div",1)(2,"div",1),t._UZ(3,"input-textarea",2),t.qZA(),t.TgZ(4,"div",1),t._UZ(5,"input-search",3,4),t.TgZ(7,"input-select",5,6),t.NdJ("change",function(a){return o.onObjetivoPaiChange(a)}),t.qZA()(),t.YNc(9,wt,4,7,"separator",7),t.TgZ(10,"div",1),t._UZ(11,"input-textarea",8),t.qZA()()()),2&e&&(t.Q6J("form",o.form)("disabled",o.formDisabled)("title",o.isModal?"":o.title),t.xp6(3),t.Q6J("size",12)("rows",2)("control",o.form.controls.nome),t.uIk("maxlength",250),t.xp6(2),t.Q6J("size",6)("disabled",null!=o.form&&null!=o.form.controls&&null!=o.form.controls.objetivo_pai_id&&o.form.controls.objetivo_pai_id.value?"true":void 0)("dao",o.eixoTematicoDao),t.xp6(2),t.Q6J("size",6)("items",o.objetivos),t.xp6(2),t.Q6J("ngIf",null==o.planejamento?null:o.planejamento.planejamento_superior_id),t.xp6(2),t.Q6J("size",12)("rows",4)("control",o.form.controls.fundamentacao))},dependencies:[h.O5,j.Q,T.V,c.m,f.Q,b.p,Y.N]})}return s})();function Et(s,u){if(1&s&&(t.TgZ(0,"h3",11),t._uU(1),t.qZA()),2&s){const n=t.oxw();t.xp6(1),t.Oqu(n.title)}}function Qt(s,u){if(1&s&&t._UZ(0,"toolbar",12),2&s){const n=t.oxw();t.Q6J("buttons",n.buttons)}}function Jt(s,u){if(1&s&&(t.TgZ(0,"span",13),t._uU(1),t.qZA()),2&s){const n=u.row,e=u.metadata,o=t.oxw();t.xp6(1),t.Oqu(o.getNome(e,n))}}const qt=[{path:"",component:It,canActivate:[r.a],resolve:{config:g.o},runGuardsAndResolvers:"always",data:{title:"Planejamentos Institucionais"}},{path:"new",component:q,canActivate:[r.a],resolve:{config:g.o},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o de Planejamento Institucional",modal:!0}},{path:":id/edit",component:q,canActivate:[r.a],resolve:{config:g.o},runGuardsAndResolvers:"always",data:{title:"Edi\xe7\xe3o de Planejamento Institucional",modal:!0}},{path:":id/consult",component:q,canActivate:[r.a],resolve:{config:g.o},runGuardsAndResolvers:"always",data:{title:"Consulta a Planejamento Institucional",modal:!0}},{path:"objetivo",component:W,canActivate:[r.a],resolve:{config:g.o},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o de Objetivo de Planejamento Institucional",modal:!0}},{path:"objetivoList",component:(()=>{class s extends k.E{constructor(n){super(n,w.i,y.e),this.injector=n,this.buttons=[],this.filterWhere=e=>{let o=e.value,i=[];return o.planejamento_id?.length&&i.push(["planejamento_id","==",o.planejamento_id]),o.nome?.length&&i.push(["nome","like","%"+o.nome.trim().replace(" ","%")+"%"]),i},this.join=["objetivos"],this.planejamentoDao=n.get(x.U),this.planejamentoObjetivoDao=n.get(y.e),this.title=this.lex.translate("Objetivos")+" "+this.lex.translate("do Planejamento Institucional"),this.filter=this.fh.FormBuilder({nome:{default:""},planejamento_id:{default:null}}),this.OPTION_INFORMACOES.onClick=e=>this.go.navigate({route:["gestao","planejamento","objetivo",e.id,"consult"]},{modal:!0}),this.addOption(this.OPTION_INFORMACOES)}filterClear(n){super.filterClear(n),this.filter?.controls.nome.setValue("")}getNome(n,e){if(!n.path){let o=e.objetivo_pai_id,i="";for(;o;){let a=this.grid?.items.find(m=>m.id==o);i=(a?.sequencia||"")+"."+i,o=a?.objetivo_pai_id||null}n.path=i+e.sequencia}return this.grid?.items.sort((o,i)=>{const a=(this.grid.getMetadata(o)?.path||"").split(".").map(_=>("000"+_).substr(-3)).join("."),m=(this.grid.getMetadata(i)?.path||"").split(".").map(_=>("000"+_).substr(-3)).join(".");return a<m?-1:a>m?1:0}),n.path.length>2?"- "+e.nome:n.path.length>4?"-- "+e.nome:e.nome}static#t=this.\u0275fac=function(e){return new(e||s)(t.Y36(t.zs3))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["planejamento-list-objetivos-entregas"]],viewQuery:function(e,o){if(1&e&&t.Gf(C.M,5),2&e){let i;t.iGM(i=t.CRH())&&(o.grid=i.first)}},features:[t.qOj],decls:13,vars:22,consts:[["class","my-2",4,"ngIf"],[3,"dao","add","orderBy","groupBy","join","selectable","select"],[3,"buttons",4,"ngIf"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["label","Nome","controlName","nome","placeholder","Nome",3,"size","control"],["title","Nome","orderBy","nome",3,"template"],["columnNome",""],["title","Fundamenta\xe7\xe3o","field","fundamentacao"],["type","options",3,"onEdit","options"],[3,"rows"],[1,"my-2"],[3,"buttons"],[1,"d-block"]],template:function(e,o){if(1&e&&(t.YNc(0,Et,2,1,"h3",0),t.TgZ(1,"grid",1),t.NdJ("select",function(a){return o.onSelect(a)}),t.YNc(2,Qt,1,1,"toolbar",2),t.TgZ(3,"filter",3)(4,"div",4),t._UZ(5,"input-text",5),t.qZA()(),t.TgZ(6,"columns")(7,"column",6),t.YNc(8,Jt,2,1,"ng-template",null,7,t.W1O),t.qZA(),t._UZ(10,"column",8)(11,"column",9),t.qZA(),t._UZ(12,"pagination",10),t.qZA()),2&e){const i=t.MAs(9);t.Q6J("ngIf",!o.isModal),t.xp6(1),t.Q6J("dao",o.dao)("add",o.add)("orderBy",o.orderBy)("groupBy",o.groupBy)("join",o.join)("selectable",o.selectable),t.xp6(1),t.Q6J("ngIf",!o.selectable),t.xp6(1),t.Q6J("deleted",o.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",o.filter)("where",o.filterWhere)("submit",o.filterSubmit.bind(o))("clear",o.filterClear.bind(o))("collapseChange",o.filterCollapseChange.bind(o))("collapsed",!o.selectable&&o.filterCollapsed),t.xp6(2),t.Q6J("size",12)("control",o.filter.controls.nome),t.uIk("maxlength",250),t.xp6(2),t.Q6J("template",i),t.xp6(4),t.Q6J("onEdit",o.edit)("options",o.options),t.xp6(1),t.Q6J("rows",o.rowsLimit)}},dependencies:[h.O5,C.M,J.a,U.b,G.z,R.n,V.Q,c.m]})}return s})(),canActivate:[r.a],resolve:{config:g.o},runGuardsAndResolvers:"always",data:{title:"Objetivos de Planejamento Institucional",modal:!0}},{path:"objetivo/:id/consult",component:W,canActivate:[r.a],resolve:{config:g.o},runGuardsAndResolvers:"always",data:{title:"Consulta a Objetivo de Planejamento Institucional",modal:!0}}];let St=(()=>{class s{static#t=this.\u0275fac=function(e){return new(e||s)};static#e=this.\u0275mod=t.oAB({type:s});static#o=this.\u0275inj=t.cJS({imports:[M.Bz.forChild(qt),M.Bz]})}return s})();var Ft=d(6925),Lt=d(2864);let zt=(()=>{class s{static#t=this.\u0275fac=function(e){return new(e||s)};static#e=this.\u0275mod=t.oAB({type:s});static#o=this.\u0275inj=t.cJS({imports:[h.ez,E.K,A.c8,St,Ft.kb,Lt.UteisModule]})}return s})()}}]);