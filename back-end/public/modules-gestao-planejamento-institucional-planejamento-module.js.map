{"version":3,"sources":["./src/app/dao/planejamento-objetivo-dao.service.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form-objetivo/planejamento-form-objetivo.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form-objetivo/planejamento-form-objetivo.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-routing.module.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list/planejamento-list.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list/planejamento-list.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento.module.ts","./src/app/models/planejamento-objetivo.model.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form/planejamento-form.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form/planejamento-form.component.html","./src/app/models/planejamento.model.ts"],"names":[],"mappings":"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","file":"modules-gestao-planejamento-institucional-planejamento-module.js","sourcesContent":["import { Injectable, Injector } from '@angular/core';\r\nimport { DaoBaseService } from './dao-base.service';\r\nimport { PlanejamentoObjetivo } from '../models/planejamento-objetivo.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PlanejamentoObjetivoDaoService extends DaoBaseService<PlanejamentoObjetivo> {\r\n\r\n  constructor(protected injector: Injector) {\r\n    super(\"PlanejamentoObjetivo\", injector);\r\n  }\r\n\r\n}\r\n\r\n","import { ChangeDetectorRef, Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { EixoTematicoDaoService } from 'src/app/dao/eixo-tematico-dao.service';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\n\r\n@Component({\r\n  selector: 'planejamento-form-objetivo',\r\n  templateUrl: './planejamento-form-objetivo.component.html',\r\n  styleUrls: ['./planejamento-form-objetivo.component.scss']\r\n})\r\nexport class PlanejamentoFormObjetivoComponent extends PageFrameBase {\r\n    @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n    @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n    @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n    @Input() set entity(value: Planejamento | undefined) { super.entity = value; } get entity(): Planejamento | undefined { return super.entity; }\r\n    @Input() cdRef: ChangeDetectorRef;\r\n\r\n    public planejamentoObjetivoDao: PlanejamentoObjetivoDaoService;\r\n    public eixoTematicoDao: EixoTematicoDaoService;\r\n    public form: FormGroup;\r\n\r\n    public get items(): PlanejamentoObjetivo[] {\r\n      if (!this.gridControl.value) this.gridControl.setValue(new Planejamento());\r\n      if (!this.gridControl.value.objetivos) this.gridControl.value.objetivos = [];\r\n      return this.gridControl.value.objetivos;\r\n    }\r\n    \r\n    constructor(public injector: Injector) {\r\n      super(injector);\r\n      this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\r\n      this.dao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n      this.planejamentoObjetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\r\n      this.eixoTematicoDao = injector.get<EixoTematicoDaoService>(EixoTematicoDaoService);\r\n      this.groupBy = [{field: \"eixoTematico.nome\", label: \"Eixo Temático\"}];\r\n      this.join = ['eixoTematico:nome'];\r\n      this.form = this.fh.FormBuilder({\r\n        nome: {default: \"\"},\r\n        fundamentacao: {default: \"\"},\r\n        planejamento_id: {default: null},\r\n        eixo_tematico_id: {default: null},\r\n        objetivo_superior_id: {default: null}\r\n      }, this.cdRef, this.validate);\r\n    }\r\n  \r\n    public validate = (control: AbstractControl, controlName: string) => {\r\n      let result = null;\r\n      if(['nome','fundamentacao'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n        result = \"Obrigatório\";\r\n      }\r\n      return result;\r\n    }\r\n  \r\n    public formValidation = (form?: FormGroup) =>{\r\n      let result = null;\r\n/*       if(this.form!.controls.fim.value && this.form!.controls.inicio.value > this.form!.controls.fim.value) {\r\n        return \"A data do início não pode ser maior que a data do fim!\";\r\n      } */\r\n      return result;\r\n    }\r\n  \r\n    public async addObjetivo() {\r\n      return new PlanejamentoObjetivo({\r\n        id: this.dao!.generateUuid(),\r\n        planejamento_id: this.entity?.id\r\n      }) as IIndexable;\r\n    }\r\n\r\n    public async removeObjetivo(row: any) {\r\n\r\n\r\n      return true;\r\n    }\r\n\r\n    public async loadObjetivo(form: FormGroup, row: any) {\r\n      form.controls.nome.setValue(row.nome);\r\n      form.controls.fundamentacao.setValue(row.fundamentacao);\r\n      form.controls.planejamento_id.setValue(row.planejamento_id);\r\n      form.controls.eixo_tematico_id.setValue(row.eixo_tematico_id);\r\n      form.controls.objetivo_superior_id.setValue(row.objetivo_superior_id);\r\n      this.cdRef.detectChanges();\r\n    }\r\n\r\n    public async saveObjetivo(form: FormGroup, row: any) {\r\n      let result = undefined;\r\n      this.form!.markAllAsTouched();\r\n      if (this.form!.valid) {\r\n        row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\r\n        row.nome = form.controls.nome.value;\r\n        row.fundamentacao = form.controls.fundamentacao.value;\r\n        row.planejamento_id = form.controls.planejamento_id.value;\r\n        row.eixo_tematico_id = form.controls.eixo_tematico_id.value;\r\n        row.objetivo_superior_id = form.controls.objetivo_superior_id.value;\r\n        result = row;\r\n        this.cdRef.detectChanges();\r\n      }\r\n      return result;\r\n    }\r\n\r\n    public async saveData(form?: IIndexable) {\r\n      await this.grid?.confirm();\r\n      return this.entity!;\r\n    }\r\n \r\n\r\n}\r\n  \r\n  \r\n","<editable-form noButtons [form]=\"form!\" [disabled]=\"formDisabled\">\r\n    <div class=\"row\">\r\n        <grid [items]=\"items\" [form]=\"form!\" [hasEdit]=\"true\" [hasDelete]=\"true\" [add]=\"addObjetivo.bind(this)\" [load]=\"loadObjetivo.bind(this)\" [remove]=\"removeObjetivo.bind(this)\" \r\n              [save]=\"saveObjetivo.bind(this)\" editable [groupTemplate]=\"groupEixoTematico\" [groupBy]=\"groupBy\">\r\n            <ng-template let-separator=\"separator\" #groupEixoTematico>\r\n                <strong class=\"grid-group-text\">{{ separator?.text }}</strong>\r\n                <!-- <strong *ngIf=\"group?.length\"><i [class]=\"lookup.getIcon(lookup.ICONES, group[0].value)\"></i> {{lookup.getValue(lookup.ICONES, group[0].value)}}</strong> -->\r\n            </ng-template>\r\n            <columns>\r\n                <column title=\"Nome\" [template]=\"nome\" [editTemplate]=\"editNome\">\r\n                    <ng-template let-row=\"row\" #nome>\r\n                        <strong class=\"d-block\" >{{ row.nome }}</strong>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editNome>\r\n                        <input-text label=\"Nome\" [size]=\"12\" controlName=\"nome\" [control]=\"form!.controls.nome\"></input-text>\r\n                    </ng-template>\r\n                </column>\r\n                <column title=\"Fundamentação\" [template]=\"fundamentacao\" [editTemplate]=\"editFundamentacao\">\r\n                    <ng-template let-row=\"row\" #fundamentacao>\r\n                        <span>{{ row.fundamentacao }}</span>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editFundamentacao>\r\n                        <input-textarea label=\"Fundamentação\" [rows]=\"3\" controlName=\"fundamentacao\" [control]=\"form!.controls.fundamentacao\"></input-textarea>\r\n                    </ng-template>\r\n                </column>\r\n                <column title=\"Objetivo Superior\" [template]=\"objetivoSuperior\" [editTemplate]=\"editObjetivoSuperior\">\r\n                    <ng-template let-row=\"row\" #objetivoSuperior>\r\n                        <span>{{ row.objetivo_superior_id }}</span>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editObjetivoSuperior>\r\n                        <input-search [size]=\"6\" label=\"Objetivos Superiores\" icon=\"fab fa-unity\" controlName=\"objetivo_superior_id\" [control]=\"form!.controls.objetivo_superior_id\" [dao]=\"planejamentoObjetivoDao\" [selectRoute]=\"{route: ['cadastro', 'planejamento-objetivo']}\"></input-search>                        \r\n                    </ng-template>\r\n                </column>\r\n                <column title=\"Eixo Temático\" [template]=\"eixoTematico\" [editTemplate]=\"editEixoTematico\">\r\n                    <ng-template let-row=\"row\" #eixoTematico>\r\n                        <span>{{ row.eixoTematico.nome }}</span>\r\n                    </ng-template>\r\n                    <ng-template let-row=\"row\" #editEixoTematico>\r\n                        <input-search [size]=\"6\" label=\"Eixos Temáticos\" icon=\"fab fa-unity\" controlName=\"eixo_tematico_id\" [control]=\"form!.controls.eixo_tematico_id\" [dao]=\"eixoTematicoDao\" [selectRoute]=\"{route: ['cadastros', 'eixo-tematico']}\"></input-search>                        \r\n                    </ng-template>\r\n                </column>\r\n                <column type=\"options\"></column>\r\n            </columns>\r\n        </grid>\r\n    </div>\r\n</editable-form>","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { PlanejamentoFormComponent } from './planejamento-form/planejamento-form.component';\r\nimport { PlanejamentoListComponent } from './planejamento-list/planejamento-list.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: PlanejamentoListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Planejamentos Institucionais\" } },\r\n  { path: 'new', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão\", modal: true } },\r\n  { path: ':id/edit', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição\", modal: true } },\r\n  { path: ':id/consult', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consultar\", modal: true } },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PlanejamentoRoutingModule { }\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputSearchComponent} from 'src/app/components/input/input-search/input-search.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-list',\r\n  templateUrl: './planejamento-list.component.html',\r\n  styleUrls: ['./planejamento-list.component.scss']\r\n})\r\nexport class PlanejamentoListComponent extends PageListBase<Planejamento, PlanejamentoDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  \r\n  public unidadeDao: UnidadeDaoService;\r\n  public unidade_disabled: string | undefined;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Planejamento, PlanejamentoDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    /* Inicializações */\r\n    this.title = 'Planejamentos Institucionais';\r\n    this.filter = this.fh.FormBuilder({\r\n      inicio: {default: null},\r\n      fim: {default: null},\r\n      nome: {default: \"\"},\r\n      unidade_id: {default: null},\r\n      so_entidade: { default: false },\r\n      agrupar: { default: true },\r\n     });\r\n     this.join = ['unidade:nome,sigla'];\r\n     this.groupBy = [{ field: \"unidade.sigla\", label: \"Unidade\" }];\r\n    // Testa se o usuário possui permissão para exibir planejamentos institucionais\r\n    if (this.auth.hasPermissionTo(\"MOD_PLAN_INST_CONS\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-info-circle\",\r\n        label: \"Informações\",\r\n        onClick: this.consult.bind(this)\r\n      });\r\n    }\r\n    // Testa se o usuário possui permissão para excluir planejamentos institucionais\r\n    if (this.auth.hasPermissionTo(\"MOD_PLAN_INST_EXCL\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-trash\",\r\n        label: \"Excluir\",\r\n        onClick: this.delete.bind(this)\r\n      });\r\n    }\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    filter.controls.nome.setValue(\"\");\r\n    filter.controls.inicio.setValue(null);\r\n    filter.controls.fim.setValue(null);\r\n    filter.controls.unidade_id.setValue(null);\r\n    filter.controls.so_entidade.setValue(false);\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n\r\n    if (form.so_entidade) {\r\n      filter.controls.unidade_id.setValue(null);\r\n      result.push([\"unidade_id\", \"==\", null]);\r\n    } else {\r\n      if(form.unidade_id) result.push([\"unidade_id\", \"==\", form.unidade_id]);\r\n    }\r\n    if(form.nome?.length) {\r\n      result.push([\"nome\", \"like\", \"%\" + form.nome + \"%\"]);\r\n    }\r\n    if(form.inicio) {\r\n      result.push([\"inicio\", \">=\", form.inicio]);\r\n    }\r\n    if(form.fim) {\r\n      result.push([\"fim\", \"<=\", form.fim]);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public onAgruparChange(event: Event) {\r\n    const agrupar = this.filter!.controls.agrupar.value;\r\n    if ((agrupar && !this.groupBy?.length) || (!agrupar && this.groupBy?.length)) {\r\n      this.groupBy = agrupar ? [{ field: \"unidade.sigla\", label: \"Unidade\" }] : [];\r\n      this.grid!.reloadFilter();\r\n    }\r\n  }\r\n\r\n  public onSoEntidadeChange(event: Event) {\r\n    if (this.filter!.controls.so_entidade.value) {\r\n      this.filter!.controls.unidade_id.setValue(null);\r\n      this.unidade_disabled = 'disabled';\r\n    } else {\r\n      this.filter!.controls.unidade_id.setValue(undefined);\r\n      this.unidade_disabled = undefined;\r\n    }\r\n  }\r\n\r\n}\r\n","<grid [dao]=\"dao\" [add]=\"add\" [title]=\"isModal ? '' : title\" [orderBy]=\"orderBy\" [join]=\"join\" [groupBy]=\"groupBy\"\r\n    [selectable]=\"selectable\" (select)=\"onSelect($event)\" [groupTemplate]=\"groupUnidade\"\r\n    [hasAdd]=\"auth.hasPermissionTo('MOD_PLAN_INST_INCL')\"\r\n    [hasEdit]=\"auth.hasPermissionTo('MOD_PLAN_INST_EDT')\">\r\n    <toolbar *ngIf=\"!selectable\">\r\n        <input-switch [size]=\"4\" labelPosition=\"left\" label=\"Agrupar por Unidade\" controlName=\"agrupar\" [control]=\"filter!.controls.agrupar\" (change)=\"onAgruparChange($event)\"></input-switch>\r\n    </toolbar>\r\n    <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-text [size]=\"12\" label=\"Planejamento Institucional\" controlName=\"nome\"\r\n                [control]=\"filter!.controls.nome\" placeholder=\"Nome do planejamento institucional...\"></input-text>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-switch class=\"pt-4\" [size]=\"2\" labelPosition=\"left\" label=\"Só da Entidade\" controlName=\"so_entidade\" [control]=\"filter!.controls.so_entidade\" (change)=\"onSoEntidadeChange($event)\"></input-switch>\r\n            <input-search #unidade [size]=\"6\" label=\"Unidade\" [disabled]=\"unidade_disabled\" controlName=\"unidade_id\" [control]=\"filter!.controls.unidade_id\" [dao]=\"unidadeDao\" [selectRoute]=\"{route: ['configuracoes', 'unidade']}\"></input-search>\r\n            <input-datetime [size]=\"2\" date label=\"Início\" controlName=\"inicio\" [control]=\"filter!.controls.inicio\" labelInfo=\"Data de início do planejamento institucional\"></input-datetime>\r\n            <input-datetime [size]=\"2\" date label=\"Fim\" controlName=\"fim\" [control]=\"filter!.controls.fim\" labelInfo=\"Data do fim do planejamento institucional\"></input-datetime>\r\n        </div>\r\n    </filter>\r\n    <ng-template let-separator=\"separator\" #groupUnidade>\r\n        <strong *ngIf=\"filter!.controls.agrupar.value\" class=\"grid-group-text\">{{separator?.text || auth.unidade!.entidade!.sigla}}</strong>\r\n    </ng-template>\r\n    <columns>\r\n        <column title=\"Nome\" field=\"nome\" orderBy=\"nome\"></column>\r\n        <column title=\"Início\" [template]=\"columnInicio\">\r\n            <ng-template let-row=\"row\" #columnInicio>\r\n                <span> {{dao!.getDateFormatted(row.inicio)}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Fim\" [template]=\"columnFim\">\r\n            <ng-template let-row=\"row\" #columnFim>\r\n                <span> {{dao!.getDateFormatted(row.fim)}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Unidade\" [template]=\"columnUnidade\">\r\n            <ng-template let-row=\"row\" #columnUnidade>\r\n                <span> {{row.unidade?.nome || \"\"}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { PlanejamentoListComponent } from './planejamento-list/planejamento-list.component';\r\nimport { PlanejamentoFormComponent } from './planejamento-form/planejamento-form.component';\r\nimport { PlanejamentoRoutingModule } from './planejamento-routing.module';\r\nimport { PlanejamentoFormObjetivoComponent } from './planejamento-form-objetivo/planejamento-form-objetivo.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PlanejamentoListComponent,\r\n    PlanejamentoFormComponent,\r\n    PlanejamentoFormObjetivoComponent\r\n  ],\r\n  imports: [\r\n    ComponentsModule,\r\n    PlanejamentoRoutingModule,\r\n    CommonModule\r\n  ]\r\n})\r\nexport class PlanejamentoModule { }\r\n","import { Base } from './base.model';\r\nimport { EixoTematico } from './eixo-tematico.model';\r\nimport { Planejamento } from './planejamento.model';\r\n\r\nexport class PlanejamentoObjetivo extends Base {\r\n    public planejamento?: Planejamento;\r\n    public eixoTematico?: EixoTematico;\r\n    public objetivoSuperior?: PlanejamentoObjetivo;\r\n        \r\n    public data_inicio: Date = new Date();  /* Data de criação */\r\n    public data_fim: Date | null = null;  /* Data final do registro */\r\n    public nome: string = \"\"; /* Nome do objetivo */\r\n    public fundamentacao: string = \"\"; /* Fundamentação para a definição do objetivo */\r\n    public planejamento_id: string | null = null; \r\n    public eixo_tematico_id: string | null = null; \r\n    public objetivo_superior_id: string | null = null; \r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { PlanejamentoFormObjetivoComponent } from '../planejamento-form-objetivo/planejamento-form-objetivo.component';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-form',\r\n  templateUrl: './planejamento-form.component.html',\r\n  styleUrls: ['./planejamento-form.component.scss']\r\n})\r\nexport class PlanejamentoFormComponent extends PageFormBase<Planejamento, PlanejamentoDaoService> {\r\n    @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n    @ViewChild('objetivos', { static: false }) public objetivos?: PlanejamentoFormObjetivoComponent;\r\n    @ViewChild(GridComponent, { static: true }) public grid?: GridComponent;\r\n    \r\n    public unidadeDao: UnidadeDaoService;\r\n    public form: FormGroup;\r\n    \r\n    constructor(public injector: Injector) {\r\n      super(injector, Planejamento, PlanejamentoDaoService);\r\n      this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n      this.join = ['objetivos','objetivos.eixoTematico:nome'];\r\n      this.form = this.fh.FormBuilder({\r\n        nome: {default: \"\"},\r\n        unidade_id: {default: null},\r\n        entidade_id: {default: null},\r\n        inicio: {default: new Date()},\r\n        fim: {default: null},\r\n        missao: {default: \"\"},\r\n        visao: {default: \"\"},\r\n        valores: { default: []},\r\n        valor_texto: {default: \"\"}\r\n      }, this.cdRef, this.validate);\r\n    }\r\n  \r\n    public validate = (control: AbstractControl, controlName: string) => {\r\n      let result = null;\r\n      if(['nome','missao','visao'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n        result = \"Obrigatório\";\r\n      }\r\n      if(['inicio'].indexOf(controlName) >= 0 && !this.dao?.validDateTime(control.value)) {\r\n        result = \"Inválido\";\r\n      }\r\n      if(controlName == 'fim' && control.value && !this.dao?.validDateTime(control.value)){\r\n        result = \"Inválido\";\r\n      }\r\n      return result;\r\n    }\r\n  \r\n    public formValidation = (form?: FormGroup) =>{\r\n      let result = null;\r\n      if(this.form!.controls.fim.value && this.form!.controls.inicio.value > this.form!.controls.fim.value) {\r\n        return \"A data do início não pode ser maior que a data do fim!\";\r\n      }\r\n      return result;\r\n    }\r\n  \r\n    public loadData(entity: Planejamento, form: FormGroup) {\r\n      let formValue = Object.assign({}, form.value);\r\n      form.patchValue(this.util.fillForm(formValue, entity));\r\n    }\r\n  \r\n    public initializeData(form: FormGroup) {\r\n      this.entity = new Planejamento();\r\n      this.loadData(this.entity, form); \r\n    }\r\n\r\n    public async saveData(form: IIndexable): Promise<Planejamento> {\r\n      return new Promise<Planejamento>((resolve, reject) => {\r\n        this.objetivos!.grid!.confirm();\r\n        let planejamento = this.util.fill(new Planejamento(), this.entity!);\r\n        //this.form!.value.entidade_id = this.auth.unidade?.entidade?.id\r\n        //this.form!.value.unidade_id = this.auth.unidade?.id\r\n        planejamento = this.util.fillForm(planejamento, this.form!.value);\r\n        planejamento.objetivos = this.objetivos!.items;\r\n        resolve(planejamento);\r\n      });\r\n    }\r\n   \r\n    public titleEdit = (entity: Planejamento): string => {\r\n      return \"Editando \"+ (entity?.nome || \"\");\r\n    }\r\n\r\n    public addValorHandle(): LookupItem | undefined {\r\n      let result = undefined;\r\n      const value = this.form.controls.valor_texto.value;\r\n      const key = this.util.textHash(value);\r\n      if(value?.length && this.util.validateLookupItem(this.form.controls.valores.value, key)) {\r\n        result = {\r\n          key: key,\r\n          value: this.form.controls.valor_texto.value\r\n        };\r\n        this.form.controls.valor_texto.setValue(\"\");\r\n      }\r\n      return result;\r\n    };  \r\n}\r\n  \r\n  \r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right>\r\n        <tab key=\"DADOS\" label=\"Dados\">\r\n            <div class=\"row\">\r\n                <div class=\"row\">\r\n                    <input-text [size]=\"12\" label=\"Nome do Planejamento Institucional\" icon=\"bi bi-textarea-t\" controlName=\"nome\" [control]=\"form!.controls.nome\"></input-text>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <input-search [size]=\"6\" label=\"Unidade\" icon=\"fab fa-unity\" controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [dao]=\"unidadeDao\" [selectRoute]=\"{route: ['configuracoes', 'unidade']}\"></input-search>\r\n                    <input-datetime date [size]=\"3\" label=\"Início\" icon=\"bi bi-calendar-date\" controlName=\"inicio\" [control]=\"form!.controls.inicio\" labelInfo=\"Início do Planejamento Institucional\"></input-datetime>\r\n                    <input-datetime date [size]=\"3\" label=\"Fim\" icon=\"bi bi-calendar-date\" controlName=\"fim\" [control]=\"form!.controls.fim\" labelInfo=\"Fim do Planejamento Institucional\"></input-datetime>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <input-textarea [size]=\"6\" label=\"Missão\" [rows]=\"3\" controlName=\"missao\" [control]=\"form!.controls.missao\"></input-textarea>\r\n                    <input-textarea [size]=\"6\" label=\"Visão\" [rows]=\"3\" controlName=\"visao\" [control]=\"form!.controls.visao\"></input-textarea>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <input-multiselect [size]=\"12\" label=\"Valores\" controlName=\"valores\" [addItemHandle]=\"addValorHandle.bind(this)\">\r\n                        <input-text label=\"Valor Institucional\" icon=\"far fa-edit\" controlName=\"valor_texto\" [control]=\"form!.controls.valor_texto\"></input-text>\r\n                    </input-multiselect>        \r\n                </div>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"OBJETIVOS\" label=\"Objetivos\">\r\n            <planejamento-form-objetivo #objetivos [entity]=\"entity\" [cdRef]=\"cdRef\"></planejamento-form-objetivo>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>\r\n\r\n","import { LookupItem } from '../services/lookup.service';\r\nimport { Base } from './base.model';\r\nimport { Entidade } from './entidade.model';\r\nimport { PlanejamentoObjetivo } from './planejamento-objetivo.model';\r\nimport { Unidade } from './unidade.model';\r\n\r\nexport class Planejamento extends Base {\r\n    public unidade?: Unidade;\r\n    public entidade?: Entidade;\r\n    public objetivos?: PlanejamentoObjetivo[];\r\n    \r\n    public data_inicio: Date = new Date();  /* Data de criação */\r\n    public data_fim: Date | null = null;  /* Data final do registro */\r\n    public inicio: Date = new Date(); /* Data de início do planejamento */\r\n    public fim: Date | null = null; /* Data do fim do planejamento */\r\n    public nome: string = \"\"; /* Nome do planejamento institucional */\r\n    public missao: string = \"\"; /* Missão da Instituição/Unidade */\r\n    public visao: string = \"\"; /* Visão da Instituição/Unidade */\r\n    public valores: LookupItem[] = []; /* Valores da Instituição/Unidade */\r\n    public unidade_id: string | null = null; /* Unidade à qual está vinculado o planejamento institucional */\r\n    public entidade_id: string | null = null; /* Entidade à qual está vinculado o planejamento institucional */\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}\r\n"],"sourceRoot":"webpack:///"}