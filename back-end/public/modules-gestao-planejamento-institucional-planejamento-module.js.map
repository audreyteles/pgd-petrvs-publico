{"version":3,"sources":["./src/app/dao/planejamento-objetivo-dao.service.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form-objetivo/planejamento-form-objetivo.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form-objetivo/planejamento-form-objetivo.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-routing.module.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-mapa-entregas/planejamento-mapa-entregas.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-mapa-entregas/planejamento-mapa-entregas.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivo/planejamento-list-objetivo.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivo/planejamento-list-objetivo.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-list/planejamento-list.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list/planejamento-list.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento.module.ts","./src/app/models/planejamento-objetivo.model.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form/planejamento-form.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form/planejamento-form.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-mapa/planejamento-mapa.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-mapa/planejamento-mapa.component.html","./src/app/models/planejamento.model.ts","./src/app/modules/gestao/plano-entrega/plano-entrega.service.ts"],"names":[],"mappings":"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","file":"modules-gestao-planejamento-institucional-planejamento-module.js","sourcesContent":["import { Injectable, Injector } from '@angular/core';\r\nimport { DaoBaseService } from './dao-base.service';\r\nimport { PlanejamentoObjetivo } from '../models/planejamento-objetivo.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PlanejamentoObjetivoDaoService extends DaoBaseService<PlanejamentoObjetivo> {\r\n\r\n  constructor(protected injector: Injector) {\r\n    super(\"PlanejamentoObjetivo\", injector);\r\n    this.searchFields = [\"nome\", \"planejamento_id\", \"eixo_tematico_id\"];\r\n  }\r\n\r\n}\r\n\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { InputTextComponent } from 'src/app/components/input/input-text/input-text.component';\r\nimport { EixoTematicoDaoService } from 'src/app/dao/eixo-tematico-dao.service';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { NavigateResult } from 'src/app/services/navigate.service';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-form-objetivo',\r\n  templateUrl: './planejamento-form-objetivo.component.html',\r\n  styleUrls: ['./planejamento-form-objetivo.component.scss']\r\n})\r\nexport class PlanejamentoFormObjetivoComponent extends PageFormBase<PlanejamentoObjetivo, PlanejamentoObjetivoDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('planejamento_superior_nome', {static: false}) public planejamento_superior_nome?: InputTextComponent;\r\n\r\n  public planejamento?: Planejamento;\r\n  public objetivos_superiores?: LookupItem[] = [];\r\n  public planejamentoDao?: PlanejamentoDaoService;\r\n  public eixoTematicoDao?: EixoTematicoDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, PlanejamentoObjetivo, PlanejamentoObjetivoDaoService);\r\n    this.planejamentoDao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.eixoTematicoDao = injector.get<EixoTematicoDaoService>(EixoTematicoDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      nome: {default: \"\"},\r\n      fundamentacao: {default: \"\"},\r\n      planejamento_id: {default: null},\r\n      planejamento_superior_nome: {default: \"\"},\r\n      eixo_tematico_id: {default: null},\r\n      objetivo_superior_id: {default: null},\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if(['nome','fundamentacao','eixo_tematico_id'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public formValidation = (form?: FormGroup) =>{\r\n    let result = null;\r\n\r\n    if(this.isPlanejamentoUNEX() && !this.form?.controls.objetivo_superior_id.value){\r\n      result = \"Quando o Planejamento é de uma Unidade Executora é obrigatório associar cada objetivo a um objetivo do Planejamento Institucional superior!\";\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  public loadData(entity: PlanejamentoObjetivo, form: FormGroup): void {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    this.title = entity._status == 'ADD' ? 'Inclusão de Objetivo' : 'Editando objetivo...';\r\n    this.planejamento = this.metadata?.planejamento as Planejamento;\r\n/*     if(this.planejamento) this.planejamento.planejamento_superior = this.metadata.planejamento_superior as Planejamento || null;\r\n    if(this.planejamento.planejamento_superior) this.planejamento.planejamento_superior.objetivos = this.metadata?.objetivos_superiores || null;  */\r\n    this.form?.controls.planejamento_superior_nome.setValue(this.planejamento?.planejamento_superior?.nome || '');\r\n    this.objetivos_superiores = this.planejamento?.planejamento_superior?.objetivos?.map(x => Object.assign({}, { key: x.id, value: x.nome, data: x })) || [];\r\n  }\r\n\r\n  public initializeData(form: FormGroup): void {\r\n    this.entity = this.metadata?.objetivo as PlanejamentoObjetivo;\r\n    this.loadData(this.entity!, form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<NavigateResult> {\r\n    return new Promise<NavigateResult>((resolve, reject) => {\r\n      const objetivo = this.util.fill(new PlanejamentoObjetivo(), this.entity!);\r\n      resolve(new NavigateResult(this.util.fillForm(objetivo, this.form!.value)));\r\n    });\r\n  }\r\n\r\n  public isPlanejamentoUNEX(): boolean {\r\n    return this.planejamento?.unidade_id != null;\r\n  }\r\n\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div class=\"row\">\r\n        <div *ngIf=\"planejamento?.unidade_id\" class=\"row\">\r\n            <input-text #planejamento_superior_nome [size]=\"12\" class=\"disabled\" disabled=\"true\" label=\"Planejamento superior vinculado\" [icon]=\"lookup.getIcon(lookup.ICONS,'planejamento')\" controlName=\"planejamento_superior_nome\" [control]=\"form!.controls.planejamento_superior_nome\"></input-text>                        \r\n        </div>\r\n        <div class=\"row\">\r\n            <input-text [size]=\"12\" icon=\"bi bi-textarea-t\" label=\"Nome\" controlName=\"nome\" [control]=\"form!.controls.nome\"></input-text>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-textarea icon=\"bi bi-textarea-t\" label=\"Fundamentação\" [size]=\"12\" [rows]=\"4\" controlName=\"fundamentacao\" [control]=\"form!.controls.fundamentacao\"></input-textarea>\r\n        </div>\r\n        <div *ngIf=\"planejamento?.unidade_id\" class=\"row\">\r\n            <input-select [items]=\"objetivos_superiores!\" [size]=\"12\" label=\"Objetivo superior vinculado\" icon=\"fab fa-unity\" controlName=\"objetivo_superior_id\" [control]=\"form!.controls.objetivo_superior_id\"></input-select>                        \r\n        </div>\r\n        <div class=\"row\">\r\n            <input-search [size]=\"12\" label=\"Eixo Temático\" [icon]=\"lookup.getIcon(lookup.ICONS,'eixoTematico')\" controlName=\"eixo_tematico_id\" [control]=\"form!.controls.eixo_tematico_id\" [dao]=\"eixoTematicoDao\" [selectRoute]=\"{route: ['cadastros', 'eixo-tematico']}\"></input-search>                        \r\n        </div>\r\n    </div>\r\n</editable-form>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { PlanejamentoFormComponent } from './planejamento-form/planejamento-form.component';\r\nimport { PlanejamentoListComponent } from './planejamento-list/planejamento-list.component';\r\nimport { PlanejamentoFormObjetivoComponent } from './planejamento-form-objetivo/planejamento-form-objetivo.component';\r\nimport { PlanejamentoListObjetivoComponent } from './planejamento-list-objetivo/planejamento-list-objetivo.component';\r\nimport { PlanejamentoMapaEntregasComponent } from './planejamento-mapa-entregas/planejamento-mapa-entregas.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: PlanejamentoListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Planejamentos Institucionais\" } },\r\n  { path: 'new', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão\", modal: true } },\r\n  { path: ':id/edit', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição\", modal: true } },\r\n  { path: ':id/consult', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consultar\", modal: true } },\r\n  //{ path: 'objetivo', component: PlanejamentoListObjetivoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Objetivos do Planejamento\", modal: true } },\r\n  { path: 'objetivo', component: PlanejamentoFormObjetivoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Objetivo\", modal: true } },\r\n  //{ path: 'objetivo/:id/edit', component: PlanejamentoFormObjetivoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição de Objetivo\", modal: true } },\r\n  { path: 'objetivo/:id/consult', component: PlanejamentoFormObjetivoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consultar Objetivo\", modal: true } },\r\n  { path: ':id/objetivos/:objetivo_id', component: PlanejamentoMapaEntregasComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Objetivos do planejamento\", modal: true } },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PlanejamentoRoutingModule { }\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputSearchComponent} from 'src/app/components/input/input-search/input-search.component';\r\nimport { EntregaDaoService } from 'src/app/dao/entrega-dao.service';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { PlanoEntregaService } from '../../plano-entrega/plano-entrega.service';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-mapa-entregas',\r\n  templateUrl: './planejamento-mapa-entregas.component.html',\r\n  styleUrls: ['./planejamento-mapa-entregas.component.scss']\r\n})\r\nexport class PlanejamentoMapaEntregasComponent extends PageListBase<Planejamento, PlanejamentoDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  \r\n  public unidadeDao: UnidadeDaoService;\r\n  public entregaDao: EntregaDaoService;\r\n  public entregaService: PlanoEntregaService;\r\n  public objetivoId?: string;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Planejamento, PlanejamentoDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.entregaDao = injector.get<EntregaDaoService>(EntregaDaoService);\r\n    this.entregaService = injector.get<PlanoEntregaService>(PlanoEntregaService);\r\n    /* Inicializações */\r\n    this.title = this.lex.noun('Planejamento Institucional',true);\r\n    this.filter = this.fh.FormBuilder({\r\n      unidade_id: {default: null},\r\n      entrega_id: {default: null},\r\n      inicio: {default: null},\r\n      fim: {default: null}\r\n    });\r\n    this.join = ['plano_entrega.unidade:id,nome,sigla', 'plano_entrega.entrega:id,nome,tipo_indicador,lista_qualitativos'];\r\n  }\r\n\r\n  ngOnInit(){\r\n    super.ngOnInit()\r\n    this.objetivoId = this.urlParams!.get(\"objetivo_id\") || undefined;\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    filter.controls.unidade_id.setValue(null);\r\n    filter.controls.entrega_id.setValue(null);\r\n    filter.controls.inicio.setValue(null);\r\n    filter.controls.fim.setValue(null);\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n\r\n    result.push([\"objetivos.objetivo_id\", \"==\", this.objetivoId]);\r\n    if(form.unidade_id) result.push([\"plano_entrega.unidade_id\", \"==\", form.unidade_id]);\r\n    if(form.entrega_id) result.push([\"entrega_id\", \"==\", form.entrega_id]);\r\n    if(form.inicio) result.push([\"data_inicio\", \">=\", form.inicio]);\r\n    if(form.fim) result.push([\"data_fim\", \"<=\", form.fim]);\r\n\r\n    return result;\r\n  }\r\n\r\n}\r\n\r\n","<grid [dao]=\"dao\" noHeader [title]=\"isModal ? '' : title\" [orderBy]=\"orderBy\" [join]=\"join\">\r\n    <toolbar>\r\n        <!-- input-switch [size]=\"4\" labelPosition=\"left\" label=\"Agrupar por Unidade\" controlName=\"agrupar\" [control]=\"filter!.controls.agrupar\" (change)=\"onAgruparChange($event)\"></input-switch -->\r\n    </toolbar>\r\n    <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-search #unidade [size]=\"4\" label=\"Unidade\" controlName=\"unidade_id\" [control]=\"filter!.controls.unidade_id\" [dao]=\"unidadeDao\" [selectRoute]=\"{route: ['configuracoes', 'unidade']}\"></input-search>\r\n            <input-search #entrega [size]=\"4\" label=\"Entrega\" controlName=\"entrega_id\" [control]=\"filter!.controls.entrega_id\" [dao]=\"entregaDao\" [selectRoute]=\"{route: ['cadastros', 'entrega']}\"></input-search>\r\n            <input-datetime [size]=\"2\" date label=\"Início\" controlName=\"inicio\" [control]=\"filter!.controls.inicio\" labelInfo=\"Data de início do planejamento institucional\"></input-datetime>\r\n            <input-datetime [size]=\"2\" date label=\"Fim\" controlName=\"fim\" [control]=\"filter!.controls.fim\" labelInfo=\"Data do fim do planejamento institucional\"></input-datetime>\r\n        </div>\r\n    </filter>\r\n    <columns>\r\n        <column title=\"Entrega\" [template]=\"columnEntrega\">\r\n            <ng-template let-row=\"row\" #columnEntrega>\r\n                <p><b>Data:</b> {{util.getDateFormatted(row.inicio)}} - {{util.getDateFormatted(row.fim)}}</p>\r\n                <p><b>Cliente:</b> {{row.cliente}}</p>\r\n                <p>{{row.descricao}}</p>\r\n                <badge icon=\"bi bi-list-columns-reverse\" color=\"light\" [label]=\"row.plano_entrega.unidade.sigla\" hint=\"Plano de entrega\"></badge>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Meta\" [template]=\"columnMeta\">\r\n            <ng-template let-row=\"row\" #columnMeta>\r\n                <div class=\"meta h-100\">\r\n                    <div class=\"card h-100\">\r\n                        <div class=\"card-body\">\r\n                            <h5 class=\"card-title\">Meta</h5>\r\n                            <h2 class=\"text-primary\">{{entregaService.getValorMeta(row)}}</h2>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Realizado\" [template]=\"columnRealizado\">\r\n            <ng-template let-row=\"row\" #columnRealizado>\r\n                <div class=\"realizado h-100\">\r\n                    <div class=\"card h-100\">\r\n                        <div class=\"card-body\">\r\n                            <h5 class=\"card-title\">Realizado</h5>\r\n                            <h2 *ngIf=\"!entregaService.isPorcentagem(row)\" class=\"text-secondary\">Regular</h2>\r\n                            <progress-bar *ngIf=\"entregaService.isPorcentagem(row)\" [value]=\"row.realizado!.porcentagem!\" color=\"success\"></progress-bar>\r\n                        </div>\r\n                        <div class=\"card-footer p-0\">\r\n                            <action-button icon=\"bi bi-card-checklist\"></action-button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </ng-template>\r\n        </column>\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>","import { Component, Injector, Input, ViewChild } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { EixoTematicoDaoService } from 'src/app/dao/eixo-tematico-dao.service';\r\n\r\n@Component({\r\n  selector: 'planejamento-list-objetivo',\r\n  templateUrl: './planejamento-list-objetivo.component.html',\r\n  styleUrls: ['./planejamento-list-objetivo.component.scss']\r\n})\r\nexport class PlanejamentoListObjetivoComponent extends PageFrameBase {\r\n    @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n    @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n    @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n    @Input() set entity(value: Planejamento | undefined) { super.entity = value; } get entity(): Planejamento | undefined { return super.entity; }\r\n    @Input() set disabled(value: boolean) { if(this._disabled != value) this._disabled = value; } get disabled(): boolean { return this._disabled; }\r\n    @Input() eixos?: EixoTematico[];\r\n    @Input() entity_id?: string | undefined;\r\n\r\n    public get items(): PlanejamentoObjetivo[] {\r\n      if (!this.gridControl.value) this.gridControl.setValue(new Planejamento());\r\n      if (!this.gridControl.value.objetivos) this.gridControl.value.objetivos = [];\r\n      return this.gridControl.value.objetivos;\r\n    }\r\n    public minHeight: number = 350;\r\n    public options: ToolbarButton[] = [];\r\n    public objetivoDao?: PlanejamentoObjetivoDaoService;\r\n    public eixoDao?: EixoTematicoDaoService;\r\n    private _disabled: boolean = false;\r\n    \r\n    constructor(public injector: Injector) {\r\n      super(injector);\r\n      this.dao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n      this.objetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\r\n      this.eixoDao = injector.get<EixoTematicoDaoService>(EixoTematicoDaoService);\r\n      this.groupBy = [{field: \"eixo_tematico_id\", label: \"Eixo Temático\"}];\r\n      this.form = this.fh.FormBuilder({\r\n        nome: {default: \"\"},\r\n        fundamentacao: {default: \"\"},\r\n        planejamento_id: {default: null},\r\n        eixo_tematico_id: {default: null},\r\n        objetivo_superior_id: {default: null}\r\n      }, this.cdRef);\r\n    }\r\n    \r\n    ngOnInit(): void {\r\n      super.ngOnInit();\r\n      this.entity = this.metadata?.entity || this.entity;\r\n      this.eixos = this.metadata?.eixos || this.eixos;\r\n      if(!this.eixos) this.eixoDao?.query().getAll().then(eixos => {\r\n        this.eixos = eixos;\r\n      });  \r\n    }\r\n\r\n    public dynamicButtons(row: any): ToolbarButton[] {\r\n      let result: ToolbarButton[] = [];\r\n      let objetivo: PlanejamentoObjetivo = row as PlanejamentoObjetivo;\r\n  \r\n      if(this.auth.hasPermissionTo('MOD_PLAN_INST_EDT') && !this.disabled) {\r\n        result.push({hint: \"Editar\", icon: \"bi bi-pencil-square\", color: \"btn-outline-info\", onClick: (objetivo: PlanejamentoObjetivo) => { this.editObjetivo(objetivo); }});\r\n      }\r\n\r\n      return result;\r\n    }\r\n\r\n    public dynamicOptions(row: any): ToolbarButton[] {\r\n      let result: ToolbarButton[] = [];\r\n      let objetivo: PlanejamentoObjetivo = row as PlanejamentoObjetivo;\r\n\r\n      result.push({label: \"Informações\", icon: \"bi bi-info-circle\", onClick: (objetivo: PlanejamentoObjetivo) => this.go.navigate({route: ['gestao', 'planejamento', 'objetivo', objetivo.id, 'consult']}, {modal: true})});  \r\n      if(this.auth.hasPermissionTo('MOD_PLAN_INST_EXCL') && !this.disabled) {\r\n        result.push({label: \"Excluir\", icon: \"bi bi-trash\", color: \"btn-outline-danger\", onClick: (objetivo: PlanejamentoObjetivo) => { this.removeObjetivo(objetivo); }});\r\n      }\r\n\r\n      return result;\r\n    }\r\n\r\n    public async addObjetivo() {\r\n      // ************ \r\n      // se for adicionar um objetivo num grid não persistente é necessário checar se o planejamento é da entidade ou da unidade, pois se\r\n      // se for de uma unidade será obrigatório já ter escolhido o planejamento superior\r\n      let objetivo = new PlanejamentoObjetivo({_status: \"ADD\", planejamento_id: this.entity?.id});\r\n      this.go.navigate({route: ['gestao', 'planejamento', 'objetivo']}, {\r\n        metadata: {planejamento: this.entity!, objetivo: objetivo}, \r\n        modalClose: async (modalResult) => {\r\n          if(modalResult) {this.isNoPersist ? this.items.push(modalResult) : this.items.push(await this.objetivoDao!.save(modalResult));};\r\n        }\r\n      });\r\n    }\r\n\r\n    public async editObjetivo(objetivo: PlanejamentoObjetivo) {\r\n      objetivo._status = objetivo._status == \"ADD\" ? \"ADD\" : \"EDIT\";\r\n      let index = this.items.indexOf(objetivo);\r\n      this.go.navigate({route: ['gestao', 'planejamento', 'objetivo']}, {\r\n        metadata: {planejamento: this.entity!, objetivo: objetivo}, \r\n        modalClose: async (modalResult) => {\r\n          if(modalResult) { \r\n            if(!this.isNoPersist) await this.objetivoDao?.save(modalResult);\r\n            this.items[index] = modalResult;\r\n          };\r\n        }\r\n      });\r\n    }\r\n\r\n    public async removeObjetivo(objetivo: PlanejamentoObjetivo) {\r\n      let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\r\n      if(confirm) {\r\n        let index = this.items.indexOf(objetivo);\r\n        if(this.isNoPersist) {\r\n          objetivo._status = \"DELETE\";\r\n        } else {\r\n          await this.objetivoDao!.delete(objetivo);\r\n          this.grid?.items.splice(index,1);\r\n        };\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    public getEixo(id: string): EixoTematico | undefined {\r\n      return this.eixos?.find(x => x.id == id);\r\n    }\r\n\r\n}\r\n  \r\n  \r\n","<grid [items]=\"items\" [form]=\"form!\" #gridObjetivos editable [selectable]=\"false\" [minHeight]=\"minHeight\" \r\n        [add]=\"addObjetivo.bind(this)\" [remove]=\"removeObjetivo.bind(this)\" \r\n        [hasDelete]=\"false\" [hasEdit]=\"false\" [hasAdd]=\"!disabled\" [join]=\"join\" [groupBy]=\"groupBy\" [groupTemplate]=\"groupEixoTematico\">\r\n    <ng-template let-separator=\"separator\" #groupEixoTematico>\r\n        <span class=\"text-wrap\"><badge [icon]=\"getEixo(separator?.text)?.icone || 'bi bi-gear'\" [color]=\"getEixo(separator?.text)?.cor || 'primary'\" [label]=\"getEixo(separator?.text)?.nome || 'Desconhecido'\"></badge></span>\r\n    </ng-template>\r\n    <columns>\r\n        <column title=\"Nome\" [template]=\"columnNome\"><ng-template let-row=\"row\" #columnNome><span>{{ row.nome }}</span></ng-template></column>\r\n        <column title=\"Fundamentação\" [template]=\"columnFundamentacao\"><ng-template let-row=\"row\" #columnFundamentacao><span>{{ row.fundamentacao }}</span></ng-template></column>\r\n        <column *ngIf=\"entity?.unidade_id\" title=\"Objetivo Superior\" [template]=\"columnObjetivoSuperior\"><ng-template let-row=\"row\" #columnObjetivoSuperior><span>{{ row.objetivo_superior?.nome  || '' }}</span></ng-template></column>\r\n        <!-- <column title=\"Objetivo Superior\" [template]=\"columnObjetivoSuperior\"><ng-template let-row=\"row\" #columnObjetivoSuperior><span>{{ row.objetivo_superior?.nome  || '' }}</span></ng-template></column> -->\r\n        <column type=\"options\" [dynamicButtons]=\"dynamicButtons.bind(this)\" [dynamicOptions]=\"dynamicOptions.bind(this)\"></column>\r\n    </columns>\r\n</grid>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputSearchComponent} from 'src/app/components/input/input-search/input-search.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-list',\r\n  templateUrl: './planejamento-list.component.html',\r\n  styleUrls: ['./planejamento-list.component.scss']\r\n})\r\nexport class PlanejamentoListComponent extends PageListBase<Planejamento, PlanejamentoDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  \r\n  public unidadeDao: UnidadeDaoService;\r\n  public unidade_disabled: string | undefined;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Planejamento, PlanejamentoDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    /* Inicializações */\r\n    this.title = this.lex.noun('Planejamento Institucional',true);\r\n    this.filter = this.fh.FormBuilder({\r\n      inicio: {default: null},\r\n      fim: {default: null},\r\n      nome: {default: \"\"},\r\n      unidade_id: {default: null},\r\n      so_entidade: { default: false },\r\n      agrupar: { default: true },\r\n     });\r\n    this.join = [\r\n      'unidade:id,nome,sigla',\r\n      'objetivos',\r\n      'objetivos.eixo_tematico:id,nome',\r\n      'objetivos.objetivo_superior:id,nome',\r\n      'planejamento_superior:id,nome',\r\n      'planejamento_superior.objetivos'\r\n    ];\r\n    // Testa se o usuário possui permissão para exibir planejamentos institucionais\r\n    if (this.auth.hasPermissionTo(\"MOD_PLAN_INST_CONS\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-info-circle\",\r\n        label: \"Informações\",\r\n        onClick: this.consult.bind(this)\r\n      });\r\n    }\r\n    // Testa se o usuário possui permissão para excluir planejamentos institucionais\r\n    if (this.auth.hasPermissionTo(\"MOD_PLAN_INST_EXCL\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-trash\",\r\n        label: \"Excluir\",\r\n        onClick: this.delete.bind(this)\r\n      });\r\n    }\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    filter.controls.nome.setValue(\"\");\r\n    filter.controls.inicio.setValue(null);\r\n    filter.controls.fim.setValue(null);\r\n    filter.controls.unidade_id.setValue(null);\r\n    filter.controls.so_entidade.setValue(false);\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n\r\n    if (form.so_entidade) {\r\n      filter.controls.unidade_id.setValue(null);\r\n      result.push([\"unidade_id\", \"==\", null]);\r\n    } else {\r\n      if(form.unidade_id) result.push([\"unidade_id\", \"==\", form.unidade_id]);\r\n    }\r\n    if(form.nome?.length) {\r\n      result.push([\"nome\", \"like\", \"%\" + form.nome + \"%\"]);\r\n    }\r\n    if(form.inicio) {\r\n      result.push([\"inicio\", \">=\", form.inicio]);\r\n    }\r\n    if(form.fim) {\r\n      result.push([\"fim\", \"<=\", form.fim]);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public onSoEntidadeChange(event: Event) {\r\n    if (this.filter!.controls.so_entidade.value) {\r\n      this.filter!.controls.unidade_id.setValue(null);\r\n      this.unidade_disabled = 'disabled';\r\n    } else {\r\n      this.filter!.controls.unidade_id.setValue(undefined);\r\n      this.unidade_disabled = undefined;\r\n    }\r\n  }\r\n\r\n  public get eixos(): EixoTematico[] {\r\n    return this.grid!.query?.extra?.eixos || [];\r\n  }\r\n\r\n}\r\n","<grid [dao]=\"dao\" [add]=\"add\" [title]=\"isModal ? '' : title\" [orderBy]=\"orderBy\" [join]=\"join\"\r\n    [selectable]=\"selectable\" (select)=\"onSelect($event)\" \r\n    [hasAdd]=\"auth.hasPermissionTo('MOD_PLAN_INST_INCL')\"\r\n    [hasEdit]=\"auth.hasPermissionTo('MOD_PLAN_INST_EDT')\">\r\n    <toolbar *ngIf=\"!selectable\"></toolbar>\r\n    <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-text [size]=\"12\" label=\"Planejamento Institucional\" controlName=\"nome\"\r\n                [control]=\"filter!.controls.nome\" placeholder=\"Nome do planejamento institucional...\"></input-text>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-switch [size]=\"2\" label=\"Só da Entidade\" controlName=\"so_entidade\" [control]=\"filter!.controls.so_entidade\" (change)=\"onSoEntidadeChange($event)\"></input-switch>\r\n            <input-search #unidade [size]=\"4\" label=\"Unidade\" [disabled]=\"unidade_disabled\" controlName=\"unidade_id\" [control]=\"filter!.controls.unidade_id\" [dao]=\"unidadeDao\" [selectRoute]=\"{route: ['configuracoes', 'unidade']}\"></input-search>\r\n            <input-datetime [size]=\"3\" date label=\"Início\" controlName=\"inicio\" [control]=\"filter!.controls.inicio\" labelInfo=\"Data de início do planejamento institucional\"></input-datetime>\r\n            <input-datetime [size]=\"3\" date label=\"Fim\" controlName=\"fim\" [control]=\"filter!.controls.fim\" labelInfo=\"Data do fim do planejamento institucional\"></input-datetime>\r\n        </div>\r\n    </filter>\r\n    <columns>\r\n        <column *ngIf=\"!selectable\" type=\"expand\" [icon]=\"lookup.getIcon(lookup.ICONS,'planejamentoObjetivo')\" [align]=\"'center'\" [hint]=\"lex.noun('Objetivo', true)\" [template]=\"columnObjetivos\" [expandTemplate]=\"columnExpandedObjetivos\">\r\n            <ng-template let-row=\"row\" #columnObjetivos>\r\n                <span *ngIf=\"row.objetivos?.length\" class=\"badge rounded-pill bg-light text-dark\"><i [class]=\"lookup.getIcon(lookup.ICONS,'planejamentoObjetivo')\"></i> {{row.objetivos?.length}}</span>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #columnExpandedObjetivos>\r\n                <planejamento-list-objetivo [entity]=\"row\" [eixos]=\"eixos\"></planejamento-list-objetivo>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Nome\" field=\"nome\" orderBy=\"nome\"></column>\r\n        <column title=\"Início\" [template]=\"columnInicio\">\r\n            <ng-template let-row=\"row\" #columnInicio>\r\n                <span> {{dao!.getDateFormatted(row.inicio)}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Fim\" [template]=\"columnFim\">\r\n            <ng-template let-row=\"row\" #columnFim>\r\n                <span> {{dao!.getDateFormatted(row.fim)}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Unidade\" [template]=\"columnUnidade\">\r\n            <ng-template let-row=\"row\" #columnUnidade>\r\n                <span> {{row.unidade?.nome || \"\"}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { PlanejamentoListComponent } from './planejamento-list/planejamento-list.component';\r\nimport { PlanejamentoFormComponent } from './planejamento-form/planejamento-form.component';\r\nimport { PlanejamentoRoutingModule } from './planejamento-routing.module';\r\nimport { PlanejamentoListObjetivoComponent } from './planejamento-list-objetivo/planejamento-list-objetivo.component';\r\nimport { PlanejamentoFormObjetivoComponent } from './planejamento-form-objetivo/planejamento-form-objetivo.component';\r\nimport { PlanejamentoMapaComponent } from './planejamento-mapa/planejamento-mapa.component';\r\nimport { PlanejamentoMapaEntregasComponent } from './planejamento-mapa-entregas/planejamento-mapa-entregas.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PlanejamentoListComponent,\r\n    PlanejamentoFormComponent,\r\n    PlanejamentoListObjetivoComponent,\r\n    PlanejamentoFormObjetivoComponent,\r\n    PlanejamentoMapaComponent,\r\n    PlanejamentoMapaEntregasComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    PlanejamentoRoutingModule\r\n  ]\r\n})\r\nexport class PlanejamentoModule { }\r\n","import { Base } from './base.model';\r\nimport { EixoTematico } from './eixo-tematico.model';\r\nimport { Planejamento } from './planejamento.model';\r\n\r\nexport class PlanejamentoObjetivo extends Base {\r\n    public planejamento?: Planejamento;\r\n    public eixo_tematico?: EixoTematico;\r\n    public objetivo_superior?: PlanejamentoObjetivo;\r\n        \r\n    public data_inicio: Date = new Date();  /* Data de criação */\r\n    public data_fim: Date | null = null;  /* Data final do registro */\r\n    public nome: string = \"\"; /* Nome do objetivo */\r\n    public fundamentacao: string = \"\"; /* Fundamentação para a definição do objetivo */\r\n    public planejamento_id: string | null = null; \r\n    public eixo_tematico_id: string | null = null; \r\n    public objetivo_superior_id: string | null = null; \r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { PlanejamentoListObjetivoComponent } from '../planejamento-list-objetivo/planejamento-list-objetivo.component';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-form',\r\n  templateUrl: './planejamento-form.component.html',\r\n  styleUrls: ['./planejamento-form.component.scss']\r\n})\r\nexport class PlanejamentoFormComponent extends PageFormBase<Planejamento, PlanejamentoDaoService> {\r\n    @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n    @ViewChild(GridComponent, { static: true }) public grid?: GridComponent;\r\n    @ViewChild('objetivos', { static: false }) public objetivos?: PlanejamentoListObjetivoComponent;\r\n\r\n    public unidadeDao: UnidadeDaoService;\r\n    public planejamentosSuperiores: LookupItem[] = [];\r\n    public hasPermissionToUNEX: boolean = false;\r\n    public form: FormGroup;\r\n    \r\n    constructor(public injector: Injector) {\r\n      super(injector, Planejamento, PlanejamentoDaoService);\r\n      this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n      this.hasPermissionToUNEX = this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_LOTPRI') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_QQLOT') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_SUBORD') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_QUALQUER');\r\n      this.join = [\r\n        'objetivos',\r\n        'objetivos.objetivo_superior:id,nome',\r\n        'objetivos.eixo_tematico:id,nome',\r\n        'planejamento_superior:id,nome',\r\n        'planejamento_superior.objetivos'\r\n      ];\r\n      this.form = this.fh.FormBuilder({\r\n        nome: {default: \"\"},\r\n        unidade_id: {default: null},\r\n        entidade_id: {default: null},\r\n        planejamento_superior_id: {default: null},\r\n        inicio: {default: new Date()},\r\n        fim: {default: null},\r\n        missao: {default: \"\"},\r\n        visao: {default: \"\"},\r\n        valores: { default: []},\r\n        valor_texto: {default: \"\"}\r\n      }, this.cdRef, this.validate);\r\n    }\r\n  \r\n    public validate = (control: AbstractControl, controlName: string) => {\r\n      let result = null;\r\n      if(['nome','missao','visao'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n        result = \"Obrigatório\";\r\n      }\r\n      if(['inicio'].indexOf(controlName) >= 0 && !this.dao?.validDateTime(control.value)) {\r\n        result = \"Inválido\";\r\n      }\r\n      if(controlName == 'fim' && control.value && !this.dao?.validDateTime(control.value)){\r\n        result = \"Inválido\";\r\n      }\r\n      return result;\r\n    }\r\n  \r\n    public formValidation = (form?: FormGroup) => {\r\n      if(this.form!.controls.fim.value && this.form!.controls.inicio.value > this.form!.controls.fim.value) return \"A data do início não pode ser maior que a data do fim!\";\r\n      if(this.form!.controls.valores.value.length == 0) return \"É obrigatória a inclusão de ao menos um valor institucional!\";\r\n      if(this.isPlanejamentoUNEXEC() && !this.form.controls.planejamento_superior_id.value?.length) return \"Quando o Planejamento é de uma Unidade Executora, é obrigatória a definição do Planejamento superior ao qual ele será vinculado!\";\r\n      return undefined;\r\n    }\r\n  \r\n    public loadData(entity: Planejamento, form: FormGroup) {\r\n      let formValue = Object.assign({}, form.value);\r\n      form.patchValue(this.util.fillForm(formValue, entity));\r\n    }\r\n\r\n    public initializeData(form: FormGroup) {\r\n      this.entity = new Planejamento();\r\n      this.loadData(this.entity, form); \r\n    }\r\n\r\n    public async saveData(form: IIndexable): Promise<Planejamento> {\r\n      return new Promise<Planejamento>((resolve, reject) => {\r\n        this.objetivos!.grid!.confirm();\r\n        let planejamento = this.util.fill(new Planejamento(), this.entity!);\r\n        planejamento = this.util.fillForm(planejamento, this.form!.value);\r\n        planejamento.objetivos = this.objetivos!.items;\r\n        resolve(planejamento);\r\n      });\r\n    }\r\n   \r\n    public titleEdit = (entity: Planejamento): string => {\r\n      return \"Editando \"+ (entity?.nome || \"\");\r\n    }\r\n\r\n    public addValorHandle(): LookupItem | undefined {\r\n      let result = undefined;\r\n      const value = this.form.controls.valor_texto.value;\r\n      const key = this.util.textHash(value);\r\n      if(value?.length && this.util.validateLookupItem(this.form.controls.valores.value, key)) {\r\n        result = {\r\n          key: key,\r\n          value: this.form.controls.valor_texto.value\r\n        };\r\n        this.form.controls.valor_texto.setValue(\"\");\r\n      }\r\n      return result;\r\n    }; \r\n    \r\n    public onUnidadeChange(event: Event){\r\n      if(this.entity!.unidade_id != this.form.controls.unidade_id.value){\r\n        this.dao?.query({where: [['unidade_executora_id', '==', this.form.controls.unidade_id.value], ['manut_planej_unidades_executoras','==',true]]}).getAll().then((pls) => {\r\n          this.planejamentosSuperiores = pls.map(x => Object.assign({},{key: x.id, value: x.nome}) as LookupItem);\r\n          this.planejamentosSuperiores.unshift({key: null, value: 'Escolha um Planejamento superior...'});\r\n          this.objetivos!.loadData(this.entity!, this.form!);\r\n          this.cdRef.detectChanges();\r\n        });\r\n      };\r\n    }\r\n\r\n    /**\r\n     * @param event \r\n     * Se o planejamento superior for alterado, e já houver objetivos na lista, avisar que eles serão desvinculados dos objetivos do planejamento anterior,\r\n     * para que novos objetivos superiores sejam selecionados.\r\n     */\r\n    public async onPlanejamentoChange(event: Event){\r\n      if(this.form.controls.planejamento_superior_id.value != this.entity?.planejamento_superior_id && this.entity?.objetivos?.length) {\r\n        let confirm = await this.dialog.confirm(\"Alteração de Planejamento superior\", \"Como já existem objetivos neste Planejamento, eles serão desvinculados dos objetivos do Planejamento anterior, para que novos objetivos sejam selecionados! Deseja continuar?\");\r\n        if(confirm) {\r\n          this.entity?.objetivos?.forEach(obj => obj.objetivo_superior_id = null); \r\n          //atualizar a lista de objetivos superiores\r\n        } else {\r\n          this.form.controls.planejamento_superior_id.setValue(this.entity?.planejamento_superior_id);\r\n        };\r\n      };\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @returns boolean Informa se o planejamento é da Unidade Instituidora ou não.\r\n     */\r\n    public isPlanejamentoUNINST(): boolean {\r\n      return !this.form.controls.unidade_id.value?.length\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @returns boolean Informa se o planejamento é da Unidade Executora ou não.\r\n     */\r\n    public isPlanejamentoUNEXEC(): boolean {\r\n      return !this.isPlanejamentoUNINST();\r\n    }\r\n}\r\n  \r\n  \r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right>\r\n        <tab key=\"DADOS\" label=\"Dados\">\r\n            <div class=\"row\">\r\n                <div class=\"row\">\r\n                    <input-text [size]=\"12\" label=\"Nome do Planejamento Institucional\" [icon]=\"lookup.getIcon(lookup.ICONS,'planejamento')\" controlName=\"nome\" [control]=\"form!.controls.nome\"></input-text>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <input-search [size]=\"6\" label=\"Unidade Executora\" icon=\"fab fa-unity\" [disabled]=\"hasPermissionToUNEX ? undefined : 'true'\" controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [dao]=\"unidadeDao\" \r\n                                  [selectRoute]=\"{route: ['configuracoes', 'unidade'], params: {filter: {unidades_planejamento: true}}}\" [where]=\"[['unidades_planejamento','==',true]]\" (change)=\"onUnidadeChange($event)\"></input-search>\r\n                    <input-datetime date [size]=\"3\" label=\"Início\" icon=\"bi bi-calendar-date\" controlName=\"inicio\" [control]=\"form!.controls.inicio\" labelInfo=\"Início do Planejamento Institucional\"></input-datetime>\r\n                    <input-datetime date [size]=\"3\" label=\"Fim\" icon=\"bi bi-calendar-date\" controlName=\"fim\" [control]=\"form!.controls.fim\" labelInfo=\"Fim do Planejamento Institucional\"></input-datetime>\r\n                </div>\r\n                <div *ngIf=\"form!.controls.unidade_id.value\" class=\"row\">\r\n                    <input-select [items]=\"planejamentosSuperiores\" label=\"Selecione o Planejamento Superior vinculado\" controlName=\"planejamento_superior_id\" [control]=\"form!.controls.planejamento_superior_id\" (change)=\"onPlanejamentoChange($event)\" [icon]=\"lookup.getIcon(lookup.ICONS,'planejamento')\"></input-select>\r\n                </div>                \r\n                <div class=\"row\">\r\n                    <input-textarea [size]=\"6\" label=\"Missão\" [rows]=\"3\" controlName=\"missao\" [control]=\"form!.controls.missao\"></input-textarea>\r\n                    <input-textarea [size]=\"6\" label=\"Visão\" [rows]=\"3\" controlName=\"visao\" [control]=\"form!.controls.visao\"></input-textarea>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <input-multiselect [size]=\"12\" label=\"Valores\" controlName=\"valores\" [addItemHandle]=\"addValorHandle.bind(this)\">\r\n                        <input-text label=\"Valor Institucional\" icon=\"far fa-edit\" controlName=\"valor_texto\" [control]=\"form!.controls.valor_texto\"></input-text>\r\n                    </input-multiselect>        \r\n                </div>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"OBJETIVOS\" label=\"Objetivos\">\r\n            <planejamento-list-objetivo #objetivos [entity]=\"entity\" [entity_id]=\"'NOPERSIST'\" [disabled]=\"action == 'consult'\"></planejamento-list-objetivo>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>\r\n\r\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { QueryContext } from 'src/app/dao/query-context';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\n\r\nexport type EixoPlanejamento = {\r\n  eixo: EixoTematico,\r\n  objetivos: PlanejamentoObjetivo[]\r\n}\r\n\r\n@Component({\r\n  selector: 'planejamento-mapa',\r\n  templateUrl: './planejamento-mapa.component.html',\r\n  styleUrls: ['./planejamento-mapa.component.scss']\r\n})\r\nexport class PlanejamentoMapaComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('planejamentoInstitucional', { static: false }) public planejamentoInstitucional?: InputSelectComponent;\r\n\r\n  public planejamentos: LookupItem[] = [];\r\n  public planejamento?: Planejamento;\r\n  public eixos: EixoPlanejamento[] = [];\r\n  public query?: QueryContext<Planejamento>;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.join = ['objetivos'];\r\n    this.title = \"Objetivos do \" + this.lex.noun('planejamento Institucional', true);\r\n    this.form = this.fh.FormBuilder({\r\n      planejamento_id: {default: null}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    this.loadData(this.entity);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: IIndexable, form?: FormGroup) {\r\n    this.query = this.dao!.query({ where: [[\"data_arquivamento\", \"==\", null]], orderBy: [[\"inicio\", \"desc\"]], join: this.join }) as QueryContext<Planejamento>;\r\n    this.query!.asPromise().then(planejamentos => {\r\n      this.planejamentos = planejamentos.map(x => Object.assign({} as LookupItem, {\r\n        key: x.id,\r\n        value: x.nome,\r\n        data: x\r\n      }));\r\n      this.form!.controls.planejamento_id.setValue(this.planejamentos.length ? this.planejamentos[0].key : null);\r\n    });\r\n  }\r\n\r\n  public onPlanejamentoChange() {\r\n    this.planejamento = this.planejamentoInstitucional!.selectedItem?.data as Planejamento;\r\n    this.eixos = this.query!.extra?.eixos?.filter((x: EixoTematico) => this.planejamento?.objetivos?.find(y => y.eixo_tematico_id == x.id)).map((x: EixoTematico) => Object.assign({} as EixoPlanejamento, {\r\n      eixo: x,\r\n      objetivos: this.planejamento?.objetivos?.filter(y => y.eixo_tematico_id == x.id) || []\r\n    })) || [];\r\n  }\r\n\r\n  public onObjetivoClick(data: any) {\r\n    let objetivo = data as PlanejamentoObjetivo;\r\n    this.go.navigate({route: ['gestao', 'planejamento', this.planejamento?.id, 'objetivos', objetivo.id]});\r\n  }\r\n\r\n  public onObjetivoDeleteClick(data: any) {\r\n    let objetivo = data as PlanejamentoObjetivo;\r\n  }\r\n\r\n  public onObjetivoEditClick(data: any) {\r\n    let objetivo = data as PlanejamentoObjetivo;\r\n  }\r\n}","<!-- Seleção do planejamento -->\r\n<editable-form [form]=\"form!\" noButtons>\r\n    <div class=\"row\">\r\n        <input-select #planejamentoInstitucional [size]=\"12\" controlName=\"planejamento_id\" [control]=\"form!.controls.planejamento_id\" [items]=\"planejamentos\" (change)=\"onPlanejamentoChange()\"></input-select>\r\n    </div>\r\n</editable-form>\r\n<!-- Cabeçalho -->\r\n<div *ngIf=\"planejamento\" class=\"row mb-5 mt-5\">\r\n    <div class=\"col-4\">\r\n        <div class=\"card h-100\">\r\n            <div class=\"card-header\">\r\n                Valores\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <blockquote class=\"blockquote mb-0\">\r\n                    <p *ngFor=\"let valor of planejamento!.valores\">{{valor.value}}</p>\r\n                </blockquote>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"col-4\">\r\n        <div class=\"card h-100\">\r\n            <div class=\"card-header\">\r\n                Missão\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <blockquote class=\"blockquote mb-0\">\r\n                    <p class=\"fst-italic\">{{planejamento.missao}}</p>\r\n                </blockquote>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"col-4\">\r\n        <div class=\"card h-100\">\r\n            <div class=\"card-header\">\r\n                Visão\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <blockquote class=\"blockquote mb-0\">\r\n                    <p>{{planejamento!.visao}}</p>\r\n                </blockquote>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- Eixos -->\r\n<div *ngFor=\"let eixo of eixos\" class=\"eixo\" [style.background-color]=\"eixo.eixo.cor\">\r\n    <action-button icon=\"bi bi-info-circle\" color=\"transparent-black\"></action-button>\r\n    <div class=\"d-flex align-items-center align-content-stretch p-3\">\r\n        <div class=\"descricao\">\r\n            <h4>{{eixo.eixo.nome}}</h4>\r\n        </div>\r\n        <div class=\"objetivos w-100 row\"> <!-- d-flex flex-wrap align-content-stretch -->\r\n            <div *ngFor=\"let objetivo of eixo.objetivos\" class=\"col-md-4\">\r\n                <div class=\"objetivo shadow-sm d-flex flex-column align-content-between\">\r\n                    <p>{{objetivo.nome}}</p>\r\n                    <div class=\"buttons w-100 d-flex justify-content-end px-1\">\r\n                        <action-button icon=\"bi bi-file-earmark-bar-graph\" [data]=\"objetivo\" [onClick]=\"this.onObjetivoClick.bind(this)\" color=\"transparent-black px-1\"></action-button>\r\n                        <action-button icon=\"bi bi-pencil-square\" [data]=\"objetivo\" [onClick]=\"this.onObjetivoEditClick.bind(this)\" color=\"transparent-black px-1\"></action-button>\r\n                        <action-button icon=\"bi bi-trash\" [data]=\"objetivo\" [onClick]=\"this.onObjetivoDeleteClick.bind(this)\" color=\"transparent-black px-1\"></action-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { LookupItem } from '../services/lookup.service';\r\nimport { Base } from './base.model';\r\nimport { Entidade } from './entidade.model';\r\nimport { PlanejamentoObjetivo } from './planejamento-objetivo.model';\r\nimport { Unidade } from './unidade.model';\r\n\r\nexport class Planejamento extends Base {\r\n    public unidade?: Unidade;\r\n    public entidade?: Entidade;\r\n    public objetivos?: PlanejamentoObjetivo[];\r\n    public planejamento_superior?: Planejamento;\r\n    \r\n    public data_inicio: Date = new Date();  /* Data de criação */\r\n    public data_fim: Date | null = null;  /* Data final do registro */\r\n    public data_arquivamento: Date | null = null;  /* Data de arquivamento */\r\n    public inicio: Date = new Date(); /* Data de início do planejamento */\r\n    public fim: Date | null = null; /* Data do fim do planejamento */\r\n    public nome: string = \"\"; /* Nome do planejamento institucional */\r\n    public missao: string = \"\"; /* Missão da Instituição/Unidade */\r\n    public visao: string = \"\"; /* Visão da Instituição/Unidade */\r\n    public valores: LookupItem[] = []; /* Valores da Instituição/Unidade */\r\n    public unidade_id: string | null = null; /* Unidade à qual está vinculado o planejamento institucional */\r\n    public entidade_id: string | null = null; /* Entidade à qual está vinculado o planejamento institucional */\r\n    public planejamento_superior_id: string | null = null; /* Planejamento hierarquicamente superior ao qual o atual planejamento está vinculado */\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { PlanoEntregaEntrega } from 'src/app/models/plano-entrega-entrega.model';\r\nimport { LookupService } from 'src/app/services/lookup.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PlanoEntregaService {\r\n  \r\n  constructor(public lookup: LookupService) { }\r\n\r\n  public getValorMeta(entrega: PlanoEntregaEntrega): string {\r\n    let result = \"\";\r\n    switch(entrega.entrega?.tipo_indicador) {\r\n      case \"PORCENTAGEM\": entrega.meta.porcentagem + \" %\"; break;\r\n      case \"QUALITATIVO\": entrega.meta.quantitativo; break;\r\n      case \"VALOR\": entrega.meta.valor; break;\r\n      case \"QUALITATIVO\": this.lookup.getValue(entrega.entrega.lista_qualitativos, entrega.meta.qualitativo); break;\r\n      default: result = \"Indicador desconhecido\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public getValorRealizado(entrega: PlanoEntregaEntrega): string {\r\n    let result = \"\";\r\n    switch(entrega.entrega?.tipo_indicador) {\r\n      case \"PORCENTAGEM\": entrega.realizado.porcentagem + \" %\"; break;\r\n      case \"QUALITATIVO\": entrega.realizado.quantitativo; break;\r\n      case \"VALOR\": entrega.realizado.valor; break;\r\n      case \"QUALITATIVO\": this.lookup.getValue(entrega.entrega.lista_qualitativos, entrega.realizado.qualitativo); break;\r\n      default: result = \"Indicador desconhecido\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public isPorcentagem(entrega: PlanoEntregaEntrega): boolean {\r\n    return entrega.entrega?.tipo_indicador == \"PORCENTAGEM\";\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}