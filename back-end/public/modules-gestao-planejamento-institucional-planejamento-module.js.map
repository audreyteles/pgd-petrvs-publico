{"version":3,"sources":["./src/app/dao/planejamento-objetivo-dao.service.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form-objetivo/planejamento-form-objetivo.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form-objetivo/planejamento-form-objetivo.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-routing.module.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list/planejamento-list.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list/planejamento-list.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento.module.ts","./src/app/models/planejamento-objetivo.model.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form/planejamento-form.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form/planejamento-form.component.html","./src/app/models/planejamento.model.ts"],"names":[],"mappings":"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","file":"modules-gestao-planejamento-institucional-planejamento-module.js","sourcesContent":["import { Injectable, Injector } from '@angular/core';\nimport { DaoBaseService } from './dao-base.service';\nimport { PlanejamentoObjetivo } from '../models/planejamento-objetivo.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PlanejamentoObjetivoDaoService extends DaoBaseService<PlanejamentoObjetivo> {\n\n  constructor(protected injector: Injector) {\n    super(\"PlanejamentoObjetivo\", injector);\n    this.searchFields = [\"nome\", \"planejamento_id\", \"eixo_tematico_id\"];\n  }\n\n}\n\n","import { ChangeDetectorRef, Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { EixoTematicoDaoService } from 'src/app/dao/eixo-tematico-dao.service';\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\nimport { Planejamento } from 'src/app/models/planejamento.model';\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\nimport { LookupItem } from 'src/app/services/lookup.service';\n\n@Component({\n  selector: 'planejamento-form-objetivo',\n  templateUrl: './planejamento-form-objetivo.component.html',\n  styleUrls: ['./planejamento-form-objetivo.component.scss']\n})\nexport class PlanejamentoFormObjetivoComponent extends PageFrameBase {\n    @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n    @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n    @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\n    @Input() set entity(value: Planejamento | undefined) { super.entity = value; } get entity(): Planejamento | undefined { return super.entity; }\n    @Input() cdRef: ChangeDetectorRef;\n\n    public planejamentoObjetivoDao: PlanejamentoObjetivoDaoService;\n    public eixoTematicoDao: EixoTematicoDaoService;\n    public form: FormGroup;\n\n    public get items(): PlanejamentoObjetivo[] {\n      if (!this.gridControl.value) this.gridControl.setValue(new Planejamento());\n      if (!this.gridControl.value.objetivos) this.gridControl.value.objetivos = [];\n      return this.gridControl.value.objetivos;\n    }\n    \n    constructor(public injector: Injector) {\n      super(injector);\n      this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\n      this.dao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\n      this.planejamentoObjetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\n      this.eixoTematicoDao = injector.get<EixoTematicoDaoService>(EixoTematicoDaoService);\n      this.groupBy = [{field: \"eixo_tematico_id\", label: \"Eixo Temático\"}];\n      this.join = ['eixoTematico:nome','objetivoSuperior:nome'];\n      this.form = this.fh.FormBuilder({\n        nome: {default: \"\"},\n        fundamentacao: {default: \"\"},\n        planejamento_id: {default: null},\n        eixo_tematico_id: {default: null},\n        objetivo_superior_id: {default: null}\n      }, this.cdRef, this.validate);\n    }\n  \n    public validate = (control: AbstractControl, controlName: string) => {\n      let result = null;\n      if(['nome','fundamentacao'].indexOf(controlName) >= 0 && !control.value?.length) {\n        result = \"Obrigatório\";\n      }\n      return result;\n    }\n  \n    public formValidation = (form?: FormGroup) =>{\n      let result = null;\n/*       if(this.form!.controls.fim.value && this.form!.controls.inicio.value > this.form!.controls.fim.value) {\n        return \"A data do início não pode ser maior que a data do fim!\";\n      } */\n      return result;\n    }\n  \n    public async addObjetivo() {\n      return new PlanejamentoObjetivo({\n        id: this.dao!.generateUuid(),\n        planejamento_id: this.entity?.id\n      }) as IIndexable;\n    }\n\n    public async removeObjetivo(row: any) {\n\n\n      return true;\n    }\n\n    public async loadObjetivo(form: FormGroup, row: any) {\n      form.controls.nome.setValue(row.nome);\n      form.controls.fundamentacao.setValue(row.fundamentacao);\n      form.controls.planejamento_id.setValue(row.planejamento_id);\n      form.controls.eixo_tematico_id.setValue(row.eixo_tematico_id);\n      form.controls.objetivo_superior_id.setValue(row.objetivo_superior_id);\n      this.cdRef.detectChanges();\n    }\n\n    public async saveObjetivo(form: FormGroup, row: any) {\n      let result = undefined;\n      this.form!.markAllAsTouched();\n      if (this.form!.valid) {\n        row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\n        row.nome = form.controls.nome.value;\n        row.fundamentacao = form.controls.fundamentacao.value;\n        row.planejamento_id = form.controls.planejamento_id.value;\n        row.eixo_tematico_id = form.controls.eixo_tematico_id.value;\n        row.objetivo_superior_id = form.controls.objetivo_superior_id.value;\n        result = row;\n        this.cdRef.detectChanges();\n      }\n      return result;\n    }\n\n    public async saveData(form?: IIndexable) {\n      await this.grid?.confirm();\n      return this.entity!;\n    }\n \n\n}\n  \n  \n","<editable-form noButtons [form]=\"form!\" [disabled]=\"formDisabled\">\n    <div class=\"row\">\n        <grid [items]=\"items\" [form]=\"form!\" [hasEdit]=\"true\" [hasDelete]=\"true\" [add]=\"addObjetivo.bind(this)\" [load]=\"loadObjetivo.bind(this)\" [remove]=\"removeObjetivo.bind(this)\" \n              [save]=\"saveObjetivo.bind(this)\" editable [groupTemplate]=\"groupEixoTematico\" [join]=\"join\" [groupBy]=\"groupBy\">\n            <ng-template let-separator=\"separator\" #groupEixoTematico>\n                <strong class=\"grid-group-text\">Eixo Temático: </strong><span class=\"text-wrap\"><badge color=\"primary\" [label]=\"separator?.text\"></badge></span>\n            </ng-template>\n            <columns>\n                <column title=\"Nome\" [template]=\"nome\" [editTemplate]=\"editNome\">\n                    <ng-template let-row=\"row\" #nome>\n                        <span>{{ row.nome }}</span>\n                    </ng-template>\n                    <ng-template let-row=\"row\" #editNome>\n                        <input-text label=\"Nome\" [size]=\"12\" controlName=\"nome\" [control]=\"form!.controls.nome\"></input-text>\n                    </ng-template>\n                </column>\n                <column title=\"Fundamentação\" [template]=\"fundamentacao\" [editTemplate]=\"editFundamentacao\">\n                    <ng-template let-row=\"row\" #fundamentacao>\n                        <span>{{ row.fundamentacao }}</span>\n                    </ng-template>\n                    <ng-template let-row=\"row\" #editFundamentacao>\n                        <input-textarea label=\"Fundamentação\" [rows]=\"3\" controlName=\"fundamentacao\" [control]=\"form!.controls.fundamentacao\"></input-textarea>\n                    </ng-template>\n                </column>\n                <column title=\"Objetivo Superior\" [template]=\"objetivoSuperior\" [editTemplate]=\"editObjetivoSuperior\">\n                    <ng-template let-row=\"row\" #objetivoSuperior>\n                        <span>{{ row.objetivo_superior_id }}</span>\n                    </ng-template>\n                    <ng-template let-row=\"row\" #editObjetivoSuperior>\n                        <input-search [size]=\"6\" label=\"Objetivos Superiores\" icon=\"fab fa-unity\" controlName=\"objetivo_superior_id\" [control]=\"form!.controls.objetivo_superior_id\" [dao]=\"planejamentoObjetivoDao\" [selectRoute]=\"{route: ['cadastros', 'planejamento-objetivo']}\"></input-search>                        \n                    </ng-template>\n                </column>\n                <column title=\"Eixo Temático\" [template]=\"eixoTematico\" [editTemplate]=\"editEixoTematico\">\n                    <ng-template let-row=\"row\" #eixoTematico>\n                        <span>{{ row.eixo_tematico_id }}</span>\n                    </ng-template>\n                    <ng-template let-row=\"row\" #editEixoTematico>\n                        <input-search [size]=\"6\" label=\"Eixos Temáticos\" icon=\"fab fa-unity\" controlName=\"eixo_tematico_id\" [control]=\"form!.controls.eixo_tematico_id\" [dao]=\"eixoTematicoDao\" [selectRoute]=\"{route: ['cadastros', 'eixo-tematico'], params: {filter: {data_fim: null}}}\"></input-search>                        \n                    </ng-template>\n                </column>\n                <column type=\"options\"></column>\n            </columns>\n        </grid>\n    </div>\n</editable-form>","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AuthGuard } from 'src/app/guards/auth.guard';\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\nimport { PlanejamentoFormComponent } from './planejamento-form/planejamento-form.component';\nimport { PlanejamentoListComponent } from './planejamento-list/planejamento-list.component';\n\nconst routes: Routes = [\n  { path: '', component: PlanejamentoListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Planejamentos Institucionais\" } },\n  { path: 'new', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão\", modal: true } },\n  { path: ':id/edit', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição\", modal: true } },\n  { path: ':id/consult', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consultar\", modal: true } },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PlanejamentoRoutingModule { }\n","import { Component, Injector, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { InputSearchComponent} from 'src/app/components/input/input-search/input-search.component';\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { Planejamento } from 'src/app/models/planejamento.model';\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\n\n@Component({\n  selector: 'app-planejamento-list',\n  templateUrl: './planejamento-list.component.html',\n  styleUrls: ['./planejamento-list.component.scss']\n})\nexport class PlanejamentoListComponent extends PageListBase<Planejamento, PlanejamentoDaoService> {\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\n  \n  public unidadeDao: UnidadeDaoService;\n  public unidade_disabled: string | undefined;\n\n  constructor(public injector: Injector) {\n    super(injector, Planejamento, PlanejamentoDaoService);\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    /* Inicializações */\n    this.title = this.lex.noun('Planejamento Institucional',true);\n    this.filter = this.fh.FormBuilder({\n      inicio: {default: null},\n      fim: {default: null},\n      nome: {default: \"\"},\n      unidade_id: {default: null},\n      so_entidade: { default: false },\n      agrupar: { default: true },\n     });\n     this.join = ['unidade:nome,sigla'];\n    // Testa se o usuário possui permissão para exibir planejamentos institucionais\n    if (this.auth.hasPermissionTo(\"MOD_PLAN_INST_CONS\")) {\n      this.options.push({\n        icon: \"bi bi-info-circle\",\n        label: \"Informações\",\n        onClick: this.consult.bind(this)\n      });\n    }\n    // Testa se o usuário possui permissão para excluir planejamentos institucionais\n    if (this.auth.hasPermissionTo(\"MOD_PLAN_INST_EXCL\")) {\n      this.options.push({\n        icon: \"bi bi-trash\",\n        label: \"Excluir\",\n        onClick: this.delete.bind(this)\n      });\n    }\n  }\n\n  public filterClear(filter: FormGroup) {\n    filter.controls.nome.setValue(\"\");\n    filter.controls.inicio.setValue(null);\n    filter.controls.fim.setValue(null);\n    filter.controls.unidade_id.setValue(null);\n    filter.controls.so_entidade.setValue(false);\n    super.filterClear(filter);\n  }\n\n  public filterWhere = (filter: FormGroup) => {\n    let result: any[] = [];\n    let form: any = filter.value;\n\n    if (form.so_entidade) {\n      filter.controls.unidade_id.setValue(null);\n      result.push([\"unidade_id\", \"==\", null]);\n    } else {\n      if(form.unidade_id) result.push([\"unidade_id\", \"==\", form.unidade_id]);\n    }\n    if(form.nome?.length) {\n      result.push([\"nome\", \"like\", \"%\" + form.nome + \"%\"]);\n    }\n    if(form.inicio) {\n      result.push([\"inicio\", \">=\", form.inicio]);\n    }\n    if(form.fim) {\n      result.push([\"fim\", \"<=\", form.fim]);\n    }\n    return result;\n  }\n\n  public onAgruparChange(event: Event) {\n    const agrupar = this.filter!.controls.agrupar.value;\n    if ((agrupar && !this.groupBy?.length) || (!agrupar && this.groupBy?.length)) {\n      this.groupBy = agrupar ? [{ field: \"unidade.sigla\", label: \"Unidade\" }] : [];\n      this.grid!.reloadFilter();\n    }\n  }\n\n  public onSoEntidadeChange(event: Event) {\n    if (this.filter!.controls.so_entidade.value) {\n      this.filter!.controls.unidade_id.setValue(null);\n      this.unidade_disabled = 'disabled';\n    } else {\n      this.filter!.controls.unidade_id.setValue(undefined);\n      this.unidade_disabled = undefined;\n    }\n  }\n\n}\n","<grid [dao]=\"dao\" [add]=\"add\" [title]=\"isModal ? '' : title\" [orderBy]=\"orderBy\" [join]=\"join\"\n    [selectable]=\"selectable\" (select)=\"onSelect($event)\" \n    [hasAdd]=\"auth.hasPermissionTo('MOD_PLAN_INST_INCL')\"\n    [hasEdit]=\"auth.hasPermissionTo('MOD_PLAN_INST_EDT')\">\n    <toolbar *ngIf=\"!selectable\">\n        <!-- <input-switch [size]=\"4\" labelPosition=\"left\" label=\"Agrupar por Unidade\" controlName=\"agrupar\" [control]=\"filter!.controls.agrupar\" (change)=\"onAgruparChange($event)\"></input-switch> -->\n    </toolbar>\n    <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\n        <div class=\"row\">\n            <input-text [size]=\"12\" label=\"Planejamento Institucional\" controlName=\"nome\"\n                [control]=\"filter!.controls.nome\" placeholder=\"Nome do planejamento institucional...\"></input-text>\n        </div>\n        <div class=\"row\">\n            <input-switch [size]=\"2\" label=\"Só da Entidade\" controlName=\"so_entidade\" [control]=\"filter!.controls.so_entidade\" (change)=\"onSoEntidadeChange($event)\"></input-switch>\n            <input-search #unidade [size]=\"4\" label=\"Unidade\" [disabled]=\"unidade_disabled\" controlName=\"unidade_id\" [control]=\"filter!.controls.unidade_id\" [dao]=\"unidadeDao\" [selectRoute]=\"{route: ['configuracoes', 'unidade']}\"></input-search>\n            <input-datetime [size]=\"3\" date label=\"Início\" controlName=\"inicio\" [control]=\"filter!.controls.inicio\" labelInfo=\"Data de início do planejamento institucional\"></input-datetime>\n            <input-datetime [size]=\"3\" date label=\"Fim\" controlName=\"fim\" [control]=\"filter!.controls.fim\" labelInfo=\"Data do fim do planejamento institucional\"></input-datetime>\n        </div>\n    </filter>\n<!--     <ng-template let-group=\"separator\" #groupUnidade>\n        <strong *ngIf=\"filter!.controls.agrupar.value\" class=\"grid-group-text\">{{separator?.text || auth.unidade!.entidade!.sigla}}</strong>\n    </ng-template> -->\n    <columns>\n        <column title=\"Nome\" field=\"nome\" orderBy=\"nome\"></column>\n        <column title=\"Início\" [template]=\"columnInicio\">\n            <ng-template let-row=\"row\" #columnInicio>\n                <span> {{dao!.getDateFormatted(row.inicio)}}</span>\n            </ng-template>\n        </column>\n        <column title=\"Fim\" [template]=\"columnFim\">\n            <ng-template let-row=\"row\" #columnFim>\n                <span> {{dao!.getDateFormatted(row.fim)}}</span>\n            </ng-template>\n        </column>\n        <column title=\"Unidade\" [template]=\"columnUnidade\">\n            <ng-template let-row=\"row\" #columnUnidade>\n                <span> {{row.unidade?.nome || \"\"}}</span>\n            </ng-template>\n        </column>\n        <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\n    </columns>\n    <pagination [rows]=\"rowsLimit\"></pagination>\n</grid>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { PlanejamentoListComponent } from './planejamento-list/planejamento-list.component';\nimport { PlanejamentoFormComponent } from './planejamento-form/planejamento-form.component';\nimport { PlanejamentoRoutingModule } from './planejamento-routing.module';\nimport { PlanejamentoFormObjetivoComponent } from './planejamento-form-objetivo/planejamento-form-objetivo.component';\n\n@NgModule({\n  declarations: [\n    PlanejamentoListComponent,\n    PlanejamentoFormComponent,\n    PlanejamentoFormObjetivoComponent\n  ],\n  imports: [\n    ComponentsModule,\n    PlanejamentoRoutingModule,\n    CommonModule\n  ]\n})\nexport class PlanejamentoModule { }\n","import { Base } from './base.model';\nimport { EixoTematico } from './eixo-tematico.model';\nimport { Planejamento } from './planejamento.model';\n\nexport class PlanejamentoObjetivo extends Base {\n    public planejamento?: Planejamento;\n    public eixoTematico?: EixoTematico;\n    public objetivoSuperior?: PlanejamentoObjetivo;\n        \n    public data_inicio: Date = new Date();  /* Data de criação */\n    public data_fim: Date | null = null;  /* Data final do registro */\n    public nome: string = \"\"; /* Nome do objetivo */\n    public fundamentacao: string = \"\"; /* Fundamentação para a definição do objetivo */\n    public planejamento_id: string | null = null; \n    public eixo_tematico_id: string | null = null; \n    public objetivo_superior_id: string | null = null; \n\n    public constructor(data?: any) { super(); this.initialization(data); }\n}","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { Planejamento } from 'src/app/models/planejamento.model';\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { PlanejamentoFormObjetivoComponent } from '../planejamento-form-objetivo/planejamento-form-objetivo.component';\n\n@Component({\n  selector: 'app-planejamento-form',\n  templateUrl: './planejamento-form.component.html',\n  styleUrls: ['./planejamento-form.component.scss']\n})\nexport class PlanejamentoFormComponent extends PageFormBase<Planejamento, PlanejamentoDaoService> {\n    @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n    @ViewChild('objetivos', { static: false }) public objetivos?: PlanejamentoFormObjetivoComponent;\n    @ViewChild(GridComponent, { static: true }) public grid?: GridComponent;\n    \n    public unidadeDao: UnidadeDaoService;\n    //public planejamentoDao: PlanejamentoDaoService;\n    public planejamentosUnidadeInstituidora: LookupItem[] = [];\n    public form: FormGroup;\n    \n    constructor(public injector: Injector) {\n      super(injector, Planejamento, PlanejamentoDaoService);\n      this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n      //this.planejamentoDao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\n      this.join = ['objetivos','objetivos.eixoTematico:nome'];\n      this.form = this.fh.FormBuilder({\n        nome: {default: \"\"},\n        unidade_id: {default: null},\n        entidade_id: {default: null},\n        inicio: {default: new Date()},\n        fim: {default: null},\n        missao: {default: \"\"},\n        visao: {default: \"\"},\n        valores: { default: []},\n        valor_texto: {default: \"\"}\n      }, this.cdRef, this.validate);\n    }\n  \n    public validate = (control: AbstractControl, controlName: string) => {\n      let result = null;\n      if(['nome','missao','visao'].indexOf(controlName) >= 0 && !control.value?.length) {\n        result = \"Obrigatório\";\n      }\n      if(['inicio'].indexOf(controlName) >= 0 && !this.dao?.validDateTime(control.value)) {\n        result = \"Inválido\";\n      }\n      if(controlName == 'fim' && control.value && !this.dao?.validDateTime(control.value)){\n        result = \"Inválido\";\n      }\n      return result;\n    }\n  \n    public formValidation = (form?: FormGroup) =>{\n      let result = null;\n      if(this.form!.controls.fim.value && this.form!.controls.inicio.value > this.form!.controls.fim.value) {\n        return \"A data do início não pode ser maior que a data do fim!\";\n      }\n      return result;\n    }\n  \n    public loadData(entity: Planejamento, form: FormGroup) {\n      this.dao?.query({where: [['unidade_id', '==', null]]}).getAll().then((pls) => {\n        this.planejamentosUnidadeInstituidora = pls.map(x => Object.assign({},{key: x.id, value: x.nome}) as LookupItem);\n      });\n      let formValue = Object.assign({}, form.value);\n      form.patchValue(this.util.fillForm(formValue, entity));\n    }\n\n    public initializeData(form: FormGroup) {\n      this.entity = new Planejamento();\n      this.loadData(this.entity, form); \n    }\n\n    public async saveData(form: IIndexable): Promise<Planejamento> {\n      return new Promise<Planejamento>((resolve, reject) => {\n        this.objetivos!.grid!.confirm();\n        let planejamento = this.util.fill(new Planejamento(), this.entity!);\n        planejamento = this.util.fillForm(planejamento, this.form!.value);\n        planejamento.objetivos = this.objetivos!.items;\n        resolve(planejamento);\n      });\n    }\n   \n    public titleEdit = (entity: Planejamento): string => {\n      return \"Editando \"+ (entity?.nome || \"\");\n    }\n\n    public addValorHandle(): LookupItem | undefined {\n      let result = undefined;\n      const value = this.form.controls.valor_texto.value;\n      const key = this.util.textHash(value);\n      if(value?.length && this.util.validateLookupItem(this.form.controls.valores.value, key)) {\n        result = {\n          key: key,\n          value: this.form.controls.valor_texto.value\n        };\n        this.form.controls.valor_texto.setValue(\"\");\n      }\n      return result;\n    }; \n    \n    public onUnidadeChange(event: Event){\n      let a = this.form.controls.unidade_id.value;\n      //this.form.controls.unidade_id.setValue(null);\n      this.cdRef.detectChanges();\n    }\n}\n  \n  \n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\n    <tabs display right>\n        <tab key=\"DADOS\" label=\"Dados\">\n            <div class=\"row\">\n                <div class=\"row\">\n                    <input-text [size]=\"12\" label=\"Nome do Planejamento Institucional\" icon=\"bi bi-textarea-t\" controlName=\"nome\" [control]=\"form!.controls.nome\"></input-text>\n                </div>\n                <div class=\"row\">\n                    <input-search [size]=\"6\" label=\"Unidade Executora\" icon=\"fab fa-unity\" controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [dao]=\"unidadeDao\" [selectRoute]=\"{route: ['configuracoes', 'unidade']}\" (change)=\"onUnidadeChange($event)\"></input-search>\n                    <input-datetime date [size]=\"3\" label=\"Início\" icon=\"bi bi-calendar-date\" controlName=\"inicio\" [control]=\"form!.controls.inicio\" labelInfo=\"Início do Planejamento Institucional\"></input-datetime>\n                    <input-datetime date [size]=\"3\" label=\"Fim\" icon=\"bi bi-calendar-date\" controlName=\"fim\" [control]=\"form!.controls.fim\" labelInfo=\"Fim do Planejamento Institucional\"></input-datetime>\n                </div>\n                <div *ngIf=\"form!.controls.unidade_id.value\" class=\"row\">\n                    <input-select icon=\"far fa-edit\" label=\"Selecione o Planejamento da Unidade Instituidora vinculado\" [items]=\"planejamentosUnidadeInstituidora\"></input-select>\n                    <!-- <input-search [size]=\"6\" label=\"Selecione o Planejamento da Unidade Instituidora vinculado\" icon=\"fab fa-unity\" controlName=\"planejamento_entidade_id\" [control]=\"form!.controls.planejamento_entidade_id\" \n                    [dao]=\"planejamentoDao\" [selectRoute]=\"{route: ['gestao', 'planejamento'], params: {filter: {'unidade_id': null}}}\"></input-search> -->\n                </div>                \n                <div class=\"row\">\n                    <input-textarea [size]=\"6\" label=\"Missão\" [rows]=\"3\" controlName=\"missao\" [control]=\"form!.controls.missao\"></input-textarea>\n                    <input-textarea [size]=\"6\" label=\"Visão\" [rows]=\"3\" controlName=\"visao\" [control]=\"form!.controls.visao\"></input-textarea>\n                </div>\n                <div class=\"row\">\n                    <input-multiselect [size]=\"12\" label=\"Valores\" controlName=\"valores\" [addItemHandle]=\"addValorHandle.bind(this)\">\n                        <input-text label=\"Valor Institucional\" icon=\"far fa-edit\" controlName=\"valor_texto\" [control]=\"form!.controls.valor_texto\"></input-text>\n                    </input-multiselect>        \n                </div>\n            </div>\n        </tab>\n        <tab key=\"OBJETIVOS\" label=\"Objetivos\">\n            <planejamento-form-objetivo #objetivos [entity]=\"entity\" [cdRef]=\"cdRef\"></planejamento-form-objetivo>\n        </tab>\n    </tabs>\n</editable-form>\n\n","import { LookupItem } from '../services/lookup.service';\r\nimport { Base } from './base.model';\r\nimport { Entidade } from './entidade.model';\r\nimport { PlanejamentoObjetivo } from './planejamento-objetivo.model';\r\nimport { Unidade } from './unidade.model';\r\n\r\nexport class Planejamento extends Base {\r\n    public unidade?: Unidade;\r\n    public entidade?: Entidade;\r\n    public objetivos?: PlanejamentoObjetivo[];\r\n    \r\n    public data_inicio: Date = new Date();  /* Data de criação */\r\n    public data_fim: Date | null = null;  /* Data final do registro */\r\n    public inicio: Date = new Date(); /* Data de início do planejamento */\r\n    public fim: Date | null = null; /* Data do fim do planejamento */\r\n    public nome: string = \"\"; /* Nome do planejamento institucional */\r\n    public missao: string = \"\"; /* Missão da Instituição/Unidade */\r\n    public visao: string = \"\"; /* Visão da Instituição/Unidade */\r\n    public valores: LookupItem[] = []; /* Valores da Instituição/Unidade */\r\n    public unidade_id: string | null = null; /* Unidade à qual está vinculado o planejamento institucional */\r\n    public entidade_id: string | null = null; /* Entidade à qual está vinculado o planejamento institucional */\r\n\r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}\r\n"],"sourceRoot":"webpack:///"}