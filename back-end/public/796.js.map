{"version":3,"file":"796.js","mappings":"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","sources":["./src/app/dao/plano-trabalho-consolidacao-ocorrencia-dao.service.ts","./src/app/models/plano-trabalho-consolidacao.model.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-form/plano-trabalho-consolidacao-form.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-form/plano-trabalho-consolidacao-form.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-list/plano-trabalho-consolidacao-list.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-list/plano-trabalho-consolidacao-list.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao/plano-trabalho-consolidacao.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao/plano-trabalho-consolidacao.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-form-termo/plano-trabalho-form-termo.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-form-termo/plano-trabalho-form-termo.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-form/plano-trabalho-form.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-form/plano-trabalho-form.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-list-accordeon/plano-trabalho-list-accordeon.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-list-accordeon/plano-trabalho-list-accordeon.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-list-entrega/plano-trabalho-list-entrega.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-list-entrega/plano-trabalho-list-entrega.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-routing.module.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho.module.ts"],"sourcesContent":["import { Injectable, Injector } from '@angular/core';\nimport { DaoBaseService } from './dao-base.service';\nimport { TemplateDataset } from '../modules/uteis/templates/template.service';\nimport { PlanoTrabalhoConsolidacaoOcorrencia } from '../models/plano-trabalho-consolidacao-ocorrencia.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PlanoTrabalhoConsolidacaoOcorrenciaDaoService extends DaoBaseService<PlanoTrabalhoConsolidacaoOcorrencia> {\n\n  constructor(protected injector: Injector) {\n    super(\"PlanoTrabalhoConsolidacaoOcorrencia\", injector);\n  }\n\n  public dataset(deeps?: string[]): TemplateDataset[] {\n    return this.deepsFilter([], deeps);\n  }\n\n}\n\n","import { Avaliacao, HasAvaliacao } from './avaliacao.model';\nimport { Base } from './base.model';\nimport { PlanoTrabalho } from './plano-trabalho.model';\nimport { HasStatus, StatusJustificativa } from './status-justificativa.model';\n\nexport type PlanoTrabalhoConsolidacaoStatus = 'CONCLUIDO' | 'AVALIADO' | 'INCLUIDO';\n\nexport class PlanoTrabalhoConsolidacao extends Base implements HasAvaliacao, HasStatus {\n    public plano_trabalho?: PlanoTrabalho;\n    public avaliacao?: Avaliacao;\n\n    public data_inicio: Date = new Date();\n    public data_fim: Date = new Date();\n    public status: PlanoTrabalhoConsolidacaoStatus | null = null; // Status atual da consolidação\n    public avaliacoes: Avaliacao[] = [];\n    public status_historico: StatusJustificativa[] = [];\n\n    public plano_trabalho_id: string = \"\";\n    public avaliacao_id: string | null = null;\n\n    public constructor(data?: any) { super(); this.initialization(data); }\n}","import { ChangeDetectorRef, Component, Injector, Input, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { PlanoTrabalhoConsolidacaoDaoService } from 'src/app/dao/plano-trabalho-consolidacao-dao.service';\nimport { PlanoTrabalhoConsolidacaoOcorrenciaDaoService } from 'src/app/dao/plano-trabalho-consolidacao-ocorrencia-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { PlanoTrabalhoConsolidacao } from 'src/app/models/plano-trabalho-consolidacao.model';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\nimport { Atividade } from 'src/app/models/atividade.model';\nimport { PlanoTrabalhoConsolidacaoOcorrencia } from 'src/app/models/plano-trabalho-consolidacao-ocorrencia.model';\nimport { Afastamento } from 'src/app/models/afastamento.model';\nimport { PlanoTrabalhoEntrega } from 'src/app/models/plano-trabalho-entrega.model';\nimport { PlanoTrabalhoService } from '../plano-trabalho.service';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { TipoAtividadeDaoService } from 'src/app/dao/tipo-atividade-dao.service';\nimport { PlanoEntregaService } from '../../plano-entrega/plano-entrega.service';\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\n\nexport type ConsolidacaoEntrega = {\n  id: string,\n  entrega: PlanoTrabalhoEntrega,\n  atividades: Atividade[]\n};\n\n@Component({\n  selector: 'plano-trabalho-consolidacao-form',\n  templateUrl: './plano-trabalho-consolidacao-form.component.html',\n  styleUrls: ['./plano-trabalho-consolidacao-form.component.scss']\n})\nexport class PlanoTrabalhoConsolidacaoFormComponent extends PageFrameBase {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @ViewChild('gridEntregas', { static: false }) public gridEntregas?: GridComponent;\n  @Input() cdRef: ChangeDetectorRef;\n  @Input() planoTrabalho?: PlanoTrabalho;\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\n  @Input() set entity(value: PlanoTrabalhoConsolidacao | undefined) { super.entity = value; } get entity(): PlanoTrabalhoConsolidacao | undefined { return super.entity; }\n\n  public consolidacaoOcorrenciaDao: PlanoTrabalhoConsolidacaoOcorrenciaDaoService;\n  public ocorrenciaDao: PlanoTrabalhoConsolidacaoOcorrenciaDaoService;\n  public formAtividade: FormGroup;\n  public formOcorrencia: FormGroup;\n  public dao: PlanoTrabalhoConsolidacaoDaoService;\n  public atividadeDao: AtividadeDaoService;\n  public tipoAtividadeDao: TipoAtividadeDaoService;\n  public planoTrabalhoService: PlanoTrabalhoService;\n  public planoEntregaService: PlanoEntregaService;\n  public itemsEntregas: ConsolidacaoEntrega[] = [];\n  public itemsOcorrencias: PlanoTrabalhoConsolidacaoOcorrencia[] = [];\n  public itemsAfastamentos: Afastamento[] = [];\n  \n  constructor(public injector: Injector) {\n    super(injector);\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\n    this.dao = injector.get<PlanoTrabalhoConsolidacaoDaoService>(PlanoTrabalhoConsolidacaoDaoService);\n    this.consolidacaoOcorrenciaDao = injector.get<PlanoTrabalhoConsolidacaoOcorrenciaDaoService>(PlanoTrabalhoConsolidacaoOcorrenciaDaoService);\n    this.atividadeDao = injector.get<AtividadeDaoService>(AtividadeDaoService);\n    this.ocorrenciaDao = injector.get<PlanoTrabalhoConsolidacaoOcorrenciaDaoService>(PlanoTrabalhoConsolidacaoOcorrenciaDaoService);\n    this.tipoAtividadeDao = injector.get<TipoAtividadeDaoService>(TipoAtividadeDaoService);\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\n    this.planoEntregaService = injector.get<PlanoEntregaService>(PlanoEntregaService);\n    this.formAtividade = this.fh.FormBuilder({\n      esforco: { default: 0 },\n      realizado: { default: null },\n      descricao: { default: \"\" },\n      tipo_atividade: {default: null}\n    }, this.cdRef, this.validateEntrega);\n    this.formOcorrencia = this.fh.FormBuilder({\n      data_inicio: { default: new Date() },\n      data_fim: { default: new Date() },\n      descricao: { default: \"\" }\n    }, this.cdRef, this.validateOcorrencia);\n  }\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    (async () => {\n      await this.loadData(this.entity!, this.form);\n    })();\n  }\n\n  public validateEntrega = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if (['descricao'].indexOf(controlName) >= 0 && !control.value?.length) {\n      result = \"Obrigatório\";\n    }\n    return result;\n  }\n\n  public validateOcorrencia = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if (['descricao'].indexOf(controlName) >= 0 && !control.value?.length) {\n      result = \"Obrigatório\";\n    } else if(['data_inicio', 'data_fim'].includes(controlName) && !this.util.isDataValid(control.value)) {\n      result = \"Inválido\";\n    } else if(controlName == 'data_fim' && control.value.getTime() < this.formOcorrencia?.controls.data_inicio.value.getTime()) {\n        result = \"Menor que início\";\n    } \n    return result;\n  }\n\n  public async loadData(entity: IIndexable, form?: FormGroup) {\n    this.gridEntregas!.loading = true;\n    this.cdRef.detectChanges();\n    try {\n      let dados = await this.dao!.dadosConsolidacao(entity.id);\n      this.itemsEntregas = dados.entregas.map(x => {\n        return {\n          id: x.id,\n          entrega: x,\n          atividades: dados.atividades.filter(y => y.plano_trabalho_entrega_id == x.id)\n        };\n      });\n      this.itemsOcorrencias = dados.ocorrencias;\n      this.itemsAfastamentos = dados.afastamentos;\n    } finally {\n      this.gridEntregas!.loading = false;\n      this.cdRef.detectChanges();\n    }\n  }\n\n  public get hasEsforco(): boolean {\n    return !!this.planoTrabalho?.tipo_modalidade?.atividade_esforco;\n  }\n  \n  public get hasRealizado(): boolean {\n    return false;\n  }\n  \n  /***************************************************************************************\n  * Atividades \n  ****************************************************************************************/\n  public async addAtividade(entrega: PlanoTrabalhoEntrega) {\n    return new Atividade({\n      id: this.dao!.generateUuid(),\n      plano_trabalho_consolidacao_id: this.entity!.id,\n      plano_trabalho_entrega_id: entrega.id\n    });\n  }\n\n  public async loadAtividade(form: FormGroup, row: any) {\n    this.formAtividade.patchValue({\n      esforco: row.esforco,\n      realizado: row.realizado,\n      descricao: row.descricao\n    });\n    this.cdRef.detectChanges();\n  }\n\n  public async removeAtividade(atividades: Atividade[], row: any) {\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir o item ?\");\n    if (confirm) {\n      try {\n        let atividade = row as Atividade;\n        await this.atividadeDao?.delete(atividade);\n        atividades.splice(atividades.findIndex(x => x.id == atividade.id), 1);\n        return true;\n      } catch {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  public async saveAtividade(form: FormGroup, row: any) {\n    let result = undefined;\n    this.formAtividade.markAllAsTouched();\n    if (this.formAtividade!.valid) {\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\n      row.esforco = form.controls.esforco.value;\n      row.realizado = form.controls.esforco.value;\n      row.descricao = form.controls.descricao.value;\n      result = await this.atividadeDao?.save(row);\n    }\n    return result;\n  }\n\n  public atividadeDynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    result.push(Object.assign({}, this.gridEntregas!.BUTTON_EDIT, {}));\n    result.push(Object.assign({}, this.gridEntregas!.BUTTON_DELETE, {}));\n    return result;\n  }  \n\n  /***************************************************************************************\n  * Ocorrências \n  ****************************************************************************************/\n  public async addOcorrencia() {\n    return new PlanoTrabalhoConsolidacaoOcorrencia({\n      plano_trabalho_consolidacao_id: this.entity!.id\n    });\n  }\n\n  public async loadOcorrencia(form: FormGroup, row: any) {\n    this.formAtividade.patchValue({\n      data_inicio: row.data_inicio,\n      data_fim: row.data_fim,\n      descricao: row.descricao\n    });\n    this.cdRef.detectChanges();\n  }\n\n  public async removeOcorrencia(row: any) {\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir o item ?\");\n    if (confirm) {\n      try {\n        let ocorrencia = row as PlanoTrabalhoConsolidacaoOcorrencia;\n        await this.consolidacaoOcorrenciaDao?.delete(ocorrencia);\n        this.itemsOcorrencias.splice(this.itemsOcorrencias.findIndex(x => x.id == ocorrencia.id), 1);\n        return true;\n      } catch {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  public async saveOcorrencia(form: FormGroup, row: any) {\n    let result = undefined;\n    this.formOcorrencia.markAllAsTouched();\n    if (this.formOcorrencia!.valid) {\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\n      row.data_inicio = form.controls.data_inicio.value;\n      row.data_fim = form.controls.data_fim.value;\n      row.descricao = form.controls.descricao.value;\n      result = await this.consolidacaoOcorrenciaDao?.save(row);\n    }\n    return result;\n  }\n\n  public ocorrenciaDynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    //result.push({ hint: \"Adicionar filho\", icon: \"bi bi-plus-circle\", onClick: this.addChildProcesso.bind(this) });\n    return result;\n  }  \n\n  /***************************************************************************************\n  * Ocorrências \n  ****************************************************************************************/\n  public async addAfastamento() {\n    this.go.navigate({route: ['cadastros', 'afastamento'], params: {usuarioId: this.entity!.plano_trabalho!.usuario_id}}, {\n      filterSnapshot: undefined,\n      querySnapshot: undefined,\n      modalClose: (modalResult) => {\n        if(modalResult) this.loadData(this.entity!, this.form);\n      }\n    });\n  }\n \n}\n","<separator [title]=\"lex.translate('Atividades')\" [icon]=\"entityService.getIcon('Atividade')\">\n    <grid [items]=\"itemsEntregas\" #gridEntregas [minHeight]=\"0\" expanded>\n        <columns>\n            <column type=\"expand\" [icon]=\"entityService.getIcon('PlanoTrabalhoConsolidacao')\" [align]=\"'center'\" [hint]=\"lex.translate('Consolidação')\" [template]=\"columnConsolidacao\" [expandTemplate]=\"columnExpandedConsolidacao\">\n                <ng-template let-row=\"row\" #columnConsolidacao>\n                    <!--span *ngIf=\"row?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-boxes\"></i> {{row?.length}}</span//-->\n                </ng-template>\n                <ng-template let-row=\"row\" #columnExpandedConsolidacao>\n                    <grid [items]=\"row.atividades\" [minHeight]=\"0\" #gridAtividade [form]=\"formAtividade\" [hasDelete]=\"false\" [hasEdit]=\"false\"\n                        [add]=\"addAtividade.bind(this, row.entrega)\" [load]=\"loadAtividade.bind(this)\" [remove]=\"removeAtividade.bind(this, row.atividades)\" [save]=\"saveAtividade.bind(this)\" editable>\n                        <columns>\n                            <column [title]=\"lex.translate('Atividade')\" [template]=\"columnAtividade\" [editTemplate]=\"columnAtividadeEdit\">\n                                <ng-template let-row=\"row\" #columnAtividade>\n                                    <div class=\"row\">\n                                        <div class=\"col-md-3 one-per-line\">\n                                            <small class=\"micro-text fw-ligh\">#{{row.numero}}</small><br>\n                                            <badge color=\"success\" label=\"TODO\"></badge>\n                                            <!-- TODO: Por status!-->\n                                            <!-- badge *ngFor=\"let status of atividadeService.getStatus(row)\" [data]=\"status\" [color]=\"status.color\" [icon]=\"status.icon\" [label]=\"status.label\" [click]=\"status.data?.filter ? onStatusClick.bind(this) : undefined\"></badge//-->\n                                        </div>\n                                        <div class=\"col-md-3 one-per-line\">\n                                            <badge [icon]=\"'bi ' + (row.usuario?.nome?.length ? 'bi-person-check' : 'bi-person-x')\" color=\"light\" [label]=\"util.apelidoOuNome(row.usuario, true) || '(Não atribuído)'\" [hint]=\"'Responsável: ' + (row.usuario?.nome || 'Não atribuido a nenhum usuário')\"></badge>\n                                            <badge icon=\"bi bi-cursor\" color=\"light\" [label]=\"util.apelidoOuNome(row.demandante, true) || 'Desconhecido'\" [hint]=\"'Demandante: ' + (row.demandante?.nome || 'Desconhecido')\"></badge>\n                                        </div>\n                                        <div class=\"col-md-2 one-per-line\">\n                                            <!-- TODO: Por tempos //-->\n                                            <badge color=\"primary\" label=\"TODO\"></badge>\n                                            <!-- badge *ngFor=\"let tempo of temposAtividade(row)\" [badge]=\"tempo\"></badge /-->\n                                            <progress-bar [value]=\"row.progresso\" color=\"success\"></progress-bar>\n                                        </div>\n                                        <div class=\"col-md-4\">\n                                            <small *ngIf=\"row.atividade\" class=\"atividade-atividade\"><strong>{{row.tipo_atividade.nome || \"\"}}</strong><br></small>\n                                            <span class=\"micro-text fw-ligh atividade-descricao\">{{row.descricao}}</span>\n                                        </div>\n                                    </div>\n                                </ng-template>\n                                <ng-template let-row=\"row\" #columnAtividadeEdit>\n                                    <div class=\"row\">\n                                        <div *ngIf=\"hasEsforco || hasRealizado\" class=\"col-md-4\">\n                                            <input-timer *ngIf=\"hasEsforco\" onlyHours icon=\"bi bi-stopwatch\" [label]=\"lex.translate('Esforço')\" [control]=\"formAtividade.controls.esforco\" labelInfo=\"Tempo em horas da execução da atividade\"></input-timer>\n                                            <!--plano-entrega-indicador-valor [entrega]=\"row.entrega\" [size]=\"12\" [control]=\"formAtividade.controls.realizado\"></plano-entrega-indicador-valor/-->\n                                        </div>\n                                        <div [class]=\"(hasEsforco || hasRealizado ? 'col-md-8' : 'col-md-12') + ' row'\">\n                                            <input-search [label]=\"lex.translate('Tipo de Atividade')\" #tipoAtividade [emptyValue]=\"null\" [control]=\"formAtividade.controls.tipo_atividade_id\" [dao]=\"tipoAtividadeDao\"></input-search>\n                                            <input-textarea [rows]=\"5\" label=\"Descriçao\" [control]=\"formAtividade.controls.descricao\"></input-textarea>\n                                        </div>\n                                    </div>\n                                </ng-template>\n                            </column>\n                            <column type=\"options\" [dynamicButtons]=\"atividadeDynamicButtons.bind(this)\"></column>\n                        </columns>\n                    </grid>\n                </ng-template>\n            </column>\n            <column title=\"Origem\" [template]=\"columnOrigem\" [width]=\"200\">\n                <ng-template let-row=\"row\" #columnOrigem>\n                    <badge [title]=\"planoTrabalhoService.tipoEntrega(row.entrega, planoTrabalho).titulo\" [color]=\"planoTrabalhoService.tipoEntrega(row.entrega, planoTrabalho).cor\"></badge>\n                </ng-template>\n            </column>\n            <column title=\"Entrega\" [template]=\"columnEntrega\">\n                <ng-template let-row=\"row\" #columnEntrega>\n                    <small>{{ planoTrabalhoService.tipoEntrega(row).nome }}</small>\n                </ng-template>\n            </column>\n        </columns>\n    </grid>\n</separator>\n<separator [title]=\"lex.translate('Ocorrências')\" [icon]=\"entityService.getIcon('PlanoTrabalhoConsolidacao')\">\n    <grid [items]=\"itemsOcorrencias\" [minHeight]=\"0\" #gridOcorrencia [form]=\"formOcorrencia\" [hasDelete]=\"true\" \n        [add]=\"addOcorrencia.bind(this)\" [load]=\"loadOcorrencia.bind(this)\" \n        [remove]=\"removeOcorrencia.bind(this)\" [save]=\"saveOcorrencia.bind(this)\" editable>\n        <columns>\n            <column title=\"Início\" type=\"datetime\" field=\"data_inicio\"></column>\n            <column title=\"Fim\" type=\"datetime\" field=\"data_fim\"></column>\n            <column title=\"Descrição\" type=\"textarea\" field=\"descricao\"></column>\n            <column type=\"options\" [dynamicButtons]=\"ocorrenciaDynamicButtons.bind(this)\"></column>\n        </columns>\n    </grid>\n</separator>\n<separator [title]=\"lex.translate('Afastamentos')\" [icon]=\"entityService.getIcon('Afastamento')\">\n    <grid [items]=\"itemsAfastamentos\" [minHeight]=\"0\" #gridAfastamento [add]=\"addAfastamento.bind(this)\" [hasAdd]=\"true\">\n        <columns>\n            <column title=\"Início\" type=\"datetime\" field=\"data_inicio\"></column>\n            <column title=\"Fim\" type=\"datetime\" field=\"data_fim\"></column>\n            <column title=\"Motivo/Observação\" [template]=\"columnMotivoObservacao\">\n                <ng-template let-row=\"row\" #columnMotivoObservacao>\n                    <badge [color]=\"row.tipo_motivo_afastamento.cor\" [icon]=\"row.tipo_motivo_afastamento.icone\" [label]=\"row.tipo_motivo_afastamento.nome\"></badge>\n                    {{row.observacao}}\n                </ng-template>\n            </column>\n            <!--column type=\"options\" [dynamicButtons]=\"afastamentoDynamicButtons.bind(this)\"></column/-->\n        </columns>\n    </grid>\n</separator>\n\n\n\n\n\n\n\n","import { ChangeDetectorRef, Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { PlanoTrabalhoConsolidacaoDaoService } from 'src/app/dao/plano-trabalho-consolidacao-dao.service';\nimport { PlanoTrabalhoConsolidacao } from 'src/app/models/plano-trabalho-consolidacao.model';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\n\n@Component({\n  selector: 'plano-trabalho-consolidacao-list',\n  templateUrl: './plano-trabalho-consolidacao-list.component.html',\n  styleUrls: ['./plano-trabalho-consolidacao-list.component.scss']\n})\nexport class PlanoTrabalhoConsolidacaoListComponent extends PageFrameBase {\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  @Input() set entity(value: PlanoTrabalho | undefined) { super.entity = value; } get entity(): PlanoTrabalho | undefined { return super.entity; }\n\n  public get items(): PlanoTrabalhoConsolidacao[] {\n    return this.entity?.consolidacoes || [];\n  }\n\n  public dao?: PlanoTrabalhoConsolidacaoDaoService;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    /* Inicializações */\n    this.dao = injector.get<PlanoTrabalhoConsolidacaoDaoService>(PlanoTrabalhoConsolidacaoDaoService);\n    this.title = this.lex.translate(\"Consolidações\");\n    this.code = \"MOD_PTR_CSLD\";\n    this.form = this.fh.FormBuilder({\n      'data_inicio': {default: new Date()},\n      'data_fim': {default: new Date()}\n    }, this.cdRef, this.validate);\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    // TODO: Validar data\n    return result;\n  }\n\n  public async addConsolidacao() {\n    return new PlanoTrabalhoConsolidacao({\n      id: this.dao!.generateUuid(),\n      plano_trabalho_id: this.entity!.id\n    });\n  }\n\n  public async loadConsolidacao(form: FormGroup, row: any) {\n    this.form!.patchValue({\n      data_inicio: row.data_inicio,\n      data_fim: row.data_fim\n    });    \n    this.cdRef.detectChanges();\n  }\n\n  public async removeConsolidacao(row: any) {\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir o item ?\");\n    if (confirm) {\n      try {\n        let consolidacao = row as PlanoTrabalhoConsolidacao;\n        await this.dao?.delete(consolidacao);\n        this.items.splice(this.items.findIndex(x => x.id == consolidacao.id), 1);\n        return true;\n      } catch {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  public async saveConsolidacao(form: FormGroup, row: any) {\n    let result = undefined;\n    this.form!.markAllAsTouched();\n    if (this.form!.valid) {\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\n      row.data_inicio = form.controls.data_inicio.value;\n      row.data_fim = form.controls.data_fim.value;\n      result = await this.dao?.save(row);\n    }\n    return result;\n  }\n\n  public dynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    //result.push({ hint: \"Adicionar filho\", icon: \"bi bi-plus-circle\", onClick: this.addChildProcesso.bind(this) });\n    return result;\n  }  \n\n}\n","<grid [items]=\"items\" #grid [form]=\"form!\" [hasDelete]=\"true\" [minHeight]=\"0\"\n    [add]=\"addConsolidacao.bind(this)\" [hasAdd]=\"true\" [hasEdit]=\"false\" [hasDelete]=\"false\" editable>\n<!--\n    [load]=\"loadConsolidacao.bind(this)\" [remove]=\"removeConsolidacao.bind(this)\" [save]=\"saveConsolidacao.bind(this)\" \n-->\n    <columns>\n        <column type=\"expand\" [icon]=\"entityService.getIcon('PlanoTrabalhoConsolidacao')\" [align]=\"'center'\" [hint]=\"lex.translate('Consolidação')\" [template]=\"columnConsolidacao\" [expandTemplate]=\"columnExpandedConsolidacao\">\n            <ng-template let-row=\"row\" #columnConsolidacao>\n                <!--span *ngIf=\"row?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-boxes\"></i> {{row?.length}}</span//-->\n            </ng-template>\n            <ng-template let-row=\"row\" #columnExpandedConsolidacao>\n                <plano-trabalho-consolidacao-form #consolidacao [entity]=\"row\" [cdRef]=\"cdRef\"></plano-trabalho-consolidacao-form>\n            </ng-template>\n        </column>\n        <column title=\"Data início\" [template]=\"columnDataInicio\">\n            <ng-template let-row=\"row\" #columnDataInicio>\n                {{util.getDateFormatted(row.data_inicio)}}\n            </ng-template>\n        </column>\n        <column title=\"Data fim\" [template]=\"columnDataFim\">\n            <ng-template let-row=\"row\" #columnDataFim>\n                <strong>{{util.getDateFormatted(row.data_fim)}}</strong>\n            </ng-template>\n        </column>\n        <column title=\"Estatísticas\" [template]=\"columnEstatisticas\">\n            <ng-template let-row=\"row\" #columnEstatisticas>\n            </ng-template>\n        </column>\n        <column title=\"Status\" [template]=\"columnStatus\">\n            <ng-template let-row=\"row\" #columnStatus>\n                <badge [color]=\"lookup.getColor(lookup.CONSOLIDACAO_STATUS, row.status)\" [icon]=\"lookup.getIcon(lookup.CONSOLIDACAO_STATUS, row.status)\" [label]=\"lookup.getValue(lookup.CONSOLIDACAO_STATUS, row.status)\"></badge>\n            </ng-template>\n        </column>\n        <column type=\"options\" [dynamicButtons]=\"dynamicButtons\"></column>\n    </columns>\n</grid>","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { TabsComponent } from 'src/app/components/tabs/tabs.component';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { Unidade } from 'src/app/models/unidade.model';\nimport { Usuario } from 'src/app/models/usuario.model';\nimport { PageBase } from 'src/app/modules/base/page-base';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\n\n@Component({\n  selector: 'app-plano-trabalho-consolidacao',\n  templateUrl: './plano-trabalho-consolidacao.component.html',\n  styleUrls: ['./plano-trabalho-consolidacao.component.scss']\n})\nexport class PlanoTrabalhoConsolidacaoComponent extends PageFrameBase {\n  @ViewChild(TabsComponent, { static: false }) public tabs?: TabsComponent;\n\n  public usuarios: Usuario[] = [];\n  public unidade?: Unidade;\n  public unidadeDao: UnidadeDaoService;\n  public loadingUnidade: boolean = false;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    this.form = this.fh.FormBuilder({\n      arquivados: { default: false }\n    });\n  }\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    this.tabs!.active = this.queryParams?.tab || \"USUARIO\";\n    (async () => {\n      await this.loadData(this.entity!, this.form);\n    })();\n  }\n\n  public async loadData(entity: IIndexable, form?: FormGroup) {\n    this.unidade = this.auth.unidadeGestor();\n    if(this.unidade) {\n      this.usuarios = [];\n      this.loadingUnidade = true;\n      this.cdRef.detectChanges()\n      try {\n        this.usuarios = await this.unidadeDao.lotados(this.unidade.id);\n      } finally {\n        this.loadingUnidade = false;\n        this.cdRef.detectChanges()\n      }\n    }\n  }\n\n}\n","<tabs right #tabs [title]=\"isModal ? '' : title\">\n    <tab key=\"UNIDADE\" *ngIf=\"unidade\" [icon]=\"entityService.getIcon('Unidade')\" [label]=\"lex.translate('Unidade')\" [template]=\"tabUnidade\">\n        <ng-template #tabUnidade>\n            <h5>{{unidade.sigla}} - {{unidade.nome}}</h5>\n            <div *ngIf=\"loading\" class=\"d-flex justify-content-center my-2\">\n                <div class=\"spinner-border\" role=\"status\">\n                    <span class=\"visually-hidden\"></span>\n                </div>\n            </div>\n            <collapse-card *ngFor=\"let usuario of usuarios\" [data]=\"usuario\" [titleTemplate]=\"usuarioCardTitle\" [template]=\"usuarioCard\">\n                <ng-template let-data=\"data\" #usuarioCardTitle>\n                    <div class=\"row\">\n                        <div class=\"col-2\">\n                            <profile-picture [url]=\"data.url_foto\" [size]=\"40\" [hint]=\"data.nome\"></profile-picture>\n                        </div>\n                        <div class=\"col-10\">\n                            <strong>{{data.nome || \"\"}}</strong><br>\n                            <small>{{data.apelido || \"\"}}</small>\n                        </div>\n                    </div>\n                </ng-template>\n                <ng-template let-data=\"data\" #usuarioCard>\n                    <plano-trabalho-list-accordeon [usuarioId]=\"data.id\"></plano-trabalho-list-accordeon>\n                </ng-template>\n            </collapse-card>\n        </ng-template>\n    </tab>\n    <tab key=\"USUARIO\" [icon]=\"entityService.getIcon('Usuario')\" [label]=\"lex.translate('Usuário')\" [template]=\"tabUsuario\">\n        <ng-template #tabUsuario>\n            <separator [control]=\"form!.controls.arquivados\" [title]=\"'Mostrar ' + lex.translate('Planos de trabalho') + ' arquivados?'\"></separator>\n            <plano-trabalho-list-accordeon [usuarioId]=\"auth.usuario!.id\" [arquivados]=\"form!.controls.arquivados.value\"></plano-trabalho-list-accordeon>\n        </ng-template>\n    </tab>\n</tabs>\n","import { Component, Injector, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { UnitWorkload } from 'src/app/components/input/input-workload/input-workload.component';\nimport { DocumentoDaoService } from 'src/app/dao/documento-dao-service';\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\nimport { ProgramaDaoService } from 'src/app/dao/programa-dao.service';\nimport { TipoDocumentoDaoService } from 'src/app/dao/tipo-documento-dao.service';\nimport { TipoModalidadeDaoService } from 'src/app/dao/tipo-modalidade-dao.service';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\nimport { SeiKeys } from 'src/app/listeners/procedimento-trabalhar/procedimento-trabalhar.component';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { TipoDocumento } from 'src/app/models/tipo-documento.model';\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\nimport { NavigateResult } from 'src/app/services/navigate.service';\n\n@Component({\n  selector: 'plano-trabalho-form-termo',\n  templateUrl: './plano-trabalho-form-termo.component.html',\n  styleUrls: ['./plano-trabalho-form-termo.component.scss']\n})\n\nexport class PlanoTrabalhoFormTermoComponent extends PageFormBase<PlanoTrabalho, PlanoTrabalhoDaoService> {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\n  @ViewChild('programa', { static: false }) public programa?: InputSearchComponent;\n  @ViewChild('tipoDocumento', { static: false }) public tipoDocumento?: InputSearchComponent;\n  @ViewChild('tipoModalidade', { static: false }) public tipoModalidade?: InputSearchComponent;\n\n  public unidadeDao: UnidadeDaoService;\n  public programaDao: ProgramaDaoService;\n  public usuarioDao: UsuarioDaoService;\n  public documentoDao: DocumentoDaoService;\n  public tipoDocumentoDao: TipoDocumentoDaoService;\n  public allPages: ListenerAllPagesService;\n  public processo?: SeiKeys;\n  public tipoModalidadeDao: TipoModalidadeDaoService;\n\n  constructor(public injector: Injector) {\n    super(injector, PlanoTrabalho, PlanoTrabalhoDaoService);\n    this.join = [\"unidade\", \"usuario\", \"programa.template_tcr\", \"tipo_modalidade\", \"documento\", \"documentos\", \"atividades.atividade\"];\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    this.programaDao = injector.get<ProgramaDaoService>(ProgramaDaoService);\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\n    this.tipoDocumentoDao = injector.get<TipoDocumentoDaoService>(TipoDocumentoDaoService);\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\n    this.tipoModalidadeDao = injector.get<TipoModalidadeDaoService>(TipoModalidadeDaoService);\n    this.documentoDao = injector.get<DocumentoDaoService>(DocumentoDaoService);\n\n    this.form = this.fh.FormBuilder({\n      carga_horaria: {default: \"\"},\n      tempo_total: {default: \"\"},\n      tempo_proporcional: {default: \"\"},\n      data_inicio: {default: new Date()},\n      data_fim: {default: new Date()},\n      programa_id: {default: \"\"},\n      usuario_id: {default: \"\"},\n      unidade_id: {default: \"\"},\n      documento_id: {default: \"\"},\n      documentos: {default: []},\n      tipo_documento_id: {default: \"\"},\n      numero_processo: {default: \"\"},\n      vinculadas: {default: true},\n      tipo_modalidade_id: {default: \"\"},\n      forma_contagem_carga_horaria: {default: \"DIA\"}\n    }, this.cdRef, this.validate);\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if(controlName == \"tipo_documento_id\" && !control?.value?.length && this.form?.controls?.numero_processo?.value?.length) {\n      result = \"Obrigatório\";\n    }\n    return result;\n  }\n\n  public formValidation = (form?: FormGroup) => {\n    if(!this.tipoDocumento?.selectedEntity && form?.controls.tipo_documento_id.value?.length) {\n      return \"Aguarde o carregamento do tipo de documento\";\n    }\n    return undefined;\n  } \n\n  public onVinculadasChange(event: Event) {\n    this.cdRef.detectChanges();\n  }\n\n  public async loadData(entity: PlanoTrabalho, form: FormGroup) {\n    let formValue = Object.assign({}, form.value);\n    formValue = this.util.fillForm(formValue, entity);\n    await Promise.all ([\n      this.unidade!.loadSearch(entity.unidade || entity.unidade_id),\n      this.usuario!.loadSearch(entity.usuario || entity.usuario_id),\n      this.programa!.loadSearch(entity.programa || entity.programa_id),\n      this.tipoModalidade!.loadSearch(entity.tipo_modalidade || entity.tipo_modalidade_id)\n    ]);\n    if(this.processo) {\n      formValue.id_processo = this.processo.id_processo;\n      formValue.numero_processo = this.processo.numero_processo;\n    }\n    formValue.data_inicio = this.auth.hora;\n    form.patchValue(formValue);\n  }\n\n  public async initializeData(form: FormGroup) {\n    this.entity = (await this.dao!.getById(this.metadata.plano_trabalho.id, this.join))!;\n    this.processo = this.metadata?.processo;\n    await this.loadData(this.entity!, form);\n  }\n\n  public saveData(form: IIndexable): Promise<NavigateResult | undefined> {\n    return new Promise<NavigateResult | undefined>((resolve, reject) => {\n      //if(this.processo) {\n      resolve(new NavigateResult(Object.assign(this.form!.value, {\n        /* TODO Gerar documento do TCR\n        termo: this.termo!.conteudo,\n        atividades_termo_adesao: this.termo!.atividades.map((x: { nome: string; }) => this.util.removeAcentos(x.nome.toLowerCase())),*/\n        codigo_tipo_documento: (this.tipoDocumento?.selectedEntity as TipoDocumento)?.codigo\n      })));\n      /*} else {\n        const documento = Object.assign(new Documento(), {\n          especie: \"TERMO_ADESAO\",\n          conteudo: this.termo!.conteudo,\n          plano_id: this.entity!.id,\n          status: \"GERADO\"\n        });\n        this.documentoDao.save(documento).then(doc => resolve(undefined)).catch(reject);\n      }*/\n    });\n  }\n\n  public get formaContagemCargaHoraria(): UnitWorkload {\n    const forma = this.form?.controls.forma_contagem_carga_horaria?.value || \"DIA\";\n    return forma == \"DIA\" ? \"day\" : forma == \"SEMANA\" ? \"week\" : \"mouth\";\n  }\n\n  public titleEdit = (entity: PlanoTrabalho): string => {\n    return \"Editando \" + this.lex.translate(\"TCR\") + ' ' + this.lex.translate(\"do Plano de Trabalho\") + ': ' + (entity?.usuario?.nome || \"\");\n  }\n\n}\n\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"programa_id\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\"><!--</editable-form>(submit)=\"onSaveData()\" (cancel)=\"onCancel()\">-->\n    <separator [title]=\"lex.translate('Plano de trabalho')\" collapse [collapsed]=\"false\">\n        <div class=\"row\">\n            <input-search #programa [size]=\"6\" disabled controlName=\"programa_id\" [dao]=\"programaDao\"></input-search>\n            <input-search #usuario [size]=\"6\" disabled  controlName=\"usuario_id\" [dao]=\"usuarioDao\"></input-search>\n        </div>\n        <div class=\"row\">\n            <input-search #unidade [size]=\"5\" disabled controlName=\"unidade_id\" [dao]=\"unidadeDao\" ></input-search>\n            <input-search #tipoModalidade disabled [size]=\"3\" controlName=\"tipo_modalidade_id\" [dao]=\"tipoModalidadeDao\"></input-search>\n            <input-text numbers disabled [size]=\"2\" label=\"% prod.\" icon=\"bi bi-hourglass-split\" controlName=\"ganho_produtividade\" [control]=\"form!.controls.ganho_produtividade\" [labelInfo]=\"'Percentual de ganho de produtividade (Será descontado do ' + lex.translate('tempo pactuado')+')'\"></input-text>\n            <input-display [size]=\"2\" label=\"H. Parciais\" icon=\"bi bi-clock\" controlName=\"tempo_proporcional\" [control]=\"form!.controls.tempo_proporcional\" labelInfo=\"Total de horas menos os afastamentos.\"></input-display>\n        </div>\n        <div class=\"row\">\n            <input-datetime [size]=\"3\" disabled label=\"Início\" icon=\"bi bi-calendar-date\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" labelInfo=\"Início da Vigência do Programa\"></input-datetime>\n            <input-datetime [size]=\"3\" disabled label=\"Final\" icon=\"bi bi-calendar-date\" controlName=\"data_fim\" [control]=\"form!.controls.data_fim\" labelInfo=\"Final da Vigência do Programa\"></input-datetime>\n            <input-workload [size]=\"3\" disabled [unit]=\"formaContagemCargaHoraria\" label=\"C. Horária\" icon=\"bi bi-hourglass-split\" controlName=\"carga_horaria\" [control]=\"form!.controls.carga_horaria\" labelInfo=\"Carga horária do usuário\"></input-workload>\n            <input-display [size]=\"3\" label=\"H. Totais\" icon=\"bi bi-clock\" controlName=\"tempo_total\" [control]=\"form!.controls.tempo_total\" labelInfo=\"Horas úteis de trabalho no período de vigência considerando a carga horária, feriados e fins de semana\"></input-display>\n        </div>\n    </separator>\n    <div class=\"row\">\n        <input-datetime [size]=\"3\" disabled label=\"Data e hora\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" labelInfo=\"Data de cadastro do termo\"></input-datetime>\n        <input-text [label]=\"'Número ' + lex.translate('Processo')\" [size]=\"3\" controlName=\"numero_processo\" [control]=\"form!.controls.numero_processo\" disabled labelInfo=\"Número do processo, com a formatação de origem\"></input-text>\n        <input-search [size]=\"4\" #tipoDocumento [disabled]=\"!form!.controls.numero_processo.value?.length ? 'true' : undefined\" controlName=\"tipo_documento_id\" [dao]=\"tipoDocumentoDao\" required></input-search>\n        <input-switch label=\"Vinculadas\" [disabled]=\"entity?.atividades?.length ? 'true' : undefined\" [size]=\"2\" controlName=\"vinculadas\" [control]=\"form!.controls.vinculadas\" (change)=\"onVinculadasChange($event)\" labelInfo=\"Se inclui as atividades das unidades vinculadas a unidade do plano\"></input-switch>\n    </div>\n    <!--separator title=\"Pré-visualização do termo de adesão\" collapse [collapsed]=\"true\">\n        <plano-termo-adesao #termo [plano]=\"entity\" [vinculadas]=\"!!form?.controls?.vinculadas?.value\"></plano-termo-adesao>\n    </separator/-->\n</editable-form>\n","import { Component, Injector, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { SelectItem } from 'src/app/components/input/input-base';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\nimport { UnitWorkload } from 'src/app/components/input/input-workload/input-workload.component';\nimport { TabsComponent } from 'src/app/components/tabs/tabs.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { DocumentoDaoService } from 'src/app/dao/documento-dao-service';\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\nimport { ProgramaDaoService } from 'src/app/dao/programa-dao.service';\nimport { TipoModalidadeDaoService } from 'src/app/dao/tipo-modalidade-dao.service';\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { Documento } from 'src/app/models/documento.model';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { Programa } from 'src/app/models/programa.model';\nimport { TipoModalidade } from 'src/app/models/tipo-modalidade.model';\nimport { Unidade } from 'src/app/models/unidade.model';\nimport { Usuario } from 'src/app/models/usuario.model';\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\nimport { DocumentoService } from 'src/app/modules/uteis/documentos/documento.service';\nimport { DocumentosComponent } from 'src/app/modules/uteis/documentos/documentos.component';\nimport { CalendarService, Efemerides } from 'src/app/services/calendar.service';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { PlanoTrabalhoService } from '../plano-trabalho.service';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { TemplateDataset, TemplateService } from 'src/app/modules/uteis/templates/template.service';\nimport { Template } from 'src/app/models/template.model';\n\n@Component({\n  selector: 'plano-trabalho-form',\n  templateUrl: './plano-trabalho-form.component.html',\n  styleUrls: ['./plano-trabalho-form.component.scss']\n})\n\nexport class PlanoTrabalhoFormComponent extends PageFormBase<PlanoTrabalho, PlanoTrabalhoDaoService> {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @ViewChild('gridAtividades', { static: false }) public gridAtividades?: GridComponent;\n  @ViewChild('gridDocumentos', { static: false }) public gridDocumentos?: GridComponent;\n  @ViewChild('tabs', { static: false }) public tabs?: TabsComponent;\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\n  @ViewChild('programa', { static: false }) public programa?: InputSearchComponent;\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\n  @ViewChild('tipoModalidade', { static: false }) public tipoModalidade?: InputSearchComponent;\n  @ViewChild('planoEntrega', { static: false }) public planoEntrega?: InputSearchComponent;\n  @ViewChild('atividade', { static: false }) public atividade?: InputSearchComponent;\n  @ViewChild('entrega', { static: false }) public entrega?: InputSelectComponent;\n  @ViewChild('documentos', { static: false }) public documentos?: DocumentosComponent;\n\n  //public formAtividades: FormGroup;\n  //public formEntregas: FormGroup;\n  public programaDao: ProgramaDaoService;\n  public usuarioDao: UsuarioDaoService;\n  public unidadeDao: UnidadeDaoService;\n  //public atividadeDao: AtividadeDaoService;\n  public documentoDao: DocumentoDaoService;\n  public documentoService: DocumentoService;\n  public templateService: TemplateService;\n  public allPages: ListenerAllPagesService;\n  public calendar: CalendarService;\n  public tipoModalidadeDao: TipoModalidadeDaoService;\n  //public planoEntregaDao: PlanoEntregaDaoService;\n  public planoTrabalhoService: PlanoTrabalhoService;\n  public horasTotais?: Efemerides;\n  public horasParciais?: Efemerides;\n  public planoDataset: TemplateDataset[];\n  public joinPrograma: string[];\n  public entregas: LookupItem[] = [];\n  public planoTrabalho?: PlanoTrabalho;\n  public datasource: any;\n  public template?: Template;\n  public editingId?: string;\n\n  /*private _datasource: any;\n  private _entityDocumentos: PlanoTrabalho = new PlanoTrabalho();*/\n\n  constructor(public injector: Injector) {\n    super(injector, PlanoTrabalho, PlanoTrabalhoDaoService);\n    this.join = [\"unidade.entidade\", \"entregas.entrega\", \"entregas.plano_entrega_entrega:id,plano_entrega_id\", \"usuario\", \"programa.template_tcr\", \"tipo_modalidade\", \"documento\", \"documentos.assinaturas.usuario:id,nome,apelido\", \"entregas.plano_entrega_entrega.entrega\"];\n    this.joinPrograma = [\"template_tcr\"];\n    this.programaDao = injector.get<ProgramaDaoService>(ProgramaDaoService);\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    this.documentoService = injector.get<DocumentoService>(DocumentoService);\n    this.templateService = injector.get<TemplateService>(TemplateService);\n    this.calendar = injector.get<CalendarService>(CalendarService);\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\n    this.tipoModalidadeDao = injector.get<TipoModalidadeDaoService>(TipoModalidadeDaoService);\n    this.documentoDao = injector.get<DocumentoDaoService>(DocumentoDaoService);\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\n    this.modalWidth = 1200;\n    this.planoDataset = this.dao!.dataset();\n    this.form = this.fh.FormBuilder({\n      carga_horaria: {default: \"\"},\n      tempo_total: {default: \"\"},\n      tempo_proporcional: {default: \"\"},\n      data_inicio: {default: new Date()},\n      data_fim: {default: new Date()},\n      usuario_id: {default: \"\"},\n      unidade_id: {default: \"\"},\n      programa_id: {default: \"\"},\n      documento_id: {default: null},\n      documentos: {default: []},\n      atividades: {default: []},\n      entregas: {default: []},\n      tipo_modalidade_id: {default: \"\"},\n      forma_contagem_carga_horaria: {default: \"DIA\"},\n      editar_texto_complementar_unidade: {default: false},\n      editar_texto_complementar_usuario: {default: false},\n      unidade_texto_complementar: {default: \"\"},\n      usuario_texto_complementar: {default: \"\"}\n    }, this.cdRef, this.validate);\n    /*this.formAtividades = this.fh.FormBuilder({\n      atividade_id: {default: \"\"}\n    }, this.cdRef, this.validateAtividades);\n    this.formEntregas = this.fh.FormBuilder({\n      nome: {default: \"\"},\n      entrega_id: {default: \"\"}\n    }, this.cdRef, this.validateEntregas);*/\n  }\n\n  public ngOnInit() {\n    super.ngOnInit();\n    const segment = (this.url ? this.url[this.url.length-1]?.path : \"\") || \"\";\n    this.action = [\"termos\"].includes(segment) ? segment : this.action;\n  }\n\n  public atualizarTcr() {\n    this.entity = this.loadEntity();\n    let textoUsuario = this.form!.controls.usuario_texto_complementar.value;\n    let textoUnidade = this.form!.controls.unidade_texto_complementar.value;\n    let documento = this.planoTrabalhoService.atualizarTcr(this.planoTrabalho!, this.entity!, textoUsuario, textoUnidade);\n    this.form?.controls.documento_id.setValue(documento?.id);\n    this.form?.controls.documentos.setValue(this.entity!.documentos);\n    this.datasource = documento?.datasource || {};\n    this.template = this.entity.programa?.template_tcr;\n    this.editingId = [\"ADD\", \"EDIT\"].includes(documento?._status || \"\") ? documento!.id : undefined;\n    this.cdRef.detectChanges();\n  }\n\n  /* SUBSTITUIDO pela proriedade public de mesmo nome\n  public get datasource(): any {\n    /* _entityDocumentos é atualizado pelo angular na chamada do get entityDocumentos() * /\n    let data = this.dao!.datasource(this._entityDocumentos);\n    let programa = this.programa?.selectedEntity as Programa;\n    /* Atualiza os campos de texto complementar do usuário e da unidade * /\n    data.usuario.texto_complementar_plano = this.form!.controls.usuario_texto_complementar.value || \"\";\n    data.unidade.texto_complementar_plano = this.form!.controls.unidade_texto_complementar.value || \"\";\n    if(JSON.stringify(data) != this.JSON.stringify(this._datasource)) {\n      this._datasource = data;\n      /* Se o termo for um documento obrigatório, então será gerado um termo automaticamente * /\n      this.documentoId = undefined;\n      if(programa?.termo_obrigatorio) {\n        this.documentoId = this.form!.controls.documento_id.value;\n        let documentos: Documento[] = this.form!.controls.documentos.value || [];\n        let documento = documentos?.find((x: Documento) => x.id == this.documentoId);\n        if(!this.documentoId?.length || !documento || documento.assinaturas?.length || documento.tipo == \"LINK\") {\n          this.documentoId = this.dao?.generateUuid(),\n          documentos.push(new Documento({\n            id: this.documentoId, \n            tipo: \"HTML\",\n            especie: \"TCR\",\n            titulo: \"Termo de Ciência e Responsabilidade\",\n            conteudo: this.templateService.renderTemplate(programa.template_tcr?.conteudo || \"\", this._datasource),\n            status: \"GERADO\",\n            _status: \"ADD\",\n            template: programa.template_tcr?.conteudo,\n            dataset: this.dao!.dataset(),\n            datasource: this._datasource,\n            entidade_id: this.auth.entidade?.id,\n            plano_trabalho_id: this.entity?.id,\n            template_id: programa.template_tcr_id\n          }));\n          this.form!.controls.documento_id.setValue(this.documentoId);\n          this.form!.controls.documentos.setValue(documentos);\n        }\n      }\n    }\n    return this._datasource;\n  }*/\n\n  /*public get template(): Template | undefined {\n    /* _entityDocumentos é atualizado pelo angular na chamada do get entityDocumentos() * /\n    return this.planoTrabalhoService.template(this._entityDocumentos);\n  }*/\n\n  public get isTermos(): boolean {\n    return this.action == \"termos\";\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n\n    if(['unidade_id', 'programa_id', 'usuario_id', 'tipo_modalidade_id'].indexOf(controlName) >= 0 && !control.value?.length) {\n      result = \"Obrigatório\";\n    } else if(['carga_horaria'].indexOf(controlName) >= 0 && !control.value) {\n      result = \"Valor não pode ser zero.\";\n    } else if(['data_inicio', 'data_fim'].includes(controlName) && !this.util.isDataValid(control.value)) {\n      result = \"Inválido\";\n    } else if(this.programa && controlName == 'data_inicio' && (control.value as Date).getTime() < this.programa!.selectedEntity?.data_inicio.getTime()) {\n      result = \"Menor que programa\";\n    } else if(this.programa && controlName == 'data_fim' && (control.value as Date).getTime() > this.programa!.selectedEntity?.data_fim.getTime()) {\n      result = \"Maior que programa\";\n    } \n\n    return result;\n  }\n\n  public formValidation = (form?: FormGroup) => {\n    // TODO:\n    // Validar se as entregas pertencem ao plano de entregas da unidade\n    // Validar se o usuários está habilitado no programa\n    return undefined;\n  };\n\n  /*public updateEntregas(planoEntrega: PlanoEntrega | undefined) {\n    this.entregas = planoEntrega?.entregas?.map(x => Object.assign({}, { key: x.id, value: x.entrega?.nome || x.descricao, data: x })) || [];\n  }*/\n\n  public onUnidadeSelect(selected: SelectItem) {\n    let unidade = this.unidade?.selectedEntity as Unidade;\n    this.entity!.unidade = unidade;\n    this.entity!.unidade_id = unidade.id;\n    this.form!.controls.forma_contagem_carga_horaria.setValue(unidade?.entidade?.forma_contagem_carga_horaria || \"DIA\");\n    this.form!.controls.unidade_texto_complementar.setValue(unidade?.texto_complementar_plano || \"\");\n  }\n\n  public onProgramaSelect(selected: SelectItem) {\n    let programa = selected.entity as Programa;\n    this.entity!.programa_id = programa.id;\n    this.entity!.programa = programa;\n    this.form?.controls.data_inicio.updateValueAndValidity();\n    this.form?.controls.data_fim.updateValueAndValidity();\n    this.calculaTempos();\n    this.cdRef.detectChanges();\n  }\n\n  public onUsuarioSelect(selected: SelectItem) {\n    this.form!.controls.usuario_texto_complementar.setValue((selected.entity as Usuario)?.texto_complementar_plano || \"\");\n    this.calculaTempos();\n    this.cdRef.detectChanges();\n  }\n\n  public onDataInicioChange(event: Event) {\n    this.calculaTempos();\n  }\n\n  public onDataFimChange(event: Event) {\n    this.calculaTempos();\n  }\n\n  public onCargaHorariaChenge(event: Event) {\n    this.calculaTempos();\n  }\n\n  public calculaTempos() {\n    const inicio = this.form?.controls.data_inicio.value;\n    const fim = this.form?.controls.data_fim.value;\n    const carga = this.form?.controls.carga_horaria.value || 8;\n    const usuario = this.usuario?.selectedEntity as Usuario;\n    const unidade = this.unidade?.selectedEntity as Unidade;\n    if(usuario && unidade && this.util.isDataValid(inicio) && this.util.isDataValid(fim)) {\n      this.calendar.loadFeriadosCadastrados(unidade.id).then((feriados) => {\n        this.horasTotais = this.calendar.calculaDataTempoUnidade(inicio, fim, carga, unidade, \"ENTREGA\", [], []);\n        this.horasParciais = this.calendar.calculaDataTempoUnidade(inicio, fim, carga, unidade, \"ENTREGA\", [], usuario.afastamentos);\n        this.form?.controls.tempo_total.setValue(this.horasTotais.tempoUtil);\n        this.form?.controls.tempo_proporcional.setValue(this.horasParciais.tempoUtil);\n      });\n    }\n  }\n\n  public async loadData(entity: PlanoTrabalho, form: FormGroup) {\n    this.planoTrabalho = new PlanoTrabalho(entity);\n    await Promise.all([\n      this.calendar.loadFeriadosCadastrados(entity.unidade_id),\n      this.usuario?.loadSearch(entity.usuario || entity.usuario_id),\n      this.unidade?.loadSearch(entity.unidade || entity.unidade_id),\n      this.programa?.loadSearch(entity.programa || entity.programa_id),\n      this.tipoModalidade?.loadSearch(entity.tipo_modalidade || entity.tipo_modalidade_id)\n    ]);\n    let formValue = Object.assign({}, form.value);\n    form.patchValue(this.util.fillForm(formValue, entity));\n    /*let documento = entity.documentos.find(x => x.id == entity.documento_id);\n    if(documento) this._datasource = documento.datasource;*/\n    this.calculaTempos();\n    this.atualizarTcr();\n  }\n\n  public async initializeData(form: FormGroup) {\n    if(this.isTermos) {\n      this.entity = (await this.dao!.getById(this.urlParams!.get(\"id\")!, this.join))!;\n    } else {\n      this.entity = new PlanoTrabalho();\n      this.entity.carga_horaria = this.auth.entidade?.carga_horaria_padrao || 8;\n      this.entity.forma_contagem_carga_horaria = this.auth.entidade?.forma_contagem_carga_horaria || \"DIA\";\n    }\n    await this.loadData(this.entity, this.form!);\n  }\n\n  /* Atividades *\n  public async addAtividades() {\n    return new PlanoTrabalhoAtividade({ plano_trabalho_id: this.entity?.id, _status: \"ADD\" }) as IIndexable;\n  }\n\n  public async loadAtividades(form: FormGroup, row: any) {\n    form.controls.atividade_id.setValue(row.atividade_id);\n  }\n\n  public async removeAtividades(row: any) {\n    row._status = \"DELETE\";\n    return false;\n  }\n \n  public async saveAtividades(form: FormGroup, row: any) {\n    row.atividade_id = form.controls.atividade_id.value;\n    row.atividade = this.atividade?.selectedEntity as Atividade;\n    row._status = row._status == \"ADD\" ? row._status : \"EDIT\";\n    /*this.dialog.showSppinerOverlay(\"Carregando dados da atividade...\");\n    try {\n      row.atividade = await this.atividadeDao?.getById(row.atividade_id)!;\n    } finally {\n      this.dialog.closeSppinerOverlay();\n    }* /\n    return row;\n  }\n\n  public validateAtividades = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if(controlName == 'atividade_id' && !control.value?.length) {\n      result = \"Obrigatório\";\n    }\n    return result;\n  }*/\n\n  /* Entregas * /\n  public async addEntregas() {\n    return new PlanoTrabalhoEntrega({ plano_trabalho_id: this.entity?.id, _status: \"ADD\" }) as IIndexable;\n  }\n\n  public async loadEntregas(form: FormGroup, row: any) {\n    form.controls.entrega_id.setValue(row.entrega_id);\n    form.controls.nome.setValue(row.nome);\n  }\n\n  public async removeEntregas(row: any) {\n    row._status = \"DELETE\";\n    return false;\n  }\n \n  public async saveEntregas(form: FormGroup, row: any) {\n    row.entrega_id = form.controls.entrega_id.value;\n    row.entrega = this.entrega?.selectedItem?.data as PlanoTrabalhoEntrega;\n    row.nome = form.controls.nome.value;\n    row._status = row._status == \"ADD\" ? row._status : \"EDIT\";\n    return row;\n  }\n\n  public validateEntregas = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if(controlName == 'entrega_id' && !control.value?.length) {\n      result = \"Obrigatório\";\n    }\n    return result;\n  }*/\n\n  /* Gera o objeto entity baseado nas informações atuais do formulário para ser utilizado por Documentos * /\n  SUBSTITUIDO POR entity\n  public get entityDocumentos(): PlanoTrabalho {\n    let plano = this.loadEntity();\n    /* Remove campo de documentos para comparar * /\n    plano.documentos = [];\n    this._entityDocumentos.documentos = [];\n    if(JSON.stringify(plano) != JSON.stringify(this._entityDocumentos)) {\n      this._entityDocumentos = plano;  \n    }\n    /* Atribui novamente o campo de documentos * /\n    this._entityDocumentos.documentos = this.form!.controls.documentos.value;\n    return this._entityDocumentos;\n  }*/\n\n  /* Cria um objeto Plano baseado nos dados do formulário */\n  public loadEntity(): PlanoTrabalho {\n    let plano: PlanoTrabalho = this.util.fill(new PlanoTrabalho(), this.entity!);\n    plano = this.util.fillForm(plano, this.form!.value);\n    plano.usuario = (this.usuario!.selectedEntity || this.entity?.usuario) as Usuario;\n    plano.unidade = (this.unidade?.selectedEntity || this.entity?.unidade) as Unidade;\n    plano.programa = (this.programa?.selectedEntity || this.entity?.programa) as Programa;\n    plano.tipo_modalidade = (this.tipoModalidade!.selectedEntity || this.entity?.tipo_modalidade) as TipoModalidade;\n    return plano;\n  }\n\n  public async saveData(form: IIndexable): Promise<PlanoTrabalho | boolean> {\n    //let plano = this.loadEntity();\n    /* Atualiza o documento */\n    this.atualizarTcr();\n    /* Confirma dados do documento */\n    this.documentos?.saveData();\n    this.entity!.documentos = this.entity!.documentos.filter((documento: Documento) => {\n      return [\"ADD\", \"EDIT\", \"DELETE\"].includes(documento._status || \"\");\n    });\n    /* Salva separadamente as informações do plano */\n    this.submitting = true;\n    try {\n      let requests: Promise<any>[] = [this.dao!.save(this.entity!, this.join)];\n      if(this.form!.controls.editar_texto_complementar_unidade.value) requests.push(this.unidadeDao.update(this.entity!.unidade_id, {texto_complementar_plano: this.form!.controls.unidade_texto_complementar.value}));\n      if(this.form!.controls.editar_texto_complementar_usuario.value) requests.push(this.usuarioDao.update(this.entity!.usuario_id, {texto_complementar_plano: this.form!.controls.usuario_texto_complementar.value}));\n      let responses = await Promise.all(requests);\n      this.entity = responses[0] as PlanoTrabalho;\n    } finally {\n      this.submitting = false;\n    }\n    return true;\n  }\n\n  public onTabSelect(tab: LookupItem) {\n    if(tab.key == \"TERMO\") this.atualizarTcr();\n  }\n\n  public titleEdit = (entity: PlanoTrabalho): string => {\n    return \"Editando \" + this.lex.translate(\"Plano de Trabalho\") + ': ' + (entity?.usuario?.apelido || \"\");\n  }\n\n  public documentoDynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    let documento: Documento = row as Documento;\n\n    if(this.isTermos && this.planoTrabalhoService.needSign(this.entity, documento)) {\n      result.push({hint: \"Assinar\", icon: \"bi bi-pen\", onClick: this.signDocumento.bind(this) });\n    }\n    result.push({hint: \"Preview\", icon: \"bi bi-zoom-in\", onClick: ((documento: Documento) => { this.dialog.html({title: \"Termo de adesão\", modalWidth: 1000}, documento.conteudo || \"\"); }).bind(this) });\n\n    return result;\n  }\n\n  /*public needSign(documento: Documento): boolean {\n    const tipoModalidade = this.entity!.tipo_modalidade!; //(this.tipoModalidade?.selectedEntity as TipoModalidade);\n    const usuario = this.entity!.usuario!; // (this.usuario?.selectedEntity as Usuario);\n    const unidade = this.entity!.unidade!; // (this.unidade?.selectedEntity as Unidade);\n    const entidade = unidade?.entidade;\n    const alredySigned = !!documento.assinaturas.find(x => x.usuario_id == this.auth.usuario!.id);\n    let ids: string[] = [];\n    if(tipoModalidade?.exige_assinatura && usuario) ids.push(usuario.id);\n    if(tipoModalidade?.exige_assinatura_gestor_unidade && unidade) ids.push(unidade.gestor_id || \"\", unidade.gestor_substituto_id || \"\");\n    if(tipoModalidade?.exige_assinatura_gestor_entidade && entidade) ids.push(entidade.gestor_id || \"\", entidade.gestor_substituto_id || \"\");\n    return !alredySigned && tipoModalidade && ids.includes(this.auth.usuario!.id);\n  }*/\n\n  public async signDocumento(documento: Documento) {\n    await this.documentoService.sign([documento]);\n    this.cdRef.detectChanges();\n    /*this.dialog.confirm(\"Assinar\", \"Deseja realmente assinar o documento?\").then(response => {\n      if(response) {\n        this.loading = true;\n        this.documentoDao.assinar([documento.id]).then(response => {\n          if(response?.length) {\n            let documentos = (this.form!.controls.documentos.value || []) as Documento[];\n            let found = documentos.find(x => x.id == documento?.id);\n            if(found) found.assinaturas = response[0].assinaturas;\n            this.form!.controls.documentos.setValue(documentos);\n            this.gridDocumentos?.reset();\n          }\n        }).finally(() => this.loading = false);\n      }\n    });*/\n  }\n\n  public get formaContagemCargaHoraria(): UnitWorkload {\n    //const forma = (this.unidade?.selectedEntity as Unidade)?.entidade?.forma_contagem_carga_horaria || this.auth.unidade?.entidade?.forma_contagem_carga_horaria || \"DIA\";\n    //console.log(\"FORMA: \", (this.unidade?.selectedEntity as Unidade)?.entidade?.forma_contagem_carga_horaria, this.auth.unidade?.entidade?.forma_contagem_carga_horaria);\n    const forma = this.form?.controls.forma_contagem_carga_horaria.value || \"DIA\";\n    return forma == \"DIA\" ? \"day\" : forma == \"SEMANA\" ? \"week\" : \"mouth\";\n  }\n\n  public onFormaContagemCargaHorariaChange(unit: UnitWorkload) {\n    this.form!.controls.forma_contagem_carga_horaria.setValue(unit == \"day\" ? \"DIA\" : unit == \"week\" ? \"SEMANA\" : \"MES\");\n  }\n\n  /*public async addDocumento() {\n    const documento = new Documento();\n    documento.id = this.dao!.generateUuid();\n    documento.plano_trabalho_id = this.entity!.id;\n    documento.especie = \"TCR\";\n    documento._status = \"ADD\";\n    this.go.navigate({route: ['gestao', 'plano-trabalho', 'termo']}, {metadata: {documento: documento, plano_trabalho: this.entity}, modalClose: (modalResult) => {\n      if(modalResult) {\n        (async () => {\n          let documentos = (this.form!.controls.documentos.value || []) as Documento[];\n          if(this.isTermos) {\n            this.clearErros();\n            this.dialog.showSppinerOverlay(\"Salvando dados do formulário\");\n            try {\n              modalResult = await this.documentoDao.save(Object.assign(new Documento(), {\n                especie: \"TCR\",\n                conteudo: modalResult?.termo,\n                plano_trabalho_id: this.entity!.id,\n                status: \"GERADO\"\n              }), [\"assinaturas.usuario:id,nome,apelido\"]);\n            } catch (error: any) {\n              this.error(error.message ? error.message : error);\n              modalResult = undefined;\n            } finally {\n              this.dialog.closeSppinerOverlay();\n            }\n          }\n          if(modalResult) {\n            documentos.push(modalResult);\n            this.form!.controls.documentos.setValue(documentos);\n            this.dialog.showSppinerOverlay(\"Recarregando dados do plano\");\n            await this.initializeData(this.form!);\n            this.dialog.closeSppinerOverlay();\n          }\n          this.cdRef.detectChanges();\n        })();\n      }\n    }});\n    return undefined;\n  }*/\n\n  public isVigente(documento: Documento): boolean {\n    return this.form!.controls.documento_id.value == documento.id;\n  }\n\n  /*public onProcessoClick(row: any) {\n    this.allPages.openDocumentoSei(row.id_processo, row.id_documento);\n  }*/\n\n}\n\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [noButtons]=\"isTermos ? 'true' : undefined\" initialFocus=\"plano_entrega_id\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\"><!--</editable-form>(submit)=\"onSaveData()\" (cancel)=\"onCancel()\">-->\n    <tabs #tabs display right [hidden]=\"isTermos ? 'true' : undefined\" [title]=\"!isModal ? title : ''\" [select]=\"onTabSelect.bind(this)\">\n        <tab key=\"DADOS\" label=\"Dados\">\n            <div class=\"row\">\n                <!-- (RI_PTR_1) No formulário de inclusão/edição de um plano de trabalho, o input-search de unidade, programa e usuario devem ficar desabilitados nas edições e habilitado apenas nas inclusões; -->\n                <input-search #unidade [size]=\"4\" required [disabled]=\"action == 'new' ? undefined : 'true'\" controlName=\"unidade_id\" [dao]=\"unidadeDao\" (select)=\"onUnidadeSelect($event)\"></input-search>\n                <input-search #programa [size]=\"4\" required [disabled]=\"action == 'new' ? undefined : 'true'\" controlName=\"programa_id\" [join]=\"joinPrograma\" [dao]=\"programaDao\" (select)=\"onProgramaSelect($event)\"></input-search>\n                <input-search #usuario [size]=\"4\" required controlName=\"usuario_id\" [dao]=\"usuarioDao\" [join]=\"['afastamentos']\" (select)=\"onUsuarioSelect($event)\"></input-search>\n            </div>\n            <div class=\"row\">\n                <input-datetime [size]=\"3\" label=\"Início\" icon=\"bi bi-calendar-date\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" (change)=\"onDataInicioChange($event)\" labelInfo=\"'Início da Vigência do '+ lex.translate('Plano de trabalho')\"  required></input-datetime>\n                <input-datetime [size]=\"3\" label=\"Final\" icon=\"bi bi-calendar-date\" controlName=\"data_fim\" [control]=\"form!.controls.data_fim\" (change)=\"onDataFimChange($event)\" labelInfo=\"'Final da Vigência do ' +lex.translate('Plano de trabalho')\"  required></input-datetime>\n                <input-search #tipoModalidade [size]=\"6\" controlName=\"tipo_modalidade_id\" [dao]=\"tipoModalidadeDao\"  required></input-search>\n            </div>\n            <ng-container *ngIf=\"tipoModalidade!.selectedEntity?.plano_trabalho_calcula_horas\">\n                <div class=\"row\">\n                    <input-workload [size]=\"4\" [unit]=\"formaContagemCargaHoraria\" label=\"Carga Horária\" icon=\"bi bi-hourglass-split\" controlName=\"carga_horaria\" [control]=\"form!.controls.carga_horaria\" [unitChange]=\"onFormaContagemCargaHorariaChange.bind(this)\" (change)=\"onCargaHorariaChenge($event)\" labelInfo=\"Carga horária do usuário (Máx.: diária 24 horas; semana 24*5=240 horas; mensal 24*20=480 horas)\"  required></input-workload>\n                    <input-timer onlyHours disabled [size]=\"4\" label=\"Horas Totais\" icon=\"bi bi-clock\" controlName=\"tempo_total\" [control]=\"form!.controls.tempo_total\" labelInfo=\"Horas úteis de trabalho no período de vigência considerando a carga horária, feriados e fins de semana\"></input-timer>\n                    <input-timer onlyHours disabled [size]=\"4\" label=\"Horas Parciais\" icon=\"bi bi-clock\" controlName=\"tempo_proporcional\" [control]=\"form!.controls.tempo_proporcional\" labelInfo=\"Total de horas menos os afastamentos.\"></input-timer>\n                </div>\n                <separator *ngIf=\"horasTotais\" title=\"Cálculos das horas totais\" collapse>\n                    <calendar-efemerides [efemerides]=\"horasTotais\" [partial]=\"false\"></calendar-efemerides>\n                </separator>\n                <separator *ngIf=\"horasParciais\" title=\"Cálculos das horas parciais\" collapse>\n                    <calendar-efemerides [efemerides]=\"horasParciais\"></calendar-efemerides>\n                </separator>\n            </ng-container>\n            <separator [title]=\"lex.translate('Entregas') + lex.translate('do plano de trabalho')\">\n                <top-alert *ngIf=\"!form!.controls.programa_id.value?.length || !form!.controls.unidade_id.value?.length\" type=\"warning\" [message]=\"'Antes de incluir ' + lex.translate('entrega') + ' neste ' + lex.translate('Plano de Trabalho') + ', é necessário selecionar ' + lex.translate('a Unidade') + ' e ' + lex.translate('o Programa') + '!'\"></top-alert>\n                <div *ngIf=\"form!.controls.programa_id.value?.length && form!.controls.unidade_id.value?.length\">\n                    <plano-trabalho-list-entrega noPersist [entity]=\"entity\"></plano-trabalho-list-entrega>\n                </div>\n            </separator>\n        </tab>\n        <!--tab key=\"ENTREGAS\" [label]=\"lex.translate('Entrega', true)\">\n            <top-alert *ngIf=\"!form!.controls.plano_entrega_id.value?.length\" type=\"warning\" [message]=\"'Antes de incluir ' + lex.translate('entrega',true) + ' neste ' + lex.translate('Plano de Trabalho') + ', é necessário selecionar um ' + lex.translate('Plano de Entregas') + '!'\"></top-alert>\n            <div *ngIf=\"form!.controls.plano_entrega_id.value?.length\">\n                <editable-form [form]=\"formEntregas!\"  [noButtons]=\"'true'\">\n                    <plano-trabalho-list-entrega noPersist [entity]=\"entity\" [entregasDoPlanoEntrega]=\"entregas\"></plano-trabalho-list-entrega>\n                </editable-form>\n            </div>\n        </tab//-->\n        <tab *ngIf=\"checkFilled(['usuario_id'])\" key=\"MENSAGENS\" label=\"Texto Complementar\">\n            <separator [title]=\"'Texto complementar da '+ lex.translate('unidade')\">\n                <input-switch controlName=\"editar_texto_complementar_unidade\" [size]=\"12\" scale=\"small\" labelPosition=\"right\" [label]=\"'Editar texto complementar na '+ lex.translate('unidade')\"></input-switch>\n                <input-editor controlName=\"unidade_texto_complementar\" [disabled]=\"form!.controls.editar_texto_complementar_unidade.value ? undefined : 'true'\" [dataset]=\"planoDataset\"></input-editor>\n            </separator>\n            <separator title=\"Texto complementar do usuario\">\n                <input-switch controlName=\"editar_texto_complementar_usuario\" [size]=\"12\" scale=\"small\" labelPosition=\"right\" [label]=\"'Editar texto complementar do '+ lex.translate('usuário')\"></input-switch>\n                <input-editor controlName=\"usuario_texto_complementar\" [disabled]=\"form!.controls.editar_texto_complementar_usuario.value ? undefined : 'true'\" [dataset]=\"planoDataset\"></input-editor>\n            </separator>\n        </tab>\n        <tab *ngIf=\"checkFilled(['usuario_id', 'programa_id', 'tipo_modalidade_id'])\" key=\"TERMO\" label=\"Termo\">\n            <!--top-alert *ngIf=\"!isTermos\" type=\"warning\" message=\"Para [INSERIR] ou [ASSINAR] termos escolha opção Termos de adesão na tela de listagem, ou utilize o Sei\"></top-alert/-->\n            <div clss=\"row\">\n                <documentos #documentos [entity]=\"entity\" noPersist [cdRef]=\"cdRef\" [needSign]=\"planoTrabalhoService.needSign\" [extraTags]=\"planoTrabalhoService.extraTags\" especie=\"TCR\" \n                    [editingId]=\"editingId\" [datasource]=\"datasource\" [template]=\"programa?.selectedEntity?.template_tcr\"></documentos>\n            </div>\n        </tab>\n    </tabs>\n</editable-form>\n","import { Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { AccordionComponent } from 'src/app/components/accordion/accordion.component';\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\n\n@Component({\n  selector: 'plano-trabalho-list-accordeon',\n  templateUrl: './plano-trabalho-list-accordeon.component.html',\n  styleUrls: ['./plano-trabalho-list-accordeon.component.scss']\n})\nexport class PlanoTrabalhoListAccordeonComponent extends PageFrameBase {\n  @ViewChild('accordion', { static: false }) public accordion?: AccordionComponent;\n  @Input() usuarioId?: string;\n  @Input() set arquivados(value: boolean) {\n    if(this._arquivados != value) {\n      this._arquivados = value;\n      if(this.viewInit) this.loadData(this.entity!, this.form);\n    }\n  }\n  get arquivados(): boolean {\n    return this._arquivados;\n  }\n\n  public selectedIndex: number = -1;\n  public dao?: PlanoTrabalhoDaoService;\n  public planos: PlanoTrabalho[] = [];\n\n  private _arquivados: boolean = false;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.dao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\n  }\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    (async () => {\n      await this.loadData(this.entity!, this.form);\n    })();\n  }\n\n  public async loadData(entity: IIndexable, form?: FormGroup) {\n    this.accordion!.loading = true;\n    try {\n      let dados = await this.dao!.getByUsuario(this.usuarioId!, this.arquivados);\n      let agora = (new Date()).getTime();\n      this.planos = dados.planos;\n      for(var i = 0; i < this.planos.length; i++) {\n        if(this.util.asDate(this.planos[i].data_inicio)!.getTime() <= agora && agora >= this.util.asDate(this.planos[i].data_fim)!.getTime() && [\"ATIVO\", \"CONCLUIDO\"].includes(this.planos[i].status)) {\n          this.selectedIndex = i;\n        }\n      }\n    } finally {\n      this.accordion!.loading = false;\n      this.cdRef.detectChanges();\n    }\n  }\n\n}\n","<accordion #accordion [items]=\"planos\" [selectedIndex]=\"selectedIndex\" [titleTemplate]=\"planoTrabalhoSectionTitle\" [template]=\"planoTrabalhoSection\">\n    <ng-template let-item=\"item\" #planoTrabalhoSectionTitle>\n        <div class=\"row w-100\">\n            <div class=\"col-md-1\">{{'#' + item.numero}}</div>\n            <div class=\"col-md-5\">\n                <badge [icon]=\"entityService.getIcon('Unidade')\" [label]=\"item.unidade?.sigla\" color=\"light\" [hint]=\"lex.translate('Unidade') + ': ' + item.unidade?.nome\"></badge>\n                <badge [icon]=\"entityService.getIcon('Programa')\" [label]=\"item.programa?.nome\" color=\"light\" [hint]=\"lex.translate('Programa')\"></badge>\n                <badge [icon]=\"entityService.getIcon('TipoModalidade')\" [label]=\"item.tipo_modalidade?.nome\" color=\"light\" [hint]=\"lex.translate('Tipo de modalidade')\"></badge>\n            </div>\n            <div class=\"col-md-4\">\n                {{dao!.getDateFormatted(item.data_inicio)+\" até \"+dao!.getDateFormatted(item.data_fim)}}\n            </div>\n            <div class=\"col-md-2\">\n                <badge [label]=\"lookup.getValue(lookup.PLANO_TRABALHO_STATUS, item.status)\" [icon]=\"lookup.getIcon(lookup.PLANO_TRABALHO_STATUS, item.status)\" [color]=\"lookup.getColor(lookup.PLANO_TRABALHO_STATUS, item.status)\"></badge>\n            </div>\n        </div>\n    </ng-template>\n    <ng-template let-item=\"item\" #planoTrabalhoSection>\n        <plano-trabalho-consolidacao-list [entity]=\"item\"></plano-trabalho-consolidacao-list>\n    </ng-template>\n</accordion>","import { ChangeDetectorRef, Component, Injector, Input, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { PlanoTrabalhoEntrega } from 'src/app/models/plano-trabalho-entrega.model';\nimport { PlanoTrabalhoEntregaDaoService } from 'src/app/dao/plano-trabalho-entrega-dao.service';\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\nimport { PlanoEntregaDaoService } from 'src/app/dao/plano-entrega-dao.service';\nimport { PlanoEntregaEntregaDaoService } from 'src/app/dao/plano-entrega-entrega-dao.service';\nimport { PlanoEntrega } from 'src/app/models/plano-entrega.model';\nimport { PlanoTrabalhoService } from '../plano-trabalho.service';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { PlanoEntregaEntrega } from 'src/app/models/plano-entrega-entrega.model';\n\n@Component({\n  selector: 'plano-trabalho-list-entrega',\n  templateUrl: './plano-trabalho-list-entrega.component.html',\n  styleUrls: ['./plano-trabalho-list-entrega.component.scss']\n})\nexport class PlanoTrabalhoListEntregaComponent extends PageFrameBase {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  @ViewChild('origem', { static: false }) public origem?: InputSelectComponent;\n  @ViewChild('planoEntrega', { static: false }) public planoEntrega?: InputSearchComponent;\n  @ViewChild('entrega', { static: false }) public entrega?: InputSelectComponent;\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\n  @Input() set entity(value: PlanoTrabalho | undefined) { super.entity = value; } get entity(): PlanoTrabalho | undefined { return super.entity; }\n  @Input() set disabled(value: boolean) { if (this._disabled != value) this._disabled = value; } get disabled(): boolean { return this._disabled; }\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\n  @Input() cdRef: ChangeDetectorRef;\n\n  public get items(): PlanoTrabalhoEntrega[] {\n    if (!this.gridControl.value) this.gridControl.setValue(new PlanoTrabalho());\n    if (!this.gridControl.value.entregas) this.gridControl.value.entregas = [];\n    return this.gridControl.value.entregas;\n  }\n  public options: ToolbarButton[] = [];\n  public planoTrabalhoDao?: PlanoTrabalhoDaoService;\n  public planoEntregaDao?: PlanoEntregaDaoService;\n  public peeDao?: PlanoEntregaEntregaDaoService;\n  public planoTrabalhoService: PlanoTrabalhoService;\n  public totalForcaTrabalho: number = 0;\n  public entregas: LookupItem[] = [];\n\n  private _disabled: boolean = false;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.dao = injector.get<PlanoTrabalhoEntregaDaoService>(PlanoTrabalhoEntregaDaoService);\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\n    this.planoEntregaDao = injector.get<PlanoEntregaDaoService>(PlanoEntregaDaoService);\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\n    this.peeDao = injector.get<PlanoEntregaEntregaDaoService>(PlanoEntregaEntregaDaoService);\n    this.join = [\"entrega\", \"plano_entrega_entrega.entrega\", \"plano_entrega_entrega.plano_entrega:id,unidade_id\", \"plano_entrega_entrega.plano_entrega.unidade:id,sigla\"];\n    this.form = this.fh.FormBuilder({\n      origem: { default: null },\n      orgao: { default: null },\n      descricao: { default: \"\" },\n      forca_trabalho: { default: 1 },\n      plano_trabalho_id: { default: null },\n      plano_entrega_id: { default: null },\n      plano_entrega_entrega_id: { default: null }\n    }, this.cdRef, this.validate);\n  }\n\n  /**\n   * Método chamado para a validação dos campos do formulário, por ocasião da edição ou inserção de itens.\n   * @param control \n   * @param controlName \n   * @returns \n   */\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if (['descricao', 'forca_trabalho'].indexOf(controlName) >= 0 && !control.value?.length) result = \"Obrigatório!\";\n    if (['forca_trabalho'].indexOf(controlName) >= 0 && (control.value < 1 || control.value > 100)) result = \"Deve estar entre 1 e 100\";\n    if (['plano_entrega_entrega_id'].indexOf(controlName) >= 0) {\n      if (['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(this.form?.controls.origem.value) && !control.value) result = \"Obrigatório!\";\n      if (!!this.entity?.entregas?.filter(e => !!e.plano_entrega_entrega_id && e.id != this.grid?.editing?.id).find(x => x.plano_entrega_entrega_id == control.value)) result = \"Esta entrega está em duplicidade!\"; /* (*2) */\n    }\n    return result;\n  }\n\n  public validateEntregas(): string | undefined {\n    let planoInterval = {start: this.entity!.data_inicio, end: this.entity!.data_fim};\n    for(let entrega of this.items) {\n      let entregaPlano = entrega.plano_entrega_entrega;\n      // valida as datas das entregas quando vinculado a uma entrega do plano de entrega\n      if(entregaPlano) {\n        let entregaDataFim = entregaPlano!.data_fim ? entregaPlano!.data_fim : (entregaPlano!.data_inicio.getTime() <= this.entity!.data_fim.getTime() ? this.entity!.data_fim : undefined);\n        let entregaInterval = {start: entregaPlano!.data_inicio, end: entregaPlano!.data_fim || entregaPlano!.data_inicio};\n        if(!entregaDataFim || !this.util.intersection([entregaInterval, planoInterval])) {\n          return this.lex.translate(\"Entrega\") + \" \" + entregaPlano!.descricao + \" possui datas incompatíveis (início \" + \n            this.util.getDateFormatted(entregaPlano!.data_inicio) + (entregaPlano!.data_fim ? \"e fim \" + this.util.getDateFormatted(entregaPlano!.data_fim) : \"\") + \")\";\n        }\n      }\n    }\n    return undefined;\n  }\n\n  /**\n   * Método chamado na inicialização do componente. Neste momento são carregadas as entregas do catálogo e as entregas da mesma unidade do plano de trabalho,\n   * visto que esses itens não se alteram durante a vida do componente e poderão ser utilizados durante sua utilização.\n   */\n  async ngOnInit() {\n    super.ngOnInit();\n    this.entity = this.metadata?.entity || this.entity;\n    this.totalForcaTrabalho = Math.round(this.somaForcaTrabalho(this.entity?.entregas) * 100) / 100;\n    this.entity!._metadata = this.entity!._metadata || {};\n    this.entity!._metadata.novaEntrega = undefined;\n  }\n\n  /**\n   * Método chamado para inserir uma entrega de plano de trabalho no grid, seja este componente persistente ou não.\n   * @returns \n   */\n  public async addEntrega() {\n    return Object.assign(new PlanoTrabalhoEntrega(), {\n      _status: \"ADD\",\n      id: this.dao!.generateUuid(),\n      plano_trabalho_id: this.entity?.id\n    }) as IIndexable;\n  }\n\n  /**\n   * Método utilizado durante a inclusão/alteração de uma entrega de plano de trabalho no grid, seja este componente persistente ou não\n   * @param form \n   * @param row \n   */\n  public async loadEntrega(form: FormGroup, row: any) {\n    let entrega: PlanoTrabalhoEntrega = row;\n    form.controls.descricao.setValue(row.descricao);\n    form.controls.forca_trabalho.setValue(row.forca_trabalho);\n    form.controls.plano_trabalho_id.setValue(row.plano_trabalho_id);\n    form.controls.plano_entrega_entrega_id.setValue(null);\n    form.controls.orgao.setValue(null);\n    if (entrega._status == \"ADD\") { // É uma nova entrega\n      form.controls.origem.setValue('PROPRIA_UNIDADE');\n    } else if (entrega.plano_entrega_entrega?.plano_entrega?.unidade_id == this.entity!.unidade_id) {\n      form.controls.origem.setValue('PROPRIA_UNIDADE');\n      await this.carregarEntregas(entrega.plano_entrega_entrega.plano_entrega_id!);\n      form.controls.plano_entrega_entrega_id.setValue(entrega.plano_entrega_entrega_id);\n    } else if (entrega.plano_entrega_entrega) {\n      form.controls.origem.setValue('OUTRA_UNIDADE');\n      await this.carregarEntregas(entrega.plano_entrega_entrega.plano_entrega_id!);\n      form.controls.plano_entrega_entrega_id.setValue(entrega.plano_entrega_entrega_id);\n    } else if (!!entrega.orgao?.length) { \n      form.controls.origem.setValue('OUTRO_ORGAO');\n      form.controls.orgao.setValue(entrega.orgao);\n    } else {\n      form.controls.origem.setValue('SEM_ENTREGA');\n    }\n  }\n\n  /**\n   * Método chamado para a exclusão de uma entrega de plano de trabalho do grid, seja este componente persistente ou não. \n   * @param row \n   * @returns \n   */\n  public async removeEntrega(row: any) {\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\n    if (confirm) {\n      this.loading = true;\n      try {\n        this.isNoPersist ? Object.assign(row, { _status: \"DELETE\" }) : await this.dao?.delete(row.id);\n      } finally {\n        this.loading = false;\n      }\n      this.totalForcaTrabalho = Math.round((this.totalForcaTrabalho - ((row as PlanoTrabalhoEntrega).forca_trabalho * 1)) * 100) / 100;\n      return this.isNoPersist ? false : true; // (*3)\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Método chamado no salvamento de uma entrega do plano de trabalho do grid, seja este componente persistente ou não.\n   * @param form \n   * @param row \n   * @returns \n   */\n  public async saveEntrega(form: FormGroup, row: any) {\n\n    this.entity!._metadata = this.entity!._metadata || {};\n    this.entity!._metadata.novaEntrega = row as PlanoTrabalhoEntrega;\n    this.entity!._metadata.novaEntrega.plano_entrega_entrega_id = this.form?.controls.plano_entrega_entrega_id.value;\n    this.entity!._metadata.novaEntrega.orgao = this.form?.controls.orgao.value;\n    this.entity!._metadata.novaEntrega.descricao = this.form?.controls.descricao.value;\n    this.entity!._metadata.novaEntrega.forca_trabalho = this.form?.controls.forca_trabalho.value;\n    this.loading = true;\n    try {\n      if (!this.isNoPersist) {\n        this.entity!._metadata.novaEntrega = await (this.dao as PlanoTrabalhoEntregaDaoService).save(this.entity!._metadata.novaEntrega, this.join);\n        // TODO: Verificar isso (Foi feito uma modificação no grid para isso não ser mais necessário)\n        // if (this.grid?.adding) this.grid!.items[this.grid!.items.length - 1].id = '';  // (*4)\n      }\n    } catch (e: any) {\n      this.error(e.message ? e.message : e.toString() || e);\n    } finally {\n      this.entity!._metadata.novaEntrega.plano_entrega_entrega = this.entrega?.selectedItem?.data || null;\n      row.forca_trabalho = this.form?.controls.forca_trabalho.value * 1;\n      this.totalForcaTrabalho = Math.round(this.somaForcaTrabalho(this.entity?.entregas) * 100) / 100;\n      this.loading = false;\n    }\n    return this.entity!._metadata.novaEntrega;\n  }\n\n  /**\n   * Método chamado para somar os percentuais das forças de trabalho do array de entregas passado como parâmetro.\n   * @param entregas Array de entregas do plano de trabalho\n   * @returns \n   */\n  public somaForcaTrabalho(entregas: PlanoTrabalhoEntrega[] = []): number {\n    return entregas.map(x => x.forca_trabalho * 1).reduce((a, b) => a + b, 0);\n  }\n\n  /**\n   * Método chamado para carregar as entregas da unidade\n   * @param idPlanoOuPlano ID do plano de entregas ou o seu objeto completo.\n   */\n  public async carregarEntregas(idPlanoOuPlano: string | PlanoEntrega): Promise<void> {\n    let planoEntrega = typeof idPlanoOuPlano == 'string' ? await this.planoEntregaDao!.getById(idPlanoOuPlano, [\"entregas.entrega:id,nome\", \"unidade\"]) : idPlanoOuPlano;\n    let planoEntregaComUnidade = {id: planoEntrega?.id, unidade_id: planoEntrega?.unidade_id, unidade: planoEntrega?.unidade};\n    this.entregas = planoEntrega?.entregas.map(epe => Object.assign({}, { key: epe.id, value: epe.entrega?.nome || epe.descricao, data: Object.assign(epe, {plano_entrega: planoEntregaComUnidade}) })) || [];\n    if(!this.entregas.find(x => x.key == this.form!.controls.plano_entrega_entrega_id.value)) this.form!.controls.plano_entrega_entrega_id.setValue(null);\n  }\n\n  /* ---------  TRATAMENTO DOS EVENTOS ----------- */\n\n  public async onOrigemChange(row: any) {\n    let value = this.form!.controls.origem.value;\n    this.cdRef.detectChanges();\n    if (value == 'OUTRO_ORGAO') {\n      this.form?.controls.plano_entrega_entrega_id.setValue(null);\n    } else if(value == 'SEM_ENTREGA') {\n      this.form?.controls.orgao.setValue(null);\n      this.form?.controls.plano_entrega_entrega_id.setValue(null);\n    } if (value == 'PROPRIA_UNIDADE') {\n      this.form?.controls.orgao.setValue(null);\n      this.loading = true;\n      try {\n        let planosEntregas = await this.planoEntregaDao!.query({where: [[\"unidade_id\", \"==\", this.entity!.unidade_id], [\"status\", \"==\", \"ATIVO\"], [\"data_inicio\", \"<=\", this.entity!.data_fim], [\"data_fim\", \">=\", this.entity!.data_inicio]]}).asPromise();\n        if(planosEntregas.length == 1) {\n          this.form?.controls.plano_entrega_id.setValue(planosEntregas[0].id);\n        } else if(this.planoEntrega?.selectedEntity?.unidade_id != this.entity!.unidade_id) {\n          this.planoEntrega?.onSelectClick(new Event(\"SELECT\"));\n        }\n      } finally {\n        this.loading = false;\n      }\n    } if (value == 'OUTRA_UNIDADE') {\n      this.form?.controls.orgao.setValue(null);\n      this.planoEntrega?.onSelectClick(new Event(\"SELECT\"));\n    }\n  }\n\n  public onPlanoEntregaChange(event: Event) {\n    let planoEntrega = this.planoEntrega?.selectedEntity as PlanoEntrega;\n    this.carregarEntregas(planoEntrega);\n  }\n\n  public onEntregaChange(event: Event) {\n    let entrega = this.entrega!.selectedItem?.data as PlanoEntregaEntrega;\n    if(!this.form!.controls.descricao.value?.length) {\n      this.form!.controls.descricao.setValue(entrega?.descricao || \"\");\n    }\n  }\n\n  public onForcaTrabalhoChange(row: any) {\n    let index = this.items.findIndex(x => x[\"id\"] == row[\"id\"]);\n    this.totalForcaTrabalho = Math.round((this.somaForcaTrabalho(this.grid?.items as PlanoTrabalhoEntrega[]) - (this.items[index].forca_trabalho * 1) + (this.form?.controls.forca_trabalho.value * 1)) * 100) / 100;\n  }\n}\n\n/*\nTESTES\n\n                                                  GRID PERSISTENTE                      GRID NÃO-PERSISTENTE\n                                              Fluxo Feliz    Validações                Fluxo Feliz    Validações\nInclusão Entrega Catálogo                          \nInclusão Entrega Mesma Unidade                     \nInclusão Entrega Outra Unidade                     \nAlteração Entrega Catálogo                         \nAlteração Entrega Mesma Unidade                    \nAlteração Entrega Outra Unidade                    \nCancelamento Entrega Catálogo                      \nCancelamento Entrega Mesma Unidade                 \nCancelamento Entrega Outra Unidade                 \nExclusão Entrega Catálogo                          \nExclusão Entrega Mesma Unidade                     \nExclusão Entrega Outra Unidade                     \n\n*/\n\n/*\nOBSERVAÇÕES:\n\n(*2)  this.entity?.entregas?.filter(e => !!e.plano_entrega_entrega_id && e.id != this.grid?.editing?.id).find(x => x.plano_entrega_entrega_id == control.value)\nFiltra as entregas da mesma unidade do plano de trabalho excluindo a entrega que está sendo editada. Em seguida conta aquelas que possuem o mesmo ID da que está sendo editada e dessa forma o resultado deve ser igual a 0, caso contrário a entrega editada\njá existe no grid.\n\n(*3)  return this.isNoPersist ? false : true;\nApós confirmada a remoção pelo usuário, a entrega é setada com _status = \"DELETE\" e é excluída da tela e sua confirmação é retornada para o método onDeleteItem() do gridComponent, que a excluirá também dos items do grid.\nEntretanto, quando se trata de um grid não persistente, ela não deve ser excluída dos items do grid, pois sua exclusão só se efetivará quando entity for salva, levando\ntodas as suas entregas para o back-end, que finalmente excluirá as que possuírem _status = \"DELETE\".\n\n(*4)  if(this.grid?.adding) this.grid!.items[this.grid!.items.length-1].id = '';\nNo caso de o componente ser 'persistente', essa linha apaga o ID que foi criado pelo banco de dados permitindo ao método saveItem do grid.component localizá-lo na sua lista de items para atualizar suas informações na tela.\n\n(*5)  if(!this.entity?.id?.length) return this.entregasPlanoEntrega;\nQuando o componente for chamado por um plano de trabalho (entity) que já existe, não poderá haver alteração no seu plano de entregas, portanto as entregas da mesma unidade do plano de trabalho serão lidas\nna própria entity. No entanto, quando o plano de trabalho (entity) ainda não existir (!this.entity?.id?.length), essas entregas vão variar de acordo com o plano de entregas\nselecionado no inputSelectComponent, e portanto elas serão lidas na variável que reflete essa escolha (this.entregasPlanoEntrega), e essa reflexão ocorre por causa do bind @Input() set/get entregasPlanoEntrega.\n\n\n----------------------+--------------------------------------+----------------------------+--------+------------------------------------\nID do Plano           |       Pode ser que a 'row'           |  Características           | inputs | entrega_id \nde Trabalho           |                                      |                            | search | plano_entrega_entrega_id\n----------------------+--------------------------------------+----------------------------+--------+------------------------------------\n                      | - Já tenha vindo do banco (TIPO I)   |                            | nenhum | um dos dois\n                      |   (foi carregada junto com o Plano)  |                            |        |\n                      |--------------------------------------+----------------------------+--------+------------------------------------\n  EXISTE              | - Tenho sido salva agora no banco    |                            | um dos | um dos dois\n  - Então o Grid é    |   (TIPO II)                          |                            | três   |\n    Persistente       |--------------------------------------+----------------------------+--------+------------------------------------\n                      | - Esteja sendo criada agora          | addEntrega loadEntrega     | um dos | nenhum\n                      |                                      |                            | três   |\n                      |--------------------------------------+----------------------------+--------+------------------------------------     \n                      | - Seja do TIPO I e esteja sendo      | loadEntrega                | um dos | um dos dois\n                      |   editada agora                      |                            | três   |\n                      +--------------------------------------+----------------------------+--------+------------------------------------\n                      | - Seja do TIPO II e esteja sendo     | loadEntrega                | um dos | um dos dois\n                      |   editada agora                      |                            | três   |\n----------------------+--------------------------------------+----------------------------+--------+------------------------------------\n  NÃO                 | - Já exista nos itens do grid        |                            | nenhum | um dos dois\n  EXISTE              |   (foi salva agora, não no banco)    | Possui _status == \"ADD\"    |        |\n  - Então o Grid é    |--------------------------------------+----------------------------+--------+------------------------------------\n    Não-persistente   | - Esteja sendo criada agora          | Possui _status == \"ADD\"    | um dos | nenhum\n                      |                                      | addEntrega loadEntrega     | três   |\n                      |--------------------------------------+----------------------------+--------+------------------------------------\n                      | - Tenha acabado de ser criada e      | Possui _status == \"ADD\"    | um dos | um dos dois\n                      |   já está sendo editada              | loadEntrega                | três   |\n------------------------------------------------------------------------------------------+--------+------------------------------------\n(*) O ADD é inserido pelo método addEntrega e só sai quando persiste no banco e volta\n\n*/","<editable-form noButtons noMargin [form]=\"form!\" [disabled]=\"formDisabled\">\n    <div class=\"row m-0 p-0\">\n        <grid [items]=\"items\" [form]=\"form!\" noMargin #gridEntregas editable [selectable]=\"false\" [minHeight]=\"items.length > 2 ? 0 : 220\" [join]=\"join\" [groupBy]=\"groupBy\"\n            [add]=\"addEntrega.bind(this)\" [remove]=\"removeEntrega.bind(this)\" [save]=\"saveEntrega.bind(this)\" [load]=\"loadEntrega.bind(this)\"\n            [hasDelete]=\"true\" [hasEdit]=\"true\" [hasAdd]=\"!disabled\">\n            <columns>\n                <column [titleTemplate]=\"titleOrigem\" [template]=\"columnOrigem\" [editTemplate]=\"editOrigem\" [verticalAlign]=\"'middle'\" [width]=\"300\" [align]=\"'center'\">\n                    <ng-template let-header=\"header\" #titleOrigem><div class=\"text-center\"><span><strong>Origem</strong></span></div></ng-template>\n                    <ng-template let-row=\"row\" #columnOrigem>\n                        <div class=\"w-100 d-flex justify-content-center\">\n                            <div class=\"one-per-line\">\n                                <badge [label]=\"planoTrabalhoService.tipoEntrega(row, entity).titulo\" [color]=\"planoTrabalhoService.tipoEntrega(row, entity).cor\"></badge>\n                                <badge *ngIf=\"row.plano_entrega_entrega_id?.length\" [label]=\"row.plano_entrega_entrega?.plano_entrega?.unidade?.sigla || 'Desconhecido'\" [icon]=\"entityService.getIcon('Unidade')\" color=\"primary\"></badge>\n                                <badge *ngIf=\"row.orgao?.length\" [label]=\"row.orgao\" icon=\"bi bi-box-arrow-down-left\" color=\"warning\"></badge>\n                            </div>\n                        </div>\n                    </ng-template>\n                    <ng-template let-row=\"row\" #editOrigem>\n                        <input-select #origem controlName=\"origem\" controlName=\"origem\" [control]=\"form!.controls.origem\" [items]=\"lookup.ORIGENS_ENTREGAS_PLANO_TRABALHO\" (change)=\"onOrigemChange(row)\"></input-select>\n                        <input-search *ngIf=\"['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(origem?.value)\" label #planoEntrega [placeholder]=\"'Selecione o ' + lex.translate('Plano de entrega')\" [join]=\"['entregas.entrega:id,nome', 'unidade']\" [where]=\"origem?.value == 'PROPRIA_UNIDADE' ? [['unidade_id', '==', entity?.unidade_id]] : undefined\" [selectParams]=\"origem?.value == 'PROPRIA_UNIDADE' ? {filter: {unidade_id: entity?.unidade_id}} : undefined\" controlName=\"plano_entrega_id\" [dao]=\"planoEntregaDao\" (change)=\"onPlanoEntregaChange($event)\"></input-search>\n                        <input-text *ngIf=\"origem?.value == 'OUTRO_ORGAO'\" #orgao controlName=\"orgao\" placeholder=\"Órgão\"></input-text>\n                    </ng-template>\n                </column>\n                <column [maxWidth]=\"350\" [titleTemplate]=\"titleEntrega\" [template]=\"columnEntrega\" [editTemplate]=\"editEntrega\" [verticalAlign]=\"'middle'\">\n                    <ng-template let-header=\"header\" #titleEntrega><span><strong>Entrega</strong></span></ng-template>\n                    <ng-template let-row=\"row\" #columnEntrega>\n                        <small>{{ planoTrabalhoService.tipoEntrega(row, entity).nome }}</small>\n                        <div *ngIf=\"['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(planoTrabalhoService.tipoEntrega(row, entity).tipo)\" class=\"w-100\">\n                            <badge color=\"light\" icon=\"bi bi-box-arrow-in-right\" [label]=\"util.getDateFormatted(row.plano_entrega_entrega?.data_inicio)\" hint=\"Data de início\"></badge>\n                            <badge color=\"light\" icon=\"bi bi-box-arrow-right\" [label]=\"util.getDateFormatted(row.plano_entrega_entrega?.data_fim)\" hint=\"Data de término\"></badge>\n                        </div>\n                    </ng-template>\n                    <ng-template let-row=\"row\" #editEntrega>\n                        <input-select *ngIf=\"['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(origem?.value)\" #entrega nullable itemNull=\"- Selecione -\" controlName=\"plano_entrega_entrega_id\" [control]=\"form!.controls.plano_entrega_entrega_id\" [items]=\"entregas\" (change)=\"onEntregaChange($event)\"></input-select>\n                        <div *ngIf=\"entrega?.selectedItem\" class=\"w-100\">\n                            <badge color=\"light\" icon=\"bi bi-box-arrow-in-right\" [label]=\"util.getDateFormatted(entrega!.selectedItem!.data!.data_inicio)\" hint=\"Data de início\"></badge>\n                            <badge color=\"light\" icon=\"bi bi-box-arrow-right\" [label]=\"util.getDateFormatted(entrega!.selectedItem!.data!.data_fim)\" hint=\"Data de término\"></badge>\n                        </div>\n                    </ng-template>\n                </column>\n                <column [titleTemplate]=\"titleForcaTrabalho\" [template]=\"columnForcaTrabalho\" [editTemplate]=\"editForcaTrabalho\" [width]=\"125\" [align]=\"'center'\">\n                    <ng-template let-header=\"header\" #titleForcaTrabalho>\n                        <div class=\"text-center\">\n                            <small><strong>% Força Trab.</strong></small><br>\n                            <small><badge icon=\"bi bi-calculator\" [color]=\"totalForcaTrabalho == 100 ? 'success' : 'warning'\" [label]=\"totalForcaTrabalho + '%'\"></badge></small>\n                        </div>\n                    </ng-template>\n                    <ng-template let-row=\"row\" #columnForcaTrabalho><small>{{  row.forca_trabalho + '%' }}</small></ng-template>\n                    <ng-template let-row=\"row\" #editForcaTrabalho><input-text number sufix=\"%\" controlName=\"forca_trabalho\" [control]=\"form!.controls.forca_trabalho\" (change)=\"onForcaTrabalhoChange(row)\"></input-text></ng-template>\n                </column>\n                <column [maxWidth]=\"250\" [titleTemplate]=\"titleDescricao\" [template]=\"columnDescricao\" [editTemplate]=\"editDescricao\" [verticalAlign]=\"'middle'\">\n                    <ng-template let-header=\"header\" #titleDescricao><div class=\"text-center\"><span><strong>Detalhamento/Descrição dos Trabalhos</strong></span></div></ng-template>\n                    <ng-template let-row=\"row\" #columnDescricao><small>{{ row.descricao }}</small></ng-template>\n                    <ng-template let-row=\"row\" #editDescricao><input-text controlName=\"descricao\" [control]=\"form!.controls.descricao\"></input-text></ng-template>\n                </column>\n                <column type=\"options\"></column>\n            </columns>\n        </grid>\n    </div>\n</editable-form>","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AuthGuard } from 'src/app/guards/auth.guard';\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\nimport { PlanoTrabalhoFormTermoComponent } from './plano-trabalho-form-termo/plano-trabalho-form-termo.component';\nimport { PlanoTrabalhoFormComponent } from './plano-trabalho-form/plano-trabalho-form.component';\nimport { PlanoTrabalhoListComponent } from './plano-trabalho-list/plano-trabalho-list.component';\nimport { PlanoTrabalhoListEntregaComponent } from './plano-trabalho-list-entrega/plano-trabalho-list-entrega.component';\nimport { PlanoTrabalhoConsolidacaoComponent } from './plano-trabalho-consolidacao/plano-trabalho-consolidacao.component';\n\nconst routes: Routes = [\n  { path: '', component: PlanoTrabalhoListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Planos de Trabalho\" } },\n  { path: 'new', component: PlanoTrabalhoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Plano de Trabalho\", modal: true } },\n  { path: 'termo', component: PlanoTrabalhoFormTermoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Termo de adesão\", modal: true } },\n  { path: 'consolidacao', component: PlanoTrabalhoConsolidacaoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consolidações\" } },\n  { path: ':id/edit', component: PlanoTrabalhoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição de Plano de Trabalho\", modal: true } },\n  { path: ':id/consult', component: PlanoTrabalhoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Plano de Trabalho\", modal: true } },\n  { path: 'entregaList', component: PlanoTrabalhoListEntregaComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Lista de Entregas do Plano de Trabalho\", modal: true } },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PlanoTrabalhoRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PlanoTrabalhoRoutingModule } from './plano-trabalho-routing.module';\nimport { PlanoTrabalhoFormComponent } from './plano-trabalho-form/plano-trabalho-form.component';\nimport { PlanoTrabalhoListComponent } from './plano-trabalho-list/plano-trabalho-list.component';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { UteisModule } from '../../uteis/uteis.module';\nimport { PlanoTrabalhoFormTermoComponent } from './plano-trabalho-form-termo/plano-trabalho-form-termo.component';\nimport { PlanoTrabalhoListEntregaComponent } from './plano-trabalho-list-entrega/plano-trabalho-list-entrega.component';\nimport { PlanoTrabalhoConsolidacaoComponent } from './plano-trabalho-consolidacao/plano-trabalho-consolidacao.component';\nimport { PlanoTrabalhoConsolidacaoListComponent } from './plano-trabalho-consolidacao-list/plano-trabalho-consolidacao-list.component';\nimport { PlanoTrabalhoListAccordeonComponent } from './plano-trabalho-list-accordeon/plano-trabalho-list-accordeon.component';\nimport { PlanoTrabalhoConsolidacaoFormComponent } from './plano-trabalho-consolidacao-form/plano-trabalho-consolidacao-form.component';\n\n\n@NgModule({\n  declarations: [\n    PlanoTrabalhoFormComponent,\n    PlanoTrabalhoListComponent,\n    PlanoTrabalhoListEntregaComponent,\n    PlanoTrabalhoFormTermoComponent,\n    PlanoTrabalhoConsolidacaoComponent,\n    PlanoTrabalhoConsolidacaoListComponent,\n    PlanoTrabalhoConsolidacaoFormComponent,\n    PlanoTrabalhoListAccordeonComponent\n  ],\n  imports: [\n    CommonModule,\n    ComponentsModule,\n    ReactiveFormsModule,\n    PlanoTrabalhoRoutingModule,\n    UteisModule\n  ]\n})\nexport class PlanoTrabalhoModule { }\n"],"names":["DaoBaseService","PlanoTrabalhoConsolidacaoOcorrenciaDaoService","constructor","injector","dataset","deeps","deepsFilter","i0","ɵɵinject","Injector","factory","ɵfac","providedIn","Base","PlanoTrabalhoConsolidacao","data","data_inicio","Date","data_fim","status","avaliacoes","status_historico","plano_trabalho_id","avaliacao_id","initialization","ChangeDetectorRef","EditableFormComponent","PlanoTrabalhoConsolidacaoDaoService","PageFrameBase","Atividade","PlanoTrabalhoConsolidacaoOcorrencia","PlanoTrabalhoService","TipoAtividadeDaoService","PlanoEntregaService","AtividadeDaoService","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate","row_r20","tipo_atividade","nome","ɵɵtemplate","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_4_small_13_Template","ɵɵtextInterpolate1","numero","ɵɵproperty","usuario","length","ctx_r17","util","apelidoOuNome","demandante","progresso","atividade","descricao","ctx_r26","lex","translate","formAtividade","controls","esforco","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_6_div_1_input_timer_1_Template","ctx_r24","hasEsforco","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_6_div_1_Template","ctx_r19","hasRealizado","ɵɵclassMap","tipo_atividade_id","tipoAtividadeDao","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_4_Template","ɵɵtemplateRefExtractor","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_6_Template","row_r14","atividades","ctx_r4","addAtividade","bind","entrega","loadAtividade","removeAtividade","saveAtividade","_r16","_r18","atividadeDynamicButtons","ctx_r6","planoTrabalhoService","tipoEntrega","row_r27","planoTrabalho","titulo","cor","ctx_r8","row_r28","row_r29","tipo_motivo_afastamento","icone","observacao","PlanoTrabalhoConsolidacaoFormComponent","noPersist","value","control","entity","itemsEntregas","itemsOcorrencias","itemsAfastamentos","validateEntrega","controlName","result","indexOf","validateOcorrencia","includes","isDataValid","getTime","formOcorrencia","cdRef","get","dao","consolidacaoOcorrenciaDao","atividadeDao","ocorrenciaDao","planoEntregaService","fh","FormBuilder","default","realizado","ngAfterViewInit","_this","_asyncToGenerator","loadData","form","_this2","gridEntregas","loading","detectChanges","dados","dadosConsolidacao","id","entregas","map","x","filter","y","plano_trabalho_entrega_id","ocorrencias","afastamentos","tipo_modalidade","atividade_esforco","_this3","generateUuid","plano_trabalho_consolidacao_id","row","_this4","patchValue","_this5","confirm","dialog","delete","splice","findIndex","_this6","undefined","markAllAsTouched","valid","save","push","Object","assign","BUTTON_EDIT","BUTTON_DELETE","addOcorrencia","_this7","loadOcorrencia","_this8","removeOcorrencia","_this9","ocorrencia","saveOcorrencia","_this10","ocorrenciaDynamicButtons","addAfastamento","_this11","go","navigate","route","params","usuarioId","plano_trabalho","usuario_id","filterSnapshot","querySnapshot","modalClose","modalResult","ɵɵdirectiveInject","selectors","viewQuery","PlanoTrabalhoConsolidacaoFormComponent_Query","rf","ctx","PlanoTrabalhoConsolidacaoFormComponent_ng_template_5_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_10_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_13_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_30_Template","entityService","getIcon","_r1","_r3","_r5","_r7","_r11","GridComponent","getDateFormatted","row_r16","row_r17","ctx_r12","lookup","getColor","CONSOLIDACAO_STATUS","row_r19","getValue","PlanoTrabalhoConsolidacaoListComponent","items","consolidacoes","validate","title","code","addConsolidacao","loadConsolidacao","removeConsolidacao","consolidacao","saveConsolidacao","dynamicButtons","PlanoTrabalhoConsolidacaoListComponent_Query","PlanoTrabalhoConsolidacaoListComponent_ng_template_4_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_6_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_9_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_12_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_15_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_18_Template","_r9","TabsComponent","UnidadeDaoService","data_r13","url_foto","apelido","data_r14","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_collapse_card_3_ng_template_1_Template","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_collapse_card_3_ng_template_3_Template","usuario_r8","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_div_2_Template","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_collapse_card_3_Template","ɵɵtextInterpolate2","ctx_r5","unidade","sigla","usuarios","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_Template","ctx_r1","_r4","ctx_r3","arquivados","auth","PlanoTrabalhoConsolidacaoComponent","loadingUnidade","unidadeDao","tabs","active","queryParams","tab","unidadeGestor","lotados","PlanoTrabalhoConsolidacaoComponent_Query","PlanoTrabalhoConsolidacaoComponent_tab_2_Template","PlanoTrabalhoConsolidacaoComponent_ng_template_4_Template","isModal","_r2","DocumentoDaoService","PlanoTrabalhoDaoService","ProgramaDaoService","TipoDocumentoDaoService","TipoModalidadeDaoService","UsuarioDaoService","ListenerAllPagesService","PlanoTrabalho","PageFormBase","NavigateResult","PlanoTrabalhoFormTermoComponent","numero_processo","formValidation","tipoDocumento","selectedEntity","tipo_documento_id","titleEdit","join","programaDao","usuarioDao","tipoDocumentoDao","allPages","tipoModalidadeDao","documentoDao","carga_horaria","tempo_total","tempo_proporcional","programa_id","unidade_id","documento_id","documentos","vinculadas","tipo_modalidade_id","forma_contagem_carga_horaria","onVinculadasChange","event","formValue","fillForm","Promise","all","loadSearch","programa","tipoModalidade","processo","id_processo","hora","initializeData","getById","metadata","saveData","resolve","reject","codigo_tipo_documento","codigo","formaContagemCargaHoraria","forma","PlanoTrabalhoFormTermoComponent_Query","ɵɵlistener","PlanoTrabalhoFormTermoComponent_Template_editable_form_submit_0_listener","onSaveData","PlanoTrabalhoFormTermoComponent_Template_editable_form_cancel_0_listener","onCancel","PlanoTrabalhoFormTermoComponent_Template_input_switch_change_24_listener","$event","formDisabled","ganho_produtividade","DocumentoService","CalendarService","TemplateService","ctx_r10","horasTotais","ctx_r11","horasParciais","ɵɵelementContainerStart","PlanoTrabalhoFormComponent_ng_container_16_Template_input_workload_change_2_listener","ɵɵrestoreView","_r13","ɵɵnextContext","ɵɵresetView","onCargaHorariaChenge","PlanoTrabalhoFormComponent_ng_container_16_separator_5_Template","PlanoTrabalhoFormComponent_ng_container_16_separator_6_Template","ɵɵelementContainerEnd","onFormaContagemCargaHorariaChange","ctx_r7","editar_texto_complementar_unidade","planoDataset","editar_texto_complementar_usuario","ctx_r9","needSign","extraTags","editingId","datasource","template_tcr","PlanoTrabalhoFormComponent","joinPrograma","documentoService","templateService","calendar","modalWidth","unidade_texto_complementar","usuario_texto_complementar","ngOnInit","segment","url","path","action","atualizarTcr","loadEntity","textoUsuario","textoUnidade","documento","setValue","template","_status","isTermos","onUnidadeSelect","selected","entidade","texto_complementar_plano","onProgramaSelect","updateValueAndValidity","calculaTempos","onUsuarioSelect","onDataInicioChange","onDataFimChange","inicio","fim","carga","loadFeriadosCadastrados","then","feriados","calculaDataTempoUnidade","tempoUtil","urlParams","carga_horaria_padrao","plano","fill","submitting","requests","update","responses","onTabSelect","key","documentoDynamicButtons","hint","icon","onClick","signDocumento","html","conteudo","sign","unit","isVigente","PlanoTrabalhoFormComponent_Query","PlanoTrabalhoFormComponent_Template_editable_form_submit_0_listener","PlanoTrabalhoFormComponent_Template_editable_form_cancel_0_listener","PlanoTrabalhoFormComponent_Template_input_search_select_5_listener","PlanoTrabalhoFormComponent_Template_input_search_select_7_listener","PlanoTrabalhoFormComponent_Template_input_search_select_9_listener","PlanoTrabalhoFormComponent_Template_input_datetime_change_12_listener","PlanoTrabalhoFormComponent_Template_input_datetime_change_13_listener","PlanoTrabalhoFormComponent_ng_container_16_Template","PlanoTrabalhoFormComponent_top_alert_18_Template","PlanoTrabalhoFormComponent_div_19_Template","PlanoTrabalhoFormComponent_tab_20_Template","PlanoTrabalhoFormComponent_tab_21_Template","ɵɵpureFunction0","_c11","plano_trabalho_calcula_horas","checkFilled","_c12","_c13","item_r5","ctx_r2","PLANO_TRABALHO_STATUS","item_r6","PlanoTrabalhoListAccordeonComponent","_arquivados","viewInit","selectedIndex","planos","accordion","getByUsuario","agora","i","asDate","PlanoTrabalhoListAccordeonComponent_Query","PlanoTrabalhoListAccordeonComponent_ng_template_2_Template","PlanoTrabalhoListAccordeonComponent_ng_template_4_Template","PlanoTrabalhoEntrega","PlanoTrabalhoEntregaDaoService","PlanoEntregaDaoService","PlanoEntregaEntregaDaoService","row_r26","plano_entrega_entrega","plano_entrega","ctx_r27","orgao","PlanoTrabalhoListEntregaComponent_ng_template_8_badge_3_Template","PlanoTrabalhoListEntregaComponent_ng_template_8_badge_4_Template","plano_entrega_entrega_id","PlanoTrabalhoListEntregaComponent_ng_template_10_input_search_2_Template_input_search_change_0_listener","_r37","ctx_r36","onPlanoEntregaChange","ctx_r33","_c3","_r32","ɵɵpureFunction1","_c5","_c4","_c7","_c6","planoEntregaDao","PlanoTrabalhoListEntregaComponent_ng_template_10_Template_input_select_change_0_listener","restoredCtx","_r40","row_r31","ctx_r39","onOrigemChange","PlanoTrabalhoListEntregaComponent_ng_template_10_input_search_2_Template","PlanoTrabalhoListEntregaComponent_ng_template_10_input_text_3_Template","origem","ORIGENS_ENTREGAS_PLANO_TRABALHO","_c8","ctx_r43","row_r42","PlanoTrabalhoListEntregaComponent_ng_template_15_div_2_Template","tipo","PlanoTrabalhoListEntregaComponent_ng_template_17_input_select_0_Template_input_select_change_0_listener","_r50","ctx_r49","onEntregaChange","ctx_r46","ctx_r47","selectedItem","PlanoTrabalhoListEntregaComponent_ng_template_17_input_select_0_Template","PlanoTrabalhoListEntregaComponent_ng_template_17_div_1_Template","ctx_r14","totalForcaTrabalho","row_r52","forca_trabalho","PlanoTrabalhoListEntregaComponent_ng_template_24_Template_input_text_change_0_listener","_r55","row_r53","ctx_r54","onForcaTrabalhoChange","ctx_r18","row_r57","PlanoTrabalhoListEntregaComponent","disabled","_disabled","gridControl","options","e","grid","editing","find","planoTrabalhoDao","peeDao","plano_entrega_id","validateEntregas","planoInterval","start","end","entregaPlano","entregaDataFim","entregaInterval","intersection","_superprop_getNgOnInit","call","Math","round","somaForcaTrabalho","_metadata","novaEntrega","addEntrega","loadEntrega","carregarEntregas","removeEntrega","isNoPersist","saveEntrega","error","message","toString","reduce","a","b","idPlanoOuPlano","planoEntrega","planoEntregaComUnidade","epe","planosEntregas","query","where","asPromise","onSelectClick","Event","index","PlanoTrabalhoListEntregaComponent_Query","PlanoTrabalhoListEntregaComponent_ng_template_6_Template","PlanoTrabalhoListEntregaComponent_ng_template_8_Template","PlanoTrabalhoListEntregaComponent_ng_template_10_Template","PlanoTrabalhoListEntregaComponent_ng_template_13_Template","PlanoTrabalhoListEntregaComponent_ng_template_15_Template","PlanoTrabalhoListEntregaComponent_ng_template_17_Template","PlanoTrabalhoListEntregaComponent_ng_template_20_Template","PlanoTrabalhoListEntregaComponent_ng_template_22_Template","PlanoTrabalhoListEntregaComponent_ng_template_24_Template","PlanoTrabalhoListEntregaComponent_ng_template_27_Template","PlanoTrabalhoListEntregaComponent_ng_template_29_Template","PlanoTrabalhoListEntregaComponent_ng_template_31_Template","groupBy","_r15","_r17","_r19","_r21","_r23","RouterModule","AuthGuard","ConfigResolver","PlanoTrabalhoListComponent","routes","component","canActivate","config","runGuardsAndResolvers","modal","PlanoTrabalhoRoutingModule","forChild","imports","i1","exports","CommonModule","ComponentsModule","ReactiveFormsModule","UteisModule","PlanoTrabalhoModule","declarations","NgIf","i2","i3","ColumnsComponent","i4","ColumnComponent","i5","FilterComponent","i6","ToolbarComponent","i7","PaginationComponent","i8","InputSwitchComponent","i9","InputSearchComponent","i10","InputTextComponent","i11","InputDatetimeComponent","i12","InputSelectComponent","i13","ReportComponent","i14","OrderComponent","i15","DocumentosBadgeComponent"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}