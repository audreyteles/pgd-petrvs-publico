{"version":3,"file":"796.js","mappings":"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","sources":["./src/app/dao/plano-trabalho-consolidacao-ocorrencia-dao.service.ts","./src/app/models/plano-trabalho-consolidacao.model.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-form/plano-trabalho-consolidacao-form.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-form/plano-trabalho-consolidacao-form.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-list/plano-trabalho-consolidacao-list.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao-list/plano-trabalho-consolidacao-list.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao/plano-trabalho-consolidacao.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-consolidacao/plano-trabalho-consolidacao.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-form-termo/plano-trabalho-form-termo.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-form-termo/plano-trabalho-form-termo.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-form/plano-trabalho-form.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-form/plano-trabalho-form.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-list-accordeon/plano-trabalho-list-accordeon.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-list-accordeon/plano-trabalho-list-accordeon.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-list-entrega/plano-trabalho-list-entrega.component.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho-list-entrega/plano-trabalho-list-entrega.component.html","./src/app/modules/gestao/plano-trabalho/plano-trabalho-routing.module.ts","./src/app/modules/gestao/plano-trabalho/plano-trabalho.module.ts"],"sourcesContent":["import { Injectable, Injector } from '@angular/core';\nimport { DaoBaseService } from './dao-base.service';\nimport { TemplateDataset } from '../modules/uteis/templates/template.service';\nimport { PlanoTrabalhoConsolidacaoOcorrencia } from '../models/plano-trabalho-consolidacao-ocorrencia.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PlanoTrabalhoConsolidacaoOcorrenciaDaoService extends DaoBaseService<PlanoTrabalhoConsolidacaoOcorrencia> {\n\n  constructor(protected injector: Injector) {\n    super(\"PlanoTrabalhoConsolidacaoOcorrencia\", injector);\n  }\n\n  public dataset(deeps?: string[]): TemplateDataset[] {\n    return this.deepsFilter([], deeps);\n  }\n\n}\n\n","import { Avaliacao, HasAvaliacao } from './avaliacao.model';\nimport { Base } from './base.model';\nimport { PlanoTrabalho } from './plano-trabalho.model';\nimport { HasStatus, StatusJustificativa } from './status-justificativa.model';\n\nexport type PlanoTrabalhoConsolidacaoStatus = 'CONCLUIDO' | 'AVALIADO' | 'INCLUIDO';\n\nexport class PlanoTrabalhoConsolidacao extends Base implements HasAvaliacao, HasStatus {\n    public plano_trabalho?: PlanoTrabalho;\n    public avaliacao?: Avaliacao;\n\n    public data_inicio: Date = new Date();\n    public data_fim: Date = new Date();\n    public status: PlanoTrabalhoConsolidacaoStatus = \"INCLUIDO\"; // Status atual da consolidação\n    public avaliacoes: Avaliacao[] = [];\n    public status_historico: StatusJustificativa[] = [];\n\n    public plano_trabalho_id: string = \"\";\n    public avaliacao_id: string | null = null;\n\n    public constructor(data?: any) { super(); this.initialization(data); }\n}","import { ChangeDetectorRef, Component, Injector, Input, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { ConsolidacaoDados, PlanoTrabalhoConsolidacaoDaoService } from 'src/app/dao/plano-trabalho-consolidacao-dao.service';\nimport { PlanoTrabalhoConsolidacaoOcorrenciaDaoService } from 'src/app/dao/plano-trabalho-consolidacao-ocorrencia-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { PlanoTrabalhoConsolidacao } from 'src/app/models/plano-trabalho-consolidacao.model';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\nimport { Atividade, AtividadeChecklist } from 'src/app/models/atividade.model';\nimport { PlanoTrabalhoConsolidacaoOcorrencia } from 'src/app/models/plano-trabalho-consolidacao-ocorrencia.model';\nimport { Afastamento } from 'src/app/models/afastamento.model';\nimport { PlanoTrabalhoEntrega } from 'src/app/models/plano-trabalho-entrega.model';\nimport { BadgeTrabalho, PlanoTrabalhoService } from '../plano-trabalho.service';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { TipoAtividadeDaoService } from 'src/app/dao/tipo-atividade-dao.service';\nimport { PlanoEntregaService } from '../../plano-entrega/plano-entrega.service';\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\nimport { AtividadeOptionsMetadata, AtividadeService } from '../../atividade/atividade.service';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\nimport { CalendarService } from 'src/app/services/calendar.service';\nimport { SelectItem } from 'src/app/components/input/input-base';\nimport { TipoAtividade } from 'src/app/models/tipo-atividade.model';\nimport { Unidade } from 'src/app/models/unidade.model';\nimport { Programa } from 'src/app/models/programa.model';\n\nexport type ConsolidacaoEntrega = {\n  id: string,\n  entrega: PlanoTrabalhoEntrega,\n  badge: BadgeTrabalho,\n  atividades: Atividade[]\n};\n\n@Component({\n  selector: 'plano-trabalho-consolidacao-form',\n  templateUrl: './plano-trabalho-consolidacao-form.component.html',\n  styleUrls: ['./plano-trabalho-consolidacao-form.component.scss']\n})\nexport class PlanoTrabalhoConsolidacaoFormComponent extends PageFrameBase {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @ViewChild('gridEntregas', { static: false }) public gridEntregas?: GridComponent;\n  @ViewChild('gridAtividades', { static: false }) public gridAtividades?: GridComponent;\n  @ViewChild('etiqueta', { static: false }) public etiqueta?: InputSelectComponent;\n  @Input() cdRef: ChangeDetectorRef;\n  @Input() planoTrabalho?: PlanoTrabalho;\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\n  @Input() set entity(value: PlanoTrabalhoConsolidacao | undefined) { super.entity = value; this.bindEntity(); } get entity(): PlanoTrabalhoConsolidacao | undefined { return super.entity; }\n  @Input() set disabled(value: boolean) {\n    if(this._disabled != value || this.atividadeOptionsMetadata.disabled !== value) {\n      this._disabled = value;\n      this.atividadeOptionsMetadata.disabled = value;\n      this.cdRef.detectChanges();\n    }\n  }\n  get disabled(): boolean {\n    return this._disabled;\n  }\n\n  public consolidacaoOcorrenciaDao: PlanoTrabalhoConsolidacaoOcorrenciaDaoService;\n  public ocorrenciaDao: PlanoTrabalhoConsolidacaoOcorrenciaDaoService;\n  public formAtividade: FormGroup;\n  public formOcorrencia: FormGroup;\n  public formEdit: FormGroup;\n  public unidade?: Unidade;\n  public dao: PlanoTrabalhoConsolidacaoDaoService;\n  public atividadeDao: AtividadeDaoService;\n  public atividadeService: AtividadeService;\n  public calendar: CalendarService;\n  public joinAtividade: string[] = ['demandante', 'usuario', 'tipo_atividade', 'comentarios.usuario:id,nome,apelido'];\n  public tipoAtividadeDao: TipoAtividadeDaoService;\n  public planoTrabalhoService: PlanoTrabalhoService;\n  public planoEntregaService: PlanoEntregaService;\n  public itemsEntregas: ConsolidacaoEntrega[] = [];\n  public etiquetas: LookupItem[] = [];\n  public checklist?: AtividadeChecklist[];\n  public itemsOcorrencias: PlanoTrabalhoConsolidacaoOcorrencia[] = [];\n  public itemsAfastamentos: Afastamento[] = [];\n  public atividadeOptionsMetadata: AtividadeOptionsMetadata;\n  public programa?: Programa;\n  \n  private _disabled: boolean = true;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\n    this.dao = injector.get<PlanoTrabalhoConsolidacaoDaoService>(PlanoTrabalhoConsolidacaoDaoService);\n    this.consolidacaoOcorrenciaDao = injector.get<PlanoTrabalhoConsolidacaoOcorrenciaDaoService>(PlanoTrabalhoConsolidacaoOcorrenciaDaoService);\n    this.atividadeDao = injector.get<AtividadeDaoService>(AtividadeDaoService);\n    this.atividadeService = injector.get<AtividadeService>(AtividadeService);\n    this.calendar = injector.get<CalendarService>(CalendarService);\n    this.ocorrenciaDao = injector.get<PlanoTrabalhoConsolidacaoOcorrenciaDaoService>(PlanoTrabalhoConsolidacaoOcorrenciaDaoService);\n    this.tipoAtividadeDao = injector.get<TipoAtividadeDaoService>(TipoAtividadeDaoService);\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\n    this.planoEntregaService = injector.get<PlanoEntregaService>(PlanoEntregaService);\n    this.formAtividade = this.fh.FormBuilder({\n      descricao: { default: \"\" },\n      etiquetas: { default: [] },\n      checklist: { default: [] },\n      comentarios: { default: [] },\n      esforco: { default: 0 },\n      tempo_planejado: { default: 0 },\n      data_distribuicao: {default: new Date()},\n      data_estipulada_entrega: {default: new Date()},\n      data_entrega: {default: new Date()},\n      tipo_atividade_id: {default: null}\n    }, this.cdRef, this.validateAtividade);\n    this.formOcorrencia = this.fh.FormBuilder({\n      data_inicio: { default: new Date() },\n      data_fim: { default: new Date() },\n      descricao: { default: \"\" }\n    }, this.cdRef, this.validateOcorrencia);\n    this.formEdit = this.fh.FormBuilder({\n      progresso: { default: 0 },\n      etiquetas: { default: [] },\n      etiqueta: { default: null }\n    });\n    this.atividadeOptionsMetadata = {\n      refreshId: this.atividadeRefreshId.bind(this),\n      removeId: this.atividadeRemoveId.bind(this),\n      refresh: this.refresh.bind(this)\n    }\n  }\n\n  public refresh() {\n    this.loadData(this.entity!, this.form);\n  }\n\n  public bindEntity() {\n    if(this.entity) {\n      this.entity._metadata = this.entity._metadata || {};\n      this.entity._metadata.planoTrabalhoConsolidacaoFormComponent = this;\n    }\n  }\n\n  public atividadeRefreshId(id: string, atividade?: Atividade) {\n    this.itemsEntregas.forEach(entrega => {\n      let foundIndex = entrega.atividades.findIndex(x => x.id == id);\n      if(foundIndex >= 0) {\n        if(atividade) {\n          entrega.atividades[foundIndex] = atividade;\n        } else {\n          this.atividadeDao.getById(id, this.joinAtividade).then(atividade => { if(atividade) entrega.atividades[foundIndex] = atividade; });\n        }\n      }\n    });\n    this.cdRef.detectChanges();\n  }\n\n  public atividadeRemoveId(id: string) {\n    this.itemsEntregas.forEach(entrega => {\n      let foundIndex = entrega.atividades.findIndex(x => x.id == id);\n      if(foundIndex >= 0) entrega.atividades.splice(foundIndex, 1);\n    });\n    this.cdRef.detectChanges();\n  }\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    (async () => {\n      await this.loadData(this.entity!, this.form);\n    })();\n  }\n\n  public validateAtividade = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if (['descricao'].indexOf(controlName) >= 0 && !control.value?.length) {\n      result = \"Obrigatório\";\n    } else if(['data_distribuicao', 'data_estipulada_entrega', 'data_entrega'].includes(controlName) && !this.util.isDataValid(control.value)) {\n      result = \"Inválido\";\n    } else if(controlName == 'data_estipulada_entrega' && control.value.getTime() < this.formAtividade?.controls.data_distribuicao.value.getTime()) {\n      result = \"Menor que distribuição\";\n    } else if(controlName == 'data_entrega' && control.value.getTime() < this.formAtividade?.controls.data_distribuicao.value.getTime()) {\n      result = \"Menor que distribuição\";\n    }\n    return result;\n  }\n\n  public validateOcorrencia = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if (['descricao'].indexOf(controlName) >= 0 && !control.value?.length) {\n      result = \"Obrigatório\";\n    } else if(['data_inicio', 'data_fim'].includes(controlName) && !this.util.isDataValid(control.value)) {\n      result = \"Inválido\";\n    } else if(controlName == 'data_fim' && control.value.getTime() < this.formOcorrencia?.controls.data_inicio.value.getTime()) {\n      result = \"Menor que início\";\n    } \n    return result;\n  }\n\n  public loadConsolidacao(dados: ConsolidacaoDados) {\n    this.itemsEntregas = dados.entregas.map(x => {\n      x.plano_entrega_entrega!.plano_entrega = dados.planosEntregas.find(pe => pe.id == x.plano_entrega_entrega!.plano_entrega_id);\n      let result = {\n        id: x.id,\n        entrega: x,\n        atividades: dados.atividades.filter(y => y.plano_trabalho_entrega_id == x.id),\n        badge: this.planoTrabalhoService.tipoEntrega(x, dados.planoTrabalho)\n      };\n      return result;\n    });\n    this.programa = dados.programa;\n    this.planoTrabalho = dados.planoTrabalho;\n    this.itemsOcorrencias = dados.ocorrencias;\n    this.itemsAfastamentos = dados.afastamentos;\n    this.unidade = dados.planoTrabalho.unidade || this.entity!.plano_trabalho?.unidade;\n    this.cdRef.detectChanges();\n  }\n\n  public async loadData(entity: IIndexable, form?: FormGroup) {\n    this.gridEntregas!.loading = true;\n    this.cdRef.detectChanges();\n    try {\n      let dados = await this.dao!.dadosConsolidacao(entity.id);\n      this.loadConsolidacao(dados);\n    } finally {\n      this.gridEntregas!.loading = false;\n      this.cdRef.detectChanges();\n    }\n  }  \n  \n  /***************************************************************************************\n  * Atividades \n  ****************************************************************************************/\n  public async addAtividade(entrega: PlanoTrabalhoEntrega) {\n    let planoTrabalho: PlanoTrabalho | undefined = entrega.plano_trabalho || this.entity!.plano_trabalho;\n    let efemerides = this.calendar.calculaDataTempoUnidade(this.entity!.data_inicio, this.entity!.data_fim, planoTrabalho!.carga_horaria, this.unidade!, \"ENTREGA\");\n    const tempoPlanejado = this.calendar.horasUteis(this.entity!.data_inicio, this.entity!.data_fim, planoTrabalho!.carga_horaria, this.unidade!, \"DISTRIBUICAO\");\n    const dataInicio = this.util.setTime(this.entity!.data_inicio, 0, 0, 0);\n    const dataFim = this.util.setTime(this.entity!.data_fim, 23, 59, 59);\n    return new Atividade({\n      id: this.dao!.generateUuid(),\n      plano_trabalho: planoTrabalho,\n      plano_trabalho_entrega: entrega,\n      plano_trabalho_consolidacao: this.entity,\n      demandante: this.auth.usuario,\n      usuario: this.auth.usuario,\n      unidade: this.unidade,\n      data_distribuicao: dataInicio,\n      carga_horaria: planoTrabalho!.carga_horaria,\n      data_estipulada_entrega: dataFim,\n      data_inicio: dataInicio,\n      data_entrega: dataFim,\n      tempo_planejado: tempoPlanejado,\n      tempo_despendido: efemerides?.tempoUtil || 0,\n      status: 'CONCLUIDO',\n      progresso: 100,\n      plano_trabalho_id: this.entity!.plano_trabalho_id,\n      plano_trabalho_entrega_id: entrega.id,\n      plano_trabalho_consolidacao_id: this.entity!.id,\n      demandante_id: this.auth.usuario!.id,\n      usuario_id: this.auth.usuario!.id,\n      unidade_id: this.unidade!.id,\n      metadados: { // Simula os metadados enviados pelo servidor\n        atrasado: false,\n        tempo_despendido: 0,\n        tempo_atraso: 0,\n        pausado: false,\n        iniciado: true,\n        concluido: true,\n        avaliado: false,\n        arquivado: false,\n        produtividade: 0,\n        extra: undefined,\n        _status: []\n      }\n    });\n  }\n\n  public async loadAtividade(form: FormGroup, row: any) {\n    this.formAtividade.patchValue(row);\n    this.cdRef.detectChanges();\n  }\n\n  public async removeAtividade(atividades: Atividade[], row: any) {\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir o item ?\");\n    if (confirm) {\n      try {\n        let atividade = row as Atividade;\n        await this.atividadeDao?.delete(atividade);\n        atividades.splice(atividades.findIndex(x => x.id == atividade.id), 1);\n        return true;\n      } catch {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  public async saveAtividade(form: FormGroup, row: any) {\n    let result = undefined;\n    this.formAtividade.markAllAsTouched();\n    if (this.formAtividade!.valid) {\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\n      this.util.fillForm(row, this.formAtividade!.value);\n      result = await this.atividadeDao?.save(row, this.joinAtividade, ['etiquetas', 'checklist', 'comentarios', 'pausas', 'tarefas']);\n      this.atividadeRefreshId(row.id, result);\n    }\n    return result;\n  }\n\n  public atividadeDynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    result.push(Object.assign({}, this.gridEntregas!.BUTTON_EDIT, {}));\n    result.push(Object.assign({}, this.gridEntregas!.BUTTON_DELETE, {}));\n    return result;\n  }  \n\n  public async onColumnProgressoEtiquetasChecklistEdit(row: any) {\n    this.formEdit.controls.progresso.setValue(row.progresso);\n    this.formEdit.controls.etiquetas.setValue(row.etiquetas);\n    this.formEdit.controls.etiqueta.setValue(null);\n    this.etiquetas = this.util.merge(row.tipo_atividade?.etiquetas, row.unidade?.etiquetas, (a, b) => a.key == b.key);\n    this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\n    this.checklist = this.util.clone(row.checklist);\n  }\n\n  public async onColumnProgressoEtiquetasChecklistSave(row: any) {\n    try {\n      const saved = await this.atividadeDao!.update(row.id, {\n        progresso: this.formEdit.controls.progresso.value,\n        etiquetas: this.formEdit.controls.etiquetas.value,\n        checklist: this.checklist\n      });\n      row.progresso = this.formEdit.controls.progresso.value;\n      row.checklist = this.checklist;\n      return !!saved;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  public onEtiquetaConfigClick() {\n    this.go.navigate({ route: [\"configuracoes\", \"preferencia\", \"usuario\", this.auth.usuario!.id], params: { etiquetas: true } }, {\n      modal: true, modalClose: (modalResult) => {\n        this.etiquetas = this.util.merge(this.etiquetas, this.auth.usuario!.config?.etiquetas, (a, b) => a.key == b.key);\n        this.cdRef.detectChanges();\n      }\n    });\n  }\n\n  public addItemHandleEtiquetas(): LookupItem | undefined {\n    let result = undefined;\n    if (this.etiqueta && this.etiqueta.selectedItem) {\n      const item = this.etiqueta.selectedItem;\n      const key = item.key?.length ? item.key : this.util.textHash(item.value);\n      if (this.util.validateLookupItem(this.formEdit.controls.etiquetas.value, key)) {\n        result = {\n          key: key,\n          value: item.value,\n          color: item.color,\n          icon: item.icon\n        };\n        this.formEdit.controls.etiqueta.setValue(null);\n      }\n    }\n    return result;\n  };\n\n  public loadTipoAtividade(tipoAtividade: TipoAtividade | undefined) {\n    if(tipoAtividade) {\n      this.etiquetas = this.atividadeService.buildEtiquetas(this.unidade, tipoAtividade);\n      this.atividadeService.buildChecklist(tipoAtividade, this.formAtividade.controls.checklist);\n      this.formAtividade.controls.esforco.setValue(tipoAtividade?.esforco || 0);\n    } else {\n      this.etiquetas = [];\n      this.formAtividade.controls.esforco.setValue(0);\n    }\n    this.cdRef.detectChanges();\n  }\n\n  public onTipoAtividadeSelect(item: SelectItem) {\n    const tipoAtividade: TipoAtividade | undefined = item.entity as TipoAtividade;\n    this.loadTipoAtividade(tipoAtividade);\n    this.atividadeService.comentarioAtividade(tipoAtividade, this.formAtividade!.controls.comentarios);\n    this.cdRef.detectChanges();\n  }\n\n  /***************************************************************************************\n  * Ocorrências \n  ****************************************************************************************/\n  public async addOcorrencia() {\n    return new PlanoTrabalhoConsolidacaoOcorrencia({\n      plano_trabalho_consolidacao_id: this.entity!.id\n    });\n  }\n\n  public async loadOcorrencia(form: FormGroup, row: any) {\n    this.formAtividade.patchValue({\n      data_inicio: row.data_inicio,\n      data_fim: row.data_fim,\n      descricao: row.descricao\n    });\n    this.cdRef.detectChanges();\n  }\n\n  public async removeOcorrencia(row: any) {\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir o item ?\");\n    if (confirm) {\n      try {\n        let ocorrencia = row as PlanoTrabalhoConsolidacaoOcorrencia;\n        await this.consolidacaoOcorrenciaDao?.delete(ocorrencia);\n        this.itemsOcorrencias.splice(this.itemsOcorrencias.findIndex(x => x.id == ocorrencia.id), 1);\n        return true;\n      } catch {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  public async saveOcorrencia(form: FormGroup, row: any) {\n    let result = undefined;\n    this.formOcorrencia.markAllAsTouched();\n    if (this.formOcorrencia!.valid) {\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\n      row.data_inicio = form.controls.data_inicio.value;\n      row.data_fim = form.controls.data_fim.value;\n      row.descricao = form.controls.descricao.value;\n      result = await this.consolidacaoOcorrenciaDao?.save(row);\n    }\n    return result;\n  }\n\n  public ocorrenciaDynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    //result.push({ hint: \"Adicionar filho\", icon: \"bi bi-plus-circle\", onClick: this.addChildProcesso.bind(this) });\n    return result;\n  }  \n\n  /***************************************************************************************\n  * Afastamentos\n  ****************************************************************************************/\n  public async addAfastamento() {\n    this.go.navigate({route: ['cadastros', 'afastamento', 'new']}, {\n      metadata: { consolidacao: this.entity },\n      filterSnapshot: undefined,\n      querySnapshot: undefined,\n      modalClose: (modalResult) => {\n        if(modalResult) this.refresh();\n      }\n    });\n  }\n\n  public afastamentoDynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    result.push(Object.assign({}, this.OPTION_INFORMACOES, { onClick: (doc: Afastamento) => this.go.navigate({route: [\"cadastros\", \"afastamento\", doc.id, \"consult\"]}) }));\n    //result.push({ hint: \"Adicionar filho\", icon: \"bi bi-plus-circle\", onClick: this.addChildProcesso.bind(this) });\n    return result;\n  }  \n \n}\n","<separator [title]=\"lex.translate('Atividades')\" [icon]=\"entityService.getIcon('Atividade')\">\n    <grid [items]=\"itemsEntregas\" #gridEntregas [minHeight]=\"0\" expanded>\n        <columns>\n            <column type=\"expand\" [icon]=\"entityService.getIcon('PlanoTrabalhoConsolidacao')\" [align]=\"'center'\" [hint]=\"lex.translate('Consolidação')\" [template]=\"columnConsolidacao\" [expandTemplate]=\"columnExpandedConsolidacao\">\n                <ng-template let-row=\"row\" #columnConsolidacao>\n                    <!--span *ngIf=\"row?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-boxes\"></i> {{row?.length}}</span//-->\n                </ng-template>\n                <ng-template let-row=\"row\" #columnExpandedConsolidacao>\n                    <grid [items]=\"row.atividades\" [minHeight]=\"0\" #gridAtividade [form]=\"formAtividade\" [hasAdd]=\"!disabled\" [hasDelete]=\"false\" [hasEdit]=\"false\"\n                        [add]=\"addAtividade.bind(this, row.entrega)\" [load]=\"loadAtividade.bind(this)\" [remove]=\"removeAtividade.bind(this, row.atividades)\" [save]=\"saveAtividade.bind(this)\" editable>\n                        <columns>\n                            <column [title]=\"'#ID/' + lex.translate('Tipo de Atividade') + '\\nDescrição'\" [template]=\"columnAtividadeDescricao\" [editTemplate]=\"editAtividadeDescricao\">\n                                <ng-template let-row=\"row\" #columnAtividadeDescricao>\n                                    <span class=\"text-nowrap d-block\">\n                                        <badge icon=\"bi bi-hash\" [label]=\"row.numero\" color=\"light\" [data]=\"row.numero\" [click]=\"atividadeService.onIdClick.bind(this)\"></badge>\n                                        <badge *ngIf=\"row.tipo_atividade\" [icon]=\"entityService.getIcon('TipoAtividade')\" [label]=\"row.tipo_atividade.nome\" color=\"light\"></badge>\n                                    </span>\n                                    <span class=\"micro-text fw-ligh atividade-descricao\">{{row.descricao}}</span>\n                                </ng-template>\n                                <ng-template let-row=\"row\" #editAtividadeDescricao>\n                                    <input-search [label]=\"lex.translate('Tipo de atividade')\" [size]=\"12\" [emptyValue]=\"null\" controlName=\"tipo_atividade_id\" [control]=\"formAtividade!.controls.tipo_atividade_id\" [dao]=\"tipoAtividadeDao\" (select)=\"onTipoAtividadeSelect($event)\" [labelInfo]=\"lex.translate('Tipo de atividade') + ' utilizado para classificar a atividade'\" [required]=\"!auth.hasPermissionTo('MOD_ATV_TIPO_ATV_VAZIO') ? 'true' : undefined\"></input-search>\n                                    <input-textarea label=\"Descrição\" [size]=\"12\" [rows]=\"2\" controlName=\"descricao\" [control]=\"formAtividade!.controls.descricao\" required></input-textarea>\n                                </ng-template>\n                            </column>\n                            <column [title]=\"'Tempos'\" [width]=\"300\" [template]=\"columnTempos\" [editTemplate]=\"editTempos\">\n                                <ng-template let-row=\"row\" #columnTempos>\n                                    <div class=\"one-per-line\">\n                                        <badge *ngFor=\"let tempo of atividadeService.temposAtividade(row)\" [badge]=\"tempo\"></badge>\n                                    </div>\n                                </ng-template>\n                                <ng-template let-row=\"row\" #editTempos>\n                                    <input-datetime icon=\"bi bi-file-earmark-plus\" [label]=\"lex.translate('Data de distribuição')\" controlName=\"data_distribuicao\" [control]=\"formAtividade!.controls.data_distribuicao\" labelInfo=\"Data de inclusão/distribuição/lançamento\"></input-datetime>\n                                    <input-datetime icon=\"bi bi-calendar-check\" [label]=\"lex.translate('Prazo de entrega')\" controlName=\"data_estipulada_entrega\" [control]=\"formAtividade!.controls.data_estipulada_entrega\" labelInfo=\"Data estipulada para entrega da atividade\"></input-datetime>\n                                    <input-datetime icon=\"bi bi-check-circle\" label=\"Conclusão\" controlName=\"data_entrega\" [control]=\"formAtividade!.controls.data_entrega\" labelInfo=\"Data da conclusão da atividade\"></input-datetime>\n                                </ng-template>\n                            </column>\n                            <column [title]=\"'Progresso\\nEtiquetas/Checklist'\" [width]=\"200\" [template]=\"columnProgressoEtiquetasChecklist\" [editTemplate]=\"columnProgressoEtiquetasChecklist\" [columnEditTemplate]=\"columnProgressoEtiquetasChecklistEdit\" [edit]=\"onColumnProgressoEtiquetasChecklistEdit.bind(this)\" [save]=\"onColumnProgressoEtiquetasChecklistSave.bind(this)\">\n                                <ng-template let-row=\"row\" #columnProgressoEtiquetasChecklist>\n                                    <progress-bar [value]=\"row.progresso\" color=\"success\"></progress-bar>\n                                    <badge *ngFor=\"let etiqueta of row.etiquetas\" [lookup]=\"etiqueta\"></badge>\n                                    <separator *ngIf=\"row.checklist?.length\" small title=\"Checklist\"></separator>\n                                    <table *ngIf=\"row.checklist?.length\">\n                                        <tr *ngFor=\"let check of row.checklist\">\n                                            <td><i *ngIf=\"check.checked\" class=\"bi bi-check-circle\"></i></td>\n                                            <td class=\"micro-text fw-ligh\">{{check.texto}}</td>\n                                        </tr>\n                                    </table>\n                                </ng-template>\n                                <ng-template let-row=\"row\" #columnProgressoEtiquetasChecklistEdit>\n                                    <input-number [size]=\"12\" [decimals]=\"2\" label=\"Progresso\" sufix=\"%\" icon=\"bi bi-clock\" controlName=\"progresso\" [control]=\"formEdit.controls.progresso\" labelInfo=\"Progresso de execução (% Concluído)\"></input-number>\n                                    <input-multiselect controlName=\"etiquetas\" [size]=\"12\" [control]=\"formEdit.controls.etiquetas\" [addItemHandle]=\"addItemHandleEtiquetas.bind(this)\">\n                                        <input-select [size]=\"12\" label=\"Etiqueta\" #etiqueta controlName=\"etiqueta\" nullable itemNull=\"- Selecione -\" detailsButton detailsButtonIcon=\"bi bi-tools\" (details)=\"onEtiquetaConfigClick()\" [control]=\"formEdit.controls.etiqueta\" [items]=\"etiquetas\"></input-select>\n                                    </input-multiselect>\n                                    <separator *ngIf=\"row.checklist?.length\" small title=\"Checklist\"></separator>\n                                    <table *ngIf=\"row.checklist?.length\">\n                                        <tr *ngFor=\"let check of checklist; let i = index\">\n                                            <td><input-switch [size]=\"12\" scale=\"small\" [source]=\"checklist\" [path]=\"i + '.checked'\"></input-switch></td>\n                                            <td class=\"micro-text fw-ligh\">{{check.texto}}</td>\n                                        </tr>\n                                    </table>\n                                </ng-template>\n                            </column>\n                            <column [title]=\"'nº Processo/Status\\nComentários'\" [width]=\"400\" [template]=\"columnNumero\" [editTemplate]=\"columnNumero\">\n                                <ng-template let-row=\"row\" #columnNumero>\n                                    <documentos-badge [documento]=\"row.documento_requisicao\"></documentos-badge>\n                                    <span class=\"d-block\">\n                                        <badge *ngFor=\"let status of atividadeService.getStatus(row, entity)\" [data]=\"status\" [color]=\"status.color\" [icon]=\"status.icon\" [label]=\"status.label\"></badge>\n                                    </span>\n                                    <comentarios-widget *ngIf=\"!gridAtividade.editing\" [entity]=\"row\" [selectable]=\"false\" origem=\"ATIVIDADE\" [grid]=\"gridAtividade\"></comentarios-widget>\n                                </ng-template>\n                            </column>\n                            <column type=\"options\" [metadata]=\"atividadeOptionsMetadata\" [dynamicOptions]=\"atividadeService.dynamicOptions.bind(this)\" [dynamicButtons]=\"atividadeService.dynamicButtons.bind(this)\"></column>\n                        </columns>\n                    </grid>\n                </ng-template>\n            </column>\n            <column title=\"Origem\" [template]=\"columnOrigem\" [width]=\"200\">\n                <ng-template let-row=\"row\" #columnOrigem>\n                    <badge [label]=\"row.badge.titulo\" [color]=\"row.badge.cor\"></badge>\n                </ng-template>\n            </column>\n            <column title=\"Entrega\" [template]=\"columnEntrega\">\n                <ng-template let-row=\"row\" #columnEntrega>\n                    <badge [icon]=\"entityService.getIcon('Entrega')\" [label]=\"row.badge.nome\" [textValue]=\"row.badge.descricao\"></badge>\n                </ng-template>\n            </column>\n            <column title=\"% Força Trab. Planejado\" [template]=\"columnForcaTrabalho\">\n                <ng-template let-row=\"row\" #columnForcaTrabalho>\n                    <badge color=\"light\" [label]=\"row.entrega.forca_trabalho + '%'\"></badge>\n                </ng-template>\n            </column>\n        </columns>\n    </grid>\n</separator>\n<separator [title]=\"lex.translate('Ocorrências')\" [icon]=\"entityService.getIcon('PlanoTrabalhoConsolidacao')\">\n    <grid [items]=\"itemsOcorrencias\" [minHeight]=\"0\" #gridOcorrencia [form]=\"formOcorrencia\" [hasDelete]=\"!disabled\" [hasAdd]=\"!disabled\" [hasEdit]=\"!disabled\"\n        [add]=\"addOcorrencia.bind(this)\" [load]=\"loadOcorrencia.bind(this)\" \n        [remove]=\"removeOcorrencia.bind(this)\" [save]=\"saveOcorrencia.bind(this)\" editable>\n        <columns>\n            <column title=\"Início\" [width]=\"300\" type=\"datetime\" field=\"data_inicio\"></column>\n            <column title=\"Fim\" [width]=\"300\" type=\"datetime\" field=\"data_fim\"></column>\n            <column title=\"Descrição\" type=\"textarea\" field=\"descricao\"></column>\n            <column type=\"options\" [dynamicButtons]=\"ocorrenciaDynamicButtons.bind(this)\"></column>\n        </columns>\n    </grid>\n</separator>\n<separator [title]=\"lex.translate('Afastamentos')\" [icon]=\"entityService.getIcon('Afastamento')\">\n    <grid [items]=\"itemsAfastamentos\" [minHeight]=\"0\" #gridAfastamento [add]=\"addAfastamento.bind(this)\" [hasEdit]=\"false\" [hasDelete]=\"false\" [hasAdd]=\"!disabled\" editable>\n        <columns>\n            <column title=\"Início\" [width]=\"300\" type=\"datetime\" field=\"data_inicio\"></column>\n            <column title=\"Fim\" [width]=\"300\" type=\"datetime\" field=\"data_fim\"></column>\n            <column title=\"Motivo/Observação\" [template]=\"columnMotivoObservacao\">\n                <ng-template let-row=\"row\" #columnMotivoObservacao>\n                    <badge [color]=\"row.tipo_motivo_afastamento.cor\" [icon]=\"row.tipo_motivo_afastamento.icone\" [label]=\"row.tipo_motivo_afastamento.nome\"></badge>\n                    {{row.observacao}}\n                </ng-template>\n            </column>\n            <column type=\"options\" [dynamicButtons]=\"afastamentoDynamicButtons.bind(this)\"></column>\n        </columns>\n    </grid>\n</separator>\n\n\n\n\n\n\n\n","import { ChangeDetectorRef, Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { PlanoTrabalhoConsolidacaoDaoService } from 'src/app/dao/plano-trabalho-consolidacao-dao.service';\nimport { PlanoTrabalhoConsolidacao, PlanoTrabalhoConsolidacaoStatus } from 'src/app/models/plano-trabalho-consolidacao.model';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\nimport { PlanoTrabalhoService } from '../plano-trabalho.service';\nimport { PlanoTrabalhoConsolidacaoFormComponent } from '../plano-trabalho-consolidacao-form/plano-trabalho-consolidacao-form.component';\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\n\n@Component({\n  selector: 'plano-trabalho-consolidacao-list',\n  templateUrl: './plano-trabalho-consolidacao-list.component.html',\n  styleUrls: ['./plano-trabalho-consolidacao-list.component.scss']\n})\nexport class PlanoTrabalhoConsolidacaoListComponent extends PageFrameBase {\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  @Input() set entity(value: PlanoTrabalho | undefined) { super.entity = value; } get entity(): PlanoTrabalho | undefined { return super.entity; }\n\n  public get items(): PlanoTrabalhoConsolidacao[] {\n    return this.entity?.consolidacoes || [];\n  }\n\n  public dao?: PlanoTrabalhoConsolidacaoDaoService;\n  public planoTrabalhoDao?: PlanoTrabalhoDaoService;\n  public planoTrabalhoService: PlanoTrabalhoService;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    /* Inicializações */\n    this.dao = injector.get<PlanoTrabalhoConsolidacaoDaoService>(PlanoTrabalhoConsolidacaoDaoService);\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\n    this.title = this.lex.translate(\"Consolidações\");\n    this.code = \"MOD_PTR_CSLD\";\n    this.modalWidth = 1200;\n    this.form = this.fh.FormBuilder({\n      'data_inicio': {default: new Date()},\n      'data_fim': {default: new Date()}\n    }, this.cdRef, this.validate);\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    (async () => {\n      if (this.urlParams?.has(\"usuarioId\") && this.urlParams?.has(\"planoTrabalhoId\")) {\n        let dados = await this.planoTrabalhoDao!.getByUsuario(this.urlParams!.get(\"usuarioId\")!, true, this.urlParams!.get(\"planoTrabalhoId\")!);\n        if (dados.planos.length == 1) this.entity = dados.planos[0];\n      }\n      let agora = (new Date()).getTime();\n      this.items.forEach(v => {\n        if(!v.plano_trabalho) v.plano_trabalho = this.entity;\n        if(this.util.asTimestamp(v.data_inicio) <= agora && agora <= this.util.asTimestamp(v.data_fim)) this.grid!.expand(v.id);\n      });\n    })();\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    // TODO: Validar data\n    return result;\n  }\n\n  public async addConsolidacao() {\n    return new PlanoTrabalhoConsolidacao({\n      id: this.dao!.generateUuid(),\n      plano_trabalho_id: this.entity!.id\n    });\n  }\n\n  public async loadConsolidacao(form: FormGroup, row: any) {\n    this.form!.patchValue({\n      data_inicio: row.data_inicio,\n      data_fim: row.data_fim\n    });    \n    this.cdRef.detectChanges();\n  }\n\n  public async removeConsolidacao(row: any) {\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir o item ?\");\n    if (confirm) {\n      try {\n        let consolidacao = row as PlanoTrabalhoConsolidacao;\n        await this.dao?.delete(consolidacao);\n        this.items.splice(this.items.findIndex(x => x.id == consolidacao.id), 1);\n        return true;\n      } catch {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  public async saveConsolidacao(form: FormGroup, row: any) {\n    let result = undefined;\n    this.form!.markAllAsTouched();\n    if (this.form!.valid) {\n      row.id = row.id == \"NEW\" ? this.dao!.generateUuid() : row.id;\n      row.data_inicio = form.controls.data_inicio.value;\n      row.data_fim = form.controls.data_fim.value;\n      result = await this.dao?.save(row);\n    }\n    return result;\n  }\n\n  public async concluir(consolidacao: PlanoTrabalhoConsolidacao) {\n    this.submitting = true;\n    try {\n      let response = await this.dao!.concluir(consolidacao.id);\n      consolidacao.status = response.status as PlanoTrabalhoConsolidacaoStatus;\n      if(consolidacao._metadata?.planoTrabalhoConsolidacaoFormComponent) {\n        let consolidacaoForm = consolidacao._metadata?.planoTrabalhoConsolidacaoFormComponent as PlanoTrabalhoConsolidacaoFormComponent;\n        consolidacaoForm.loadConsolidacao(response);\n      } else {\n        this.grid!.refreshExpanded(consolidacao.id);\n      }\n    } catch (error: any) {\n      this.error(error.message || error);\n    } finally {\n      this.submitting = false;\n    }\n  }\n\n  public async cancelarConclusao(consolidacao: PlanoTrabalhoConsolidacao) {\n    this.submitting = true;\n    try {\n      let response = await this.dao!.cancelarConclusao(consolidacao.id);\n      consolidacao.status = response.status as PlanoTrabalhoConsolidacaoStatus;\n      if(consolidacao._metadata?.planoTrabalhoConsolidacaoFormComponent) {\n        let consolidacaoForm = consolidacao._metadata?.planoTrabalhoConsolidacaoFormComponent as PlanoTrabalhoConsolidacaoFormComponent;\n        consolidacaoForm.loadConsolidacao(response);\n      } else {\n        this.grid!.refreshExpanded(consolidacao.id);\n      }\n    } catch (error: any) {\n      this.error(error.message || error);\n    } finally {\n      this.submitting = false;\n    }\n  }\n\n  public anterior(consolidacao: PlanoTrabalhoConsolidacao): PlanoTrabalhoConsolidacao | undefined {\n    return this.entity!.consolidacoes.reduce((a: PlanoTrabalhoConsolidacao | undefined, v: PlanoTrabalhoConsolidacao) => this.util.asTimestamp(v.data_inicio) < this.util.asTimestamp(consolidacao.data_inicio) && (!a || this.util.asTimestamp(a.data_inicio) < this.util.asTimestamp(v.data_inicio)) ? v : a, undefined);\n  }\n\n  public proximo(consolidacao: PlanoTrabalhoConsolidacao): PlanoTrabalhoConsolidacao | undefined {\n    return this.entity!.consolidacoes.reduce((a: PlanoTrabalhoConsolidacao | undefined, v: PlanoTrabalhoConsolidacao) => this.util.asTimestamp(v.data_fim) > this.util.asTimestamp(consolidacao.data_fim) && (!a || this.util.asTimestamp(a.data_fim) > this.util.asTimestamp(v.data_fim)) ? v : a, undefined);\n  }\n\n  public isDisabled(row?: PlanoTrabalhoConsolidacao): boolean {\n    return (row && row.status != \"INCLUIDO\") || this.entity?.status != \"ATIVO\";\n  }\n\n  public avaliar(consolidacao: PlanoTrabalhoConsolidacao) {\n    //\n  }\n\n  public editarAvaliacao(consolidacao: PlanoTrabalhoConsolidacao) {\n    //\n  }\n\n  public fazerRecurso(consolidacao: PlanoTrabalhoConsolidacao) {\n    //\n  }\n\n  public cancelarAvaliacao(consolidacao: PlanoTrabalhoConsolidacao) {\n    //\n  }\n\n  public dynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    let consolidacao: PlanoTrabalhoConsolidacao = row as PlanoTrabalhoConsolidacao;\n    const anterior = this.anterior(row as PlanoTrabalhoConsolidacao);\n    const proximo = this.proximo(row as PlanoTrabalhoConsolidacao);\n    const isUsuarioConsolidacao = this.auth.usuario!.id == this.entity!.usuario_id;\n    const isGestor = [this.entity!.unidade!.gestor?.usuario_id, this.entity!.unidade!.gestor_substituto?.usuario_id, this.entity!.unidade!.gestor_delegado?.usuario_id].includes(this.auth.usuario?.id);\n    const BOTAO_CONCLUIR = { hint: \"Concluir\", icon: \"bi bi-check-circle\", color: \"btn-outline-success\", onClick: this.concluir.bind(this) };\n    const BOTAO_CANCELAR_CONCLUSAO = { hint: \"Cancelar conclusão\", icon: \"bi bi-backspace\", color: \"btn-outline-danger\", onClick: this.cancelarConclusao.bind(this) };\n    const BOTAO_AVALIAR = { hint: \"Avaliar\", icon: \"bi bi-star\", color: \"btn-outline-warning\", onClick: this.avaliar.bind(this) };\n    const BOTAO_EDITAR_AVALIACAO = { hint: \"Editar avaliação\", icon: \"bi bi-star-half\", color: \"btn-outline-warning\", onClick: this.editarAvaliacao.bind(this) };\n    const BOTAO_FAZER_RECURSO = { hint: \"Fazer recurso\", id: \"RECORRIDO\", icon: \"bi bi-journal-medical\", color: \"btn-outline-warning\", onClick: this.fazerRecurso.bind(this) };\n    const BOTAO_CANCELAR_AVALIACAO = { hint: \"Cancelar avaliação\", id: \"INCLUIDO\", icon: \"bi bi-backspace\", color: \"btn-outline-warning\", onClick: this.cancelarAvaliacao.bind(this) };\n    /* (RN_CSLD_11) Não pode concluir a consolidação antes que a anterior não esteja concluida, e não pode retornar status da consolidação se a posterior estiver a frente (em status); */\n    const canConcluir = !anterior || [\"CONCLUIDO\", \"AVALIADO\"].includes(anterior!.status);\n    const canCancelarConclusao = !proximo || [\"INCLUIDO\"].includes(proximo!.status);\n    const canAvaliar = !anterior || [\"AVALIADO\"].includes(anterior!.status);\n    const canCancelarAvaliacao = !proximo || [\"INCLUIDO\", \"CONCLUIDO\"].includes(proximo!.status);\n    if(!this.isDisabled()) {\n      if(consolidacao.status == \"INCLUIDO\" && canConcluir && (isUsuarioConsolidacao || this.auth.hasPermissionTo(\"MOD_PTR_CSLD_CONCL\"))) {\n        result.push(BOTAO_CONCLUIR);\n      }\n      if(consolidacao.status == \"CONCLUIDO\" && canCancelarConclusao && this.planoTrabalhoService.diasParaConcluirConsolidacao(row, this.entity!.programa) >= 0 && (isUsuarioConsolidacao || this.auth.hasPermissionTo(\"MOD_PTR_CSLD_DES_CONCL\"))) {\n        result.push(BOTAO_CANCELAR_CONCLUSAO);\n      }\n      if(consolidacao.status == \"CONCLUIDO\" && canAvaliar && (isGestor || this.auth.hasPermissionTo(\"MOD_PTR_CSLD_AVALIAR\"))) {\n        result.push(BOTAO_AVALIAR);\n      }\n      if(consolidacao.status == \"AVALIADO\") {\n        /* TODO: Fazer as condições para avaliado\n          - Se for o usuário do plano, opção de recurso\n          - Se for o chefe, opção de cancelar avaliacao ou Reavaliar caso tenha tido recurso\n         */\n        //if(canCancelarAvaliacao) result.push(BOTAO_CANCELAR_AVALIACAO);\n      }\n    }\n    return result;\n  }\n\n}\n","<grid [items]=\"items\" #grid [form]=\"form!\" [hasDelete]=\"true\" [minHeight]=\"0\"\n    [add]=\"addConsolidacao.bind(this)\" [hasAdd]=\"!isDisabled()\" [hasEdit]=\"false\" [hasDelete]=\"false\" editable>\n    <columns>\n        <column type=\"expand\" [icon]=\"entityService.getIcon('PlanoTrabalhoConsolidacao')\" [align]=\"'center'\" [hint]=\"lex.translate('Consolidação')\" [template]=\"columnConsolidacao\" [expandTemplate]=\"columnExpandedConsolidacao\">\n            <ng-template let-row=\"row\" #columnConsolidacao>\n                <!--span *ngIf=\"row?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-boxes\"></i> {{row?.length}}</span//-->\n            </ng-template>\n            <ng-template let-row=\"row\" #columnExpandedConsolidacao>\n                <plano-trabalho-consolidacao-form #consolidacao [disabled]=\"isDisabled(row)\" [entity]=\"row\" [planoTrabalho]=\"entity\" [cdRef]=\"cdRef\"></plano-trabalho-consolidacao-form>\n            </ng-template>\n        </column>\n        <column title=\"Data início\" [template]=\"columnDataInicio\">\n            <ng-template let-row=\"row\" #columnDataInicio>\n                {{util.getDateFormatted(row.data_inicio)}}\n            </ng-template>\n        </column>\n        <column title=\"Data fim\" [template]=\"columnDataFim\">\n            <ng-template let-row=\"row\" #columnDataFim>\n                <strong>{{util.getDateFormatted(row.data_fim)}}</strong>\n            </ng-template>\n        </column>\n        <column title=\"Estatísticas\" [template]=\"columnEstatisticas\">\n            <ng-template let-row=\"row\" #columnEstatisticas>\n            </ng-template>\n        </column>\n        <column title=\"Status\" [template]=\"columnStatus\">\n            <ng-template let-row=\"row\" #columnStatus>\n                <badge [color]=\"lookup.getColor(lookup.CONSOLIDACAO_STATUS, row.status)\" [icon]=\"lookup.getIcon(lookup.CONSOLIDACAO_STATUS, row.status)\" [label]=\"lookup.getValue(lookup.CONSOLIDACAO_STATUS, row.status)\"></badge>\n            </ng-template>\n        </column>\n        <column type=\"options\" [dynamicButtons]=\"dynamicButtons.bind(this)\"></column>\n    </columns>\n</grid>","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { TabsComponent } from 'src/app/components/tabs/tabs.component';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { Unidade } from 'src/app/models/unidade.model';\nimport { Usuario } from 'src/app/models/usuario.model';\nimport { PageBase } from 'src/app/modules/base/page-base';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\n\n@Component({\n  selector: 'app-plano-trabalho-consolidacao',\n  templateUrl: './plano-trabalho-consolidacao.component.html',\n  styleUrls: ['./plano-trabalho-consolidacao.component.scss']\n})\nexport class PlanoTrabalhoConsolidacaoComponent extends PageFrameBase {\n  @ViewChild(TabsComponent, { static: false }) public tabs?: TabsComponent;\n\n  public usuarios: Usuario[] = [];\n  public unidade?: Unidade;\n  public unidadeDao: UnidadeDaoService;\n  public loadingUnidade: boolean = false;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    this.form = this.fh.FormBuilder({\n      arquivados: { default: false }\n    });\n  }\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    this.tabs!.active = this.queryParams?.tab || \"USUARIO\";\n    (async () => {\n      await this.loadData(this.entity!, this.form);\n    })();\n  }\n\n  public async loadData(entity: IIndexable, form?: FormGroup) {\n    this.unidade = this.auth.unidadeGestor();\n    if(this.unidade) {\n      this.usuarios = [];\n      this.loadingUnidade = true;\n      this.cdRef.detectChanges()\n      try {\n        this.usuarios = await this.unidadeDao.lotados(this.unidade.id);\n      } finally {\n        this.loadingUnidade = false;\n        this.cdRef.detectChanges()\n      }\n    }\n  }\n\n}\n","<tabs right #tabs [title]=\"isModal ? '' : title\">\n    <tab key=\"UNIDADE\" *ngIf=\"unidade\" [icon]=\"entityService.getIcon('Unidade')\" [label]=\"lex.translate('Unidade')\" [template]=\"tabUnidade\">\n        <ng-template #tabUnidade>\n            <h5>{{unidade.sigla}} - {{unidade.nome}}</h5>\n            <div *ngIf=\"loading\" class=\"d-flex justify-content-center my-2\">\n                <div class=\"spinner-border\" role=\"status\">\n                    <span class=\"visually-hidden\"></span>\n                </div>\n            </div>\n            <collapse-card *ngFor=\"let usuario of usuarios\" [data]=\"usuario\" [titleTemplate]=\"usuarioCardTitle\" [template]=\"usuarioCard\">\n                <ng-template let-data=\"data\" #usuarioCardTitle>\n                    <div class=\"row\">\n                        <div class=\"col-2\">\n                            <profile-picture [url]=\"data.url_foto\" [size]=\"40\" [hint]=\"data.nome\"></profile-picture>\n                        </div>\n                        <div class=\"col-10\">\n                            <strong>{{data.nome || \"\"}}</strong><br>\n                            <small>{{data.apelido || \"\"}}</small>\n                        </div>\n                    </div>\n                </ng-template>\n                <ng-template let-data=\"data\" #usuarioCard>\n                    <plano-trabalho-list-accordeon [usuarioId]=\"data.id\"></plano-trabalho-list-accordeon>\n                </ng-template>\n            </collapse-card>\n        </ng-template>\n    </tab>\n    <tab key=\"USUARIO\" [icon]=\"entityService.getIcon('Usuario')\" [label]=\"lex.translate('Usuário')\" [template]=\"tabUsuario\">\n        <ng-template #tabUsuario>\n            <separator [control]=\"form!.controls.arquivados\" [title]=\"'Mostrar ' + lex.translate('Planos de trabalho') + ' arquivados?'\"></separator>\n            <plano-trabalho-list-accordeon [usuarioId]=\"auth.usuario!.id\" [arquivados]=\"form!.controls.arquivados.value\"></plano-trabalho-list-accordeon>\n        </ng-template>\n    </tab>\n</tabs>\n","import { Component, Injector, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { UnitWorkload } from 'src/app/components/input/input-workload/input-workload.component';\nimport { DocumentoDaoService } from 'src/app/dao/documento-dao-service';\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\nimport { ProgramaDaoService } from 'src/app/dao/programa-dao.service';\nimport { TipoDocumentoDaoService } from 'src/app/dao/tipo-documento-dao.service';\nimport { TipoModalidadeDaoService } from 'src/app/dao/tipo-modalidade-dao.service';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\nimport { SeiKeys } from 'src/app/listeners/procedimento-trabalhar/procedimento-trabalhar.component';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { TipoDocumento } from 'src/app/models/tipo-documento.model';\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\nimport { NavigateResult } from 'src/app/services/navigate.service';\n\n@Component({\n  selector: 'plano-trabalho-form-termo',\n  templateUrl: './plano-trabalho-form-termo.component.html',\n  styleUrls: ['./plano-trabalho-form-termo.component.scss']\n})\n\nexport class PlanoTrabalhoFormTermoComponent extends PageFormBase<PlanoTrabalho, PlanoTrabalhoDaoService> {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\n  @ViewChild('programa', { static: false }) public programa?: InputSearchComponent;\n  @ViewChild('tipoDocumento', { static: false }) public tipoDocumento?: InputSearchComponent;\n  @ViewChild('tipoModalidade', { static: false }) public tipoModalidade?: InputSearchComponent;\n\n  public unidadeDao: UnidadeDaoService;\n  public programaDao: ProgramaDaoService;\n  public usuarioDao: UsuarioDaoService;\n  public documentoDao: DocumentoDaoService;\n  public tipoDocumentoDao: TipoDocumentoDaoService;\n  public allPages: ListenerAllPagesService;\n  public processo?: SeiKeys;\n  public tipoModalidadeDao: TipoModalidadeDaoService;\n\n  constructor(public injector: Injector) {\n    super(injector, PlanoTrabalho, PlanoTrabalhoDaoService);\n    this.join = [\"unidade\", \"usuario\", \"programa.template_tcr\", \"tipo_modalidade\", \"documento\", \"documentos\", \"atividades.atividade\"];\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    this.programaDao = injector.get<ProgramaDaoService>(ProgramaDaoService);\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\n    this.tipoDocumentoDao = injector.get<TipoDocumentoDaoService>(TipoDocumentoDaoService);\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\n    this.tipoModalidadeDao = injector.get<TipoModalidadeDaoService>(TipoModalidadeDaoService);\n    this.documentoDao = injector.get<DocumentoDaoService>(DocumentoDaoService);\n\n    this.form = this.fh.FormBuilder({\n      carga_horaria: {default: \"\"},\n      tempo_total: {default: \"\"},\n      tempo_proporcional: {default: \"\"},\n      data_inicio: {default: new Date()},\n      data_fim: {default: new Date()},\n      programa_id: {default: \"\"},\n      usuario_id: {default: \"\"},\n      unidade_id: {default: \"\"},\n      documento_id: {default: \"\"},\n      documentos: {default: []},\n      tipo_documento_id: {default: \"\"},\n      numero_processo: {default: \"\"},\n      vinculadas: {default: true},\n      tipo_modalidade_id: {default: \"\"},\n      forma_contagem_carga_horaria: {default: \"DIA\"}\n    }, this.cdRef, this.validate);\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if(controlName == \"tipo_documento_id\" && !control?.value?.length && this.form?.controls?.numero_processo?.value?.length) {\n      result = \"Obrigatório\";\n    }\n    return result;\n  }\n\n  public formValidation = (form?: FormGroup) => {\n    if(!this.tipoDocumento?.selectedEntity && form?.controls.tipo_documento_id.value?.length) {\n      return \"Aguarde o carregamento do tipo de documento\";\n    }\n    return undefined;\n  } \n\n  public onVinculadasChange(event: Event) {\n    this.cdRef.detectChanges();\n  }\n\n  public async loadData(entity: PlanoTrabalho, form: FormGroup) {\n    let formValue = Object.assign({}, form.value);\n    formValue = this.util.fillForm(formValue, entity);\n    await Promise.all ([\n      this.unidade!.loadSearch(entity.unidade || entity.unidade_id),\n      this.usuario!.loadSearch(entity.usuario || entity.usuario_id),\n      this.programa!.loadSearch(entity.programa || entity.programa_id),\n      this.tipoModalidade!.loadSearch(entity.tipo_modalidade || entity.tipo_modalidade_id)\n    ]);\n    if(this.processo) {\n      formValue.id_processo = this.processo.id_processo;\n      formValue.numero_processo = this.processo.numero_processo;\n    }\n    formValue.data_inicio = this.auth.hora;\n    form.patchValue(formValue);\n  }\n\n  public async initializeData(form: FormGroup) {\n    this.entity = (await this.dao!.getById(this.metadata.plano_trabalho.id, this.join))!;\n    this.processo = this.metadata?.processo;\n    await this.loadData(this.entity!, form);\n  }\n\n  public saveData(form: IIndexable): Promise<NavigateResult | undefined> {\n    return new Promise<NavigateResult | undefined>((resolve, reject) => {\n      //if(this.processo) {\n      resolve(new NavigateResult(Object.assign(this.form!.value, {\n        /* TODO Gerar documento do TCR\n        termo: this.termo!.conteudo,\n        atividades_termo_adesao: this.termo!.atividades.map((x: { nome: string; }) => this.util.removeAcentos(x.nome.toLowerCase())),*/\n        codigo_tipo_documento: (this.tipoDocumento?.selectedEntity as TipoDocumento)?.codigo\n      })));\n      /*} else {\n        const documento = Object.assign(new Documento(), {\n          especie: \"TERMO_ADESAO\",\n          conteudo: this.termo!.conteudo,\n          plano_id: this.entity!.id,\n          status: \"GERADO\"\n        });\n        this.documentoDao.save(documento).then(doc => resolve(undefined)).catch(reject);\n      }*/\n    });\n  }\n\n  public get formaContagemCargaHoraria(): UnitWorkload {\n    const forma = this.form?.controls.forma_contagem_carga_horaria?.value || \"DIA\";\n    return forma == \"DIA\" ? \"day\" : forma == \"SEMANA\" ? \"week\" : \"mouth\";\n  }\n\n  public titleEdit = (entity: PlanoTrabalho): string => {\n    return \"Editando \" + this.lex.translate(\"TCR\") + ' ' + this.lex.translate(\"do Plano de Trabalho\") + ': ' + (entity?.usuario?.nome || \"\");\n  }\n\n}\n\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"programa_id\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\"><!--</editable-form>(submit)=\"onSaveData()\" (cancel)=\"onCancel()\">-->\n    <separator [title]=\"lex.translate('Plano de trabalho')\" collapse [collapsed]=\"false\">\n        <div class=\"row\">\n            <input-search #programa [size]=\"6\" disabled controlName=\"programa_id\" [dao]=\"programaDao\"></input-search>\n            <input-search #usuario [size]=\"6\" disabled  controlName=\"usuario_id\" [dao]=\"usuarioDao\"></input-search>\n        </div>\n        <div class=\"row\">\n            <input-search #unidade [size]=\"5\" disabled controlName=\"unidade_id\" [dao]=\"unidadeDao\" ></input-search>\n            <input-search #tipoModalidade disabled [size]=\"3\" controlName=\"tipo_modalidade_id\" [dao]=\"tipoModalidadeDao\"></input-search>\n            <input-text numbers disabled [size]=\"2\" label=\"% prod.\" icon=\"bi bi-hourglass-split\" controlName=\"ganho_produtividade\" [control]=\"form!.controls.ganho_produtividade\" [labelInfo]=\"'Percentual de ganho de produtividade (Será descontado do ' + lex.translate('tempo pactuado')+')'\" [attr.maxlength]=250></input-text>\n            <input-display [size]=\"2\" label=\"H. Parciais\" icon=\"bi bi-clock\" controlName=\"tempo_proporcional\" [control]=\"form!.controls.tempo_proporcional\" labelInfo=\"Total de horas menos os afastamentos.\"></input-display>\n        </div>\n        <div class=\"row\">\n            <input-datetime [size]=\"3\" disabled label=\"Início\" icon=\"bi bi-calendar-date\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" labelInfo=\"Início da Vigência do Programa\"></input-datetime>\n            <input-datetime [size]=\"3\" disabled label=\"Final\" icon=\"bi bi-calendar-date\" controlName=\"data_fim\" [control]=\"form!.controls.data_fim\" labelInfo=\"Final da Vigência do Programa\"></input-datetime>\n            <input-workload [size]=\"3\" disabled [unit]=\"formaContagemCargaHoraria\" label=\"C. Horária\" icon=\"bi bi-hourglass-split\" controlName=\"carga_horaria\" [control]=\"form!.controls.carga_horaria\" labelInfo=\"Carga horária do usuário\"></input-workload>\n            <input-display [size]=\"3\" label=\"H. Totais\" icon=\"bi bi-clock\" controlName=\"tempo_total\" [control]=\"form!.controls.tempo_total\" labelInfo=\"Horas úteis de trabalho no período de vigência considerando a carga horária, feriados e fins de semana\"></input-display>\n        </div>\n    </separator>\n    <div class=\"row\">\n        <input-datetime [size]=\"3\" disabled label=\"Data e hora\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" labelInfo=\"Data de cadastro do termo\"></input-datetime>\n        <input-text [label]=\"'Número ' + lex.translate('Processo')\" [size]=\"3\" controlName=\"numero_processo\" [control]=\"form!.controls.numero_processo\" disabled labelInfo=\"Número do processo, com a formatação de origem\" [attr.maxlength]=250></input-text>\n        <input-search [size]=\"4\" #tipoDocumento [disabled]=\"!form!.controls.numero_processo.value?.length ? 'true' : undefined\" controlName=\"tipo_documento_id\" [dao]=\"tipoDocumentoDao\" required></input-search>\n        <input-switch label=\"Vinculadas\" [disabled]=\"entity?.atividades?.length ? 'true' : undefined\" [size]=\"2\" controlName=\"vinculadas\" [control]=\"form!.controls.vinculadas\" (change)=\"onVinculadasChange($event)\" labelInfo=\"Se inclui as atividades das unidades vinculadas a unidade do plano\"></input-switch>\n    </div>\n    <!--separator title=\"Pré-visualização do termo de adesão\" collapse [collapsed]=\"true\">\n        <plano-termo-adesao #termo [plano]=\"entity\" [vinculadas]=\"!!form?.controls?.vinculadas?.value\"></plano-termo-adesao>\n    </separator/-->\n</editable-form>\n","import { Component, Injector, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { SelectItem } from 'src/app/components/input/input-base';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\nimport { UnitWorkload } from 'src/app/components/input/input-workload/input-workload.component';\nimport { TabsComponent } from 'src/app/components/tabs/tabs.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { DocumentoDaoService } from 'src/app/dao/documento-dao-service';\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\nimport { ProgramaDaoService } from 'src/app/dao/programa-dao.service';\nimport { TipoModalidadeDaoService } from 'src/app/dao/tipo-modalidade-dao.service';\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { Documento } from 'src/app/models/documento.model';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { Programa } from 'src/app/models/programa.model';\nimport { TipoModalidade } from 'src/app/models/tipo-modalidade.model';\nimport { Unidade } from 'src/app/models/unidade.model';\nimport { Usuario } from 'src/app/models/usuario.model';\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\nimport { DocumentoService } from 'src/app/modules/uteis/documentos/documento.service';\nimport { DocumentosComponent } from 'src/app/modules/uteis/documentos/documentos.component';\nimport { CalendarService, Efemerides } from 'src/app/services/calendar.service';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { PlanoTrabalhoService } from '../plano-trabalho.service';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { TemplateDataset, TemplateService } from 'src/app/modules/uteis/templates/template.service';\nimport { Template } from 'src/app/models/template.model';\nimport { UtilService } from 'src/app/services/util.service';\n\n@Component({\n  selector: 'plano-trabalho-form',\n  templateUrl: './plano-trabalho-form.component.html',\n  styleUrls: ['./plano-trabalho-form.component.scss']\n})\n\nexport class PlanoTrabalhoFormComponent extends PageFormBase<PlanoTrabalho, PlanoTrabalhoDaoService> {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @ViewChild('gridAtividades', { static: false }) public gridAtividades?: GridComponent;\n  @ViewChild('gridDocumentos', { static: false }) public gridDocumentos?: GridComponent;\n  @ViewChild('tabs', { static: false }) public tabs?: TabsComponent;\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\n  @ViewChild('programa', { static: false }) public programa?: InputSearchComponent;\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\n  @ViewChild('tipoModalidade', { static: false }) public tipoModalidade?: InputSearchComponent;\n  @ViewChild('planoEntrega', { static: false }) public planoEntrega?: InputSearchComponent;\n  @ViewChild('atividade', { static: false }) public atividade?: InputSearchComponent;\n  @ViewChild('entrega', { static: false }) public entrega?: InputSelectComponent;\n  @ViewChild('documentos', { static: false }) public documentos?: DocumentosComponent;\n\n  public programaDao: ProgramaDaoService;\n  public usuarioDao: UsuarioDaoService;\n  public unidadeDao: UnidadeDaoService;\n  public documentoDao: DocumentoDaoService;\n  public documentoService: DocumentoService;\n  public templateService: TemplateService;\n  public utilService: UtilService;\n  public allPages: ListenerAllPagesService;\n  public calendar: CalendarService;\n  public tipoModalidadeDao: TipoModalidadeDaoService;\n  public planoTrabalhoService: PlanoTrabalhoService;\n  public horasTotais?: Efemerides;\n  public horasParciais?: Efemerides;\n  public planoDataset: TemplateDataset[];\n  public joinPrograma: string[];\n  public entregas: LookupItem[] = [];\n  public planoTrabalho?: PlanoTrabalho;\n  public datasource: any;\n  public template?: Template;\n  public editingId?: string;\n  public gestoresUnidadeExecutora: string[] = [];\n\n  constructor(public injector: Injector) {\n    super(injector, PlanoTrabalho, PlanoTrabalhoDaoService);\n    this.join = [\n      \"unidade.entidade\", \n      \"unidade.gestor:id,usuario_id\", \n      \"unidade.gestor_substituto:id,usuario_id\", \n      \"unidade.gestor_delegado:id,usuario_id\", \n      \"entregas.entrega\", \n      \"entregas.plano_entrega_entrega:id,plano_entrega_id\", \n      \"usuario\", \n      \"programa.template_tcr\", \n      \"tipo_modalidade\", \n      \"documento\", \n      \"documentos.assinaturas.usuario:id,nome,apelido\", \n      \"entregas.plano_entrega_entrega.entrega\",\n      \"entregas.plano_entrega_entrega.plano_entrega.unidade:id,nome,sigla\"\n    ];\n    this.joinPrograma = [\"template_tcr\"];\n    this.programaDao = injector.get<ProgramaDaoService>(ProgramaDaoService);\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    this.documentoService = injector.get<DocumentoService>(DocumentoService);\n    this.templateService = injector.get<TemplateService>(TemplateService);\n    this.utilService = injector.get<UtilService>(UtilService);\n    this.calendar = injector.get<CalendarService>(CalendarService);\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\n    this.tipoModalidadeDao = injector.get<TipoModalidadeDaoService>(TipoModalidadeDaoService);\n    this.documentoDao = injector.get<DocumentoDaoService>(DocumentoDaoService);\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\n    this.modalWidth = 1300;\n    this.planoDataset = this.dao!.dataset();\n    this.form = this.fh.FormBuilder({\n      carga_horaria: { default: \"\" },\n      tempo_total: { default: \"\" },\n      tempo_proporcional: { default: \"\" },\n      data_inicio: { default: new Date() },\n      data_fim: { default: new Date() },\n      usuario_id: { default: \"\" },\n      unidade_id: { default: \"\" },\n      programa_id: { default: \"\" },\n      documento_id: { default: null },\n      documentos: { default: [] },\n      atividades: { default: [] },\n      entregas: { default: [] },\n      tipo_modalidade_id: { default: \"\" },\n      forma_contagem_carga_horaria: { default: \"DIA\" },\n      editar_texto_complementar_unidade: { default: false },\n      editar_texto_complementar_usuario: { default: false },\n      unidade_texto_complementar: { default: \"\" },\n      usuario_texto_complementar: { default: \"\" }\n    }, this.cdRef, this.validate);\n  }\n\n  public ngOnInit() {\n    super.ngOnInit();\n    const segment = (this.url ? this.url[this.url.length - 1]?.path : \"\") || \"\";\n    this.action = [\"termos\"].includes(segment) ? segment : this.action;\n    if (this.entity) [this.entity!.unidade!.gestor?.usuario_id, this.entity!.unidade!.gestor_substituto?.usuario_id, this.entity!.unidade!.gestor_delegado?.usuario_id].forEach(g => {\n      if (g) this.gestoresUnidadeExecutora.push(g);\n    });\n  }\n\n  public atualizarTcr() {\n    this.entity = this.loadEntity();\n    let textoUsuario = this.form!.controls.usuario_texto_complementar.value;\n    let textoUnidade = this.form!.controls.unidade_texto_complementar.value;\n    let documento = this.planoTrabalhoService.atualizarTcr(this.planoTrabalho!, this.entity!, textoUsuario, textoUnidade);\n    this.form?.controls.documento_id.setValue(documento?.id);\n    this.form?.controls.documentos.setValue(this.entity!.documentos);\n    this.datasource = documento?.datasource || {};\n    this.template = this.entity.programa?.template_tcr;\n    this.editingId = [\"ADD\", \"EDIT\"].includes(documento?._status || \"\") ? documento!.id : undefined;\n    this.cdRef.detectChanges();\n  }\n\n  public get isTermos(): boolean {\n    return this.action == \"termos\";\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if (['unidade_id', 'programa_id', 'usuario_id', 'tipo_modalidade_id'].indexOf(controlName) >= 0 && !control.value?.length) {\n      result = \"Obrigatório\";\n    } else if (['carga_horaria'].indexOf(controlName) >= 0 && !control.value) {\n      result = \"Valor não pode ser zero.\";\n    } else if (['data_inicio', 'data_fim'].includes(controlName) && !this.util.isDataValid(control.value)) {\n      result = \"Inválido\";\n    } else if (this.programa && controlName == 'data_inicio' && (control.value as Date).getTime() < this.programa!.selectedEntity?.data_inicio.getTime()) {\n      result = \"Menor que programa\";\n    } else if (this.programa && controlName == 'data_fim' && (control.value as Date).getTime() > this.programa!.selectedEntity?.data_fim.getTime()) {\n      result = \"Maior que programa\";\n    }\n    return result;\n  }\n\n  public formValidation = async (form?: FormGroup) => {\n    /*\n      (RN_PTR_V) INCLUIR/INSERIR\n      O usuário logado precisa possuir a capacidade \"MOD_PTR_INCL\", e:\n          - o usuário logado precisa ser um participante do PGD, habilitado, ou ser gestor da Unidade Executora do plano; (RN_PTR_B); e\n          - o participante do plano precisa estar lotado em uma das áreas de trabalho do usuário logado, ou este deve possuir a capacidade MOD_PTR_USERS_INCL; e\n          - o participante do plano precisa estar lotado na Unidade Executora, ou o usuário logado possuir a capacidade MOD_PTR_INCL_SEM_LOT; e\n          - o novo Plano de Trabalho não pode apresentar período conflitante com outro plano já existente para a mesma Unidade Executora e mesmo participante, ou o usuário logado possuir a capacidade MOD_PTR_INTSC_DATA\n\n      (RN_PTR_M) ALTERAR\n      O usuário logado precisa possuir a capacidade \"MOD_PTR_EDT\", o Plano de Trabalho precisa ser válido (ou seja, nem deletado, nem arquivado, nem estar no status CANCELADO), e:\n          - estando com o status 'INCLUIDO', o usuário logado precisa ser o participante do plano ou o gestor da Unidade Executora;\n          - estando com o status 'AGUARDANDO_ASSINATURA', o usuário logado precisa ser um dos que já assinaram o TCR e todas as assinaturas tornam-se sem efeito;\n          - estando com o status 'ATIVO', o usuário precisa ser gestor da Unidade Executora e possuir a capacidade MOD_PTR_EDT_ATV.\n      Como a alteração pode ser no participante, e nas datas de início e fim do plano, faz-se necessário revalidar as respectivas regras da inserção do plano.\n      Após alterado, o Plano de Trabalho precisa ser repactuado (novo TCR), e o plano retorna ao status 'AGUARDANDO_ASSINATURA';\n    */\n    let result = \"\";\n    let participantePlanoEhLotadoUnidadeExecutora: boolean = false;\n    let participantePlanoEhLotadoAlgumaAreaTrabalho: boolean = false;\n    let periodoPlanoNaoConflitaOutroMesmaUnidadeMesmoParticipante: boolean = true;\n    let usuarioPossuiCapacidadeInclusao: boolean = this.auth.hasPermissionTo(\"MOD_PTR_INCL\");\n    let usuarioPossuiCapacidadeAlteracao: boolean = this.auth.hasPermissionTo(\"MOD_PTR_EDT\");\n    let usuarioEhParticipantePgdHabilitado: boolean = this.auth.usuario!.participacoes_programas.map(pp => pp.programa_id).includes(this.entity!.programa_id);\n    let usuarioEhGestorUnidadeExecutora: boolean = this.gestoresUnidadeExecutora.includes(this.auth.usuario!.id);\n    let planoAtivo: boolean = this.planoTrabalhoService.situacaoPlano(this.entity!) == 'ATIVO';\n    let planoIncluido: boolean = this.planoTrabalhoService.situacaoPlano(this.entity!) == 'INCLUIDO';\n    let planoAguardandoAssinatura: boolean = this.planoTrabalhoService.situacaoPlano(this.entity!) == 'AGUARDANDO_ASSINATURA';\n    let usuarioJaAssinouTCR: boolean = this.entity!.jaAssinaramTCR.includes(this.auth.usuario?.id!);\n    let usuarioEhParticipantePlano: boolean = this.entity!.usuario_id == this.auth.usuario?.id;\n    await this.usuarioDao.getById(this.entity!.usuario_id, [\"lotacao\"]).then((participante) => {\n      participantePlanoEhLotadoAlgumaAreaTrabalho = participante ? this.auth.usuario!.areas_trabalho!.map(at => at.unidade_id).includes(participante!.lotacao!.unidade_id) : false;\n      participantePlanoEhLotadoUnidadeExecutora = participante ? participante!.lotacao!.unidade_id == this.entity!.unidade_id : false;\n    });\n    await this.dao?.query({ where: [[\"unidade_id\", \"==\", this.entity!.unidade_id], [\"usuario_id\", \"==\", this.form?.controls.usuario_id.value], [\"id\", \"!=\", this.entity?.id]]}).getAll().then((planosTrabalho) => {\n      planosTrabalho.forEach(pt => {\n        if (this.utilService.intersection([{ start: this.utilService.asDate(pt.data_inicio)!, end: this.utilService.asDate(pt.data_fim)! }, { start: this.utilService.asDate(this.entity?.data_inicio)!, end: this.utilService.asDate(this.entity?.data_fim)! }])) periodoPlanoNaoConflitaOutroMesmaUnidadeMesmoParticipante = false;\n      });\n    });\n    let usuarioPossuiCapacidadeInclusaoParticipanteNaoLotadoAreasTrabalho: boolean = this.auth.hasPermissionTo(\"MOD_PTR_USERS_INCL\");\n    let usuarioPossuiCapacidadeInclusaoParticipanteNaoLotadoUnidadeExecutora: boolean = this.auth.hasPermissionTo(\"MOD_PTR_INCL_SEM_LOT\");\n    let usuarioPossuiCapacidadeInclusaoPlanoConflitante: boolean = this.auth.hasPermissionTo(\"MOD_PTR_INTSC_DATA\");\n    let usuarioPossuiCapacidadeAlteracaoPlanoAtivo: boolean = this.auth.hasPermissionTo(\"MOD_PTR_EDT_ATV\");\n    if (this.action == \"new\") {\n      if (!usuarioPossuiCapacidadeInclusao) result = \"Você não possui a capacidade de inserir planos de trabalho (MOD_PTR_INCL). \";\n      if (!(usuarioEhParticipantePgdHabilitado || usuarioEhGestorUnidadeExecutora)) result += \"O usuário logado precisa ser um participante habilitado do programa do plano, ou ser um dos gestores da unidade executora. \";\n      if (!(participantePlanoEhLotadoAlgumaAreaTrabalho || usuarioPossuiCapacidadeInclusaoParticipanteNaoLotadoAreasTrabalho)) result += \"O participante de um plano de trabalho deve estar lotado em alguma das áreas de trabalho do usuário logado, ou este precisa possuir a capacidade de ser dispensado dessa regra (MOD_PTR_USERS_INCL). \";\n      if (!(participantePlanoEhLotadoUnidadeExecutora || usuarioPossuiCapacidadeInclusaoParticipanteNaoLotadoUnidadeExecutora)) result += \"O participante de um plano de trabalho deve estar lotado na unidade executora, ou o usuário logado precisa possuir a capacidade de ser dispensado dessa regra (MOD_PTR_INCL_SEM_LOT). \";\n      if (!(periodoPlanoNaoConflitaOutroMesmaUnidadeMesmoParticipante || usuarioPossuiCapacidadeInclusaoPlanoConflitante)) result += \"O período de duração de um plano de trabalho não pode coincidir com o de outro plano já existente para a mesma unidade executora e mesmo participante, ou o usuário logado precisa possuir a capacidade de ser dispensado dessa regra (MOD_PTR_INTSC_DATA). \";\n    } else if (this.action == \"edit\") {\n      if (!usuarioPossuiCapacidadeAlteracao) result = \"Você não possui a capacidade de alterar/editar planos de trabalho (MOD_PTR_EDT). \";\n      if (!this.planoTrabalhoService.isValido(this.entity!)) result += \"O plano de trabalho não é válido, ou seja, foi cancelado, apagado ou arquivado. \";\n      if (planoIncluido && (!(usuarioEhParticipantePlano || usuarioEhGestorUnidadeExecutora))) result += \"Para alterar um plano de trabalho no status INCLUIDO, você precisaria ser o participante do plano. \";\n      if (planoAguardandoAssinatura && (!usuarioJaAssinouTCR)) result += \"Para alterar um plano de trabalho no status AGUARDANDO ASSINATURA, você precisa já ter assinado o TCR. \";\n      if (planoAtivo && (!(usuarioEhGestorUnidadeExecutora && usuarioPossuiCapacidadeAlteracaoPlanoAtivo))) result += \"Para alterar um plano de trabalho no status ATIVO, você precisa ser gestor da unidade executora do plano e possuir a capacidade específica (MOD_PTR_EDT_ATV). \";\n      if (!(participantePlanoEhLotadoAlgumaAreaTrabalho || usuarioPossuiCapacidadeInclusaoParticipanteNaoLotadoAreasTrabalho)) result += \"O participante de um plano de trabalho deve estar lotado em alguma das áreas de trabalho do usuário logado, ou este precisa possuir a capacidade de ser dispensado dessa regra (MOD_PTR_USERS_INCL). \";\n      if (!(participantePlanoEhLotadoUnidadeExecutora || usuarioPossuiCapacidadeInclusaoParticipanteNaoLotadoUnidadeExecutora)) result += \"O participante de um plano de trabalho deve estar lotado na unidade executora, ou o usuário logado precisa possuir a capacidade de ser dispensado dessa regra (MOD_PTR_INCL_SEM_LOT). \";\n      if (!(periodoPlanoNaoConflitaOutroMesmaUnidadeMesmoParticipante || usuarioPossuiCapacidadeInclusaoPlanoConflitante)) result += \"O período de duração de um plano de trabalho não pode coincidir com o de outro plano já existente para a mesma unidade executora e mesmo participante, ou o usuário logado precisa possuir a capacidade de ser dispensado dessa regra (MOD_PTR_INTSC_DATA). \";\n    }\n    return result;\n    // TODO:\n    // Validar se as entregas pertencem ao plano de entregas da unidade\n  };\n\n  public onUnidadeSelect(selected: SelectItem) {\n    let unidade = this.unidade?.selectedEntity as Unidade;\n    this.entity!.unidade = unidade;\n    this.entity!.unidade_id = unidade.id;\n    this.form!.controls.forma_contagem_carga_horaria.setValue(unidade?.entidade?.forma_contagem_carga_horaria || \"DIA\");\n    this.form!.controls.unidade_texto_complementar.setValue(unidade?.texto_complementar_plano || \"\");\n  }\n\n  public onProgramaSelect(selected: SelectItem) {\n    let programa = selected.entity as Programa;\n    this.entity!.programa_id = programa.id;\n    this.entity!.programa = programa;\n    this.form?.controls.data_inicio.updateValueAndValidity();\n    this.form?.controls.data_fim.updateValueAndValidity();\n    this.calculaTempos();\n    this.cdRef.detectChanges();\n  }\n\n  public onUsuarioSelect(selected: SelectItem) {\n    this.form!.controls.usuario_texto_complementar.setValue((selected.entity as Usuario)?.texto_complementar_plano || \"\");\n    this.calculaTempos();\n    this.cdRef.detectChanges();\n  }\n\n  public onDataInicioChange(event: Event) {\n    const di = new Date(this.form!.controls.data_inicio.value).getTime();\n    const df = new Date(this.form!.controls.data_fim.value).getTime();\n    if (df < di) {\n      let diaI = new Date(di);\n      diaI.setDate(diaI.getDate() + 1);\n      this.form!.controls.data_fim.setValue(diaI)\n    }\n    this.calculaTempos();\n  }\n\n  public onDataFimChange(event: Event) {\n    const di = new Date(this.form!.controls.data_inicio.value).getTime();\n    const df = new Date(this.form!.controls.data_fim.value).getTime();\n    if (df < di) {\n      let diaI = new Date(di);\n      diaI.setDate(diaI.getDate() + 1);\n      this.form!.controls.data_fim.setValue(diaI)\n    }\n    this.calculaTempos();\n  }\n\n  public onCargaHorariaChenge(event: Event) {\n    this.calculaTempos();\n  }\n\n  public calculaTempos() {\n    const inicio = this.form?.controls.data_inicio.value;\n    const fim = this.form?.controls.data_fim.value;\n    const carga = this.form?.controls.carga_horaria.value || 8;\n    const usuario = this.usuario?.selectedEntity as Usuario;\n    const unidade = this.unidade?.selectedEntity as Unidade;\n    if (usuario && unidade && this.util.isDataValid(inicio) && this.util.isDataValid(fim)) {\n      this.calendar.loadFeriadosCadastrados(unidade.id).then((feriados) => {\n        this.horasTotais = this.calendar.calculaDataTempoUnidade(inicio, fim, carga, unidade, \"ENTREGA\", [], []);\n        this.horasParciais = this.calendar.calculaDataTempoUnidade(inicio, fim, carga, unidade, \"ENTREGA\", [], usuario.afastamentos);\n        this.form?.controls.tempo_total.setValue(this.horasTotais.tempoUtil);\n        this.form?.controls.tempo_proporcional.setValue(this.horasParciais.tempoUtil);\n      });\n    }\n  }\n\n  public async loadData(entity: PlanoTrabalho, form: FormGroup) {\n    this.planoTrabalho = new PlanoTrabalho(entity);\n    await Promise.all([\n      this.calendar.loadFeriadosCadastrados(entity.unidade_id),\n      this.usuario?.loadSearch(entity.usuario || entity.usuario_id),\n      this.unidade?.loadSearch(entity.unidade || entity.unidade_id),\n      this.programa?.loadSearch(entity.programa || entity.programa_id),\n      this.tipoModalidade?.loadSearch(entity.tipo_modalidade || entity.tipo_modalidade_id)\n    ]);\n    let formValue = Object.assign({}, form.value);\n    form.patchValue(this.util.fillForm(formValue, entity));\n    /*let documento = entity.documentos.find(x => x.id == entity.documento_id);\n    if(documento) this._datasource = documento.datasource;*/\n    this.calculaTempos();\n    this.atualizarTcr();\n  }\n\n  public async initializeData(form: FormGroup) {\n    if (this.isTermos) {\n      this.entity = (await this.dao!.getById(this.urlParams!.get(\"id\")!, this.join))!;\n    } else {\n      this.entity = new PlanoTrabalho();\n      this.entity.carga_horaria = this.auth.entidade?.carga_horaria_padrao || 8;\n      this.entity.forma_contagem_carga_horaria = this.auth.entidade?.forma_contagem_carga_horaria || \"DIA\";\n    }\n    await this.loadData(this.entity, this.form!);\n  }\n\n  /* Cria um objeto Plano baseado nos dados do formulário */\n  public loadEntity(): PlanoTrabalho {\n    let plano: PlanoTrabalho = this.util.fill(new PlanoTrabalho(), this.entity!);\n    plano = this.util.fillForm(plano, this.form!.value);\n    plano.usuario = (this.usuario!.selectedEntity || this.entity?.usuario) as Usuario;\n    plano.unidade = (this.unidade?.selectedEntity || this.entity?.unidade) as Unidade;\n    plano.programa = (this.programa?.selectedEntity || this.entity?.programa) as Programa;\n    plano.tipo_modalidade = (this.tipoModalidade!.selectedEntity || this.entity?.tipo_modalidade) as TipoModalidade;\n    return plano;\n  }\n\n  public async saveData(form: IIndexable): Promise<PlanoTrabalho | boolean> {\n    //let plano = this.loadEntity();\n    /* Atualiza o documento */\n    this.atualizarTcr();\n    /* Confirma dados do documento */\n    this.documentos?.saveData();\n    this.entity!.documentos = this.entity!.documentos.filter((documento: Documento) => {\n      return [\"ADD\", \"EDIT\", \"DELETE\"].includes(documento._status || \"\");\n    });\n    /* Salva separadamente as informações do plano */\n    this.submitting = true;\n    try {\n      let requests: Promise<any>[] = [this.dao!.save(this.entity!, this.join)];\n      if (this.form!.controls.editar_texto_complementar_unidade.value) requests.push(this.unidadeDao.update(this.entity!.unidade_id, { texto_complementar_plano: this.form!.controls.unidade_texto_complementar.value }));\n      if (this.form!.controls.editar_texto_complementar_usuario.value) requests.push(this.usuarioDao.update(this.entity!.usuario_id, { texto_complementar_plano: this.form!.controls.usuario_texto_complementar.value }));\n      let responses = await Promise.all(requests);\n      this.entity = responses[0] as PlanoTrabalho;\n    } finally {\n      this.submitting = false;\n    }\n    return true;\n  }\n\n  public onTabSelect(tab: LookupItem) {\n    if (tab.key == \"TERMO\") this.atualizarTcr();\n  }\n\n  public titleEdit = (entity: PlanoTrabalho): string => {\n    return \"Editando \" + this.lex.translate(\"Plano de Trabalho\") + ': ' + (entity?.usuario?.apelido || \"\");\n  }\n\n  public documentoDynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    let documento: Documento = row as Documento;\n\n    if (this.isTermos && this.planoTrabalhoService.needSign(this.entity, documento)) {\n      result.push({ hint: \"Assinar\", icon: \"bi bi-pen\", onClick: this.signDocumento.bind(this) });\n    }\n    result.push({ hint: \"Preview\", icon: \"bi bi-zoom-in\", onClick: ((documento: Documento) => { this.dialog.html({ title: \"Termo de adesão\", modalWidth: 1000 }, documento.conteudo || \"\"); }).bind(this) });\n\n    return result;\n  }\n\n  public async signDocumento(documento: Documento) {\n    await this.documentoService.sign([documento]);\n    this.cdRef.detectChanges();\n  }\n\n  public get formaContagemCargaHoraria(): UnitWorkload {\n    const forma = this.form?.controls.forma_contagem_carga_horaria.value || \"DIA\";\n    return forma == \"DIA\" ? \"day\" : forma == \"SEMANA\" ? \"week\" : \"mouth\";\n  }\n\n  public onFormaContagemCargaHorariaChange(unit: UnitWorkload) {\n    this.form!.controls.forma_contagem_carga_horaria.setValue(unit == \"day\" ? \"DIA\" : unit == \"week\" ? \"SEMANA\" : \"MES\");\n  }\n\n  public isVigente(documento: Documento): boolean {\n    return this.form!.controls.documento_id.value == documento.id;\n  }\n\n}\n\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [noButtons]=\"isTermos ? 'true' : undefined\" initialFocus=\"plano_entrega_id\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\"><!--</editable-form>(submit)=\"onSaveData()\" (cancel)=\"onCancel()\">-->\n    <tabs #tabs display right [hidden]=\"isTermos ? 'true' : undefined\" [title]=\"!isModal ? title : ''\" [select]=\"onTabSelect.bind(this)\">\n        <tab key=\"DADOS\" label=\"Dados\">\n            <div class=\"row\">\n                <!-- (RI_PTR_1) No formulário de inclusão/edição de um plano de trabalho, o input-search de unidade, programa e usuario devem ficar desabilitados nas edições e habilitado apenas nas inclusões; -->\n                <input-search #unidade [size]=\"4\" required [disabled]=\"action == 'new' ? undefined : 'true'\" controlName=\"unidade_id\" [dao]=\"unidadeDao\" (select)=\"onUnidadeSelect($event)\"></input-search>\n                <input-search #programa [size]=\"4\" required [disabled]=\"action == 'new' ? undefined : 'true'\" controlName=\"programa_id\" [join]=\"joinPrograma\" [dao]=\"programaDao\" (select)=\"onProgramaSelect($event)\"></input-search>\n                <input-search #usuario [size]=\"4\" required controlName=\"usuario_id\" [dao]=\"usuarioDao\" [join]=\"['afastamentos']\" (select)=\"onUsuarioSelect($event)\"></input-search>\n            </div>\n            <div class=\"row\">\n                <input-datetime [size]=\"3\" label=\"Início\" icon=\"bi bi-calendar-date\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" (change)=\"onDataInicioChange($event)\" labelInfo=\"'Início da Vigência do '+ lex.translate('Plano de trabalho')\"  required></input-datetime>\n                <input-datetime [size]=\"3\" label=\"Final\" icon=\"bi bi-calendar-date\" controlName=\"data_fim\" [control]=\"form!.controls.data_fim\" (change)=\"onDataFimChange($event)\" labelInfo=\"'Final da Vigência do ' +lex.translate('Plano de trabalho')\"  required></input-datetime>\n                <input-search #tipoModalidade [size]=\"6\" controlName=\"tipo_modalidade_id\" [dao]=\"tipoModalidadeDao\"  required></input-search>\n            </div>\n            <ng-container *ngIf=\"tipoModalidade!.selectedEntity?.plano_trabalho_calcula_horas\">\n                <div class=\"row\">\n                    <input-workload [size]=\"4\" [unit]=\"formaContagemCargaHoraria\" label=\"Carga Horária\" icon=\"bi bi-hourglass-split\" controlName=\"carga_horaria\" [control]=\"form!.controls.carga_horaria\" [unitChange]=\"onFormaContagemCargaHorariaChange.bind(this)\" (change)=\"onCargaHorariaChenge($event)\" labelInfo=\"Carga horária do usuário (Máx.: diária 24 horas; semana 24*5=240 horas; mensal 24*20=480 horas)\"  required></input-workload>\n                    <input-timer onlyHours disabled [size]=\"4\" label=\"Horas Totais\" icon=\"bi bi-clock\" controlName=\"tempo_total\" [control]=\"form!.controls.tempo_total\" labelInfo=\"Horas úteis de trabalho no período de vigência considerando a carga horária, feriados e fins de semana\"></input-timer>\n                    <input-timer onlyHours disabled [size]=\"4\" label=\"Horas Parciais\" icon=\"bi bi-clock\" controlName=\"tempo_proporcional\" [control]=\"form!.controls.tempo_proporcional\" labelInfo=\"Total de horas menos os afastamentos.\"></input-timer>\n                </div>\n                <separator *ngIf=\"horasTotais\" title=\"Cálculos das horas totais\" collapse>\n                    <calendar-efemerides [efemerides]=\"horasTotais\" [partial]=\"false\"></calendar-efemerides>\n                </separator>\n                <separator *ngIf=\"horasParciais\" title=\"Cálculos das horas parciais\" collapse>\n                    <calendar-efemerides [efemerides]=\"horasParciais\"></calendar-efemerides>\n                </separator>\n            </ng-container>\n            <separator [title]=\"lex.translate('Entregas') + lex.translate(' do plano de trabalho')\">\n                <top-alert *ngIf=\"!form!.controls.programa_id.value?.length || !form!.controls.unidade_id.value?.length\" type=\"warning\" [message]=\"'Antes de incluir ' + lex.translate('entrega') + ' neste ' + lex.translate('Plano de Trabalho') + ', é necessário selecionar ' + lex.translate('a Unidade') + ' e ' + lex.translate('o Programa') + '!'\"></top-alert>\n                <div *ngIf=\"form!.controls.programa_id.value?.length && form!.controls.unidade_id.value?.length\">\n                    <plano-trabalho-list-entrega noPersist [disabled]=\"formDisabled\" [entity]=\"entity\"></plano-trabalho-list-entrega>\n                </div>\n            </separator>\n        </tab>\n        <!--tab key=\"ENTREGAS\" [label]=\"lex.translate('Entrega', true)\">\n            <top-alert *ngIf=\"!form!.controls.plano_entrega_id.value?.length\" type=\"warning\" [message]=\"'Antes de incluir ' + lex.translate('entrega',true) + ' neste ' + lex.translate('Plano de Trabalho') + ', é necessário selecionar um ' + lex.translate('Plano de Entregas') + '!'\"></top-alert>\n            <div *ngIf=\"form!.controls.plano_entrega_id.value?.length\">\n                <editable-form [form]=\"formEntregas!\"  [noButtons]=\"'true'\">\n                    <plano-trabalho-list-entrega noPersist [entity]=\"entity\" [entregasDoPlanoEntrega]=\"entregas\"></plano-trabalho-list-entrega>\n                </editable-form>\n            </div>\n        </tab//-->\n        <tab *ngIf=\"checkFilled(['usuario_id'])\" key=\"MENSAGENS\" label=\"Texto Complementar\">\n            <separator [title]=\"'Texto complementar da '+ lex.translate('unidade')\">\n                <input-switch controlName=\"editar_texto_complementar_unidade\" [size]=\"12\" scale=\"small\" labelPosition=\"right\" [label]=\"'Editar texto complementar na '+ lex.translate('unidade')\"></input-switch>\n                <input-editor controlName=\"unidade_texto_complementar\" [disabled]=\"form!.controls.editar_texto_complementar_unidade.value ? undefined : 'true'\" [dataset]=\"planoDataset\"></input-editor>\n            </separator>\n            <separator title=\"Texto complementar do usuario\">\n                <input-switch controlName=\"editar_texto_complementar_usuario\" [size]=\"12\" scale=\"small\" labelPosition=\"right\" [label]=\"'Editar texto complementar do '+ lex.translate('usuário')\"></input-switch>\n                <input-editor controlName=\"usuario_texto_complementar\" [disabled]=\"form!.controls.editar_texto_complementar_usuario.value ? undefined : 'true'\" [dataset]=\"planoDataset\"></input-editor>\n            </separator>\n        </tab>\n        <tab *ngIf=\"checkFilled(['usuario_id', 'programa_id', 'tipo_modalidade_id'])\" key=\"TERMO\" label=\"Termo\">\n            <!--top-alert *ngIf=\"!isTermos\" type=\"warning\" message=\"Para [INSERIR] ou [ASSINAR] termos escolha opção Termos de adesão na tela de listagem, ou utilize o Sei\"></top-alert/-->\n            <div clss=\"row\">\n                <documentos #documentos [entity]=\"entity\" [disabled]=\"formDisabled\" noPersist [cdRef]=\"cdRef\" [needSign]=\"planoTrabalhoService.needSign\" [extraTags]=\"planoTrabalhoService.extraTags\" especie=\"TCR\" \n                    [editingId]=\"formDisabled ? undefined : editingId\" [datasource]=\"datasource\" [template]=\"programa?.selectedEntity?.template_tcr\"></documentos>\n            </div>\n        </tab>\n    </tabs>\n</editable-form>\n","import { Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { AccordionComponent } from 'src/app/components/accordion/accordion.component';\nimport { BadgeButton } from 'src/app/components/badge/badge.component';\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\n\n@Component({\n  selector: 'plano-trabalho-list-accordeon',\n  templateUrl: './plano-trabalho-list-accordeon.component.html',\n  styleUrls: ['./plano-trabalho-list-accordeon.component.scss']\n})\nexport class PlanoTrabalhoListAccordeonComponent extends PageFrameBase {\n  @ViewChild('accordion', { static: false }) public accordion?: AccordionComponent;\n  @Input() usuarioId?: string;\n  @Input() set arquivados(value: boolean) {\n    if(this._arquivados != value) {\n      this._arquivados = value;\n      if(this.viewInit) this.loadData(this.entity!, this.form);\n    }\n  }\n  get arquivados(): boolean {\n    return this._arquivados;\n  }\n\n  public selectedIndex: number = -1;\n  public dao?: PlanoTrabalhoDaoService;\n  public planos: PlanoTrabalho[] = [];\n\n  private _arquivados: boolean = false;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.dao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\n  }\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    (async () => {\n      await this.loadData(this.entity!, this.form);\n    })();\n  }\n\n  public async loadData(entity: IIndexable, form?: FormGroup) {\n    this.accordion!.loading = true;\n    try {\n      let dados = await this.dao!.getByUsuario(this.usuarioId!, this.arquivados);\n      let agora = (new Date()).getTime();\n      this.planos = dados.planos;\n      for(var i = 0; i < this.planos.length; i++) {\n        if(this.util.asTimestamp(this.planos[i].data_inicio) <= agora && agora <= this.util.asTimestamp(this.planos[i].data_fim) && [\"ATIVO\", \"CONCLUIDO\"].includes(this.planos[i].status)) {\n          this.selectedIndex = i;\n        }\n      }\n    } finally {\n      this.accordion!.loading = false;\n      this.cdRef.detectChanges();\n    }\n  }\n\n  public getPlanoBadges(plano: PlanoTrabalho): BadgeButton[] {\n    let result: BadgeButton[] = [];\n    let concluidos = plano.consolidacoes.filter(x => x.status == \"CONCLUIDO\");\n    let avaliados = plano.consolidacoes.filter(x => x.status == \"AVALIADO\");\n    if(concluidos.length) {\n      const concluido = this.lookup.getLookup(this.lookup.CONSOLIDACAO_STATUS, \"CONCLUIDO\");\n      result.push({\n        icon: concluido?.icon,\n        label: concluido?.value,\n        color: concluido?.color,\n        textValue: concluidos.length.toString()\n      });\n    }\n    if(avaliados.length) {\n      const avaliado = this.lookup.getLookup(this.lookup.CONSOLIDACAO_STATUS, \"AVALIADO\");\n      result.push({\n        icon: avaliado?.icon,\n        label: avaliado?.value,\n        color: avaliado?.color,\n        textValue: avaliados.length.toString()\n      });\n    }\n    if(JSON.stringify(plano._metadata?.badges) != this.JSON.stringify(result)) {\n      plano._metadata = Object.assign(plano._metadata || {}, { badges: result });\n    }\n    return plano._metadata.badges;\n  }\n\n}\n","<accordion #accordion [items]=\"planos\" [selectedIndex]=\"selectedIndex\" [titleTemplate]=\"planoTrabalhoSectionTitle\" [template]=\"planoTrabalhoSection\">\n    <ng-template let-item=\"item\" #planoTrabalhoSectionTitle>\n        <div class=\"row w-100\">\n            <div class=\"col-md-1\">{{'#' + item.numero}}</div>\n            <div class=\"col-md-4\">\n                <badge [icon]=\"entityService.getIcon('Unidade')\" [label]=\"item.unidade?.sigla\" color=\"light\" [hint]=\"lex.translate('Unidade') + ': ' + item.unidade?.nome\"></badge>\n                <badge [icon]=\"entityService.getIcon('Programa')\" [label]=\"item.programa?.nome\" color=\"light\" [hint]=\"lex.translate('Programa')\"></badge>\n                <badge [icon]=\"entityService.getIcon('TipoModalidade')\" [label]=\"item.tipo_modalidade?.nome\" color=\"light\" [hint]=\"lex.translate('Tipo de modalidade')\"></badge>\n            </div>\n            <div class=\"col-md-3\">\n                {{dao!.getDateFormatted(item.data_inicio)+\" até \"+dao!.getDateFormatted(item.data_fim)}}\n            </div>\n            <div class=\"col-md-2\">\n                <badge *ngFor=\"let badge of getPlanoBadges(item)\" [badge]=\"badge\"></badge>\n            </div>\n            <div class=\"col-md-2\">\n                <badge [label]=\"lookup.getValue(lookup.PLANO_TRABALHO_STATUS, item.status)\" [icon]=\"lookup.getIcon(lookup.PLANO_TRABALHO_STATUS, item.status)\" [color]=\"lookup.getColor(lookup.PLANO_TRABALHO_STATUS, item.status)\"></badge>\n            </div>\n        </div>\n    </ng-template>\n    <ng-template let-item=\"item\" #planoTrabalhoSection>\n        <plano-trabalho-consolidacao-list [entity]=\"item\"></plano-trabalho-consolidacao-list>\n    </ng-template>\n</accordion>","import { ChangeDetectorRef, Component, Injector, Input, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\nimport { PlanoTrabalho } from 'src/app/models/plano-trabalho.model';\nimport { PlanoTrabalhoEntrega } from 'src/app/models/plano-trabalho-entrega.model';\nimport { PlanoTrabalhoEntregaDaoService } from 'src/app/dao/plano-trabalho-entrega-dao.service';\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\nimport { PlanoEntregaDaoService } from 'src/app/dao/plano-entrega-dao.service';\nimport { PlanoEntregaEntregaDaoService } from 'src/app/dao/plano-entrega-entrega-dao.service';\nimport { PlanoEntrega } from 'src/app/models/plano-entrega.model';\nimport { PlanoTrabalhoService } from '../plano-trabalho.service';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { PlanoEntregaEntrega } from 'src/app/models/plano-entrega-entrega.model';\n\n@Component({\n  selector: 'plano-trabalho-list-entrega',\n  templateUrl: './plano-trabalho-list-entrega.component.html',\n  styleUrls: ['./plano-trabalho-list-entrega.component.scss']\n})\nexport class PlanoTrabalhoListEntregaComponent extends PageFrameBase {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  @ViewChild('origem', { static: false }) public origem?: InputSelectComponent;\n  @ViewChild('planoEntrega', { static: false }) public planoEntrega?: InputSearchComponent;\n  @ViewChild('entrega', { static: false }) public entrega?: InputSelectComponent;\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\n  @Input() set entity(value: PlanoTrabalho | undefined) { super.entity = value; } get entity(): PlanoTrabalho | undefined { return super.entity; }\n  @Input() set disabled(value: boolean) { if (this._disabled != value) this._disabled = value; } get disabled(): boolean { return this._disabled; }\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\n  @Input() cdRef: ChangeDetectorRef;\n\n  public get items(): PlanoTrabalhoEntrega[] {\n    if (!this.gridControl.value) this.gridControl.setValue(new PlanoTrabalho());\n    if (!this.gridControl.value.entregas) this.gridControl.value.entregas = [];\n    return this.gridControl.value.entregas;\n  }\n  public options: ToolbarButton[] = [];\n  public planoTrabalhoDao?: PlanoTrabalhoDaoService;\n  public planoEntregaDao?: PlanoEntregaDaoService;\n  public peeDao?: PlanoEntregaEntregaDaoService;\n  public planoTrabalhoService: PlanoTrabalhoService;\n  public totalForcaTrabalho: number = 0;\n  public entregas: LookupItem[] = [];\n\n  private _disabled: boolean = false;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.dao = injector.get<PlanoTrabalhoEntregaDaoService>(PlanoTrabalhoEntregaDaoService);\n    this.cdRef = injector.get<ChangeDetectorRef>(ChangeDetectorRef);\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\n    this.planoEntregaDao = injector.get<PlanoEntregaDaoService>(PlanoEntregaDaoService);\n    this.planoTrabalhoService = injector.get<PlanoTrabalhoService>(PlanoTrabalhoService);\n    this.peeDao = injector.get<PlanoEntregaEntregaDaoService>(PlanoEntregaEntregaDaoService);\n    this.join = [\"entrega\", \"plano_entrega_entrega.entrega\", \"plano_entrega_entrega.plano_entrega:id,unidade_id\", \"plano_entrega_entrega.plano_entrega.unidade:id,sigla\"];\n    this.form = this.fh.FormBuilder({\n      origem: { default: null },\n      orgao: { default: null },\n      descricao: { default: \"\" },\n      forca_trabalho: { default: 1 },\n      plano_trabalho_id: { default: null },\n      plano_entrega_id: { default: null },\n      plano_entrega_entrega_id: { default: null }\n    }, this.cdRef, this.validate);\n  }\n\n  /**\n   * Método chamado para a validação dos campos do formulário, por ocasião da edição ou inserção de itens.\n   * @param control \n   * @param controlName \n   * @returns \n   */\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    if (['forca_trabalho'].indexOf(controlName) >= 0 && control.value == 1) return result;\n    if (['descricao', 'forca_trabalho'].indexOf(controlName) >= 0 && !control.value?.length) result = \"Obrigatório!\";\n    if (['forca_trabalho'].indexOf(controlName) >= 0 && (control.value < 1 || control.value > 100)) result = \"Deve estar entre 1 e 100\";\n    if (['plano_entrega_entrega_id'].indexOf(controlName) >= 0) {\n      if (['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(this.form?.controls.origem.value) && !control.value) result = \"Obrigatório!\";\n      if (!!this.entity?.entregas?.filter(e => !!e.plano_entrega_entrega_id && e.id != this.grid?.editing?.id).find(x => x.plano_entrega_entrega_id == control.value)) result = \"Esta entrega está em duplicidade!\"; /* (*2) */\n    }\n    return result;\n  }\n\n  public validateEntregas(): string | undefined {\n    let planoInterval = {start: this.entity!.data_inicio, end: this.entity!.data_fim};\n    for(let entrega of this.items) {\n      let entregaPlano = entrega.plano_entrega_entrega;\n      // valida as datas das entregas quando vinculado a uma entrega do plano de entrega\n      if(entregaPlano) {\n        let entregaDataFim = entregaPlano!.data_fim ? entregaPlano!.data_fim : (entregaPlano!.data_inicio.getTime() <= this.entity!.data_fim.getTime() ? this.entity!.data_fim : undefined);\n        let entregaInterval = {start: entregaPlano!.data_inicio, end: entregaPlano!.data_fim || entregaPlano!.data_inicio};\n        if(!entregaDataFim || !this.util.intersection([entregaInterval, planoInterval])) {\n          return this.lex.translate(\"Entrega\") + \" \" + entregaPlano!.descricao + \" possui datas incompatíveis (início \" + \n            this.util.getDateFormatted(entregaPlano!.data_inicio) + (entregaPlano!.data_fim ? \"e fim \" + this.util.getDateFormatted(entregaPlano!.data_fim) : \"\") + \")\";\n        }\n      }\n    }\n    return undefined;\n  }\n\n  /**\n   * Método chamado na inicialização do componente. Neste momento são carregadas as entregas do catálogo e as entregas da mesma unidade do plano de trabalho,\n   * visto que esses itens não se alteram durante a vida do componente e poderão ser utilizados durante sua utilização.\n   */\n  async ngOnInit() {\n    super.ngOnInit();\n    this.entity = this.metadata?.entity || this.entity;\n    this.totalForcaTrabalho = Math.round(this.somaForcaTrabalho(this.entity?.entregas) * 100) / 100;\n    this.entity!._metadata = this.entity!._metadata || {};\n    this.entity!._metadata.novaEntrega = undefined;\n  }\n\n  /**\n   * Método chamado para inserir uma entrega de plano de trabalho no grid, seja este componente persistente ou não.\n   * @returns \n   */\n  public async addEntrega() {\n    return Object.assign(new PlanoTrabalhoEntrega(), {\n      _status: \"ADD\",\n      id: this.dao!.generateUuid(),\n      plano_trabalho_id: this.entity?.id\n    }) as IIndexable;\n  }\n\n  /**\n   * Método utilizado durante a inclusão/alteração de uma entrega de plano de trabalho no grid, seja este componente persistente ou não\n   * @param form \n   * @param row \n   */\n  public async loadEntrega(form: FormGroup, row: any) {\n    let entrega: PlanoTrabalhoEntrega = row;\n    form.controls.descricao.setValue(row.descricao);\n    form.controls.forca_trabalho.setValue(row.forca_trabalho);\n    form.controls.plano_trabalho_id.setValue(row.plano_trabalho_id);\n    form.controls.plano_entrega_entrega_id.setValue(null);\n    form.controls.orgao.setValue(null);\n    if (entrega._status == \"ADD\") { // É uma nova entrega\n      form.controls.origem.setValue('PROPRIA_UNIDADE');\n    } else if (entrega.plano_entrega_entrega?.plano_entrega?.unidade_id == this.entity!.unidade_id) {\n      form.controls.origem.setValue('PROPRIA_UNIDADE');\n      await this.carregarEntregas(entrega.plano_entrega_entrega.plano_entrega_id!);\n      form.controls.plano_entrega_entrega_id.setValue(entrega.plano_entrega_entrega_id);\n    } else if (entrega.plano_entrega_entrega) {\n      form.controls.origem.setValue('OUTRA_UNIDADE');\n      await this.carregarEntregas(entrega.plano_entrega_entrega.plano_entrega_id!);\n      form.controls.plano_entrega_entrega_id.setValue(entrega.plano_entrega_entrega_id);\n    } else if (!!entrega.orgao?.length) { \n      form.controls.origem.setValue('OUTRO_ORGAO');\n      form.controls.orgao.setValue(entrega.orgao);\n    } else {\n      form.controls.origem.setValue('SEM_ENTREGA');\n    }\n  }\n\n  /**\n   * Método chamado para a exclusão de uma entrega de plano de trabalho do grid, seja este componente persistente ou não. \n   * @param row \n   * @returns \n   */\n  public async removeEntrega(row: any) {\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\n    if (confirm) {\n      this.loading = true;\n      try {\n        this.isNoPersist ? Object.assign(row, { _status: \"DELETE\" }) : await this.dao?.delete(row.id);\n      } finally {\n        this.loading = false;\n      }\n      this.totalForcaTrabalho = Math.round((this.totalForcaTrabalho - ((row as PlanoTrabalhoEntrega).forca_trabalho * 1)) * 100) / 100;\n      return this.isNoPersist ? false : true; // (*3)\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Método chamado no salvamento de uma entrega do plano de trabalho do grid, seja este componente persistente ou não.\n   * @param form \n   * @param row \n   * @returns \n   */\n  public async saveEntrega(form: FormGroup, row: any) {\n\n    this.entity!._metadata = this.entity!._metadata || {};\n    this.entity!._metadata.novaEntrega = row as PlanoTrabalhoEntrega;\n    this.entity!._metadata.novaEntrega.plano_entrega_entrega_id = this.form?.controls.plano_entrega_entrega_id.value;\n    this.entity!._metadata.novaEntrega.orgao = this.form?.controls.orgao.value;\n    this.entity!._metadata.novaEntrega.descricao = this.form?.controls.descricao.value;\n    this.entity!._metadata.novaEntrega.forca_trabalho = this.form?.controls.forca_trabalho.value;\n    this.loading = true;\n    try {\n      if (!this.isNoPersist) {\n        this.entity!._metadata.novaEntrega = await (this.dao as PlanoTrabalhoEntregaDaoService).save(this.entity!._metadata.novaEntrega, this.join);\n        // TODO: Verificar isso (Foi feito uma modificação no grid para isso não ser mais necessário)\n        // if (this.grid?.adding) this.grid!.items[this.grid!.items.length - 1].id = '';  // (*4)\n      }\n    } catch (e: any) {\n      this.error(e.message ? e.message : e.toString() || e);\n    } finally {\n      this.entity!._metadata.novaEntrega.plano_entrega_entrega = this.entrega?.selectedItem?.data || null;\n      row.forca_trabalho = this.form?.controls.forca_trabalho.value * 1;\n      this.totalForcaTrabalho = Math.round(this.somaForcaTrabalho(this.entity?.entregas) * 100) / 100;\n      this.loading = false;\n    }\n    return this.entity!._metadata.novaEntrega;\n  }\n\n  /**\n   * Método chamado para somar os percentuais das forças de trabalho do array de entregas passado como parâmetro.\n   * @param entregas Array de entregas do plano de trabalho\n   * @returns \n   */\n  public somaForcaTrabalho(entregas: PlanoTrabalhoEntrega[] = []): number {\n    return entregas.map(x => x.forca_trabalho * 1).reduce((a, b) => a + b, 0);\n  }\n\n  /**\n   * Método chamado para carregar as entregas da unidade\n   * @param idPlanoOuPlano ID do plano de entregas ou o seu objeto completo.\n   */\n  public async carregarEntregas(idPlanoOuPlano: string | PlanoEntrega): Promise<void> {\n    let planoEntrega = typeof idPlanoOuPlano == 'string' ? await this.planoEntregaDao!.getById(idPlanoOuPlano, [\"entregas.entrega:id,nome\", \"unidade\"]) : idPlanoOuPlano;\n    let planoEntregaComUnidade = {id: planoEntrega?.id, unidade_id: planoEntrega?.unidade_id, unidade: planoEntrega?.unidade};\n    this.entregas = planoEntrega?.entregas.map(epe => Object.assign({}, { key: epe.id, value: epe.entrega?.nome || epe.descricao, data: Object.assign(epe, {plano_entrega: planoEntregaComUnidade}) })) || [];\n    if(!this.entregas.find(x => x.key == this.form!.controls.plano_entrega_entrega_id.value)) this.form!.controls.plano_entrega_entrega_id.setValue(null);\n  }\n\n  /* ---------  TRATAMENTO DOS EVENTOS ----------- */\n\n  public async onOrigemChange(row: any) {\n    let value = this.form!.controls.origem.value;\n    this.cdRef.detectChanges();\n    if (value == 'OUTRO_ORGAO') {\n      this.form?.controls.plano_entrega_entrega_id.setValue(null);\n    } else if(value == 'SEM_ENTREGA') {\n      this.form?.controls.orgao.setValue(null);\n      this.form?.controls.plano_entrega_entrega_id.setValue(null);\n    } if (value == 'PROPRIA_UNIDADE') {\n      this.form?.controls.orgao.setValue(null);\n      this.loading = true;\n      try {\n        let planosEntregas = await this.planoEntregaDao!.query({where: [[\"unidade_id\", \"==\", this.entity!.unidade_id], [\"status\", \"==\", \"ATIVO\"], [\"data_inicio\", \"<=\", this.entity!.data_fim], [\"data_fim\", \">=\", this.entity!.data_inicio]]}).asPromise();\n        if(planosEntregas.length == 1) {\n          this.form?.controls.plano_entrega_id.setValue(planosEntregas[0].id);\n        } else if(this.planoEntrega?.selectedEntity?.unidade_id != this.entity!.unidade_id) {\n          this.planoEntrega?.onSelectClick(new Event(\"SELECT\"));\n        }\n      } finally {\n        this.loading = false;\n      }\n    } if (value == 'OUTRA_UNIDADE') {\n      this.form?.controls.orgao.setValue(null);\n      this.planoEntrega?.onSelectClick(new Event(\"SELECT\"));\n    }\n  }\n\n  public onPlanoEntregaChange(event: Event) {\n    let planoEntrega = this.planoEntrega?.selectedEntity as PlanoEntrega;\n    this.carregarEntregas(planoEntrega);\n  }\n\n  public onEntregaChange(event: Event) {\n    let entrega = this.entrega!.selectedItem?.data as PlanoEntregaEntrega;\n    if(!this.form!.controls.descricao.value?.length) {\n      this.form!.controls.descricao.setValue(entrega?.descricao || \"\");\n    }\n  }\n\n  public onForcaTrabalhoChange(row: any) {\n    let index = this.items.findIndex(x => x[\"id\"] == row[\"id\"]);\n    this.totalForcaTrabalho = Math.round((this.somaForcaTrabalho(this.grid?.items as PlanoTrabalhoEntrega[]) - (this.items[index].forca_trabalho * 1) + (this.form?.controls.forca_trabalho.value * 1)) * 100) / 100;\n  }\n}\n\n/*\nTESTES\n\n                                                  GRID PERSISTENTE                      GRID NÃO-PERSISTENTE\n                                              Fluxo Feliz    Validações                Fluxo Feliz    Validações\nInclusão Entrega Catálogo                          \nInclusão Entrega Mesma Unidade                     \nInclusão Entrega Outra Unidade                     \nAlteração Entrega Catálogo                         \nAlteração Entrega Mesma Unidade                    \nAlteração Entrega Outra Unidade                    \nCancelamento Entrega Catálogo                      \nCancelamento Entrega Mesma Unidade                 \nCancelamento Entrega Outra Unidade                 \nExclusão Entrega Catálogo                          \nExclusão Entrega Mesma Unidade                     \nExclusão Entrega Outra Unidade                     \n\n*/\n\n/*\nOBSERVAÇÕES:\n\n(*2)  this.entity?.entregas?.filter(e => !!e.plano_entrega_entrega_id && e.id != this.grid?.editing?.id).find(x => x.plano_entrega_entrega_id == control.value)\nFiltra as entregas da mesma unidade do plano de trabalho excluindo a entrega que está sendo editada. Em seguida conta aquelas que possuem o mesmo ID da que está sendo editada e dessa forma o resultado deve ser igual a 0, caso contrário a entrega editada\njá existe no grid.\n\n(*3)  return this.isNoPersist ? false : true;\nApós confirmada a remoção pelo usuário, a entrega é setada com _status = \"DELETE\" e é excluída da tela e sua confirmação é retornada para o método onDeleteItem() do gridComponent, que a excluirá também dos items do grid.\nEntretanto, quando se trata de um grid não persistente, ela não deve ser excluída dos items do grid, pois sua exclusão só se efetivará quando entity for salva, levando\ntodas as suas entregas para o back-end, que finalmente excluirá as que possuírem _status = \"DELETE\".\n\n(*4)  if(this.grid?.adding) this.grid!.items[this.grid!.items.length-1].id = '';\nNo caso de o componente ser 'persistente', essa linha apaga o ID que foi criado pelo banco de dados permitindo ao método saveItem do grid.component localizá-lo na sua lista de items para atualizar suas informações na tela.\n\n(*5)  if(!this.entity?.id?.length) return this.entregasPlanoEntrega;\nQuando o componente for chamado por um plano de trabalho (entity) que já existe, não poderá haver alteração no seu plano de entregas, portanto as entregas da mesma unidade do plano de trabalho serão lidas\nna própria entity. No entanto, quando o plano de trabalho (entity) ainda não existir (!this.entity?.id?.length), essas entregas vão variar de acordo com o plano de entregas\nselecionado no inputSelectComponent, e portanto elas serão lidas na variável que reflete essa escolha (this.entregasPlanoEntrega), e essa reflexão ocorre por causa do bind @Input() set/get entregasPlanoEntrega.\n\n\n----------------------+--------------------------------------+----------------------------+--------+------------------------------------\nID do Plano           |       Pode ser que a 'row'           |  Características           | inputs | entrega_id \nde Trabalho           |                                      |                            | search | plano_entrega_entrega_id\n----------------------+--------------------------------------+----------------------------+--------+------------------------------------\n                      | - Já tenha vindo do banco (TIPO I)   |                            | nenhum | um dos dois\n                      |   (foi carregada junto com o Plano)  |                            |        |\n                      |--------------------------------------+----------------------------+--------+------------------------------------\n  EXISTE              | - Tenho sido salva agora no banco    |                            | um dos | um dos dois\n  - Então o Grid é    |   (TIPO II)                          |                            | três   |\n    Persistente       |--------------------------------------+----------------------------+--------+------------------------------------\n                      | - Esteja sendo criada agora          | addEntrega loadEntrega     | um dos | nenhum\n                      |                                      |                            | três   |\n                      |--------------------------------------+----------------------------+--------+------------------------------------     \n                      | - Seja do TIPO I e esteja sendo      | loadEntrega                | um dos | um dos dois\n                      |   editada agora                      |                            | três   |\n                      +--------------------------------------+----------------------------+--------+------------------------------------\n                      | - Seja do TIPO II e esteja sendo     | loadEntrega                | um dos | um dos dois\n                      |   editada agora                      |                            | três   |\n----------------------+--------------------------------------+----------------------------+--------+------------------------------------\n  NÃO                 | - Já exista nos itens do grid        |                            | nenhum | um dos dois\n  EXISTE              |   (foi salva agora, não no banco)    | Possui _status == \"ADD\"    |        |\n  - Então o Grid é    |--------------------------------------+----------------------------+--------+------------------------------------\n    Não-persistente   | - Esteja sendo criada agora          | Possui _status == \"ADD\"    | um dos | nenhum\n                      |                                      | addEntrega loadEntrega     | três   |\n                      |--------------------------------------+----------------------------+--------+------------------------------------\n                      | - Tenha acabado de ser criada e      | Possui _status == \"ADD\"    | um dos | um dos dois\n                      |   já está sendo editada              | loadEntrega                | três   |\n------------------------------------------------------------------------------------------+--------+------------------------------------\n(*) O ADD é inserido pelo método addEntrega e só sai quando persiste no banco e volta\n\n*/","<grid [items]=\"items\" [form]=\"form!\" noMargin #gridEntregas editable [selectable]=\"false\" [minHeight]=\"items.length > 2 ? 0 : 220\" [join]=\"join\" [groupBy]=\"groupBy\"\n    [add]=\"addEntrega.bind(this)\" [remove]=\"removeEntrega.bind(this)\" [save]=\"saveEntrega.bind(this)\" [load]=\"loadEntrega.bind(this)\"\n    [hasDelete]=\"!disabled\" [hasEdit]=\"!disabled\" [hasAdd]=\"!disabled\">\n    <columns>\n        <column [titleTemplate]=\"titleOrigem\" [template]=\"columnOrigem\" [editTemplate]=\"editOrigem\" [verticalAlign]=\"'middle'\" [width]=\"300\" [align]=\"'center'\">\n            <ng-template let-header=\"header\" #titleOrigem><div class=\"text-center\"><span><strong>Origem</strong></span></div></ng-template>\n            <ng-template let-row=\"row\" #columnOrigem>\n                <div class=\"w-100 d-flex justify-content-center\">\n                    <div class=\"one-per-line\">\n                        <badge [label]=\"planoTrabalhoService.tipoEntrega(row, entity).titulo\" [color]=\"planoTrabalhoService.tipoEntrega(row, entity).cor\"></badge>\n                        <badge *ngIf=\"row.plano_entrega_entrega_id?.length\" [label]=\"row.plano_entrega_entrega?.plano_entrega?.unidade?.sigla || 'Desconhecido'\" [icon]=\"entityService.getIcon('Unidade')\" color=\"primary\"></badge>\n                        <badge *ngIf=\"row.orgao?.length\" [label]=\"row.orgao\" icon=\"bi bi-box-arrow-down-left\" color=\"warning\"></badge>\n                    </div>\n                </div>\n            </ng-template>\n            <ng-template let-row=\"row\" #editOrigem>\n                <input-select #origem controlName=\"origem\" controlName=\"origem\" [control]=\"form!.controls.origem\" [items]=\"lookup.ORIGENS_ENTREGAS_PLANO_TRABALHO\" (change)=\"onOrigemChange(row)\"></input-select>\n                <input-search *ngIf=\"['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(origem?.value)\" label #planoEntrega [placeholder]=\"'Selecione o ' + lex.translate('Plano de entrega')\" [join]=\"['entregas.entrega:id,nome', 'unidade']\" [where]=\"origem?.value == 'PROPRIA_UNIDADE' ? [['unidade_id', '==', entity?.unidade_id]] : undefined\" [selectParams]=\"origem?.value == 'PROPRIA_UNIDADE' ? {filter: {unidade_id: entity?.unidade_id}} : undefined\" controlName=\"plano_entrega_id\" [dao]=\"planoEntregaDao\" (change)=\"onPlanoEntregaChange($event)\"></input-search>\n                <input-text *ngIf=\"origem?.value == 'OUTRO_ORGAO'\" #orgao controlName=\"orgao\" placeholder=\"Órgão\" [attr.maxlength]=250></input-text>\n            </ng-template>\n        </column>\n        <column [maxWidth]=\"350\" [titleTemplate]=\"titleEntrega\" [template]=\"columnEntrega\" [editTemplate]=\"editEntrega\" [verticalAlign]=\"'middle'\">\n            <ng-template let-header=\"header\" #titleEntrega><span><strong>Entrega</strong></span></ng-template>\n            <ng-template let-row=\"row\" #columnEntrega>\n                <small>{{ planoTrabalhoService.tipoEntrega(row, entity).nome }}</small>\n                <div *ngIf=\"['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(planoTrabalhoService.tipoEntrega(row, entity).tipo)\" class=\"w-100\">\n                    <badge color=\"light\" icon=\"bi bi-box-arrow-in-right\" [label]=\"util.getDateFormatted(row.plano_entrega_entrega?.data_inicio)\" hint=\"Data de início\"></badge>\n                    <badge color=\"light\" icon=\"bi bi-box-arrow-right\" [label]=\"util.getDateFormatted(row.plano_entrega_entrega?.data_fim)\" hint=\"Data de término\"></badge>\n                </div>\n            </ng-template>\n            <ng-template let-row=\"row\" #editEntrega>\n                <input-select *ngIf=\"['PROPRIA_UNIDADE', 'OUTRA_UNIDADE'].includes(origem?.value)\" #entrega nullable itemNull=\"- Selecione -\" controlName=\"plano_entrega_entrega_id\" [control]=\"form!.controls.plano_entrega_entrega_id\" [items]=\"entregas\" (change)=\"onEntregaChange($event)\"></input-select>\n                <div *ngIf=\"entrega?.selectedItem\" class=\"w-100\">\n                    <badge color=\"light\" icon=\"bi bi-box-arrow-in-right\" [label]=\"util.getDateFormatted(entrega!.selectedItem!.data!.data_inicio)\" hint=\"Data de início\"></badge>\n                    <badge color=\"light\" icon=\"bi bi-box-arrow-right\" [label]=\"util.getDateFormatted(entrega!.selectedItem!.data!.data_fim)\" hint=\"Data de término\"></badge>\n                </div>\n            </ng-template>\n        </column>\n        <column [titleTemplate]=\"titleForcaTrabalho\" [template]=\"columnForcaTrabalho\" [editTemplate]=\"editForcaTrabalho\" [width]=\"125\" [align]=\"'center'\">\n            <ng-template let-header=\"header\" #titleForcaTrabalho>\n                <div class=\"text-center\">\n                    <small><strong>% Força Trab.</strong></small><br>\n                    <small><badge icon=\"bi bi-calculator\" [color]=\"totalForcaTrabalho == 100 ? 'success' : 'warning'\" [label]=\"totalForcaTrabalho + '%'\"></badge></small>\n                </div>\n            </ng-template>\n            <ng-template let-row=\"row\" #columnForcaTrabalho><small>{{  row.forca_trabalho + '%' }}</small></ng-template>\n            <ng-template let-row=\"row\" #editForcaTrabalho><input-text number sufix=\"%\" controlName=\"forca_trabalho\" [control]=\"form!.controls.forca_trabalho\" (change)=\"onForcaTrabalhoChange(row)\" [attr.maxlength]=250></input-text></ng-template>\n        </column>\n        <column [maxWidth]=\"250\" [titleTemplate]=\"titleDescricao\" [template]=\"columnDescricao\" [editTemplate]=\"editDescricao\" [verticalAlign]=\"'middle'\">\n            <ng-template let-header=\"header\" #titleDescricao><div class=\"text-center\"><span><strong>Detalhamento/Descrição dos Trabalhos</strong></span></div></ng-template>\n            <ng-template let-row=\"row\" #columnDescricao><small>{{ row.descricao }}</small></ng-template>\n            <ng-template let-row=\"row\" #editDescricao><input-text controlName=\"descricao\" [control]=\"form!.controls.descricao\" [attr.maxlength]=250></input-text></ng-template>\n        </column>\n        <column type=\"options\"></column>\n    </columns>\n</grid>","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AuthGuard } from 'src/app/guards/auth.guard';\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\nimport { PlanoTrabalhoFormTermoComponent } from './plano-trabalho-form-termo/plano-trabalho-form-termo.component';\nimport { PlanoTrabalhoFormComponent } from './plano-trabalho-form/plano-trabalho-form.component';\nimport { PlanoTrabalhoListComponent } from './plano-trabalho-list/plano-trabalho-list.component';\nimport { PlanoTrabalhoListEntregaComponent } from './plano-trabalho-list-entrega/plano-trabalho-list-entrega.component';\nimport { PlanoTrabalhoConsolidacaoComponent } from './plano-trabalho-consolidacao/plano-trabalho-consolidacao.component';\nimport { PlanoTrabalhoConsolidacaoListComponent } from './plano-trabalho-consolidacao-list/plano-trabalho-consolidacao-list.component';\n\nconst routes: Routes = [\n  { path: '', component: PlanoTrabalhoListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Planos de Trabalho\" } },\n  { path: 'new', component: PlanoTrabalhoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Plano de Trabalho\", modal: true } },\n  { path: 'termo', component: PlanoTrabalhoFormTermoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Termo de adesão\", modal: true } },\n  { path: 'consolidacao/:usuarioId/:planoTrabalhoId', component: PlanoTrabalhoConsolidacaoListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consolidações do Plano de Trabalho\" } },\n  { path: 'consolidacao', component: PlanoTrabalhoConsolidacaoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consolidações\" } },\n  { path: ':id/edit', component: PlanoTrabalhoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição de Plano de Trabalho\", modal: true } },\n  { path: ':id/consult', component: PlanoTrabalhoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Plano de Trabalho\", modal: true } },\n  { path: 'entregaList', component: PlanoTrabalhoListEntregaComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Lista de Entregas do Plano de Trabalho\", modal: true } },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PlanoTrabalhoRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PlanoTrabalhoRoutingModule } from './plano-trabalho-routing.module';\nimport { PlanoTrabalhoFormComponent } from './plano-trabalho-form/plano-trabalho-form.component';\nimport { PlanoTrabalhoListComponent } from './plano-trabalho-list/plano-trabalho-list.component';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { UteisModule } from '../../uteis/uteis.module';\nimport { PlanoTrabalhoFormTermoComponent } from './plano-trabalho-form-termo/plano-trabalho-form-termo.component';\nimport { PlanoTrabalhoListEntregaComponent } from './plano-trabalho-list-entrega/plano-trabalho-list-entrega.component';\nimport { PlanoTrabalhoConsolidacaoComponent } from './plano-trabalho-consolidacao/plano-trabalho-consolidacao.component';\nimport { PlanoTrabalhoConsolidacaoListComponent } from './plano-trabalho-consolidacao-list/plano-trabalho-consolidacao-list.component';\nimport { PlanoTrabalhoListAccordeonComponent } from './plano-trabalho-list-accordeon/plano-trabalho-list-accordeon.component';\nimport { PlanoTrabalhoConsolidacaoFormComponent } from './plano-trabalho-consolidacao-form/plano-trabalho-consolidacao-form.component';\n\n\n@NgModule({\n  declarations: [\n    PlanoTrabalhoFormComponent,\n    PlanoTrabalhoListComponent,\n    PlanoTrabalhoListEntregaComponent,\n    PlanoTrabalhoFormTermoComponent,\n    PlanoTrabalhoConsolidacaoComponent,\n    PlanoTrabalhoConsolidacaoListComponent,\n    PlanoTrabalhoConsolidacaoFormComponent,\n    PlanoTrabalhoListAccordeonComponent\n  ],\n  imports: [\n    CommonModule,\n    ComponentsModule,\n    ReactiveFormsModule,\n    PlanoTrabalhoRoutingModule,\n    UteisModule\n  ]\n})\nexport class PlanoTrabalhoModule { }\n"],"names":["DaoBaseService","PlanoTrabalhoConsolidacaoOcorrenciaDaoService","constructor","injector","dataset","deeps","deepsFilter","i0","ɵɵinject","Injector","factory","ɵfac","providedIn","Base","PlanoTrabalhoConsolidacao","data","data_inicio","Date","data_fim","status","avaliacoes","status_historico","plano_trabalho_id","avaliacao_id","initialization","ChangeDetectorRef","EditableFormComponent","PlanoTrabalhoConsolidacaoDaoService","PageFrameBase","Atividade","PlanoTrabalhoConsolidacaoOcorrencia","PlanoTrabalhoService","TipoAtividadeDaoService","PlanoEntregaService","AtividadeDaoService","AtividadeService","CalendarService","ɵɵelement","ɵɵproperty","ctx_r33","entityService","getIcon","row_r32","tipo_atividade","nome","ɵɵelementStart","ɵɵtemplate","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_4_badge_2_Template","ɵɵelementEnd","ɵɵtext","ɵɵadvance","numero","ctx_r19","atividadeService","onIdClick","bind","ɵɵtextInterpolate","descricao","ɵɵlistener","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_6_Template_input_search_select_0_listener","$event","ɵɵrestoreView","_r37","ctx_r36","ɵɵnextContext","ɵɵresetView","onTipoAtividadeSelect","ctx_r21","lex","translate","formAtividade","controls","tipo_atividade_id","tipoAtividadeDao","auth","hasPermissionTo","undefined","tempo_r40","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_9_badge_1_Template","ctx_r23","temposAtividade","row_r38","ctx_r25","data_distribuicao","data_estipulada_entrega","data_entrega","etiqueta_r46","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_table_3_tr_1_i_2_Template","check_r48","checked","texto","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_table_3_tr_1_Template","row_r42","checklist","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_badge_1_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_separator_2_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_table_3_Template","progresso","etiquetas","length","ctx_r55","i_r57","check_r56","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_16_table_5_tr_1_Template","ctx_r54","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_16_Template_input_select_details_2_listener","_r59","ctx_r58","onEtiquetaConfigClick","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_16_separator_4_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_16_table_5_Template","ctx_r29","formEdit","addItemHandleEtiquetas","etiqueta","row_r51","status_r63","color","icon","label","row_r60","_r17","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_19_badge_2_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_19_comentarios_widget_3_Template","documento_requisicao","ctx_r31","getStatus","entity","editing","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_4_Template","ɵɵtemplateRefExtractor","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_6_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_9_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_11_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_14_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_16_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_ng_template_19_Template","row_r16","atividades","ctx_r4","disabled","addAtividade","entrega","loadAtividade","removeAtividade","saveAtividade","_r18","_r20","_r22","_r24","_r26","_r28","onColumnProgressoEtiquetasChecklistEdit","onColumnProgressoEtiquetasChecklistSave","_r30","atividadeOptionsMetadata","dynamicOptions","dynamicButtons","row_r65","badge","titulo","cor","ctx_r8","row_r66","row_r67","forca_trabalho","row_r68","tipo_motivo_afastamento","icone","ɵɵtextInterpolate1","observacao","PlanoTrabalhoConsolidacaoFormComponent","noPersist","value","control","bindEntity","_disabled","cdRef","detectChanges","joinAtividade","itemsEntregas","itemsOcorrencias","itemsAfastamentos","validateAtividade","controlName","result","indexOf","includes","util","isDataValid","getTime","validateOcorrencia","formOcorrencia","get","dao","consolidacaoOcorrenciaDao","atividadeDao","calendar","ocorrenciaDao","planoTrabalhoService","planoEntregaService","fh","FormBuilder","default","comentarios","esforco","tempo_planejado","refreshId","atividadeRefreshId","removeId","atividadeRemoveId","refresh","loadData","form","_metadata","planoTrabalhoConsolidacaoFormComponent","id","atividade","forEach","foundIndex","findIndex","x","getById","then","splice","ngAfterViewInit","_this","_asyncToGenerator","loadConsolidacao","dados","entregas","map","plano_entrega_entrega","plano_entrega","planosEntregas","find","pe","plano_entrega_id","filter","y","plano_trabalho_entrega_id","tipoEntrega","planoTrabalho","programa","ocorrencias","afastamentos","unidade","plano_trabalho","_this2","gridEntregas","loading","dadosConsolidacao","_this3","efemerides","calculaDataTempoUnidade","carga_horaria","tempoPlanejado","horasUteis","dataInicio","setTime","dataFim","generateUuid","plano_trabalho_entrega","plano_trabalho_consolidacao","demandante","usuario","tempo_despendido","tempoUtil","plano_trabalho_consolidacao_id","demandante_id","usuario_id","unidade_id","metadados","atrasado","tempo_atraso","pausado","iniciado","concluido","avaliado","arquivado","produtividade","extra","_status","row","_this4","patchValue","_this5","confirm","dialog","delete","_this6","markAllAsTouched","valid","fillForm","save","atividadeDynamicButtons","push","Object","assign","BUTTON_EDIT","BUTTON_DELETE","_this7","setValue","merge","a","b","key","config","clone","_this8","saved","update","error","go","navigate","route","params","modal","modalClose","modalResult","selectedItem","item","textHash","validateLookupItem","loadTipoAtividade","tipoAtividade","buildEtiquetas","buildChecklist","comentarioAtividade","addOcorrencia","_this9","loadOcorrencia","_this10","removeOcorrencia","_this11","ocorrencia","saveOcorrencia","_this12","ocorrenciaDynamicButtons","addAfastamento","_this13","metadata","consolidacao","filterSnapshot","querySnapshot","afastamentoDynamicButtons","OPTION_INFORMACOES","onClick","doc","ɵɵdirectiveInject","selectors","viewQuery","PlanoTrabalhoConsolidacaoFormComponent_Query","rf","ctx","PlanoTrabalhoConsolidacaoFormComponent_ng_template_5_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_7_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_10_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_13_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_16_Template","PlanoTrabalhoConsolidacaoFormComponent_ng_template_33_Template","_r1","_r3","_r5","_r7","_r9","_r13","GridComponent","PlanoTrabalhoDaoService","isDisabled","row_r14","ctx_r6","getDateFormatted","row_r17","ctx_r12","lookup","getColor","CONSOLIDACAO_STATUS","row_r19","getValue","PlanoTrabalhoConsolidacaoListComponent","items","consolidacoes","validate","planoTrabalhoDao","title","code","modalWidth","urlParams","has","getByUsuario","planos","agora","v","asTimestamp","grid","expand","addConsolidacao","removeConsolidacao","saveConsolidacao","concluir","submitting","response","consolidacaoForm","refreshExpanded","message","cancelarConclusao","anterior","reduce","proximo","avaliar","editarAvaliacao","fazerRecurso","cancelarAvaliacao","isUsuarioConsolidacao","isGestor","gestor","gestor_substituto","gestor_delegado","BOTAO_CONCLUIR","hint","BOTAO_CANCELAR_CONCLUSAO","BOTAO_AVALIAR","BOTAO_EDITAR_AVALIACAO","BOTAO_FAZER_RECURSO","BOTAO_CANCELAR_AVALIACAO","canConcluir","canCancelarConclusao","canAvaliar","canCancelarAvaliacao","diasParaConcluirConsolidacao","PlanoTrabalhoConsolidacaoListComponent_Query","PlanoTrabalhoConsolidacaoListComponent_ng_template_4_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_6_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_9_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_12_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_15_Template","PlanoTrabalhoConsolidacaoListComponent_ng_template_18_Template","_r11","TabsComponent","UnidadeDaoService","data_r13","url_foto","apelido","data_r14","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_collapse_card_3_ng_template_1_Template","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_collapse_card_3_ng_template_3_Template","usuario_r8","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_div_2_Template","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_collapse_card_3_Template","ɵɵtextInterpolate2","ctx_r5","sigla","usuarios","PlanoTrabalhoConsolidacaoComponent_tab_2_ng_template_1_Template","ctx_r1","_r4","ctx_r3","arquivados","PlanoTrabalhoConsolidacaoComponent","loadingUnidade","unidadeDao","tabs","active","queryParams","tab","unidadeGestor","lotados","PlanoTrabalhoConsolidacaoComponent_Query","PlanoTrabalhoConsolidacaoComponent_tab_2_Template","PlanoTrabalhoConsolidacaoComponent_ng_template_4_Template","isModal","_r2","DocumentoDaoService","ProgramaDaoService","TipoDocumentoDaoService","TipoModalidadeDaoService","UsuarioDaoService","ListenerAllPagesService","PlanoTrabalho","PageFormBase","NavigateResult","PlanoTrabalhoFormTermoComponent","numero_processo","formValidation","tipoDocumento","selectedEntity","tipo_documento_id","titleEdit","join","programaDao","usuarioDao","tipoDocumentoDao","allPages","tipoModalidadeDao","documentoDao","tempo_total","tempo_proporcional","programa_id","documento_id","documentos","vinculadas","tipo_modalidade_id","forma_contagem_carga_horaria","onVinculadasChange","event","formValue","Promise","all","loadSearch","tipoModalidade","tipo_modalidade","processo","id_processo","hora","initializeData","saveData","resolve","reject","codigo_tipo_documento","codigo","formaContagemCargaHoraria","forma","PlanoTrabalhoFormTermoComponent_Query","PlanoTrabalhoFormTermoComponent_Template_editable_form_submit_0_listener","onSaveData","PlanoTrabalhoFormTermoComponent_Template_editable_form_cancel_0_listener","onCancel","PlanoTrabalhoFormTermoComponent_Template_input_switch_change_24_listener","formDisabled","ganho_produtividade","ɵɵattribute","DocumentoService","TemplateService","UtilService","ctx_r10","horasTotais","ctx_r11","horasParciais","ɵɵelementContainerStart","PlanoTrabalhoFormComponent_ng_container_16_Template_input_workload_change_2_listener","onCargaHorariaChenge","PlanoTrabalhoFormComponent_ng_container_16_separator_5_Template","PlanoTrabalhoFormComponent_ng_container_16_separator_6_Template","ɵɵelementContainerEnd","onFormaContagemCargaHorariaChange","ctx_r7","editar_texto_complementar_unidade","planoDataset","editar_texto_complementar_usuario","ctx_r9","needSign","extraTags","editingId","datasource","template_tcr","PlanoTrabalhoFormComponent","_ref","this","gestoresUnidadeExecutora","_x","participantePlanoEhLotadoUnidadeExecutora","participantePlanoEhLotadoAlgumaAreaTrabalho","periodoPlanoNaoConflitaOutroMesmaUnidadeMesmoParticipante","usuarioPossuiCapacidadeInclusao","usuarioPossuiCapacidadeAlteracao","usuarioEhParticipantePgdHabilitado","participacoes_programas","pp","usuarioEhGestorUnidadeExecutora","planoAtivo","situacaoPlano","planoIncluido","planoAguardandoAssinatura","usuarioJaAssinouTCR","jaAssinaramTCR","usuarioEhParticipantePlano","participante","areas_trabalho","at","lotacao","query","where","getAll","planosTrabalho","pt","utilService","intersection","start","asDate","end","usuarioPossuiCapacidadeInclusaoParticipanteNaoLotadoAreasTrabalho","usuarioPossuiCapacidadeInclusaoParticipanteNaoLotadoUnidadeExecutora","usuarioPossuiCapacidadeInclusaoPlanoConflitante","usuarioPossuiCapacidadeAlteracaoPlanoAtivo","action","isValido","apply","arguments","joinPrograma","documentoService","templateService","unidade_texto_complementar","usuario_texto_complementar","ngOnInit","segment","url","path","g","atualizarTcr","loadEntity","textoUsuario","textoUnidade","documento","template","isTermos","onUnidadeSelect","selected","entidade","texto_complementar_plano","onProgramaSelect","updateValueAndValidity","calculaTempos","onUsuarioSelect","onDataInicioChange","di","df","diaI","setDate","getDate","onDataFimChange","inicio","fim","carga","loadFeriadosCadastrados","feriados","carga_horaria_padrao","plano","fill","requests","responses","onTabSelect","documentoDynamicButtons","signDocumento","html","conteudo","sign","unit","isVigente","PlanoTrabalhoFormComponent_Query","PlanoTrabalhoFormComponent_Template_editable_form_submit_0_listener","PlanoTrabalhoFormComponent_Template_editable_form_cancel_0_listener","PlanoTrabalhoFormComponent_Template_input_search_select_5_listener","PlanoTrabalhoFormComponent_Template_input_search_select_7_listener","PlanoTrabalhoFormComponent_Template_input_search_select_9_listener","PlanoTrabalhoFormComponent_Template_input_datetime_change_12_listener","PlanoTrabalhoFormComponent_Template_input_datetime_change_13_listener","PlanoTrabalhoFormComponent_ng_container_16_Template","PlanoTrabalhoFormComponent_top_alert_18_Template","PlanoTrabalhoFormComponent_div_19_Template","PlanoTrabalhoFormComponent_tab_20_Template","PlanoTrabalhoFormComponent_tab_21_Template","ɵɵpureFunction0","_c11","plano_trabalho_calcula_horas","checkFilled","_c12","_c13","badge_r7","PlanoTrabalhoListAccordeonComponent_ng_template_2_badge_10_Template","item_r5","ctx_r2","getPlanoBadges","PLANO_TRABALHO_STATUS","item_r8","PlanoTrabalhoListAccordeonComponent","_arquivados","viewInit","selectedIndex","accordion","usuarioId","i","concluidos","avaliados","getLookup","textValue","toString","JSON","stringify","badges","PlanoTrabalhoListAccordeonComponent_Query","PlanoTrabalhoListAccordeonComponent_ng_template_2_Template","PlanoTrabalhoListAccordeonComponent_ng_template_4_Template","PlanoTrabalhoEntrega","PlanoTrabalhoEntregaDaoService","PlanoEntregaDaoService","PlanoEntregaEntregaDaoService","row_r26","ctx_r27","orgao","PlanoTrabalhoListEntregaComponent_ng_template_6_badge_3_Template","PlanoTrabalhoListEntregaComponent_ng_template_6_badge_4_Template","plano_entrega_entrega_id","PlanoTrabalhoListEntregaComponent_ng_template_8_input_search_2_Template_input_search_change_0_listener","onPlanoEntregaChange","_c3","_r32","ɵɵpureFunction1","_c5","_c4","_c7","_c6","planoEntregaDao","PlanoTrabalhoListEntregaComponent_ng_template_8_Template_input_select_change_0_listener","restoredCtx","_r40","row_r31","ctx_r39","onOrigemChange","PlanoTrabalhoListEntregaComponent_ng_template_8_input_search_2_Template","PlanoTrabalhoListEntregaComponent_ng_template_8_input_text_3_Template","origem","ORIGENS_ENTREGAS_PLANO_TRABALHO","_c8","ctx_r43","PlanoTrabalhoListEntregaComponent_ng_template_13_div_2_Template","tipo","PlanoTrabalhoListEntregaComponent_ng_template_15_input_select_0_Template_input_select_change_0_listener","_r50","ctx_r49","onEntregaChange","ctx_r46","ctx_r47","PlanoTrabalhoListEntregaComponent_ng_template_15_input_select_0_Template","PlanoTrabalhoListEntregaComponent_ng_template_15_div_1_Template","ctx_r14","totalForcaTrabalho","row_r52","PlanoTrabalhoListEntregaComponent_ng_template_22_Template_input_text_change_0_listener","_r55","row_r53","onForcaTrabalhoChange","ctx_r18","row_r57","ctx_r24","PlanoTrabalhoListEntregaComponent","gridControl","options","e","peeDao","validateEntregas","planoInterval","entregaPlano","entregaDataFim","entregaInterval","_superprop_getNgOnInit","call","Math","round","somaForcaTrabalho","novaEntrega","addEntrega","loadEntrega","carregarEntregas","removeEntrega","isNoPersist","saveEntrega","idPlanoOuPlano","planoEntrega","planoEntregaComUnidade","epe","asPromise","onSelectClick","Event","index","PlanoTrabalhoListEntregaComponent_Query","PlanoTrabalhoListEntregaComponent_ng_template_4_Template","PlanoTrabalhoListEntregaComponent_ng_template_6_Template","PlanoTrabalhoListEntregaComponent_ng_template_8_Template","PlanoTrabalhoListEntregaComponent_ng_template_11_Template","PlanoTrabalhoListEntregaComponent_ng_template_13_Template","PlanoTrabalhoListEntregaComponent_ng_template_15_Template","PlanoTrabalhoListEntregaComponent_ng_template_18_Template","PlanoTrabalhoListEntregaComponent_ng_template_20_Template","PlanoTrabalhoListEntregaComponent_ng_template_22_Template","PlanoTrabalhoListEntregaComponent_ng_template_25_Template","PlanoTrabalhoListEntregaComponent_ng_template_27_Template","PlanoTrabalhoListEntregaComponent_ng_template_29_Template","groupBy","_r15","_r19","_r21","_r23","RouterModule","AuthGuard","ConfigResolver","PlanoTrabalhoListComponent","routes","component","canActivate","runGuardsAndResolvers","PlanoTrabalhoRoutingModule","forChild","imports","i1","exports","CommonModule","ComponentsModule","ReactiveFormsModule","UteisModule","PlanoTrabalhoModule","declarations","NgIf","i2","i3","ColumnsComponent","i4","ColumnComponent","i5","FilterComponent","i6","ToolbarComponent","i7","PaginationComponent","i8","InputSwitchComponent","i9","InputSearchComponent","i10","InputTextComponent","i11","InputDatetimeComponent","i12","InputSelectComponent","i13","ReportComponent","i14","OrderComponent","i15","BadgeComponent","i16","DocumentosBadgeComponent"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}