{"version":3,"file":"8448.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEiG;AAEvB;AAEb;AACM;AACgB;AACjB;;;;;;;;;ICTlEM,4DAAA,YAAkC;IAAAA,oDAAA,GAAS;IAAAA,0DAAA,EAAK;;;;IAAdA,uDAAA,GAAS;IAATA,+DAAA,CAAAM,MAAA,CAAAC,KAAA,CAAS;;;ADgBrC,MAAOC,uBAAwB,SAAQX,6EAA8C;EAOzFY,YAAmBC,QAAkB;IACnC,KAAK,CAACA,QAAQ,EAAEd,uEAAU,EAAED,oFAAoB,CAAC;IADhC,KAAAe,QAAQ,GAARA,QAAQ;IAYpB,KAAAC,QAAQ,GAAG,CAACC,OAAwB,EAAEC,WAAmB,KAAI;MAClE,IAAIC,MAAM,GAAG,IAAI;MAEjB,IAAG,CAAC,WAAW,CAAC,CAACC,OAAO,CAACF,WAAW,CAAC,IAAI,CAAC,IAAI,CAACD,OAAO,CAACI,KAAK,EAAEC,MAAM,EAAE;QACpEH,MAAM,GAAG,aAAa;;MAGxB,OAAOA,MAAM;IACf,CAAC;IAqBM,KAAAI,SAAS,GAAIC,MAAkB,IAAY;MAChD,OAAO,WAAW,GAAG,IAAI,CAACC,GAAG,CAACC,SAAS,CAAC,YAAY,CAAC,GAAG,IAAI,IAAIF,MAAM,EAAEG,MAAM,EAAEC,IAAI,IAAI,EAAE,CAAC,GAAG,IAAI,IAAIJ,MAAM,EAAEK,eAAe,EAAEC,MAAM,IAAI,EAAE,CAAC;IAC9I,CAAC;IAzCC,IAAI,CAACC,iBAAiB,GAAGhB,QAAQ,CAACiB,GAAG,CAA2B7B,6FAAwB,CAAC;IACzF,IAAI,CAAC8B,SAAS,GAAGlB,QAAQ,CAACiB,GAAG,CAAmB5B,4EAAgB,CAAC;IAEjE,IAAI,CAAC8B,IAAI,GAAG,IAAI,CAACC,EAAE,CAACC,WAAW,CAAC;MAC9BC,SAAS,EAAE;QAACC,OAAO,EAAE;MAAE,CAAC;MACxBC,kBAAkB,EAAE;QAACD,OAAO,EAAE;MAAE;KACjC,EAAE,IAAI,CAACE,KAAK,EAAE,IAAI,CAACxB,QAAQ,CAAC;IAC7B,IAAI,CAACyB,IAAI,GAAG,CAAC,iBAAiB,CAAC;EACjC;EAYaC,QAAQA,CAAClB,MAAkB,EAAEU,IAAe;IAAA,IAAAS,KAAA;IAAA,OAAAC,sIAAA;MACvD,IAAIC,SAAS,GAAGC,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEb,IAAI,CAACb,KAAK,CAAC;MAC7C,MAAM2B,OAAO,CAACC,GAAG,CAAE,CACjBN,KAAI,CAACO,cAAe,CAACC,UAAU,CAAC3B,MAAM,CAACK,eAAe,IAAIL,MAAM,CAACe,kBAAkB,CAAC,CACrF,CAAC;MACFL,IAAI,CAACkB,UAAU,CAACT,KAAI,CAACU,IAAI,CAACC,QAAQ,CAACT,SAAS,EAAErB,MAAM,CAAC,CAAC;IAAC;EACzD;EAEO+B,cAAcA,CAACrB,IAAe;IACnCA,IAAI,CAACkB,UAAU,CAAC,IAAInD,uEAAU,EAAE,CAAC;EACnC;EAEOuD,QAAQA,CAACtB,IAAgB;IAC9B,OAAO,IAAIc,OAAO,CAAa,CAACS,OAAO,EAAEC,MAAM,KAAI;MACjD,MAAMC,UAAU,GAAG,IAAI,CAACN,IAAI,CAACO,IAAI,CAAC,IAAI3D,uEAAU,EAAE,EAAE,IAAI,CAACuB,MAAO,CAAC;MACjEiC,OAAO,CAAC,IAAI,CAACJ,IAAI,CAACC,QAAQ,CAACK,UAAU,EAAE,IAAI,CAACzB,IAAK,CAACb,KAAK,CAAC,CAAC;IAC3D,CAAC,CAAC;EACJ;EAAC,QAAAwC,CAAA;qBA9CUhD,uBAAuB,EAAAR,+DAAA,CAAAA,mDAAA;EAAA;EAAA,QAAA2D,EAAA;UAAvBnD,uBAAuB;IAAAoD,SAAA;IAAAC,SAAA,WAAAC,8BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;kEACvBrE,2GAAqB;;;;;;;;;;;;;;;QCjBlCM,wDAAA,IAAAkE,qCAAA,gBAAgD;QAChDlE,4DAAA,uBAA8G;QAAhFA,wDAAA,oBAAAoE,iEAAA;UAAA,OAAUJ,GAAA,CAAAK,UAAA,EAAY;QAAA,EAAC,oBAAAC,iEAAA;UAAA,OAA6CN,GAAA,CAAAO,QAAA,EAAU;QAAA,EAAvD;QACjDvE,4DAAA,aAAiB;QACbA,uDAAA,yBAAqH;QACzHA,0DAAA,EAAM;QACNA,4DAAA,aAAiB;QACbA,uDAAA,sBAA6H;QACjIA,0DAAA,EAAM;;;QAPLA,wDAAA,UAAAgE,GAAA,CAAAU,OAAA,CAAc;QACJ1E,uDAAA,GAAc;QAAdA,wDAAA,SAAAgE,GAAA,CAAAnC,IAAA,CAAc;QAEU7B,uDAAA,GAAW;QAAXA,wDAAA,YAAW,QAAAgE,GAAA,CAAAtC,iBAAA;QAG5B1B,uDAAA,GAAU;QAAVA,wDAAA,WAAU,UAAAgE,GAAA,CAAA5C,GAAA,CAAAC,SAAA,mBAAA2C,GAAA,CAAApC,SAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJuC;AACG;AACb;AACM;AACgB;AACjB;;;;;;;;;;;;ICPlE5B,6DAAA,aAAkC;IAAAA,qDAAA,GAAS;IAAAA,2DAAA,EAAK;;;;IAAdA,wDAAA,GAAS;IAATA,gEAAA,CAAAM,MAAA,CAAAC,KAAA,CAAS;;;;;IAW3BP,6DAAA,WAAM;IAACA,qDAAA,GAAmB;IAAAA,2DAAA,EAAO;;;;IAA1BA,wDAAA,GAAmB;IAAnBA,iEAAA,MAAA8E,MAAA,CAAAxD,MAAA,CAAAC,IAAA,KAAmB;;;;;IAK1BvB,6DAAA,WAAM;IAACA,qDAAA,GAA8B;IAAAA,2DAAA,EAAO;;;;IAArCA,wDAAA,GAA8B;IAA9BA,iEAAA,MAAA+E,MAAA,CAAAvD,eAAA,CAAAC,MAAA,KAA8B;;;;;IAKrCzB,6DAAA,WAAM;IAACA,qDAAA,GAAiC;IAAAA,2DAAA,EAAO;;;;IAAxCA,wDAAA,GAAiC;IAAjCA,iEAAA,MAAAgF,MAAA,CAAAxD,eAAA,CAAAyD,SAAA,KAAiC;;;ADPlD,MAAOC,uBAAwB,SAAQN,6EAA8C;EAMzFnE,YAAmBC,QAAkB;IACnC,KAAK,CAACA,QAAQ,EAAEd,uEAAU,EAAED,oFAAoB,CAAC;IADhC,KAAAe,QAAQ,GAARA,QAAQ;IA4CpB,KAAAyE,WAAW,GAAIC,MAAiB,IAAI;MACzC,IAAItE,MAAM,GAAU,EAAE;MACtB,IAAIe,IAAI,GAAQuD,MAAM,CAACpE,KAAK;MAE5B,IAAGa,IAAI,CAACoD,SAAS,EAAEhE,MAAM,EAAE;QACzBH,MAAM,CAACuE,IAAI,CAAC,CAAC,WAAW,EAAE,GAAG,EAAE,IAAI,CAACC,SAAS,EAAE3D,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC;;MAGnE,OAAOb,MAAM;IACf,CAAC;IAnDC,IAAI,CAACsB,IAAI,GAAG,CAAC,iBAAiB,EAAE,QAAQ,CAAC;IACzC,IAAI,CAACV,iBAAiB,GAAGhB,QAAQ,CAACiB,GAAG,CAA2B7B,6FAAwB,CAAC;IACzF,IAAI,CAAC8B,SAAS,GAAGlB,QAAQ,CAACiB,GAAG,CAAmB5B,4EAAgB,CAAC;IAEjE;IACA,IAAI,CAACQ,KAAK,GAAG,IAAI,CAACa,GAAG,CAACC,SAAS,CAAC,aAAa,CAAC;IAC9C,IAAI,CAACkE,IAAI,GAAG,cAAc;IAC1B,IAAI,CAACH,MAAM,GAAG,IAAI,CAACtD,EAAE,CAACC,WAAW,CAAC;MAChCkD,SAAS,EAAE;QAAChD,OAAO,EAAE;MAAE;KACxB,CAAC;IACF;IACA,IAAI,IAAI,CAACuD,IAAI,CAACC,eAAe,CAAC,cAAc,CAAC,EAAE;MAC7C,IAAI,CAACC,OAAO,CAACL,IAAI,CAAC;QAChBM,IAAI,EAAE,mBAAmB;QACzBC,KAAK,EAAE,aAAa;QACpBC,OAAO,EAAE,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,IAAI;OAChC,CAAC;;IAEJ;IACA,IAAI,IAAI,CAACP,IAAI,CAACC,eAAe,CAAC,mBAAmB,CAAC,EAAE;MAClD,IAAI,CAACC,OAAO,CAACL,IAAI,CAAC;QAChBM,IAAI,EAAE,aAAa;QACnBC,KAAK,EAAE,SAAS;QAChBC,OAAO,EAAE,IAAI,CAACG,MAAM,CAACD,IAAI,CAAC,IAAI;OAC/B,CAAC;;EAEN;EAEAE,QAAQA,CAAA;IACN,KAAK,CAACA,QAAQ,EAAE;IAChB,IAAI,CAACrE,SAAS,CAACsE,OAAO,CAAC,IAAI,CAACZ,SAAU,CAAC3D,GAAG,CAAC,WAAW,CAAE,CAAC,CAACwE,IAAI,CAAC7E,MAAM,IAAG;MACtE,IAAI,CAACf,KAAK,GAAG,IAAI,CAACa,GAAG,CAACC,SAAS,CAAC,aAAa,CAAC,GAAG,aAAa,GAAGC,MAAM,EAAEC,IAAI;MAC7E,IAAI,CAACY,KAAK,CAACiE,aAAa,EAAE;IAC5B,CAAC,CAAC;EACJ;EAGOC,WAAWA,CAACjB,MAAiB;IAClCA,MAAM,CAACkB,QAAQ,CAACrB,SAAS,CAACsB,QAAQ,CAAC,EAAE,CAAC;IACtC,KAAK,CAACF,WAAW,CAACjB,MAAM,CAAC;EAC3B;EAAC,QAAA5B,CAAA;qBAhDU0B,uBAAuB,EAAAlF,gEAAA,CAAAA,oDAAA;EAAA;EAAA,QAAA2D,EAAA;UAAvBuB,uBAAuB;IAAAtB,SAAA;IAAAC,SAAA,WAAA2C,8BAAAzC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;mEACvBY,iFAAa;;;;;;;;;;;;;QCf1B3E,yDAAA,IAAAyG,qCAAA,gBAAgD;QAChDzG,6DAAA,cAAoF;QAChFA,wDAAA,cAAmB;QAClBA,6DAAA,gBAA0P;QAEnPA,wDAAA,oBAA+J;QACnKA,2DAAA,EAAM;QAEVA,6DAAA,cAAS;QAEDA,yDAAA,IAAA0G,8CAAA,gCAAA1G,qEAAA,CAEc;QAClBA,2DAAA,EAAS;QACTA,6DAAA,iBAAwD;QACpDA,yDAAA,KAAA4G,+CAAA,gCAAA5G,qEAAA,CAEc;QAClBA,2DAAA,EAAS;QACTA,6DAAA,iBAAgF;QAC5EA,yDAAA,KAAA6G,+CAAA,gCAAA7G,qEAAA,CAEc;QAClBA,2DAAA,EAAS;QACTA,wDAAA,kBAAoE;QACxEA,2DAAA,EAAU;QACVA,wDAAA,sBAA4C;QAChDA,2DAAA,EAAO;;;;;;QA3BFA,yDAAA,UAAAgE,GAAA,CAAAU,OAAA,CAAc;QACb1E,wDAAA,GAAW;QAAXA,yDAAA,QAAAgE,GAAA,CAAA8C,GAAA,CAAW,QAAA9C,GAAA,CAAA+C,GAAA,aAAA/C,GAAA,CAAAgD,OAAA,aAAAhD,GAAA,CAAAiD,OAAA,UAAAjD,GAAA,CAAA5B,IAAA;QAEJpC,wDAAA,GAAsD;QAAtDA,yDAAA,YAAAgE,GAAA,CAAAwB,IAAA,CAAAC,eAAA,kBAAsD,SAAAzB,GAAA,CAAAoB,MAAA,WAAApB,GAAA,CAAAmB,WAAA,YAAAnB,GAAA,CAAAkD,YAAA,CAAAnB,IAAA,CAAA/B,GAAA,YAAAA,GAAA,CAAAqC,WAAA,CAAAN,IAAA,CAAA/B,GAAA,qBAAAA,GAAA,CAAAmD,oBAAA,CAAApB,IAAA,CAAA/B,GAAA,gBAAAA,GAAA,CAAAoD,eAAA;QAE3CpH,wDAAA,GAAW;QAAXA,yDAAA,YAAW,UAAAgE,GAAA,CAAA5C,GAAA,CAAAC,SAAA,2BAAA2C,GAAA,CAAAoB,MAAA,CAAAkB,QAAA,CAAArB,SAAA;QAAsGjF,0DAAA,kBAAoB;QAI7IA,wDAAA,GAAiC;QAAjCA,yDAAA,UAAAgE,GAAA,CAAA5C,GAAA,CAAAC,SAAA,WAAiC,aAAAiG,GAAA;QAKlBtH,wDAAA,GAAgC;QAAhCA,yDAAA,aAAAuH,GAAA,CAAgC;QAK/CvH,wDAAA,GAAqC;QAArCA,yDAAA,UAAAgE,GAAA,CAAA5C,GAAA,CAAAC,SAAA,eAAqC,aAAAmG,GAAA;QAKtBxH,wDAAA,GAAe;QAAfA,yDAAA,WAAAgE,GAAA,CAAAyD,IAAA,CAAe,aAAAzD,GAAA,CAAAgC,MAAA;QAE9BhG,wDAAA,GAAkB;QAAlBA,yDAAA,SAAAgE,GAAA,CAAA0D,SAAA,CAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBqB;AACD;AACa;AACmB;AACA;;;AAEtF,MAAMI,MAAM,GAAW,CACrB;EAAEC,IAAI,EAAE,EAAE;EAAEC,SAAS,EAAE9C,+FAAuB;EAAE+C,WAAW,EAAE,CAACL,gEAAS,CAAC;EAAExE,OAAO,EAAE;IAAE8E,MAAM,EAAEL,6EAAcA;EAAA,CAAE;EAAEM,qBAAqB,EAAE,QAAQ;EAAEC,IAAI,EAAE;IAAE7H,KAAK,EAAE;EAAa;AAAE,CAAE,EAChL;EAAEwH,IAAI,EAAE,KAAK;EAAEC,SAAS,EAAExH,+FAAuB;EAAEyH,WAAW,EAAE,CAACL,gEAAS,CAAC;EAAExE,OAAO,EAAE;IAAE8E,MAAM,EAAEL,6EAAcA;EAAA,CAAE;EAAEM,qBAAqB,EAAE,QAAQ;EAAEC,IAAI,EAAE;IAAE7H,KAAK,EAAE,wBAAwB;IAAE8H,KAAK,EAAE;EAAI;AAAE,CAAE,EAC3M;EAAEN,IAAI,EAAE,UAAU;EAAEC,SAAS,EAAExH,+FAAuB;EAAEyH,WAAW,EAAE,CAACL,gEAAS,CAAC;EAAExE,OAAO,EAAE;IAAE8E,MAAM,EAAEL,6EAAcA;EAAA,CAAE;EAAEM,qBAAqB,EAAE,QAAQ;EAAEC,IAAI,EAAE;IAAE7H,KAAK,EAAE,sBAAsB;IAAE8H,KAAK,EAAE;EAAI;AAAE,CAAE,CAC/M;AAMK,MAAOC,uBAAuB;EAAA,QAAA9E,CAAA;qBAAvB8E,uBAAuB;EAAA;EAAA,QAAA3E,EAAA;UAAvB2E;EAAuB;EAAA,QAAAC,EAAA;cAHxBZ,yDAAY,CAACa,QAAQ,CAACV,MAAM,CAAC,EAC7BH,yDAAY;EAAA;;;sHAEXW,uBAAuB;IAAAG,OAAA,GAAAC,yDAAA;IAAAC,OAAA,GAFxBhB,yDAAY;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;ACduB;AAEuB;AACgB;AACA;AACd;AACnB;;AAe/C,MAAOoB,gBAAgB;EAAA,QAAAvF,CAAA;qBAAhBuF,gBAAgB;EAAA;EAAA,QAAApF,EAAA;UAAhBoF;EAAgB;EAAA,QAAAR,EAAA;cANzBK,yDAAY,EACZC,kFAAgB,EAChBC,+DAAmB,EACnBR,+EAAuB;EAAA;;;sHAGdS,gBAAgB;IAAAC,YAAA,GAVzBxI,+FAAuB,EACvB0E,+FAAuB;IAAAuD,OAAA,GAGvBG,yDAAY,EACZC,kFAAgB,EAChBC,+DAAmB,EACnBR,+EAAuB;EAAA;AAAA","sources":["./src/app/modules/configuracoes/perfil/capacidade/capacidade-form/capacidade-form.component.ts","./src/app/modules/configuracoes/perfil/capacidade/capacidade-form/capacidade-form.component.html","./src/app/modules/configuracoes/perfil/capacidade/capacidade-list/capacidade-list.component.ts","./src/app/modules/configuracoes/perfil/capacidade/capacidade-list/capacidade-list.component.html","./src/app/modules/configuracoes/perfil/capacidade/capacidade-routing.module.ts","./src/app/modules/configuracoes/perfil/capacidade/capacidade.module.ts"],"sourcesContent":["import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { CapacidadeDaoService } from 'src/app/dao/capacidade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Capacidade } from 'src/app/models/capacidade.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { TipoCapacidadeDaoService } from 'src/app/dao/tipo-capacidade-dao.service';\r\nimport { PerfilDaoService } from 'src/app/dao/perfil-dao.service';\r\n\r\n@Component({\r\n  selector: 'app-capacidade-form',\r\n  templateUrl: './capacidade-form.component.html',\r\n  styleUrls: ['./capacidade-form.component.scss']\r\n})\r\nexport class CapacidadeFormComponent extends PageFormBase<Capacidade, CapacidadeDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('tipo_capacidade', { static: false }) public tipoCapacidade?: InputSearchComponent;\r\n\r\n  public tipoCapacidadeDao: TipoCapacidadeDaoService;\r\n  public perfilDao: PerfilDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Capacidade, CapacidadeDaoService);\r\n    this.tipoCapacidadeDao = injector.get<TipoCapacidadeDaoService>(TipoCapacidadeDaoService);\r\n    this.perfilDao = injector.get<PerfilDaoService>(PerfilDaoService);\r\n\r\n    this.form = this.fh.FormBuilder({\r\n      perfil_id: {default: \"\"},\r\n      tipo_capacidade_id: {default: \"\"}\r\n    }, this.cdRef, this.validate);\r\n    this.join = [\"tipo_capacidade\"];\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n\r\n    if(['perfil_id'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: Capacidade, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    await Promise.all ([\r\n      this.tipoCapacidade!.loadSearch(entity.tipo_capacidade || entity.tipo_capacidade_id)\r\n    ]);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n  }\r\n\r\n  public initializeData(form: FormGroup): void {\r\n    form.patchValue(new Capacidade());\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<Capacidade> {\r\n    return new Promise<Capacidade>((resolve, reject) => {\r\n      const capacidade = this.util.fill(new Capacidade(), this.entity!);\r\n      resolve(this.util.fillForm(capacidade, this.form!.value));\r\n    });\r\n  }\r\n\r\n  public titleEdit = (entity: Capacidade): string => {\r\n    return \"Editando \" + this.lex.translate(\"Capacidade\") + ': ' + (entity?.perfil?.nome || \"\") + ': ' + (entity?.tipo_capacidade?.codigo || \"\");\r\n  }\r\n}\r\n\r\n","<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>\r\n<editable-form [form]=\"form!\" (submit)=\"onSaveData()\" initialFocus=\"tipo_capacidade_id\" (cancel)=\"onCancel()\">\r\n    <div class=\"row\">\r\n        <input-search #tipo_capacidade [size]=\"12\" controlName=\"tipo_capacidade_id\" [dao]=\"tipoCapacidadeDao\"></input-search>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-select [size]=\"6\" [label]=\"lex.translate('Perfil')\" controlName=\"perfil_id\" [dao]=\"perfilDao\" required></input-select>\r\n    </div>\r\n</editable-form>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { CapacidadeDaoService } from 'src/app/dao/capacidade-dao.service';\r\nimport { Capacidade } from 'src/app/models/capacidade.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { TipoCapacidadeDaoService } from 'src/app/dao/tipo-capacidade-dao.service';\r\nimport { PerfilDaoService } from 'src/app/dao/perfil-dao.service';\r\n\r\n@Component({\r\n  selector: 'app-capacidade-list',\r\n  templateUrl: './capacidade-list.component.html',\r\n  styleUrls: ['./capacidade-list.component.scss']\r\n})\r\nexport class CapacidadeListComponent extends PageListBase<Capacidade, CapacidadeDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n\r\n  public tipoCapacidadeDao: TipoCapacidadeDaoService;\r\n  public perfilDao: PerfilDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Capacidade, CapacidadeDaoService);\r\n    this.join = [\"tipo_capacidade\", \"perfil\"];\r\n    this.tipoCapacidadeDao = injector.get<TipoCapacidadeDaoService>(TipoCapacidadeDaoService);\r\n    this.perfilDao = injector.get<PerfilDaoService>(PerfilDaoService);\r\n\r\n    /* Inicializações */\r\n    this.title = this.lex.translate(\"Capacidades\");\r\n    this.code = \"MOD_TIPO_CAP\";\r\n    this.filter = this.fh.FormBuilder({\r\n      descricao: {default: \"\"}\r\n    });\r\n    // Testa se o usuário possui permissão para exibir dados do tipo de capacidade\r\n    if (this.auth.hasPermissionTo(\"MOD_TIPO_CAP\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-info-circle\",\r\n        label: \"Informações\",\r\n        onClick: this.consult.bind(this)\r\n      });\r\n    }\r\n    // Testa se o usuário possui permissão para excluir o tipo de capacidade\r\n    if (this.auth.hasPermissionTo(\"MOD_TIPO_CAP_EXCL\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-trash\",\r\n        label: \"Excluir\",\r\n        onClick: this.delete.bind(this)\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.perfilDao.getById(this.urlParams!.get(\"perfil_id\")!).then(perfil => {\r\n      this.title = this.lex.translate(\"Capacidades\") + \" do perfil \" + perfil?.nome;\r\n      this.cdRef.detectChanges();\r\n    });\r\n  }\r\n\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    filter.controls.descricao.setValue(\"\");\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n\r\n    if(form.descricao?.length) {\r\n      result.push([\"perfil_id\", \"=\", this.urlParams?.get(\"perfil_id\")]);\r\n    }\r\n\r\n    return result;\r\n  }\r\n}\r\n\r\n","<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>\r\n<grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\">\r\n    <toolbar></toolbar>\r\n     <filter [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\" [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-text [size]=\"12\" [label]=\"lex.translate('Capacidade')\" controlName=\"descricao\" [control]=\"filter!.controls.descricao\" [attr.maxlength]=250></input-text>\r\n        </div>\r\n    </filter> \r\n    <columns>\r\n        <column [title]=\"lex.translate('Perfil')\" [template]=\"columnPerfil\">\r\n            <ng-template let-row=\"row\" #columnPerfil>\r\n                <span> {{row.perfil.nome}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"Código\" [template]=\"columnCodCapacidade\">\r\n            <ng-template let-row=\"row\" #columnCodCapacidade>\r\n                <span> {{row.tipo_capacidade.codigo}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column [title]=\"lex.translate('Capacidade')\" [template]=\"columnTipoCapacidade\">\r\n            <ng-template let-row=\"row\" #columnTipoCapacidade>\r\n                <span> {{row.tipo_capacidade.descricao}}</span>\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"options\" [onEdit]=\"edit\" [onDelete]=\"delete\"></column>\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { CapacidadeFormComponent } from './capacidade-form/capacidade-form.component';\r\nimport { CapacidadeListComponent } from './capacidade-list/capacidade-list.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: CapacidadeListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Capacidades\" } },\r\n  { path: 'new', component: CapacidadeFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Capacidade\", modal: true } },\r\n  { path: ':id/edit', component: CapacidadeFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição de Capacidade\", modal: true } }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class CapacidadeRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { CapacidadeRoutingModule } from './capacidade-routing.module';\r\nimport { CapacidadeFormComponent } from './capacidade-form/capacidade-form.component';\r\nimport { CapacidadeListComponent } from './capacidade-list/capacidade-list.component';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CapacidadeFormComponent,\r\n    CapacidadeListComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    ReactiveFormsModule,\r\n    CapacidadeRoutingModule\r\n  ]\r\n})\r\nexport class CapacidadeModule { }\r\n"],"names":["EditableFormComponent","CapacidadeDaoService","Capacidade","PageFormBase","TipoCapacidadeDaoService","PerfilDaoService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","title","CapacidadeFormComponent","constructor","injector","validate","control","controlName","result","indexOf","value","length","titleEdit","entity","lex","translate","perfil","nome","tipo_capacidade","codigo","tipoCapacidadeDao","get","perfilDao","form","fh","FormBuilder","perfil_id","default","tipo_capacidade_id","cdRef","join","loadData","_this","_asyncToGenerator","formValue","Object","assign","Promise","all","tipoCapacidade","loadSearch","patchValue","util","fillForm","initializeData","saveData","resolve","reject","capacidade","fill","_","ɵɵdirectiveInject","Injector","_2","selectors","viewQuery","CapacidadeFormComponent_Query","rf","ctx","ɵɵtemplate","CapacidadeFormComponent_h3_0_Template","ɵɵlistener","CapacidadeFormComponent_Template_editable_form_submit_1_listener","onSaveData","CapacidadeFormComponent_Template_editable_form_cancel_1_listener","onCancel","ɵɵelement","ɵɵproperty","isModal","GridComponent","PageListBase","ɵɵtextInterpolate1","row_r7","row_r8","row_r9","descricao","CapacidadeListComponent","filterWhere","filter","push","urlParams","code","auth","hasPermissionTo","options","icon","label","onClick","consult","bind","delete","ngOnInit","getById","then","detectChanges","filterClear","controls","setValue","CapacidadeListComponent_Query","CapacidadeListComponent_h3_0_Template","CapacidadeListComponent_ng_template_8_Template","ɵɵtemplateRefExtractor","CapacidadeListComponent_ng_template_11_Template","CapacidadeListComponent_ng_template_14_Template","dao","add","orderBy","groupBy","filterSubmit","filterCollapseChange","filterCollapsed","ɵɵattribute","_r1","_r3","_r5","edit","rowsLimit","RouterModule","AuthGuard","ConfigResolver","routes","path","component","canActivate","config","runGuardsAndResolvers","data","modal","CapacidadeRoutingModule","_3","forChild","imports","i1","exports","CommonModule","ComponentsModule","ReactiveFormsModule","CapacidadeModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}