{"version":3,"sources":["./src/app/modules/configuracoes/preferencia/preferencia-form-petrvs/preferencia-form-petrvs.component.ts","./src/app/modules/configuracoes/preferencia/preferencia-form-petrvs/preferencia-form-petrvs.component.html","./src/app/modules/configuracoes/preferencia/preferencia.module.ts","./src/app/modules/configuracoes/preferencia/preferencia-form/preferencia-form.component.ts","./src/app/modules/configuracoes/preferencia/preferencia-form/preferencia-form.component.html","./src/app/modules/configuracoes/preferencia/preferencia-routing.module.ts","./src/app/modules/configuracoes/preferencia/preferencia-form-usuario/preferencia-form-usuario.component.ts","./src/app/modules/configuracoes/preferencia/preferencia-form-usuario/preferencia-form-usuario.component.html"],"names":[],"mappings":"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","file":"modules-configuracoes-preferencia-preferencia-module.60534c000ab22b8cf9a7.js","sourcesContent":["import { Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { Entidade } from 'src/app/models/entidade.model';\r\nimport { EntidadeDaoService } from 'src/app/dao/entidade-dao.service';\r\n\r\n@Component({\r\n  selector: 'preferencia-form-petrvs',\r\n  templateUrl: './preferencia-form-petrvs.component.html',\r\n  styleUrls: ['./preferencia-form-petrvs.component.scss']\r\n})\r\nexport class PreferenciaFormPetrvsComponent extends PageFormBase<Entidade, EntidadeDaoService> implements OnInit {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @Input() panel?: string;\r\n\r\n  public form: FormGroup;\r\n  public carregando: boolean = false;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Entidade, EntidadeDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public get isPanel(): boolean {\r\n    return this.panel != undefined;\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: Entidade, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.carregando = true;\r\n    try {\r\n      this.entity = new Entidade();\r\n      await this.loadData(this.entity, form);\r\n    } finally {\r\n      this.carregando = false;\r\n    }\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<boolean> {\r\n    return new Promise<boolean>((resolve, reject) => {\r\n      //let atividade = this.util.fill(new Entidade(), this.entity!);\r\n      //resolve(this.util.fillForm(atividade, this.form!.value));\r\n      resolve(!this.isPanel);\r\n    });\r\n  }\r\n\r\n  public titleEdit = (entity: Entidade): string => {\r\n    return \"Editando \";// + (entity?.unidade_id || \"\");\r\n  }\r\n}\r\n","<div *ngIf=\"carregando\" class=\"d-flex justify-content-center\">\r\n    <div class=\"spinner-border\" role=\"status\">\r\n        <span class=\"visually-hidden\"></span>\r\n    </div>\r\n</div>\r\n<div [class.d-none]=\"carregando\">\r\n    <editable-form [form]=\"form!\" [noButtons]=\"isPanel ? 'true' : undefined\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n        Em desenvolvimento\r\n    </editable-form>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { PreferenciaRoutingModule } from './preferencia-routing.module';\r\nimport { PreferenciaFormComponent } from './preferencia-form/preferencia-form.component';\r\nimport { PreferenciaFormPetrvsComponent } from './preferencia-form-petrvs/preferencia-form-petrvs.component';\r\nimport { PreferenciaFormUsuarioComponent } from './preferencia-form-usuario/preferencia-form-usuario.component';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PreferenciaFormComponent,\r\n    PreferenciaFormPetrvsComponent,\r\n    PreferenciaFormUsuarioComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    ReactiveFormsModule,\r\n    PreferenciaRoutingModule\r\n  ]\r\n})\r\nexport class PreferenciaModule { }\r\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { PageBase } from 'src/app/modules/base/page-base';\r\nimport { PreferenciaFormPetrvsComponent } from '../preferencia-form-petrvs/preferencia-form-petrvs.component';\r\nimport { PreferenciaFormUsuarioComponent } from '../preferencia-form-usuario/preferencia-form-usuario.component';\r\n\r\n@Component({\r\n  selector: 'app-preferencia-form',\r\n  templateUrl: './preferencia-form.component.html',\r\n  styleUrls: ['./preferencia-form.component.scss']\r\n})\r\nexport class PreferenciaFormComponent extends PageBase implements OnInit {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(PreferenciaFormPetrvsComponent, { static: false }) public petrvs?: PreferenciaFormPetrvsComponent;\r\n  @ViewChild(PreferenciaFormUsuarioComponent, { static: false }) public usuario?: PreferenciaFormUsuarioComponent;\r\n\r\n  public form: FormGroup;\r\n  public mensagemCarregando = \"Carregando dados do formulário...\";\r\n  public mensagemSalvando = \"Salvando dados do formulário...\";\r\n\r\n  /*private _submitting: boolean = false;\r\n  public set submitting(value: boolean) {\r\n    if(!value) {\r\n      this.dialog.closeSppinerOverlay();\r\n    } else if(!this._submitting) {\r\n      this.dialog.showSppinerOverlay(\"Salvando dados do formulário\");\r\n    }\r\n    this._submitting = value;\r\n  }\r\n  public get submitting(): boolean {\r\n    return this._submitting;\r\n  } \r\n  private _loading: boolean = false;\r\n  public set loading(value: boolean) {\r\n    if(!value) {\r\n      this.dialog.closeSppinerOverlay();\r\n    } else if(!this._loading) {\r\n      this.dialog.showSppinerOverlay(\"Carregando dados do formulário\");\r\n    }\r\n    this._loading = value;\r\n  }\r\n  public get loading(): boolean {\r\n    return this._loading;\r\n  }*/\r\n  \r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.form = this.fh.FormBuilder({});\r\n  }\r\n\r\n  public get forceInvalid(): boolean {\r\n    return !!this.petrvs?.form?.invalid || !!this.usuario?.form?.invalid;\r\n  }\r\n\r\n  public async onSaveData() {\r\n    if(!this.forceInvalid) {\r\n      this.submitting = true;\r\n      try {\r\n        await Promise.all([\r\n          this.petrvs?.onSaveData(),\r\n          this.usuario?.onSaveData()\r\n        ]);\r\n        this.dialog.alert(\"Atenção\", \"Algumas modificações só surtirão efeito após atualizar a página.\\nPor motivos de segurança esse procedimento, de atualizar a pagina, deverá ser executado pelo usuário.\");\r\n        this.go.back();\r\n      } catch (error: any) {\r\n        this.editableForm!.error = error.message ? error.message : error;\r\n      } finally {\r\n        this.submitting = false;\r\n      }\r\n    } else {\r\n      if(!this.petrvs?.form?.invalid) this.editableForm!.error = \"Forme Petrvs com erro\";\r\n      if(!this.usuario?.form?.invalid) this.editableForm!.error = \"Forme do usuário com erro\";\r\n    }\r\n  }\r\n\r\n  public onCancel() {\r\n    this.go.back(undefined, this.backRoute);\r\n  }\r\n}\r\n","<editable-form [form]=\"form!\" [forceInvalid]=\"forceInvalid\" [title]=\"isModal ? '' : title\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right>\r\n        <tab key=\"USUARIO\" label=\"Usuário\">\r\n            <preferencia-form-usuario #usuario panel [usuarioId]=\"auth.usuario!.id\"></preferencia-form-usuario>\r\n        </tab>\r\n        <tab key=\"PETRVS\" label=\"Petrvs\">\r\n            <preferencia-form-petrvs #petrvs panel></preferencia-form-petrvs>\r\n        </tab>\r\n        <tab *ngIf=\"auth.unidade?.entidade\" key=\"ENTIDADE\" label=\"Entidade\">\r\n            Em desenvolvimento\r\n        </tab>\r\n    </tabs>\r\n</editable-form>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { PreferenciaFormUsuarioComponent } from './preferencia-form-usuario/preferencia-form-usuario.component';\r\nimport { PreferenciaFormComponent } from './preferencia-form/preferencia-form.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: PreferenciaFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Preferências\" } },\r\n  { path: 'usuario/:id', component: PreferenciaFormUsuarioComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Preferências do usuário\" } }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PreferenciaRoutingModule { }\r\n","import { Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { Usuario, UsuarioConfig, UsuarioNotificacoes } from 'src/app/models/usuario.model';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\n\r\n@Component({\r\n  selector: 'preferencia-form-usuario',\r\n  templateUrl: './preferencia-form-usuario.component.html',\r\n  styleUrls: ['./preferencia-form-usuario.component.scss']\r\n})\r\nexport class PreferenciaFormUsuarioComponent extends PageFormBase<Usuario, UsuarioDaoService> implements OnInit {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @Input() panel?: string;\r\n  @Input() usuarioId?: string;\r\n  \r\n  public etiquetas: boolean = false;\r\n  public form: FormGroup;\r\n  public carregando: boolean = false;\r\n  public toolbarButtons: ToolbarButton[] = [\r\n    {\r\n      label: \"Resetar\",\r\n      icon: \"bi bi-backspace\",\r\n      onClick: () => {\r\n        this.loading = true;\r\n        this.dao!.update(this.usuarioId!, {config: new UsuarioConfig()}).then(usuario => {\r\n          this.initializeData(this.form);\r\n        }).finally(() => {\r\n          this.loading = false;\r\n        });\r\n      }\r\n    }\r\n  ];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Usuario, UsuarioDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      etiquetas: {default: []},\r\n      etiqueta_texto: {default: \"\"},\r\n      etiqueta_icone: {default: null},\r\n      etiqueta_cor: {default: null},\r\n      ocutar_menu_sei: {default: true},\r\n      ocutar_container_petrvs: {default: false},\r\n      notifica_demanda_distribuicao: {default: true},\r\n      notifica_demanda_conclusao: {default: true},\r\n      notifica_demanda_avaliacao: {default: true},\r\n      notifica_demanda_modificacao: {default: true},\r\n      notifica_demanda_comentario: {default: true},\r\n      enviar_email: {default: true},\r\n      enviar_whatsapp: {default: true}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public get isPanel(): boolean {\r\n    return this.panel != undefined;\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    return result;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    if(this.urlParams!.get(\"id\")) {\r\n      this.usuarioId = this.urlParams!.get(\"id\")!;\r\n    }\r\n    this.etiquetas = !!this.queryParams.etiquetas;\r\n  }\r\n\r\n  public async loadData(entity: Usuario, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    formValue = this.util.fillForm(formValue, entity.config || {});\r\n    formValue = this.util.fillForm(formValue, entity.notificacoes || {});\r\n    form.patchValue(formValue);\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.carregando = true;\r\n    try {\r\n      this.entity = (await this.dao!.getById(this.usuarioId!))!;\r\n      await this.loadData(this.entity, form);\r\n    } finally {\r\n      this.carregando = false;\r\n    }\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<boolean> {\r\n    return new Promise<boolean>((resolve, reject) => {\r\n      /*let config = this.util.fill(new UsuarioConfig(), this.entity!.config || {});\r\n      config = this.util.fillForm(config, this.form!.value);\r\n      this.usuario!.config = Object.assign(this.usuario!.config, value);\r\n      this.usuarioDaoService.updateJson(this.usuario!.id, 'config', value);*/\r\n      //this.dao!.update(this.usuarioId!, {config: config})\r\n      let config = this.util.fill(new UsuarioConfig(), this.form!.value);\r\n      let notificacoes = this.util.fill(new UsuarioNotificacoes(), this.form!.value);\r\n      Promise.all([\r\n        this.auth.updateUsuarioConfig(this.usuarioId!, config),\r\n        this.auth.updateUsuarioNotificacoes(this.usuarioId!, notificacoes)\r\n      ]).then(results => {\r\n        if(this.usuarioId == this.auth.usuario!.id) {\r\n          this.auth.authSession().then(result => resolve(!this.isPanel)).catch(reject);\r\n        } else {\r\n          resolve(!this.isPanel);\r\n        }\r\n      }).catch(reject);\r\n    });\r\n  }\r\n\r\n  public addItemHandleEtiquetas(): LookupItem | undefined {\r\n    let result = undefined;\r\n    const value = this.form.controls.etiqueta_texto.value;\r\n    const key = this.util.textHash(value);\r\n    if(value?.length && this.util.validateLookupItem(this.form.controls.etiquetas.value, key)) {\r\n      result = {\r\n        key: key,\r\n        value: this.form.controls.etiqueta_texto.value,\r\n        color: this.form.controls.etiqueta_cor.value,\r\n        icon: this.form.controls.etiqueta_icone.value\r\n      };\r\n      this.form.controls.etiqueta_texto.setValue(\"\");\r\n      this.form.controls.etiqueta_icone.setValue(null);\r\n      this.form.controls.etiqueta_cor.setValue(null);\r\n    }\r\n    return result;\r\n  };\r\n\r\n  public titleEdit = (entity: Usuario): string => {\r\n    return \"Editando \";// + (entity?.unidade_id || \"\");\r\n  }\r\n}\r\n","\r\n<div *ngIf=\"carregando\" class=\"d-flex justify-content-center\">\r\n    <div class=\"spinner-border\" role=\"status\">\r\n        <span class=\"visually-hidden\"></span>\r\n    </div>\r\n</div>\r\n<div [class.d-none]=\"carregando\">\r\n    <toolbar [buttons]=\"toolbarButtons\"></toolbar>\r\n    <editable-form [form]=\"form!\" [noButtons]=\"isPanel ? 'true' : undefined\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n        <div class=\"row\">\r\n            <input-multiselect label=\"Etiquetas\" multiselectStyle=\"inline\" controlName=\"etiquetas\" [size]=\"12\" [control]=\"form!.controls.etiquetas\" [addItemHandle]=\"addItemHandleEtiquetas.bind(this)\">\r\n                <input-text [size]=\"5\" label=\"Texto\" icon=\"bi bi-textarea-t\" controlName=\"etiqueta_texto\" [control]=\"form!.controls.etiqueta_texto\"></input-text>\r\n                <input-select [size]=\"3\" label=\"Ícone\" icon=\"fas fa-sign-out-alt\" controlName=\"etiqueta_icone\" liveSearch [control]=\"form!.controls.etiqueta_icone\" [items]=\"lookup.ICONES\"></input-select>\r\n                <input-color [size]=\"4\" label=\"Cor\" icon=\"bi bi-palette\" controlName=\"etiqueta_cor\" [control]=\"form!.controls.etiqueta_cor\"></input-color>\r\n            </input-multiselect>\r\n        </div>\r\n        <separator *ngIf=\"!etiquetas\" transparent title=\"Preferências de exibição do usuário\">\r\n            <div class=\"row\">\r\n                <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" label=\"Ocutar menu lateral do sei no Controle de Processos\" controlName=\"ocutar_menu_sei\"></input-switch>\r\n                <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" label=\"Ocutar o container Petrvs\" controlName=\"ocutar_container_petrvs\"></input-switch>\r\n            </div>\r\n        </separator>\r\n        <separator transparent title=\"Preferências notificações\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                    <separator transparent title=\"Meios de notificação\"></separator>\r\n                    <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" label=\"Notificar por e-mail\" controlName=\"enviar_email\"></input-switch>\r\n                    <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" label=\"Notificar por Whatsapp\" controlName=\"enviar_whatsapp\"></input-switch>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <separator transparent title=\"Tipos de notificação\"></separator>\r\n                    <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" label=\"Notificar distribuição da demanda\" controlName=\"notifica_demanda_distribuicao\"></input-switch>\r\n                    <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" label=\"Notificar conclusão da demanda\" controlName=\"notifica_demanda_conclusao\"></input-switch>\r\n                    <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" label=\"Notificar avaliação da demanda\" controlName=\"notifica_demanda_avaliacao\"></input-switch>\r\n                    <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" label=\"Notificar modificação da demanda\" controlName=\"notifica_demanda_modificacao\"></input-switch>\r\n                    <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" label=\"Notificar comentário da demanda\" controlName=\"notifica_demanda_comentario\"></input-switch>\r\n                </div>\r\n            </div>\r\n        </separator>\r\n    </editable-form>\r\n</div>"],"sourceRoot":"webpack:///"}