{"version":3,"file":"781.js","mappings":"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","sources":["./src/app/models/unidade-integrante.model.ts","./src/app/modules/configuracoes/usuario/usuario-form/usuario-form.component.ts","./src/app/modules/configuracoes/usuario/usuario-form/usuario-form.component.html","./src/app/modules/configuracoes/usuario/usuario-integrante/usuario-integrante.component.ts","./src/app/modules/configuracoes/usuario/usuario-integrante/usuario-integrante.component.html","./src/app/modules/configuracoes/usuario/usuario-list/usuario-list.component.ts","./src/app/modules/configuracoes/usuario/usuario-list/usuario-list.component.html","./src/app/modules/configuracoes/usuario/usuario-routing.module.ts","./src/app/modules/configuracoes/usuario/usuario.module.ts"],"sourcesContent":["import { Base } from './base.model';\r\nimport { UnidadeIntegranteAtribuicao } from './unidade-integrante-atribuicao.model';\r\nimport { Unidade } from './unidade.model';\r\nimport { Usuario } from './usuario.model';\r\n\r\nexport class IntegranteConsolidado {\r\n    public id: string = \"\"; /* Utilizado somente para garantir o funcionamento do grid */\r\n    public usuario_nome?: string;\r\n    public usuario_apelido?: string;\r\n    public usuario_url_foto?: string;\r\n    public unidade_nome?: string;\r\n    public unidade_sigla?: string;\r\n    public unidade_codigo?: string;\r\n    public atribuicoes: string[] = [];\r\n};\r\n\r\nexport class UnidadeIntegrante extends Base {\r\n    public unidade?: Unidade;\r\n    public usuario?: Usuario;\r\n    public lotado?: UnidadeIntegranteAtribuicao; \r\n    public gestor?: UnidadeIntegranteAtribuicao; \r\n    public gestor_substituto?: UnidadeIntegranteAtribuicao; \r\n    public colaborador?: UnidadeIntegranteAtribuicao; \r\n    public homologador_plano_entrega?: UnidadeIntegranteAtribuicao; \r\n    public avaliador_plano_entrega?: UnidadeIntegranteAtribuicao; \r\n    public avaliador_plano_trabalho?: UnidadeIntegranteAtribuicao; \r\n    public atribuicoes: UnidadeIntegranteAtribuicao[] = [];\r\n    \r\n    public usuario_id: string = \"\"; /* Usuário vinculado */\r\n    public unidade_id: string = \"\"; /* Unidade Vinculada */\r\n    \r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}\r\n\r\n\r\n ","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { PerfilDaoService } from 'src/app/dao/perfil-dao.service';\r\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { UsuarioIntegranteComponent } from '../usuario-integrante/usuario-integrante.component';\r\nimport { TemplateDataset } from 'src/app/modules/uteis/templates/template.service';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { UnidadeIntegranteDaoService } from 'src/app/dao/unidade-integrante-dao.service';\r\nimport { IntegranteConsolidado } from 'src/app/models/unidade-integrante.model';\r\n\r\n@Component({\r\n  selector: 'app-usuario-form',\r\n  templateUrl: './usuario-form.component.html',\r\n  styleUrls: ['./usuario-form.component.scss']\r\n})\r\nexport class UsuarioFormComponent extends PageFormBase<Usuario, UsuarioDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('unidadesIntegrantes', { static: false }) public unidadesIntegrantes?: UsuarioIntegranteComponent;\r\n  @ViewChild('lotacao', { static: false }) public lotacao?: InputSearchComponent;\r\n\r\n  public formLotacao: FormGroup;\r\n  public perfilDao: PerfilDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public integranteDao: UnidadeIntegranteDaoService;\r\n  public planoTrabalhoDao: PlanoTrabalhoDaoService;\r\n  public planoDataset: TemplateDataset[]; \r\n \r\n  constructor(public injector: Injector) {\r\n    super(injector, Usuario, UsuarioDaoService);\r\n    this.perfilDao = injector.get<PerfilDaoService>(PerfilDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.integranteDao = injector.get<UnidadeIntegranteDaoService>(UnidadeIntegranteDaoService);\r\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      email: {default: \"\"},\r\n      nome: {default: \"\"},\r\n      cpf: {default: \"\"},\r\n      matricula: {default: \"\"},\r\n      apelido: {default: \"\"},\r\n      telefone: {default: \"\"},\r\n      uf: {default: \"\"},\r\n      sexo: {default: null},\r\n      url_foto: {default: \"\"},\r\n      texto_complementar_plano: {default: \"\"},\r\n      perfil_id: {default: null},\r\n      atribuicoes: { default: []}\r\n    }, this.cdRef, this.validate);\r\n    this.formLotacao = this.fh.FormBuilder({\r\n      unidade_lotacao_id: {default: \"\"},\r\n    }, this.cdRef);\r\n    this.planoDataset = this.planoTrabalhoDao.dataset();\r\n    this.join = [\"lotacao.unidade:id\"];\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {   \r\n    let result = null;\r\n    if(['cpf', 'matricula', 'email', 'nome', 'apelido', 'perfil_id'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    else if(controlName == \"cpf\" && !this.util.validarCPF(control.value)) {\r\n      result = \"Inválido\";\r\n    }\r\n    return result;\r\n  }\r\n  \r\n  public formValidation = (form?: FormGroup) => {\r\n    if(!this.formLotacao?.controls.unidade_lotacao_id.value?.length) {\r\n      return \"É obrigatória a definição da unidade de lotação do servidor!\";\r\n    };\r\n    const erros_atribuicoes = [];\r\n    form?.controls.atribuicoes.value?.forEach((atribuicao: { nome: string; unidade_id: string }) => {\r\n      if(atribuicao.unidade_id == '') erros_atribuicoes.push({ atribuicao: atribuicao, erro: 'Falta unidade_id'})\r\n    });\r\n    if(erros_atribuicoes.length) return \"Salve a unidade antes de salvar o usuário\"\r\n    return undefined;\r\n  } \r\n\r\n  public loadData(entity: Usuario, form: FormGroup): void {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    this.formLotacao.controls.unidade_lotacao_id.setValue(entity.lotacao?.unidade?.id);\r\n  }\r\n\r\n  public initializeData(form: FormGroup): void {\r\n    this.entity = new Usuario();\r\n    this.loadData(this.entity, form); \r\n  }\r\n  \r\n  public saveData(form: IIndexable): Promise<boolean> {      \r\n    return new Promise<boolean>((resolve, reject) => {\r\n      this.unidadesIntegrantes!.grid!.confirm();\r\n      let usuario = this.util.fill(new Usuario(), this.entity!);\r\n      usuario = this.util.fillForm(usuario, this.form!.value);\r\n      //usuario.unidades_integrante = usuario.atribuicoes.filter((x: { _status: any; unidade_id: string; nome: string; }) => [\"ADD\", \"EDIT\", \"DELETE\"].includes(x._status || \"\") && x.unidade_id?.length && x.nome?.length);\r\n      usuario.unidades_integrante = this.unidadesIntegrantes?.grid?.items.filter((x: any) => [\"ADD\", \"EDIT\", \"DELETE\"].includes(x._status || \"\") && x.unidade_id?.length && x.nome?.length);\r\n      this.dao?.save(usuario).then(async usuario => {\r\n        //if(this.formLotacao.controls.unidade_lotacao_id.value != usuario.lotacao?.unidade_id) this.integranteDao.saveIntegrante([{'unidade_id': this.formLotacao!.controls.unidade_lotacao_id!.value, 'usuario_id': usuario.id, 'atribuicoes': [\"LOTADO\"]}]);\r\n        resolve(true);\r\n      });\r\n    });\r\n  }\r\n\r\n  public titleEdit = (entity: Usuario): string => {\r\n    return \"Editando \" + this.lex.translate(\"Usuário\") + ': ' + (entity?.matricula || \"\") + ' - ' + (entity?.apelido || \"\");\r\n  }\r\n\r\n  public onLotacaoChange(){\r\n    //this.unidadesIntegrantes?.items.splice(this.unidadesIntegrantes?.items.indexOf(),1);\r\n  }\r\n\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right>\r\n        <tab key=\"PRINCIPAL\" label=\"Principal\">\r\n            <div class=\"row\">\r\n                <div class=\"form-group col-md-3 text-center\">\r\n                    <profile-picture [url]=\"form!.controls.url_foto.value\" class=\"mt-5\" [size]=\"150\"></profile-picture>\r\n                </div>\r\n                <div class=\"form-group col-md-9\">\r\n                    <div class=\"row\">\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_CPF') ? 'true' : undefined\" [size]=\"4\" label=\"CPF\" controlName=\"cpf\" [maskFormat]=\"'000.000.000-00'\"></input-text>\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_MAT') ? 'true' : undefined\" [size]=\"3\" label=\"Matrícula\" controlName=\"matricula\"></input-text>\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_MAIL') ? 'true' : undefined\" [size]=\"5\" label=\"E-mail\" controlName=\"email\" textCase=\"lower\"></input-text>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-text [size]=\"8\" label=\"Nome\" controlName=\"nome\"></input-text>\r\n                        <input-text [size]=\"4\" label=\"Apelido\" controlName=\"apelido\"></input-text>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-select [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_PERFIL') ? 'true' : undefined\" [size]=\"4\" label=\"Perfil\" controlName=\"perfil_id\" [dao]=\"perfilDao\"></input-select>\r\n                        <input-search #lotacao label=\"Lotação\" [size]=\"8\" [emptyValue]=\"null\" [control]=\"formLotacao!.controls.unidade_lotacao_id\" controlName=\"unidade_lotacao_id\" [dao]=\"unidadeDao\" labelInfo=\"Unidade de lotação do Usuário\" (change)=\"onLotacaoChange()\"></input-search>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-select [size]=\"4\" label=\"UF\" icon=\"bi bi-flag\" controlName=\"uf\" [items]=\"lookup.UF\"></input-select>\r\n                        <input-radio [size]=\"4\" label=\"Sexo\" controlName=\"sexo\" [items]=\"lookup.SEXO\"></input-radio>\r\n                        <input-text [size]=\"4\" label=\"Telefone\" controlName=\"telefone\" [maskFormat]=\"'(00) 0000-0000||(00) 0 0000-0000'\"></input-text>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"CONFIGURACOES\" label=\"Configurações\">\r\n            <div class=\"row\">\r\n                <input-editor [label]=\"'Texto complementar ' + lex.translate('Plano de Trabalho')\" controlName=\"texto_complementar_plano\" [dataset]=\"planoDataset\"></input-editor>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"ATRIBUICOES\" [label]=\"lex.translate('Atribuições')\">\r\n            <usuario-integrante #unidadesIntegrantes noPersist [entity]=\"entity\" [entity_id]=\"entity?.id\"></usuario-integrante>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>","import { Component, Injector, Input, Type, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UnidadeIntegranteDaoService } from 'src/app/dao/unidade-integrante-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { IIndexable, TypeAtribuicao } from 'src/app/models/base.model';\r\nimport { IntegranteConsolidado } from 'src/app/models/unidade-integrante.model';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\n\r\n@Component({\r\n  selector: 'usuario-integrante',\r\n  templateUrl: './usuario-integrante.component.html',\r\n  styleUrls: ['./usuario-integrante.component.scss']\r\n})\r\nexport class UsuarioIntegranteComponent extends PageFrameBase {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n  @Input() set entity(value: Usuario | undefined) { super.entity = value; } get entity(): Usuario | undefined { return super.entity; }\r\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\r\n  @Input() public entity_id?: string;\r\n\r\n  public items: IntegranteConsolidado[] = [];\r\n  public integranteDao: UnidadeIntegranteDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public usuario?: Usuario;\r\n  public tiposAtribuicao: LookupItem[] = [];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.integranteDao = injector.get<UnidadeIntegranteDaoService>(UnidadeIntegranteDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      usuario_id: { default: \"\" },\r\n      unidade_id: { default: \"\" },\r\n      atribuicoes: { default: undefined },\r\n      atribuicao: { default: \"\" },\r\n      _status: { default: \"\" }\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  ngOnInit() {\r\n    super.ngOnInit();\r\n    this.entity = this.metadata?.entity || this.entity;\r\n    this.entity_id = this.metadata?.entity_id || this.entity_id;\r\n    this.tiposAtribuicao = this.isNoPersist ? this.lookup.UNIDADE_INTEGRANTE_TIPO.filter((atribuicao) => atribuicao.key != \"LOTADO\") : this.lookup.UNIDADE_INTEGRANTE_TIPO;\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    form.patchValue(new Usuario());\r\n    await this.loadData(this.entity!, form);\r\n  }\r\n\r\n  /**\r\n   * Método chamado na inicialização do componente para carregar todas as unidades-integrantes do usuário.\r\n   * @param entity \r\n   * @param form \r\n   */\r\n  public async loadData(entity: IIndexable, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    this.grid!.loading = true;\r\n    try {\r\n      let result = await this.integranteDao!.loadIntegrantes(\"\", this.entity!.id);\r\n      this.items = result.integrantes.filter(x => x.atribuicoes.length > 0);\r\n      this.usuario = result.usuario;\r\n    } finally {\r\n      this.grid!.loading = false;\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if ([\"unidade_id\"].includes(controlName) && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    if (controlName == \"atribuicoes\" && !control.value?.length) {\r\n      result = \"Obrigatório ao menos uma atribuição!\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public addItemHandle(): LookupItem | undefined {\r\n    let result = undefined;\r\n    const value = this.lookup.getValue(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\r\n    const key = this.form!.controls.atribuicao.value;\r\n    if (value?.length && this.util.validateLookupItem(this.form!.controls.atribuicao.value, key)) {\r\n      const icon = this.lookup.getIcon(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\r\n      const color = this.lookup.getColor(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\r\n      result = {\r\n        key: key,\r\n        value: value,\r\n        icon: icon,\r\n        color: color\r\n      };\r\n      this.form!.controls.atribuicao.setValue(\"\");\r\n    }\r\n    return result;\r\n  };\r\n\r\n  public deleteItemHandle(row: LookupItem): boolean | undefined | void {\r\n    return !this.isNoPersist || (this.isNoPersist && row.key != \"LOTADO\");\r\n  };\r\n\r\n  /**\r\n   * Método chamado para inserir uma atribuição no grid, seja este componente persistente ou não.\r\n   * @returns \r\n   */\r\n  public async addAtribuicao() {\r\n    return Object.assign(new IntegranteConsolidado(), {\r\n      _status: this.isNoPersist ? \"ADD\" : \"\",\r\n      id: this.dao!.generateUuid(),   // ainda não sei pra que esse id nesse momento\r\n      atribuicoes: []\r\n      //usuario_id: this.entity?.id\r\n    }) as IIndexable;\r\n  }\r\n\r\n  /**\r\n   * Método utilizado durante a inclusão/alteração de uma atribuição no grid, seja este componente persistente ou não\r\n   * @param form \r\n   * @param row \r\n   */\r\n  public async loadAtribuicao(form: FormGroup, row: any) {\r\n    form.controls.atribuicoes.setValue(this.converterAtribuicoes(row.atribuicoes));\r\n    form.controls.unidade_id.setValue(row.id);\r\n    form.controls.atribuicao.setValue(\"\");\r\n  }\r\n\r\n  /**\r\n   * Método chamado para a exclusão de uma atribuição do grid, seja este componente persistente ou não. \r\n   * @param row \r\n   * @returns \r\n   */\r\n  public async removeAtribuicao(row: any) {\r\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\r\n    if (confirm) {\r\n      this.loading = true;\r\n      try {\r\n        this.isNoPersist ? Object.assign(row, { _status: \"DELETE\" }) : this.integranteDao.saveIntegrante([{'unidade_id': row.id, 'usuario_id': this.usuario!.id, 'atribuicoes': []}]);\r\n        //await this.loadData({}, this.form);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n      return this.isNoPersist ? false : true; // (*3)\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n * Método chamado no salvamento de uma atribuição do usuário, seja este componente persistente ou não.\r\n * @param form \r\n * @param row \r\n * @returns \r\n */\r\n  public async saveAtribuicao(form: FormGroup, row: any) {\r\n    this.loading = true;\r\n    let novoIntegrante: IntegranteConsolidado = new IntegranteConsolidado;\r\n    try {\r\n      let novasAtribuicoes: TypeAtribuicao[] = form!.controls.atribuicoes.value.map((x: LookupItem) => x.key);\r\n      if (!this.isNoPersist) {\r\n        let $result = await this.integranteDao.saveIntegrante([{'unidade_id': form!.controls.unidade_id.value, 'usuario_id': this.usuario!.id, 'atribuicoes': novasAtribuicoes}]);\r\n        novoIntegrante = Object.assign(novoIntegrante, {\r\n          id: form!.controls.unidade_id.value,\r\n          atribuicoes: $result[0].atribuicoes,\r\n          unidade_codigo: (this.unidade?.searchObj as Unidade).codigo,\r\n          unidade_sigla: (this.unidade?.searchObj as Unidade).sigla,\r\n          unidade_nome: (this.unidade?.searchObj as Unidade).nome\r\n        });\r\n        if (this.grid?.adding) this.grid!.items[this.grid!.items.length - 1].id = '';  // (*4)\r\n      } else {\r\n        //novoIntegrante = Object.assign(novoIntegrante, { _status:  novoIntegrante._status == \"ADD\" ? \"ADD\" : \"EDIT\" });\r\n        await this.loadAtribuicao(form, row);\r\n      }\r\n    } catch (e: any) {\r\n      this.error(e.message ? e.message : e.toString() || e);\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n    return novoIntegrante;\r\n  }\r\n\r\n  public converterAtribuicoes(atribuicoes: string[]): LookupItem[] {\r\n    return atribuicoes.map((x: string) => Object.assign({}, {\r\n      key: x,\r\n      value: this.lookup.getValue(this.lookup.UNIDADE_INTEGRANTE_TIPO, x),\r\n      icon: this.lookup.getIcon(this.lookup.UNIDADE_INTEGRANTE_TIPO, x),\r\n      color: this.lookup.getColor(this.lookup.UNIDADE_INTEGRANTE_TIPO, x)\r\n    }))\r\n  }\r\n\r\n}\r\n","<grid #grid [items]=\"items\" [minHeight]=\"500\" [form]=\"form!\" [hasDelete]=\"true\"\r\n    [add]=\"addAtribuicao.bind(this)\"\r\n    [load]=\"loadAtribuicao.bind(this)\"\r\n    [remove]=\"removeAtribuicao.bind(this)\"\r\n    [save]=\"saveAtribuicao.bind(this)\" editable>\r\n    <span *ngIf=\"!isNoPersist\"><strong>{{ entity?.nome }}</strong></span>\r\n    <columns>\r\n        <column [title]=\"lex.translate('Unidade')\" [template]=\"columnUnidade\" [editTemplate]=\"editUnidade\">\r\n            <ng-template let-row=\"row\" #columnUnidade>\r\n                <strong>{{ row.unidade_sigla || '' }}</strong><span> (IdServo: {{ row.unidade_codigo || '' }})</span><br>\r\n                <span>{{ row.unidade_nome || '' }} </span>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #editUnidade>\r\n                <input-search #unidade [disabled]=\"grid?.editing && !grid?.adding ? 'true' : undefined\" [size]=\"12\" label icon controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n            </ng-template>\r\n        </column>\r\n        <column [title]=\"lex.translate('Atribuição')\" [template]=\"columnAtribuicao\" [editTemplate]=\"editAtribuicao\">\r\n            <ng-template let-row=\"row\" #columnAtribuicao>\r\n                <div *ngFor=\"let a of row.atribuicoes\"><badge [color]=\"lookup.getColor(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\" [icon]=\"lookup.getIcon(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\" [label]=\"lookup.getValue(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\"></badge><br></div>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #editAtribuicao>\r\n                <input-multiselect controlName=\"atribuicoes\" [size]=\"8\" [addItemHandle]=\"addItemHandle.bind(this)\" [deleteItemHandle]=\"deleteItemHandle.bind(this)\">\r\n                    <input-select [size]=\"12\" label=\"\" icon=\"fas fa-sign-out-alt\" controlName=\"atribuicao\" [items]=\"tiposAtribuicao\"></input-select>\r\n                </input-multiselect>\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"options\"></column>\r\n    </columns>\r\n</grid>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { PerfilDaoService } from 'src/app/dao/perfil-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\n\r\n@Component({\r\n  selector: 'app-usuario-list',\r\n  templateUrl: './usuario-list.component.html',\r\n  styleUrls: ['./usuario-list.component.scss']\r\n})\r\nexport class UsuarioListComponent extends PageListBase<Usuario, UsuarioDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n\r\n  public unidadeDao: UnidadeDaoService;\r\n  public perfilDao: PerfilDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Usuario, UsuarioDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.perfilDao = injector.get<PerfilDaoService>(PerfilDaoService);\r\n    /* Inicializações */\r\n    this.title = this.lex.translate(\"Usuários\");\r\n    this.code = \"MOD_CFG_USER\";\r\n    this.join = [\"perfil:id,nome\"];\r\n    this.filter = this.fh.FormBuilder({\r\n      usuario: { default: \"\" },\r\n      unidade_id: { default: \"\" },\r\n      perfil_id: { default: null }\r\n    });\r\n    this.addOption(this.OPTION_INFORMACOES);\r\n    this.addOption(this.OPTION_EXCLUIR, \"MOD_USER_EXCL\");\r\n    // Testa se o usuário possui permissão para gerenciar as suas unidades-integrantes\r\n    if (this.auth.hasPermissionTo(\"MOD_UND_INTG\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-list-task\",\r\n        label: \"Atribuições\",\r\n        onClick: (usuario: Usuario) => {\r\n          this.go.navigate({ route: ['configuracoes', 'usuario', usuario.id, 'integrante'] });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    if (filter?.controls.usuario?.value?.length) {\r\n      result.push([\"nome\", \"like\", \"%\" + filter?.controls.usuario?.value + \"%\"]);\r\n    }\r\n    if (filter?.controls.unidade_id?.value?.length) {\r\n      result.push([\"lotacao\", \"==\", filter?.controls.unidade_id.value]);\r\n    }\r\n    if (filter?.controls.perfil_id?.value?.length) {\r\n      result.push([\"perfil_id\", \"==\", filter?.controls.perfil_id?.value]);\r\n    }\r\n    return result;\r\n  }\r\n}\r\n","<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>\r\n<grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\"\r\n    [selectable]=\"selectable\" (select)=\"onSelect($event)\"\r\n    [hasAdd]=\"auth.hasPermissionTo('MOD_USER_INCL')\"\r\n    [hasEdit]=\"auth.hasPermissionTo('MOD_USER_EDT')\">\r\n    <toolbar *ngIf=\"!selectable\"></toolbar>\r\n    <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-text [size]=\"4\" [label]=\"lex.translate('Usuário')\" controlName=\"usuario\" [control]=\"filter!.controls.usuario\" placeholder=\"Nome\"></input-text>\r\n            <input-search [size]=\"4\" [label]=\"lex.translate('Lotação')\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n            <input-select [size]=\"4\" [label]=\"lex.translate('Perfil')\" controlName=\"perfil_id\" nullable [control]=\"filter!.controls.perfil_id\" [dao]=\"perfilDao\"></input-select>\r\n        </div>\r\n    </filter>\r\n    <columns>\r\n        <column icon=\"bi-person\" [align]=\"'center'\" [template]=\"columnFoto\">\r\n            <ng-template let-row=\"row\" #columnFoto>\r\n                <profile-picture [url]=\"row.url_foto\" [size]=\"40\" [hint]=\"row.nome\"></profile-picture>\r\n                <!--img [src]=\"row.url_foto\" onerror=\"this.src='/assets/images/profile.png'\" width=\"40\" height=\"40\" class=\"rounded-circle\"/-->\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"CPF\" field=\"cpf\"></column>\r\n        <column title=\"Matrícula\" field=\"matricula\"></column>\r\n        <column title=\"Nome\" field=\"nome\" orderBy=\"nome\"></column>\r\n        <column [title]=\"lex.translate('Perfil')\" [template]=\"columnPerfil\">\r\n            <ng-template let-row=\"row\" #columnPerfil>\r\n                <strong>{{row.perfil?.nome || \"\"}}</strong>\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { UsuarioFormComponent } from './usuario-form/usuario-form.component';\r\nimport { UsuarioListComponent } from './usuario-list/usuario-list.component';\r\nimport { UsuarioIntegranteComponent } from './usuario-integrante/usuario-integrante.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: UsuarioListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Usuários\" } },\r\n  { path: 'new', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Usuário\", modal: true } },\r\n  { path: ':id/edit', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição de Usuário\", modal: true } },\r\n  //{ path: ':usuario_id/lotacao', loadChildren: () => import('./lotacao/lotacao.module').then(m => m.LotacaoModule), canActivate: [AuthGuard] },\r\n  { path: ':id/consult', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Usuário\", modal: true } },\r\n  //{ path: ':id/:idUsuario/integrante', component: UsuarioIntegranteComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Unidades Integrantes\", modal: true } },\r\n  { path: ':id/integrante', component: UsuarioIntegranteComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Unidades Integrantes\", modal: true } },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class UsuarioRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { UsuarioRoutingModule } from './usuario-routing.module';\r\nimport { UsuarioListComponent } from './usuario-list/usuario-list.component';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { UsuarioFormComponent } from './usuario-form/usuario-form.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { UsuarioIntegranteComponent } from './usuario-integrante/usuario-integrante.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    UsuarioListComponent,\r\n    UsuarioFormComponent,\r\n    UsuarioIntegranteComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    ReactiveFormsModule,\r\n    UsuarioRoutingModule\r\n  ]\r\n})\r\nexport class UsuarioModule { }\r\n"],"names":["Base","IntegranteConsolidado","constructor","id","atribuicoes","UnidadeIntegrante","data","usuario_id","unidade_id","initialization","EditableFormComponent","PerfilDaoService","PlanoTrabalhoDaoService","UnidadeDaoService","UsuarioDaoService","Usuario","PageFormBase","UnidadeIntegranteDaoService","UsuarioFormComponent","injector","validate","control","controlName","result","indexOf","value","length","util","validarCPF","formValidation","form","formLotacao","controls","unidade_lotacao_id","erros_atribuicoes","forEach","atribuicao","push","erro","undefined","titleEdit","entity","lex","translate","matricula","apelido","perfilDao","get","unidadeDao","integranteDao","planoTrabalhoDao","fh","FormBuilder","email","default","nome","cpf","telefone","uf","sexo","url_foto","texto_complementar_plano","perfil_id","cdRef","planoDataset","dataset","join","loadData","formValue","Object","assign","patchValue","fillForm","setValue","lotacao","unidade","initializeData","saveData","Promise","resolve","reject","unidadesIntegrantes","grid","confirm","usuario","fill","unidades_integrante","items","filter","x","includes","_status","dao","save","then","_ref","_asyncToGenerator","_x","apply","arguments","onLotacaoChange","i0","ɵɵdirectiveInject","Injector","selectors","viewQuery","UsuarioFormComponent_Query","rf","ctx","ɵɵelementStart","ɵɵlistener","UsuarioFormComponent_Template_editable_form_submit_0_listener","onSaveData","UsuarioFormComponent_Template_editable_form_cancel_0_listener","onCancel","ɵɵelement","ɵɵelementEnd","UsuarioFormComponent_Template_input_search_change_16_listener","ɵɵproperty","formDisabled","isModal","title","ɵɵadvance","auth","hasPermissionTo","lookup","UF","SEXO","GridComponent","PageFrameBase","ɵɵtext","ɵɵtextInterpolate","ctx_r1","row_r10","unidade_sigla","ɵɵtextInterpolate1","unidade_codigo","unidade_nome","_r0","editing","adding","ctx_r5","ctx_r14","getColor","UNIDADE_INTEGRANTE_TIPO","a_r15","getIcon","getValue","ɵɵtemplate","UsuarioIntegranteComponent_ng_template_10_div_0_Template","row_r13","ctx_r9","addItemHandle","bind","deleteItemHandle","tiposAtribuicao","UsuarioIntegranteComponent","noPersist","ngOnInit","metadata","entity_id","isNoPersist","key","_this","_this2","loading","loadIntegrantes","integrantes","detectChanges","validateLookupItem","icon","color","row","addAtribuicao","_this3","generateUuid","loadAtribuicao","_this4","converterAtribuicoes","removeAtribuicao","_this5","dialog","saveIntegrante","saveAtribuicao","_this6","novoIntegrante","novasAtribuicoes","map","$result","searchObj","codigo","sigla","e","error","message","toString","UsuarioIntegranteComponent_Query","UsuarioIntegranteComponent_span_2_Template","UsuarioIntegranteComponent_ng_template_5_Template","ɵɵtemplateRefExtractor","UsuarioIntegranteComponent_ng_template_7_Template","UsuarioIntegranteComponent_ng_template_10_Template","UsuarioIntegranteComponent_ng_template_12_Template","_r2","_r4","_r6","_r8","PageListBase","ctx_r0","row_r6","row_r7","perfil","UsuarioListComponent","filterWhere","code","addOption","OPTION_INFORMACOES","OPTION_EXCLUIR","options","label","onClick","go","navigate","route","UsuarioListComponent_Query","UsuarioListComponent_h3_0_Template","UsuarioListComponent_Template_grid_select_1_listener","$event","onSelect","UsuarioListComponent_toolbar_2_Template","UsuarioListComponent_ng_template_10_Template","UsuarioListComponent_ng_template_16_Template","add","orderBy","groupBy","selectable","filterSubmit","filterCollapseChange","filterCollapsed","edit","rowsLimit","RouterModule","AuthGuard","ConfigResolver","routes","path","component","canActivate","config","runGuardsAndResolvers","modal","UsuarioRoutingModule","forChild","imports","i1","exports","CommonModule","ComponentsModule","ReactiveFormsModule","UsuarioModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}