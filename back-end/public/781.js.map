{"version":3,"file":"781.js","mappings":"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","sources":["./src/app/models/unidade-integrante.model.ts","./src/app/modules/configuracoes/usuario/usuario-form/usuario-form.component.ts","./src/app/modules/configuracoes/usuario/usuario-form/usuario-form.component.html","./src/app/modules/configuracoes/usuario/usuario-integrante/usuario-integrante.component.ts","./src/app/modules/configuracoes/usuario/usuario-integrante/usuario-integrante.component.html","./src/app/modules/configuracoes/usuario/usuario-list/usuario-list.component.ts","./src/app/modules/configuracoes/usuario/usuario-list/usuario-list.component.html","./src/app/modules/configuracoes/usuario/usuario-routing.module.ts","./src/app/modules/configuracoes/usuario/usuario.module.ts"],"sourcesContent":["import { Base } from './base.model';\r\nimport { UnidadeIntegranteAtribuicao } from './unidade-integrante-atribuicao.model';\r\nimport { Unidade } from './unidade.model';\r\nimport { Usuario } from './usuario.model';\r\n\r\nexport class IntegranteConsolidado {\r\n    public id: string = \"\"; /* Utilizado somente para garantir o funcionamento do grid */\r\n    public usuario_nome?: string;\r\n    public usuario_apelido?: string;\r\n    public usuario_url_foto?: string;\r\n    public unidade_nome?: string;\r\n    public unidade_sigla?: string;\r\n    public unidade_codigo?: string;\r\n    public atribuicoes: string[] = [];\r\n    public _status?: string;\r\n};\r\n\r\nexport class UnidadeIntegrante extends Base {\r\n    public unidade?: Unidade;\r\n    public usuario?: Usuario;\r\n    public lotado?: UnidadeIntegranteAtribuicao; \r\n    public gestor?: UnidadeIntegranteAtribuicao; \r\n    public gestor_substituto?: UnidadeIntegranteAtribuicao; \r\n    public colaborador?: UnidadeIntegranteAtribuicao; \r\n    public homologador_plano_entrega?: UnidadeIntegranteAtribuicao; \r\n    public avaliador_plano_entrega?: UnidadeIntegranteAtribuicao; \r\n    public avaliador_plano_trabalho?: UnidadeIntegranteAtribuicao; \r\n    public atribuicoes: UnidadeIntegranteAtribuicao[] = [];\r\n    \r\n    public usuario_id: string = \"\"; /* Usuário vinculado */\r\n    public unidade_id: string = \"\"; /* Unidade Vinculada */\r\n    \r\n    public constructor(data?: any) { super(); this.initialization(data); }\r\n}\r\n\r\n\r\n ","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { PerfilDaoService } from 'src/app/dao/perfil-dao.service';\r\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { UsuarioIntegranteComponent } from '../usuario-integrante/usuario-integrante.component';\r\nimport { TemplateDataset } from 'src/app/modules/uteis/templates/template.service';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { UnidadeIntegranteDaoService } from 'src/app/dao/unidade-integrante-dao.service';\r\nimport { IntegranteConsolidado } from 'src/app/models/unidade-integrante.model';\r\n\r\n@Component({\r\n  selector: 'app-usuario-form',\r\n  templateUrl: './usuario-form.component.html',\r\n  styleUrls: ['./usuario-form.component.scss']\r\n})\r\nexport class UsuarioFormComponent extends PageFormBase<Usuario, UsuarioDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('unidadesIntegrantes', { static: false }) public unidadesIntegrantes?: UsuarioIntegranteComponent;\r\n  @ViewChild('lotacao', { static: false }) public lotacao?: InputSearchComponent;\r\n\r\n  public formLotacao: FormGroup;\r\n  public perfilDao: PerfilDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public integranteDao: UnidadeIntegranteDaoService;\r\n  public planoTrabalhoDao: PlanoTrabalhoDaoService;\r\n  public planoDataset: TemplateDataset[]; \r\n \r\n  constructor(public injector: Injector) {\r\n    super(injector, Usuario, UsuarioDaoService);\r\n    this.perfilDao = injector.get<PerfilDaoService>(PerfilDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.integranteDao = injector.get<UnidadeIntegranteDaoService>(UnidadeIntegranteDaoService);\r\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      email: {default: \"\"},\r\n      nome: {default: \"\"},\r\n      cpf: {default: \"\"},\r\n      matricula: {default: \"\"},\r\n      apelido: {default: \"\"},\r\n      telefone: {default: \"\"},\r\n      uf: {default: \"\"},\r\n      sexo: {default: null},\r\n      url_foto: {default: \"\"},\r\n      texto_complementar_plano: {default: \"\"},\r\n      perfil_id: {default: null},\r\n      atribuicoes: { default: []}\r\n    }, this.cdRef, this.validate);\r\n    this.formLotacao = this.fh.FormBuilder({\r\n      unidade_lotacao_id: {default: \"\"},\r\n    }, this.cdRef);\r\n    this.planoDataset = this.planoTrabalhoDao.dataset();\r\n    this.join = [\"lotacao.unidade:id\"];\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {   \r\n    let result = null;\r\n    if(['cpf', 'matricula', 'email', 'nome', 'apelido', 'perfil_id'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    else if(controlName == \"cpf\" && !this.util.validarCPF(control.value)) {\r\n      result = \"Inválido\";\r\n    }\r\n    return result;\r\n  }\r\n  \r\n  public formValidation = (form?: FormGroup) => {\r\n    if(!this.formLotacao?.controls.unidade_lotacao_id.value?.length) {\r\n      return \"É obrigatória a definição da unidade de lotação do servidor!\";\r\n    };\r\n/*     if(!form?.controls.atribuicoes?.value?.length || form?.controls.atribuicoes.value.filter((u: { nome: string; unidade_id: string }) => u.nome == \"LOTADO\")) {\r\n      return \"Obrigatório ao menos a unidade de lotação do usuário!\";\r\n    } else {\r\n      const erros_atribuicoes = []\r\n      form?.controls.atribuicoes.value?.forEach((atribuicao: { nome: string; unidade_id: string }) => {\r\n        if(atribuicao.unidade_id == '') erros_atribuicoes.push({ atribuicao: atribuicao, erro: 'Falta unidade_id'})\r\n      });\r\n      if (erros_atribuicoes.length) return \"Salve a unidade antes de salvar o usuário\"\r\n    } */\r\n    return undefined;\r\n  } \r\n\r\n  public loadData(entity: Usuario, form: FormGroup): void {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    this.formLotacao.controls.unidade_lotacao_id.setValue(entity.lotacao?.unidade?.id);\r\n  }\r\n\r\n  public initializeData(form: FormGroup): void {\r\n    this.entity = new Usuario();\r\n    this.loadData(this.entity, form); \r\n  }\r\n\r\n  \r\n  public saveData(form: IIndexable): Promise<boolean> {      \r\n    return new Promise<boolean>((resolve, reject) => {\r\n      this.unidadesIntegrantes!.grid!.confirm();\r\n      let usuario = this.util.fill(new Usuario(), this.entity!);\r\n      usuario = this.util.fillForm(usuario, this.form!.value);\r\n      //usuario.unidades_integrante = usuario.atribuicoes.filter((x: { _status: any; unidade_id: string; nome: string; }) => [\"ADD\", \"EDIT\", \"DELETE\"].includes(x._status || \"\") && x.unidade_id?.length && x.nome?.length);\r\n      usuario.unidades_integrante = this.unidadesIntegrantes?.grid?.items.filter((x: any) => [\"ADD\", \"EDIT\", \"DELETE\"].includes(x._status || \"\") && x.unidade_id?.length && x.nome?.length);\r\n      this.dao?.save(usuario).then(async usuario => {\r\n        if(this.formLotacao.controls.unidade_lotacao_id.value != usuario.lotacao?.unidade_id) this.integranteDao.saveIntegrante(this.formLotacao!.controls.unidade_lotacao_id!.value, usuario.id, [\"LOTADO\"]);\r\n        resolve(true);\r\n      });\r\n    });\r\n  }\r\n\r\n  public titleEdit = (entity: Usuario): string => {\r\n    return \"Editando \" + this.lex.translate(\"Usuário\") + ': ' + (entity?.matricula || \"\") + ' - ' + (entity?.apelido || \"\");\r\n  }\r\n\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right>\r\n        <tab key=\"PRINCIPAL\" label=\"Principal\">\r\n            <div class=\"row\">\r\n                <div class=\"form-group col-md-3 text-center\">\r\n                    <profile-picture [url]=\"form!.controls.url_foto.value\" class=\"mt-5\" [size]=\"150\"></profile-picture>\r\n                    <!--img [src]=\"form!.controls.url_foto?.value\" onerror=\"this.src='./assets/images/profile.jpg'\" width=\"150\" height=\"150\" class=\"rounded-circle mt-5\"//-->\r\n                </div>\r\n                <div class=\"form-group col-md-9\">\r\n                    <div class=\"row\">\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_CPF') ? 'true' : undefined\" [size]=\"4\" label=\"CPF\" controlName=\"cpf\" [maskFormat]=\"'000.000.000-00'\"></input-text>\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_MAT') ? 'true' : undefined\" [size]=\"3\" label=\"Matrícula\" controlName=\"matricula\"></input-text>\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_MAIL') ? 'true' : undefined\" [size]=\"5\" label=\"E-mail\" controlName=\"email\" textCase=\"lower\"></input-text>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-text [size]=\"8\" label=\"Nome\" controlName=\"nome\"></input-text>\r\n                        <input-text [size]=\"4\" label=\"Apelido\" controlName=\"apelido\"></input-text>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-select [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_PERFIL') ? 'true' : undefined\" [size]=\"4\" label=\"Perfil\" controlName=\"perfil_id\" [dao]=\"perfilDao\"></input-select>\r\n                        <input-search #lotacao label=\"Lotação\" [size]=\"8\" [emptyValue]=\"null\" [control]=\"formLotacao!.controls.unidade_lotacao_id\" controlName=\"unidade_lotacao_id\" [dao]=\"unidadeDao\" labelInfo=\"Unidade de lotação do Usuário\"></input-search>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-select [size]=\"4\" label=\"UF\" icon=\"bi bi-flag\" controlName=\"uf\" [items]=\"lookup.UF\"></input-select>\r\n                        <input-radio [size]=\"4\" label=\"Sexo\" controlName=\"sexo\" [items]=\"lookup.SEXO\"></input-radio>\r\n                        <input-text [size]=\"4\" label=\"Telefone\" controlName=\"telefone\" [maskFormat]=\"'(00) 0000-0000||(00) 0 0000-0000'\"></input-text>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"CONFIGURACOES\" label=\"Configurações\">\r\n            <div class=\"row\">\r\n                <input-editor [label]=\"'Texto complementar ' + lex.translate('Plano de Trabalho')\" controlName=\"texto_complementar_plano\" [dataset]=\"planoDataset\"></input-editor>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"ATRIBUICOES\" [label]=\"lex.translate('Atribuições')\">\r\n            <usuario-integrante #unidadesIntegrantes noPersist [entity]=\"entity\" [entity_id]=\"entity?.id\"></usuario-integrante>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>","import { Component, Injector, Input, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UnidadeIntegranteDaoService } from 'src/app/dao/unidade-integrante-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { IntegranteConsolidado } from 'src/app/models/unidade-integrante.model';\r\nimport { Unidade } from 'src/app/models/unidade.model';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\n\r\n@Component({\r\n  selector: 'usuario-integrante',\r\n  templateUrl: './usuario-integrante.component.html',\r\n  styleUrls: ['./usuario-integrante.component.scss']\r\n})\r\nexport class UsuarioIntegranteComponent extends PageFrameBase {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n  @Input() set entity(value: Usuario | undefined) { super.entity = value; } get entity(): Usuario | undefined { return super.entity; }\r\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\r\n  @Input() public entity_id?: string;\r\n\r\n  public items: IntegranteConsolidado[] = [];\r\n  public integranteDao: UnidadeIntegranteDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public usuario?: Usuario;\r\n  public novoIntegrante?: IntegranteConsolidado;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<UsuarioDaoService>(UsuarioDaoService);\r\n    this.integranteDao = injector.get<UnidadeIntegranteDaoService>(UnidadeIntegranteDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      usuario_id: { default: \"\" },\r\n      unidade_id: { default: \"\" },\r\n      atribuicoes: { default: undefined },\r\n      atribuicao: { default: \"\" },\r\n      _status: { default: \"\" }\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  ngOnInit() {\r\n    super.ngOnInit();\r\n    this.entity = this.metadata?.entity || this.entity;\r\n    this.entity_id = this.metadata?.entity_id || this.entity_id;\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    form.patchValue(new Usuario());\r\n    await this.loadData(this.entity!, form);\r\n  }\r\n\r\n  /**\r\n   * Método chamado na inicialização do componente para carregar todas as unidades-integrantes do usuário.\r\n   * @param entity \r\n   * @param form \r\n   */\r\n  public async loadData(entity: IIndexable, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    this.grid!.loading = true;\r\n    try {\r\n      let result = await this.integranteDao!.loadIntegrantes(\"\", this.entity!.id);\r\n      this.items = result.integrantes.filter(x => x.atribuicoes.length > 0);\r\n      this.usuario = result.usuario;\r\n    } finally {\r\n      this.grid!.loading = false;\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if ([\"unidade_id\"].includes(controlName) && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    if (controlName == \"atribuicoes\" && !control.value?.length) {\r\n      result = \"Obrigatório ao menos uma atribuição!\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public addItemHandle(): LookupItem | undefined {\r\n    let result = undefined;\r\n    const value = this.lookup.getValue(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\r\n    const key = this.form!.controls.atribuicao.value;\r\n    if (value?.length && this.util.validateLookupItem(this.form!.controls.atribuicao.value, key)) {\r\n      const icon = this.lookup.getIcon(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\r\n      const color = this.lookup.getColor(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\r\n      result = {\r\n        key: key,\r\n        value: value,\r\n        icon: icon,\r\n        color: color\r\n      };\r\n      this.form!.controls.atribuicao.setValue(\"\");\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * Método chamado para inserir uma atribuição no grid, seja este componente persistente ou não.\r\n   * @returns \r\n   */\r\n  public async addAtribuicao() {\r\n    return Object.assign(new IntegranteConsolidado(), {\r\n      _status: this.isNoPersist ? \"ADD\" : \"\",\r\n      id: this.dao!.generateUuid(),   // ainda não sei pra que esse id nesse momento\r\n      atribuicoes: []\r\n      //usuario_id: this.entity?.id\r\n    }) as IIndexable;\r\n  }\r\n\r\n  /**\r\n   * Método utilizado durante a inclusão/alteração de uma atribuição no grid, seja este componente persistente ou não\r\n   * @param form \r\n   * @param row \r\n   */\r\n  public async loadAtribuicao(form: FormGroup, row: any) {\r\n    form.controls.atribuicoes.setValue(this.converterAtribuicoes(row.atribuicoes));\r\n    form.controls.unidade_id.setValue(row.id);\r\n    form.controls.atribuicao.setValue(\"\");\r\n  }\r\n\r\n  /**\r\n   * Método chamado para a exclusão de uma atribuição do grid, seja este componente persistente ou não. \r\n   * @param row \r\n   * @returns \r\n   */\r\n  public async removeAtribuicao(row: any) {\r\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\r\n    if (confirm) {\r\n      this.loading = true;\r\n      try {\r\n        this.isNoPersist ? Object.assign(row, { _status: \"DELETE\" }) : this.integranteDao.saveIntegrante(row.id, this.usuario!.id, []);\r\n        //await this.loadData({}, this.form);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n      return this.isNoPersist ? false : true; // (*3)\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n * Método chamado no salvamento de uma atribuição do usuário, seja este componente persistente ou não.\r\n * @param form \r\n * @param row \r\n * @returns \r\n */\r\n  public async saveAtribuicao(form: FormGroup, row: any) {\r\n    this.loading = true;\r\n    try {\r\n      let novasAtribuicoes = form!.controls.atribuicoes.value.map((x: LookupItem) => x.key);\r\n      let novoIntegrante = Object.assign(new IntegranteConsolidado(), {\r\n        id: form!.controls.unidade_id.value,\r\n        atribuicoes: novasAtribuicoes,\r\n        unidade_codigo: (this.unidade?.searchObj as Unidade).codigo,\r\n        unidade_sigla: (this.unidade?.searchObj as Unidade).sigla,\r\n        unidade_nome: (this.unidade?.searchObj as Unidade).nome\r\n      });\r\n      if (!this.isNoPersist) {\r\n        await this.integranteDao.saveIntegrante(form!.controls.unidade_id.value, this.usuario!.id, novasAtribuicoes);\r\n        if (this.grid?.adding) this.grid!.items[this.grid!.items.length - 1].id = '';  // (*4)\r\n      } else {\r\n        novoIntegrante = Object.assign(novoIntegrante, { _status:  novoIntegrante._status == \"ADD\" ? \"ADD\" : \"EDIT\" });\r\n      }\r\n    } catch (e: any) {\r\n      this.error(e.message ? e.message : e.toString() || e);\r\n    } finally {\r\n      await this.loadAtribuicao(form, row);\r\n      this.loading = false;\r\n    }\r\n    return this.novoIntegrante;\r\n  }\r\n\r\n  public converterAtribuicoes(atribuicoes: string[]): LookupItem[] {\r\n    return atribuicoes.map((x: string) => Object.assign({}, {\r\n      key: x,\r\n      value: this.lookup.getValue(this.lookup.UNIDADE_INTEGRANTE_TIPO, x),\r\n      icon: this.lookup.getIcon(this.lookup.UNIDADE_INTEGRANTE_TIPO, x),\r\n      color: this.lookup.getColor(this.lookup.UNIDADE_INTEGRANTE_TIPO, x)\r\n    }))\r\n  }\r\n\r\n}\r\n","<grid #grid [items]=\"items\" [minHeight]=\"500\" [form]=\"form!\" [hasDelete]=\"true\"\r\n    [add]=\"addAtribuicao.bind(this)\"\r\n    [load]=\"loadAtribuicao.bind(this)\"\r\n    [remove]=\"removeAtribuicao.bind(this)\"\r\n    [save]=\"saveAtribuicao.bind(this)\" editable>\r\n    <span *ngIf=\"!isNoPersist\"><strong>{{ entity?.nome }}</strong></span>\r\n    <columns>\r\n        <column [title]=\"lex.translate('Unidade')\" [template]=\"columnUnidade\" [editTemplate]=\"editUnidade\">\r\n            <ng-template let-row=\"row\" #columnUnidade>\r\n                <strong>{{ row.unidade_sigla || '' }}</strong><span> (IdServo: {{ row.unidade_codigo || '' }})</span><br>\r\n                <span>{{ row.unidade_nome || '' }} </span>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #editUnidade>\r\n                <input-search #unidade [size]=\"12\" label icon controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n            </ng-template>\r\n        </column>\r\n        <column [title]=\"lex.translate('Atribuição')\" [template]=\"columnAtribuicao\" [editTemplate]=\"editAtribuicao\">\r\n            <ng-template let-row=\"row\" #columnAtribuicao>\r\n                <div *ngFor=\"let a of row.atribuicoes\"><badge [color]=\"lookup.getColor(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\" [icon]=\"lookup.getIcon(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\" [label]=\"lookup.getValue(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\"></badge><br></div>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #editAtribuicao>\r\n                <input-multiselect controlName=\"atribuicoes\" [size]=\"8\" [addItemHandle]=\"addItemHandle.bind(this)\">\r\n                    <input-select [size]=\"12\" label=\"\" icon=\"fas fa-sign-out-alt\" controlName=\"atribuicao\" [items]=\"lookup.UNIDADE_INTEGRANTE_TIPO\"></input-select>\r\n                </input-multiselect>\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"options\"></column>\r\n    </columns>\r\n</grid>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { PerfilDaoService } from 'src/app/dao/perfil-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\n\r\n@Component({\r\n  selector: 'app-usuario-list',\r\n  templateUrl: './usuario-list.component.html',\r\n  styleUrls: ['./usuario-list.component.scss']\r\n})\r\nexport class UsuarioListComponent extends PageListBase<Usuario, UsuarioDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n\r\n  public unidadeDao: UnidadeDaoService;\r\n  public perfilDao: PerfilDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Usuario, UsuarioDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.perfilDao = injector.get<PerfilDaoService>(PerfilDaoService);\r\n    /* Inicializações */\r\n    this.title = this.lex.translate(\"Usuários\");\r\n    this.code = \"MOD_CFG_USER\";\r\n    this.join = [\"perfil:id,nome\"];\r\n    this.filter = this.fh.FormBuilder({\r\n      usuario: {default: \"\"},\r\n      unidade_id: {default: \"\"},\r\n      perfil_id: {default: null}\r\n    });\r\n    // Testa se o usuário possui permissão para exibir dados do usuário\r\n    if (this.auth.hasPermissionTo(\"MOD_USER_CONS\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-info-circle\",\r\n        label: \"Informações\",\r\n        onClick: this.consult.bind(this)\r\n      });\r\n    }\r\n    // Testa se o usuário possui permissão para excluir dados do usuario\r\n    if (this.auth.hasPermissionTo(\"MOD_USER_EXCL\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-trash\",\r\n        label: \"Excluir\",\r\n        onClick: this.delete.bind(this)\r\n      });\r\n    }\r\n  // Testa se o usuário possui permissão para gerenciar as suas unidades-integrantes\r\n  if (this.auth.hasPermissionTo(\"MOD_UND_INTG\")) {\r\n      this.options.push({\r\n      icon: \"bi bi-houses\",\r\n      label: \"Unidades\",\r\n      onClick: (usuario: Usuario) => {\r\n        this.go.navigate({ route: ['configuracoes', 'usuario', usuario.id, 'integrante'] });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    this.filter?.controls.usuario.setValue(\"\");\r\n    this.filter?.controls.unidade_id.setValue(\"\");\r\n    this.filter?.controls.perfil_id.setValue(null);\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    if(filter?.controls.usuario?.value?.length) {\r\n      result.push([\"nome\", \"like\", \"%\" + filter?.controls.usuario?.value + \"%\"]);\r\n    }\r\n    if(filter?.controls.unidade_id?.value?.length) {\r\n      result.push([\"lotacao\", \"==\", filter?.controls.unidade_id.value]);\r\n    }\r\n    if(filter?.controls.perfil_id?.value?.length) {\r\n      result.push([\"perfil_id\", \"==\", filter?.controls.perfil_id?.value]);\r\n    }\r\n    return result;\r\n  }\r\n}\r\n","<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>\r\n<grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\"\r\n    [selectable]=\"selectable\" (select)=\"onSelect($event)\"\r\n    [hasAdd]=\"auth.hasPermissionTo('MOD_USER_INCL')\"\r\n    [hasEdit]=\"auth.hasPermissionTo('MOD_USER_EDT')\">\r\n    <toolbar *ngIf=\"!selectable\"></toolbar>\r\n    <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-text [size]=\"4\" [label]=\"lex.translate('Usuário')\" controlName=\"usuario\" [control]=\"filter!.controls.usuario\" placeholder=\"Nome\"></input-text>\r\n            <input-search [size]=\"4\" [label]=\"lex.translate('Lotação')\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n            <input-select [size]=\"4\" [label]=\"lex.translate('Perfil')\" controlName=\"perfil_id\" nullable [control]=\"filter!.controls.perfil_id\" [dao]=\"perfilDao\"></input-select>\r\n        </div>\r\n    </filter>\r\n    <columns>\r\n        <column icon=\"bi-person\" [align]=\"'center'\" [template]=\"columnFoto\">\r\n            <ng-template let-row=\"row\" #columnFoto>\r\n                <profile-picture [url]=\"row.url_foto\" [size]=\"40\" [hint]=\"row.nome\"></profile-picture>\r\n                <!--img [src]=\"row.url_foto\" onerror=\"this.src='/assets/images/profile.png'\" width=\"40\" height=\"40\" class=\"rounded-circle\"/-->\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"CPF\" field=\"cpf\"></column>\r\n        <column title=\"Matrícula\" field=\"matricula\"></column>\r\n        <column title=\"Nome\" field=\"nome\" orderBy=\"nome\"></column>\r\n        <column [title]=\"lex.translate('Perfil')\" [template]=\"columnPerfil\">\r\n            <ng-template let-row=\"row\" #columnPerfil>\r\n                <strong>{{row.perfil?.nome || \"\"}}</strong>\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { UsuarioFormComponent } from './usuario-form/usuario-form.component';\r\nimport { UsuarioListComponent } from './usuario-list/usuario-list.component';\r\nimport { UsuarioIntegranteComponent } from './usuario-integrante/usuario-integrante.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: UsuarioListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Usuários\" } },\r\n  { path: 'new', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Usuário\", modal: true } },\r\n  { path: ':id/edit', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição de Usuário\", modal: true } },\r\n  //{ path: ':usuario_id/lotacao', loadChildren: () => import('./lotacao/lotacao.module').then(m => m.LotacaoModule), canActivate: [AuthGuard] },\r\n  { path: ':id/consult', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Usuário\", modal: true } },\r\n  //{ path: ':id/:idUsuario/integrante', component: UsuarioIntegranteComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Unidades Integrantes\", modal: true } },\r\n  { path: ':id/integrante', component: UsuarioIntegranteComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Unidades Integrantes\", modal: true } },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class UsuarioRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { UsuarioRoutingModule } from './usuario-routing.module';\r\nimport { UsuarioListComponent } from './usuario-list/usuario-list.component';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { UsuarioFormComponent } from './usuario-form/usuario-form.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { UsuarioIntegranteComponent } from './usuario-integrante/usuario-integrante.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    UsuarioListComponent,\r\n    UsuarioFormComponent,\r\n    UsuarioIntegranteComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    ReactiveFormsModule,\r\n    UsuarioRoutingModule\r\n  ]\r\n})\r\nexport class UsuarioModule { }\r\n"],"names":["Base","IntegranteConsolidado","constructor","id","atribuicoes","UnidadeIntegrante","data","usuario_id","unidade_id","initialization","EditableFormComponent","PerfilDaoService","PlanoTrabalhoDaoService","UnidadeDaoService","UsuarioDaoService","Usuario","PageFormBase","UnidadeIntegranteDaoService","UsuarioFormComponent","injector","validate","control","controlName","result","indexOf","value","length","util","validarCPF","formValidation","form","formLotacao","controls","unidade_lotacao_id","undefined","titleEdit","entity","lex","translate","matricula","apelido","perfilDao","get","unidadeDao","integranteDao","planoTrabalhoDao","fh","FormBuilder","email","default","nome","cpf","telefone","uf","sexo","url_foto","texto_complementar_plano","perfil_id","cdRef","planoDataset","dataset","join","loadData","formValue","Object","assign","patchValue","fillForm","setValue","lotacao","unidade","initializeData","saveData","_this","Promise","resolve","reject","unidadesIntegrantes","grid","confirm","usuario","fill","unidades_integrante","items","filter","x","includes","_status","dao","save","then","_ref","_asyncToGenerator","saveIntegrante","_x","apply","arguments","i0","ɵɵdirectiveInject","Injector","selectors","viewQuery","UsuarioFormComponent_Query","rf","ctx","ɵɵelementStart","ɵɵlistener","UsuarioFormComponent_Template_editable_form_submit_0_listener","onSaveData","UsuarioFormComponent_Template_editable_form_cancel_0_listener","onCancel","ɵɵelement","ɵɵelementEnd","ɵɵproperty","formDisabled","isModal","title","ɵɵadvance","auth","hasPermissionTo","lookup","UF","SEXO","GridComponent","PageFrameBase","ɵɵtext","ɵɵtextInterpolate","ctx_r1","row_r10","unidade_sigla","ɵɵtextInterpolate1","unidade_codigo","unidade_nome","ctx_r5","ctx_r14","getColor","UNIDADE_INTEGRANTE_TIPO","a_r15","getIcon","getValue","ɵɵtemplate","UsuarioIntegranteComponent_ng_template_10_div_0_Template","row_r13","ctx_r9","addItemHandle","bind","UsuarioIntegranteComponent","noPersist","atribuicao","ngOnInit","metadata","entity_id","_this2","loading","loadIntegrantes","integrantes","detectChanges","key","validateLookupItem","icon","color","addAtribuicao","_this3","isNoPersist","generateUuid","loadAtribuicao","row","_this4","converterAtribuicoes","removeAtribuicao","_this5","dialog","saveAtribuicao","_this6","novasAtribuicoes","map","novoIntegrante","searchObj","codigo","sigla","adding","e","error","message","toString","UsuarioIntegranteComponent_Query","UsuarioIntegranteComponent_span_2_Template","UsuarioIntegranteComponent_ng_template_5_Template","ɵɵtemplateRefExtractor","UsuarioIntegranteComponent_ng_template_7_Template","UsuarioIntegranteComponent_ng_template_10_Template","UsuarioIntegranteComponent_ng_template_12_Template","_r2","_r4","_r6","_r8","PageListBase","ctx_r0","row_r6","row_r7","perfil","UsuarioListComponent","filterWhere","push","code","options","label","onClick","consult","delete","go","navigate","route","filterClear","UsuarioListComponent_Query","UsuarioListComponent_h3_0_Template","UsuarioListComponent_Template_grid_select_1_listener","$event","onSelect","UsuarioListComponent_toolbar_2_Template","UsuarioListComponent_ng_template_10_Template","UsuarioListComponent_ng_template_16_Template","add","orderBy","groupBy","selectable","filterSubmit","filterCollapseChange","filterCollapsed","edit","rowsLimit","RouterModule","AuthGuard","ConfigResolver","routes","path","component","canActivate","config","runGuardsAndResolvers","modal","UsuarioRoutingModule","forChild","imports","i1","exports","CommonModule","ComponentsModule","ReactiveFormsModule","UsuarioModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}