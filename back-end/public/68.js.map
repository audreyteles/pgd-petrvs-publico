{"version":3,"file":"68.js","mappings":"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","sources":["./src/app/modules/configuracoes/preferencia/preferencia-form-petrvs/preferencia-form-petrvs.component.ts","./src/app/modules/configuracoes/preferencia/preferencia-form-petrvs/preferencia-form-petrvs.component.html","./src/app/modules/configuracoes/preferencia/preferencia-form-unidade/preferencia-form-unidade.component.ts","./src/app/modules/configuracoes/preferencia/preferencia-form-unidade/preferencia-form-unidade.component.html","./src/app/modules/configuracoes/preferencia/preferencia-form-usuario/preferencia-form-usuario.component.ts","./src/app/modules/configuracoes/preferencia/preferencia-form-usuario/preferencia-form-usuario.component.html","./src/app/modules/configuracoes/preferencia/preferencia-form/preferencia-form.component.ts","./src/app/modules/configuracoes/preferencia/preferencia-form/preferencia-form.component.html","./src/app/modules/configuracoes/preferencia/preferencia-routing.module.ts","./src/app/modules/configuracoes/preferencia/preferencia.module.ts"],"sourcesContent":["import { Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { Entidade } from 'src/app/models/entidade.model';\r\nimport { EntidadeDaoService } from 'src/app/dao/entidade-dao.service';\r\n\r\n@Component({\r\n  selector: 'preferencia-form-petrvs',\r\n  templateUrl: './preferencia-form-petrvs.component.html',\r\n  styleUrls: ['./preferencia-form-petrvs.component.scss']\r\n})\r\nexport class PreferenciaFormPetrvsComponent extends PageFormBase<Entidade, EntidadeDaoService> implements OnInit {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @Input() panel?: string;\r\n\r\n  public form: FormGroup;\r\n  public carregando: boolean = false;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Entidade, EntidadeDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public get isPanel(): boolean {\r\n    return this.panel != undefined;\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: Entidade, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.carregando = true;\r\n    try {\r\n      this.entity = new Entidade();\r\n      await this.loadData(this.entity, form);\r\n    } finally {\r\n      this.carregando = false;\r\n    }\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<boolean> {\r\n    return new Promise<boolean>((resolve, reject) => {\r\n      resolve(!this.isPanel);\r\n    });\r\n  }\r\n\r\n  public titleEdit = (entity: Entidade): string => {\r\n    return \"Editando \" + this.lex.translate(\"Preferência\") + ' ' + this.lex.translate(\"da Entidade\") + ': ' + (entity?.nome || \"\");\r\n  }\r\n}\r\n","<div *ngIf=\"carregando\" class=\"d-flex justify-content-center\">\r\n    <div class=\"spinner-border\" role=\"status\">\r\n        <span class=\"visually-hidden\"></span>\r\n    </div>\r\n</div>\r\n<div [class.d-none]=\"carregando\">\r\n    <editable-form [form]=\"form!\" [noButtons]=\"isPanel ? 'true' : undefined\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n        Em desenvolvimento\r\n    </editable-form>\r\n</div>","import { Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { Unidade } from 'src/app/models/unidade.model';\nimport { UsuarioConfig } from 'src/app/models/usuario.model';\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\nimport { LookupItem } from 'src/app/services/lookup.service';\n\n@Component({\n  selector: 'app-preferencia-form-unidade',\n  templateUrl: './preferencia-form-unidade.component.html',\n  styleUrls: ['./preferencia-form-unidade.component.scss']\n})\nexport class PreferenciaFormUnidadeComponent extends PageFormBase<Unidade, UnidadeDaoService> implements OnInit{\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @Input() panel?: string;\n  @Input() usuarioId?: string;\n  \n  public etiquetas: boolean = false;\n  public form: FormGroup;\n  public carregando: boolean = false;\n  public toolbarButtons: ToolbarButton[] = [\n    {\n      label: \"Resetar\",\n      icon: \"bi bi-backspace\",\n      onClick: () => {\n        this.loading = true;\n        this.dao!.update(this.usuarioId!, {config: new UsuarioConfig()}).then(usuario => {\n          this.initializeData(this.form);\n        }).finally(() => {\n          this.loading = false;\n        });\n      }\n    }\n  ];\n\n  constructor(public injector: Injector) {\n    super(injector, Unidade, UnidadeDaoService);\n    this.form = this.fh.FormBuilder({\n      etiquetas: {default: []},\n      etiqueta_texto: {default: \"\"},\n      etiqueta_icone: {default: null},\n      etiqueta_cor: {default: null},\n      theme: {default: null},\n      ocultar_menu_sei: {default: true},\n      ocultar_container_petrvs: {default: false},\n    }, this.cdRef, this.validate);\n  }\n\n  public get isPanel(): boolean {\n    return this.panel != undefined;\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    return result;\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    if(this.urlParams!.get(\"id\")) {\n      this.usuarioId = this.urlParams!.get(\"id\")!;\n    }\n    this.etiquetas = !!this.queryParams.etiquetas;\n  }\n\n  public async loadData(entity: Unidade, form: FormGroup) {\n    let formValue = Object.assign({}, form.value);\n    //formValue = this.util.fillForm(formValue, entity.config || {});\n    //formValue = this.util.fillForm(formValue, entity.notificacoes || {});\n    form.patchValue(formValue);\n  }\n\n  public async initializeData(form: FormGroup) {\n    this.carregando = true;\n    try {\n      this.entity = (await this.dao!.getById(this.usuarioId!))!;\n      await this.loadData(this.entity, form);\n    } finally {\n      this.carregando = false;\n    }\n  }\n\n  public saveData(form: IIndexable): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      let config = this.util.fill(new UsuarioConfig(), this.form!.value);\n      Promise.all([\n        this.auth.updateUsuarioConfig(this.usuarioId!, config),\n        this.auth.updateUsuarioNotificacoes(this.usuarioId!, this.entity!.notificacoes)\n      ]).then(results => {\n        if(this.usuarioId == this.auth.usuario!.id) {\n          this.auth.authSession().then(result => resolve(!this.isPanel)).catch(reject);\n        } else {\n          resolve(!this.isPanel);\n        }\n      }).catch(reject);\n    });\n  }\n\n  public addItemHandleEtiquetas(): LookupItem | undefined {\n    let result = undefined;\n    const value = this.form.controls.etiqueta_texto.value;\n    const key = this.util.textHash(value);\n    if(value?.length && this.util.validateLookupItem(this.form.controls.etiquetas.value, key)) {\n      result = {\n        key: key,\n        value: this.form.controls.etiqueta_texto.value,\n        color: this.form.controls.etiqueta_cor.value,\n        icon: this.form.controls.etiqueta_icone.value\n      };\n      this.form.controls.etiqueta_texto.setValue(\"\");\n      this.form.controls.etiqueta_icone.setValue(null);\n      this.form.controls.etiqueta_cor.setValue(null);\n    }\n    return result;\n  };\n}\n","<div *ngIf=\"carregando\" class=\"d-flex justify-content-center\">\n    <div class=\"spinner-border\" role=\"status\">\n        <span class=\"visually-hidden\"></span>\n    </div>\n</div>\n<div [class.d-none]=\"carregando\">\n    <toolbar [buttons]=\"toolbarButtons\"></toolbar>\n    <editable-form [title]=\"isModal ? '' : title\" [form]=\"form!\" [disabled]=\"formDisabled\" \n        (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\n        <tabs display right>\n            <tab key=\"ETIQUETAS\" label=\"Etiquetas\">\n                \n            </tab>\n            <tab key=\"ATRIBUICOES\" label=\"Atribuições\">\n                \n            </tab>\n        </tabs>\n    </editable-form>\n</div>","import { Component, Injector, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { Usuario, UsuarioConfig } from 'src/app/models/usuario.model';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { NotificacoesConfigComponent } from 'src/app/modules/uteis/notificacoes/notificacoes-config/notificacoes-config.component';\r\n\r\n@Component({\r\n  selector: 'preferencia-form-usuario',\r\n  templateUrl: './preferencia-form-usuario.component.html',\r\n  styleUrls: ['./preferencia-form-usuario.component.scss']\r\n})\r\nexport class PreferenciaFormUsuarioComponent extends PageFormBase<Usuario, UsuarioDaoService> implements OnInit {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('notificacoes', { static: false }) public notificacoes?: NotificacoesConfigComponent;\r\n  @Input() panel?: string;\r\n  @Input() usuarioId?: string;\r\n  \r\n  public etiquetas: boolean = false;\r\n  public form: FormGroup;\r\n  public carregando: boolean = false;\r\n  public toolbarButtons: ToolbarButton[] = [\r\n    {\r\n      label: \"Resetar\",\r\n      icon: \"bi bi-backspace\",\r\n      onClick: () => {\r\n        this.loading = true;\r\n        this.dao!.update(this.usuarioId!, {config: new UsuarioConfig()}).then(usuario => {\r\n          this.initializeData(this.form);\r\n        }).finally(() => {\r\n          this.loading = false;\r\n        });\r\n      }\r\n    }\r\n  ];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Usuario, UsuarioDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      etiquetas: {default: []},\r\n      etiqueta_texto: {default: \"\"},\r\n      etiqueta_icone: {default: null},\r\n      etiqueta_cor: {default: null},\r\n      theme: {default: null},\r\n      ocultar_menu_sei: {default: true},\r\n      ocultar_container_petrvs: {default: false},\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  public get isPanel(): boolean {\r\n    return this.panel != undefined;\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    return result;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    if(this.urlParams!.get(\"id\")) {\r\n      this.usuarioId = this.urlParams!.get(\"id\")!;\r\n    }\r\n    this.etiquetas = !!this.queryParams.etiquetas;\r\n  }\r\n\r\n  public async loadData(entity: Usuario, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    formValue = this.util.fillForm(formValue, entity.config || {});\r\n    formValue = this.util.fillForm(formValue, entity.notificacoes || {});\r\n    form.patchValue(formValue);\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.carregando = true;\r\n    try {\r\n      this.entity = (await this.dao!.getById(this.usuarioId!))!;\r\n      await this.loadData(this.entity, form);\r\n    } finally {\r\n      this.carregando = false;\r\n    }\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<boolean> {\r\n    return new Promise<boolean>((resolve, reject) => {\r\n      this.notificacoes?.saveData();\r\n      let config = this.util.fill(new UsuarioConfig(), this.form!.value);\r\n      Promise.all([\r\n        this.auth.updateUsuarioConfig(this.usuarioId!, config),\r\n        this.auth.updateUsuarioNotificacoes(this.usuarioId!, this.entity!.notificacoes)\r\n      ]).then(results => {\r\n        if(this.usuarioId == this.auth.usuario!.id) {\r\n          this.auth.authSession().then(result => resolve(!this.isPanel)).catch(reject);\r\n        } else {\r\n          resolve(!this.isPanel);\r\n        }\r\n      }).catch(reject);\r\n    });\r\n  }\r\n\r\n  public addItemHandleEtiquetas(): LookupItem | undefined {\r\n    let result = undefined;\r\n    const value = this.form.controls.etiqueta_texto.value;\r\n    const key = this.util.textHash(value);\r\n    if(value?.length && this.util.validateLookupItem(this.form.controls.etiquetas.value, key)) {\r\n      result = {\r\n        key: key,\r\n        value: this.form.controls.etiqueta_texto.value,\r\n        color: this.form.controls.etiqueta_cor.value,\r\n        icon: this.form.controls.etiqueta_icone.value\r\n      };\r\n      this.form.controls.etiqueta_texto.setValue(\"\");\r\n      this.form.controls.etiqueta_icone.setValue(null);\r\n      this.form.controls.etiqueta_cor.setValue(null);\r\n    }\r\n    return result;\r\n  };\r\n\r\n  public titleEdit = (entity: Usuario): string => {\r\n    return \"Editando \" + this.lex.translate(\"Preferência\")+ ' ' + this.lex.translate(\"do Usuário\") + ': ' + (entity?.apelido || \"\");\r\n  }\r\n}\r\n","\r\n<div *ngIf=\"carregando\" class=\"d-flex justify-content-center\">\r\n    <div class=\"spinner-border\" role=\"status\">\r\n        <span class=\"visually-hidden\"></span>\r\n    </div>\r\n</div>\r\n<div [class.d-none]=\"carregando\">\r\n    <toolbar [buttons]=\"toolbarButtons\"></toolbar>\r\n    <editable-form [form]=\"form!\" [noButtons]=\"isPanel ? 'true' : undefined\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n        <div class=\"row\">\r\n            <div *ngIf=\"!etiquetas\" class=\"col-md-6\">\r\n                <separator transparent [title]=\"'Preferências de exibição ' + lex.translate('usuário')\">\r\n                    <div class=\"row\">\r\n                        <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" [label]=\"'Ocultar menu lateral do sei no Controle de ' + lex.translate('Processo')\" controlName=\"ocultar_menu_sei\"></input-switch>\r\n                        <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" label=\"Ocultar o container Petrvs\" controlName=\"ocultar_container_petrvs\"></input-switch>\r\n                    </div>\r\n                </separator>\r\n                <separator transparent title=\"Tema\">\r\n                    <input-select controlName=\"theme\" [items]=\"lookup.THEMES\"></input-select>\r\n                </separator>\r\n            </div>\r\n            <div [class]=\"etiquetas ? 'col-md-12' : 'col-md-6'\">\r\n                <input-multiselect label=\"Etiquetas\" multiselectStyle=\"inline\" controlName=\"etiquetas\" [size]=\"12\" [addItemHandle]=\"addItemHandleEtiquetas.bind(this)\">\r\n                    <input-text [size]=\"5\" label=\"Texto\" controlName=\"etiqueta_texto\" [attr.maxlength]=250></input-text>\r\n                    <input-select [size]=\"3\" label=\"Ícone\" icon=\"fas fa-sign-out-alt\" controlName=\"etiqueta_icone\" liveSearch [items]=\"lookup.ICONES\"></input-select>\r\n                    <input-color [size]=\"4\" label=\"Cor\" controlName=\"etiqueta_cor\"></input-color>\r\n                </input-multiselect>\r\n            </div>\r\n        </div>\r\n        <separator *ngIf=\"entity && !etiquetas\" transparent title=\"Notificações\">\r\n            <notificacoes-config #notificacoes [entity]=\"entity!\" [disabled]=\"formDisabled\"></notificacoes-config>\r\n        </separator>\r\n        <!--div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n                <separator transparent title=\"Meios de notificação\"></separator>\r\n                <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" label=\"Notificar no Petrvs\" controlName=\"enviar_petrvs\"></input-switch>\r\n                <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" label=\"Notificar por e-mail\" controlName=\"enviar_email\"></input-switch>\r\n                <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" label=\"Notificar por Whatsapp\" controlName=\"enviar_whatsapp\"></input-switch>\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n                <separator transparent title=\"Tipos de notificação\"></separator>\r\n                <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" [label]=\"'Notificar distribuição ' + lex.translate('demanda',false,true)\" controlName=\"notifica_demanda_distribuicao\"></input-switch>\r\n                <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" [label]=\"'Notificar conclusão ' + lex.translate('demanda',false,true)\" controlName=\"notifica_demanda_conclusao\"></input-switch>\r\n                <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" [label]=\"'Notificar avaliação ' + lex.translate('demanda',false,true)\" controlName=\"notifica_demanda_avaliacao\"></input-switch>\r\n                <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" [label]=\"'Notificar modificação ' + lex.translate('demanda',false,true)\" controlName=\"notifica_demanda_modificacao\"></input-switch>\r\n                <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" [label]=\"'Notificar comentário ' + lex.translate('demanda',false,true)\" controlName=\"notifica_demanda_comentario\"></input-switch>\r\n            </div>\r\n        </div//-->\r\n    </editable-form>\r\n</div>","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { PageBase } from 'src/app/modules/base/page-base';\r\nimport { PreferenciaFormPetrvsComponent } from '../preferencia-form-petrvs/preferencia-form-petrvs.component';\r\nimport { PreferenciaFormUsuarioComponent } from '../preferencia-form-usuario/preferencia-form-usuario.component';\r\n\r\n@Component({\r\n  selector: 'app-preferencia-form',\r\n  templateUrl: './preferencia-form.component.html',\r\n  styleUrls: ['./preferencia-form.component.scss']\r\n})\r\nexport class PreferenciaFormComponent extends PageBase implements OnInit {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(PreferenciaFormPetrvsComponent, { static: false }) public petrvs?: PreferenciaFormPetrvsComponent;\r\n  @ViewChild(PreferenciaFormUsuarioComponent, { static: false }) public usuario?: PreferenciaFormUsuarioComponent;\r\n\r\n  public form: FormGroup;\r\n  public mensagemCarregando = \"Carregando dados do formulário...\";\r\n  public mensagemSalvando = \"Salvando dados do formulário...\";\r\n\r\n  /*private _submitting: boolean = false;\r\n  public set submitting(value: boolean) {\r\n    if(!value) {\r\n      this.dialog.closeSppinerOverlay();\r\n    } else if(!this._submitting) {\r\n      this.dialog.showSppinerOverlay(\"Salvando dados do formulário\");\r\n    }\r\n    this._submitting = value;\r\n  }\r\n  public get submitting(): boolean {\r\n    return this._submitting;\r\n  } \r\n  private _loading: boolean = false;\r\n  public set loading(value: boolean) {\r\n    if(!value) {\r\n      this.dialog.closeSppinerOverlay();\r\n    } else if(!this._loading) {\r\n      this.dialog.showSppinerOverlay(\"Carregando dados do formulário\");\r\n    }\r\n    this._loading = value;\r\n  }\r\n  public get loading(): boolean {\r\n    return this._loading;\r\n  }*/\r\n  \r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.form = this.fh.FormBuilder({});\r\n  }\r\n\r\n  public get forceInvalid(): boolean {\r\n    return !!this.petrvs?.form?.invalid || !!this.usuario?.form?.invalid;\r\n  }\r\n\r\n  public async onSaveData() {\r\n    if(!this.forceInvalid) {\r\n      this.submitting = true;\r\n      try {\r\n        await Promise.all([\r\n          this.petrvs?.onSaveData(),\r\n          this.usuario?.onSaveData()\r\n        ]);\r\n        this.dialog.alert(\"Atenção\", \"Algumas modificações só surtirão efeito após atualizar a página.\\nPor motivos de segurança esse procedimento, de atualizar a pagina, deverá ser executado pelo usuário.\");\r\n        this.go.back();\r\n      } catch (error: any) {\r\n        this.editableForm!.error = error.message ? error.message : error;\r\n      } finally {\r\n        this.submitting = false;\r\n      }\r\n    } else {\r\n      if(!this.petrvs?.form?.invalid) this.editableForm!.error = \"Form Petrvs com erro\";\r\n      if(!this.usuario?.form?.invalid) this.editableForm!.error = \"Form do usuário com erro\";\r\n    }\r\n  }\r\n\r\n  public onCancel() {\r\n    this.close();\r\n  }\r\n}\r\n","<editable-form [form]=\"form!\" [forceInvalid]=\"forceInvalid\" [title]=\"isModal ? '' : title\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right>\r\n        <tab key=\"USUARIO\" [label]=\"lex.translate('Usuário')\">\r\n            <preferencia-form-usuario #usuario panel [usuarioId]=\"auth.usuario!.id\"></preferencia-form-usuario>\r\n        </tab>\r\n        <tab key=\"PETRVS\" label=\"Petrvs\">\r\n            <preferencia-form-petrvs #petrvs panel></preferencia-form-petrvs>\r\n        </tab>\r\n        <tab *ngIf=\"auth.entidade\" key=\"ENTIDADE\" [label]=\"lex.translate('Entidade')\">\r\n            Em desenvolvimento\r\n        </tab>\r\n    </tabs>\r\n</editable-form>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { PreferenciaFormUsuarioComponent } from './preferencia-form-usuario/preferencia-form-usuario.component';\r\nimport { PreferenciaFormComponent } from './preferencia-form/preferencia-form.component';\r\nimport { PreferenciaFormUnidadeComponent } from './preferencia-form-unidade/preferencia-form-unidade.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: PreferenciaFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Preferências\" } },\r\n  { path: 'usuario/:id', component: PreferenciaFormUsuarioComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Preferências do Usuário\" } },\r\n  { path: 'unidade/:id', component: PreferenciaFormUnidadeComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Preferências da Unidade\" } }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PreferenciaRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PreferenciaRoutingModule } from './preferencia-routing.module';\r\nimport { PreferenciaFormComponent } from './preferencia-form/preferencia-form.component';\r\nimport { PreferenciaFormPetrvsComponent } from './preferencia-form-petrvs/preferencia-form-petrvs.component';\r\nimport { PreferenciaFormUsuarioComponent } from './preferencia-form-usuario/preferencia-form-usuario.component';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { UteisModule } from '../../uteis/uteis.module';\nimport { PreferenciaFormUnidadeComponent } from './preferencia-form-unidade/preferencia-form-unidade.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PreferenciaFormComponent,\r\n    PreferenciaFormPetrvsComponent,\r\n    PreferenciaFormUsuarioComponent,\r\n    PreferenciaFormUnidadeComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    ReactiveFormsModule,\r\n    PreferenciaRoutingModule,\r\n    UteisModule\r\n  ]\r\n})\r\nexport class PreferenciaModule { }\r\n"],"names":["EditableFormComponent","PageFormBase","Entidade","EntidadeDaoService","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","PreferenciaFormPetrvsComponent","constructor","injector","carregando","validate","control","controlName","result","titleEdit","entity","lex","translate","nome","form","fh","FormBuilder","cdRef","isPanel","panel","undefined","loadData","_this","_asyncToGenerator","formValue","Object","assign","value","patchValue","util","fillForm","initializeData","_this2","saveData","Promise","resolve","reject","_","ɵɵdirectiveInject","Injector","_2","selectors","viewQuery","PreferenciaFormPetrvsComponent_Query","rf","ctx","ɵɵtemplate","PreferenciaFormPetrvsComponent_div_0_Template","ɵɵlistener","PreferenciaFormPetrvsComponent_Template_editable_form_submit_2_listener","onSaveData","PreferenciaFormPetrvsComponent_Template_editable_form_cancel_2_listener","onCancel","ɵɵtext","ɵɵproperty","ɵɵadvance","ɵɵclassProp","UnidadeDaoService","Unidade","UsuarioConfig","PreferenciaFormUnidadeComponent","etiquetas","toolbarButtons","label","icon","onClick","loading","dao","update","usuarioId","config","then","usuario","finally","default","etiqueta_texto","etiqueta_icone","etiqueta_cor","theme","ocultar_menu_sei","ocultar_container_petrvs","ngOnInit","urlParams","get","queryParams","getById","fill","all","auth","updateUsuarioConfig","updateUsuarioNotificacoes","notificacoes","results","id","authSession","catch","addItemHandleEtiquetas","controls","key","textHash","length","validateLookupItem","color","setValue","PreferenciaFormUnidadeComponent_Query","PreferenciaFormUnidadeComponent_div_0_Template","PreferenciaFormUnidadeComponent_Template_editable_form_submit_3_listener","PreferenciaFormUnidadeComponent_Template_editable_form_cancel_3_listener","isModal","title","formDisabled","Usuario","UsuarioDaoService","ctx_r1","lookup","THEMES","ctx_r2","PreferenciaFormUsuarioComponent","apelido","PreferenciaFormUsuarioComponent_Query","PreferenciaFormUsuarioComponent_div_0_Template","PreferenciaFormUsuarioComponent_Template_editable_form_submit_3_listener","PreferenciaFormUsuarioComponent_Template_editable_form_cancel_3_listener","PreferenciaFormUsuarioComponent_div_5_Template","PreferenciaFormUsuarioComponent_separator_11_Template","ɵɵclassMap","bind","ɵɵattribute","ICONES","PageBase","PreferenciaFormComponent","mensagemCarregando","mensagemSalvando","forceInvalid","petrvs","invalid","submitting","dialog","alert","go","back","error","editableForm","message","close","PreferenciaFormComponent_Query","PreferenciaFormComponent_Template_editable_form_submit_0_listener","PreferenciaFormComponent_Template_editable_form_cancel_0_listener","PreferenciaFormComponent_tab_8_Template","entidade","RouterModule","AuthGuard","ConfigResolver","routes","path","component","canActivate","runGuardsAndResolvers","data","PreferenciaRoutingModule","_3","forChild","imports","i1","exports","CommonModule","ComponentsModule","ReactiveFormsModule","UteisModule","PreferenciaModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}