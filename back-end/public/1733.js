"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[1733],{61733:(S,h,o)=>{o.r(h),o.d(h,{DisciplinaModule:()=>A});var v=o(76733),Q=o(58568),g=o(55579),c=o(1391),u=o(2314),D=o(73150),F=o(78509),J=o(24997),M=o(64368);class p extends M.X{constructor(t){super(),this.nome="",this.sigla="",this.ativo=1,this.initialization(t)}}var d,C=o(50418),i=o(20755),R=o(57224),N=o(83351),B=o(57765),I=o(45512),E=o(42704),y=o(88820),O=o(92392);function Z(s,t){1&s&&i._UZ(0,"toolbar")}class T extends F.E{constructor(t){super(t,p,C.J),this.injector=t,this.filterWhere=e=>{let a=[],l=e.value;return l.nome?.length&&a.push(["nome","like","%"+l.nome.trim().replace(" ","%")+"%"]),l.sigla?.length&&a.push(["sigla","like","%"+l.sigla.trim().replace(" ","%")+"%"]),a.push(["ativo","==",l.inativas?0:1]),a},this.area=t.get(J.s),this.title=this.lex.translate("Disciplinas"),this.code="MOD_RX_CURR",this.join=[],this.orderBy=[["nome","asc"]],this.filter=this.fh.FormBuilder({nome:{default:""},sigla:{default:""},inativas:{default:!1}}),this.addOption(this.OPTION_INFORMACOES),this.addOption(this.OPTION_EXCLUIR,"MOD_RX_OUT_EXCL")}filterClear(t){t.controls.nome.setValue(""),t.controls.sigla.setValue(""),t.controls.inativas.setValue(!1),super.filterClear(t)}}(d=T).\u0275fac=function(t){return new(t||d)(i.Y36(i.zs3))},d.\u0275cmp=i.Xpm({type:d,selectors:[["disciplina-list"]],viewQuery:function(t,e){if(1&t&&i.Gf(D.M,5),2&t){let a;i.iGM(a=i.CRH())&&(e.grid=a.first)}},features:[i.qOj],decls:12,vars:28,consts:[[3,"dao","add","title","orderBy","groupBy","join","selectable","hasAdd","hasEdit","select"],[4,"ngIf"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["label","Sigla","controlName","sigla",3,"size","control"],["label","Nome da Disciplina","controlName","nome","placeholder","Nome da Disciplina",3,"size","control"],["label","Inativas","labelInfo","Pesquisar apenas as inativas.","controlName","inativas",3,"size","control"],["title","Sigla","field","sigla","orderBy","sigla"],["title","Nome da Disciplina","field","nome","orderBy","nome"],["type","options",3,"onEdit","options"],[3,"rows"]],template:function(t,e){1&t&&(i.TgZ(0,"grid",0),i.NdJ("select",function(l){return e.onSelect(l)}),i.YNc(1,Z,1,0,"toolbar",1),i.TgZ(2,"filter",2)(3,"div",3),i._UZ(4,"input-text",4)(5,"input-text",5)(6,"input-switch",6),i.qZA()(),i.TgZ(7,"columns"),i._UZ(8,"column",7)(9,"column",8)(10,"column",9),i.qZA(),i._UZ(11,"pagination",10),i.qZA()),2&t&&(i.Q6J("dao",e.dao)("add",e.add)("title",e.isModal?"":e.title)("orderBy",e.orderBy)("groupBy",e.groupBy)("join",e.join)("selectable",e.selectable)("hasAdd",e.auth.hasPermissionTo("MOD_RX_OUT_INCL"))("hasEdit",e.auth.hasPermissionTo("MOD_RX_OUT_EDT")),i.xp6(1),i.Q6J("ngIf",!e.selectable),i.xp6(1),i.Q6J("deleted",e.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",e.filter)("where",e.filterWhere)("submit",e.filterSubmit.bind(e))("clear",e.filterClear.bind(e))("collapseChange",e.filterCollapseChange.bind(e))("collapsed",!e.selectable&&e.filterCollapsed),i.xp6(2),i.Q6J("size",5)("control",e.filter.controls.sigla),i.uIk("maxlength",20),i.xp6(1),i.Q6J("size",5)("control",e.filter.controls.nome),i.uIk("maxlength",250),i.xp6(1),i.Q6J("size",1)("control",e.filter.controls.inativas),i.xp6(4),i.Q6J("onEdit",e.edit)("options",e.options),i.xp6(1),i.Q6J("rows",e.rowsLimit))},dependencies:[v.O5,D.M,R.a,N.b,B.z,I.n,E.Q,y.a,O.m]});var m,z=o(74040),L=o(34406),U=o(1184);const G=["curso"];class f extends U.F{constructor(t){super(t,p,C.J),this.injector=t,this.cursos=[],this.titulo=[],this.cursoWhere=[["id","==",null]],this.validate=(e,a)=>{let l=null;return["nome","sigla"].indexOf(a)>=0&&!e.value?.length&&(l="Obrigat\xf3rio"),l},this.titleEdit=e=>"Editando "+(e?.nome||""),this.cursoDao=t.get(L.E),this.join=[],this.form=this.fh.FormBuilder({nome:{default:""},sigla:{default:""},ativo:{default:!0}},this.cdRef,this.validate)}loadData(t,e){let a=Object.assign({},e.value);e.patchValue(this.util.fillForm(a,t))}initializeData(t){t.patchValue(new p)}saveData(t){return new Promise((e,a)=>{const l=this.util.fill(new p,this.entity);e(this.util.fillForm(l,this.form.value))})}}var n;(m=f).\u0275fac=function(t){return new(t||m)(i.Y36(i.zs3))},m.\u0275cmp=i.Xpm({type:m,selectors:[["disciplina-form"]],viewQuery:function(t,e){if(1&t&&(i.Gf(z.Q,5),i.Gf(G,5)),2&t){let a;i.iGM(a=i.CRH())&&(e.editableForm=a.first),i.iGM(a=i.CRH())&&(e.curso=a.first)}},features:[i.qOj],decls:5,vars:8,consts:[["initialFocus","area_id",3,"form","disabled","title","submit","cancel"],[1,"row"],["label","Sigla","controlName","sigla","required","",3,"size"],["label","Nome da Disciplina","controlName","nome","required","",3,"size"],["labelPosition","left","label","Ativa","controlName","ativo",3,"size"]],template:function(t,e){1&t&&(i.TgZ(0,"editable-form",0),i.NdJ("submit",function(){return e.onSaveData()})("cancel",function(){return e.onCancel()}),i.TgZ(1,"div",1),i._UZ(2,"input-text",2)(3,"input-text",3)(4,"input-switch",4),i.qZA()()),2&t&&(i.Q6J("form",e.form)("disabled",e.formDisabled)("title",e.isModal?"":e.title),i.xp6(2),i.Q6J("size",2),i.uIk("maxlength",20),i.xp6(1),i.Q6J("size",8),i.uIk("maxlength",250),i.xp6(1),i.Q6J("size",2))},dependencies:[z.Q,y.a,O.m]});const X=[{path:"",component:T,canActivate:[c.a],resolve:{config:u.o},runGuardsAndResolvers:"always",data:{title:"Lista",modal:!1}},{path:"new",component:f,canActivate:[c.a],resolve:{config:u.o},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o",modal:!0}},{path:":id/edit",component:f,canActivate:[c.a],resolve:{config:u.o},runGuardsAndResolvers:"always",data:{title:"Edi\xe7\xe3o",modal:!0}},{path:":id/consult",component:f,canActivate:[c.a],resolve:{config:u.o},runGuardsAndResolvers:"always",data:{title:"Consultar",modal:!0}}];class b{}(n=b).\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[g.Bz.forChild(X),g.Bz]});var r,j=o(72133);class A{}(r=A).\u0275fac=function(t){return new(t||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({imports:[v.ez,Q.K,j.UX,b]})}}]);