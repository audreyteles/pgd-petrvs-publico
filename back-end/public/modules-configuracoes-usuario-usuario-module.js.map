{"version":3,"sources":["./src/app/modules/configuracoes/usuario/usuario.module.ts","./src/app/modules/configuracoes/usuario/usuario-routing.module.ts","./src/app/modules/configuracoes/usuario/usuario-integrante/usuario-integrante.component.ts","./src/app/modules/configuracoes/usuario/usuario-integrante/usuario-integrante.component.html","./src/app/modules/configuracoes/usuario/usuario-list/usuario-list.component.ts","./src/app/modules/configuracoes/usuario/usuario-list/usuario-list.component.html","./src/app/modules/configuracoes/usuario/usuario-form/usuario-form.component.ts","./src/app/modules/configuracoes/usuario/usuario-form/usuario-form.component.html"],"names":[],"mappings":"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","file":"modules-configuracoes-usuario-usuario-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { UsuarioRoutingModule } from './usuario-routing.module';\r\nimport { UsuarioListComponent } from './usuario-list/usuario-list.component';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { UsuarioFormComponent } from './usuario-form/usuario-form.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { UsuarioIntegranteComponent } from './usuario-integrante/usuario-integrante.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    UsuarioListComponent,\r\n    UsuarioFormComponent,\r\n    UsuarioIntegranteComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    ReactiveFormsModule,\r\n    UsuarioRoutingModule\r\n  ]\r\n})\r\nexport class UsuarioModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { UsuarioFormComponent } from './usuario-form/usuario-form.component';\r\nimport { UsuarioListComponent } from './usuario-list/usuario-list.component';\r\nimport { UsuarioIntegranteComponent } from './usuario-integrante/usuario-integrante.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: UsuarioListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Usuários\" } },\r\n  { path: 'new', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Inclusão de Usuário\", modal: true } },\r\n  { path: ':id/edit', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edição de Usuário\", modal: true } },\r\n  //{ path: ':usuario_id/lotacao', loadChildren: () => import('./lotacao/lotacao.module').then(m => m.LotacaoModule), canActivate: [AuthGuard] },\r\n  { path: ':id/consult', component: UsuarioFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Usuário\", modal: true } },\r\n  { path: ':id/:idUsuario/integrante', component: UsuarioIntegranteComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Unidades Integrantes\", modal: true } },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class UsuarioRoutingModule { }\r\n","import { Component, Injector, Input, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UnidadeIntegranteDaoService } from 'src/app/dao/unidade-integrante-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { IntegranteConsolidado } from 'src/app/models/unidade-integrante.model';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\n\r\n@Component({\r\n  selector: 'usuario-integrante',\r\n  templateUrl: './usuario-integrante.component.html',\r\n  styleUrls: ['./usuario-integrante.component.scss']\r\n})\r\nexport class UsuarioIntegranteComponent extends PageFrameBase {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @Input() public usuarioId?: string;\r\n\r\n  public integranteDao: UnidadeIntegranteDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public usuario?: Usuario;\r\n  public items: IntegranteConsolidado[] = [];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.integranteDao = injector.get<UnidadeIntegranteDaoService>(UnidadeIntegranteDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      unidade_id: {default: \"\"},\r\n      atribuicoes: {default: undefined},\r\n      atribuicao: {default: \"\"}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  ngOnInit() {\r\n    super.ngOnInit();\r\n    this.usuarioId = this.urlParams?.has(\"idUsuario\") ? this.urlParams!.get(\"idUsuario\") : this.metadata?.idUsuario || this.usuarioId;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    (async () => {\r\n      await this.loadData({}, this.form);\r\n    })();\r\n  }\r\n\r\n  /**\r\n   * Método chamado na inicialização do componente para carregar todas as unidades-integrantes do usuário.\r\n   * @param entity \r\n   * @param form \r\n   */\r\n  public async loadData(entity: IIndexable, form?: FormGroup | undefined) {\r\n    this.grid!.loading = true;\r\n    try {\r\n      let result = await this.integranteDao!.loadIntegrantes(\"\", this.usuarioId!);\r\n      this.items = result.integrantes;\r\n      this.usuario = result.usuario;\r\n    } finally {\r\n      this.grid!.loading = false;\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if([\"unidade_id\"].includes(controlName) && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    if(controlName == \"atribuicoes\" && !control.value?.length) {\r\n      result = \"Obrigatório ao menos uma atribuição!\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public addItemHandle(): LookupItem | undefined {\r\n    let result = undefined;\r\n    const value = this.lookup.getValue(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\r\n    const key = this.form!.controls.atribuicao.value;\r\n    if(value?.length && this.util.validateLookupItem(this.form!.controls.atribuicao.value, key)) {\r\n      const icon = this.lookup.getIcon(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\r\n      const color = this.lookup.getColor(this.lookup.UNIDADE_INTEGRANTE_TIPO, this.form!.controls.atribuicao.value);\r\n      result = {\r\n        key: key,\r\n        value: value,\r\n        icon: icon,\r\n        color: color\r\n      };\r\n      this.form!.controls.atribuicao.setValue(\"\");\r\n    }\r\n    return result;\r\n  };\r\n\r\n  public async addAtribuicao() {\r\n    return Object.assign({}, {usuario_id: this.usuarioId, _status: \"ADD\", unidade_id: \"\", atribuicao: \"\"}) as IIndexable;\r\n  }\r\n\r\n  public async loadAtribuicao(form: FormGroup, row: any) {\r\n    form.controls.unidade_id.setValue(row.id);\r\n    form.controls.atribuicoes.setValue(row.atribuicoes.map((x: string) => Object.assign({}, {\r\n      key: x,\r\n      value: this.lookup.getValue(this.lookup.UNIDADE_INTEGRANTE_TIPO, x),\r\n      icon: this.lookup.getIcon(this.lookup.UNIDADE_INTEGRANTE_TIPO, x),\r\n      color: this.lookup.getColor(this.lookup.UNIDADE_INTEGRANTE_TIPO, x)\r\n    })));\r\n    form.controls.atribuicao.setValue(\"\");\r\n  }\r\n\r\n  public async removeAtribuicao(row: any) {\r\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\r\n    if(confirm) {\r\n      this.loading = true;\r\n      try {\r\n        await this.integranteDao.saveIntegrante(row.id, this.usuario!.id, []);\r\n        await this.loadData({}, this.form);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public async saveAtribuicao(form: FormGroup, row: any) {\r\n    if(form!.controls.atribuicoes.value.length) {\r\n      this.loading = true;\r\n      try {\r\n        await this.integranteDao.saveIntegrante(form!.controls.unidade_id.value, this.usuario!.id, form!.controls.atribuicoes.value.map((x: LookupItem) => x.key));\r\n        this.items\r\n        await this.loadData({}, this.form);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n}\r\n","<grid #grid [items]=\"items\" [minHeight]=\"500\" [form]=\"form!\" [hasDelete]=\"true\"\r\n[add]=\"addAtribuicao.bind(this)\"\r\n[load]=\"loadAtribuicao.bind(this)\"\r\n[remove]=\"removeAtribuicao.bind(this)\"\r\n[save]=\"saveAtribuicao.bind(this)\" editable>\r\n    <columns>\r\n        <column [title]=\"lex.translate('Unidade')\" [template]=\"columnUnidade\" [editTemplate]=\"editUnidade\">\r\n            <ng-template let-row=\"row\" #columnUnidade>\r\n                <strong>{{ row.unidade_sigla || '' }}</strong><span> (IdServo: {{ row.unidade_codigo || '' }})</span><br>\r\n                <span>{{ row.unidade_nome || '' }} </span>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #editUnidade>\r\n                <input-search #unidade [size]=\"12\" label icon controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n            </ng-template>\r\n        </column>\r\n        <column [title]=\"lex.translate('Atribuição')\" [template]=\"columnAtribuicao\" [editTemplate]=\"editAtribuicao\">\r\n            <ng-template let-row=\"row\" #columnAtribuicao>\r\n                <div *ngFor=\"let a of row.atribuicoes\"><badge [color]=\"lookup.getColor(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\" [icon]=\"lookup.getIcon(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\" [label]=\"lookup.getValue(lookup.UNIDADE_INTEGRANTE_TIPO, a || '')\"></badge><br></div>\r\n            </ng-template>\r\n            <ng-template let-row=\"row\" #editAtribuicao>\r\n                <input-multiselect controlName=\"atribuicoes\" [size]=\"8\" [addItemHandle]=\"addItemHandle.bind(this)\">\r\n                    <input-select [size]=\"12\" label=\"\" icon=\"fas fa-sign-out-alt\" controlName=\"atribuicao\" [items]=\"lookup.UNIDADE_INTEGRANTE_TIPO\"></input-select>\r\n                </input-multiselect>\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"options\"></column>\r\n    </columns>\r\n</grid>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { PerfilDaoService } from 'src/app/dao/perfil-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\n\r\n@Component({\r\n  selector: 'app-usuario-list',\r\n  templateUrl: './usuario-list.component.html',\r\n  styleUrls: ['./usuario-list.component.scss']\r\n})\r\nexport class UsuarioListComponent extends PageListBase<Usuario, UsuarioDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n\r\n  public unidadeDao: UnidadeDaoService;\r\n  public perfilDao: PerfilDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Usuario, UsuarioDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.perfilDao = injector.get<PerfilDaoService>(PerfilDaoService);\r\n    /* Inicializações */\r\n    this.title = this.lex.translate(\"Usuários\");\r\n    this.code = \"MOD_CFG_USER\";\r\n    this.join = [\"perfil:id,nome\"];\r\n    this.filter = this.fh.FormBuilder({\r\n      usuario: {default: \"\"},\r\n      unidade_id: {default: \"\"},\r\n      perfil_id: {default: null}\r\n    });\r\n    // Testa se o usuário possui permissão para exibir dados do usuário\r\n    if (this.auth.hasPermissionTo(\"MOD_USER_CONS\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-info-circle\",\r\n        label: \"Informações\",\r\n        onClick: this.consult.bind(this)\r\n      });\r\n    }\r\n    // Testa se o usuário possui permissão para excluir dados do usuario\r\n    if (this.auth.hasPermissionTo(\"MOD_USER_EXCL\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-trash\",\r\n        label: \"Excluir\",\r\n        onClick: this.delete.bind(this)\r\n      });\r\n    }\r\n  // Testa se o usuário possui permissão para gerenciar as suas unidades-integrantes\r\n  if (this.auth.hasPermissionTo(\"MOD_UND_INTG\")) {\r\n      this.options.push({\r\n      icon: \"bi bi-houses\",\r\n      label: \"Unidades\",\r\n      onClick: (usuario: Usuario) => {\r\n        this.go.navigate({ route: ['configuracoes', 'usuario', '', usuario.id, 'integrante'] });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    this.filter?.controls.usuario.setValue(\"\");\r\n    this.filter?.controls.unidade_id.setValue(\"\");\r\n    this.filter?.controls.perfil_id.setValue(null);\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    if(filter?.controls.usuario?.value?.length) {\r\n      result.push([\"nome\", \"like\", \"%\" + filter?.controls.usuario?.value + \"%\"]);\r\n    }\r\n    if(filter?.controls.unidade_id?.value?.length) {\r\n      result.push([\"lotacao\", \"==\", filter?.controls.unidade_id.value]);\r\n    }\r\n    if(filter?.controls.perfil_id?.value?.length) {\r\n      result.push([\"perfil_id\", \"==\", filter?.controls.perfil_id?.value]);\r\n    }\r\n    return result;\r\n  }\r\n}\r\n","<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>\r\n<grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\"\r\n    [selectable]=\"selectable\" (select)=\"onSelect($event)\"\r\n    [hasAdd]=\"auth.hasPermissionTo('MOD_USER_INCL')\"\r\n    [hasEdit]=\"auth.hasPermissionTo('MOD_USER_EDT')\">\r\n    <toolbar *ngIf=\"!selectable\"></toolbar>\r\n    <filter [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n        <div class=\"row\">\r\n            <input-text [size]=\"4\" [label]=\"lex.translate('Usuário')\" controlName=\"usuario\" [control]=\"filter!.controls.usuario\" placeholder=\"Nome\"></input-text>\r\n            <input-search [size]=\"4\" [label]=\"lex.translate('Lotação')\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n            <input-select [size]=\"4\" [label]=\"lex.translate('Perfil')\" controlName=\"perfil_id\" nullable [control]=\"filter!.controls.perfil_id\" [dao]=\"perfilDao\"></input-select>\r\n        </div>\r\n    </filter>\r\n    <columns>\r\n        <column icon=\"bi-person\" [align]=\"'center'\" [template]=\"columnFoto\">\r\n            <ng-template let-row=\"row\" #columnFoto>\r\n                <profile-picture [url]=\"row.url_foto\" [size]=\"40\" [hint]=\"row.nome\"></profile-picture>\r\n                <!--img [src]=\"row.url_foto\" onerror=\"this.src='/assets/images/profile.png'\" width=\"40\" height=\"40\" class=\"rounded-circle\"/-->\r\n            </ng-template>\r\n        </column>\r\n        <column title=\"CPF\" field=\"cpf\"></column>\r\n        <column title=\"Matrícula\" field=\"matricula\"></column>\r\n        <column title=\"Nome\" field=\"nome\" orderBy=\"nome\"></column>\r\n        <column [title]=\"lex.translate('Perfil')\" [template]=\"columnPerfil\">\r\n            <ng-template let-row=\"row\" #columnPerfil>\r\n                <strong>{{row.perfil?.nome || \"\"}}</strong>\r\n            </ng-template>\r\n        </column>\r\n        <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\r\n    </columns>\r\n    <pagination [rows]=\"rowsLimit\"></pagination>\r\n</grid>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { PerfilDaoService } from 'src/app/dao/perfil-dao.service';\r\nimport { PlanoTrabalhoDaoService } from 'src/app/dao/plano-trabalho-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { UsuarioIntegranteComponent } from '../usuario-integrante/usuario-integrante.component';\r\nimport { TemplateDataset } from 'src/app/modules/uteis/templates/template.service';\r\n\r\n@Component({\r\n  selector: 'app-usuario-form',\r\n  templateUrl: './usuario-form.component.html',\r\n  styleUrls: ['./usuario-form.component.scss']\r\n})\r\nexport class UsuarioFormComponent extends PageFormBase<Usuario, UsuarioDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('usuarioIntegrante', { static: false }) public usuarioIntegrante?: UsuarioIntegranteComponent;\r\n\r\n  public perfilDao: PerfilDaoService;\r\n  public unidadeDao: UnidadeDaoService;\r\n  public planoTrabalhoDao: PlanoTrabalhoDaoService;\r\n  public planoDataset: TemplateDataset[]; \r\n \r\n  constructor(public injector: Injector) {\r\n    super(injector, Usuario, UsuarioDaoService);\r\n    this.perfilDao = injector.get<PerfilDaoService>(PerfilDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.planoTrabalhoDao = injector.get<PlanoTrabalhoDaoService>(PlanoTrabalhoDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      email: {default: \"\"},\r\n      nome: {default: \"\"},\r\n      cpf: {default: \"\"},\r\n      matricula: {default: \"\"},\r\n      apelido: {default: \"\"},\r\n      telefone: {default: \"\"},\r\n      uf: {default: \"\"},\r\n      sexo: {default: null},\r\n      url_foto: {default: \"\"},\r\n      texto_complementar_plano: {default: \"\"},\r\n      perfil_id: {default: null}\r\n    }, this.cdRef, this.validate);\r\n    this.planoDataset = this.planoTrabalhoDao.dataset();\r\n    this.join = [\"unidades_integrante.unidade\",\"unidades_integrante.atribuicoes:id, atribuicao\"];\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {   \r\n    let result = null;\r\n    if(['cpf', 'matricula', 'email', 'nome', 'apelido', 'perfil_id'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatório\";\r\n    }\r\n    else if(controlName == \"cpf\" && !this.util.validarCPF(control.value)) {\r\n      result = \"Inválido\";\r\n    }\r\n    return result;\r\n  }\r\n  \r\n  public formValidation = (form?: FormGroup) => {\r\n    if(!form?.controls.atribuicoes.value?.length || form?.controls.atribuicoes.value.filter((u: { nome: string; unidade_id: string }) => u.nome == \"LOTADO\")) {\r\n      return \"Obrigatório ao menos a unidade de lotação do usuário!\";\r\n    } else {\r\n      const erros_atribuicoes = []\r\n      form?.controls.atribuicoes.value?.forEach((atribuicao: { nome: string; unidade_id: string }) => {\r\n        if(atribuicao.unidade_id == '') erros_atribuicoes.push({ atribuicao: atribuicao, erro: 'Falta unidade_id'})\r\n      });\r\n      if (erros_atribuicoes.length) return \"Salve a unidade antes de salvar o usuário\"\r\n\r\n    }\r\n    return undefined;\r\n  } \r\n\r\n  public loadData(entity: Usuario, form: FormGroup): void {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n  }\r\n\r\n  public initializeData(form: FormGroup): void {\r\n    this.entity = new Usuario();\r\n    this.loadData(this.entity, form); \r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<Usuario> {      \r\n    return new Promise<Usuario>((resolve, reject) => {\r\n      let usuario = this.util.fill(new Usuario(), this.entity!);\r\n      usuario = this.util.fillForm(usuario, this.form!.value);\r\n      usuario.atribuicoes = usuario.atribuicoes.filter((x: { _status: any; unidade_id: string; nome: string; }) => [\"ADD\", \"EDIT\", \"DELETE\"].includes(x._status || \"\") && x.unidade_id?.length && x.nome?.length);\r\n      resolve(usuario);\r\n    });\r\n  }\r\n\r\n  public titleEdit = (entity: Usuario): string => {\r\n    return \"Editando \" + this.lex.translate(\"Usuário\") + ': ' + (entity?.matricula || \"\") + ' - ' + (entity?.apelido || \"\");\r\n  }\r\n\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right>\r\n        <tab key=\"PRINCIPAL\" label=\"Principal\">\r\n            <div class=\"row\">\r\n                <div class=\"form-group col-md-3 text-center\">\r\n                    <profile-picture [url]=\"form!.controls.url_foto?.value\" class=\"mt-5\" [size]=\"150\"></profile-picture>\r\n                    <!--img [src]=\"form!.controls.url_foto?.value\" onerror=\"this.src='./assets/images/profile.jpg'\" width=\"150\" height=\"150\" class=\"rounded-circle mt-5\"//-->\r\n                </div>\r\n                <div class=\"form-group col-md-9\">\r\n                    <div class=\"row\">\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_CPF') ? 'true' : undefined\" [size]=\"4\" label=\"CPF\" controlName=\"cpf\" [maskFormat]=\"'000.000.000-00'\"></input-text>\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_MAT') ? 'true' : undefined\" [size]=\"3\" label=\"Matrícula\" controlName=\"matricula\"></input-text>\r\n                        <input-text [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_MAIL') ? 'true' : undefined\" [size]=\"5\" label=\"E-mail\" controlName=\"email\" textCase=\"lower\"></input-text>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-text [size]=\"12\" label=\"Nome\" controlName=\"nome\"></input-text>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-text [size]=\"6\" label=\"Apelido\" controlName=\"apelido\"></input-text>\r\n                        <input-select [disabled]=\"!auth.hasPermissionTo('MOD_CFG_USER_PERFIL') ? 'true' : undefined\" [size]=\"6\" label=\"Perfil\" controlName=\"perfil_id\" [dao]=\"perfilDao\"></input-select>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-select [size]=\"4\" label=\"UF\" icon=\"bi bi-flag\" controlName=\"uf\" [items]=\"lookup.UF\"></input-select>\r\n                        <input-radio [size]=\"4\" label=\"Sexo\" controlName=\"sexo\" [items]=\"lookup.SEXO\"></input-radio>\r\n                        <input-text [size]=\"4\" label=\"Telefone\" controlName=\"telefone\" [maskFormat]=\"'(00) 0000-0000||(00) 0 0000-0000'\"></input-text>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"CONFIGURACOES\" label=\"Configurações\">\r\n            <div class=\"row\">\r\n                <input-editor [label]=\"'Texto complementar ' + lex.translate('Plano de Trabalho')\" controlName=\"texto_complementar_plano\" [dataset]=\"planoDataset\"></input-editor>\r\n            </div>\r\n        </tab>\r\n<!--         <tab key=\"UNIDADES\" [label]=\"lex.translate('Unidades')\">\r\n            <usuario-integrante #usuarioIntegrante [usuarioId]=\"entity?.id\"></usuario-integrante>\r\n        </tab> -->\r\n    </tabs>\r\n</editable-form>"],"sourceRoot":"webpack:///"}