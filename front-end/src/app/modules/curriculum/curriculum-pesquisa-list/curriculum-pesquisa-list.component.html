<grid title="Caça Talentos - Raio X" [dao]="dao" [hasEdit]="false" [hasDelete]="false" [join]="join" [loadList]="onGridLoad.bind(this)" [selectable]="selectable" (select)="onSelect($event)">
  <toolbar></toolbar>
  <filter [form]="filter" [where]="filterWhere" [submit]="filterSubmit.bind(this)" [clear]="filterClear.bind(this)" [collapsed]="false">
    <separator title="Dados Pessoais" collapse [collapsed]="true">
      <div class="row">
        <div class="col-6">
          <separator title="Residência">
            <div class="row">
              <input-select [size]="6" label="Estado" icon="fas fa-flag" controlName="estado" [control]="filter!.controls.estado" [items]="lookup.UF"></input-select>
              <input-select [size]="6" label="Cidade" icon="far fa-flag" controlName="cidade_id" [control]="filter!.controls.cidade_id" [dao]="cidadeDao" [where]="['uf', '==', filter!.controls.estado.value]"></input-select>
            </div>
          </separator>
        </div>
        <div class="col-6">
          <separator title="Estado Civil">
            <div class="row">
              <input-select [size]="9" label="Estado Civil" icon="fas fa-ring" controlName="estado_civil" [control]="filter!.controls.estado_civil" [items]="lookup.ESTADO_CIVIL"></input-select>
              <input-switch [size]="3" label="Possui Filhos?" icon="fas fa-child" controlName="filhos" [control]="filter!.controls.filhos"></input-switch>
            </div>
          </separator>
        </div>
      </div>
    </separator>
    <separator title="Conhecimento" collapse [collapsed]="true">
      <div class="row">
        <div class="col-4">
          <separator title="Idiomas">
            <div class="row">
              <input-select [size]="12" label="Idioma" icon="fas fa-language" controlName="idioma" [control]="filter!.controls.idioma" [items]="lookup.IDIOMAS"></input-select>
            </div>
          </separator>
        </div>
        <div class="col-8">
          <separator title="Formação Acadêmica">
            <div class="row">
              <input-select [size]="4" label="Área de conhecimento" icon="fas fa-user-graduate" controlName="area_conhecimento_id" [control]="filter!.controls.area_conhecimento_id" [dao]="areaDao" (change)="onAreaConhecimentoChange()"></input-select>
              <input-select [size]="4" label="Titulo" icon="bi bi-mortarboard-fill" controlName="titulo_id" [control]="filter!.controls.titulo_id" [items]="lookup.TITULOS_CURSOS" (change)="onTituloChange()"></input-select>
              <input-select [size]="4" label="Curso" icon="fas fa-graduation-cap" controlName="curso_id" [control]="filter!.controls.curso_id" [dao]="cursoDao" [where]="cursoWhere"></input-select>
            </div>
          </separator>
        </div>
      </div>
    </separator>
    <separator title="Dados Profissionais" collapse [collapsed]="true">
      <div class="row">
        <div class="col-6">
          <separator title="Experiência">
            <div class="row">
              <input-select [size]="6" label="Grupo especializado" icon="bi bi-award" controlName="grupo_especializado_id" [control]="filter!.controls.grupo_especializado_id" [dao]="grupoDao"></input-select>
              <input-select [size]="6" label="Função já exercida" icon="bi bi-hammer" controlName="funcao_id" [control]="filter!.controls.funcao_id" [dao]="funcaoDao"></input-select>
            </div>
          </separator>
        </div>
        <div class="col-6">
          <separator title="Hard Skills">
            <div class="row">
              <input-select [size]="6" label="Área técnica das capacidades" icon="fas fa-graduation-cap" controlName="area_tematica_id" [control]="filter!.controls.area_tematica_id" [dao]="areaTematicaDao" (change)="onAreaTematicaChange()"></input-select>
              <input-select [size]="6" label="Capacidades" icon="fas fa-graduation-cap" controlName="capacidade_tecnica_id" [control]="filter!.controls.capacidade_tecnica_id" [dao]="capacidadeTecnicaDao" [where]="areaTematicaWhere"></input-select>
            </div>
          </separator>
        </div>
      </div>
    </separator>
    <separator title="Atributos Comportamentais" collapse [collapsed]="true">
      <div class="row">
        <div class="col-6">
          <separator title="Soft Skills">
            <div class="row">
              
            </div>
          </separator>
        </div>
        <div class="col-6">
          <separator title="Mente">
            <div class="row">
              
            </div>
          </separator>
        </div>
      </div>
    </separator>
  </filter>
  <columns>
    <!--<column type="expand" icon="bi bi-person-bounding-box" [align]="'center'" [hint]="'Detalhamento'" [template]="columnDetalhamento" [expandTemplate]="columnExpandedDetalhamento">
    <column icon="bi bi-person-bounding-box" [align]="'center'" [hint]="'Detalhamento'" [template]="columnDetalhamento">
      <ng-template let-row="row" #columnDetalhamento>
        <span class="badge rounded-pill bg-light text-dark"></span>
      </ng-template>
      <<ng-template let-row="row" #columnExpandedDetalhamento>
       <curriculum-pesquisa-list-usuario [entity]="row"></curriculum-pesquisa-list-usuario>
      </ng-template>>
    </column-->
    <column [titleTemplate]="titleNome" [template]="columnNome">
      <ng-template let-header="header" #titleNome>
        <strong>Nome</strong>/<order by="" [header]="header">Ingresso</order><br>
        <small>E-mail</small>
      </ng-template>
      <ng-template let-row="row" #columnNome>
        <span class="text-nowrap d-block">
          {{row.curriculum.usuario.nome}}
          <badge color="gray">{{row.ano_ingresso}}</badge>
        </span>
        <span class="micro-text fw-ligh">{{row.curriculum.usuario.email}}</span>
      </ng-template>
    </column>
    <column [titleTemplate]="titleEstado" [template]="columnEstado">
      <ng-template let-header="header" #titleEstado>
        <strong>Cidade/Estado</strong>
      </ng-template>
      <ng-template let-row="row" #columnEstado>
        <span class="d-block">{{row.curriculum.cidade.nome}}/{{row.curriculum.cidade.uf}}</span>
      </ng-template>
    </column>
    <column title="Apresentação Pessoal" [template]="columnApresentacao">
      <ng-template let-row="row" #columnApresentacao>
        <span class="micro-text fw-ligh">{{row.curriculum.apresentacao}}</span>
      </ng-template>
    </column>
    <!--column title="Detalhes" [template]="columnDetalhes">
      <ng-template let-row="row" #columnDetalhes>
        <button class="btn btn-sm btn-outline-info me-2" (click)="showCurriculumDetalhes2(row)"><i class="bi bi-eye"></i></button>
      </ng-template>
    </column-->
    <column icon="bi bi-person-bounding-box" [align]="'center'" [hint]="'Detalhamento'" type="options" [onEdit]="edit.bind(this)" [dynamicButtons]="dynamicButtons.bind(this)"></column>
  </columns>
</grid>