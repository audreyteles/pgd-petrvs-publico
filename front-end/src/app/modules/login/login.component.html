<div *ngIf="error?.length" class="alert alert-danger mt-2" role="alert">
    {{error}}
</div>
<div class="row">
    <div *ngIf="!modalRoute" class="col-md-6 d-none d-md-block">
        <img [src]="globals.getResourcePath('assets/images/' + globals.IMAGES.login)" class="card-img-top" alt="Petrvs">
    </div>
    <div [class]="modalRoute ? 'col-md-12' : 'col-md-6'">
        <div class="row h-100 justify-content-center align-items-center">
            <div class="card login-container">
                <h5 class="card-title mt-2">Petrvs login</h5>
                <div *ngIf="globals.is('PRF'); else naoPRF" class="card-body">
                    <p class="card-text">Faça login com seu e-mail institucional ou pelo DPRF-Segurança</p>
                    <div id="gbtn"></div>
                    <!-- <div class="row mt-2">
                        <div *ngIf="!!googleApi.gapiAuth2" class="col-md-12 d-flex justify-content-center">
                            <a *ngIf="!auth.logging" class="btn btn-lg btn-google btn-block btn-full text-uppercase btn-outline" (click)="signInGoogle()"><img [src]="globals.getResourcePath('assets/images/google-logo.png')"> E-mail Institucional</a>
                            <div *ngIf="auth.logging" class="spinner-border spinner-border-sm" role="status"><span class="visually-hidden"></span></div>
                        </div>
                    </div> -->
                    <div class="or-container">
                        <div class="line-separator"></div>
                        <div class="or-label">ou</div>
                        <div class="line-separator"></div>
                    </div>
                    <!-- *ngIf="globals.hasLoginUnicoLogin" -->
                    <div class="row" class="card-body">
                        <button class="btn-primary" type="button">Entrar com&nbsp;<span class="text-black">gov.br</span>
                        </button>
                    </div>
                    <div class="or-container">
                        <div class="line-separator"></div>
                        <div class="or-label">ou</div>
                        <div class="line-separator"></div>
                    </div>
                    <div class="row" *ngIf="buttonDprfSeguranca; else dprfSeguranca">
                        <div class="col-md-12"><a class="btn btn-lg btn-google btn-block btn-full text-uppercase btn-outline" (click)="showDprfSeguranca()"><img [src]="globals.getResourcePath('assets/images/prf.ico')" width="20" height="20"> DPRF-Segurança</a></div>
                    </div>
                    <ng-template #dprfSeguranca>
                        <form [formGroup]="login">
                            <div class="form-group form-primary"><input-text controlName="usuario" maskFormat="000.000.000-00" placeholder="CPF"></input-text></div>
                            <div class="form-group form-primary"><input-text password controlName="senha" placeholder="Senha"></input-text></div>
                            <div class="form-group form-primary"><input-text controlName="token" maskFormat="000000" placeholder="Token"></input-text></div>
                            <div class="row">
                                <div class="col-md-12"><button class="btn btn-primary btn-md btn-block btn-full waves-effect text-center mb-2" (click)="signInDprfSeguranca()">Logar com DPRF</button></div>
                            </div>
                        </form>
                    </ng-template>
                </div>
                <ng-template #naoPRF>
                    <div *ngIf="globals.hasGoogleLogin" class="card-body">
                        <p class="card-text">Faça login com seu e-mail institucional</p>
                        <div id="gbtn"></div>
                        <!-- <div class="row mt-2">
                              <div *ngIf="!!googleApi.gapiAuth2" class="col-md-12 d-flex justify-content-center">
                            <a *ngIf="!auth.logging" class="btn btn-lg btn-google btn-block btn-full text-uppercase btn-outline" (click)="signInGoogle()"><img [src]="globals.getResourcePath('assets/images/google-logo.png')"> E-mail Institucional</a>
                            <div *ngIf="auth.logging" class="spinner-border spinner-border-sm" role="status"><span class="visually-hidden"></span></div> -->
                        <!-- </div>  -->
                    </div>
                    <!-- </div> -->
                    
                    <div *ngIf="globals.hasAzureLogin && globals.hasGoogleLogin" class="or-container">
                        <div class="line-separator"></div>
                        <div class="or-label">ou</div>
                        <div class="line-separator"></div>
                    </div>
                    <div class="row" class="card-body">
                        <button class="btn-primary" type="button">Entrar com&nbsp;<span class="text-black">gov.br</span></button>
                    </div>
                    <div class="or-container">
                        <div class="line-separator"></div>
                        <div class="or-label">ou</div>
                        <div class="line-separator"></div>
                    </div>
                    <div *ngIf="globals.hasAzureLogin" class="card-body">
                        <p *ngIf="!globals.hasGoogleLogin" class="card-text">Faça login com seu e-mail institucional</p>
                        <div class="row mt-2">
                            <div class="col-md-12 d-flex justify-content-center">
                                <a *ngIf="!auth.logging" class="btn btn-lg btn-google btn-block btn-full text-uppercase btn-outline" (click)="signInAzure()"><img [src]="globals.getResourcePath('assets/images/microsoft-logo.png')"> E-mail Institucional</a>
                                <div *ngIf="auth.logging" class="spinner-border spinner-border-sm" role="status"><span class="visually-hidden"></span></div>
                            </div>
                        </div>
                    </div>
                </ng-template>
            </div>
        </div>
    </div>
</div>