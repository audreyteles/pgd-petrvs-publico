<editable-form noButtons [form]="form!" [disabled]="formDisabled">
    <div class="row">
        <grid [items]="items" [form]="form!" [hasEdit]="true" [hasDelete]="true" [add]="addObjetivo.bind(this)" [load]="loadObjetivo.bind(this)" [remove]="removeObjetivo.bind(this)" 
              [save]="saveObjetivo.bind(this)" editable [groupTemplate]="groupEixoTematico" [join]="join" [groupBy]="groupBy">
            <ng-template let-separator="separator" #groupEixoTematico>
                <strong class="grid-group-text">Eixo Temático: </strong><span class="text-wrap"><badge color="primary" [label]="separator?.text"></badge></span>
            </ng-template>
            <columns>
                <column title="Nome" [template]="nome" [editTemplate]="editNome">
                    <ng-template let-row="row" #nome>
                        <span>{{ row.nome }}</span>
                    </ng-template>
                    <ng-template let-row="row" #editNome>
                        <input-text label="Nome" [size]="12" controlName="nome" [control]="form!.controls.nome"></input-text>
                    </ng-template>
                </column>
                <column title="Fundamentação" [template]="fundamentacao" [editTemplate]="editFundamentacao">
                    <ng-template let-row="row" #fundamentacao>
                        <span>{{ row.fundamentacao }}</span>
                    </ng-template>
                    <ng-template let-row="row" #editFundamentacao>
                        <input-textarea label="Fundamentação" [rows]="3" controlName="fundamentacao" [control]="form!.controls.fundamentacao"></input-textarea>
                    </ng-template>
                </column>
                <column title="Objetivo Superior" [template]="objetivoSuperior" [editTemplate]="editObjetivoSuperior">
                    <ng-template let-row="row" #objetivoSuperior>
                        <span>{{ row.objetivo_superior_id }}</span>
                    </ng-template>
                    <ng-template let-row="row" #editObjetivoSuperior>
                        <input-search [size]="6" label="Objetivos Superiores" icon="fab fa-unity" controlName="objetivo_superior_id" [control]="form!.controls.objetivo_superior_id" [dao]="planejamentoObjetivoDao" [selectRoute]="{route: ['cadastros', 'planejamento-objetivo']}"></input-search>                        
                    </ng-template>
                </column>
                <column title="Eixo Temático" [template]="eixoTematico" [editTemplate]="editEixoTematico">
                    <ng-template let-row="row" #eixoTematico>
                        <span>{{ row.eixo_tematico_id }}</span>
                    </ng-template>
                    <ng-template let-row="row" #editEixoTematico>
                        <input-search [size]="6" label="Eixos Temáticos" icon="fab fa-unity" controlName="eixo_tematico_id" [control]="form!.controls.eixo_tematico_id" [dao]="eixoTematicoDao" [selectRoute]="{route: ['cadastros', 'eixo-tematico'], params: {filter: {data_fim: null}}}"></input-search>                        
                    </ng-template>
                </column>
                <column type="options"></column>
            </columns>
        </grid>
    </div>
</editable-form>