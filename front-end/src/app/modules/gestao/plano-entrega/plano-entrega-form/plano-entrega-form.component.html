<editable-form [form]="form!" [disabled]="formDisabled" [title]="isModal ? '' : title" (submit)="onSaveData()" (cancel)="onCancel()">
    <div>
        <div class="row">
            <input-text [size]="6" label="Nome " icon="bi bi-textarea-t" controlName="nome" [control]="form!.controls.nome"></input-text>
            <input-datetime date [size]="3" label="Início" icon="bi bi-calendar-date" controlName="inicio" [control]="form!.controls.inicio" labelInfo="Início do Plano de Entregas"></input-datetime>
            <input-datetime date [size]="3" label="Fim" icon="bi bi-calendar-date" controlName="fim" [control]="form!.controls.fim" labelInfo="Fim do Plano de Entregas"></input-datetime>
        </div>
        <div  class="row">
            <input-search [size]="6" icon="far fa-edit" controlName="planejamento_id" label="Selecione o Planejamento da Unidade Instituidora vinculado" [dao]="planejamentoInstitucionalDao" [selectRoute]="{route: ['gestao', 'planejamento']}" ></input-search>
            <input-search [size]="6" icon="far fa-edit" controlName="cadiea_valor_id"label="Selecione a Cadeia de Valor vinculado" [dao]="cadeiaValorDao" [selectRoute]="{route: ['gestao', 'cadeia-valor']}"></input-search>    
        </div>    
        <div class="row">
           
        </div>
        <div class="row">
            <grid [form]="form!" [hasEdit]="true" [hasDelete]="true" [add]="" [load]="" [remove]="" 
                  [save]="" editable [groupTemplate]="groupEntregas" >
                <ng-template let-separator="separator" #groupEntregas>
                    <strong class="grid-group-text">Entregas: </strong><span class="text-wrap"><badge color="primary" [label]="separator?.text"></badge></span>
                </ng-template>
                <columns>
                    <column [title]="'Entrega/\nCliente'" [template]="columnEntregaCliente" [editTemplate]="editEntregaCliente">
                        <ng-template let-row="row" #columnEntregaCliente>
                            <span></span>
                        </ng-template>
                        <ng-template let-row="row" #editEntregaCliente>
                            <input-text label="Nome" [size]="6" controlName="nome" [control]="formEntregas!.controls.nome"></input-text>
                            <input-text label="Cliente" [size]="6" controlName="cliente" [control]="formEntregas!.controls.cliente"></input-text>
                        </ng-template>
                    </column>
                    <column [title]="'Data Início/\nData Fim'" [template]="columnDatas" [editTemplate]="editDatas">
                        <ng-template let-row="row" #columnDatas>
                            <span></span>
                        </ng-template>
                        <ng-template let-row="row" #editDatas>
                            <input-textarea label="Fundamentação" [rows]="3" controlName="fundamentacao" [control]="form!.controls.fundamentacao"></input-textarea>
                        </ng-template>
                    </column>
                    <column title="Indicador" [template]="columnIndicador" [editTemplate]="editIndicador">
                        <ng-template let-row="row" #columnIndicador>
                            <span></span>
                        </ng-template>
                        <ng-template let-row="row" #editIndicador>
                            <input-search [size]="6" label="Indicador"  controlName="objetivo_superior_id" [control]="form!.controls.objetivo_superior_id" ></input-search>                        
                        </ng-template>
                    </column>
                    <column title="Meta Geral" [template]="eixoTematico" [editTemplate]="editEixoTematico">
                        <ng-template let-row="row" #eixoTematico>
                            <span></span>
                        </ng-template>
                        <ng-template let-row="row" #editEixoTematico>
                            <input-search [size]="6" label="Eixos Temáticos" icon="fab fa-unity" controlName="eixo_tematico_id" [control]="form!.controls.eixo_tematico_id"></input-search>                        
                        </ng-template>
                    </column>
                    <column title="Realizado" [template]="eixoTematico" [editTemplate]="editEixoTematico">
                        <ng-template let-row="row" #eixoTematico>
                            <span></span>
                        </ng-template>
                        <ng-template let-row="row" #editEixoTematico>
                            <input-search [size]="6" label="Eixos Temáticos" icon="fab fa-unity" controlName="eixo_tematico_id" [control]="form!.controls.eixo_tematico_id"></input-search>                        
                        </ng-template>
                    </column>
                    <column title="Objetivos/Processos/Atividades" [template]="eixoTematico" [editTemplate]="editEixoTematico">
                        <ng-template let-row="row" #eixoTematico>
                            <span></span>
                        </ng-template>
                        <ng-template let-row="row" #editEixoTematico>
                            <input-search [size]="6" label="Eixos Temáticos" icon="fab fa-unity" controlName="eixo_tematico_id" [control]="form!.controls.eixo_tematico_id" ></input-search>                        
                        </ng-template>
                    </column>
                    <column icon="bi bi-check-lg" titleHint="Se a entrega foi homologada" [template]="eixoTematico" [editTemplate]="editEixoTematico">
                        <ng-template let-row="row" #eixoTematico>
                            <span></span>
                        </ng-template>
                        <ng-template let-row="row" #editEixoTematico>
                            <input-search [size]="6" label="Eixos Temáticos" icon="fab fa-unity" controlName="eixo_tematico_id" [control]="form!.controls.eixo_tematico_id" ></input-search>                        
                        </ng-template>
                    </column>
                    <column type="options"></column>
                </columns>
            </grid>
        </div>
    </div>
</editable-form>

