<editable-form [form]="form!" [disabled]="formDisabled" [title]="isModal ? '' : title" (submit)="onSaveData()" (cancel)="onCancel()">
    <tabs #tabs display right [title]="!isModal ? title : ''">
        <tab key="ENTREGAS" label="Entregas">
            <div class="row">
                <div class="row">
                    <input-search [size]="12" [label]="'Entrega Superior'" controlName="entrega_pai_id" [dao]="planoEntregaEntregaDao"></input-search>
                </div>
                <separator></separator>
                <div class="row">
                    <input-search #entrega [size]="6" controlName="entrega_id" [dao]="entregaDao"></input-search>
                    <input-text [size]="6" label="Descrição da Entrega" controlName="descricao"></input-text>
                </div>
                <separator title="Especificação das Entregas"></separator>
                <div class="row">
                    <input-datetime date [size]="6" label="Início" controlName="inicio" [labelInfo]="'Início ' + lex.noun('Plano de Entregas',false,true)"></input-datetime>
                    <input-datetime date [size]="6" label="Fim" controlName="fim" [labelInfo]="'Fim ' + lex.noun('Plano de Entregas',false,true) + '(Estimativa Inicial)'"></input-datetime>
                </div>
                <div class="row">
                    <input-search [size]="6" label="Demandante" controlName="unidade_id" [dao]="unidadeDao"></input-search>
                    <input-text [size]="6" label="Destinatário" controlName="destinatario"></input-text>
                </div>
                <div class="row">
                    <input-number [size]="6" label="Meta" controlName="meta" sufix="%"></input-number>
                    <input-number *ngIf="checkTipoIndicador(['PORCENTAGEM'])" [size]="6" label="Meta" controlName="meta" sufix="%"></input-number>
                    <input-number *ngIf="checkTipoIndicador(['QUANTIDADE', 'VALOR'])" [size]="6" label="Meta" controlName="meta"></input-number>
                    <input-select *ngIf="checkTipoIndicador(['QUALITATIVO'])" [size]="6" label="Meta" controlName="meta"></input-select>
                    <input-number [size]="6" label="Realizado" controlName="realizado"></input-number>
                </div>
                <div class="row">
                    <input-number [size]="6" label="Progresso Esperado" controlName="progresso_esperado" sufix="%"></input-number>
                    <input-number [size]="6" label="Progresso Realizado" controlName="progresso_realizado" sufix="%"></input-number>
                </div>
            </div>
        </tab>
        <!-- *ngIf="checkFilled(['planejamento_id'])" -->
        <tab key="OBJETIVOS" label="Objetivos">
            <planejamento-list-objetivos-entregas [planejamentoId]="planejamentoId"></planejamento-list-objetivos-entregas>
        </tab>
        <!-- *ngIf="checkFilled(['cadeia_valor_id'])" -->
        <tab key="PROCESSOS" label="Processos">
            <cadeia-valor-list-processos-entregas [cadeiaValorId]="cadeiaValorId"></cadeia-valor-list-processos-entregas>
        </tab>
    </tabs>
</editable-form>
